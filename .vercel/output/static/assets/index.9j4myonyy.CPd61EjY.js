var n3=Object.defineProperty;var s3=(e,t,r)=>t in e?n3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Me=(e,t,r)=>s3(e,typeof t!="symbol"?t+"":t,r);function a3(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const i3="modulepreload",o3=function(e){return"/"+e},k1={},qs=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=o3(c),c in k1)return;k1[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":i3,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};var nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ze(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function l3(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var _k={exports:{}},dp={},Ek={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od=Symbol.for("react.element"),c3=Symbol.for("react.portal"),u3=Symbol.for("react.fragment"),d3=Symbol.for("react.strict_mode"),f3=Symbol.for("react.profiler"),h3=Symbol.for("react.provider"),m3=Symbol.for("react.context"),p3=Symbol.for("react.forward_ref"),g3=Symbol.for("react.suspense"),v3=Symbol.for("react.memo"),x3=Symbol.for("react.lazy"),A1=Symbol.iterator;function y3(e){return e===null||typeof e!="object"?null:(e=A1&&e[A1]||e["@@iterator"],typeof e=="function"?e:null)}var Pk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kk=Object.assign,Ak={};function Gl(e,t,r){this.props=e,this.context=t,this.refs=Ak,this.updater=r||Pk}Gl.prototype.isReactComponent={};Gl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ck(){}Ck.prototype=Gl.prototype;function Pb(e,t,r){this.props=e,this.context=t,this.refs=Ak,this.updater=r||Pk}var kb=Pb.prototype=new Ck;kb.constructor=Pb;kk(kb,Gl.prototype);kb.isPureReactComponent=!0;var C1=Array.isArray,Ok=Object.prototype.hasOwnProperty,Ab={current:null},Tk={key:!0,ref:!0,__self:!0,__source:!0};function Ik(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ok.call(t,n)&&!Tk.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Od,type:e,key:i,ref:o,props:a,_owner:Ab.current}}function b3(e,t){return{$$typeof:Od,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Od}function w3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var O1=/\/+/g;function Kg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?w3(""+e.key):t.toString(36)}function th(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Od:case c3:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Kg(o,0):n,C1(a)?(r="",e!=null&&(r=e.replace(O1,"$&/")+"/"),th(a,t,r,"",function(u){return u})):a!=null&&(Cb(a)&&(a=b3(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(O1,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",C1(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Kg(i,l);o+=th(i,t,r,c,a)}else if(c=y3(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Kg(i,l++),o+=th(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function nf(e,t,r){if(e==null)return e;var n=[],a=0;return th(e,n,"","",function(i){return t.call(r,i,a++)}),n}function j3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pr={current:null},rh={transition:null},N3={ReactCurrentDispatcher:pr,ReactCurrentBatchConfig:rh,ReactCurrentOwner:Ab};function $k(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:nf,forEach:function(e,t,r){nf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return nf(e,function(){t++}),t},toArray:function(e){return nf(e,function(t){return t})||[]},only:function(e){if(!Cb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Oe.Component=Gl;Oe.Fragment=u3;Oe.Profiler=f3;Oe.PureComponent=Pb;Oe.StrictMode=d3;Oe.Suspense=g3;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N3;Oe.act=$k;Oe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=kk({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ab.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Ok.call(t,c)&&!Tk.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Od,type:e.type,key:a,ref:i,props:n,_owner:o}};Oe.createContext=function(e){return e={$$typeof:m3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:h3,_context:e},e.Consumer=e};Oe.createElement=Ik;Oe.createFactory=function(e){var t=Ik.bind(null,e);return t.type=e,t};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(e){return{$$typeof:p3,render:e}};Oe.isValidElement=Cb;Oe.lazy=function(e){return{$$typeof:x3,_payload:{_status:-1,_result:e},_init:j3}};Oe.memo=function(e,t){return{$$typeof:v3,type:e,compare:t===void 0?null:t}};Oe.startTransition=function(e){var t=rh.transition;rh.transition={};try{e()}finally{rh.transition=t}};Oe.unstable_act=$k;Oe.useCallback=function(e,t){return pr.current.useCallback(e,t)};Oe.useContext=function(e){return pr.current.useContext(e)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(e){return pr.current.useDeferredValue(e)};Oe.useEffect=function(e,t){return pr.current.useEffect(e,t)};Oe.useId=function(){return pr.current.useId()};Oe.useImperativeHandle=function(e,t,r){return pr.current.useImperativeHandle(e,t,r)};Oe.useInsertionEffect=function(e,t){return pr.current.useInsertionEffect(e,t)};Oe.useLayoutEffect=function(e,t){return pr.current.useLayoutEffect(e,t)};Oe.useMemo=function(e,t){return pr.current.useMemo(e,t)};Oe.useReducer=function(e,t,r){return pr.current.useReducer(e,t,r)};Oe.useRef=function(e){return pr.current.useRef(e)};Oe.useState=function(e){return pr.current.useState(e)};Oe.useSyncExternalStore=function(e,t,r){return pr.current.useSyncExternalStore(e,t,r)};Oe.useTransition=function(){return pr.current.useTransition()};Oe.version="18.3.1";Ek.exports=Oe;var b=Ek.exports;const P=ze(b),Ob=a3({__proto__:null,default:P},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S3=b,_3=Symbol.for("react.element"),E3=Symbol.for("react.fragment"),P3=Object.prototype.hasOwnProperty,k3=S3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A3={key:!0,ref:!0,__self:!0,__source:!0};function Rk(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)P3.call(t,n)&&!A3.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:_3,type:e,key:i,ref:o,props:a,_owner:k3.current}}dp.Fragment=E3;dp.jsx=Rk;dp.jsxs=Rk;_k.exports=dp;var s=_k.exports,Mk={exports:{}},Jr={},Dk={exports:{}},Lk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,$){var K=T.length;T.push($);e:for(;0<K;){var Y=K-1>>>1,G=T[Y];if(0<a(G,$))T[Y]=$,T[K]=G,K=Y;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var $=T[0],K=T.pop();if(K!==$){T[0]=K;e:for(var Y=0,G=T.length,Q=G>>>1;Y<Q;){var oe=2*(Y+1)-1,ge=T[oe],Ie=oe+1,te=T[Ie];if(0>a(ge,K))Ie<G&&0>a(te,ge)?(T[Y]=te,T[Ie]=K,Y=Ie):(T[Y]=ge,T[oe]=K,Y=oe);else if(Ie<G&&0>a(te,K))T[Y]=te,T[Ie]=K,Y=Ie;else break e}}return $}function a(T,$){var K=T.sortIndex-$.sortIndex;return K!==0?K:T.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,d=null,h=3,m=!1,v=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=T)n(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=r(u)}}function S(T){if(p=!1,w(T),!v)if(r(c)!==null)v=!0,D(j);else{var $=r(u);$!==null&&z(S,$.startTime-T)}}function j(T,$){v=!1,p&&(p=!1,g(E),E=-1),m=!0;var K=h;try{for(w($),d=r(c);d!==null&&(!(d.expirationTime>$)||T&&!O());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var G=Y(d.expirationTime<=$);$=e.unstable_now(),typeof G=="function"?d.callback=G:d===r(c)&&n(c),w($)}else n(c);d=r(c)}if(d!==null)var Q=!0;else{var oe=r(u);oe!==null&&z(S,oe.startTime-$),Q=!1}return Q}finally{d=null,h=K,m=!1}}var N=!1,_=null,E=-1,k=5,A=-1;function O(){return!(e.unstable_now()-A<k)}function C(){if(_!==null){var T=e.unstable_now();A=T;var $=!0;try{$=_(!0,T)}finally{$?M():(N=!1,_=null)}}else N=!1}var M;if(typeof y=="function")M=function(){y(C)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,L=U.port2;U.port1.onmessage=C,M=function(){L.postMessage(null)}}else M=function(){x(C,0)};function D(T){_=T,N||(N=!0,M())}function z(T,$){E=x(function(){T(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,D(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var K=h;h=$;try{return T()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,$){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var K=h;h=T;try{return $()}finally{h=K}},e.unstable_scheduleCallback=function(T,$,K){var Y=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Y+K:Y):K=Y,T){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=K+G,T={id:f++,callback:$,priorityLevel:T,startTime:K,expirationTime:G,sortIndex:-1},K>Y?(T.sortIndex=K,t(u,T),r(c)===null&&T===r(u)&&(p?(g(E),E=-1):p=!0,z(S,K-Y))):(T.sortIndex=G,t(c,T),v||m||(v=!0,D(j))),T},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(T){var $=h;return function(){var K=h;h=$;try{return T.apply(this,arguments)}finally{h=K}}}})(Lk);Dk.exports=Lk;var C3=Dk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O3=b,Yr=C3;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uk=new Set,Eu={};function ro(e,t){cl(e,t),cl(e+"Capture",t)}function cl(e,t){for(Eu[e]=t,e=0;e<t.length;e++)Uk.add(t[e])}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bx=Object.prototype.hasOwnProperty,T3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T1={},I1={};function I3(e){return bx.call(I1,e)?!0:bx.call(T1,e)?!1:T3.test(e)?I1[e]=!0:(T1[e]=!0,!1)}function $3(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R3(e,t,r,n){if(t===null||typeof t>"u"||$3(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gr(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xt[e]=new gr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xt[t]=new gr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xt[e]=new gr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xt[e]=new gr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xt[e]=new gr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xt[e]=new gr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xt[e]=new gr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xt[e]=new gr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xt[e]=new gr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tb=/[\-:]([a-z])/g;function Ib(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tb,Ib);Xt[t]=new gr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tb,Ib);Xt[t]=new gr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tb,Ib);Xt[t]=new gr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xt[e]=new gr(e,1,!1,e.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xt[e]=new gr(e,1,!1,e.toLowerCase(),null,!0,!0)});function $b(e,t,r,n){var a=Xt.hasOwnProperty(t)?Xt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R3(t,r,a,n)&&(r=null),n||a===null?I3(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ks=O3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sf=Symbol.for("react.element"),To=Symbol.for("react.portal"),Io=Symbol.for("react.fragment"),Rb=Symbol.for("react.strict_mode"),wx=Symbol.for("react.profiler"),Bk=Symbol.for("react.provider"),Fk=Symbol.for("react.context"),Mb=Symbol.for("react.forward_ref"),jx=Symbol.for("react.suspense"),Nx=Symbol.for("react.suspense_list"),Db=Symbol.for("react.memo"),ua=Symbol.for("react.lazy"),zk=Symbol.for("react.offscreen"),$1=Symbol.iterator;function _c(e){return e===null||typeof e!="object"?null:(e=$1&&e[$1]||e["@@iterator"],typeof e=="function"?e:null)}var pt=Object.assign,Hg;function Xc(e){if(Hg===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Hg=t&&t[1]||""}return`
`+Hg+e}var Gg=!1;function Yg(e,t){if(!e||Gg)return"";Gg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Gg=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Xc(e):""}function M3(e){switch(e.tag){case 5:return Xc(e.type);case 16:return Xc("Lazy");case 13:return Xc("Suspense");case 19:return Xc("SuspenseList");case 0:case 2:case 15:return e=Yg(e.type,!1),e;case 11:return e=Yg(e.type.render,!1),e;case 1:return e=Yg(e.type,!0),e;default:return""}}function Sx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Io:return"Fragment";case To:return"Portal";case wx:return"Profiler";case Rb:return"StrictMode";case jx:return"Suspense";case Nx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fk:return(e.displayName||"Context")+".Consumer";case Bk:return(e._context.displayName||"Context")+".Provider";case Mb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Db:return t=e.displayName||null,t!==null?t:Sx(e.type)||"Memo";case ua:t=e._payload,e=e._init;try{return Sx(e(t))}catch{}}return null}function D3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sx(t);case 8:return t===Rb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ra(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function L3(e){var t=Vk(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function af(e){e._valueTracker||(e._valueTracker=L3(e))}function Wk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Vk(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Nh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _x(e,t){var r=t.checked;return pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function R1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ra(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qk(e,t){t=t.checked,t!=null&&$b(e,"checked",t,!1)}function Ex(e,t){qk(e,t);var r=Ra(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Px(e,t.type,r):t.hasOwnProperty("defaultValue")&&Px(e,t.type,Ra(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function M1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Px(e,t,r){(t!=="number"||Nh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zc=Array.isArray;function Yo(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ra(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function kx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function D1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(X(92));if(Zc(r)){if(1<r.length)throw Error(X(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ra(r)}}function Kk(e,t){var r=Ra(t.value),n=Ra(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function L1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ax(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var of,Gk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(of=of||document.createElement("div"),of.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=of.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var su={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U3=["Webkit","ms","Moz","O"];Object.keys(su).forEach(function(e){U3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),su[t]=su[e]})});function Yk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||su.hasOwnProperty(e)&&su[e]?(""+t).trim():t+"px"}function Jk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Yk(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var B3=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cx(e,t){if(t){if(B3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function Ox(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tx=null;function Lb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ix=null,Jo=null,Xo=null;function U1(e){if(e=$d(e)){if(typeof Ix!="function")throw Error(X(280));var t=e.stateNode;t&&(t=gp(t),Ix(e.stateNode,e.type,t))}}function Xk(e){Jo?Xo?Xo.push(e):Xo=[e]:Jo=e}function Zk(){if(Jo){var e=Jo,t=Xo;if(Xo=Jo=null,U1(e),t)for(e=0;e<t.length;e++)U1(t[e])}}function Qk(e,t){return e(t)}function eA(){}var Jg=!1;function tA(e,t,r){if(Jg)return e(t,r);Jg=!0;try{return Qk(e,t,r)}finally{Jg=!1,(Jo!==null||Xo!==null)&&(eA(),Zk())}}function ku(e,t){var r=e.stateNode;if(r===null)return null;var n=gp(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(X(231,t,typeof r));return r}var $x=!1;if(Rs)try{var Ec={};Object.defineProperty(Ec,"passive",{get:function(){$x=!0}}),window.addEventListener("test",Ec,Ec),window.removeEventListener("test",Ec,Ec)}catch{$x=!1}function F3(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var au=!1,Sh=null,_h=!1,Rx=null,z3={onError:function(e){au=!0,Sh=e}};function V3(e,t,r,n,a,i,o,l,c){au=!1,Sh=null,F3.apply(z3,arguments)}function W3(e,t,r,n,a,i,o,l,c){if(V3.apply(this,arguments),au){if(au){var u=Sh;au=!1,Sh=null}else throw Error(X(198));_h||(_h=!0,Rx=u)}}function no(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function rA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function B1(e){if(no(e)!==e)throw Error(X(188))}function q3(e){var t=e.alternate;if(!t){if(t=no(e),t===null)throw Error(X(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return B1(a),e;if(i===n)return B1(a),t;i=i.sibling}throw Error(X(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?e:t}function nA(e){return e=q3(e),e!==null?sA(e):null}function sA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sA(e);if(t!==null)return t;e=e.sibling}return null}var aA=Yr.unstable_scheduleCallback,F1=Yr.unstable_cancelCallback,K3=Yr.unstable_shouldYield,H3=Yr.unstable_requestPaint,wt=Yr.unstable_now,G3=Yr.unstable_getCurrentPriorityLevel,Ub=Yr.unstable_ImmediatePriority,iA=Yr.unstable_UserBlockingPriority,Eh=Yr.unstable_NormalPriority,Y3=Yr.unstable_LowPriority,oA=Yr.unstable_IdlePriority,fp=null,ss=null;function J3(e){if(ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(fp,e,void 0,(e.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:Q3,X3=Math.log,Z3=Math.LN2;function Q3(e){return e>>>=0,e===0?32:31-(X3(e)/Z3|0)|0}var lf=64,cf=4194304;function Qc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ph(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Qc(l):(i&=o,i!==0&&(n=Qc(i)))}else o=r&~a,o!==0?n=Qc(o):i!==0&&(n=Qc(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Mn(t),a=1<<r,n|=e[r],t&=~a;return n}function eD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tD(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Mn(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=eD(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Mx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lA(){var e=lf;return lf<<=1,!(lf&4194240)&&(lf=64),e}function Xg(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Td(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mn(t),e[t]=r}function rD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Mn(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Bb(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Mn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ve=0;function cA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uA,Fb,dA,fA,hA,Dx=!1,uf=[],ja=null,Na=null,Sa=null,Au=new Map,Cu=new Map,ha=[],nD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function z1(e,t){switch(e){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":Au.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(t.pointerId)}}function Pc(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=$d(t),t!==null&&Fb(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function sD(e,t,r,n,a){switch(t){case"focusin":return ja=Pc(ja,e,t,r,n,a),!0;case"dragenter":return Na=Pc(Na,e,t,r,n,a),!0;case"mouseover":return Sa=Pc(Sa,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Au.set(i,Pc(Au.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Cu.set(i,Pc(Cu.get(i)||null,e,t,r,n,a)),!0}return!1}function mA(e){var t=bi(e.target);if(t!==null){var r=no(t);if(r!==null){if(t=r.tag,t===13){if(t=rA(r),t!==null){e.blockedOn=t,hA(e.priority,function(){dA(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Lx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Tx=n,r.target.dispatchEvent(n),Tx=null}else return t=$d(r),t!==null&&Fb(t),e.blockedOn=r,!1;t.shift()}return!0}function V1(e,t,r){nh(e)&&r.delete(t)}function aD(){Dx=!1,ja!==null&&nh(ja)&&(ja=null),Na!==null&&nh(Na)&&(Na=null),Sa!==null&&nh(Sa)&&(Sa=null),Au.forEach(V1),Cu.forEach(V1)}function kc(e,t){e.blockedOn===t&&(e.blockedOn=null,Dx||(Dx=!0,Yr.unstable_scheduleCallback(Yr.unstable_NormalPriority,aD)))}function Ou(e){function t(a){return kc(a,e)}if(0<uf.length){kc(uf[0],e);for(var r=1;r<uf.length;r++){var n=uf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ja!==null&&kc(ja,e),Na!==null&&kc(Na,e),Sa!==null&&kc(Sa,e),Au.forEach(t),Cu.forEach(t),r=0;r<ha.length;r++)n=ha[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ha.length&&(r=ha[0],r.blockedOn===null);)mA(r),r.blockedOn===null&&ha.shift()}var Zo=Ks.ReactCurrentBatchConfig,kh=!0;function iD(e,t,r,n){var a=Ve,i=Zo.transition;Zo.transition=null;try{Ve=1,zb(e,t,r,n)}finally{Ve=a,Zo.transition=i}}function oD(e,t,r,n){var a=Ve,i=Zo.transition;Zo.transition=null;try{Ve=4,zb(e,t,r,n)}finally{Ve=a,Zo.transition=i}}function zb(e,t,r,n){if(kh){var a=Lx(e,t,r,n);if(a===null)ov(e,t,n,Ah,r),z1(e,n);else if(sD(a,e,t,r,n))n.stopPropagation();else if(z1(e,n),t&4&&-1<nD.indexOf(e)){for(;a!==null;){var i=$d(a);if(i!==null&&uA(i),i=Lx(e,t,r,n),i===null&&ov(e,t,n,Ah,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else ov(e,t,n,null,r)}}var Ah=null;function Lx(e,t,r,n){if(Ah=null,e=Lb(n),e=bi(e),e!==null)if(t=no(e),t===null)e=null;else if(r=t.tag,r===13){if(e=rA(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ah=e,null}function pA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(G3()){case Ub:return 1;case iA:return 4;case Eh:case Y3:return 16;case oA:return 536870912;default:return 16}default:return 16}}var va=null,Vb=null,sh=null;function gA(){if(sh)return sh;var e,t=Vb,r=t.length,n,a="value"in va?va.value:va.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return sh=a.slice(e,1<n?1-n:void 0)}function ah(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function df(){return!0}function W1(){return!1}function Xr(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?df:W1,this.isPropagationStopped=W1,this}return pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=df)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=df)},persist:function(){},isPersistent:df}),t}var Yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wb=Xr(Yl),Id=pt({},Yl,{view:0,detail:0}),lD=Xr(Id),Zg,Qg,Ac,hp=pt({},Id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ac&&(Ac&&e.type==="mousemove"?(Zg=e.screenX-Ac.screenX,Qg=e.screenY-Ac.screenY):Qg=Zg=0,Ac=e),Zg)},movementY:function(e){return"movementY"in e?e.movementY:Qg}}),q1=Xr(hp),cD=pt({},hp,{dataTransfer:0}),uD=Xr(cD),dD=pt({},Id,{relatedTarget:0}),ev=Xr(dD),fD=pt({},Yl,{animationName:0,elapsedTime:0,pseudoElement:0}),hD=Xr(fD),mD=pt({},Yl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pD=Xr(mD),gD=pt({},Yl,{data:0}),K1=Xr(gD),vD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yD[e])?!!t[e]:!1}function qb(){return bD}var wD=pt({},Id,{key:function(e){if(e.key){var t=vD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ah(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qb,charCode:function(e){return e.type==="keypress"?ah(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ah(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jD=Xr(wD),ND=pt({},hp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H1=Xr(ND),SD=pt({},Id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qb}),_D=Xr(SD),ED=pt({},Yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),PD=Xr(ED),kD=pt({},hp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AD=Xr(kD),CD=[9,13,27,32],Kb=Rs&&"CompositionEvent"in window,iu=null;Rs&&"documentMode"in document&&(iu=document.documentMode);var OD=Rs&&"TextEvent"in window&&!iu,vA=Rs&&(!Kb||iu&&8<iu&&11>=iu),G1=" ",Y1=!1;function xA(e,t){switch(e){case"keyup":return CD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $o=!1;function TD(e,t){switch(e){case"compositionend":return yA(t);case"keypress":return t.which!==32?null:(Y1=!0,G1);case"textInput":return e=t.data,e===G1&&Y1?null:e;default:return null}}function ID(e,t){if($o)return e==="compositionend"||!Kb&&xA(e,t)?(e=gA(),sh=Vb=va=null,$o=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vA&&t.locale!=="ko"?null:t.data;default:return null}}var $D={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$D[e.type]:t==="textarea"}function bA(e,t,r,n){Xk(n),t=Ch(t,"onChange"),0<t.length&&(r=new Wb("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ou=null,Tu=null;function RD(e){OA(e,0)}function mp(e){var t=Do(e);if(Wk(t))return e}function MD(e,t){if(e==="change")return t}var wA=!1;if(Rs){var tv;if(Rs){var rv="oninput"in document;if(!rv){var X1=document.createElement("div");X1.setAttribute("oninput","return;"),rv=typeof X1.oninput=="function"}tv=rv}else tv=!1;wA=tv&&(!document.documentMode||9<document.documentMode)}function Z1(){ou&&(ou.detachEvent("onpropertychange",jA),Tu=ou=null)}function jA(e){if(e.propertyName==="value"&&mp(Tu)){var t=[];bA(t,Tu,e,Lb(e)),tA(RD,t)}}function DD(e,t,r){e==="focusin"?(Z1(),ou=t,Tu=r,ou.attachEvent("onpropertychange",jA)):e==="focusout"&&Z1()}function LD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mp(Tu)}function UD(e,t){if(e==="click")return mp(t)}function BD(e,t){if(e==="input"||e==="change")return mp(t)}function FD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bn=typeof Object.is=="function"?Object.is:FD;function Iu(e,t){if(Bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!bx.call(t,a)||!Bn(e[a],t[a]))return!1}return!0}function Q1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eN(e,t){var r=Q1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Q1(r)}}function NA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?NA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function SA(){for(var e=window,t=Nh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Nh(e.document)}return t}function Hb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zD(e){var t=SA(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&NA(r.ownerDocument.documentElement,r)){if(n!==null&&Hb(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=eN(r,i);var o=eN(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VD=Rs&&"documentMode"in document&&11>=document.documentMode,Ro=null,Ux=null,lu=null,Bx=!1;function tN(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bx||Ro==null||Ro!==Nh(n)||(n=Ro,"selectionStart"in n&&Hb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),lu&&Iu(lu,n)||(lu=n,n=Ch(Ux,"onSelect"),0<n.length&&(t=new Wb("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ro)))}function ff(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Mo={animationend:ff("Animation","AnimationEnd"),animationiteration:ff("Animation","AnimationIteration"),animationstart:ff("Animation","AnimationStart"),transitionend:ff("Transition","TransitionEnd")},nv={},_A={};Rs&&(_A=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function pp(e){if(nv[e])return nv[e];if(!Mo[e])return e;var t=Mo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _A)return nv[e]=t[r];return e}var EA=pp("animationend"),PA=pp("animationiteration"),kA=pp("animationstart"),AA=pp("transitionend"),CA=new Map,rN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ba(e,t){CA.set(e,t),ro(t,[e])}for(var sv=0;sv<rN.length;sv++){var av=rN[sv],WD=av.toLowerCase(),qD=av[0].toUpperCase()+av.slice(1);Ba(WD,"on"+qD)}Ba(EA,"onAnimationEnd");Ba(PA,"onAnimationIteration");Ba(kA,"onAnimationStart");Ba("dblclick","onDoubleClick");Ba("focusin","onFocus");Ba("focusout","onBlur");Ba(AA,"onTransitionEnd");cl("onMouseEnter",["mouseout","mouseover"]);cl("onMouseLeave",["mouseout","mouseover"]);cl("onPointerEnter",["pointerout","pointerover"]);cl("onPointerLeave",["pointerout","pointerover"]);ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KD=new Set("cancel close invalid load scroll toggle".split(" ").concat(eu));function nN(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,W3(n,t,void 0,e),e.currentTarget=null}function OA(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;nN(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;nN(a,l,u),i=c}}}if(_h)throw e=Rx,_h=!1,Rx=null,e}function st(e,t){var r=t[qx];r===void 0&&(r=t[qx]=new Set);var n=e+"__bubble";r.has(n)||(TA(t,e,2,!1),r.add(n))}function iv(e,t,r){var n=0;t&&(n|=4),TA(r,e,n,t)}var hf="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[hf]){e[hf]=!0,Uk.forEach(function(r){r!=="selectionchange"&&(KD.has(r)||iv(r,!1,e),iv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hf]||(t[hf]=!0,iv("selectionchange",!1,t))}}function TA(e,t,r,n){switch(pA(t)){case 1:var a=iD;break;case 4:a=oD;break;default:a=zb}r=a.bind(null,t,r,e),a=void 0,!$x||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function ov(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=bi(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}tA(function(){var u=i,f=Lb(r),d=[];e:{var h=CA.get(e);if(h!==void 0){var m=Wb,v=e;switch(e){case"keypress":if(ah(r)===0)break e;case"keydown":case"keyup":m=jD;break;case"focusin":v="focus",m=ev;break;case"focusout":v="blur",m=ev;break;case"beforeblur":case"afterblur":m=ev;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=q1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=uD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_D;break;case EA:case PA:case kA:m=hD;break;case AA:m=PD;break;case"scroll":m=lD;break;case"wheel":m=AD;break;case"copy":case"cut":case"paste":m=pD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=H1}var p=(t&4)!==0,x=!p&&e==="scroll",g=p?h!==null?h+"Capture":null:h;p=[];for(var y=u,w;y!==null;){w=y;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,g!==null&&(S=ku(y,g),S!=null&&p.push(Ru(y,S,w)))),x)break;y=y.return}0<p.length&&(h=new m(h,v,null,r,f),d.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Tx&&(v=r.relatedTarget||r.fromElement)&&(bi(v)||v[Ms]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?bi(v):null,v!==null&&(x=no(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(p=q1,S="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=H1,S="onPointerLeave",g="onPointerEnter",y="pointer"),x=m==null?h:Do(m),w=v==null?h:Do(v),h=new p(S,y+"leave",m,r,f),h.target=x,h.relatedTarget=w,S=null,bi(f)===u&&(p=new p(g,y+"enter",v,r,f),p.target=w,p.relatedTarget=x,S=p),x=S,m&&v)t:{for(p=m,g=v,y=0,w=p;w;w=po(w))y++;for(w=0,S=g;S;S=po(S))w++;for(;0<y-w;)p=po(p),y--;for(;0<w-y;)g=po(g),w--;for(;y--;){if(p===g||g!==null&&p===g.alternate)break t;p=po(p),g=po(g)}p=null}else p=null;m!==null&&sN(d,h,m,p,!1),v!==null&&x!==null&&sN(d,x,v,p,!0)}}e:{if(h=u?Do(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=MD;else if(J1(h))if(wA)j=BD;else{j=LD;var N=DD}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=UD);if(j&&(j=j(e,u))){bA(d,j,r,f);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Px(h,"number",h.value)}switch(N=u?Do(u):window,e){case"focusin":(J1(N)||N.contentEditable==="true")&&(Ro=N,Ux=u,lu=null);break;case"focusout":lu=Ux=Ro=null;break;case"mousedown":Bx=!0;break;case"contextmenu":case"mouseup":case"dragend":Bx=!1,tN(d,r,f);break;case"selectionchange":if(VD)break;case"keydown":case"keyup":tN(d,r,f)}var _;if(Kb)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else $o?xA(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(vA&&r.locale!=="ko"&&($o||E!=="onCompositionStart"?E==="onCompositionEnd"&&$o&&(_=gA()):(va=f,Vb="value"in va?va.value:va.textContent,$o=!0)),N=Ch(u,E),0<N.length&&(E=new K1(E,e,null,r,f),d.push({event:E,listeners:N}),_?E.data=_:(_=yA(r),_!==null&&(E.data=_)))),(_=OD?TD(e,r):ID(e,r))&&(u=Ch(u,"onBeforeInput"),0<u.length&&(f=new K1("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=_))}OA(d,t)})}function Ru(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ch(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ku(e,r),i!=null&&n.unshift(Ru(e,i,a)),i=ku(e,t),i!=null&&n.push(Ru(e,i,a))),e=e.return}return n}function po(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sN(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=ku(r,i),c!=null&&o.unshift(Ru(r,c,l))):a||(c=ku(r,i),c!=null&&o.push(Ru(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var HD=/\r\n?/g,GD=/\u0000|\uFFFD/g;function aN(e){return(typeof e=="string"?e:""+e).replace(HD,`
`).replace(GD,"")}function mf(e,t,r){if(t=aN(t),aN(e)!==t&&r)throw Error(X(425))}function Oh(){}var Fx=null,zx=null;function Vx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wx=typeof setTimeout=="function"?setTimeout:void 0,YD=typeof clearTimeout=="function"?clearTimeout:void 0,iN=typeof Promise=="function"?Promise:void 0,JD=typeof queueMicrotask=="function"?queueMicrotask:typeof iN<"u"?function(e){return iN.resolve(null).then(e).catch(XD)}:Wx;function XD(e){setTimeout(function(){throw e})}function lv(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Ou(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ou(t)}function _a(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function oN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Jl=Math.random().toString(36).slice(2),es="__reactFiber$"+Jl,Mu="__reactProps$"+Jl,Ms="__reactContainer$"+Jl,qx="__reactEvents$"+Jl,ZD="__reactListeners$"+Jl,QD="__reactHandles$"+Jl;function bi(e){var t=e[es];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ms]||r[es]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=oN(e);e!==null;){if(r=e[es])return r;e=oN(e)}return t}e=r,r=e.parentNode}return null}function $d(e){return e=e[es]||e[Ms],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Do(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function gp(e){return e[Mu]||null}var Kx=[],Lo=-1;function Fa(e){return{current:e}}function ot(e){0>Lo||(e.current=Kx[Lo],Kx[Lo]=null,Lo--)}function et(e,t){Lo++,Kx[Lo]=e.current,e.current=t}var Ma={},sr=Fa(Ma),Sr=Fa(!1),Ii=Ma;function ul(e,t){var r=e.type.contextTypes;if(!r)return Ma;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function _r(e){return e=e.childContextTypes,e!=null}function Th(){ot(Sr),ot(sr)}function lN(e,t,r){if(sr.current!==Ma)throw Error(X(168));et(sr,t),et(Sr,r)}function IA(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(X(108,D3(e)||"Unknown",a));return pt({},r,n)}function Ih(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ma,Ii=sr.current,et(sr,e),et(Sr,Sr.current),!0}function cN(e,t,r){var n=e.stateNode;if(!n)throw Error(X(169));r?(e=IA(e,t,Ii),n.__reactInternalMemoizedMergedChildContext=e,ot(Sr),ot(sr),et(sr,e)):ot(Sr),et(Sr,r)}var Ss=null,vp=!1,cv=!1;function $A(e){Ss===null?Ss=[e]:Ss.push(e)}function eL(e){vp=!0,$A(e)}function za(){if(!cv&&Ss!==null){cv=!0;var e=0,t=Ve;try{var r=Ss;for(Ve=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ss=null,vp=!1}catch(a){throw Ss!==null&&(Ss=Ss.slice(e+1)),aA(Ub,za),a}finally{Ve=t,cv=!1}}return null}var Uo=[],Bo=0,$h=null,Rh=0,nn=[],sn=0,$i=null,Es=1,Ps="";function ai(e,t){Uo[Bo++]=Rh,Uo[Bo++]=$h,$h=e,Rh=t}function RA(e,t,r){nn[sn++]=Es,nn[sn++]=Ps,nn[sn++]=$i,$i=e;var n=Es;e=Ps;var a=32-Mn(n)-1;n&=~(1<<a),r+=1;var i=32-Mn(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Es=1<<32-Mn(t)+a|r<<a|n,Ps=i+e}else Es=1<<i|r<<a|n,Ps=e}function Gb(e){e.return!==null&&(ai(e,1),RA(e,1,0))}function Yb(e){for(;e===$h;)$h=Uo[--Bo],Uo[Bo]=null,Rh=Uo[--Bo],Uo[Bo]=null;for(;e===$i;)$i=nn[--sn],nn[sn]=null,Ps=nn[--sn],nn[sn]=null,Es=nn[--sn],nn[sn]=null}var qr=null,zr=null,ut=!1,Tn=null;function MA(e,t){var r=on(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function uN(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qr=e,zr=_a(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qr=e,zr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=$i!==null?{id:Es,overflow:Ps}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=on(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,qr=e,zr=null,!0):!1;default:return!1}}function Hx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gx(e){if(ut){var t=zr;if(t){var r=t;if(!uN(e,t)){if(Hx(e))throw Error(X(418));t=_a(r.nextSibling);var n=qr;t&&uN(e,t)?MA(n,r):(e.flags=e.flags&-4097|2,ut=!1,qr=e)}}else{if(Hx(e))throw Error(X(418));e.flags=e.flags&-4097|2,ut=!1,qr=e}}}function dN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qr=e}function pf(e){if(e!==qr)return!1;if(!ut)return dN(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vx(e.type,e.memoizedProps)),t&&(t=zr)){if(Hx(e))throw DA(),Error(X(418));for(;t;)MA(e,t),t=_a(t.nextSibling)}if(dN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){zr=_a(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}zr=null}}else zr=qr?_a(e.stateNode.nextSibling):null;return!0}function DA(){for(var e=zr;e;)e=_a(e.nextSibling)}function dl(){zr=qr=null,ut=!1}function Jb(e){Tn===null?Tn=[e]:Tn.push(e)}var tL=Ks.ReactCurrentBatchConfig;function Cc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,e))}return e}function gf(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fN(e){var t=e._init;return t(e._payload)}function LA(e){function t(g,y){if(e){var w=g.deletions;w===null?(g.deletions=[y],g.flags|=16):w.push(y)}}function r(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function a(g,y){return g=Aa(g,y),g.index=0,g.sibling=null,g}function i(g,y,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<y?(g.flags|=2,y):w):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,y,w,S){return y===null||y.tag!==6?(y=gv(w,g.mode,S),y.return=g,y):(y=a(y,w),y.return=g,y)}function c(g,y,w,S){var j=w.type;return j===Io?f(g,y,w.props.children,S,w.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ua&&fN(j)===y.type)?(S=a(y,w.props),S.ref=Cc(g,y,w),S.return=g,S):(S=fh(w.type,w.key,w.props,null,g.mode,S),S.ref=Cc(g,y,w),S.return=g,S)}function u(g,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=vv(w,g.mode,S),y.return=g,y):(y=a(y,w.children||[]),y.return=g,y)}function f(g,y,w,S,j){return y===null||y.tag!==7?(y=Ai(w,g.mode,S,j),y.return=g,y):(y=a(y,w),y.return=g,y)}function d(g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=gv(""+y,g.mode,w),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case sf:return w=fh(y.type,y.key,y.props,null,g.mode,w),w.ref=Cc(g,null,y),w.return=g,w;case To:return y=vv(y,g.mode,w),y.return=g,y;case ua:var S=y._init;return d(g,S(y._payload),w)}if(Zc(y)||_c(y))return y=Ai(y,g.mode,w,null),y.return=g,y;gf(g,y)}return null}function h(g,y,w,S){var j=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(g,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sf:return w.key===j?c(g,y,w,S):null;case To:return w.key===j?u(g,y,w,S):null;case ua:return j=w._init,h(g,y,j(w._payload),S)}if(Zc(w)||_c(w))return j!==null?null:f(g,y,w,S,null);gf(g,w)}return null}function m(g,y,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(w)||null,l(y,g,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case sf:return g=g.get(S.key===null?w:S.key)||null,c(y,g,S,j);case To:return g=g.get(S.key===null?w:S.key)||null,u(y,g,S,j);case ua:var N=S._init;return m(g,y,w,N(S._payload),j)}if(Zc(S)||_c(S))return g=g.get(w)||null,f(y,g,S,j,null);gf(y,S)}return null}function v(g,y,w,S){for(var j=null,N=null,_=y,E=y=0,k=null;_!==null&&E<w.length;E++){_.index>E?(k=_,_=null):k=_.sibling;var A=h(g,_,w[E],S);if(A===null){_===null&&(_=k);break}e&&_&&A.alternate===null&&t(g,_),y=i(A,y,E),N===null?j=A:N.sibling=A,N=A,_=k}if(E===w.length)return r(g,_),ut&&ai(g,E),j;if(_===null){for(;E<w.length;E++)_=d(g,w[E],S),_!==null&&(y=i(_,y,E),N===null?j=_:N.sibling=_,N=_);return ut&&ai(g,E),j}for(_=n(g,_);E<w.length;E++)k=m(_,g,E,w[E],S),k!==null&&(e&&k.alternate!==null&&_.delete(k.key===null?E:k.key),y=i(k,y,E),N===null?j=k:N.sibling=k,N=k);return e&&_.forEach(function(O){return t(g,O)}),ut&&ai(g,E),j}function p(g,y,w,S){var j=_c(w);if(typeof j!="function")throw Error(X(150));if(w=j.call(w),w==null)throw Error(X(151));for(var N=j=null,_=y,E=y=0,k=null,A=w.next();_!==null&&!A.done;E++,A=w.next()){_.index>E?(k=_,_=null):k=_.sibling;var O=h(g,_,A.value,S);if(O===null){_===null&&(_=k);break}e&&_&&O.alternate===null&&t(g,_),y=i(O,y,E),N===null?j=O:N.sibling=O,N=O,_=k}if(A.done)return r(g,_),ut&&ai(g,E),j;if(_===null){for(;!A.done;E++,A=w.next())A=d(g,A.value,S),A!==null&&(y=i(A,y,E),N===null?j=A:N.sibling=A,N=A);return ut&&ai(g,E),j}for(_=n(g,_);!A.done;E++,A=w.next())A=m(_,g,E,A.value,S),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?E:A.key),y=i(A,y,E),N===null?j=A:N.sibling=A,N=A);return e&&_.forEach(function(C){return t(g,C)}),ut&&ai(g,E),j}function x(g,y,w,S){if(typeof w=="object"&&w!==null&&w.type===Io&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case sf:e:{for(var j=w.key,N=y;N!==null;){if(N.key===j){if(j=w.type,j===Io){if(N.tag===7){r(g,N.sibling),y=a(N,w.props.children),y.return=g,g=y;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ua&&fN(j)===N.type){r(g,N.sibling),y=a(N,w.props),y.ref=Cc(g,N,w),y.return=g,g=y;break e}r(g,N);break}else t(g,N);N=N.sibling}w.type===Io?(y=Ai(w.props.children,g.mode,S,w.key),y.return=g,g=y):(S=fh(w.type,w.key,w.props,null,g.mode,S),S.ref=Cc(g,y,w),S.return=g,g=S)}return o(g);case To:e:{for(N=w.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(g,y.sibling),y=a(y,w.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else t(g,y);y=y.sibling}y=vv(w,g.mode,S),y.return=g,g=y}return o(g);case ua:return N=w._init,x(g,y,N(w._payload),S)}if(Zc(w))return v(g,y,w,S);if(_c(w))return p(g,y,w,S);gf(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(g,y.sibling),y=a(y,w),y.return=g,g=y):(r(g,y),y=gv(w,g.mode,S),y.return=g,g=y),o(g)):r(g,y)}return x}var fl=LA(!0),UA=LA(!1),Mh=Fa(null),Dh=null,Fo=null,Xb=null;function Zb(){Xb=Fo=Dh=null}function Qb(e){var t=Mh.current;ot(Mh),e._currentValue=t}function Yx(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Qo(e,t){Dh=e,Xb=Fo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jr=!0),e.firstContext=null)}function fn(e){var t=e._currentValue;if(Xb!==e)if(e={context:e,memoizedValue:t,next:null},Fo===null){if(Dh===null)throw Error(X(308));Fo=e,Dh.dependencies={lanes:0,firstContext:e}}else Fo=Fo.next=e;return t}var wi=null;function ew(e){wi===null?wi=[e]:wi.push(e)}function BA(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,ew(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ds(e,n)}function Ds(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var da=!1;function tw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ea(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Re&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ds(e,r)}return a=n.interleaved,a===null?(t.next=t,ew(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ds(e,r)}function ih(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bb(e,r)}}function hN(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Lh(e,t,r,n){var a=e.updateQueue;da=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var d=a.baseState;o=0,f=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,p=l;switch(h=t,m=r,p.tag){case 1:if(v=p.payload,typeof v=="function"){d=v.call(m,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(m,d,h):v,h==null)break e;d=pt({},d,h);break e;case 2:da=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=m,c=d):f=f.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Mi|=o,e.lanes=o,e.memoizedState=d}}function mN(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(X(191,a));a.call(n)}}}var Rd={},as=Fa(Rd),Du=Fa(Rd),Lu=Fa(Rd);function ji(e){if(e===Rd)throw Error(X(174));return e}function rw(e,t){switch(et(Lu,t),et(Du,e),et(as,Rd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ax(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ax(t,e)}ot(as),et(as,t)}function hl(){ot(as),ot(Du),ot(Lu)}function zA(e){ji(Lu.current);var t=ji(as.current),r=Ax(t,e.type);t!==r&&(et(Du,e),et(as,r))}function nw(e){Du.current===e&&(ot(as),ot(Du))}var ht=Fa(0);function Uh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uv=[];function sw(){for(var e=0;e<uv.length;e++)uv[e]._workInProgressVersionPrimary=null;uv.length=0}var oh=Ks.ReactCurrentDispatcher,dv=Ks.ReactCurrentBatchConfig,Ri=0,mt=null,$t=null,Ft=null,Bh=!1,cu=!1,Uu=0,rL=0;function Zt(){throw Error(X(321))}function aw(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Bn(e[r],t[r]))return!1;return!0}function iw(e,t,r,n,a,i){if(Ri=i,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oh.current=e===null||e.memoizedState===null?iL:oL,e=r(n,a),cu){i=0;do{if(cu=!1,Uu=0,25<=i)throw Error(X(301));i+=1,Ft=$t=null,t.updateQueue=null,oh.current=lL,e=r(n,a)}while(cu)}if(oh.current=Fh,t=$t!==null&&$t.next!==null,Ri=0,Ft=$t=mt=null,Bh=!1,t)throw Error(X(300));return e}function ow(){var e=Uu!==0;return Uu=0,e}function Xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?mt.memoizedState=Ft=e:Ft=Ft.next=e,Ft}function hn(){if($t===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var t=Ft===null?mt.memoizedState:Ft.next;if(t!==null)Ft=t,$t=e;else{if(e===null)throw Error(X(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ft===null?mt.memoizedState=Ft=e:Ft=Ft.next=e}return Ft}function Bu(e,t){return typeof t=="function"?t(e):t}function fv(e){var t=hn(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=$t,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var f=u.lane;if((Ri&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,mt.lanes|=f,Mi|=f}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Bn(n,t.memoizedState)||(jr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,mt.lanes|=i,Mi|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function hv(e){var t=hn(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Bn(i,t.memoizedState)||(jr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function VA(){}function WA(e,t){var r=mt,n=hn(),a=t(),i=!Bn(n.memoizedState,a);if(i&&(n.memoizedState=a,jr=!0),n=n.queue,lw(HA.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ft!==null&&Ft.memoizedState.tag&1){if(r.flags|=2048,Fu(9,KA.bind(null,r,n,a,t),void 0,null),Wt===null)throw Error(X(349));Ri&30||qA(r,t,a)}return a}function qA(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function KA(e,t,r,n){t.value=r,t.getSnapshot=n,GA(t)&&YA(e)}function HA(e,t,r){return r(function(){GA(t)&&YA(e)})}function GA(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Bn(e,r)}catch{return!0}}function YA(e){var t=Ds(e,1);t!==null&&Dn(t,e,1,-1)}function pN(e){var t=Xn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:e},t.queue=e,e=e.dispatch=aL.bind(null,mt,e),[t.memoizedState,e]}function Fu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function JA(){return hn().memoizedState}function lh(e,t,r,n){var a=Xn();mt.flags|=e,a.memoizedState=Fu(1|t,r,void 0,n===void 0?null:n)}function xp(e,t,r,n){var a=hn();n=n===void 0?null:n;var i=void 0;if($t!==null){var o=$t.memoizedState;if(i=o.destroy,n!==null&&aw(n,o.deps)){a.memoizedState=Fu(t,r,i,n);return}}mt.flags|=e,a.memoizedState=Fu(1|t,r,i,n)}function gN(e,t){return lh(8390656,8,e,t)}function lw(e,t){return xp(2048,8,e,t)}function XA(e,t){return xp(4,2,e,t)}function ZA(e,t){return xp(4,4,e,t)}function QA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eC(e,t,r){return r=r!=null?r.concat([e]):null,xp(4,4,QA.bind(null,t,e),r)}function cw(){}function tC(e,t){var r=hn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&aw(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function rC(e,t){var r=hn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&aw(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function nC(e,t,r){return Ri&21?(Bn(r,t)||(r=lA(),mt.lanes|=r,Mi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jr=!0),e.memoizedState=r)}function nL(e,t){var r=Ve;Ve=r!==0&&4>r?r:4,e(!0);var n=dv.transition;dv.transition={};try{e(!1),t()}finally{Ve=r,dv.transition=n}}function sC(){return hn().memoizedState}function sL(e,t,r){var n=ka(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},aC(e))iC(t,r);else if(r=BA(e,t,r,n),r!==null){var a=ur();Dn(r,e,n,a),oC(r,t,n)}}function aL(e,t,r){var n=ka(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(aC(e))iC(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Bn(l,o)){var c=t.interleaved;c===null?(a.next=a,ew(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=BA(e,t,a,n),r!==null&&(a=ur(),Dn(r,e,n,a),oC(r,t,n))}}function aC(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function iC(e,t){cu=Bh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function oC(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bb(e,r)}}var Fh={readContext:fn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},iL={readContext:fn,useCallback:function(e,t){return Xn().memoizedState=[e,t===void 0?null:t],e},useContext:fn,useEffect:gN,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,lh(4194308,4,QA.bind(null,t,e),r)},useLayoutEffect:function(e,t){return lh(4194308,4,e,t)},useInsertionEffect:function(e,t){return lh(4,2,e,t)},useMemo:function(e,t){var r=Xn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Xn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=sL.bind(null,mt,e),[n.memoizedState,e]},useRef:function(e){var t=Xn();return e={current:e},t.memoizedState=e},useState:pN,useDebugValue:cw,useDeferredValue:function(e){return Xn().memoizedState=e},useTransition:function(){var e=pN(!1),t=e[0];return e=nL.bind(null,e[1]),Xn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=mt,a=Xn();if(ut){if(r===void 0)throw Error(X(407));r=r()}else{if(r=t(),Wt===null)throw Error(X(349));Ri&30||qA(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,gN(HA.bind(null,n,i,e),[e]),n.flags|=2048,Fu(9,KA.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Xn(),t=Wt.identifierPrefix;if(ut){var r=Ps,n=Es;r=(n&~(1<<32-Mn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Uu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=rL++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oL={readContext:fn,useCallback:tC,useContext:fn,useEffect:lw,useImperativeHandle:eC,useInsertionEffect:XA,useLayoutEffect:ZA,useMemo:rC,useReducer:fv,useRef:JA,useState:function(){return fv(Bu)},useDebugValue:cw,useDeferredValue:function(e){var t=hn();return nC(t,$t.memoizedState,e)},useTransition:function(){var e=fv(Bu)[0],t=hn().memoizedState;return[e,t]},useMutableSource:VA,useSyncExternalStore:WA,useId:sC,unstable_isNewReconciler:!1},lL={readContext:fn,useCallback:tC,useContext:fn,useEffect:lw,useImperativeHandle:eC,useInsertionEffect:XA,useLayoutEffect:ZA,useMemo:rC,useReducer:hv,useRef:JA,useState:function(){return hv(Bu)},useDebugValue:cw,useDeferredValue:function(e){var t=hn();return $t===null?t.memoizedState=e:nC(t,$t.memoizedState,e)},useTransition:function(){var e=hv(Bu)[0],t=hn().memoizedState;return[e,t]},useMutableSource:VA,useSyncExternalStore:WA,useId:sC,unstable_isNewReconciler:!1};function Pn(e,t){if(e&&e.defaultProps){t=pt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Jx(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:pt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yp={isMounted:function(e){return(e=e._reactInternals)?no(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ur(),a=ka(e),i=Os(n,a);i.payload=t,r!=null&&(i.callback=r),t=Ea(e,i,a),t!==null&&(Dn(t,e,a,n),ih(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ur(),a=ka(e),i=Os(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ea(e,i,a),t!==null&&(Dn(t,e,a,n),ih(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ur(),n=ka(e),a=Os(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ea(e,a,n),t!==null&&(Dn(t,e,n,r),ih(t,e,n))}};function vN(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Iu(r,n)||!Iu(a,i):!0}function lC(e,t,r){var n=!1,a=Ma,i=t.contextType;return typeof i=="object"&&i!==null?i=fn(i):(a=_r(t)?Ii:sr.current,n=t.contextTypes,i=(n=n!=null)?ul(e,a):Ma),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yp,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function xN(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yp.enqueueReplaceState(t,t.state,null)}function Xx(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},tw(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=fn(i):(i=_r(t)?Ii:sr.current,a.context=ul(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Jx(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&yp.enqueueReplaceState(a,a.state,null),Lh(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ml(e,t){try{var r="",n=t;do r+=M3(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function mv(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Zx(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var cL=typeof WeakMap=="function"?WeakMap:Map;function cC(e,t,r){r=Os(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Vh||(Vh=!0,l0=n),Zx(e,t)},r}function uC(e,t,r){r=Os(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Zx(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Zx(e,t),typeof n!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function yN(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new cL;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=NL.bind(null,e,t,r),t.then(e,e))}function bN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wN(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Os(-1,1),t.tag=2,Ea(r,t,1))),r.lanes|=1),e)}var uL=Ks.ReactCurrentOwner,jr=!1;function ir(e,t,r,n){t.child=e===null?UA(t,null,r,n):fl(t,e.child,r,n)}function jN(e,t,r,n,a){r=r.render;var i=t.ref;return Qo(t,a),n=iw(e,t,r,n,i,a),r=ow(),e!==null&&!jr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ls(e,t,a)):(ut&&r&&Gb(t),t.flags|=1,ir(e,t,n,a),t.child)}function NN(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!vw(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,dC(e,t,i,n,a)):(e=fh(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Iu,r(o,n)&&e.ref===t.ref)return Ls(e,t,a)}return t.flags|=1,e=Aa(i,n),e.ref=t.ref,e.return=t,t.child=e}function dC(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Iu(i,n)&&e.ref===t.ref)if(jr=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(jr=!0);else return t.lanes=e.lanes,Ls(e,t,a)}return Qx(e,t,r,n,a)}function fC(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Vo,Mr),Mr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(Vo,Mr),Mr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,et(Vo,Mr),Mr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,et(Vo,Mr),Mr|=n;return ir(e,t,a,r),t.child}function hC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Qx(e,t,r,n,a){var i=_r(r)?Ii:sr.current;return i=ul(t,i),Qo(t,a),r=iw(e,t,r,n,i,a),n=ow(),e!==null&&!jr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ls(e,t,a)):(ut&&n&&Gb(t),t.flags|=1,ir(e,t,r,a),t.child)}function SN(e,t,r,n,a){if(_r(r)){var i=!0;Ih(t)}else i=!1;if(Qo(t,a),t.stateNode===null)ch(e,t),lC(t,r,n),Xx(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=fn(u):(u=_r(r)?Ii:sr.current,u=ul(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&xN(t,o,n,u),da=!1;var h=t.memoizedState;o.state=h,Lh(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Sr.current||da?(typeof f=="function"&&(Jx(t,r,f,n),c=t.memoizedState),(l=da||vN(t,r,l,n,h,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,FA(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Pn(t.type,l),o.props=u,d=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=fn(c):(c=_r(r)?Ii:sr.current,c=ul(t,c));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==c)&&xN(t,o,n,c),da=!1,h=t.memoizedState,o.state=h,Lh(t,n,o,a);var v=t.memoizedState;l!==d||h!==v||Sr.current||da?(typeof m=="function"&&(Jx(t,r,m,n),v=t.memoizedState),(u=da||vN(t,r,u,n,h,v,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return e0(e,t,r,n,i,a)}function e0(e,t,r,n,a,i){hC(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&cN(t,r,!1),Ls(e,t,i);n=t.stateNode,uL.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=fl(t,e.child,null,i),t.child=fl(t,null,l,i)):ir(e,t,l,i),t.memoizedState=n.state,a&&cN(t,r,!0),t.child}function mC(e){var t=e.stateNode;t.pendingContext?lN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lN(e,t.context,!1),rw(e,t.containerInfo)}function _N(e,t,r,n,a){return dl(),Jb(a),t.flags|=256,ir(e,t,r,n),t.child}var t0={dehydrated:null,treeContext:null,retryLane:0};function r0(e){return{baseLanes:e,cachePool:null,transitions:null}}function pC(e,t,r){var n=t.pendingProps,a=ht.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),et(ht,a&1),e===null)return Gx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=jp(o,n,0,null),e=Ai(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=r0(r),t.memoizedState=t0,e):uw(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return dL(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Aa(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Aa(l,i):(i=Ai(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?r0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=t0,n}return i=e.child,e=i.sibling,n=Aa(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function uw(e,t){return t=jp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vf(e,t,r,n){return n!==null&&Jb(n),fl(t,e.child,null,r),e=uw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dL(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=mv(Error(X(422))),vf(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=jp({mode:"visible",children:n.children},a,0,null),i=Ai(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&fl(t,e.child,null,o),t.child.memoizedState=r0(o),t.memoizedState=t0,i);if(!(t.mode&1))return vf(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(X(419)),n=mv(i,n,void 0),vf(e,t,o,n)}if(l=(o&e.childLanes)!==0,jr||l){if(n=Wt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ds(e,a),Dn(n,e,a,-1))}return gw(),n=mv(Error(X(421))),vf(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=SL.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,zr=_a(a.nextSibling),qr=t,ut=!0,Tn=null,e!==null&&(nn[sn++]=Es,nn[sn++]=Ps,nn[sn++]=$i,Es=e.id,Ps=e.overflow,$i=t),t=uw(t,n.children),t.flags|=4096,t)}function EN(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Yx(e.return,t,r)}function pv(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function gC(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ir(e,t,n.children,r),n=ht.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&EN(e,r,t);else if(e.tag===19)EN(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(et(ht,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Uh(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),pv(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Uh(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}pv(t,!0,r,null,i);break;case"together":pv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ch(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ls(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Mi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,r=Aa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Aa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function fL(e,t,r){switch(t.tag){case 3:mC(t),dl();break;case 5:zA(t);break;case 1:_r(t.type)&&Ih(t);break;case 4:rw(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;et(Mh,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(et(ht,ht.current&1),t.flags|=128,null):r&t.child.childLanes?pC(e,t,r):(et(ht,ht.current&1),e=Ls(e,t,r),e!==null?e.sibling:null);et(ht,ht.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return gC(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),et(ht,ht.current),n)break;return null;case 22:case 23:return t.lanes=0,fC(e,t,r)}return Ls(e,t,r)}var vC,n0,xC,yC;vC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};n0=function(){};xC=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ji(as.current);var i=null;switch(r){case"input":a=_x(e,a),n=_x(e,n),i=[];break;case"select":a=pt({},a,{value:void 0}),n=pt({},n,{value:void 0}),i=[];break;case"textarea":a=kx(e,a),n=kx(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Oh)}Cx(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Eu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Eu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&st("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};yC=function(e,t,r,n){r!==n&&(t.flags|=4)};function Oc(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function hL(e,t,r){var n=t.pendingProps;switch(Yb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(t),null;case 1:return _r(t.type)&&Th(),Qt(t),null;case 3:return n=t.stateNode,hl(),ot(Sr),ot(sr),sw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tn!==null&&(d0(Tn),Tn=null))),n0(e,t),Qt(t),null;case 5:nw(t);var a=ji(Lu.current);if(r=t.type,e!==null&&t.stateNode!=null)xC(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(X(166));return Qt(t),null}if(e=ji(as.current),pf(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[es]=t,n[Mu]=i,e=(t.mode&1)!==0,r){case"dialog":st("cancel",n),st("close",n);break;case"iframe":case"object":case"embed":st("load",n);break;case"video":case"audio":for(a=0;a<eu.length;a++)st(eu[a],n);break;case"source":st("error",n);break;case"img":case"image":case"link":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"input":R1(n,i),st("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},st("invalid",n);break;case"textarea":D1(n,i),st("invalid",n)}Cx(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&mf(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&mf(n.textContent,l,e),a=["children",""+l]):Eu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&st("scroll",n)}switch(r){case"input":af(n),M1(n,i,!0);break;case"textarea":af(n),L1(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Oh)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[es]=t,e[Mu]=n,vC(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ox(r,n),r){case"dialog":st("cancel",e),st("close",e),a=n;break;case"iframe":case"object":case"embed":st("load",e),a=n;break;case"video":case"audio":for(a=0;a<eu.length;a++)st(eu[a],e);a=n;break;case"source":st("error",e),a=n;break;case"img":case"image":case"link":st("error",e),st("load",e),a=n;break;case"details":st("toggle",e),a=n;break;case"input":R1(e,n),a=_x(e,n),st("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=pt({},n,{value:void 0}),st("invalid",e);break;case"textarea":D1(e,n),a=kx(e,n),st("invalid",e);break;default:a=n}Cx(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Jk(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gk(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Pu(e,c):typeof c=="number"&&Pu(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Eu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&st("scroll",e):c!=null&&$b(e,i,c,o))}switch(r){case"input":af(e),M1(e,n,!1);break;case"textarea":af(e),L1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ra(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Yo(e,!!n.multiple,i,!1):n.defaultValue!=null&&Yo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Oh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qt(t),null;case 6:if(e&&t.stateNode!=null)yC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(X(166));if(r=ji(Lu.current),ji(as.current),pf(t)){if(n=t.stateNode,r=t.memoizedProps,n[es]=t,(i=n.nodeValue!==r)&&(e=qr,e!==null))switch(e.tag){case 3:mf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mf(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[es]=t,t.stateNode=n}return Qt(t),null;case 13:if(ot(ht),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&zr!==null&&t.mode&1&&!(t.flags&128))DA(),dl(),t.flags|=98560,i=!1;else if(i=pf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(X(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[es]=t}else dl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qt(t),i=!1}else Tn!==null&&(d0(Tn),Tn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ht.current&1?Mt===0&&(Mt=3):gw())),t.updateQueue!==null&&(t.flags|=4),Qt(t),null);case 4:return hl(),n0(e,t),e===null&&$u(t.stateNode.containerInfo),Qt(t),null;case 10:return Qb(t.type._context),Qt(t),null;case 17:return _r(t.type)&&Th(),Qt(t),null;case 19:if(ot(ht),i=t.memoizedState,i===null)return Qt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Oc(i,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Uh(e),o!==null){for(t.flags|=128,Oc(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return et(ht,ht.current&1|2),t.child}e=e.sibling}i.tail!==null&&wt()>pl&&(t.flags|=128,n=!0,Oc(i,!1),t.lanes=4194304)}else{if(!n)if(e=Uh(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Oc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ut)return Qt(t),null}else 2*wt()-i.renderingStartTime>pl&&r!==1073741824&&(t.flags|=128,n=!0,Oc(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=wt(),t.sibling=null,r=ht.current,et(ht,n?r&1|2:r&1),t):(Qt(t),null);case 22:case 23:return pw(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Mr&1073741824&&(Qt(t),t.subtreeFlags&6&&(t.flags|=8192)):Qt(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function mL(e,t){switch(Yb(t),t.tag){case 1:return _r(t.type)&&Th(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hl(),ot(Sr),ot(sr),sw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nw(t),null;case 13:if(ot(ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));dl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(ht),null;case 4:return hl(),null;case 10:return Qb(t.type._context),null;case 22:case 23:return pw(),null;case 24:return null;default:return null}}var xf=!1,tr=!1,pL=typeof WeakSet=="function"?WeakSet:Set,le=null;function zo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(e,t,n)}else r.current=null}function s0(e,t,r){try{r()}catch(n){xt(e,t,n)}}var PN=!1;function gL(e,t){if(Fx=kh,e=SA(),Hb(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var m;d!==r||a!==0&&d.nodeType!==3||(l=o+a),d!==i||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++f===n&&(c=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(zx={focusedElem:e,selectionRange:r},kh=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,x=v.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?p:Pn(t.type,p),x);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(S){xt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return v=PN,PN=!1,v}function uu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&s0(t,r,i)}a=a.next}while(a!==n)}}function bp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function a0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function bC(e){var t=e.alternate;t!==null&&(e.alternate=null,bC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[es],delete t[Mu],delete t[qx],delete t[ZD],delete t[QD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wC(e){return e.tag===5||e.tag===3||e.tag===4}function kN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function i0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Oh));else if(n!==4&&(e=e.child,e!==null))for(i0(e,t,r),e=e.sibling;e!==null;)i0(e,t,r),e=e.sibling}function o0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(o0(e,t,r),e=e.sibling;e!==null;)o0(e,t,r),e=e.sibling}var Gt=null,kn=!1;function ra(e,t,r){for(r=r.child;r!==null;)jC(e,t,r),r=r.sibling}function jC(e,t,r){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(fp,r)}catch{}switch(r.tag){case 5:tr||zo(r,t);case 6:var n=Gt,a=kn;Gt=null,ra(e,t,r),Gt=n,kn=a,Gt!==null&&(kn?(e=Gt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Gt.removeChild(r.stateNode));break;case 18:Gt!==null&&(kn?(e=Gt,r=r.stateNode,e.nodeType===8?lv(e.parentNode,r):e.nodeType===1&&lv(e,r),Ou(e)):lv(Gt,r.stateNode));break;case 4:n=Gt,a=kn,Gt=r.stateNode.containerInfo,kn=!0,ra(e,t,r),Gt=n,kn=a;break;case 0:case 11:case 14:case 15:if(!tr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&s0(r,t,o),a=a.next}while(a!==n)}ra(e,t,r);break;case 1:if(!tr&&(zo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xt(r,t,l)}ra(e,t,r);break;case 21:ra(e,t,r);break;case 22:r.mode&1?(tr=(n=tr)||r.memoizedState!==null,ra(e,t,r),tr=n):ra(e,t,r);break;default:ra(e,t,r)}}function AN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new pL),t.forEach(function(n){var a=_L.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Nn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Gt=l.stateNode,kn=!1;break e;case 3:Gt=l.stateNode.containerInfo,kn=!0;break e;case 4:Gt=l.stateNode.containerInfo,kn=!0;break e}l=l.return}if(Gt===null)throw Error(X(160));jC(i,o,a),Gt=null,kn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){xt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)NC(t,e),t=t.sibling}function NC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nn(t,e),Gn(e),n&4){try{uu(3,e,e.return),bp(3,e)}catch(p){xt(e,e.return,p)}try{uu(5,e,e.return)}catch(p){xt(e,e.return,p)}}break;case 1:Nn(t,e),Gn(e),n&512&&r!==null&&zo(r,r.return);break;case 5:if(Nn(t,e),Gn(e),n&512&&r!==null&&zo(r,r.return),e.flags&32){var a=e.stateNode;try{Pu(a,"")}catch(p){xt(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&qk(a,i),Ox(l,o);var u=Ox(l,i);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?Jk(a,d):f==="dangerouslySetInnerHTML"?Gk(a,d):f==="children"?Pu(a,d):$b(a,f,d,u)}switch(l){case"input":Ex(a,i);break;case"textarea":Kk(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Yo(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Yo(a,!!i.multiple,i.defaultValue,!0):Yo(a,!!i.multiple,i.multiple?[]:"",!1))}a[Mu]=i}catch(p){xt(e,e.return,p)}}break;case 6:if(Nn(t,e),Gn(e),n&4){if(e.stateNode===null)throw Error(X(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){xt(e,e.return,p)}}break;case 3:if(Nn(t,e),Gn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ou(t.containerInfo)}catch(p){xt(e,e.return,p)}break;case 4:Nn(t,e),Gn(e);break;case 13:Nn(t,e),Gn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(hw=wt())),n&4&&AN(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(tr=(u=tr)||f,Nn(t,e),tr=u):Nn(t,e),Gn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(le=e,f=e.child;f!==null;){for(d=le=f;le!==null;){switch(h=le,m=h.child,h.tag){case 0:case 11:case 14:case 15:uu(4,h,h.return);break;case 1:zo(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){xt(n,r,p)}}break;case 5:zo(h,h.return);break;case 22:if(h.memoizedState!==null){ON(d);continue}}m!==null?(m.return=h,le=m):ON(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Yk("display",o))}catch(p){xt(e,e.return,p)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){xt(e,e.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nn(t,e),Gn(e),n&4&&AN(e);break;case 21:break;default:Nn(t,e),Gn(e)}}function Gn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(wC(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Pu(a,""),n.flags&=-33);var i=kN(e);o0(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=kN(e);i0(e,l,o);break;default:throw Error(X(161))}}catch(c){xt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vL(e,t,r){le=e,SC(e)}function SC(e,t,r){for(var n=(e.mode&1)!==0;le!==null;){var a=le,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||xf;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||tr;l=xf;var u=tr;if(xf=o,(tr=c)&&!u)for(le=a;le!==null;)o=le,c=o.child,o.tag===22&&o.memoizedState!==null?TN(a):c!==null?(c.return=o,le=c):TN(a);for(;i!==null;)le=i,SC(i),i=i.sibling;le=a,xf=l,tr=u}CN(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,le=i):CN(e)}}function CN(e){for(;le!==null;){var t=le;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tr||bp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!tr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Pn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&mN(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}mN(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Ou(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}tr||t.flags&512&&a0(t)}catch(h){xt(t,t.return,h)}}if(t===e){le=null;break}if(r=t.sibling,r!==null){r.return=t.return,le=r;break}le=t.return}}function ON(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,le=r;break}le=t.return}}function TN(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{bp(4,t)}catch(c){xt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){xt(t,a,c)}}var i=t.return;try{a0(t)}catch(c){xt(t,i,c)}break;case 5:var o=t.return;try{a0(t)}catch(c){xt(t,o,c)}}}catch(c){xt(t,t.return,c)}if(t===e){le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,le=l;break}le=t.return}}var xL=Math.ceil,zh=Ks.ReactCurrentDispatcher,dw=Ks.ReactCurrentOwner,dn=Ks.ReactCurrentBatchConfig,Re=0,Wt=null,_t=null,Jt=0,Mr=0,Vo=Fa(0),Mt=0,zu=null,Mi=0,wp=0,fw=0,du=null,br=null,hw=0,pl=1/0,ws=null,Vh=!1,l0=null,Pa=null,yf=!1,xa=null,Wh=0,fu=0,c0=null,uh=-1,dh=0;function ur(){return Re&6?wt():uh!==-1?uh:uh=wt()}function ka(e){return e.mode&1?Re&2&&Jt!==0?Jt&-Jt:tL.transition!==null?(dh===0&&(dh=lA()),dh):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:pA(e.type)),e):1}function Dn(e,t,r,n){if(50<fu)throw fu=0,c0=null,Error(X(185));Td(e,r,n),(!(Re&2)||e!==Wt)&&(e===Wt&&(!(Re&2)&&(wp|=r),Mt===4&&ma(e,Jt)),Er(e,n),r===1&&Re===0&&!(t.mode&1)&&(pl=wt()+500,vp&&za()))}function Er(e,t){var r=e.callbackNode;tD(e,t);var n=Ph(e,e===Wt?Jt:0);if(n===0)r!==null&&F1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&F1(r),t===1)e.tag===0?eL(IN.bind(null,e)):$A(IN.bind(null,e)),JD(function(){!(Re&6)&&za()}),r=null;else{switch(cA(n)){case 1:r=Ub;break;case 4:r=iA;break;case 16:r=Eh;break;case 536870912:r=oA;break;default:r=Eh}r=TC(r,_C.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function _C(e,t){if(uh=-1,dh=0,Re&6)throw Error(X(327));var r=e.callbackNode;if(el()&&e.callbackNode!==r)return null;var n=Ph(e,e===Wt?Jt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=qh(e,n);else{t=n;var a=Re;Re|=2;var i=PC();(Wt!==e||Jt!==t)&&(ws=null,pl=wt()+500,ki(e,t));do try{wL();break}catch(l){EC(e,l)}while(!0);Zb(),zh.current=i,Re=a,_t!==null?t=0:(Wt=null,Jt=0,t=Mt)}if(t!==0){if(t===2&&(a=Mx(e),a!==0&&(n=a,t=u0(e,a))),t===1)throw r=zu,ki(e,0),ma(e,n),Er(e,wt()),r;if(t===6)ma(e,n);else{if(a=e.current.alternate,!(n&30)&&!yL(a)&&(t=qh(e,n),t===2&&(i=Mx(e),i!==0&&(n=i,t=u0(e,i))),t===1))throw r=zu,ki(e,0),ma(e,n),Er(e,wt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(X(345));case 2:ii(e,br,ws);break;case 3:if(ma(e,n),(n&130023424)===n&&(t=hw+500-wt(),10<t)){if(Ph(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ur(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Wx(ii.bind(null,e,br,ws),t);break}ii(e,br,ws);break;case 4:if(ma(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Mn(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=wt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xL(n/1960))-n,10<n){e.timeoutHandle=Wx(ii.bind(null,e,br,ws),n);break}ii(e,br,ws);break;case 5:ii(e,br,ws);break;default:throw Error(X(329))}}}return Er(e,wt()),e.callbackNode===r?_C.bind(null,e):null}function u0(e,t){var r=du;return e.current.memoizedState.isDehydrated&&(ki(e,t).flags|=256),e=qh(e,t),e!==2&&(t=br,br=r,t!==null&&d0(t)),e}function d0(e){br===null?br=e:br.push.apply(br,e)}function yL(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Bn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ma(e,t){for(t&=~fw,t&=~wp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Mn(t),n=1<<r;e[r]=-1,t&=~n}}function IN(e){if(Re&6)throw Error(X(327));el();var t=Ph(e,0);if(!(t&1))return Er(e,wt()),null;var r=qh(e,t);if(e.tag!==0&&r===2){var n=Mx(e);n!==0&&(t=n,r=u0(e,n))}if(r===1)throw r=zu,ki(e,0),ma(e,t),Er(e,wt()),r;if(r===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ii(e,br,ws),Er(e,wt()),null}function mw(e,t){var r=Re;Re|=1;try{return e(t)}finally{Re=r,Re===0&&(pl=wt()+500,vp&&za())}}function Di(e){xa!==null&&xa.tag===0&&!(Re&6)&&el();var t=Re;Re|=1;var r=dn.transition,n=Ve;try{if(dn.transition=null,Ve=1,e)return e()}finally{Ve=n,dn.transition=r,Re=t,!(Re&6)&&za()}}function pw(){Mr=Vo.current,ot(Vo)}function ki(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,YD(r)),_t!==null)for(r=_t.return;r!==null;){var n=r;switch(Yb(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Th();break;case 3:hl(),ot(Sr),ot(sr),sw();break;case 5:nw(n);break;case 4:hl();break;case 13:ot(ht);break;case 19:ot(ht);break;case 10:Qb(n.type._context);break;case 22:case 23:pw()}r=r.return}if(Wt=e,_t=e=Aa(e.current,null),Jt=Mr=t,Mt=0,zu=null,fw=wp=Mi=0,br=du=null,wi!==null){for(t=0;t<wi.length;t++)if(r=wi[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}wi=null}return e}function EC(e,t){do{var r=_t;try{if(Zb(),oh.current=Fh,Bh){for(var n=mt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Bh=!1}if(Ri=0,Ft=$t=mt=null,cu=!1,Uu=0,dw.current=null,r===null||r.return===null){Mt=1,zu=t,_t=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Jt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=bN(o);if(m!==null){m.flags&=-257,wN(m,o,l,i,t),m.mode&1&&yN(i,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var p=new Set;p.add(c),t.updateQueue=p}else v.add(c);break e}else{if(!(t&1)){yN(i,u,t),gw();break e}c=Error(X(426))}}else if(ut&&l.mode&1){var x=bN(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),wN(x,o,l,i,t),Jb(ml(c,l));break e}}i=c=ml(c,l),Mt!==4&&(Mt=2),du===null?du=[i]:du.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=cC(i,c,t);hN(i,g);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Pa===null||!Pa.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=uC(i,l,t);hN(i,S);break e}}i=i.return}while(i!==null)}AC(r)}catch(j){t=j,_t===r&&r!==null&&(_t=r=r.return);continue}break}while(!0)}function PC(){var e=zh.current;return zh.current=Fh,e===null?Fh:e}function gw(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Wt===null||!(Mi&268435455)&&!(wp&268435455)||ma(Wt,Jt)}function qh(e,t){var r=Re;Re|=2;var n=PC();(Wt!==e||Jt!==t)&&(ws=null,ki(e,t));do try{bL();break}catch(a){EC(e,a)}while(!0);if(Zb(),Re=r,zh.current=n,_t!==null)throw Error(X(261));return Wt=null,Jt=0,Mt}function bL(){for(;_t!==null;)kC(_t)}function wL(){for(;_t!==null&&!K3();)kC(_t)}function kC(e){var t=OC(e.alternate,e,Mr);e.memoizedProps=e.pendingProps,t===null?AC(e):_t=t,dw.current=null}function AC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=mL(r,t),r!==null){r.flags&=32767,_t=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,_t=null;return}}else if(r=hL(r,t,Mr),r!==null){_t=r;return}if(t=t.sibling,t!==null){_t=t;return}_t=t=e}while(t!==null);Mt===0&&(Mt=5)}function ii(e,t,r){var n=Ve,a=dn.transition;try{dn.transition=null,Ve=1,jL(e,t,r,n)}finally{dn.transition=a,Ve=n}return null}function jL(e,t,r,n){do el();while(xa!==null);if(Re&6)throw Error(X(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(rD(e,i),e===Wt&&(_t=Wt=null,Jt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yf||(yf=!0,TC(Eh,function(){return el(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=dn.transition,dn.transition=null;var o=Ve;Ve=1;var l=Re;Re|=4,dw.current=null,gL(e,r),NC(r,e),zD(zx),kh=!!Fx,zx=Fx=null,e.current=r,vL(r),H3(),Re=l,Ve=o,dn.transition=i}else e.current=r;if(yf&&(yf=!1,xa=e,Wh=a),i=e.pendingLanes,i===0&&(Pa=null),J3(r.stateNode),Er(e,wt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Vh)throw Vh=!1,e=l0,l0=null,e;return Wh&1&&e.tag!==0&&el(),i=e.pendingLanes,i&1?e===c0?fu++:(fu=0,c0=e):fu=0,za(),null}function el(){if(xa!==null){var e=cA(Wh),t=dn.transition,r=Ve;try{if(dn.transition=null,Ve=16>e?16:e,xa===null)var n=!1;else{if(e=xa,xa=null,Wh=0,Re&6)throw Error(X(331));var a=Re;for(Re|=4,le=e.current;le!==null;){var i=le,o=i.child;if(le.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(le=u;le!==null;){var f=le;switch(f.tag){case 0:case 11:case 15:uu(8,f,i)}var d=f.child;if(d!==null)d.return=f,le=d;else for(;le!==null;){f=le;var h=f.sibling,m=f.return;if(bC(f),f===u){le=null;break}if(h!==null){h.return=m,le=h;break}le=m}}}var v=i.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}le=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,le=o;else e:for(;le!==null;){if(i=le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:uu(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,le=g;break e}le=i.return}}var y=e.current;for(le=y;le!==null;){o=le;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,le=w;else e:for(o=y;le!==null;){if(l=le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bp(9,l)}}catch(j){xt(l,l.return,j)}if(l===o){le=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,le=S;break e}le=l.return}}if(Re=a,za(),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(fp,e)}catch{}n=!0}return n}finally{Ve=r,dn.transition=t}}return!1}function $N(e,t,r){t=ml(r,t),t=cC(e,t,1),e=Ea(e,t,1),t=ur(),e!==null&&(Td(e,1,t),Er(e,t))}function xt(e,t,r){if(e.tag===3)$N(e,e,r);else for(;t!==null;){if(t.tag===3){$N(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Pa===null||!Pa.has(n))){e=ml(r,e),e=uC(t,e,1),t=Ea(t,e,1),e=ur(),t!==null&&(Td(t,1,e),Er(t,e));break}}t=t.return}}function NL(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ur(),e.pingedLanes|=e.suspendedLanes&r,Wt===e&&(Jt&r)===r&&(Mt===4||Mt===3&&(Jt&130023424)===Jt&&500>wt()-hw?ki(e,0):fw|=r),Er(e,t)}function CC(e,t){t===0&&(e.mode&1?(t=cf,cf<<=1,!(cf&130023424)&&(cf=4194304)):t=1);var r=ur();e=Ds(e,t),e!==null&&(Td(e,t,r),Er(e,r))}function SL(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),CC(e,r)}function _L(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(t),CC(e,r)}var OC;OC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Sr.current)jr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return jr=!1,fL(e,t,r);jr=!!(e.flags&131072)}else jr=!1,ut&&t.flags&1048576&&RA(t,Rh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ch(e,t),e=t.pendingProps;var a=ul(t,sr.current);Qo(t,r),a=iw(null,t,n,e,a,r);var i=ow();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_r(n)?(i=!0,Ih(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,tw(t),a.updater=yp,t.stateNode=a,a._reactInternals=t,Xx(t,n,e,r),t=e0(null,t,n,!0,i,r)):(t.tag=0,ut&&i&&Gb(t),ir(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ch(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=PL(n),e=Pn(n,e),a){case 0:t=Qx(null,t,n,e,r);break e;case 1:t=SN(null,t,n,e,r);break e;case 11:t=jN(null,t,n,e,r);break e;case 14:t=NN(null,t,n,Pn(n.type,e),r);break e}throw Error(X(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pn(n,a),Qx(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pn(n,a),SN(e,t,n,a,r);case 3:e:{if(mC(t),e===null)throw Error(X(387));n=t.pendingProps,i=t.memoizedState,a=i.element,FA(e,t),Lh(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ml(Error(X(423)),t),t=_N(e,t,n,r,a);break e}else if(n!==a){a=ml(Error(X(424)),t),t=_N(e,t,n,r,a);break e}else for(zr=_a(t.stateNode.containerInfo.firstChild),qr=t,ut=!0,Tn=null,r=UA(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(dl(),n===a){t=Ls(e,t,r);break e}ir(e,t,n,r)}t=t.child}return t;case 5:return zA(t),e===null&&Gx(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Vx(n,a)?o=null:i!==null&&Vx(n,i)&&(t.flags|=32),hC(e,t),ir(e,t,o,r),t.child;case 6:return e===null&&Gx(t),null;case 13:return pC(e,t,r);case 4:return rw(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=fl(t,null,n,r):ir(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pn(n,a),jN(e,t,n,a,r);case 7:return ir(e,t,t.pendingProps,r),t.child;case 8:return ir(e,t,t.pendingProps.children,r),t.child;case 12:return ir(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,et(Mh,n._currentValue),n._currentValue=o,i!==null)if(Bn(i.value,o)){if(i.children===a.children&&!Sr.current){t=Ls(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Os(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Yx(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Yx(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ir(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Qo(t,r),a=fn(a),n=n(a),t.flags|=1,ir(e,t,n,r),t.child;case 14:return n=t.type,a=Pn(n,t.pendingProps),a=Pn(n.type,a),NN(e,t,n,a,r);case 15:return dC(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pn(n,a),ch(e,t),t.tag=1,_r(n)?(e=!0,Ih(t)):e=!1,Qo(t,r),lC(t,n,a),Xx(t,n,a,r),e0(null,t,n,!0,e,r);case 19:return gC(e,t,r);case 22:return fC(e,t,r)}throw Error(X(156,t.tag))};function TC(e,t){return aA(e,t)}function EL(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,r,n){return new EL(e,t,r,n)}function vw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function PL(e){if(typeof e=="function")return vw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mb)return 11;if(e===Db)return 14}return 2}function Aa(e,t){var r=e.alternate;return r===null?(r=on(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fh(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")vw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Io:return Ai(r.children,a,i,t);case Rb:o=8,a|=8;break;case wx:return e=on(12,r,t,a|2),e.elementType=wx,e.lanes=i,e;case jx:return e=on(13,r,t,a),e.elementType=jx,e.lanes=i,e;case Nx:return e=on(19,r,t,a),e.elementType=Nx,e.lanes=i,e;case zk:return jp(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bk:o=10;break e;case Fk:o=9;break e;case Mb:o=11;break e;case Db:o=14;break e;case ua:o=16,n=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=on(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Ai(e,t,r,n){return e=on(7,e,n,t),e.lanes=r,e}function jp(e,t,r,n){return e=on(22,e,n,t),e.elementType=zk,e.lanes=r,e.stateNode={isHidden:!1},e}function gv(e,t,r){return e=on(6,e,null,t),e.lanes=r,e}function vv(e,t,r){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kL(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xg(0),this.expirationTimes=Xg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xg(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function xw(e,t,r,n,a,i,o,l,c){return e=new kL(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=on(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},tw(i),e}function AL(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:To,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function IC(e){if(!e)return Ma;e=e._reactInternals;e:{if(no(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_r(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var r=e.type;if(_r(r))return IA(e,r,t)}return t}function $C(e,t,r,n,a,i,o,l,c){return e=xw(r,n,!0,e,a,i,o,l,c),e.context=IC(null),r=e.current,n=ur(),a=ka(r),i=Os(n,a),i.callback=t??null,Ea(r,i,a),e.current.lanes=a,Td(e,a,n),Er(e,n),e}function Np(e,t,r,n){var a=t.current,i=ur(),o=ka(a);return r=IC(r),t.context===null?t.context=r:t.pendingContext=r,t=Os(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ea(a,t,o),e!==null&&(Dn(e,a,o,i),ih(e,a,o)),o}function Kh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function RN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function yw(e,t){RN(e,t),(e=e.alternate)&&RN(e,t)}function CL(){return null}var RC=typeof reportError=="function"?reportError:function(e){console.error(e)};function bw(e){this._internalRoot=e}Sp.prototype.render=bw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Np(e,t,null,null)};Sp.prototype.unmount=bw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Di(function(){Np(null,e,null,null)}),t[Ms]=null}};function Sp(e){this._internalRoot=e}Sp.prototype.unstable_scheduleHydration=function(e){if(e){var t=fA();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ha.length&&t!==0&&t<ha[r].priority;r++);ha.splice(r,0,e),r===0&&mA(e)}};function ww(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _p(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function MN(){}function OL(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Kh(o);i.call(u)}}var o=$C(t,n,e,0,null,!1,!1,"",MN);return e._reactRootContainer=o,e[Ms]=o.current,$u(e.nodeType===8?e.parentNode:e),Di(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Kh(c);l.call(u)}}var c=xw(e,0,!1,null,null,!1,!1,"",MN);return e._reactRootContainer=c,e[Ms]=c.current,$u(e.nodeType===8?e.parentNode:e),Di(function(){Np(t,c,r,n)}),c}function Ep(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Kh(o);l.call(c)}}Np(t,o,e,a)}else o=OL(r,t,e,a,n);return Kh(o)}uA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Qc(t.pendingLanes);r!==0&&(Bb(t,r|1),Er(t,wt()),!(Re&6)&&(pl=wt()+500,za()))}break;case 13:Di(function(){var n=Ds(e,1);if(n!==null){var a=ur();Dn(n,e,1,a)}}),yw(e,1)}};Fb=function(e){if(e.tag===13){var t=Ds(e,134217728);if(t!==null){var r=ur();Dn(t,e,134217728,r)}yw(e,134217728)}};dA=function(e){if(e.tag===13){var t=ka(e),r=Ds(e,t);if(r!==null){var n=ur();Dn(r,e,t,n)}yw(e,t)}};fA=function(){return Ve};hA=function(e,t){var r=Ve;try{return Ve=e,t()}finally{Ve=r}};Ix=function(e,t,r){switch(t){case"input":if(Ex(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=gp(n);if(!a)throw Error(X(90));Wk(n),Ex(n,a)}}}break;case"textarea":Kk(e,r);break;case"select":t=r.value,t!=null&&Yo(e,!!r.multiple,t,!1)}};Qk=mw;eA=Di;var TL={usingClientEntryPoint:!1,Events:[$d,Do,gp,Xk,Zk,mw]},Tc={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IL={bundleType:Tc.bundleType,version:Tc.version,rendererPackageName:Tc.rendererPackageName,rendererConfig:Tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nA(e),e===null?null:e.stateNode},findFiberByHostInstance:Tc.findFiberByHostInstance||CL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bf.isDisabled&&bf.supportsFiber)try{fp=bf.inject(IL),ss=bf}catch{}}Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TL;Jr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ww(t))throw Error(X(200));return AL(e,t,null,r)};Jr.createRoot=function(e,t){if(!ww(e))throw Error(X(299));var r=!1,n="",a=RC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=xw(e,1,!1,null,null,r,!1,n,a),e[Ms]=t.current,$u(e.nodeType===8?e.parentNode:e),new bw(t)};Jr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=nA(t),e=e===null?null:e.stateNode,e};Jr.flushSync=function(e){return Di(e)};Jr.hydrate=function(e,t,r){if(!_p(t))throw Error(X(200));return Ep(null,e,t,!0,r)};Jr.hydrateRoot=function(e,t,r){if(!ww(e))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=RC;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=$C(t,null,e,1,r??null,a,!1,i,o),e[Ms]=t.current,$u(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Sp(t)};Jr.render=function(e,t,r){if(!_p(t))throw Error(X(200));return Ep(null,e,t,!1,r)};Jr.unmountComponentAtNode=function(e){if(!_p(e))throw Error(X(40));return e._reactRootContainer?(Di(function(){Ep(null,null,e,!1,function(){e._reactRootContainer=null,e[Ms]=null})}),!0):!1};Jr.unstable_batchedUpdates=mw;Jr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!_p(r))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return Ep(e,t,r,!1,n)};Jr.version="18.3.1-next-f1338f8080-20240426";function MC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MC)}catch(e){console.error(e)}}MC(),Mk.exports=Jr;var Xl=Mk.exports;const DC=ze(Xl);var LC,DN=Xl;LC=DN.createRoot,DN.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vu.apply(this,arguments)}var ya;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ya||(ya={}));const LN="popstate";function $L(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return f0("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Hh(a)}return ML(t,r,null,e)}function jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function UC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RL(){return Math.random().toString(36).substr(2,8)}function UN(e,t){return{usr:e.state,key:e.key,idx:t}}function f0(e,t,r,n){return r===void 0&&(r=null),Vu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zl(t):t,{state:r,key:t&&t.key||n||RL()})}function Hh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ML(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=ya.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(Vu({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){l=ya.Pop;let x=f(),g=x==null?null:x-u;u=x,c&&c({action:l,location:p.location,delta:g})}function h(x,g){l=ya.Push;let y=f0(p.location,x,g);u=f()+1;let w=UN(y,u),S=p.createHref(y);try{o.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(S)}i&&c&&c({action:l,location:p.location,delta:1})}function m(x,g){l=ya.Replace;let y=f0(p.location,x,g);u=f();let w=UN(y,u),S=p.createHref(y);o.replaceState(w,"",S),i&&c&&c({action:l,location:p.location,delta:0})}function v(x){let g=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof x=="string"?x:Hh(x);return y=y.replace(/ $/,"%20"),jt(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let p={get action(){return l},get location(){return e(a,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(LN,d),c=x,()=>{a.removeEventListener(LN,d),c=null}},createHref(x){return t(a,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(x){return o.go(x)}};return p}var BN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(BN||(BN={}));function DL(e,t,r){return r===void 0&&(r="/"),LL(e,t,r)}function LL(e,t,r,n){let a=typeof t=="string"?Zl(t):t,i=jw(a.pathname||"/",r);if(i==null)return null;let o=BC(e);UL(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=XL(i);l=GL(o[c],u)}return l}function BC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(jt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ca([n,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(jt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),BC(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:KL(u,i.index),routesMeta:f})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of FC(i.path))a(i,o,c)}),t}function FC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=FC(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function UL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:HL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const BL=/^:[\w-]+$/,FL=3,zL=2,VL=1,WL=10,qL=-2,FN=e=>e==="*";function KL(e,t){let r=e.split("/"),n=r.length;return r.some(FN)&&(n+=qL),t&&(n+=zL),r.filter(a=>!FN(a)).reduce((a,i)=>a+(BL.test(i)?FL:i===""?VL:WL),n)}function HL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function GL(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",d=YL({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:Ca([i,d.pathname]),pathnameBase:t6(Ca([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Ca([i,d.pathnameBase]))}return o}function YL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=JL(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:m}=f;if(h==="*"){let p=l[d]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const v=l[d];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function JL(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),UC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function XL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return UC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function jw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ZL(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Zl(e):e;return{pathname:r?r.startsWith("/")?r:QL(r,t):t,search:r6(n),hash:n6(a)}}function QL(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function xv(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function e6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Nw(e,t){let r=e6(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Sw(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Zl(e):(a=Vu({},e),jt(!a.pathname||!a.pathname.includes("?"),xv("?","pathname","search",a)),jt(!a.pathname||!a.pathname.includes("#"),xv("#","pathname","hash",a)),jt(!a.search||!a.search.includes("#"),xv("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}l=d>=0?t[d]:"/"}let c=ZL(a,l),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Ca=e=>e.join("/").replace(/\/\/+/g,"/"),t6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),r6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,n6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function s6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zC=["post","put","patch","delete"];new Set(zC);const a6=["get",...zC];new Set(a6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wu.apply(this,arguments)}const _w=b.createContext(null),i6=b.createContext(null),Va=b.createContext(null),Pp=b.createContext(null),Wa=b.createContext({outlet:null,matches:[],isDataRoute:!1}),VC=b.createContext(null);function o6(e,t){let{relative:r}=t===void 0?{}:t;Ql()||jt(!1);let{basename:n,navigator:a}=b.useContext(Va),{hash:i,pathname:o,search:l}=qC(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ca([n,o])),a.createHref({pathname:c,search:l,hash:i})}function Ql(){return b.useContext(Pp)!=null}function qt(){return Ql()||jt(!1),b.useContext(Pp).location}function WC(e){b.useContext(Va).static||b.useLayoutEffect(e)}function Te(){let{isDataRoute:e}=b.useContext(Wa);return e?b6():l6()}function l6(){Ql()||jt(!1);let e=b.useContext(_w),{basename:t,future:r,navigator:n}=b.useContext(Va),{matches:a}=b.useContext(Wa),{pathname:i}=qt(),o=JSON.stringify(Nw(a,r.v7_relativeSplatPath)),l=b.useRef(!1);return WC(()=>{l.current=!0}),b.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=Sw(u,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ca([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,o,i,e])}function qC(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(Va),{matches:a}=b.useContext(Wa),{pathname:i}=qt(),o=JSON.stringify(Nw(a,n.v7_relativeSplatPath));return b.useMemo(()=>Sw(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function c6(e,t){return u6(e,t)}function u6(e,t,r,n){Ql()||jt(!1);let{navigator:a}=b.useContext(Va),{matches:i}=b.useContext(Wa),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=qt(),f;if(t){var d;let x=typeof t=="string"?Zl(t):t;c==="/"||(d=x.pathname)!=null&&d.startsWith(c)||jt(!1),f=x}else f=u;let h=f.pathname||"/",m=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=DL(e,{pathname:m}),p=p6(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ca([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Ca([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&p?b.createElement(Pp.Provider,{value:{location:Wu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ya.Pop}},p):p}function d6(){let e=y6(),t=s6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:a},r):null,null)}const f6=b.createElement(d6,null);class h6 extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(Wa.Provider,{value:this.props.routeContext},b.createElement(VC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m6(e){let{routeContext:t,match:r,children:n}=e,a=b.useContext(_w);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Wa.Provider,{value:t},n)}function p6(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let f=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||jt(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:m}=r,v=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,h)=>{let m,v=!1,p=null,x=null;r&&(m=l&&d.route.id?l[d.route.id]:void 0,p=d.route.errorElement||f6,c&&(u<0&&h===0?(w6("route-fallback"),v=!0,x=null):u===h&&(v=!0,x=d.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),y=()=>{let w;return m?w=p:v?w=x:d.route.Component?w=b.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=f,b.createElement(m6,{match:d,routeContext:{outlet:f,matches:g,isDataRoute:r!=null},children:w})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?b.createElement(h6,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var KC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(KC||{}),HC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(HC||{});function g6(e){let t=b.useContext(_w);return t||jt(!1),t}function v6(e){let t=b.useContext(i6);return t||jt(!1),t}function x6(e){let t=b.useContext(Wa);return t||jt(!1),t}function GC(e){let t=x6(),r=t.matches[t.matches.length-1];return r.route.id||jt(!1),r.route.id}function y6(){var e;let t=b.useContext(VC),r=v6(),n=GC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function b6(){let{router:e}=g6(KC.UseNavigateStable),t=GC(HC.UseNavigateStable),r=b.useRef(!1);return WC(()=>{r.current=!0}),b.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Wu({fromRouteId:t},i)))},[e,t])}const zN={};function w6(e,t,r){zN[e]||(zN[e]=!0)}function j6(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ao(e){let{to:t,replace:r,state:n,relative:a}=e;Ql()||jt(!1);let{future:i,static:o}=b.useContext(Va),{matches:l}=b.useContext(Wa),{pathname:c}=qt(),u=Te(),f=Sw(t,Nw(l,i.v7_relativeSplatPath),c,a==="path"),d=JSON.stringify(f);return b.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:a}),[u,d,a,r,n]),null}function ie(e){jt(!1)}function N6(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ya.Pop,navigator:i,static:o=!1,future:l}=e;Ql()&&jt(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:Wu({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Zl(n));let{pathname:f="/",search:d="",hash:h="",state:m=null,key:v="default"}=n,p=b.useMemo(()=>{let x=jw(f,c);return x==null?null:{location:{pathname:x,search:d,hash:h,state:m,key:v},navigationType:a}},[c,f,d,h,m,v,a]);return p==null?null:b.createElement(Va.Provider,{value:u},b.createElement(Pp.Provider,{children:r,value:p}))}function Ew(e){let{children:t,location:r}=e;return c6(h0(t),r)}new Promise(()=>{});function h0(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,a)=>{if(!b.isValidElement(n))return;let i=[...t,a];if(n.type===b.Fragment){r.push.apply(r,h0(n.props.children,i));return}n.type!==ie&&jt(!1),!n.props.index||!n.props.children||jt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=h0(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m0.apply(this,arguments)}function S6(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function _6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function E6(e,t){return e.button===0&&(!t||t==="_self")&&!_6(e)}function p0(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function P6(e,t){let r=p0(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const k6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],A6="6";try{window.__reactRouterVersion=A6}catch{}const C6="startTransition",VN=Ob[C6];function O6(e){let{basename:t,children:r,future:n,window:a}=e,i=b.useRef();i.current==null&&(i.current=$L({window:a,v5Compat:!0}));let o=i.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=b.useCallback(d=>{u&&VN?VN(()=>c(d)):c(d)},[c,u]);return b.useLayoutEffect(()=>o.listen(f),[o,f]),b.useEffect(()=>j6(n),[n]),b.createElement(N6,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const T6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=b.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=S6(t,k6),{basename:m}=b.useContext(Va),v,p=!1;if(typeof u=="string"&&I6.test(u)&&(v=u,T6))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=jw(S.pathname,m);S.origin===w.origin&&j!=null?u=j+S.search+S.hash:p=!0}catch{}let x=o6(u,{relative:a}),g=$6(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:a,viewTransition:d});function y(w){n&&n(w),w.defaultPrevented||g(w)}return b.createElement("a",m0({},h,{href:v||x,onClick:p||i?n:y,ref:r,target:c}))});var WN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(WN||(WN={}));var qN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qN||(qN={}));function $6(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Te(),u=qt(),f=qC(e,{relative:o});return b.useCallback(d=>{if(E6(d,r)){d.preventDefault();let h=n!==void 0?n:Hh(u)===Hh(f);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,f,n,a,r,e,i,o,l])}function YC(e){let t=b.useRef(p0(e)),r=b.useRef(!1),n=qt(),a=b.useMemo(()=>P6(n.search,r.current?null:t.current),[n.search]),i=Te(),o=b.useCallback((l,c)=>{const u=p0(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}const R6=()=>{const{pathname:e}=qt();return b.useEffect(()=>{window.scrollTo(0,0)},[e]),null};function KN(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function JC(...e){return t=>{let r=!1;const n=e.map(a=>{const i=KN(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():KN(e[a],null)}}}}function rt(...e){return b.useCallback(JC(...e),e)}function gl(e){const t=D6(e),r=b.forwardRef((n,a)=>{const{children:i,...o}=n,l=b.Children.toArray(i),c=l.find(U6);if(c){const u=c.props.children,f=l.map(d=>d===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:d);return s.jsx(t,{...o,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var M6=gl("Slot");function D6(e){const t=b.forwardRef((r,n)=>{const{children:a,...i}=r;if(b.isValidElement(a)){const o=F6(a),l=B6(i,a.props);return a.type!==b.Fragment&&(l.ref=n?JC(n,o):o),b.cloneElement(a,l)}return b.Children.count(a)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var L6=Symbol("radix.slottable");function U6(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===L6}function B6(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function F6(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function XC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=XC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Se(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=XC(e))&&(n&&(n+=" "),n+=t);return n}const HN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,GN=Se,kp=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return GN(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const f=r==null?void 0:r[u],d=i==null?void 0:i[u];if(f===null)return null;const h=HN(f)||HN(d);return a[u][h]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:h,...m}=f;return Object.entries(m).every(v=>{let[p,x]=v;return Array.isArray(x)?x.includes({...i,...l}[p]):{...i,...l}[p]===x})?[...u,d,h]:u},[]);return GN(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},Pw="-",z6=e=>{const t=W6(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Pw);return l[0]===""&&l.length!==1&&l.shift(),ZC(l,t)||V6(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},ZC=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?ZC(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Pw);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},YN=/^\[(.+)\]$/,V6=e=>{if(YN.test(e)){const t=YN.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},W6=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return K6(Object.entries(e.classGroups),r).forEach(([i,o])=>{g0(o,n,i,t)}),n},g0=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:JN(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(q6(a)){g0(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{g0(o,JN(t,i),r,n)})})},JN=(e,t)=>{let r=e;return t.split(Pw).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},q6=e=>e.isThemeGetter,K6=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,H6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},QC="!",G6=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,f=0,d;for(let x=0;x<l.length;x++){let g=l[x];if(u===0){if(g===a&&(n||l.slice(x,x+i)===t)){c.push(l.slice(f,x)),f=x+i;continue}if(g==="/"){d=x;continue}}g==="["?u++:g==="]"&&u--}const h=c.length===0?l:l.substring(f),m=h.startsWith(QC),v=m?h.substring(1):h,p=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},Y6=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},J6=e=>({cache:H6(e.cacheSize),parseClassName:G6(e),...z6(e)}),X6=/\s+/,Z6=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(X6);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let v=!!m,p=n(v?h.substring(0,m):h);if(!p){if(!v){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=Y6(f).join(":"),g=d?x+QC:x,y=g+p;if(i.includes(y))continue;i.push(y);const w=a(p,v);for(let S=0;S<w.length;++S){const j=w[S];i.push(g+j)}l=u+(l.length>0?" "+l:l)}return l};function Q6(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=eO(t))&&(n&&(n+=" "),n+=r);return n}const eO=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=eO(e[n]))&&(r&&(r+=" "),r+=t);return r};function e8(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((f,d)=>d(f),e());return r=J6(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=Z6(c,r);return a(c,f),f}return function(){return i(Q6.apply(null,arguments))}}const nt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},tO=/^\[(?:([a-z-]+):)?(.+)\]$/i,t8=/^\d+\/\d+$/,r8=new Set(["px","full","screen"]),n8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,s8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,a8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,i8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,o8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ys=e=>tl(e)||r8.has(e)||t8.test(e),na=e=>ec(e,"length",p8),tl=e=>!!e&&!Number.isNaN(Number(e)),yv=e=>ec(e,"number",tl),Ic=e=>!!e&&Number.isInteger(Number(e)),l8=e=>e.endsWith("%")&&tl(e.slice(0,-1)),Ee=e=>tO.test(e),sa=e=>n8.test(e),c8=new Set(["length","size","percentage"]),u8=e=>ec(e,c8,rO),d8=e=>ec(e,"position",rO),f8=new Set(["image","url"]),h8=e=>ec(e,f8,v8),m8=e=>ec(e,"",g8),$c=()=>!0,ec=(e,t,r)=>{const n=tO.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},p8=e=>s8.test(e)&&!a8.test(e),rO=()=>!1,g8=e=>i8.test(e),v8=e=>o8.test(e),x8=()=>{const e=nt("colors"),t=nt("spacing"),r=nt("blur"),n=nt("brightness"),a=nt("borderColor"),i=nt("borderRadius"),o=nt("borderSpacing"),l=nt("borderWidth"),c=nt("contrast"),u=nt("grayscale"),f=nt("hueRotate"),d=nt("invert"),h=nt("gap"),m=nt("gradientColorStops"),v=nt("gradientColorStopPositions"),p=nt("inset"),x=nt("margin"),g=nt("opacity"),y=nt("padding"),w=nt("saturate"),S=nt("scale"),j=nt("sepia"),N=nt("skew"),_=nt("space"),E=nt("translate"),k=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Ee,t],C=()=>[Ee,t],M=()=>["",ys,na],U=()=>["auto",tl,Ee],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Ee],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[tl,Ee];return{cacheSize:500,separator:":",theme:{colors:[$c],spacing:[ys,na],blur:["none","",sa,Ee],brightness:Y(),borderColor:[e],borderRadius:["none","","full",sa,Ee],borderSpacing:C(),borderWidth:M(),contrast:Y(),grayscale:$(),hueRotate:Y(),invert:$(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[l8,na],inset:O(),margin:O(),opacity:Y(),padding:C(),saturate:Y(),scale:Y(),sepia:$(),skew:Y(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[sa]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),Ee]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ic,Ee]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Ic,Ee]}],"grid-cols":[{"grid-cols":[$c]}],"col-start-end":[{col:["auto",{span:["full",Ic,Ee]},Ee]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[$c]}],"row-start-end":[{row:["auto",{span:[Ic,Ee]},Ee]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,t]}],"min-w":[{"min-w":[Ee,t,"min","max","fit"]}],"max-w":[{"max-w":[Ee,t,"none","full","min","max","fit","prose",{screen:[sa]},sa]}],h:[{h:[Ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",sa,na]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yv]}],"font-family":[{font:[$c]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",tl,yv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ys,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ys,na]}],"underline-offset":[{"underline-offset":["auto",ys,Ee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),d8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",u8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},h8]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:D()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[ys,Ee]}],"outline-w":[{outline:[ys,na]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ys,na]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sa,m8]}],"shadow-color":[{shadow:[$c]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",sa,Ee]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Ic,Ee]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ys,na,yv]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},y8=e8(x8);function me(...e){return y8(Se(e))}const b8=kp("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:scale-[1.02] active:scale-[0.98]",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-6 py-2",sm:"h-9 px-4",lg:"h-12 px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),B=b.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?M6:"button";return s.jsx(o,{className:me(b8({variant:t,size:r,className:e})),ref:i,...a})});B.displayName="Button";const R=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:me("rounded-3xl border border-border/40 bg-card shadow-sm transition-all duration-200 hover:shadow-lg",e),...t}));R.displayName="Card";const V=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:me("flex flex-col space-y-1.5 p-6",e),...t}));V.displayName="CardHeader";const W=b.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:me("text-2xl font-semibold leading-none tracking-tight text-foreground",e),...t}));W.displayName="CardTitle";const Ge=b.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:me("text-sm text-muted-foreground",e),...t}));Ge.displayName="CardDescription";const F=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:me("p-6 pt-0",e),...t}));F.displayName="CardContent";const w8=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:me("flex items-center p-6 pt-0",e),...t}));w8.displayName="CardFooter";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nO=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...N8,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:nO("lucide",a),...l},[...o.map(([u,f])=>b.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(e,t)=>{const r=b.forwardRef(({className:n,...a},i)=>b.createElement(S8,{ref:i,iconNode:t,className:nO(`lucide-${j8(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=ne("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=ne("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=ne("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=ne("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=ne("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=ne("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=ne("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=ne("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=ne("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=ne("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=ne("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=ne("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=ne("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=ne("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=ne("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=ne("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=ne("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=ne("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=ne("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=ne("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=ne("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=ne("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=ne("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=ne("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=ne("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=ne("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=ne("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=ne("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=ne("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=ne("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=ne("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);class W8 extends b.Component{constructor(r){super(r);Me(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){var a,i;console.error("ErrorBoundary caught an error:",r,n),(i=(a=this.props).onError)==null||i.call(a,r,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs(R,{className:"w-full max-w-md",children:[s.jsxs(V,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(Pt,{className:"w-6 h-6 text-red-600"})}),s.jsx(W,{children:"Something went wrong"}),s.jsx(Ge,{children:"We encountered an unexpected error. Please try refreshing the page."})]}),s.jsxs(F,{className:"space-y-4",children:[!1,s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{onClick:this.handleRetry,className:"flex-1",children:[s.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Try Again"]}),s.jsx(B,{variant:"outline",onClick:()=>window.location.reload(),className:"flex-1",children:"Reload Page"})]})]})]})}):this.props.children}}const q8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>qs(async()=>{const{default:n}=await Promise.resolve().then(()=>nc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class $w extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ZN extends $w{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class QN extends $w{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class eS extends $w{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var y0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(y0||(y0={}));var K8=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class H8{constructor(t,{headers:r={},customFetch:n,region:a=y0.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=q8(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return K8(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o,signal:l}=r;let c={},{region:u}=r;u||(u=this.region);const f=new URL(`${this.url}/${t}`);u&&u!=="any"&&(c["x-region"]=u,f.searchParams.set("forceFunctionRegion",u));let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(c["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(c["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:d,signal:l}).catch(x=>{throw x.name==="AbortError"?x:new ZN(x)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new QN(h);if(!h.ok)throw new eS(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return v==="application/json"?p=yield h.json():v==="application/octet-stream"?p=yield h.blob():v==="text/event-stream"?p=h:v==="multipart/form-data"?p=yield h.formData():p=yield h.text(),{data:p,error:null,response:h}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new ZN(a)}:{data:null,error:a,response:a instanceof eS||a instanceof QN?a.context:void 0}}})}}var wr={},Rw={},Cp={},Ld={},Op={},Tp={},G8=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yl=G8();const Y8=yl.fetch,gO=yl.fetch.bind(yl),vO=yl.Headers,J8=yl.Request,X8=yl.Response,nc=Object.freeze(Object.defineProperty({__proto__:null,Headers:vO,Request:J8,Response:X8,default:gO,fetch:Y8},Symbol.toStringTag,{value:"Module"})),Z8=l3(nc);var Ip={};Object.defineProperty(Ip,"__esModule",{value:!0});let Q8=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ip.default=Q8;var xO=nr&&nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tp,"__esModule",{value:!0});const eU=xO(Z8),tU=xO(Ip);let rU=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=eU.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let f=null,d=null,h=null,m=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=y:d=JSON.parse(y))}const x=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");x&&g&&g.length>1&&(h=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(f={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{f=JSON.parse(x),Array.isArray(f)&&i.status===404&&(d=[],f=null,m=200,v="OK")}catch{i.status===404&&x===""?(m=204,v="No Content"):f={message:x}}if(f&&this.isMaybeSingle&&(!((u=f==null?void 0:f.details)===null||u===void 0)&&u.includes("0 rows"))&&(f=null,m=200,v="OK"),f&&this.shouldThrowOnError)throw new tU.default(f)}return{error:f,data:d,count:h,status:m,statusText:v}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Tp.default=rU;var nU=nr&&nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Op,"__esModule",{value:!0});const sU=nU(Tp);let aU=class extends sU.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Op.default=aU;var iU=nr&&nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ld,"__esModule",{value:!0});const oU=iU(Op);let lU=class extends oU.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ld.default=lU;var cU=nr&&nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cp,"__esModule",{value:!0});const Rc=cU(Ld);let uU=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Rc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Rc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new Rc.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Rc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Rc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Cp.default=uU;var yO=nr&&nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rw,"__esModule",{value:!0});const dU=yO(Cp),fU=yO(Ld);let hU=class bO{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new dU.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new bO(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(l="POST",u=r);const f=new Headers(this.headers);return i&&f.set("Prefer",`count=${i}`),new fU.default({method:l,url:c,headers:f,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Rw.default=hU;var sc=nr&&nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wr,"__esModule",{value:!0});wr.PostgrestError=wr.PostgrestBuilder=wr.PostgrestTransformBuilder=wr.PostgrestFilterBuilder=wr.PostgrestQueryBuilder=wr.PostgrestClient=void 0;const wO=sc(Rw);wr.PostgrestClient=wO.default;const jO=sc(Cp);wr.PostgrestQueryBuilder=jO.default;const NO=sc(Ld);wr.PostgrestFilterBuilder=NO.default;const SO=sc(Op);wr.PostgrestTransformBuilder=SO.default;const _O=sc(Tp);wr.PostgrestBuilder=_O.default;const EO=sc(Ip);wr.PostgrestError=EO.default;var mU=wr.default={PostgrestClient:wO.default,PostgrestQueryBuilder:jO.default,PostgrestFilterBuilder:NO.default,PostgrestTransformBuilder:SO.default,PostgrestBuilder:_O.default,PostgrestError:EO.default};const{PostgrestClient:pU,PostgrestQueryBuilder:Lwe,PostgrestFilterBuilder:Uwe,PostgrestTransformBuilder:Bwe,PostgrestBuilder:Fwe,PostgrestError:zwe}=mU;class gU{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const vU="2.15.5",xU=`realtime-js/${vU}`,yU="1.0.0",b0=1e4,bU=1e3,wU=100;var mu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(mu||(mu={}));var It;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(It||(It={}));var An;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(An||(An={}));var w0;(function(e){e.websocket="websocket"})(w0||(w0={}));var di;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(di||(di={}));class jU{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class PO{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Xe||(Xe={}));const tS=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=NU(o,e,t,a),i),{})},NU=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?kO(i,o):j0(o)},kO=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return PU(t,r)}switch(e){case Xe.bool:return SU(t);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return _U(t);case Xe.json:case Xe.jsonb:return EU(t);case Xe.timestamp:return kU(t);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return j0(t);default:return j0(t)}},j0=e=>e,SU=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},_U=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},EU=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},PU=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>kO(t,l))}return e},kU=e=>typeof e=="string"?e.replace(" ","T"):e,AO=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class wv{constructor(t,r,n={},a=b0){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var rS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(rS||(rS={}));class pu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pu.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=pu.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=pu.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,f)=>{o[u]||(c[u]=f)}),this.map(o,(u,f)=>{const d=i[u];if(d){const h=f.map(x=>x.presence_ref),m=d.map(x=>x.presence_ref),v=f.filter(x=>m.indexOf(x.presence_ref)<0),p=d.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(l[u]=v),p.length>0&&(c[u]=p)}else l[u]=f}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(m=>m.presence_ref),h=f.filter(m=>d.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,f,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var nS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(nS||(nS={}));var gu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(gu||(gu={}));var js;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(js||(js={}));class Mw{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=It.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new wv(this,An.join,this.params,this.timeout),this.rejoinTimer=new PO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=It.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=It.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this._on(An.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new pu(this),this.broadcastEndpointURL=AO(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==It.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],f=!!this.bindings[gu.PRESENCE]&&this.bindings[gu.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(js.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(js.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){t==null||t(js.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(v=p==null?void 0:p.length)!==null&&v!==void 0?v:0,g=[];for(let y=0;y<x;y++){const w=p[y],{filter:{event:S,schema:j,table:N,filter:_}}=w,E=m&&m[y];if(E&&E.event===S&&E.schema===j&&E.table===N&&E.filter===_)g.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=It.errored,t==null||t(js.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(js.SUBSCRIBED);return}}).receive("error",m=>{this.state=It.errored,t==null||t(js.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(js.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===It.joined&&t===gu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=It.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(An.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new wv(this,An.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=It.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new wv(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>wU){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=An;if(n&&[l,c,u,f].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var v,p,x;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,p,x,g,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,j=(v=m.filter)===null||v===void 0?void 0:v.event;return S&&((p=r.ids)===null||p===void 0?void 0:p.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(y=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:p,table:x,commit_timestamp:g,type:y,errors:w}=v;h=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:g,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===It.closed}_isJoined(){return this.state===It.joined}_isJoining(){return this.state===It.joining}_isLeaving(){return this.state===It.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Mw.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(An.close,{},t)}_onError(t){this._on(An.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=It.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=tS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=tS(t.columns,t.old_record)),r}}const jv=()=>{},wf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},AU=[1e3,2e3,5e3,1e4],CU=1e4,OU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class TU{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=b0,this.transport=null,this.heartbeatIntervalMs=wf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jv,this.ref=0,this.reconnectTimer=null,this.logger=jv,this.conn=null,this.sendBuffer=[],this.serializer=new jU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>qs(async()=>{const{default:l}=await Promise.resolve().then(()=>nc);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${w0.websocket}`,this.httpEndpoint=AO(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gU.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:yU}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case mu.connecting:return di.Connecting;case mu.open:return di.Open;case mu.closing:return di.Closing;default:return di.Closed}}isConnected(){return this.connectionState()===di.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Mw(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(bU,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},wf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(An.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([OU],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:xU};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(An.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new PO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,f;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:b0,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:wf.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:jv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:d=>AU[d-1]||CU,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Dw extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function St(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class IU extends Dw{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class N0 extends Dw{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var $U=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const CO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>qs(async()=>{const{default:n}=await Promise.resolve().then(()=>nc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},RU=()=>$U(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qs(()=>Promise.resolve().then(()=>nc),void 0)).Response:Response}),S0=e=>{if(Array.isArray(e))return e.map(r=>S0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=S0(n)}),t},MU=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var so=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Nv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DU=(e,t,r)=>so(void 0,void 0,void 0,function*(){const n=yield RU();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new IU(Nv(a),i,o))}).catch(a=>{t(new N0(Nv(a),a))}):t(new N0(Nv(e),e))}),LU=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(MU(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Ud(e,t,r,n,a,i){return so(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,LU(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>DU(c,l,n))})})}function Jh(e,t,r,n){return so(this,void 0,void 0,function*(){return Ud(e,"GET",t,r,n)})}function Zn(e,t,r,n,a){return so(this,void 0,void 0,function*(){return Ud(e,"POST",t,n,a,r)})}function _0(e,t,r,n,a){return so(this,void 0,void 0,function*(){return Ud(e,"PUT",t,n,a,r)})}function UU(e,t,r,n){return so(this,void 0,void 0,function*(){return Ud(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function OO(e,t,r,n,a){return so(this,void 0,void 0,function*(){return Ud(e,"DELETE",t,n,a,r)})}var BU=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class FU{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return BU(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(St(t))return{data:null,error:t};throw t}})}}var zU=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class VU{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new FU(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return zU(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(St(t))return{data:null,error:t};throw t}})}}var xr=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const WU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qU{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=CO(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return xr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},sS),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield(t=="PUT"?_0:Zn)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}upload(t,r,n){return xr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return xr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:sS.upsert},a),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield _0(this.fetch,l.toString(),c,{headers:f});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(St(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return xr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Zn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Dw("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}update(t,r,n){return xr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return xr(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(St(a))return{data:null,error:a};throw a}})}copy(t,r,n){return xr(this,void 0,void 0,function*(){try{return{data:{path:(yield Zn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(St(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return xr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Zn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(St(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return xr(this,void 0,void 0,function*(){try{const a=yield Zn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(St(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>Jh(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new VU(c,this.shouldThrowOnError)}info(t){return xr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Jh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:S0(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}exists(t){return xr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield UU(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n)&&n instanceof N0){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return xr(this,void 0,void 0,function*(){try{return{data:yield OO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}list(t,r,n){return xr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},WU),r),{prefix:t||""});return{data:yield Zn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(St(a))return{data:null,error:a};throw a}})}listV2(t,r){return xr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Zn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const KU="2.12.2",HU={"X-Client-Info":`storage-js/${KU}`};var go=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class GU{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},HU),r),this.fetch=CO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return go(this,void 0,void 0,function*(){try{return{data:yield Jh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(St(t))return{data:null,error:t};throw t}})}getBucket(t){return go(this,void 0,void 0,function*(){try{return{data:yield Jh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return go(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return go(this,void 0,void 0,function*(){try{return{data:yield _0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}emptyBucket(t){return go(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}deleteBucket(t){return go(this,void 0,void 0,function*(){try{return{data:yield OO(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}}class YU extends GU{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new qU(this.url,this.headers,t,this.fetch)}}const JU="2.58.0";let tu="";typeof Deno<"u"?tu="deno":typeof document<"u"?tu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tu="react-native":tu="node";const XU={"X-Client-Info":`supabase-js-${tu}/${JU}`},ZU={headers:XU},QU={schema:"public"},eB={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tB={};var rB=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const nB=e=>{let t;return e?t=e:typeof fetch>"u"?t=gO:t=fetch,(...r)=>t(...r)},sB=()=>typeof Headers>"u"?vO:Headers,aB=(e,t,r)=>{const n=nB(r),a=sB();return(i,o)=>rB(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var iB=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function oB(e){return e.endsWith("/")?e:e+"/"}function lB(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>iB(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function cB(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(oB(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const TO="2.72.0",Co=30*1e3,E0=3,Sv=E0*Co,uB="http://localhost:9999",dB="supabase.auth.token",fB={"X-Client-Info":`gotrue-js/${TO}`},P0="X-Supabase-Api-Version",IO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},hB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mB=10*60*1e3;class Lw extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function je(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class pB extends Lw{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function gB(e){return je(e)&&e.name==="AuthApiError"}class $O extends Lw{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class qa extends Lw{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class la extends qa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vB(e){return je(e)&&e.name==="AuthSessionMissingError"}class Mc extends qa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jf extends qa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Nf extends qa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xB(e){return je(e)&&e.name==="AuthImplicitGrantRedirectError"}class aS extends qa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class k0 extends qa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function _v(e){return je(e)&&e.name==="AuthRetryableFetchError"}class iS extends qa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class A0 extends qa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),oS=` 	
\r=`.split(""),yB=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<oS.length;t+=1)e[oS[t].charCodeAt(0)]=-2;for(let t=0;t<Xh.length;t+=1)e[Xh[t].charCodeAt(0)]=t;return e})();function lS(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Xh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Xh[n]),t.queuedBits-=6}}function RO(e,t,r){const n=yB[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function cS(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{jB(o,n,r)};for(let o=0;o<e.length;o+=1)RO(e.charCodeAt(o),a,i);return t.join("")}function bB(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function wB(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}bB(n,t)}}function jB(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function NB(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)RO(e.charCodeAt(a),r,n);return new Uint8Array(t)}function SB(e){const t=[];return wB(e,r=>t.push(r)),new Uint8Array(t)}function _B(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>lS(a,r,n)),lS(null,r,n),t.join("")}function EB(e){return Math.round(Date.now()/1e3)+e}function PB(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const rn=()=>typeof window<"u"&&typeof document<"u",ei={tested:!1,writable:!1},MO=()=>{if(!rn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ei.tested)return ei.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ei.tested=!0,ei.writable=!0}catch{ei.tested=!0,ei.writable=!1}return ei.writable};function kB(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const DO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>qs(async()=>{const{default:n}=await Promise.resolve().then(()=>nc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},AB=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Oo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ti=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},aa=async(e,t)=>{await e.removeItem(t)};class $p{constructor(){this.promise=new $p.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}$p.promiseConstructor=Promise;function Ev(e){const t=e.split(".");if(t.length!==3)throw new A0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!hB.test(t[n]))throw new A0("JWT not in base64url format");return{header:JSON.parse(cS(t[0])),payload:JSON.parse(cS(t[1])),signature:NB(t[2]),raw:{header:t[0],payload:t[1]}}}async function CB(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function OB(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function TB(e){return("0"+e.toString(16)).substr(-2)}function IB(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,TB).join("")}async function $B(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function RB(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $B(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vo(e,t,r=!1){const n=IB();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Oo(e,`${t}-code-verifier`,a);const i=await RB(n);return[i,n===i?"plain":"s256"]}const MB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function DB(e){const t=e.headers.get(P0);if(!t||!t.match(MB))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function LB(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function UB(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xo(e){if(!BB.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pv(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uS(e){return JSON.parse(JSON.stringify(e))}var FB=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const oi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zB=[502,503,504];async function dS(e){var t;if(!AB(e))throw new k0(oi(e),0);if(zB.includes(e.status))throw new k0(oi(e),e.status);let r;try{r=await e.json()}catch(i){throw new $O(oi(i),i)}let n;const a=DB(e);if(a&&a.getTime()>=IO["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new iS(oi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new la}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new iS(oi(r),e.status,r.weak_password.reasons);throw new pB(oi(r),e.status||500,n)}const VB=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ae(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[P0]||(i[P0]=IO["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await WB(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function WB(e,t,r,n,a,i){const o=VB(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new k0(oi(c),0)}if(l.ok||await dS(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await dS(c)}}function Jn(e){var t;let r=null;GB(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=EB(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function fS(e){const t=Jn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function pa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qB(e){return{data:e,error:null}}function KB(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=FB(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function HB(e){return e}function GB(e){return e.access_token&&e.refresh_token&&e.expires_in}const kv=["global","local","others"];var YB=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class JB{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=DO(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=kv[0]){if(kv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kv.join(", ")}`);try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:pa})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=YB(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:KB,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(je(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:pa})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:HB});if(f.error)throw f.error;const d=await f.json(),h=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(je(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){xo(t);try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:pa})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){xo(t);try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:pa})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){xo(t);try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:pa})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){xo(t.userId);try{const{data:r,error:n}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _deleteFactor(t){xo(t.userId),xo(t.id);try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}}function hS(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function XB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const yo={debug:!!(globalThis&&MO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LO extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ZB extends LO{}async function QB(e,t,r){yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),yo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ZB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(yo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function UO(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function eF(e){return parseInt(e,16)}function tF(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function rF(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:f,uri:d,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=UO(e.address),v=f?`${f}://${n}`:n,p=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${m}

${p}`;let g=`URI: ${d}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(g+=`
Expiration Time: ${a.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}g+=y}return`${x}
${g}`}XB();const nF={url:uB,storageKey:dB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function mS(e,t,r){return await r()}const bo={};class Ku{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ku.nextInstanceID,Ku.nextInstanceID+=1,this.instanceID>0&&rn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},nF),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new JB({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=DO(a.fetch),this.lock=a.lock||mS,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:rn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=QB:this.lock=mS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:MO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hS(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=hS(this.memoryStorage)),rn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=bo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){bo[this.storageKey]=Object.assign(Object.assign({},bo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=bo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){bo[this.storageKey]=Object.assign(Object.assign({},bo[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${TO}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=kB(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),rn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),xB(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return je(r)?{error:r}:{error:new $O("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Jn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(je(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:f,password:d,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await vo(this.storage,this.storageKey)),i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:Jn})}else if("phone"in t){const{phone:f,password:d,options:h}=t;i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Jn})}else throw new jf("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(je(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:fS})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:fS})}else throw new jf("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Mc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,f,d,h;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:p,wallet:x,statement:g,options:y}=t;let w;if(rn())if(typeof x=="object")w=x;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")w=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const S=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=UO(j[0]);let _=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const k=await w.request({method:"eth_chainId"});_=eF(k)}const E={domain:S.host,address:N,statement:g,uri:S.href,version:"1",chainId:_,nonce:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=y==null?void 0:y.signInWithEthereum)===null||f===void 0?void 0:f.resources};m=rF(E),v=await w.request({method:"personal_sign",params:[tF(m),N]})}try{const{data:p,error:x}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Jn});if(x)throw x;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new Mc}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:x})}catch(p){if(je(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,f,d,h,m;let v,p;if("message"in t)v=t.message,p=t.signature;else{const{chain:x,wallet:g,statement:y,options:w}=t;let S;if(rn())if(typeof g=="object")S=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))S=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=g}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const N=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),y?{statement:y}:null));let _;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")_=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)_=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)v=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),p=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(f=w==null?void 0:w.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const N=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=N}}try{const{data:x,error:g}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:_B(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Jn});if(g)throw g;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Mc}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:g})}catch(x){if(je(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await ti(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Jn});if(await aa(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Mc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(je(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Jn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Mc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await vo(this.storage,this.storageKey));const{error:d}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new jf("You must provide either an email or phone number.")}catch(l){if(je(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Jn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(je(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await vo(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:qB})}catch(i){if(je(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new la;const{error:a}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(je(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new jf("You must provide either an email or phone number and a type")}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ti(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Sv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ti(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Pv()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:pa}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new la}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:pa})})}catch(r){if(je(r))return vB(r)&&(await this._removeSession(),await aa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new la;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await vo(this.storage,this.storageKey));const{data:u,error:f}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:pa});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new la;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Ev(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(je(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new la;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!rn())throw new Nf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Nf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new aS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new aS("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Nf("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;c&&(h=parseInt(c));const m=h-f;m*1e3<=Co&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const v=h-d;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,f);const{data:p,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(je(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ti(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(gB(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await aa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=PB(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await vo(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(je(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,f;const{data:d,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",m,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(a)throw a;return rn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(je(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await OB(async a=>(a>0&&await CB(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jn})),(a,i)=>{const o=200*Math.pow(2,a);return i&&_v(i)&&Date.now()+o-n<Co})}catch(n){if(this._debug(r,"error",n),je(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),rn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ti(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ti(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Oo(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Pv()}else if(a&&!a.user&&!a.user){const o=await ti(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await aa(this.storage,this.storageKey+"-user"),await Oo(this.storage,this.storageKey,a)):a.user=Pv()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Sv;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Sv}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),_v(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new la;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new $p;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new la;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),je(i)){const o={session:null,error:i};return _v(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Oo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=uS(a);await Oo(this.storage,this.storageKey,i)}else{const a=uS(r);await Oo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await aa(this.storage,this.storageKey),await aa(this.storage,this.storageKey+"-code-verifier"),await aa(this.storage,this.storageKey+"-user"),this.userStorage&&await aa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Co);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Co);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Co}ms, refresh threshold is ${E0} ticks`),a<=E0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof LO)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await vo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(je(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(je(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ev(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+mB>a)return n;const{data:i,error:o}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Ev(n);r!=null&&r.allowExpired||LB(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const f=UB(a.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,o,SB(`${l}.${c}`)))throw new A0("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}}Ku.nextInstanceID=0;const sF=Ku;class aF extends sF{constructor(t){super(t)}}var iF=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class oF{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=cB(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:QU,realtime:tB,auth:Object.assign(Object.assign({},eB),{storageKey:c}),global:ZU},f=lB(n??{},u);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=aB(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new pU(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new YU(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new H8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return iF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},f,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aF({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),f),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new TU(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lF=(e,t,r)=>new oF(e,t,r);function cF(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}cF()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const BO="https://mwvcbedvnimabfwubazz.supabase.co",FO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY",uF="pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK";{if(!/^https:\/\/[a-z0-9-]+\.supabase\.co$/.test(BO))throw new Error(" Invalid or missing VITE_SUPABASE_URL in production");if(FO.split(".").length<3)throw new Error(" Invalid or missing VITE_SUPABASE_ANON_KEY in production");if(!/^pk_live_[A-Za-z0-9]+$/.test(uF))throw new Error(" Invalid or missing VITE_STRIPE_PUBLISHABLE_KEY in production")}const I=lF(BO,FO),dF=Object.freeze(Object.defineProperty({__proto__:null,supabase:I},Symbol.toStringTag,{value:"Module"})),fF=b.createContext(null);function hF({children:e}){const t=b.useMemo(()=>({url:null,anon:null,setConfigOpen:()=>{}}),[]);return s.jsx(fF.Provider,{value:t,children:e})}function Bd(){return I}const pS={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GOOGLE_MAPS_API_KEY:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY",VITE_SUPABASE_URL:"https://mwvcbedvnimabfwubazz.supabase.co"},Zh=()=>{const e=a=>{var i,o;if(typeof import.meta<"u"&&pS)return pS[a];if(typeof window<"u"&&((o=(i=window.import)==null?void 0:i.meta)!=null&&o.env))return window.import.meta.env[a]},t=e("VITE_SUPABASE_URL")||"https://mwvcbedvnimabfwubazz.supabase.co",r=e("VITE_SUPABASE_ANON_KEY")||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY",n=!!e("VITE_SUPABASE_URL");return{supabase:{url:t,anonKey:r,isConfigured:!0},url:t,anon:r,source:n?"environment":"fallback",domain:typeof window<"u"?window.location.hostname:"unknown"}};function mF({children:e}){const[t,r]=b.useState(null),[n,a]=b.useState(!1);return b.useEffect(()=>{(async()=>{try{const o=Zh();if(typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1")){console.info(" Production mode: Using configuration fallbacks"),a(!0);return}if(!o.url||!o.anon||o.url==="undefined"||o.anon==="undefined")throw new Error("Development environment requires proper configuration");console.info(" Configuration validated:",{url:o.url.replace(/https?:\/\//,"").split(".")[0]+"...",source:o.source}),a(!0)}catch(o){const l=o instanceof Error?o.message:"Configuration error";console.error(" Config validation failed:",l),r(l),a(!0)}})()},[]),t?typeof window<"u"&&!window.location.pathname.includes("/setup")?(window.location.href="/setup",null):s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f9fafb",fontFamily:"system-ui, -apple-system, sans-serif",zIndex:9999,padding:"1rem"},children:s.jsx("div",{style:{maxWidth:"32rem",width:"100%",padding:"2rem",backgroundColor:"white",borderRadius:"0.75rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),s.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#dc2626",marginBottom:"1rem",lineHeight:"1.2"},children:"Environment Configuration Required"}),s.jsx("p",{style:{color:"#374151",marginBottom:"1.5rem",lineHeight:"1.6",fontSize:"1rem"},children:t}),s.jsxs("div",{style:{fontSize:"0.875rem",color:"#6b7280",backgroundColor:"#f9fafb",padding:"1rem",borderRadius:"0.5rem",marginTop:"1rem",textAlign:"left",lineHeight:"1.5"},children:[s.jsx("strong",{style:{color:"#374151"},children:"Setup Instructions:"}),s.jsx("br",{}),s.jsx("br",{}),"1. Go to ",s.jsx("strong",{children:"Vercel Dashboard"}),s.jsx("br",{}),"2. Select your project  ",s.jsx("strong",{children:"Settings"}),"  ",s.jsx("strong",{children:"Environment Variables"}),s.jsx("br",{}),"3. Add these variables:",s.jsx("br",{})," ",s.jsx("code",{children:"VITE_SUPABASE_URL"}),s.jsx("br",{})," ",s.jsx("code",{children:"VITE_SUPABASE_ANON_KEY"}),s.jsx("br",{}),"4. Set for ",s.jsx("strong",{children:"Production, Preview, and Development"}),s.jsx("br",{}),"5. ",s.jsx("strong",{children:"Redeploy"})," your application"]})]})})}):n?s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"fixed inset-0 min-h-screen flex items-center justify-center bg-gray-900 text-white z-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4 animate-spin",children:""}),s.jsx("div",{className:"text-xl",children:"Loading GreenScape Lux..."})]})})}const C0="G-XXXXXXXXXX",pF=()=>{if(typeof window>"u")return;const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${C0}`,document.head.appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",C0,{page_title:document.title,page_location:window.location.href})},gF=(e,t)=>{typeof window>"u"||!window.gtag||window.gtag("config",C0,{page_path:e,page_title:document.title})},O0=(e,t,r,n)=>{typeof window>"u"||!window.gtag||window.gtag("event",e,{event_category:t,event_label:r,value:n})},vF=(e,t)=>{typeof window>"u"||!window.gtag||window.gtag("event","conversion",{send_to:e,value:t,currency:"USD"})},xF=(e,t)=>{O0("quote_submitted","form",e.join(", "),t),vF("AW-XXXXXXXXX/XXXXXXXXX",t)},yF=({children:e})=>{const t=qt();return b.useEffect(()=>{gF(t.pathname+t.search)},[t]),s.jsx(s.Fragment,{children:e})},bF=kp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border-border",success:"border-transparent bg-green-500/20 text-green-700 dark:text-green-300 border-green-500/30",warning:"border-transparent bg-yellow-500/20 text-yellow-700 dark:text-yellow-300 border-yellow-500/30",info:"border-transparent bg-primary/10 text-primary border-primary/30"},size:{default:"px-2.5 py-0.5 text-xs",sm:"px-2 py-0.5 text-[10px]",lg:"px-3 py-0.5 text-sm"}},defaultVariants:{variant:"default",size:"default"}});function ee({className:e,variant:t,size:r,...n}){return s.jsx("div",{className:me(bF({variant:t,size:r}),e),...n})}const wF=kp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground shadow-sm",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-600 dark:text-green-400 [&>svg]:text-green-600 dark:[&>svg]:text-green-400 bg-green-50 dark:bg-green-950/20",warning:"border-yellow-500/50 text-yellow-600 dark:text-yellow-400 [&>svg]:text-yellow-600 dark:[&>svg]:text-yellow-400 bg-yellow-50 dark:bg-yellow-950/20",info:"border-primary/50 text-primary dark:text-primary-foreground [&>svg]:text-primary bg-primary/10 dark:bg-primary/20"}},defaultVariants:{variant:"default"}}),Be=b.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:me(wF({variant:t}),e),...r}));Be.displayName="Alert";const zO=b.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:me("mb-1 font-medium leading-none tracking-tight",e),...t}));zO.displayName="AlertTitle";const Fe=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:me("text-sm [&_p]:leading-relaxed opacity-90",e),...t}));Fe.displayName="AlertDescription";function Ce(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function jF(e,t){const r=b.createContext(t),n=i=>{const{children:o,...l}=i,c=b.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=b.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function ms(e,t=[]){let r=[];function n(i,o){const l=b.createContext(o),c=r.length;r=[...r,o];const u=d=>{var g;const{scope:h,children:m,...v}=d,p=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,x=b.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function f(d,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,v=b.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,f]}const a=()=>{const i=r.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,NF(a,...t)]}function NF(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...l,...d}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function VO(e){const t=e+"CollectionProvider",[r,n]=ms(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:g}=p,y=P.useRef(null),w=P.useRef(new Map).current;return s.jsx(a,{scope:x,itemMap:w,collectionRef:y,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=gl(l),u=P.forwardRef((p,x)=>{const{scope:g,children:y}=p,w=i(l,g),S=rt(x,w.collectionRef);return s.jsx(c,{ref:S,children:y})});u.displayName=l;const f=e+"CollectionItemSlot",d="data-radix-collection-item",h=gl(f),m=P.forwardRef((p,x)=>{const{scope:g,children:y,...w}=p,S=P.useRef(null),j=rt(x,S),N=i(f,g);return P.useEffect(()=>(N.itemMap.set(S,{ref:S,...w}),()=>void N.itemMap.delete(S))),s.jsx(h,{[d]:"",ref:j,children:y})});m.displayName=f;function v(p){const x=i(e+"CollectionConsumer",p);return P.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((N,_)=>w.indexOf(N.ref.current)-w.indexOf(_.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,n]}var Lt=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},SF=Ob[" useId ".trim().toString()]||(()=>{}),_F=0;function Ta(e){const[t,r]=b.useState(SF());return Lt(()=>{r(n=>n??String(_F++))},[e]),t?`radix-${t}`:""}var EF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_e=EF.reduce((e,t)=>{const r=gl(`Primitive.${t}`),n=b.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function PF(e,t){e&&Xl.flushSync(()=>e.dispatchEvent(t))}function Us(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var kF=Ob[" useInsertionEffect ".trim().toString()]||Lt;function Fi({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=AF({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const f=b.useRef(e!==void 0);b.useEffect(()=>{const d=f.current;d!==l&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const u=b.useCallback(f=>{var d;if(l){const h=CF(f)?f(e):f;h!==e&&((d=o.current)==null||d.call(o,h))}else i(f)},[l,e,i,o]);return[c,u]}function AF({defaultProp:e,onChange:t}){const[r,n]=b.useState(e),a=b.useRef(r),i=b.useRef(t);return kF(()=>{i.current=t},[t]),b.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function CF(e){return typeof e=="function"}var OF=b.createContext(void 0);function Uw(e){const t=b.useContext(OF);return e||t||"ltr"}var Av="rovingFocusGroup.onEntryFocus",TF={bubbles:!1,cancelable:!0},Fd="RovingFocusGroup",[T0,WO,IF]=VO(Fd),[$F,qO]=ms(Fd,[IF]),[RF,MF]=$F(Fd),KO=b.forwardRef((e,t)=>s.jsx(T0.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(T0.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(DF,{...e,ref:t})})}));KO.displayName=Fd;var DF=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=b.useRef(null),m=rt(t,h),v=Uw(i),[p,x]=Fi({prop:o,defaultProp:l??null,onChange:c,caller:Fd}),[g,y]=b.useState(!1),w=Us(u),S=WO(r),j=b.useRef(!1),[N,_]=b.useState(0);return b.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(Av,w),()=>E.removeEventListener(Av,w)},[w]),s.jsx(RF,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:p,onItemFocus:b.useCallback(E=>x(E),[x]),onItemShiftTab:b.useCallback(()=>y(!0),[]),onFocusableItemAdd:b.useCallback(()=>_(E=>E+1),[]),onFocusableItemRemove:b.useCallback(()=>_(E=>E-1),[]),children:s.jsx(_e.div,{tabIndex:g||N===0?-1:0,"data-orientation":n,...d,ref:m,style:{outline:"none",...e.style},onMouseDown:Ce(e.onMouseDown,()=>{j.current=!0}),onFocus:Ce(e.onFocus,E=>{const k=!j.current;if(E.target===E.currentTarget&&k&&!g){const A=new CustomEvent(Av,TF);if(E.currentTarget.dispatchEvent(A),!A.defaultPrevented){const O=S().filter(D=>D.focusable),C=O.find(D=>D.active),M=O.find(D=>D.id===p),L=[C,M,...O].filter(Boolean).map(D=>D.ref.current);YO(L,f)}}j.current=!1}),onBlur:Ce(e.onBlur,()=>y(!1))})})}),HO="RovingFocusGroupItem",GO=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Ta(),u=i||c,f=MF(HO,r),d=f.currentTabStopId===u,h=WO(r),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:p}=f;return b.useEffect(()=>{if(n)return m(),()=>v()},[n,m,v]),s.jsx(T0.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(_e.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Ce(e.onMouseDown,x=>{n?f.onItemFocus(u):x.preventDefault()}),onFocus:Ce(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:Ce(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){f.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=BF(x,f.orientation,f.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=h().filter(S=>S.focusable).map(S=>S.ref.current);if(g==="last")w.reverse();else if(g==="prev"||g==="next"){g==="prev"&&w.reverse();const S=w.indexOf(x.currentTarget);w=f.loop?FF(w,S+1):w.slice(S+1)}setTimeout(()=>YO(w))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:p!=null}):o})})});GO.displayName=HO;var LF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function UF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function BF(e,t,r){const n=UF(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return LF[n]}function YO(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function FF(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var zF=KO,VF=GO;function WF(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var ac=e=>{const{present:t,children:r}=e,n=qF(t),a=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),i=rt(n.ref,KF(a));return typeof r=="function"||n.isPresent?b.cloneElement(a,{ref:i}):null};ac.displayName="Presence";function qF(e){const[t,r]=b.useState(),n=b.useRef(null),a=b.useRef(e),i=b.useRef("none"),o=e?"mounted":"unmounted",[l,c]=WF(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Sf(n.current);i.current=l==="mounted"?u:"none"},[l]),Lt(()=>{const u=n.current,f=a.current;if(f!==e){const h=i.current,m=Sf(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Lt(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=m=>{const p=Sf(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=m=>{m.target===t&&(i.current=Sf(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Sf(e){return(e==null?void 0:e.animationName)||"none"}function KF(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Rp="Tabs",[HF]=ms(Rp,[qO]),JO=qO(),[GF,Bw]=HF(Rp),XO=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=Uw(l),[d,h]=Fi({prop:n,onChange:a,defaultProp:i??"",caller:Rp});return s.jsx(GF,{scope:r,baseId:Ta(),value:d,onValueChange:h,orientation:o,dir:f,activationMode:c,children:s.jsx(_e.div,{dir:f,"data-orientation":o,...u,ref:t})})});XO.displayName=Rp;var ZO="TabsList",QO=b.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=Bw(ZO,r),o=JO(r);return s.jsx(zF,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(_e.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});QO.displayName=ZO;var eT="TabsTrigger",tT=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=Bw(eT,r),l=JO(r),c=sT(o.baseId,n),u=aT(o.baseId,n),f=n===o.value;return s.jsx(VF,{asChild:!0,...l,focusable:!a,active:f,children:s.jsx(_e.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ce(e.onMouseDown,d=>{!a&&d.button===0&&d.ctrlKey===!1?o.onValueChange(n):d.preventDefault()}),onKeyDown:Ce(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(n)}),onFocus:Ce(e.onFocus,()=>{const d=o.activationMode!=="manual";!f&&!a&&d&&o.onValueChange(n)})})})});tT.displayName=eT;var rT="TabsContent",nT=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=Bw(rT,r),c=sT(l.baseId,n),u=aT(l.baseId,n),f=n===l.value,d=b.useRef(f);return b.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(ac,{present:a||f,children:({present:h})=>s.jsx(_e.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&i})})});nT.displayName=rT;function sT(e,t){return`${e}-trigger-${t}`}function aT(e,t){return`${e}-content-${t}`}var YF=XO,iT=QO,oT=tT,lT=nT;const ps=YF,Wn=b.forwardRef(({className:e,...t},r)=>s.jsx(iT,{ref:r,className:me("inline-flex h-10 items-center justify-center rounded-md bg-muted/50 p-1 text-muted-foreground",e),...t}));Wn.displayName=iT.displayName;const ye=b.forwardRef(({className:e,...t},r)=>s.jsx(oT,{ref:r,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm hover:text-foreground",e),...t}));ye.displayName=oT.displayName;const Ne=b.forwardRef(({className:e,...t},r)=>s.jsx(lT,{ref:r,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 animate-in fade-in-0 data-[state=inactive]:animate-out data-[state=inactive]:fade-out-0 duration-200",e),...t}));Ne.displayName=lT.displayName;const gS={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GOOGLE_MAPS_API_KEY:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY",VITE_SUPABASE_URL:"https://mwvcbedvnimabfwubazz.supabase.co"},JF={development:{required:["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY"],optional:["VITE_STRIPE_PUBLISHABLE_KEY","VITE_GOOGLE_MAPS_API_KEY","VITE_RESEND_API_KEY"],validationRules:{VITE_SUPABASE_URL:e=>e.startsWith("https://")&&e.includes("supabase"),VITE_SUPABASE_ANON_KEY:e=>e.length>100,VITE_STRIPE_PUBLISHABLE_KEY:e=>e.startsWith("pk_test_")||e==="",VITE_GOOGLE_MAPS_API_KEY:e=>e.length>20||e===""},errorMessages:{VITE_SUPABASE_URL:"Must be a valid Supabase URL starting with https://",VITE_SUPABASE_ANON_KEY:"Must be a valid Supabase anonymous key (100+ chars)",VITE_STRIPE_PUBLISHABLE_KEY:"Must be a test key starting with pk_test_ in development",VITE_GOOGLE_MAPS_API_KEY:"Must be a valid Google Maps API key"},placeholderPatterns:["your_","YOUR_","placeholder","PLACEHOLDER","replace_me","REPLACE_ME","sk_test_123","pk_test_123","example.com","localhost:3000"]},staging:{required:["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY","VITE_STRIPE_PUBLISHABLE_KEY"],optional:["VITE_GOOGLE_MAPS_API_KEY","VITE_RESEND_API_KEY"],validationRules:{VITE_SUPABASE_URL:e=>e.startsWith("https://")&&e.includes("supabase"),VITE_SUPABASE_ANON_KEY:e=>e.length>100,VITE_STRIPE_PUBLISHABLE_KEY:e=>e.startsWith("pk_test_"),VITE_GOOGLE_MAPS_API_KEY:e=>e.length>20},errorMessages:{VITE_SUPABASE_URL:"Must be a valid Supabase URL for staging environment",VITE_SUPABASE_ANON_KEY:"Must be a valid Supabase anonymous key for staging",VITE_STRIPE_PUBLISHABLE_KEY:"Must be a Stripe test key for staging (pk_test_)",VITE_GOOGLE_MAPS_API_KEY:"Google Maps API key required for staging"},placeholderPatterns:["your_","YOUR_","placeholder","PLACEHOLDER","replace_me","REPLACE_ME","sk_test_123","pk_test_123","example.com"]},production:{required:["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY","VITE_STRIPE_PUBLISHABLE_KEY","VITE_GOOGLE_MAPS_API_KEY"],optional:["VITE_RESEND_API_KEY"],validationRules:{VITE_SUPABASE_URL:e=>e.startsWith("https://")&&e.includes("supabase"),VITE_SUPABASE_ANON_KEY:e=>e.length>100,VITE_STRIPE_PUBLISHABLE_KEY:e=>e.startsWith("pk_live_"),VITE_GOOGLE_MAPS_API_KEY:e=>e.length>20},errorMessages:{VITE_SUPABASE_URL:"Must be a valid production Supabase URL",VITE_SUPABASE_ANON_KEY:"Must be a valid production Supabase anonymous key",VITE_STRIPE_PUBLISHABLE_KEY:"Must be a live Stripe key for production (pk_live_)",VITE_GOOGLE_MAPS_API_KEY:"Google Maps API key is required in production"},placeholderPatterns:["your_","YOUR_","placeholder","PLACEHOLDER","replace_me","REPLACE_ME","sk_test_","pk_test_","example.com","localhost","staging"]}};class XF{constructor(){Me(this,"environment");Me(this,"config");this.environment=this.detectEnvironment(),this.config=JF[this.environment]}detectEnvironment(){return"production"}getCurrentEnvironment(){return this.environment}validateEnvironment(){const t={isValid:!0,environment:this.environment,errors:[],warnings:[],missingRequired:[],invalidValues:{},placeholderValues:{}};for(const r of this.config.required){const n=gS[r];if(!n){t.missingRequired.push(r),t.errors.push(`Missing required variable: ${r}`),t.isValid=!1;continue}if(this.isPlaceholderValue(n)){t.placeholderValues[r]=n,t.errors.push(`${r} contains placeholder value: ${n}`),t.isValid=!1;continue}const a=this.config.validationRules[r];a&&!a(n)&&(t.invalidValues[r]=this.config.errorMessages[r]||"Invalid value",t.errors.push(`${r}: ${this.config.errorMessages[r]}`),t.isValid=!1)}for(const r of this.config.optional){const n=gS[r];if(n)if(this.isPlaceholderValue(n))t.placeholderValues[r]=n,t.warnings.push(`${r} contains placeholder value: ${n}`);else{const a=this.config.validationRules[r];a&&!a(n)&&(t.invalidValues[r]=this.config.errorMessages[r]||"Invalid value",t.warnings.push(`${r}: ${this.config.errorMessages[r]}`))}}return t}isPlaceholderValue(t){return this.config.placeholderPatterns.some(r=>t.toLowerCase().includes(r.toLowerCase()))}getEnvironmentRequirements(){return{...this.config}}getValidationSummary(){const t=this.validateEnvironment(),r=[`Environment: ${t.environment.toUpperCase()}`,`Status: ${t.isValid?" Valid":" Invalid"}`,""];return t.errors.length>0&&(r.push("ERRORS:"),t.errors.forEach(n=>r.push(`   ${n}`)),r.push("")),t.warnings.length>0&&(r.push("WARNINGS:"),t.warnings.forEach(n=>r.push(`    ${n}`)),r.push("")),t.isValid&&r.push("All environment variables are properly configured! "),r.join(`
`)}}const rl=new XF,vS={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GOOGLE_MAPS_API_KEY:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY",VITE_SUPABASE_URL:"https://mwvcbedvnimabfwubazz.supabase.co"},ZF=()=>{const[e,t]=b.useState(null),[r,n]=b.useState(!0),a=()=>{n(!0),setTimeout(()=>{const l=rl.validateEnvironment();t(l),n(!1)},500)};b.useEffect(()=>{a()},[]);const i=l=>{switch(l){case"production":return"destructive";case"staging":return"secondary";case"development":return"default"}},o=l=>r?s.jsx(Yt,{className:"h-4 w-4 animate-spin"}):l?s.jsx($e,{className:"h-4 w-4 text-green-500"}):s.jsx(Vt,{className:"h-4 w-4 text-red-500"});return r?s.jsx(R,{className:"w-full max-w-4xl mx-auto",children:s.jsxs(V,{children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"h-5 w-5"}),"Environment Validation",s.jsx(Yt,{className:"h-4 w-4 animate-spin"})]}),s.jsx(Ge,{children:"Validating environment configuration..."})]})}):e?s.jsx("div",{className:"w-full max-w-6xl mx-auto space-y-6",children:s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsxs(W,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"h-5 w-5"}),"Environment Configuration Status",o(e.isValid)]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ee,{variant:i(e.environment),children:e.environment.toUpperCase()}),s.jsxs(B,{onClick:a,variant:"outline",size:"sm",children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Revalidate"]})]})]}),s.jsxs(Ge,{children:["Multi-environment validation for ",e.environment," environment"]})]}),s.jsxs(F,{children:[!e.isValid&&s.jsxs(Be,{className:"mb-4",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx(Fe,{children:"Environment validation failed. Please fix the issues below before proceeding."})]}),e.isValid&&s.jsxs(Be,{className:"mb-4 border-green-200 bg-green-50",children:[s.jsx($e,{className:"h-4 w-4 text-green-600"}),s.jsxs(Fe,{className:"text-green-800",children:["All environment variables are properly configured for ",e.environment,"!"]})]}),s.jsxs(ps,{defaultValue:"overview",className:"w-full",children:[s.jsxs(Wn,{className:"grid w-full grid-cols-4",children:[s.jsx(ye,{value:"overview",children:"Overview"}),s.jsxs(ye,{value:"errors",children:["Errors (",e.errors.length,")"]}),s.jsxs(ye,{value:"warnings",children:["Warnings (",e.warnings.length,")"]}),s.jsx(ye,{value:"requirements",children:"Requirements"})]}),s.jsx(Ne,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(R,{children:[s.jsx(V,{className:"pb-2",children:s.jsx(W,{className:"text-sm font-medium",children:"Environment"})}),s.jsx(F,{children:s.jsx(ee,{variant:i(e.environment),className:"text-lg",children:e.environment.toUpperCase()})})]}),s.jsxs(R,{children:[s.jsx(V,{className:"pb-2",children:s.jsx(W,{className:"text-sm font-medium",children:"Status"})}),s.jsx(F,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[o(e.isValid),s.jsx("span",{className:e.isValid?"text-green-600":"text-red-600",children:e.isValid?"Valid":"Invalid"})]})})]}),s.jsxs(R,{children:[s.jsx(V,{className:"pb-2",children:s.jsx(W,{className:"text-sm font-medium",children:"Issues"})}),s.jsxs(F,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.errors.length+e.warnings.length}),s.jsxs("div",{className:"text-sm text-gray-500",children:[e.errors.length," errors, ",e.warnings.length," warnings"]})]})]})]})}),s.jsxs(Ne,{value:"errors",className:"space-y-4",children:[e.errors.length===0?s.jsxs(Be,{className:"border-green-200 bg-green-50",children:[s.jsx($e,{className:"h-4 w-4 text-green-600"}),s.jsx(Fe,{className:"text-green-800",children:"No errors found! All required environment variables are properly configured."})]}):s.jsx("div",{className:"space-y-2",children:e.errors.map((l,c)=>s.jsxs(Be,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx(Fe,{children:l})]},c))}),e.missingRequired.length>0&&s.jsxs(R,{children:[s.jsx(V,{children:s.jsx(W,{className:"text-red-600",children:"Missing Required Variables"})}),s.jsx(F,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:e.missingRequired.map(l=>s.jsx(ee,{variant:"destructive",children:l},l))})})]}),Object.keys(e.placeholderValues).length>0&&s.jsxs(R,{children:[s.jsx(V,{children:s.jsx(W,{className:"text-orange-600",children:"Placeholder Values Detected"})}),s.jsx(F,{children:s.jsx("div",{className:"space-y-2",children:Object.entries(e.placeholderValues).map(([l,c])=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-orange-50 rounded",children:[s.jsx(ee,{variant:"secondary",children:l}),s.jsx("code",{className:"text-sm text-orange-700",children:c})]},l))})})]})]}),s.jsx(Ne,{value:"warnings",className:"space-y-4",children:e.warnings.length===0?s.jsxs(Be,{className:"border-green-200 bg-green-50",children:[s.jsx($e,{className:"h-4 w-4 text-green-600"}),s.jsx(Fe,{className:"text-green-800",children:"No warnings! Optional environment variables are properly configured."})]}):s.jsx("div",{className:"space-y-2",children:e.warnings.map((l,c)=>s.jsxs(Be,{className:"border-yellow-200 bg-yellow-50",children:[s.jsx(Pt,{className:"h-4 w-4 text-yellow-600"}),s.jsx(Fe,{className:"text-yellow-800",children:l})]},c))})}),s.jsx(Ne,{value:"requirements",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsx(W,{className:"text-red-600",children:"Required Variables"}),s.jsxs(Ge,{children:["These variables must be set for ",e.environment," environment"]})]}),s.jsx(F,{children:s.jsx("div",{className:"space-y-2",children:rl.getEnvironmentRequirements().required.map(l=>{const c=vS[l];return s.jsxs("div",{className:"flex items-center justify-between p-2 rounded border",children:[s.jsx("code",{className:"text-sm",children:l}),c?s.jsx($e,{className:"h-4 w-4 text-green-500"}):s.jsx(Vt,{className:"h-4 w-4 text-red-500"})]},l)})})})]}),s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsx(W,{className:"text-blue-600",children:"Optional Variables"}),s.jsxs(Ge,{children:["These variables are optional but recommended for ",e.environment]})]}),s.jsx(F,{children:s.jsx("div",{className:"space-y-2",children:rl.getEnvironmentRequirements().optional.map(l=>{const c=vS[l];return s.jsxs("div",{className:"flex items-center justify-between p-2 rounded border",children:[s.jsx("code",{className:"text-sm",children:l}),c?s.jsx($e,{className:"h-4 w-4 text-green-500"}):s.jsx(Pt,{className:"h-4 w-4 text-yellow-500"})]},l)})})})]})]})})]})]})]})}):null};function QF(){const[e,t]=b.useState([{name:"Supabase URL",key:"VITE_SUPABASE_URL",configured:!"https://mwvcbedvnimabfwubazz.supabase.co".includes("your-project")},{name:"Supabase Anon Key",key:"VITE_SUPABASE_ANON_KEY",configured:!"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY".includes("your-anon-key")},{name:"Stripe Publishable Key",key:"VITE_STRIPE_PUBLISHABLE_KEY",configured:!"pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK".includes("pk_test_placeholder")}]),r=e.every(a=>a.configured),n=async()=>{const a=[...e],i=a.find(l=>l.key==="VITE_SUPABASE_URL");if(i){i.testing=!0,t([...a]);try{const{error:l}=await I.from("profiles").select("count").limit(1);i.valid=!l,i.error=l==null?void 0:l.message}catch(l){i.valid=!1,i.error=l.message}i.testing=!1}const o=a.find(l=>l.key==="VITE_STRIPE_PUBLISHABLE_KEY");if(o){o.testing=!0,t([...a]);const l="pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK";o.valid=l==null?void 0:l.startsWith("pk_"),o.error=o.valid?void 0:"Invalid Stripe key format",o.testing=!1}t([...a])};return r?null:s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs(R,{className:"max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs(V,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-6 w-6 text-yellow-500"}),s.jsx(W,{children:"Environment Configuration Required"})]}),s.jsx(Ge,{children:"Your application is using fallback values. Configure environment variables in Vercel."})]}),s.jsxs(F,{className:"space-y-6",children:[s.jsx("div",{className:"grid gap-3",children:e.map(a=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:a.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:a.key}),a.error&&s.jsx("div",{className:"text-sm text-red-500 mt-1",children:a.error})]}),a.testing?s.jsx(Oa,{className:"h-5 w-5 animate-spin text-blue-500"}):a.valid===!0?s.jsx($e,{className:"h-5 w-5 text-green-500"}):a.valid===!1?s.jsx(Vt,{className:"h-5 w-5 text-red-500"}):a.configured?null:s.jsx(Vt,{className:"h-5 w-5 text-yellow-500"})]},a.key))}),s.jsx(B,{onClick:n,className:"w-full",children:"Test Connections"}),s.jsxs(Be,{children:[s.jsx(zO,{children:"Configuration Steps"}),s.jsxs(Fe,{className:"mt-2 space-y-2 text-sm",children:[s.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[s.jsx("li",{children:"Go to your Vercel project dashboard"}),s.jsx("li",{children:"Navigate to Settings  Environment Variables"}),s.jsxs("li",{children:["Add these variables:",s.jsxs("ul",{className:"list-disc list-inside ml-4 mt-1 space-y-1",children:[s.jsx("li",{children:s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"VITE_SUPABASE_URL"})}),s.jsx("li",{children:s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"VITE_SUPABASE_ANON_KEY"})}),s.jsx("li",{children:s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"VITE_STRIPE_PUBLISHABLE_KEY"})})]})]}),s.jsx("li",{children:"Redeploy your application"})]}),s.jsxs("a",{href:"https://vercel.com/docs/projects/environment-variables",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-500 hover:underline mt-2",children:["View Vercel Documentation ",s.jsx(lO,{className:"h-3 w-3"})]})]})]})]})]})})}const ez=()=>{var h,m,v,p;const[e,t]=b.useState(null),[r,n]=b.useState(!0),a=b.useCallback(()=>{n(!0),setTimeout(()=>{try{const x=rl.validateEnvironment();t(x)}catch(x){console.error("Environment validation failed:",x),t({isValid:!1,environment:rl.getCurrentEnvironment(),errors:["Environment validation failed"],warnings:[],missingRequired:[],invalidValues:{},placeholderValues:{}})}finally{n(!1)}},100)},[]),i=b.useCallback(()=>{a()},[a]);b.useEffect(()=>{a()},[a]);const o=rl.getCurrentEnvironment(),l=(e==null?void 0:e.isValid)??!1,c=(((h=e==null?void 0:e.errors)==null?void 0:h.length)??0)>0,u=(((m=e==null?void 0:e.warnings)==null?void 0:m.length)??0)>0,f=((v=e==null?void 0:e.errors)==null?void 0:v.length)??0,d=((p=e==null?void 0:e.warnings)==null?void 0:p.length)??0;return{validationResult:e,isLoading:r,environment:o,revalidate:i,isValid:l,hasErrors:c,hasWarnings:u,errorCount:f,warningCount:d}},hr=()=>{const{environment:e,isValid:t,errorCount:r,warningCount:n}=ez(),a=i=>{switch(i){case"production":return"text-red-600 bg-red-100";case"staging":return"text-yellow-600 bg-yellow-100";case"development":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(QF,{}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[s.jsx("div",{className:"p-3 bg-blue-600 rounded-xl",children:s.jsx(Bi,{className:"h-8 w-8 text-white"})}),s.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Multi-Environment Config Manager"})]}),s.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto leading-relaxed",children:"Advanced configuration management system that handles different sets of environment variables for development, staging, and production environments with validation rules specific to each environment type."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[s.jsx(R,{className:"border-0 shadow-lg bg-white/70 backdrop-blur-sm",children:s.jsxs(F,{className:"p-6 text-center",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 ${e==="production"?"bg-red-100":e==="staging"?"bg-yellow-100":"bg-green-100"}`,children:s.jsx(ar,{className:`h-8 w-8 ${e==="production"?"text-red-600":e==="staging"?"text-yellow-600":"text-green-600"}`})}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:e.toUpperCase()}),s.jsx("div",{className:"text-sm text-gray-600",children:"Current Environment"})]})}),s.jsx(R,{className:"border-0 shadow-lg bg-white/70 backdrop-blur-sm",children:s.jsxs(F,{className:"p-6 text-center",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 ${t?"bg-green-100":"bg-red-100"}`,children:t?s.jsx($e,{className:"h-8 w-8 text-green-600"}):s.jsx(Vt,{className:"h-8 w-8 text-red-600"})}),s.jsx("div",{className:`text-2xl font-bold mb-1 ${t?"text-green-600":"text-red-600"}`,children:t?"VALID":"INVALID"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Validation Status"})]})}),s.jsx(R,{className:"border-0 shadow-lg bg-white/70 backdrop-blur-sm",children:s.jsxs(F,{className:"p-6 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 mb-4",children:s.jsx(Vt,{className:"h-8 w-8 text-red-600"})}),s.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:r}),s.jsx("div",{className:"text-sm text-gray-600",children:"Critical Errors"})]})}),s.jsx(R,{className:"border-0 shadow-lg bg-white/70 backdrop-blur-sm",children:s.jsxs(F,{className:"p-6 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-yellow-100 mb-4",children:s.jsx(Pt,{className:"h-8 w-8 text-yellow-600"})}),s.jsx("div",{className:"text-2xl font-bold text-yellow-600 mb-1",children:n}),s.jsx("div",{className:"text-sm text-gray-600",children:"Warnings"})]})})]}),s.jsxs(R,{className:"border-0 shadow-lg bg-white/70 backdrop-blur-sm mb-8",children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${a(e)}`,children:s.jsx(ar,{className:"h-5 w-5"})}),e.charAt(0).toUpperCase()+e.slice(1)," Environment Configuration"]})}),s.jsx(F,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Environment Type"}),s.jsx(ee,{className:`${a(e)} border-0 text-lg px-4 py-2`,children:e.toUpperCase()})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Security Level"}),s.jsx(ee,{variant:e==="production"?"destructive":"secondary",className:"text-lg px-4 py-2",children:e==="production"?"MAXIMUM":e==="staging"?"HIGH":"STANDARD"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Key Requirements"}),s.jsx(ee,{variant:"outline",className:"text-lg px-4 py-2",children:e==="production"?"LIVE KEYS":"TEST KEYS"})]})]})})]}),s.jsx(ZF,{}),s.jsx("div",{className:"mt-12 text-center",children:s.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-white/70 backdrop-blur-sm rounded-full border shadow-lg",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Multi-Environment Configuration System Active"})]})})]})]})},pn=()=>s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute inset-0",children:Array.from({length:20},(e,t)=>s.jsx("div",{className:"absolute rounded-full bg-emerald-500/10 animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,width:`${Math.random()*100+50}px`,height:`${Math.random()*100+50}px`,animationDelay:`${Math.random()*2}s`,animationDuration:`${Math.random()*3+2}s`}},t))}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-900/5 via-transparent to-emerald-800/5"})]}),tz=()=>(b.useEffect(()=>{window.scrollTo(0,0)},[]),s.jsx(hr,{children:s.jsxs("div",{className:"relative",children:[s.jsx(pn,{}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("section",{className:"container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["About ",s.jsx("span",{className:"text-green-400 drop-shadow-[0_0_20px_rgba(74,222,128,0.5)]",children:"GreenScape Lux"})]}),s.jsx("h2",{className:"text-xl md:text-2xl text-green-400 mb-8 drop-shadow-[0_0_15px_rgba(74,222,128,0.3)]",children:"Elevated Outdoor Living. Backed by Decades of Experience"}),s.jsxs("div",{className:"space-y-6 text-gray-300 text-lg leading-relaxed",children:[s.jsx("p",{children:"At GreenScape Lux, luxury begins outdoors. We transform everyday lawns into high end landscapes that speak to style, comfort, and craftsmanship."}),s.jsx("p",{children:"Co-founded by Carlos Matthews and Bradley Green, GreenScape Lux is the result of over 25 combined years of professionalism across customer service, operations, and elite landscaping."}),s.jsx("p",{className:"text-green-400 font-semibold",children:"We are not just building beautiful yards. We are building a legacy of elevated outdoor living."})]})]})}),s.jsxs("section",{className:"container mx-auto px-4 py-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-16",children:s.jsx("span",{className:"text-green-400 drop-shadow-[0_0_20px_rgba(74,222,128,0.5)]",children:" Meet the Founders"})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-2xl p-8 border border-green-400/20",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Carlos Matthews"}),s.jsx("p",{className:"text-green-400 mb-6 font-semibold",children:"Co-Founder  Director of Customer Relations"}),s.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"With over a decade in leadership and client experience, Carlos is the strategic force behind our white glove service. He brings an unmatched passion for people and process, ensuring every GreenScape Lux client feels informed, cared for, and confident throughout their journey."}),s.jsx("p",{className:"text-green-400 font-medium",children:"Carlos sets the tone for luxury level communication and professionalism from the first click to the final walkthrough."})]}),s.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-2xl p-8 border border-green-400/20",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Bradley Green"}),s.jsx("p",{className:"text-green-400 mb-6 font-semibold",children:"Co-Founder  Director of Field Operations"}),s.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Bradley has spent more than 15 years mastering the art of landscaping. As the owner of BeGreen Landscaping and now the co-founder of GreenScape Lux, his expertise spans everything from residential lawn care to premium outdoor installations."}),s.jsx("p",{className:"text-green-400 font-medium",children:"Bradley leads every project with integrity, excellence, and a reputation that speaks for itself  because he has built it yard by yard."})]})]})]})]})]})})),rz=()=>{const e=Te();return s.jsxs("section",{className:"min-h-screen flex flex-col items-center justify-center text-center px-4 relative z-10 pb-4",children:[s.jsxs("div",{className:"mb-8 relative",children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-emerald-500/30 blur-3xl animate-pulse scale-150"}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-emerald-400/20 blur-2xl animate-pulse scale-125 animation-delay-500"}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-emerald-300/10 blur-xl animate-pulse scale-110 animation-delay-1000"}),s.jsx("img",{src:"https://d64gsuwffb70l.cloudfront.net/68366206d4e44998c9b3046b_1753839626505_2eaea86f.png",alt:"GreenScape Lux Logo",className:"relative z-10 mx-auto w-32 h-32 md:w-40 md:h-40 drop-shadow-[0_0_20px_rgba(34,197,94,0.5)] hover:drop-shadow-[0_0_30px_rgba(34,197,94,0.7)] transition-all duration-300"})]}),s.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold text-emerald-400 mb-4",children:"GreenScape Lux"}),s.jsx("h2",{className:"text-xl md:text-2xl text-white mb-4 font-semibold",children:"Your Lawn. Our Luxury."}),s.jsx("p",{className:"text-lg md:text-xl text-gray-300 mb-8 max-w-2xl leading-relaxed",children:"Charlotte's elite landscaping service offering instant booking and luxury-level care all at your fingertips."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[s.jsx(B,{onClick:()=>e("/get-started"),className:"bg-emerald-500 hover:bg-emerald-600 text-black px-8 py-4 font-bold rounded-full shadow-md hover:shadow-emerald-500/50 transition-all duration-300 text-lg glow-emerald hover:glow-emerald-strong",children:"Get Started"}),s.jsx(B,{onClick:()=>e("/get-a-quote"),variant:"outline",className:"bg-transparent border-2 border-emerald-500 text-emerald-500 hover:bg-emerald-500 hover:text-black px-8 py-4 font-bold rounded-full shadow-md hover:shadow-emerald-500/50 transition-all duration-300 text-lg",children:"Get a Quote"})]})]})},nz=[{icon:"",title:"Lawn Care",description:"Premium mowing, edging, and maintenance"},{icon:"",title:"Garden Design",description:"Custom landscape design and installation"},{icon:"",title:"Tree Services",description:"Professional pruning and arborist care"},{icon:"",title:"Irrigation Systems",description:"Smart sprinkler and water management"}],sz=()=>{const e=Te(),[t,r]=b.useState(null),n=a=>{r(t===a?null:a)};return s.jsx("section",{className:"py-8 px-4 relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-center mb-6 md:mb-8 bg-gradient-to-r from-green-400 to-green-600 bg-clip-text text-transparent",children:"Luxury Services"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4 mb-8 md:mb-10",children:nz.map((a,i)=>s.jsx(R,{className:"bg-gray-900/60 border border-green-500/30 hover:border-green-400 hover:shadow-lg hover:shadow-green-500/20 transition-all duration-300 group rounded-2xl",children:s.jsxs(F,{className:"p-4 md:p-6 text-center h-full flex flex-col justify-center",children:[s.jsx("div",{className:"text-xl md:text-2xl mb-2 group-hover:scale-110 transition-transform",children:a.icon}),s.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-1",children:a.title}),s.jsx("p",{className:"text-gray-300 text-xs md:text-sm leading-tight",children:a.description})]})},i))}),s.jsxs("div",{className:"space-y-3 md:space-y-4 mb-8 md:mb-10",children:[s.jsx(R,{className:"bg-gray-900/60 border border-green-500/30 rounded-2xl",children:s.jsxs(F,{className:"p-0",children:[s.jsx("button",{onClick:()=>n("core"),className:"w-full p-4 md:p-6 text-left hover:bg-gray-800/50 transition-colors",children:s.jsxs("div",{className:"flex justify-between items-start md:items-center",children:[s.jsxs("div",{className:"flex-1 pr-4",children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-1 md:mb-2",children:" Core Year-Round Services"}),s.jsx("p",{className:"text-green-400 font-bold text-sm md:text-base shadow-lg shadow-green-500/20 bg-green-500/10 px-2 py-1 rounded-2xl inline-block",children:"Available in NC & FL"})]}),s.jsx("span",{className:"text-green-400 text-xl md:text-2xl flex-shrink-0 font-bold",children:t==="core"?"":"+"})]})}),t==="core"&&s.jsx("div",{className:"px-4 md:px-6 pb-4 md:pb-6",children:s.jsxs("ul",{className:"space-y-2 md:space-y-2.5 text-gray-300 text-sm md:text-base",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:""}),"Lawn mowing & edging"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:""}),"Leaf blowing & cleanup"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:""}),"Mulch installation"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:""}),"Bush trimming & hedge shaping"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:""}),"Weed removal & prevention"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:""}),"Sod installation"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:""}),"Flower bed maintenance"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:""}),"Basic to premium landscape design"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:""}),"Gravel & rock placement"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:""}),"Pressure washing (driveways, walkways)"]})]})})]})}),s.jsx(R,{className:"bg-gray-900/60 border border-green-500/30 rounded-2xl",children:s.jsxs(F,{className:"p-0",children:[s.jsx("button",{onClick:()=>n("seasonal"),className:"w-full p-4 md:p-6 text-left hover:bg-gray-800/50 transition-colors",children:s.jsxs("div",{className:"flex justify-between items-start md:items-center",children:[s.jsxs("div",{className:"flex-1 pr-4",children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-1 md:mb-2",children:" Seasonal & Winter Services"}),s.jsx("p",{className:"text-green-400 font-bold text-sm md:text-base shadow-lg shadow-green-500/20 bg-green-500/10 px-2 py-1 rounded-2xl inline-block",children:"NC Only"})]}),s.jsx("span",{className:"text-green-400 text-xl md:text-2xl flex-shrink-0 font-bold",children:t==="seasonal"?"":"+"})]})}),t==="seasonal"&&s.jsx("div",{className:"px-4 md:px-6 pb-4 md:pb-6",children:s.jsxs("ul",{className:"space-y-2 md:space-y-2.5 text-gray-300 text-sm md:text-base",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:""}),"Leaf removal"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:""}),"Gutter cleaning"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:""}),"Winter pruning (shrubs, small trees)"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:""}),"Holiday lighting installation/removal"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:""}),"Snow removal (driveways, walkways)"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:""}),"Ice salting and de-icing"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:""}),"Seasonal plant protection and dormancy prep"]})]})})]})})]}),s.jsx("div",{className:"text-center",children:s.jsx("button",{onClick:()=>e("/get-quote"),className:"bg-emerald-500 hover:bg-emerald-600 text-black font-semibold px-8 py-3 rounded-lg transition-all duration-200 hover:shadow-lg hover:shadow-emerald-500/25 text-lg",children:"Get Your Quote Today"})})]})})},Fw=()=>{const e=Zh(),t=Te();return s.jsx("footer",{className:"bg-black py-12 px-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 mb-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-emerald-400 flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z"})})})}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed max-w-xs",children:"Elevated outdoor living through premium landscaping services. Transform your space with luxury design and expert craftsmanship."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold text-sm mb-4",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(dt,{to:"/",className:"text-gray-300 hover:text-emerald-400 transition-colors text-sm",children:"Home"})}),s.jsx("li",{children:s.jsx(dt,{to:"/about",className:"text-gray-300 hover:text-emerald-400 transition-colors text-sm",children:"About Us"})}),s.jsx("li",{children:s.jsx(dt,{to:"/professionals",className:"text-gray-300 hover:text-emerald-400 transition-colors text-sm",children:"Professionals"})}),s.jsx("li",{children:s.jsx(dt,{to:"/get-quote",className:"text-gray-300 hover:text-emerald-400 transition-colors text-sm",children:"Instant Quote"})}),s.jsx("li",{children:s.jsx(dt,{to:"/terms",className:"text-gray-300 hover:text-emerald-400 transition-colors text-sm",children:"Terms of Service"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold text-sm mb-4",children:"Support"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("a",{href:"mailto:support@greenscapelux.com",className:"text-gray-300 hover:text-emerald-400 transition-colors text-sm",children:" Email Support"})}),s.jsx("li",{children:s.jsx(dt,{to:"/privacy",className:"text-gray-300 hover:text-emerald-400 transition-colors text-sm",children:"Privacy Policy"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold text-sm mb-4",children:"Contact"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-gray-300 text-sm",children:" info@greenscapelux.com"}),s.jsx("p",{className:"text-gray-300 text-sm",children:" support@greenscapelux.com"})]}),s.jsxs("div",{className:"flex space-x-3 mt-4",children:[s.jsx("a",{href:"https://www.facebook.com/GreenScapeLux",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),s.jsx("a",{href:"https://www.instagram.com/greenscape_lux/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.62 5.367 11.987 11.988 11.987 6.62 0 11.987-5.367 11.987-11.987C24.014 5.367 18.637.001 12.017.001zM8.449 16.988c-1.297 0-2.448-.49-3.328-1.297L6.468 14.34c.613.613 1.334.919 2.162.919 1.297 0 2.346-1.049 2.346-2.346s-1.049-2.346-2.346-2.346-2.346 1.049-2.346 2.346c0 .828.306 1.549.919 2.162l-1.351 1.351c-.807-.88-1.297-2.031-1.297-3.328 0-2.529 2.059-4.588 4.588-4.588s4.588 2.059 4.588 4.588-2.059 4.588-4.588 4.588z"})})})]})]})]}),s.jsx("div",{className:"border-t border-gray-800 pt-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:" 2025 GreenScape Lux. All rights reserved."}),e.source!=="NONE"&&s.jsx("span",{className:`px-2 py-1 rounded text-xs font-mono ${e.source==="ENV"?"bg-green-900/30 text-green-400 border border-green-800/40":e.source==="QUERY"?"bg-blue-900/30 text-blue-400 border border-blue-800/40":"bg-yellow-900/30 text-yellow-400 border border-yellow-800/40"}`,children:e.source})]}),s.jsx("button",{onClick:()=>t("/get-quote"),className:"bg-emerald-500 hover:bg-emerald-600 text-black font-semibold px-6 py-2 rounded-lg transition-all duration-200 hover:shadow-lg hover:shadow-emerald-500/25",children:"Request a Quote"})]})})]})})},az=()=>{const e=Te();return b.useEffect(()=>{new URLSearchParams(window.location.hash.substring(1)).get("type")==="recovery"&&e("/reset-password")},[e]),s.jsxs("div",{className:"relative bg-black min-h-screen",children:[s.jsx(pn,{}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("section",{className:"mb-4",children:s.jsx(rz,{})}),s.jsx("section",{className:"mb-4",children:s.jsx(sz,{})})]}),s.jsx(Fw,{})]})},iz=()=>s.jsx(hr,{children:s.jsx("div",{className:"min-h-screen bg-black text-white py-12 pb-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("h1",{className:"text-3xl md:text-5xl font-bold mb-6",children:[" ",s.jsx("span",{className:"text-white",children:"Find a"})," ",s.jsx("span",{className:"text-green-400 glow-text",children:"Landscaping Professional"})," ",s.jsx("br",{}),s.jsx("span",{className:"text-white",children:"You Can Trust"})]}),s.jsx("h2",{className:"text-lg md:text-xl text-white mb-6",children:"Connecting You With Charlotte's Most Trusted Landscape Experts"}),s.jsx("p",{className:"text-gray-300 text-base max-w-3xl mx-auto leading-relaxed",children:"GreenScape Lux partners with certified, vetted landscapers who take pride in delivering premium outdoor results. Whether you need a one time service or a full landscape renovation, our platform connects you with professionals ready to exceed your expectations."})]}),s.jsxs("div",{className:"mb-16",children:[s.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-12",children:[" ",s.jsx("span",{className:"text-green-400 glow-text",children:"How It Works"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs(R,{className:"bg-gray-900/50 border-green-500/30 p-8 text-center hover:border-green-400/50 transition-all duration-300 hover:shadow-[0_0_15px_rgba(74,222,128,0.2)] h-full flex flex-col",children:[s.jsx("div",{className:"text-green-400 text-4xl mb-4",children:"1"}),s.jsx("h3",{className:"text-white font-bold text-xl mb-4",children:"Request a Quote"}),s.jsx("p",{className:"text-gray-300 text-sm flex-1",children:"Fill out our Instant Quote form with a few simple details about your yard, needs, and timeline."})]}),s.jsxs(R,{className:"bg-gray-900/50 border-green-500/30 p-8 text-center hover:border-green-400/50 transition-all duration-300 hover:shadow-[0_0_15px_rgba(74,222,128,0.2)] h-full flex flex-col",children:[s.jsx("div",{className:"text-green-400 text-4xl mb-4",children:"2"}),s.jsx("h3",{className:"text-white font-bold text-xl mb-4",children:"Get Matched"}),s.jsx("p",{className:"text-gray-300 text-sm flex-1",children:"We assign your request to a top-rated landscaper in our network based on location, availability, and service type."})]}),s.jsxs(R,{className:"bg-gray-900/50 border-green-500/30 p-8 text-center hover:border-green-400/50 transition-all duration-300 hover:shadow-[0_0_15px_rgba(74,222,128,0.2)] h-full flex flex-col",children:[s.jsx("div",{className:"text-green-400 text-4xl mb-4",children:"3"}),s.jsx("h3",{className:"text-white font-bold text-xl mb-4",children:"Review and Approve"}),s.jsx("p",{className:"text-gray-300 text-sm flex-1",children:"You receive a detailed quote, schedule a consultation, and approve the job when ready."})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-6",children:[s.jsxs(R,{className:"bg-gray-900/50 border-green-500/30 p-8 hover:border-green-400/50 transition-all duration-300 h-full",children:[s.jsxs("h3",{className:"text-xl font-bold mb-6",children:[" ",s.jsx("span",{className:"text-green-400 glow-text",children:"Services Offered"})]}),s.jsxs("ul",{className:"space-y-3 text-gray-300",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:""}),s.jsx("span",{children:"Lawn Care and Maintenance"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:""}),s.jsx("span",{children:"Mulch and Rock Installation"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:""}),s.jsx("span",{children:"Edging and Borders"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:""}),s.jsx("span",{children:"Seasonal Cleanups"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:""}),s.jsx("span",{children:"Hardscaping and Custom Features"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:""}),s.jsx("span",{children:"Tree and Shrub Care"})]})]})]}),s.jsxs(R,{className:"bg-gray-900/50 border-green-500/30 p-8 hover:border-green-400/50 transition-all duration-300 h-full",children:[s.jsxs("h3",{className:"text-xl font-bold mb-6",children:[" ",s.jsx("span",{className:"text-green-400 glow-text",children:"Why Choose Our Professionals?"})]}),s.jsxs("ul",{className:"space-y-3 text-gray-300",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:""}),s.jsx("span",{children:"Verified skills and local reputation"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:""}),s.jsx("span",{children:"Licensed and insured"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:""}),s.jsx("span",{children:"Fast response times"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:""}),s.jsx("span",{children:"High-end results with no stress"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:""}),s.jsx("span",{children:"Competitive pricing"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:""}),s.jsx("span",{children:"Quality guarantee on all work"})]})]})]})]})]})})}),oz=()=>s.jsx(hr,{children:s.jsx("div",{className:"py-12 px-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl font-bold text-green-400 mb-4",children:"Terms of Service"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Effective Date: January 2025"})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"1."}),"Introduction"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Welcome to GreenScape Lux. By accessing our website or using our services, you agree to be bound by these Terms of Service."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"2."}),"Services Provided"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"GreenScape Lux offers landscaping services, including but not limited to design, maintenance, and consultation."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"3."}),"User Accounts"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed space-y-3",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-white",children:"Registration:"})," Users may need to create an account to access certain features."]}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-white",children:"Responsibility:"})," Users are responsible for maintaining the confidentiality of their account information."]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"4."}),"Payments and Refunds"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed space-y-3",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-white",children:"Pricing:"})," All prices are listed on our website and are subject to change."]}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-white",children:"Refunds:"})," Refund policies are outlined in our Refund Policy."]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"5."}),"User Conduct"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[s.jsx("p",{className:"mb-3",children:"Users agree not to:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"Violate any laws or regulations."}),s.jsx("li",{children:"Infringe upon the rights of others."}),s.jsx("li",{children:"Post harmful or offensive content."})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"6."}),"Intellectual Property"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"All content on this site is the property of GreenScape Lux and is protected by intellectual property laws."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"7."}),"Disclaimers and Limitation of Liability"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:'Services are provided "as is" without warranties of any kind. GreenScape Lux is not liable for any damages arising from the use of our services.'})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"8."}),"Termination"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"We reserve the right to terminate or suspend access to our services at our discretion, without prior notice."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"9."}),"Changes to Terms"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"We may modify these Terms of Service at any time. Continued use of our services constitutes acceptance of the new terms."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"10."}),"Contact Information"]}),s.jsxs("p",{className:"text-gray-300 leading-relaxed",children:["For any questions regarding these Terms, please contact us at"," ",s.jsx("a",{href:"mailto:contact@greenscapelux.com",className:"text-green-400 hover:text-green-300 underline",children:"contact@greenscapelux.com"})]})]})]})]})})}),lz=()=>s.jsx(hr,{children:s.jsx("div",{className:"py-12 px-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl font-bold text-green-400 mb-4",children:"Privacy Policy"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Effective Date: January 1, 2024"})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"1."}),"Information We Collect"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-white mb-2",children:"Personal Information:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[s.jsx("li",{children:"Full name"}),s.jsx("li",{children:"Email address"}),s.jsx("li",{children:"Phone number"}),s.jsx("li",{children:"Property address"}),s.jsx("li",{children:"Any details submitted through forms or service requests"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-white mb-2",children:"Technical Information:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[s.jsx("li",{children:"Browser type and version"}),s.jsx("li",{children:"Device and operating system"}),s.jsx("li",{children:"IP address"}),s.jsx("li",{children:"Pages visited and time spent on site"})]})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"2."}),"How We Use Your Information"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[s.jsx("p",{className:"mb-3",children:"We use your information to:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"Respond to service inquiries and process quotes"}),s.jsx("li",{children:"Schedule and confirm landscaping appointments"}),s.jsx("li",{children:"Communicate updates or promotions"}),s.jsx("li",{children:"Improve our website performance and content"}),s.jsx("li",{children:"Comply with legal obligations"})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"3."}),"Sharing Your Information"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[s.jsx("p",{className:"mb-3",children:"We do not sell your information. We may share it with:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"Verified GreenScape Lux landscapers or subcontractors"}),s.jsx("li",{children:"Website and communication service providers"}),s.jsx("li",{children:"Legal authorities if required by law"})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"4."}),"Cookies and Tracking"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"We use cookies to improve user experience and track site usage. You can disable cookies in your browser settings."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"5."}),"How We Protect Your Information"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4 text-gray-300",children:[s.jsx("li",{children:"Data is encrypted in transit"}),s.jsx("li",{children:"Access is restricted to authorized team members"}),s.jsx("li",{children:"Secure platforms are used for storage"})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"6."}),"Your Rights"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[s.jsx("p",{className:"mb-3",children:"You may:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"Request access to your data"}),s.jsx("li",{children:"Update or delete your information"}),s.jsx("li",{children:"Unsubscribe from emails"}),s.jsxs("li",{children:["Contact us at"," ",s.jsx("a",{href:"mailto:privacy@greenscapelux.com",className:"text-green-400 hover:text-green-300 underline",children:"privacy@greenscapelux.com"})," ","for requests"]})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"7."}),"Policy Updates"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"We may update this policy. The new version will be posted with a revised effective date."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"8."}),"Contact Us"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed space-y-2",children:[s.jsxs("p",{children:[""," ",s.jsx("a",{href:"mailto:privacy@greenscapelux.com",className:"text-green-400 hover:text-green-300 underline",children:"privacy@greenscapelux.com"})]}),s.jsx("p",{children:" GreenScape Lux  Charlotte, NC"})]})]})]})]})})});function cz({children:e}){return s.jsx("div",{className:"bg-black text-white min-h-screen",children:s.jsx("main",{className:"px-4 py-8 sm:px-6 lg:px-8",children:e})})}const Mp=({size:e="medium",className:t=""})=>{const r={small:"w-16 h-16",medium:"w-32 h-32 md:w-40 md:h-40",large:"w-40 h-40 md:w-48 md:h-48"};return s.jsx("img",{src:"https://d64gsuwffb70l.cloudfront.net/68366206d4e44998c9b3046b_1753842719826_a8c02e0b.png",alt:"GreenScape Lux Logo",className:`${r[e]} drop-shadow-[0_0_20px_rgba(34,197,94,0.5)] hover:drop-shadow-[0_0_30px_rgba(34,197,94,0.7)] transition-all duration-300 ${t}`})};function zw(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Vw(e){const[t,r]=b.useState(void 0);return Lt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Dp="Checkbox",[uz]=ms(Dp),[dz,Ww]=uz(Dp);function fz(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:f="on",internal_do_not_use_render:d}=e,[h,m]=Fi({prop:r,defaultProp:a??!1,onChange:c,caller:Dp}),[v,p]=b.useState(null),[x,g]=b.useState(null),y=b.useRef(!1),w=v?!!o||!!v.closest("form"):!0,S={checked:h,disabled:i,setChecked:m,control:v,setControl:p,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:Ia(a)?!1:a,isFormControl:w,bubbleInput:x,setBubbleInput:g};return s.jsx(dz,{scope:t,...S,children:hz(d)?d(S):n})}var cT="CheckboxTrigger",uT=b.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:f,setChecked:d,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:v}=Ww(cT,e),p=rt(a,f),x=b.useRef(c);return b.useEffect(()=>{const g=i==null?void 0:i.form;if(g){const y=()=>d(x.current);return g.addEventListener("reset",y),()=>g.removeEventListener("reset",y)}},[i,d]),s.jsx(_e.button,{type:"button",role:"checkbox","aria-checked":Ia(c)?"mixed":c,"aria-required":u,"data-state":pT(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:Ce(t,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:Ce(r,g=>{d(y=>Ia(y)?!0:!y),v&&m&&(h.current=g.isPropagationStopped(),h.current||g.stopPropagation())})})});uT.displayName=cT;var qw=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:f,...d}=e;return s.jsx(fz,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:f,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(uT,{...d,ref:t,__scopeCheckbox:r}),h&&s.jsx(mT,{__scopeCheckbox:r})]})})});qw.displayName=Dp;var dT="CheckboxIndicator",fT=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=Ww(dT,r);return s.jsx(ac,{present:n||Ia(i.checked)||i.checked===!0,children:s.jsx(_e.span,{"data-state":pT(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});fT.displayName=dT;var hT="CheckboxBubbleInput",mT=b.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:f,form:d,bubbleInput:h,setBubbleInput:m}=Ww(hT,e),v=rt(r,m),p=zw(i),x=Vw(n);b.useEffect(()=>{const y=h;if(!y)return;const w=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(w,"checked").set,N=!a.current;if(p!==i&&j){const _=new Event("click",{bubbles:N});y.indeterminate=Ia(i),j.call(y,Ia(i)?!1:i),y.dispatchEvent(_)}},[h,p,i,a]);const g=b.useRef(Ia(i)?!1:i);return s.jsx(_e.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,required:l,disabled:c,name:u,value:f,form:d,...t,tabIndex:-1,ref:v,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});mT.displayName=hT;function hz(e){return typeof e=="function"}function Ia(e){return e==="indeterminate"}function pT(e){return Ia(e)?"indeterminate":e?"checked":"unchecked"}const Hu=b.forwardRef(({className:e,...t},r)=>s.jsx(qw,{ref:r,className:me("peer h-4 w-4 shrink-0 rounded-sm border border-primary/60 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground transition-colors duration-200",e),...t,children:s.jsx(fT,{className:me("flex items-center justify-center text-current"),children:s.jsx(tc,{className:"h-3.5 w-3.5 transition-transform duration-200"})})}));Hu.displayName=qw.displayName;var mz="Label",gT=b.forwardRef((e,t)=>s.jsx(_e.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));gT.displayName=mz;var vT=gT;const pz=kp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",{variants:{variant:{default:"text-foreground",muted:"text-muted-foreground",accent:"text-primary"},size:{default:"text-sm",xs:"text-xs",sm:"text-sm",lg:"text-base"}},defaultVariants:{variant:"default",size:"default"}}),de=b.forwardRef(({className:e,variant:t,size:r,...n},a)=>s.jsx(vT,{ref:a,className:me(pz({variant:t,size:r}),e),...n}));de.displayName=vT.displayName;const re=b.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:me("flex h-12 w-full rounded-full border border-border/60 bg-background px-4 py-3 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",e),ref:n,...r}));re.displayName="Input";const gz={"CORE LANDSCAPING SERVICES":["Lawn Mowing","Lawn Care and Maintenance","Hedge and Shrub Trimming","Edging and Borders","Mulch Installation","Rock Installation","Sod Installation","Seasonal Cleanups (Fall/Spring)","Hardscaping and Custom Features","Flower Bed Installation and Design","Weed Control"],"WINTER SERVICES":["Snow Removal","Salting / De-icing","Winter Yard Prep"],"ADD-ON / PARTNERED SERVICES":["Pressure Washing","Gutter Cleaning","Pest Control (via partners)","Leaf Removal","Yard Waste Disposal"],"PREMIUM SERVICES":["Full Landscape Renovation","Weekly or Biweekly Recurring Maintenance","Property Flip Cleanups (Real Estate Ready)","Airbnb / Rental Property Lawn Services","HOA or Multi-Property Contracts"]};function xT({selectedServices:e,otherService:t,onServiceChange:r,onOtherServiceChange:n}){return s.jsxs("div",{className:"space-y-6",children:[Object.entries(gz).map(([a,i])=>s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-green-400 font-bold text-sm uppercase tracking-wide",children:a}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 pl-2",children:i.map(o=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hu,{id:o,checked:e.includes(o),onCheckedChange:l=>r(o,l),className:"border-green-500 data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),s.jsx(de,{htmlFor:o,className:"text-sm text-gray-300 hover:text-green-400 cursor-pointer transition-colors",children:o})]},o))})]},a)),s.jsxs("div",{className:"space-y-3 pt-2 border-t border-gray-700",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hu,{id:"other",checked:t.length>0,onCheckedChange:a=>{a||n("")},className:"border-green-500 data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),s.jsx(de,{htmlFor:"other",className:"text-sm text-gray-300 font-semibold",children:"Other"})]}),t.length>0&&s.jsx(re,{placeholder:"Please specify...",value:t,onChange:a=>n(a.target.value),className:"bg-gray-900 border-green-500 text-white text-sm ml-6"})]})]})}function Lp({variant:e="primary",size:t="md",label:r,description:n,className:a,onClick:i,disabled:o,loading:l=!1,type:c="button",icon:u,...f}){const d=()=>{switch(e){case"primary":return"bg-emerald-600 hover:bg-emerald-700 text-white border-emerald-600 glow-emerald hover:glow-emerald-strong focus-visible:ring-2 focus-visible:ring-emerald-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black";case"secondary":return"bg-gray-700 hover:bg-gray-600 text-white border-gray-700 focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black";case"outline":return"border-emerald-500/25 text-emerald-300 hover:bg-emerald-500/20 bg-transparent focus-visible:ring-2 focus-visible:ring-emerald-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black";case"ghost":return"text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10 bg-transparent border-transparent focus-visible:ring-2 focus-visible:ring-emerald-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black";case"danger":return"bg-red-600 hover:bg-red-700 text-white border-red-600 focus-visible:ring-2 focus-visible:ring-red-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black";default:return"bg-emerald-600 hover:bg-emerald-700 text-white border-emerald-600 glow-emerald hover:glow-emerald-strong focus-visible:ring-2 focus-visible:ring-emerald-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black"}},h=()=>{switch(t){case"sm":return"px-3 py-1.5 text-sm h-8";case"lg":return"px-6 py-3 text-lg h-12";default:return"px-4 py-2 text-base h-10"}},m=o||l;return s.jsxs(B,{type:c,onClick:i,disabled:m,"aria-label":r,className:me("font-medium rounded-lg transition-all duration-200 flex items-center gap-2 focus-visible:outline-none","whitespace-nowrap truncate leading-tight",d(),h(),m&&"opacity-50 cursor-not-allowed transform-none shadow-none",l&&"pointer-events-none",a),...f,children:[l?s.jsx(Oa,{className:"h-4 w-4 animate-spin"}):u&&u,s.jsx("span",{className:"whitespace-nowrap truncate leading-tight",children:r})]})}const ao=b.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 transition-colors resize-none",e),ref:r,...t}));ao.displayName="Textarea";const vz=({showBack:e=!0,showHome:t=!0,showClose:r=!1,customBackPath:n,onClose:a,className:i=""})=>{const o=Te(),l=qt(),c=()=>{if(n)o(n);else{const d=l.pathname,h=(d.includes("/auth")||d.includes("/login")||d.includes("/signup"),"/");o(h)}},u=()=>{o("/")},f=()=>{a?a():o("/")};return l.pathname==="/"?null:s.jsxs("div",{className:`flex items-center space-x-2 ${i}`,children:[e&&s.jsxs(B,{variant:"ghost",onClick:c,className:"text-white/80 hover:text-white hover:bg-white/10 transition-colors",children:[s.jsx(mr,{className:"w-4 h-4 mr-1"}),"Back"]}),t&&s.jsxs(B,{variant:"ghost",size:"sm",onClick:u,className:"text-white/80 hover:text-white hover:bg-white/10 transition-colors",children:[s.jsx(Md,{className:"w-4 h-4 mr-1"}),"Home"]}),r&&s.jsxs(B,{variant:"ghost",size:"sm",onClick:f,className:"text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:[s.jsx(Hs,{className:"w-4 h-4 mr-1"}),"Close"]})]})},xz=({items:e,className:t=""})=>{const r=qt(),a=e||(()=>{const i=r.pathname.split("/").filter(Boolean),o=[{label:"Home",path:"/"}];let l="";return i.forEach((c,u)=>{l+=`/${c}`;const f=u===i.length-1,d=c.split("-").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" ");o.push({label:d,path:l,isActive:f})}),o})();return a.length<=1?null:s.jsx("nav",{className:`flex items-center space-x-1 text-sm ${t}`,"aria-label":"Breadcrumb",children:a.map((i,o)=>s.jsxs("div",{className:"flex items-center",children:[o>0&&s.jsx(k8,{className:"w-4 h-4 text-gray-400 mx-1"}),i.isActive?s.jsx("span",{className:"text-gray-900 font-medium",children:i.label}):s.jsx(dt,{to:i.path,className:"text-gray-500 hover:text-gray-700 transition-colors",children:o===0?s.jsx(Md,{className:"w-4 h-4"}):i.label})]},i.path))})},_f=(e,t)=>t.required&&!e.trim()?t.message||"This field is required":t.pattern&&e&&!t.pattern.test(e)?t.message||"Invalid format":null,yz={required:!0,message:"Please enter your full name"},bz={required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email address"},wz={pattern:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,message:"Please enter a valid phone number"},jz={required:!0,message:"Please enter your property address"},Ef=({error:e})=>s.jsx("div",{className:"text-red-400 text-sm mt-1",children:e});function Nz(){const e=Te(),[t,r]=b.useState({name:"",email:"",phone:"",propertyAddress:"",selectedServices:[],otherService:"",date:"",comments:""}),[n,a]=b.useState(!1),[i,o]=b.useState({}),[l,c]=b.useState({});b.useEffect(()=>{O0("form_start","quote_form","get_quote_page")},[]);const u=()=>{const m={},v=_f(t.name,yz);v&&(m.name=v);const p=_f(t.email,bz);if(p&&(m.email=p),t.phone){const g=_f(t.phone,wz);g&&(m.phone=g)}const x=_f(t.propertyAddress,jz);return x&&(m.propertyAddress=x),t.selectedServices.length===0&&!t.otherService&&(m.services="Please select at least one service"),o(m),Object.keys(m).length===0},f=(m,v)=>{if(r(p=>({...p,[m]:v})),c(p=>({...p,[m]:!0})),l[m]){const p={...i};delete p[m],o(p)}},d=(m,v)=>{const p=v?[...t.selectedServices,m]:t.selectedServices.filter(x=>x!==m);if(r(x=>({...x,selectedServices:p})),c(x=>({...x,services:!0})),O0(v?"service_selected":"service_deselected","quote_form",m),p.length>0||t.otherService){const x={...i};delete x.services,o(x)}},h=async m=>{if(m.preventDefault(),!(n||(c(["name","email","phone","propertyAddress","services"].reduce((p,x)=>({...p,[x]:!0}),{})),!u()))){a(!0);try{const p=[...t.selectedServices];t.otherService&&p.push(t.otherService),console.log(" Attempting to save quote to database...",{name:t.name,email:t.email,phone:t.phone||null,property_address:t.propertyAddress,services:p,preferred_date:t.date||null,comments:t.comments||null});const{data:x,error:g}=await I.from("quote_requests").insert({name:t.name,email:t.email,phone:t.phone||null,property_address:t.propertyAddress,services:p,preferred_date:t.date||null,comments:t.comments||null,status:"pending"}).select().single();if(g)throw console.error(" Database error:",g),new Error(`Failed to save quote request: ${g.message}`);console.log(" Quote saved successfully to database:",x.id);try{console.log(" Sending quote notification via unified-email..."),await I.functions.invoke("unified-email",{body:{type:"quote_confirmation",to:["admin.1@greenscapelux.com"],data:{name:t.name,email:t.email,phone:t.phone,address:t.propertyAddress,preferredDate:t.date,comments:t.comments,selectedServices:p,services:p,message:t.comments,propertySize:t.propertyAddress}}}),console.log(" Quote notification sent successfully via unified-email")}catch(y){console.warn(" Email notification failed (quote still saved):",y)}xF(p),r({name:"",email:"",phone:"",propertyAddress:"",selectedServices:[],otherService:"",date:"",comments:""}),e("/thank-you")}catch(p){console.error("Quote request error:",p),o({submit:p.message||"Failed to submit quote request. Please try again."})}finally{a(!1)}}};return s.jsxs(cz,{children:[s.jsx(pn,{}),s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[s.jsxs("div",{className:"w-full max-w-4xl mb-8",children:[s.jsx(vz,{}),s.jsx(xz,{items:[{label:"Home",path:"/"},{label:"Get Quote",path:"/get-quote",isActive:!0}],className:"mt-2"})]}),s.jsx("div",{className:"mb-8",children:s.jsx(Mp,{size:"large"})}),s.jsxs(R,{className:"w-full max-w-4xl bg-black/95 border-2 border-green-500 shadow-2xl shadow-green-500/30 backdrop-blur-sm",children:[s.jsxs(V,{className:"text-center",children:[s.jsx(W,{className:"text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-green-600 mb-2",children:"Instant Landscaping Quote"}),s.jsx("p",{className:"text-gray-300 text-lg",children:"Tell us about your property  we'll provide a detailed quote within 24 hours."})]}),s.jsxs(F,{children:[i.submit&&s.jsx("div",{className:"mb-6 p-4 bg-red-900/30 border-2 border-red-500 rounded-lg text-red-300 shadow-lg shadow-red-500/20",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-3"}),i.submit]})}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name",className:"text-green-400 font-semibold",children:"Full Name *"}),s.jsx(re,{id:"name",type:"text",value:t.name,onChange:m=>f("name",m.target.value),className:`bg-gray-900/80 text-white ${i.name?"border-red-500":"border-green-500"}`,placeholder:"Enter your full name"}),i.name&&s.jsx("div",{className:"text-red-400 text-sm mt-1",children:i.name})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"email",className:"text-green-400 font-semibold",children:"Email Address *"}),s.jsx(re,{id:"email",type:"email",value:t.email,onChange:m=>f("email",m.target.value),className:`bg-gray-900/80 text-white ${i.email?"border-red-500":"border-green-500"}`,placeholder:"you@example.com"}),i.email&&s.jsx(Ef,{error:i.email})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"phone",className:"text-green-400 font-semibold",children:"Phone Number"}),s.jsx(re,{id:"phone",type:"tel",value:t.phone,onChange:m=>f("phone",m.target.value),className:`bg-gray-900/80 text-white ${i.phone?"border-red-500":"border-green-500"}`,placeholder:"(123) 456-7890"}),i.phone&&s.jsx(Ef,{error:i.phone})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"date",className:"text-green-400 font-semibold",children:"Preferred Start Date"}),s.jsx(re,{id:"date",type:"date",value:t.date,onChange:m=>f("date",m.target.value),className:"bg-gray-900/80 border-green-500 text-white",min:new Date().toISOString().split("T")[0]})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"propertyAddress",className:"text-green-400 font-semibold",children:"Property Address *"}),s.jsx(re,{id:"propertyAddress",type:"text",value:t.propertyAddress,onChange:m=>f("propertyAddress",m.target.value),className:`bg-gray-900/80 text-white ${i.propertyAddress?"border-red-500":"border-green-500"}`,placeholder:"123 Main Street, City, State, ZIP"}),i.propertyAddress&&s.jsx(Ef,{error:i.propertyAddress})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-green-400 font-semibold mb-4 block text-lg",children:"Services Needed *"}),s.jsx("div",{className:`bg-gray-900/50 rounded-lg p-6 ${i.services?"border border-red-500":"border border-green-500/50"}`,children:s.jsx(xT,{selectedServices:t.selectedServices,otherService:t.otherService,onServiceChange:d,onOtherServiceChange:m=>f("otherService",m)})}),i.services&&s.jsx(Ef,{error:i.services})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"comments",className:"text-green-400 font-semibold",children:"Project Details & Special Requests"}),s.jsx(ao,{id:"comments",value:t.comments,onChange:m=>f("comments",m.target.value),className:"bg-gray-900/80 border-green-500 text-white min-h-[120px]",placeholder:"Tell us about your vision, property size, timeline, budget range, or any special requirements..."})]}),s.jsx(Lp,{type:"submit",disabled:n,label:n?"Submitting Quote Request...":"Get a Quote",className:"w-full bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-500 hover:to-emerald-600 text-white font-bold py-4 px-8 rounded-lg shadow-lg shadow-emerald-500/30 hover:shadow-emerald-500/50 transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed text-lg border border-emerald-400/20 hover:border-emerald-400/40",loading:n}),s.jsx("p",{className:"text-center text-gray-400 text-sm",children:"* Required fields. We'll respond within 24 hours with your personalized quote."})]})]})]})]})]})}const yT=b.createContext({user:null,session:null,loading:!0,role:null,signOut:async()=>{},refreshUserRole:async()=>{}}),gt=()=>{const e=b.useContext(yT);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Kw=gt,Sz=({children:e})=>{const[t,r]=b.useState(null),[n,a]=b.useState(null),[i,o]=b.useState(!0),[l,c]=b.useState(null),u=async v=>{var p;try{console.log(" Looking up role for user ID:",v.id);const x=(p=v.user_metadata)==null?void 0:p.role;if(x)return console.log(" Got role from metadata:",x),x;console.log(" No role in metadata, querying database...");const{data:g,error:y}=await I.from("users").select("role").eq("id",v.id).single();return y?(console.error(" Database role lookup error:",y),"client"):g!=null&&g.role?(console.log(" Got role from database:",g.role),g.role):(console.log(" No role found, defaulting to client"),"client")}catch(x){return console.error(" Exception in getUserRole:",x),"client"}},f=async v=>{var p,x,g;try{if(!v.id||!v.email)return;const{data:y}=await I.from("users").select("id").eq("id",v.id).single();if(y)return;const{error:w}=await I.from("users").insert({id:v.id,email:v.email,role:((p=v.user_metadata)==null?void 0:p.role)||"client",first_name:((x=v.user_metadata)==null?void 0:x.first_name)||null,last_name:((g=v.user_metadata)==null?void 0:g.last_name)||null});w?console.error(" Error creating user record:",w):console.log(" Created user record for:",v.email)}catch(y){console.error(" Exception in ensureUserRecord:",y)}},d=async()=>{if(!t)return;console.log(" Refreshing user role for:",t.email);const v=await u(t);c(v)},h=async()=>{try{o(!0);const{error:v}=await I.auth.signOut();v?console.error(" Sign out error:",v):console.log(" User signed out successfully")}catch(v){console.error(" Exception during sign out:",v)}finally{o(!1)}};b.useEffect(()=>{let v=!0;const p=async(g,y)=>{var w,S;if(v){if(console.log(" Auth state change:",g,((w=y==null?void 0:y.user)==null?void 0:w.email)||"no user"),a(y),r((y==null?void 0:y.user)||null),(S=y==null?void 0:y.user)!=null&&S.email){await f(y.user);const j=await u(y.user);v&&c(j)}else v&&c(null);v&&o(!1)}};I.auth.getSession().then(({data:{session:g}})=>{v&&p("INITIAL_SESSION",g)});const{data:{subscription:x}}=I.auth.onAuthStateChange(p);return()=>{v=!1,x.unsubscribe()}},[]);const m={user:t,session:n,loading:i,role:l,signOut:h,refreshUserRole:d};return s.jsx(yT.Provider,{value:m,children:e})};function _z(){const{user:e}=gt(),[t,r]=b.useState(8),[n,a]=b.useState(!1),i=Te();b.useEffect(()=>{if(e){a(!0);const l=setInterval(()=>{r(u=>u<=1?(clearInterval(l),i("/client-dashboard"),0):u-1)},1e3),c=setTimeout(()=>{a(!1)},6e3);return()=>{clearInterval(l),clearTimeout(c)}}},[e,i]);const o=!!e;return s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:s.jsx("div",{className:"max-w-2xl w-full",children:s.jsx("div",{className:"bg-black/90 backdrop-blur-sm rounded-2xl border border-green-500/20 p-8 md:p-12 shadow-2xl shadow-green-500/10",children:s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-green-400 mb-6 animate-pulse",children:"Thank You!"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-white text-lg md:text-xl leading-relaxed",children:"Your quote request has been received."}),s.jsx("p",{className:"text-gray-300 text-base md:text-lg",children:"We'll follow up with your personalized estimate shortly."})]}),o&&n&&s.jsx("div",{className:`transition-opacity duration-1000 ${n?"opacity-100":"opacity-0"}`,children:s.jsxs("p",{className:"text-green-300 text-sm",children:["Redirecting to your dashboard in ",t," seconds..."]})}),s.jsxs("div",{className:"pt-8 space-y-4",children:[o&&s.jsx("div",{className:"animate-fade-in",children:s.jsx(dt,{to:"/client-dashboard",children:s.jsx(B,{className:"w-full sm:w-auto bg-gradient-to-r from-green-500 to-green-600 hover:from-green-400 hover:to-green-500 text-white px-8 py-3 rounded-xl text-lg font-semibold transition-all duration-300 shadow-lg shadow-green-500/40 hover:shadow-green-400/60 hover:scale-105 border border-green-400/30 hover:border-green-300/50 glow-green mb-4",children:"Back to Dashboard"})})}),s.jsx("div",{className:"animate-fade-in-delayed",children:s.jsx(dt,{to:"/",children:s.jsx(B,{className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg text-lg font-semibold transition-all duration-300 shadow-lg shadow-green-500/25 hover:shadow-green-500/40 hover:scale-105",children:"Return to Home"})})})]})]})})})})}async function Hw(e,t="/client-login"){try{console.log("Starting logout process...");const{error:r}=await e.auth.signOut();r?console.error("Supabase signOut error:",r):console.log("Supabase signOut successful");try{sessionStorage.clear(),console.log("Session storage cleared")}catch(n){console.error("Session storage clear failed:",n)}try{localStorage.clear(),console.log("Local storage cleared")}catch(n){console.error("Local storage clear failed:",n)}console.log("Redirecting to:",t),typeof window<"u"&&(window.location.href=t)}catch(r){if(console.error("Logout process failed:",r),typeof window<"u")try{window.location.href=t}catch(n){console.error("Final redirect failed:",n),window.location.href="/"}}}function Ez(){const[e,t]=b.useState(!1),[r,n]=b.useState(!1),[a,i]=b.useState(!1),o=Te(),l=b.useRef(null),{user:c,role:u}=gt();b.useEffect(()=>{c&&u?(n(u==="client"||u==="admin"),i(u==="landscaper"||u==="admin")):(n(!1),i(!1))},[c,u]),b.useEffect(()=>{const h=m=>{l.current&&!l.current.contains(m.target)&&t(!1)};return e&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[e]);const f=async()=>{t(!1),await Hw(I,"/client-login")};if(!(c!=null&&c.email))return null;const d=r&&a;return s.jsxs("div",{className:"relative",ref:l,children:[s.jsxs("button",{className:"px-3 py-2 rounded-2xl bg-emerald-500/15 hover:bg-emerald-500/25 text-emerald-300 shadow-[0_0_20px_rgba(52,211,153,0.15)] ring-1 ring-emerald-500/30 transition-all duration-200 hover:shadow-[0_0_30px_rgba(52,211,153,0.25)] max-w-[200px] sm:max-w-none",onClick:()=>t(h=>!h),"aria-haspopup":"menu","aria-expanded":e,children:[s.jsx("span",{className:"hidden sm:inline",children:c.email}),s.jsx("span",{className:"sm:hidden",children:c.email.length>15?`${c.email.substring(0,12)}...`:c.email})]}),e&&s.jsxs("div",{className:"absolute right-0 mt-2 w-64 rounded-2xl bg-[#0B0F0D] ring-1 ring-emerald-500/30 shadow-xl shadow-emerald-500/10 p-2 z-50",role:"menu",children:[d&&s.jsx("div",{className:"px-4 py-2 text-emerald-400 text-sm font-medium",children:"Switch Portal"}),r&&s.jsx("button",{className:"w-full text-left px-4 py-3 rounded-xl text-emerald-300 hover:bg-emerald-500/10 hover:shadow-[0_0_15px_rgba(52,211,153,0.1)] transition-all duration-200",onClick:()=>{t(!1),o("/client-dashboard")},role:"menuitem",children:"Client Dashboard"}),a&&s.jsx("button",{className:"w-full text-left px-4 py-3 rounded-xl text-emerald-300 hover:bg-emerald-500/10 hover:shadow-[0_0_15px_rgba(52,211,153,0.1)] transition-all duration-200",onClick:()=>{t(!1),o("/landscaper-dashboard")},role:"menuitem",children:"Pro Dashboard"}),(r||a)&&s.jsx("div",{className:"my-2 h-px bg-emerald-500/20"}),s.jsx("button",{className:"w-full text-left px-4 py-3 rounded-xl text-red-300 hover:bg-red-500/10 hover:text-red-200 transition-all duration-200",onClick:f,role:"menuitem",children:"Logout"})]})]})}const Gw=({showNavigation:e=!0})=>{Te();const[t,r]=b.useState(!1),{user:n}=gt();return s.jsx("header",{className:"relative z-20 bg-black border-b border-emerald-400/20",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(dt,{to:"/",className:"flex items-center min-w-0 flex-shrink",children:[s.jsx(Mp,{size:"small",className:"w-12 h-12 flex-shrink-0"}),s.jsx("span",{className:"ml-3 text-xl font-bold text-white hidden sm:block",children:"GreenScape Lux"}),s.jsx("span",{className:"ml-2 text-lg font-bold text-white sm:hidden",children:"GreenScape"})]}),s.jsx("div",{className:"flex items-center space-x-4 flex-shrink-0",children:n&&s.jsx(Ez,{})})]})})})},Pz=()=>{const e=qt();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsxs("div",{className:"min-h-screen bg-black text-white",children:[s.jsx(Gw,{}),s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:s.jsxs("div",{className:"text-center max-w-lg mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-8xl font-bold text-emerald-400 mb-4 drop-shadow-[0_0_20px_rgba(34,197,94,0.6)]",children:"404"}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Page Not Found"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"The page you're looking for doesn't exist or has been moved."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(B,{onClick:()=>navigate("/"),variant:"outline",className:"border-emerald-500 text-emerald-400 hover:bg-emerald-500/10 px-6 py-3",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Go Back"]}),s.jsx(dt,{to:"/",children:s.jsxs(B,{className:"bg-emerald-500 hover:bg-emerald-600 text-black px-6 py-3",children:[s.jsx(Md,{className:"w-4 h-4 mr-2"}),"Return Home"]})})]})]})}),s.jsx(Fw,{})]})};function xS(e,[t,r]){return Math.min(r,Math.max(t,e))}function kz(e,t=globalThis==null?void 0:globalThis.document){const r=Us(e);b.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Az="DismissableLayer",I0="dismissableLayer.update",Cz="dismissableLayer.pointerDownOutside",Oz="dismissableLayer.focusOutside",yS,bT=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yw=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=b.useContext(bT),[f,d]=b.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),v=rt(t,_=>d(_)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=p.indexOf(x),y=f?p.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=g,j=$z(_=>{const E=_.target,k=[...u.branches].some(A=>A.contains(E));!S||k||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},h),N=Rz(_=>{const E=_.target;[...u.branches].some(A=>A.contains(E))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},h);return kz(_=>{y===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),b.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(yS=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),bS(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=yS)}},[f,h,r,u]),b.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),bS())},[f,u]),b.useEffect(()=>{const _=()=>m({});return document.addEventListener(I0,_),()=>document.removeEventListener(I0,_)},[]),s.jsx(_e.div,{...c,ref:v,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Ce(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Ce(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Ce(e.onPointerDownCapture,j.onPointerDownCapture)})});Yw.displayName=Az;var Tz="DismissableLayerBranch",Iz=b.forwardRef((e,t)=>{const r=b.useContext(bT),n=b.useRef(null),a=rt(t,n);return b.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(_e.div,{...e,ref:a})});Iz.displayName=Tz;function $z(e,t=globalThis==null?void 0:globalThis.document){const r=Us(e),n=b.useRef(!1),a=b.useRef(()=>{});return b.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){wT(Cz,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Rz(e,t=globalThis==null?void 0:globalThis.document){const r=Us(e),n=b.useRef(!1);return b.useEffect(()=>{const a=i=>{i.target&&!n.current&&wT(Oz,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function bS(){const e=new CustomEvent(I0);document.dispatchEvent(e)}function wT(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?PF(a,i):a.dispatchEvent(i)}var Cv=0;function jT(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??wS()),document.body.insertAdjacentElement("beforeend",e[1]??wS()),Cv++,()=>{Cv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Cv--}},[])}function wS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ov="focusScope.autoFocusOnMount",Tv="focusScope.autoFocusOnUnmount",jS={bubbles:!1,cancelable:!0},Mz="FocusScope",Jw=b.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=b.useState(null),u=Us(a),f=Us(i),d=b.useRef(null),h=rt(t,p=>c(p)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const S=w.target;l.contains(S)?d.current=S:ca(d.current,{select:!0})},x=function(w){if(m.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||ca(d.current,{select:!0}))},g=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&ca(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const y=new MutationObserver(g);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),y.disconnect()}}},[n,l,m.paused]),b.useEffect(()=>{if(l){SS.add(m);const p=document.activeElement;if(!l.contains(p)){const g=new CustomEvent(Ov,jS);l.addEventListener(Ov,u),l.dispatchEvent(g),g.defaultPrevented||(Dz(zz(NT(l)),{select:!0}),document.activeElement===p&&ca(l))}return()=>{l.removeEventListener(Ov,u),setTimeout(()=>{const g=new CustomEvent(Tv,jS);l.addEventListener(Tv,f),l.dispatchEvent(g),g.defaultPrevented||ca(p??document.body,{select:!0}),l.removeEventListener(Tv,f),SS.remove(m)},0)}}},[l,u,f,m]);const v=b.useCallback(p=>{if(!r&&!n||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,g=document.activeElement;if(x&&g){const y=p.currentTarget,[w,S]=Lz(y);w&&S?!p.shiftKey&&g===S?(p.preventDefault(),r&&ca(w,{select:!0})):p.shiftKey&&g===w&&(p.preventDefault(),r&&ca(S,{select:!0})):g===y&&p.preventDefault()}},[r,n,m.paused]);return s.jsx(_e.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});Jw.displayName=Mz;function Dz(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ca(n,{select:t}),document.activeElement!==r)return}function Lz(e){const t=NT(e),r=NS(t,e),n=NS(t.reverse(),e);return[r,n]}function NT(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function NS(e,t){for(const r of e)if(!Uz(r,{upTo:t}))return r}function Uz(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Bz(e){return e instanceof HTMLInputElement&&"select"in e}function ca(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Bz(e)&&t&&e.select()}}var SS=Fz();function Fz(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=_S(e,t),e.unshift(t)},remove(t){var r;e=_S(e,t),(r=e[0])==null||r.resume()}}}function _S(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function zz(e){return e.filter(t=>t.tagName!=="A")}const Vz=["top","right","bottom","left"],Da=Math.min,Ur=Math.max,Qh=Math.round,Pf=Math.floor,is=e=>({x:e,y:e}),Wz={left:"right",right:"left",bottom:"top",top:"bottom"},qz={start:"end",end:"start"};function $0(e,t,r){return Ur(e,Da(t,r))}function Bs(e,t){return typeof e=="function"?e(t):e}function Fs(e){return e.split("-")[0]}function ic(e){return e.split("-")[1]}function Xw(e){return e==="x"?"y":"x"}function Zw(e){return e==="y"?"height":"width"}const Kz=new Set(["top","bottom"]);function rs(e){return Kz.has(Fs(e))?"y":"x"}function Qw(e){return Xw(rs(e))}function Hz(e,t,r){r===void 0&&(r=!1);const n=ic(e),a=Qw(e),i=Zw(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=em(o)),[o,em(o)]}function Gz(e){const t=em(e);return[R0(e),t,R0(t)]}function R0(e){return e.replace(/start|end/g,t=>qz[t])}const ES=["left","right"],PS=["right","left"],Yz=["top","bottom"],Jz=["bottom","top"];function Xz(e,t,r){switch(e){case"top":case"bottom":return r?t?PS:ES:t?ES:PS;case"left":case"right":return t?Yz:Jz;default:return[]}}function Zz(e,t,r,n){const a=ic(e);let i=Xz(Fs(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(R0)))),i}function em(e){return e.replace(/left|right|bottom|top/g,t=>Wz[t])}function Qz(e){return{top:0,right:0,bottom:0,left:0,...e}}function ST(e){return typeof e!="number"?Qz(e):{top:e,right:e,bottom:e,left:e}}function tm(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function kS(e,t,r){let{reference:n,floating:a}=e;const i=rs(t),o=Qw(t),l=Zw(o),c=Fs(t),u=i==="y",f=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:f,y:n.y-a.height};break;case"bottom":m={x:f,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:d};break;case"left":m={x:n.x-a.width,y:d};break;default:m={x:n.x,y:n.y}}switch(ic(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const eV=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:d}=kS(u,n,c),h=n,m={},v=0;for(let p=0;p<l.length;p++){const{name:x,fn:g}=l[p],{x:y,y:w,data:S,reset:j}=await g({x:f,y:d,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});f=y??f,d=w??d,m={...m,[x]:{...m[x],...S}},j&&v<=50&&(v++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:f,y:d}=kS(u,h,c)),p=-1)}return{x:f,y:d,placement:h,strategy:a,middlewareData:m}};async function Gu(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=Bs(t,e),v=ST(m),x=l[h?d==="floating"?"reference":"floating":d],g=tm(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),y=d==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=tm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(g.top-j.top+v.top)/S.y,bottom:(j.bottom-g.bottom+v.bottom)/S.y,left:(g.left-j.left+v.left)/S.x,right:(j.right-g.right+v.right)/S.x}}const tV=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=Bs(e,t)||{};if(u==null)return{};const d=ST(f),h={x:r,y:n},m=Qw(a),v=Zw(m),p=await o.getDimensions(u),x=m==="y",g=x?"top":"left",y=x?"bottom":"right",w=x?"clientHeight":"clientWidth",S=i.reference[v]+i.reference[m]-h[m]-i.floating[v],j=h[m]-i.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=N?N[w]:0;(!_||!await(o.isElement==null?void 0:o.isElement(N)))&&(_=l.floating[w]||i.floating[v]);const E=S/2-j/2,k=_/2-p[v]/2-1,A=Da(d[g],k),O=Da(d[y],k),C=A,M=_-p[v]-O,U=_/2-p[v]/2+E,L=$0(C,U,M),D=!c.arrow&&ic(a)!=null&&U!==L&&i.reference[v]/2-(U<C?A:O)-p[v]/2<0,z=D?U<C?U-C:U-M:0;return{[m]:h[m]+z,data:{[m]:L,centerOffset:U-L-z,...D&&{alignmentOffset:z}},reset:D}}}),rV=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...x}=Bs(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=Fs(a),y=rs(l),w=Fs(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!p?[em(l)]:Gz(l)),N=v!=="none";!h&&N&&j.push(...Zz(l,p,v,S));const _=[l,...j],E=await Gu(t,x),k=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&k.push(E[g]),d){const U=Hz(a,o,S);k.push(E[U[0]],E[U[1]])}if(A=[...A,{placement:a,overflows:k}],!k.every(U=>U<=0)){var O,C;const U=(((O=i.flip)==null?void 0:O.index)||0)+1,L=_[U];if(L&&(!(d==="alignment"?y!==rs(L):!1)||A.every(T=>rs(T.placement)===y?T.overflows[0]>0:!0)))return{data:{index:U,overflows:A},reset:{placement:L}};let D=(C=A.filter(z=>z.overflows[0]<=0).sort((z,T)=>z.overflows[1]-T.overflows[1])[0])==null?void 0:C.placement;if(!D)switch(m){case"bestFit":{var M;const z=(M=A.filter(T=>{if(N){const $=rs(T.placement);return $===y||$==="y"}return!0}).map(T=>[T.placement,T.overflows.filter($=>$>0).reduce(($,K)=>$+K,0)]).sort((T,$)=>T[1]-$[1])[0])==null?void 0:M[0];z&&(D=z);break}case"initialPlacement":D=l;break}if(a!==D)return{reset:{placement:D}}}return{}}}};function AS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function CS(e){return Vz.some(t=>e[t]>=0)}const nV=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Bs(e,t);switch(n){case"referenceHidden":{const i=await Gu(t,{...a,elementContext:"reference"}),o=AS(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:CS(o)}}}case"escaped":{const i=await Gu(t,{...a,altBoundary:!0}),o=AS(i,r.floating);return{data:{escapedOffsets:o,escaped:CS(o)}}}default:return{}}}}},_T=new Set(["left","top"]);async function sV(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Fs(r),l=ic(r),c=rs(r)==="y",u=_T.has(o)?-1:1,f=i&&c?-1:1,d=Bs(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof v=="number"&&(m=l==="end"?v*-1:v),c?{x:m*f,y:h*u}:{x:h*u,y:m*f}}const aV=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await sV(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},iV=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:g,y}=x;return{x:g,y}}},...c}=Bs(e,t),u={x:r,y:n},f=await Gu(t,c),d=rs(Fs(a)),h=Xw(d);let m=u[h],v=u[d];if(i){const x=h==="y"?"top":"left",g=h==="y"?"bottom":"right",y=m+f[x],w=m-f[g];m=$0(y,m,w)}if(o){const x=d==="y"?"top":"left",g=d==="y"?"bottom":"right",y=v+f[x],w=v-f[g];v=$0(y,v,w)}const p=l.fn({...t,[h]:m,[d]:v});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:i,[d]:o}}}}}},oV=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Bs(e,t),f={x:r,y:n},d=rs(a),h=Xw(d);let m=f[h],v=f[d];const p=Bs(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",S=i.reference[h]-i.floating[w]+x.mainAxis,j=i.reference[h]+i.reference[w]-x.mainAxis;m<S?m=S:m>j&&(m=j)}if(u){var g,y;const w=h==="y"?"width":"height",S=_T.has(Fs(a)),j=i.reference[d]-i.floating[w]+(S&&((g=o.offset)==null?void 0:g[d])||0)+(S?0:x.crossAxis),N=i.reference[d]+i.reference[w]+(S?0:((y=o.offset)==null?void 0:y[d])||0)-(S?x.crossAxis:0);v<j?v=j:v>N&&(v=N)}return{[h]:m,[d]:v}}}},lV=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Bs(e,t),f=await Gu(t,u),d=Fs(a),h=ic(a),m=rs(a)==="y",{width:v,height:p}=i.floating;let x,g;d==="top"||d==="bottom"?(x=d,g=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=d,x=h==="end"?"top":"bottom");const y=p-f.top-f.bottom,w=v-f.left-f.right,S=Da(p-f[x],y),j=Da(v-f[g],w),N=!t.middlewareData.shift;let _=S,E=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=y),N&&!h){const A=Ur(f.left,0),O=Ur(f.right,0),C=Ur(f.top,0),M=Ur(f.bottom,0);m?E=v-2*(A!==0||O!==0?A+O:Ur(f.left,f.right)):_=p-2*(C!==0||M!==0?C+M:Ur(f.top,f.bottom))}await c({...t,availableWidth:E,availableHeight:_});const k=await o.getDimensions(l.floating);return v!==k.width||p!==k.height?{reset:{rects:!0}}:{}}}};function Up(){return typeof window<"u"}function oc(e){return ET(e)?(e.nodeName||"").toLowerCase():"#document"}function Kr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gs(e){var t;return(t=(ET(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ET(e){return Up()?e instanceof Node||e instanceof Kr(e).Node:!1}function zn(e){return Up()?e instanceof Element||e instanceof Kr(e).Element:!1}function ds(e){return Up()?e instanceof HTMLElement||e instanceof Kr(e).HTMLElement:!1}function OS(e){return!Up()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Kr(e).ShadowRoot}const cV=new Set(["inline","contents"]);function zd(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Vn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!cV.has(a)}const uV=new Set(["table","td","th"]);function dV(e){return uV.has(oc(e))}const fV=[":popover-open",":modal"];function Bp(e){return fV.some(t=>{try{return e.matches(t)}catch{return!1}})}const hV=["transform","translate","scale","rotate","perspective"],mV=["transform","translate","scale","rotate","perspective","filter"],pV=["paint","layout","strict","content"];function ej(e){const t=tj(),r=zn(e)?Vn(e):e;return hV.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||mV.some(n=>(r.willChange||"").includes(n))||pV.some(n=>(r.contain||"").includes(n))}function gV(e){let t=La(e);for(;ds(t)&&!bl(t);){if(ej(t))return t;if(Bp(t))return null;t=La(t)}return null}function tj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vV=new Set(["html","body","#document"]);function bl(e){return vV.has(oc(e))}function Vn(e){return Kr(e).getComputedStyle(e)}function Fp(e){return zn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function La(e){if(oc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||OS(e)&&e.host||gs(e);return OS(t)?t.host:t}function PT(e){const t=La(e);return bl(t)?e.ownerDocument?e.ownerDocument.body:e.body:ds(t)&&zd(t)?t:PT(t)}function Yu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=PT(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Kr(a);if(i){const l=M0(o);return t.concat(o,o.visualViewport||[],zd(a)?a:[],l&&r?Yu(l):[])}return t.concat(a,Yu(a,[],r))}function M0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kT(e){const t=Vn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ds(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Qh(r)!==i||Qh(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function rj(e){return zn(e)?e:e.contextElement}function nl(e){const t=rj(e);if(!ds(t))return is(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=kT(t);let o=(i?Qh(r.width):r.width)/n,l=(i?Qh(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const xV=is(0);function AT(e){const t=Kr(e);return!tj()||!t.visualViewport?xV:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function yV(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Kr(e)?!1:t}function zi(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=rj(e);let o=is(1);t&&(n?zn(n)&&(o=nl(n)):o=nl(e));const l=yV(i,r,n)?AT(i):is(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,f=a.width/o.x,d=a.height/o.y;if(i){const h=Kr(i),m=n&&zn(n)?Kr(n):n;let v=h,p=M0(v);for(;p&&n&&m!==v;){const x=nl(p),g=p.getBoundingClientRect(),y=Vn(p),w=g.left+(p.clientLeft+parseFloat(y.paddingLeft))*x.x,S=g.top+(p.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,f*=x.x,d*=x.y,c+=w,u+=S,v=Kr(p),p=M0(v)}}return tm({width:f,height:d,x:c,y:u})}function zp(e,t){const r=Fp(e).scrollLeft;return t?t.left+r:zi(gs(e)).left+r}function CT(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-zp(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function bV(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=gs(n),l=t?Bp(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=is(1);const f=is(0),d=ds(n);if((d||!d&&!i)&&((oc(n)!=="body"||zd(o))&&(c=Fp(n)),ds(n))){const m=zi(n);u=nl(n),f.x=m.x+n.clientLeft,f.y=m.y+n.clientTop}const h=o&&!d&&!i?CT(o,c):is(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+h.x,y:r.y*u.y-c.scrollTop*u.y+f.y+h.y}}function wV(e){return Array.from(e.getClientRects())}function jV(e){const t=gs(e),r=Fp(e),n=e.ownerDocument.body,a=Ur(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Ur(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+zp(e);const l=-r.scrollTop;return Vn(n).direction==="rtl"&&(o+=Ur(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const TS=25;function NV(e,t){const r=Kr(e),n=gs(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const f=tj();(!f||f&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=zp(n);if(u<=0){const f=n.ownerDocument,d=f.body,h=getComputedStyle(d),m=f.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,v=Math.abs(n.clientWidth-d.clientWidth-m);v<=TS&&(i-=v)}else u<=TS&&(i+=u);return{width:i,height:o,x:l,y:c}}const SV=new Set(["absolute","fixed"]);function _V(e,t){const r=zi(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=ds(e)?nl(e):is(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function IS(e,t,r){let n;if(t==="viewport")n=NV(e,r);else if(t==="document")n=jV(gs(e));else if(zn(t))n=_V(t,r);else{const a=AT(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return tm(n)}function OT(e,t){const r=La(e);return r===t||!zn(r)||bl(r)?!1:Vn(r).position==="fixed"||OT(r,t)}function EV(e,t){const r=t.get(e);if(r)return r;let n=Yu(e,[],!1).filter(l=>zn(l)&&oc(l)!=="body"),a=null;const i=Vn(e).position==="fixed";let o=i?La(e):e;for(;zn(o)&&!bl(o);){const l=Vn(o),c=ej(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&SV.has(a.position)||zd(o)&&!c&&OT(e,o))?n=n.filter(f=>f!==o):a=l,o=La(o)}return t.set(e,n),n}function PV(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Bp(t)?[]:EV(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,f)=>{const d=IS(t,f,a);return u.top=Ur(d.top,u.top),u.right=Da(d.right,u.right),u.bottom=Da(d.bottom,u.bottom),u.left=Ur(d.left,u.left),u},IS(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function kV(e){const{width:t,height:r}=kT(e);return{width:t,height:r}}function AV(e,t,r){const n=ds(t),a=gs(t),i=r==="fixed",o=zi(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=is(0);function u(){c.x=zp(a)}if(n||!n&&!i)if((oc(t)!=="body"||zd(a))&&(l=Fp(t)),n){const m=zi(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!n&&a&&u();const f=a&&!n&&!i?CT(a,l):is(0),d=o.left+l.scrollLeft-c.x-f.x,h=o.top+l.scrollTop-c.y-f.y;return{x:d,y:h,width:o.width,height:o.height}}function Iv(e){return Vn(e).position==="static"}function $S(e,t){if(!ds(e)||Vn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return gs(e)===r&&(r=r.ownerDocument.body),r}function TT(e,t){const r=Kr(e);if(Bp(e))return r;if(!ds(e)){let a=La(e);for(;a&&!bl(a);){if(zn(a)&&!Iv(a))return a;a=La(a)}return r}let n=$S(e,t);for(;n&&dV(n)&&Iv(n);)n=$S(n,t);return n&&bl(n)&&Iv(n)&&!ej(n)?r:n||gV(e)||r}const CV=async function(e){const t=this.getOffsetParent||TT,r=this.getDimensions,n=await r(e.floating);return{reference:AV(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function OV(e){return Vn(e).direction==="rtl"}const TV={convertOffsetParentRelativeRectToViewportRelativeRect:bV,getDocumentElement:gs,getClippingRect:PV,getOffsetParent:TT,getElementRects:CV,getClientRects:wV,getDimensions:kV,getScale:nl,isElement:zn,isRTL:OV};function IT(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function IV(e,t){let r=null,n;const a=gs(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:f,top:d,width:h,height:m}=u;if(l||t(),!h||!m)return;const v=Pf(d),p=Pf(a.clientWidth-(f+h)),x=Pf(a.clientHeight-(d+m)),g=Pf(f),w={rootMargin:-v+"px "+-p+"px "+-x+"px "+-g+"px",threshold:Ur(0,Da(1,c))||1};let S=!0;function j(N){const _=N[0].intersectionRatio;if(_!==c){if(!S)return o();_?o(!1,_):n=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!IT(u,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(j,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function $V(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=rj(e),f=a||i?[...u?Yu(u):[],...Yu(t)]:[];f.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const d=u&&l?IV(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(g=>{let[y]=g;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let v,p=c?zi(e):null;c&&x();function x(){const g=zi(e);p&&!IT(p,g)&&r(),p=g,v=requestAnimationFrame(x)}return r(),()=>{var g;f.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),d==null||d(),(g=m)==null||g.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const RV=aV,MV=iV,DV=rV,LV=lV,UV=nV,RS=tV,BV=oV,FV=(e,t,r)=>{const n=new Map,a={platform:TV,...r},i={...a.platform,_c:n};return eV(e,t,{...a,platform:i})};var zV=typeof document<"u",VV=function(){},hh=zV?b.useLayoutEffect:VV;function rm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!rm(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!rm(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function $T(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function MS(e,t){const r=$T(e);return Math.round(t*r)/r}function $v(e){const t=b.useRef(e);return hh(()=>{t.current=e}),t}function WV(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=b.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=b.useState(n);rm(h,n)||m(n);const[v,p]=b.useState(null),[x,g]=b.useState(null),y=b.useCallback(T=>{T!==N.current&&(N.current=T,p(T))},[]),w=b.useCallback(T=>{T!==_.current&&(_.current=T,g(T))},[]),S=i||v,j=o||x,N=b.useRef(null),_=b.useRef(null),E=b.useRef(f),k=c!=null,A=$v(c),O=$v(a),C=$v(u),M=b.useCallback(()=>{if(!N.current||!_.current)return;const T={placement:t,strategy:r,middleware:h};O.current&&(T.platform=O.current),FV(N.current,_.current,T).then($=>{const K={...$,isPositioned:C.current!==!1};U.current&&!rm(E.current,K)&&(E.current=K,Xl.flushSync(()=>{d(K)}))})},[h,t,r,O,C]);hh(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(T=>({...T,isPositioned:!1})))},[u]);const U=b.useRef(!1);hh(()=>(U.current=!0,()=>{U.current=!1}),[]),hh(()=>{if(S&&(N.current=S),j&&(_.current=j),S&&j){if(A.current)return A.current(S,j,M);M()}},[S,j,M,A,k]);const L=b.useMemo(()=>({reference:N,floating:_,setReference:y,setFloating:w}),[y,w]),D=b.useMemo(()=>({reference:S,floating:j}),[S,j]),z=b.useMemo(()=>{const T={position:r,left:0,top:0};if(!D.floating)return T;const $=MS(D.floating,f.x),K=MS(D.floating,f.y);return l?{...T,transform:"translate("+$+"px, "+K+"px)",...$T(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:K}},[r,l,D.floating,f.x,f.y]);return b.useMemo(()=>({...f,update:M,refs:L,elements:D,floatingStyles:z}),[f,M,L,D,z])}const qV=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?RS({element:n.current,padding:a}).fn(r):{}:n?RS({element:n,padding:a}).fn(r):{}}}},KV=(e,t)=>({...RV(e),options:[e,t]}),HV=(e,t)=>({...MV(e),options:[e,t]}),GV=(e,t)=>({...BV(e),options:[e,t]}),YV=(e,t)=>({...DV(e),options:[e,t]}),JV=(e,t)=>({...LV(e),options:[e,t]}),XV=(e,t)=>({...UV(e),options:[e,t]}),ZV=(e,t)=>({...qV(e),options:[e,t]});var QV="Arrow",RT=b.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(_e.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});RT.displayName=QV;var e9=RT,nj="Popper",[MT,DT]=ms(nj),[t9,LT]=MT(nj),UT=e=>{const{__scopePopper:t,children:r}=e,[n,a]=b.useState(null);return s.jsx(t9,{scope:t,anchor:n,onAnchorChange:a,children:r})};UT.displayName=nj;var BT="PopperAnchor",FT=b.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=LT(BT,r),o=b.useRef(null),l=rt(t,o),c=b.useRef(null);return b.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(_e.div,{...a,ref:l})});FT.displayName=BT;var sj="PopperContent",[r9,n9]=MT(sj),zT=b.forwardRef((e,t)=>{var te,xe,J,ae,se,q;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...p}=e,x=LT(sj,r),[g,y]=b.useState(null),w=rt(t,ke=>y(ke)),[S,j]=b.useState(null),N=Vw(S),_=(N==null?void 0:N.width)??0,E=(N==null?void 0:N.height)??0,k=n+(i!=="center"?"-"+i:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},O=Array.isArray(u)?u:[u],C=O.length>0,M={padding:A,boundary:O.filter(a9),altBoundary:C},{refs:U,floatingStyles:L,placement:D,isPositioned:z,middlewareData:T}=WV({strategy:"fixed",placement:k,whileElementsMounted:(...ke)=>$V(...ke,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[KV({mainAxis:a+E,alignmentAxis:o}),c&&HV({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?GV():void 0,...M}),c&&YV({...M}),JV({...M,apply:({elements:ke,rects:ve,availableWidth:Ye,availableHeight:qe})=>{const{width:vt,height:vr}=ve.reference,Or=ke.floating.style;Or.setProperty("--radix-popper-available-width",`${Ye}px`),Or.setProperty("--radix-popper-available-height",`${qe}px`),Or.setProperty("--radix-popper-anchor-width",`${vt}px`),Or.setProperty("--radix-popper-anchor-height",`${vr}px`)}}),S&&ZV({element:S,padding:l}),i9({arrowWidth:_,arrowHeight:E}),h&&XV({strategy:"referenceHidden",...M})]}),[$,K]=qT(D),Y=Us(v);Lt(()=>{z&&(Y==null||Y())},[z,Y]);const G=(te=T.arrow)==null?void 0:te.x,Q=(xe=T.arrow)==null?void 0:xe.y,oe=((J=T.arrow)==null?void 0:J.centerOffset)!==0,[ge,Ie]=b.useState();return Lt(()=>{g&&Ie(window.getComputedStyle(g).zIndex)},[g]),s.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:z?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(ae=T.transformOrigin)==null?void 0:ae.x,(se=T.transformOrigin)==null?void 0:se.y].join(" "),...((q=T.hide)==null?void 0:q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(r9,{scope:r,placedSide:$,onArrowChange:j,arrowX:G,arrowY:Q,shouldHideArrow:oe,children:s.jsx(_e.div,{"data-side":$,"data-align":K,...p,ref:w,style:{...p.style,animation:z?void 0:"none"}})})})});zT.displayName=sj;var VT="PopperArrow",s9={top:"bottom",right:"left",bottom:"top",left:"right"},WT=b.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=n9(VT,n),o=s9[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(e9,{...a,ref:r,style:{...a.style,display:"block"}})})});WT.displayName=VT;function a9(e){return e!==null}var i9=e=>({name:"transformOrigin",options:e,fn(t){var x,g,y;const{placement:r,rects:n,middlewareData:a}=t,o=((x=a.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=qT(r),d={start:"0%",center:"50%",end:"100%"}[f],h=(((g=a.arrow)==null?void 0:g.x)??0)+l/2,m=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let v="",p="";return u==="bottom"?(v=o?d:`${h}px`,p=`${-c}px`):u==="top"?(v=o?d:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,p=o?d:`${m}px`):u==="left"&&(v=`${n.floating.width+c}px`,p=o?d:`${m}px`),{data:{x:v,y:p}}}});function qT(e){const[t,r="center"]=e.split("-");return[t,r]}var o9=UT,l9=FT,c9=zT,u9=WT,d9="Portal",aj=b.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=b.useState(!1);Lt(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?DC.createPortal(s.jsx(_e.div,{...n,ref:t}),o):null});aj.displayName=d9;var KT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),f9="VisuallyHidden",h9=b.forwardRef((e,t)=>s.jsx(_e.span,{...e,ref:t,style:{...KT,...e.style}}));h9.displayName=f9;var m9=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},wo=new WeakMap,kf=new WeakMap,Af={},Rv=0,HT=function(e){return e&&(e.host||HT(e.parentNode))},p9=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=HT(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},g9=function(e,t,r,n){var a=p9(t,Array.isArray(e)?e:[e]);Af[r]||(Af[r]=new WeakMap);var i=Af[r],o=[],l=new Set,c=new Set(a),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};a.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))f(h);else try{var m=h.getAttribute(n),v=m!==null&&m!=="false",p=(wo.get(h)||0)+1,x=(i.get(h)||0)+1;wo.set(h,p),i.set(h,x),o.push(h),p===1&&v&&kf.set(h,!0),x===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return f(t),l.clear(),Rv++,function(){o.forEach(function(d){var h=wo.get(d)-1,m=i.get(d)-1;wo.set(d,h),i.set(d,m),h||(kf.has(d)||d.removeAttribute(n),kf.delete(d)),m||d.removeAttribute(r)}),Rv--,Rv||(wo=new WeakMap,wo=new WeakMap,kf=new WeakMap,Af={})}},GT=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=m9(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),g9(n,a,r,"aria-hidden")):function(){return null}},ts=function(){return ts=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ts.apply(this,arguments)};function YT(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function v9(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var mh="right-scroll-bar-position",ph="width-before-scroll-bar",x9="with-scroll-bars-hidden",y9="--removed-body-scroll-bar-size";function Mv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function b9(e,t){var r=b.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var w9=typeof window<"u"?b.useLayoutEffect:b.useEffect,DS=new WeakMap;function j9(e,t){var r=b9(null,function(n){return e.forEach(function(a){return Mv(a,n)})});return w9(function(){var n=DS.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Mv(l,null)}),i.forEach(function(l){a.has(l)||Mv(l,o)})}DS.set(r,e)},[e]),r}function N9(e){return e}function S9(e,t){t===void 0&&(t=N9);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),r}}}};return a}function _9(e){e===void 0&&(e={});var t=S9(null);return t.options=ts({async:!0,ssr:!1},e),t}var JT=function(e){var t=e.sideCar,r=YT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,ts({},r))};JT.isSideCarExport=!0;function E9(e,t){return e.useMedium(t),JT}var XT=_9(),Dv=function(){},Vp=b.forwardRef(function(e,t){var r=b.useRef(null),n=b.useState({onScrollCapture:Dv,onWheelCapture:Dv,onTouchMoveCapture:Dv}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,m=e.noRelative,v=e.noIsolation,p=e.inert,x=e.allowPinchZoom,g=e.as,y=g===void 0?"div":g,w=e.gapMode,S=YT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=j9([r,t]),_=ts(ts({},S),a);return b.createElement(b.Fragment,null,f&&b.createElement(j,{sideCar:XT,removeScrollBar:u,shards:d,noRelative:m,noIsolation:v,inert:p,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:w}),o?b.cloneElement(b.Children.only(l),ts(ts({},_),{ref:N})):b.createElement(y,ts({},_,{className:c,ref:N}),l))});Vp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vp.classNames={fullWidth:ph,zeroRight:mh};var P9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function k9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=P9();return t&&e.setAttribute("nonce",t),e}function A9(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function C9(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var O9=function(){var e=0,t=null;return{add:function(r){e==0&&(t=k9())&&(A9(t,r),C9(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},T9=function(){var e=O9();return function(t,r){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},ZT=function(){var e=T9(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},I9={left:0,top:0,right:0,gap:0},Lv=function(e){return parseInt(e||"",10)||0},$9=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Lv(r),Lv(n),Lv(a)]},R9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return I9;var t=$9(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},M9=ZT(),sl="data-scroll-locked",D9=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(x9,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(sl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mh,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ph,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(mh," .").concat(mh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ph," .").concat(ph,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(sl,`] {
    `).concat(y9,": ").concat(l,`px;
  }
`)},LS=function(){var e=parseInt(document.body.getAttribute(sl)||"0",10);return isFinite(e)?e:0},L9=function(){b.useEffect(function(){return document.body.setAttribute(sl,(LS()+1).toString()),function(){var e=LS()-1;e<=0?document.body.removeAttribute(sl):document.body.setAttribute(sl,e.toString())}},[])},U9=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;L9();var i=b.useMemo(function(){return R9(a)},[a]);return b.createElement(M9,{styles:D9(i,!t,a,r?"":"!important")})},D0=!1;if(typeof window<"u")try{var Cf=Object.defineProperty({},"passive",{get:function(){return D0=!0,!0}});window.addEventListener("test",Cf,Cf),window.removeEventListener("test",Cf,Cf)}catch{D0=!1}var jo=D0?{passive:!1}:!1,B9=function(e){return e.tagName==="TEXTAREA"},QT=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!B9(e)&&r[t]==="visible")},F9=function(e){return QT(e,"overflowY")},z9=function(e){return QT(e,"overflowX")},US=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=e4(e,n);if(a){var i=t4(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},V9=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},W9=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},e4=function(e,t){return e==="v"?F9(t):z9(t)},t4=function(e,t){return e==="v"?V9(t):W9(t)},q9=function(e,t){return e==="h"&&t==="rtl"?-1:1},K9=function(e,t,r,n,a){var i=q9(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,f=o>0,d=0,h=0;do{if(!l)break;var m=t4(e,l),v=m[0],p=m[1],x=m[2],g=p-x-i*v;(v||g)&&e4(e,l)&&(d+=g,h+=v);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(d)<1||!f&&Math.abs(h)<1)&&(u=!0),u},Of=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},BS=function(e){return[e.deltaX,e.deltaY]},FS=function(e){return e&&"current"in e?e.current:e},H9=function(e,t){return e[0]===t[0]&&e[1]===t[1]},G9=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Y9=0,No=[];function J9(e){var t=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),a=b.useState(Y9++)[0],i=b.useState(ZT)[0],o=b.useRef(e);b.useEffect(function(){o.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=v9([e.lockRef.current],(e.shards||[]).map(FS),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=b.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var g=Of(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-g[0],S="deltaY"in p?p.deltaY:y[1]-g[1],j,N=p.target,_=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in p&&_==="h"&&N.type==="range")return!1;var E=US(_,N);if(!E)return!0;if(E?j=_:(j=_==="v"?"h":"v",E=US(_,N)),!E)return!1;if(!n.current&&"changedTouches"in p&&(w||S)&&(n.current=j),!j)return!0;var k=n.current||j;return K9(k,x,p,k==="h"?w:S)},[]),c=b.useCallback(function(p){var x=p;if(!(!No.length||No[No.length-1]!==i)){var g="deltaY"in x?BS(x):Of(x),y=t.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&H9(j.delta,g)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(FS).filter(Boolean).filter(function(j){return j.contains(x.target)}),S=w.length>0?l(x,w[0]):!o.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),u=b.useCallback(function(p,x,g,y){var w={name:p,delta:x,target:g,should:y,shadowParent:X9(g)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),f=b.useCallback(function(p){r.current=Of(p),n.current=void 0},[]),d=b.useCallback(function(p){u(p.type,BS(p),p.target,l(p,e.lockRef.current))},[]),h=b.useCallback(function(p){u(p.type,Of(p),p.target,l(p,e.lockRef.current))},[]);b.useEffect(function(){return No.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,jo),document.addEventListener("touchmove",c,jo),document.addEventListener("touchstart",f,jo),function(){No=No.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,jo),document.removeEventListener("touchmove",c,jo),document.removeEventListener("touchstart",f,jo)}},[]);var m=e.removeScrollBar,v=e.inert;return b.createElement(b.Fragment,null,v?b.createElement(i,{styles:G9(a)}):null,m?b.createElement(U9,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function X9(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Z9=E9(XT,J9);var ij=b.forwardRef(function(e,t){return b.createElement(Vp,ts({},e,{ref:t,sideCar:Z9}))});ij.classNames=Vp.classNames;var Q9=[" ","Enter","ArrowUp","ArrowDown"],e7=[" ","Enter"],Vi="Select",[Wp,qp,t7]=VO(Vi),[lc]=ms(Vi,[t7,DT]),Kp=DT(),[r7,Ka]=lc(Vi),[n7,s7]=lc(Vi),r4=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:m,form:v}=e,p=Kp(t),[x,g]=b.useState(null),[y,w]=b.useState(null),[S,j]=b.useState(!1),N=Uw(u),[_,E]=Fi({prop:n,defaultProp:a??!1,onChange:i,caller:Vi}),[k,A]=Fi({prop:o,defaultProp:l,onChange:c,caller:Vi}),O=b.useRef(null),C=x?v||!!x.closest("form"):!0,[M,U]=b.useState(new Set),L=Array.from(M).map(D=>D.props.value).join(";");return s.jsx(o9,{...p,children:s.jsxs(r7,{required:m,scope:t,trigger:x,onTriggerChange:g,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:Ta(),value:k,onValueChange:A,open:_,onOpenChange:E,dir:N,triggerPointerDownPosRef:O,disabled:h,children:[s.jsx(Wp.Provider,{scope:t,children:s.jsx(n7,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(D=>{U(z=>new Set(z).add(D))},[]),onNativeOptionRemove:b.useCallback(D=>{U(z=>{const T=new Set(z);return T.delete(D),T})},[]),children:r})}),C?s.jsxs(E4,{"aria-hidden":!0,required:m,tabIndex:-1,name:f,autoComplete:d,value:k,onChange:D=>A(D.target.value),disabled:h,form:v,children:[k===void 0?s.jsx("option",{value:""}):null,Array.from(M)]},L):null]})})};r4.displayName=Vi;var n4="SelectTrigger",s4=b.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Kp(r),o=Ka(n4,r),l=o.disabled||n,c=rt(t,o.onTriggerChange),u=qp(r),f=b.useRef("touch"),[d,h,m]=k4(p=>{const x=u().filter(w=>!w.disabled),g=x.find(w=>w.value===o.value),y=A4(x,p,g);y!==void 0&&o.onValueChange(y.value)}),v=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(l9,{asChild:!0,...i,children:s.jsx(_e.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":P4(o.value)?"":void 0,...a,ref:c,onClick:Ce(a.onClick,p=>{p.currentTarget.focus(),f.current!=="mouse"&&v(p)}),onPointerDown:Ce(a.onPointerDown,p=>{f.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:Ce(a.onKeyDown,p=>{const x=d.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(x&&p.key===" ")&&Q9.includes(p.key)&&(v(),p.preventDefault())})})})});s4.displayName=n4;var a4="SelectValue",i4=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Ka(a4,r),{onValueNodeHasChildrenChange:u}=c,f=i!==void 0,d=rt(t,c.onValueNodeChange);return Lt(()=>{u(f)},[u,f]),s.jsx(_e.span,{...l,ref:d,style:{pointerEvents:"none"},children:P4(c.value)?s.jsx(s.Fragment,{children:o}):i})});i4.displayName=a4;var a7="SelectIcon",o4=b.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(_e.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});o4.displayName=a7;var i7="SelectPortal",l4=e=>s.jsx(aj,{asChild:!0,...e});l4.displayName=i7;var Wi="SelectContent",c4=b.forwardRef((e,t)=>{const r=Ka(Wi,e.__scopeSelect),[n,a]=b.useState();if(Lt(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Xl.createPortal(s.jsx(u4,{scope:e.__scopeSelect,children:s.jsx(Wp.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(d4,{...e,ref:t})});c4.displayName=Wi;var En=10,[u4,Ha]=lc(Wi),o7="SelectContentImpl",l7=gl("SelectContent.RemoveScroll"),d4=b.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:x,...g}=e,y=Ka(Wi,r),[w,S]=b.useState(null),[j,N]=b.useState(null),_=rt(t,te=>S(te)),[E,k]=b.useState(null),[A,O]=b.useState(null),C=qp(r),[M,U]=b.useState(!1),L=b.useRef(!1);b.useEffect(()=>{if(w)return GT(w)},[w]),jT();const D=b.useCallback(te=>{const[xe,...J]=C().map(q=>q.ref.current),[ae]=J.slice(-1),se=document.activeElement;for(const q of te)if(q===se||(q==null||q.scrollIntoView({block:"nearest"}),q===xe&&j&&(j.scrollTop=0),q===ae&&j&&(j.scrollTop=j.scrollHeight),q==null||q.focus(),document.activeElement!==se))return},[C,j]),z=b.useCallback(()=>D([E,w]),[D,E,w]);b.useEffect(()=>{M&&z()},[M,z]);const{onOpenChange:T,triggerPointerDownPosRef:$}=y;b.useEffect(()=>{if(w){let te={x:0,y:0};const xe=ae=>{var se,q;te={x:Math.abs(Math.round(ae.pageX)-(((se=$.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(ae.pageY)-(((q=$.current)==null?void 0:q.y)??0))}},J=ae=>{te.x<=10&&te.y<=10?ae.preventDefault():w.contains(ae.target)||T(!1),document.removeEventListener("pointermove",xe),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",J,{capture:!0})}}},[w,T,$]),b.useEffect(()=>{const te=()=>T(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[T]);const[K,Y]=k4(te=>{const xe=C().filter(se=>!se.disabled),J=xe.find(se=>se.ref.current===document.activeElement),ae=A4(xe,te,J);ae&&setTimeout(()=>ae.ref.current.focus())}),G=b.useCallback((te,xe,J)=>{const ae=!L.current&&!J;(y.value!==void 0&&y.value===xe||ae)&&(k(te),ae&&(L.current=!0))},[y.value]),Q=b.useCallback(()=>w==null?void 0:w.focus(),[w]),oe=b.useCallback((te,xe,J)=>{const ae=!L.current&&!J;(y.value!==void 0&&y.value===xe||ae)&&O(te)},[y.value]),ge=n==="popper"?L0:f4,Ie=ge===L0?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:x}:{};return s.jsx(u4,{scope:r,content:w,viewport:j,onViewportChange:N,itemRefCallback:G,selectedItem:E,onItemLeave:Q,itemTextRefCallback:oe,focusSelectedItem:z,selectedItemText:A,position:n,isPositioned:M,searchRef:K,children:s.jsx(ij,{as:l7,allowPinchZoom:!0,children:s.jsx(Jw,{asChild:!0,trapped:y.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Ce(a,te=>{var xe;(xe=y.trigger)==null||xe.focus({preventScroll:!0}),te.preventDefault()}),children:s.jsx(Yw,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(ge,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:te=>te.preventDefault(),...g,...Ie,onPlaced:()=>U(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Ce(g.onKeyDown,te=>{const xe=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!xe&&te.key.length===1&&Y(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let ae=C().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(te.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const se=te.target,q=ae.indexOf(se);ae=ae.slice(q+1)}setTimeout(()=>D(ae)),te.preventDefault()}})})})})})})});d4.displayName=o7;var c7="SelectItemAlignedPosition",f4=b.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Ka(Wi,r),o=Ha(Wi,r),[l,c]=b.useState(null),[u,f]=b.useState(null),d=rt(t,_=>f(_)),h=qp(r),m=b.useRef(!1),v=b.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:g,focusSelectedItem:y}=o,w=b.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&x&&g){const _=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),A=g.getBoundingClientRect();if(i.dir!=="rtl"){const se=A.left-E.left,q=k.left-se,ke=_.left-q,ve=_.width+ke,Ye=Math.max(ve,E.width),qe=window.innerWidth-En,vt=xS(q,[En,Math.max(En,qe-Ye)]);l.style.minWidth=ve+"px",l.style.left=vt+"px"}else{const se=E.right-A.right,q=window.innerWidth-k.right-se,ke=window.innerWidth-_.right-q,ve=_.width+ke,Ye=Math.max(ve,E.width),qe=window.innerWidth-En,vt=xS(q,[En,Math.max(En,qe-Ye)]);l.style.minWidth=ve+"px",l.style.right=vt+"px"}const O=h(),C=window.innerHeight-En*2,M=p.scrollHeight,U=window.getComputedStyle(u),L=parseInt(U.borderTopWidth,10),D=parseInt(U.paddingTop,10),z=parseInt(U.borderBottomWidth,10),T=parseInt(U.paddingBottom,10),$=L+D+M+T+z,K=Math.min(x.offsetHeight*5,$),Y=window.getComputedStyle(p),G=parseInt(Y.paddingTop,10),Q=parseInt(Y.paddingBottom,10),oe=_.top+_.height/2-En,ge=C-oe,Ie=x.offsetHeight/2,te=x.offsetTop+Ie,xe=L+D+te,J=$-xe;if(xe<=oe){const se=O.length>0&&x===O[O.length-1].ref.current;l.style.bottom="0px";const q=u.clientHeight-p.offsetTop-p.offsetHeight,ke=Math.max(ge,Ie+(se?Q:0)+q+z),ve=xe+ke;l.style.height=ve+"px"}else{const se=O.length>0&&x===O[0].ref.current;l.style.top="0px";const ke=Math.max(oe,L+p.offsetTop+(se?G:0)+Ie)+J;l.style.height=ke+"px",p.scrollTop=xe-oe+p.offsetTop}l.style.margin=`${En}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=C+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,x,g,i.dir,n]);Lt(()=>w(),[w]);const[S,j]=b.useState();Lt(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const N=b.useCallback(_=>{_&&v.current===!0&&(w(),y==null||y(),v.current=!1)},[w,y]);return s.jsx(d7,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:s.jsx(_e.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});f4.displayName=c7;var u7="SelectPopperPosition",L0=b.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=En,...i}=e,o=Kp(r);return s.jsx(c9,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});L0.displayName=u7;var[d7,oj]=lc(Wi,{}),U0="SelectViewport",h4=b.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Ha(U0,r),o=oj(U0,r),l=rt(t,i.onViewportChange),c=b.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Wp.Slot,{scope:r,children:s.jsx(_e.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ce(a.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const m=Math.abs(c.current-f.scrollTop);if(m>0){const v=window.innerHeight-En*2,p=parseFloat(d.style.minHeight),x=parseFloat(d.style.height),g=Math.max(p,x);if(g<v){const y=g+m,w=Math.min(v,y),S=y-w;d.style.height=w+"px",d.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});h4.displayName=U0;var m4="SelectGroup",[f7,h7]=lc(m4),m7=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ta();return s.jsx(f7,{scope:r,id:a,children:s.jsx(_e.div,{role:"group","aria-labelledby":a,...n,ref:t})})});m7.displayName=m4;var p4="SelectLabel",g4=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=h7(p4,r);return s.jsx(_e.div,{id:a.id,...n,ref:t})});g4.displayName=p4;var nm="SelectItem",[p7,v4]=lc(nm),x4=b.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Ka(nm,r),c=Ha(nm,r),u=l.value===n,[f,d]=b.useState(i??""),[h,m]=b.useState(!1),v=rt(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,a)}),p=Ta(),x=b.useRef("touch"),g=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(p7,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:b.useCallback(y=>{d(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(Wp.ItemSlot,{scope:r,value:n,disabled:a,textValue:f,children:s.jsx(_e.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:Ce(o.onFocus,()=>m(!0)),onBlur:Ce(o.onBlur,()=>m(!1)),onClick:Ce(o.onClick,()=>{x.current!=="mouse"&&g()}),onPointerUp:Ce(o.onPointerUp,()=>{x.current==="mouse"&&g()}),onPointerDown:Ce(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:Ce(o.onPointerMove,y=>{var w;x.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ce(o.onKeyDown,y=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(e7.includes(y.key)&&g(),y.key===" "&&y.preventDefault())})})})})});x4.displayName=nm;var ru="SelectItemText",y4=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Ka(ru,r),l=Ha(ru,r),c=v4(ru,r),u=s7(ru,r),[f,d]=b.useState(null),h=rt(t,g=>d(g),c.onItemTextChange,g=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,g,c.value,c.disabled)}),m=f==null?void 0:f.textContent,v=b.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return Lt(()=>(p(v),()=>x(v)),[p,x,v]),s.jsxs(s.Fragment,{children:[s.jsx(_e.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Xl.createPortal(i.children,o.valueNode):null]})});y4.displayName=ru;var b4="SelectItemIndicator",w4=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return v4(b4,r).isSelected?s.jsx(_e.span,{"aria-hidden":!0,...n,ref:t}):null});w4.displayName=b4;var B0="SelectScrollUpButton",j4=b.forwardRef((e,t)=>{const r=Ha(B0,e.__scopeSelect),n=oj(B0,e.__scopeSelect),[a,i]=b.useState(!1),o=rt(t,n.onScrollButtonChange);return Lt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(S4,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});j4.displayName=B0;var F0="SelectScrollDownButton",N4=b.forwardRef((e,t)=>{const r=Ha(F0,e.__scopeSelect),n=oj(F0,e.__scopeSelect),[a,i]=b.useState(!1),o=rt(t,n.onScrollButtonChange);return Lt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;i(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(S4,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});N4.displayName=F0;var S4=b.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Ha("SelectScrollButton",r),o=b.useRef(null),l=qp(r),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),Lt(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),s.jsx(_e.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ce(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ce(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ce(a.onPointerLeave,()=>{c()})})}),g7="SelectSeparator",_4=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(_e.div,{"aria-hidden":!0,...n,ref:t})});_4.displayName=g7;var z0="SelectArrow",v7=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Kp(r),i=Ka(z0,r),o=Ha(z0,r);return i.open&&o.position==="popper"?s.jsx(u9,{...a,...n,ref:t}):null});v7.displayName=z0;var x7="SelectBubbleInput",E4=b.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=b.useRef(null),i=rt(n,a),o=zw(t);return b.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const d=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(d)}},[o,t]),s.jsx(_e.select,{...r,style:{...KT,...r.style},ref:i,defaultValue:t})});E4.displayName=x7;function P4(e){return e===""||e===void 0}function k4(e){const t=Us(e),r=b.useRef(""),n=b.useRef(0),a=b.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function A4(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=y7(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function y7(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var b7=r4,C4=s4,w7=i4,j7=o4,N7=l4,O4=c4,S7=h4,T4=g4,I4=x4,_7=y4,E7=w4,$4=j4,R4=N4,M4=_4;const ln=b7,cn=w7,Vr=b.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(C4,{ref:n,className:me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-colors",e),...r,children:[t,s.jsx(j7,{asChild:!0,children:s.jsx(iO,{className:"h-4 w-4 opacity-50 transition-transform duration-200 ease-in-out group-data-[state=open]:rotate-180"})})]}));Vr.displayName=C4.displayName;const D4=b.forwardRef(({className:e,...t},r)=>s.jsx($4,{ref:r,className:me("flex cursor-default items-center justify-center py-1 text-muted-foreground",e),...t,children:s.jsx(A8,{className:"h-4 w-4"})}));D4.displayName=$4.displayName;const L4=b.forwardRef(({className:e,...t},r)=>s.jsx(R4,{ref:r,className:me("flex cursor-default items-center justify-center py-1 text-muted-foreground",e),...t,children:s.jsx(iO,{className:"h-4 w-4"})}));L4.displayName=R4.displayName;const Wr=b.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(N7,{children:s.jsxs(O4,{ref:a,className:me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border/40 bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 duration-200",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(D4,{}),s.jsx(S7,{className:me("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(L4,{})]})}));Wr.displayName=O4.displayName;const P7=b.forwardRef(({className:e,...t},r)=>s.jsx(T4,{ref:r,className:me("py-1.5 pl-8 pr-2 text-sm font-medium text-muted-foreground",e),...t}));P7.displayName=T4.displayName;const Pe=b.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(I4,{ref:n,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent/50 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(E7,{children:s.jsx(tc,{className:"h-4 w-4 text-primary"})})}),s.jsx(_7,{children:t})]}));Pe.displayName=I4.displayName;const k7=b.forwardRef(({className:e,...t},r)=>s.jsx(M4,{ref:r,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));k7.displayName=M4.displayName;const A7=["profile_confirmation","job_assignment","job_completion","appointment_reminder","welcome_email","password_reset"],C7=[{key:"user.name",label:"User Name"},{key:"user.email",label:"User Email"},{key:"job.title",label:"Job Title"},{key:"job.date",label:"Job Date"},{key:"job.address",label:"Job Address"},{key:"landscaper.name",label:"Landscaper Name"},{key:"company.name",label:"Company Name"},{key:"company.phone",label:"Company Phone"}];function O7(){const[e,t]=b.useState([]),[r,n]=b.useState(null),[a,i]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(""),[f,d]=b.useState(""),[h,m]=b.useState(!1),[v,p]=b.useState(!1),x=b.useCallback(async()=>{try{const{data:N,error:_}=await I.from("email_templates").select("*").order("updated_at",{ascending:!1});if(_)throw _;t(N||[])}catch(N){console.error("Error loading templates:",N)}},[]);P.useEffect(()=>{x()},[x]);const g=async()=>{if(!(!a||!o||!c)){m(!0);try{const N={name:a,type:o,subject:c,html_content:f,version:r?r.version+1:1};if(r){const{error:_}=await I.from("email_templates").update(N).eq("id",r.id);if(_)throw _}else{const{error:_}=await I.from("email_templates").insert([N]);if(_)throw _}await x()}catch(N){console.error("Error saving template:",N)}finally{m(!1)}}},y=N=>{n(N),i(N.name),l(N.type),u(N.subject),d(N.html_content)},w=()=>{n(null),i(""),l(""),u(""),d(j())},S=N=>{d(_=>_+`{{${N}}}`)},j=()=>`
<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
  <h1 style="color: #16a34a;">{{company.name}}</h1>
  <p>Hello {{user.name}},</p>
  <p>This is a notification email.</p>
  <p>Best regards,<br>The {{company.name}} Team</p>
</div>`;return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Email Template Builder"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Create and manage email templates"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsx(W,{children:"Templates"}),s.jsxs(B,{onClick:w,size:"sm",children:[s.jsx(xl,{className:"h-4 w-4 mr-2"}),"New Template"]})]}),s.jsx(F,{className:"space-y-2 max-h-96 overflow-y-auto",children:e.map(N=>s.jsxs("div",{className:"p-3 border rounded cursor-pointer hover:bg-gray-50",onClick:()=>y(N),children:[s.jsx("div",{className:"font-medium",children:N.name}),s.jsx("div",{className:"text-sm text-gray-500",children:N.type}),s.jsxs(ee,{variant:"outline",className:"text-xs",children:["v",N.version]})]},N.id))})]}),s.jsxs(R,{className:"lg:col-span-2",children:[s.jsx(V,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(W,{children:"Template Editor"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(B,{variant:"outline",onClick:()=>p(!v),children:[s.jsx(Cw,{className:"h-4 w-4 mr-2"}),v?"Edit":"Preview"]}),s.jsxs(B,{onClick:g,disabled:h,children:[s.jsx(dO,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})}),s.jsx(F,{className:"space-y-4",children:v?s.jsx("div",{className:"border rounded-lg p-4 bg-white min-h-96",children:s.jsx("div",{dangerouslySetInnerHTML:{__html:f}})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(re,{placeholder:"Template Name",value:a,onChange:N=>i(N.target.value)}),s.jsxs(ln,{value:o,onValueChange:l,children:[s.jsx(Vr,{children:s.jsx(cn,{placeholder:"Template Type"})}),s.jsx(Wr,{children:A7.map(N=>s.jsx(Pe,{value:N,children:N.replace("_"," ").toUpperCase()},N))})]})]}),s.jsx(re,{placeholder:"Email Subject",value:c,onChange:N=>u(N.target.value)}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Variables"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:C7.map(N=>s.jsx(ee,{variant:"outline",className:"cursor-pointer hover:bg-gray-100",onClick:()=>S(N.key),children:N.label},N.key))})]}),s.jsx(ao,{placeholder:"HTML Content",value:f,onChange:N=>d(N.target.value),rows:15,className:"font-mono text-sm"})]})})]})]})]})})}function T7(){const[e,t]=b.useState([]),[r,n]=b.useState(!0);b.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:l,error:c}=await I.from("contacts").select("*").order("created_at",{ascending:!1});if(c)throw c;t(l||[])}catch(l){console.error("Error fetching contacts:",l)}finally{n(!1)}},i=async l=>{try{const{error:c}=await I.from("contacts").delete().eq("id",l);if(c)throw c;t(e.filter(u=>u.id!==l))}catch(c){console.error("Error deleting contact:",c)}},o=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading contacts..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Panel"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage system settings and content"})]}),s.jsxs(ps,{defaultValue:"contacts",className:"space-y-6",children:[s.jsxs(Wn,{className:"grid w-full grid-cols-2",children:[s.jsxs(ye,{value:"contacts",className:"flex items-center space-x-2",children:[s.jsx(Ln,{className:"h-4 w-4"}),s.jsx("span",{children:"Contact Management"})]}),s.jsxs(ye,{value:"templates",className:"flex items-center space-x-2",children:[s.jsx(v0,{className:"h-4 w-4"}),s.jsx("span",{children:"Email Templates"})]})]}),s.jsx(Ne,{value:"contacts",className:"space-y-6",children:s.jsx("div",{className:"grid gap-6",children:e.length===0?s.jsx(R,{children:s.jsxs(F,{className:"text-center py-12",children:[s.jsx(Ln,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No contacts yet"}),s.jsx("p",{className:"text-gray-600",children:"Contact form submissions will appear here."})]})}):e.map(l=>s.jsxs(R,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsx(W,{className:"text-xl font-semibold text-gray-900",children:l.name}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ee,{variant:"secondary",children:l.service_type}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>i(l.id),className:"text-red-600 hover:text-red-700",children:s.jsx(Iw,{className:"h-4 w-4"})})]})]}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(Ln,{className:"h-4 w-4"}),s.jsx("span",{children:l.email})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(Ow,{className:"h-4 w-4"}),s.jsx("span",{children:l.phone})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(cs,{className:"h-4 w-4"}),s.jsx("span",{children:l.address})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(dr,{className:"h-4 w-4"}),s.jsx("span",{children:o(l.created_at)})]})]}),l.message&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Message:"}),s.jsx("p",{className:"text-gray-700",children:l.message})]})]})]},l.id))})}),s.jsx(Ne,{value:"templates",children:s.jsx(O7,{})})]})]})})}var lj=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(lj||{});const mi=class mi{constructor(){Me(this,"logLevel");Me(this,"isDevelopment");this.isDevelopment=!1,this.logLevel=this.isDevelopment?0:2}static getInstance(){return mi.instance||(mi.instance=new mi),mi.instance}shouldLog(t){return t>=this.logLevel}formatMessage(t,r,n){const a=new Date().toISOString(),i=lj[t],o=n?`[${n}]`:"";return`${a} ${i} ${o} ${r}`}log(t,r,n,a){if(!this.shouldLog(t))return;const i=this.formatMessage(t,r,a);if(this.isDevelopment)switch(t){case 0:console.debug(i,n||"");break;case 1:console.info(i,n||"");break;case 2:console.warn(i,n||"");break;case 3:console.error(i,n||"");break}else t>=3&&this.sendToExternalService({level:t,message:r,data:n,timestamp:new Date().toISOString(),component:a})}sendToExternalService(t){try{const r=JSON.parse(sessionStorage.getItem("app_logs")||"[]");r.push(t),r.length>100&&r.splice(0,r.length-100),sessionStorage.setItem("app_logs",JSON.stringify(r))}catch{}}debug(t,r,n){this.log(0,t,r,n)}info(t,r,n){this.log(1,t,r,n)}warn(t,r,n){this.log(2,t,r,n)}error(t,r,n){this.log(3,t,r,n)}};Me(mi,"instance");let V0=mi;const De=V0.getInstance(),I7=Object.freeze(Object.defineProperty({__proto__:null,LogLevel:lj,logger:De},Symbol.toStringTag,{value:"Module"}));function $7(){const[e,t]=b.useState(""),[r,n]=b.useState(!1),[a,i]=b.useState(""),[o,l]=b.useState(""),c=async u=>{if(u.preventDefault(),!e.trim()){l("Please enter your email address");return}n(!0),l(""),i("");try{const{error:f}=await I.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});if(f){De.error("Password reset request failed",{error:f.message,email:e},"ForgotPassword"),l(f.message);return}De.info("Password reset email sent successfully",{email:e},"ForgotPassword"),i("Password reset instructions have been sent to your email address. Please check your inbox and spam folder.")}catch(f){De.error("Password reset unexpected error",{error:f.message,email:e},"ForgotPassword"),l("An unexpected error occurred. Please try again.")}finally{n(!1)}};return s.jsxs("div",{className:"min-h-screen bg-black relative",children:[s.jsx(pn,{}),s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen px-4",children:[s.jsx("div",{className:"mb-8",children:s.jsx(Mp,{size:"large"})}),s.jsxs(R,{className:"w-full max-w-md bg-black/95 border-2 border-green-500 shadow-2xl shadow-green-500/30 backdrop-blur-sm",children:[s.jsxs(V,{className:"text-center",children:[s.jsx(W,{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-green-600",children:"Reset Password"}),s.jsx("p",{className:"text-gray-300 mt-2",children:"Enter your email address and we'll send you instructions to reset your password."})]}),s.jsxs(F,{children:[a&&s.jsx("div",{className:"mb-4 p-4 bg-green-900/30 border-2 border-green-500 rounded-lg text-green-300",children:a}),o&&s.jsx("div",{className:"mb-4 p-4 bg-red-900/30 border-2 border-red-500 rounded-lg text-red-300",children:o}),s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"email",className:"text-green-400 font-semibold",children:"Email Address"}),s.jsx(re,{id:"email",type:"email",value:e,onChange:u=>t(u.target.value),className:"bg-gray-900/80 border-green-500 text-white",placeholder:"Enter your email address",required:!0})]}),s.jsx(Lp,{type:"submit",disabled:r,label:r?"Sending...":"Send Reset Link",className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-500 hover:to-green-600"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(dt,{to:"/client-login",className:"text-green-400 hover:text-green-300 transition-colors",children:"Back to Login"})})]})]})]})]})}const R7=()=>{const e=Te(),[t,r]=b.useState(""),[n,a]=b.useState(""),[i,o]=b.useState(""),[l,c]=b.useState(!1),[u,f]=b.useState(!1),[d,h]=b.useState(!0);b.useEffect(()=>{(async()=>{try{De.debug("Processing password reset token",{hasHash:!!window.location.hash},"ResetPassword");const p=window.location.hash;if(!p){De.warn("No reset token found in URL",{},"ResetPassword"),o("No reset token found in URL"),h(!1);return}De.debug("Attempting token exchange",{},"ResetPassword");const{data:x,error:g}=await I.auth.exchangeCodeForSession(p);if(g){De.error("Token exchange failed",{error:g.message},"ResetPassword"),o("Invalid or expired reset link. Please request a new one."),h(!1);return}x.session?(De.info("Password reset session established successfully",{},"ResetPassword"),f(!0),window.history.replaceState({},document.title,window.location.pathname)):(De.warn("Failed to establish reset session",{},"ResetPassword"),o("Failed to establish session"))}catch(p){De.error("Token exchange unexpected error",{error:p.message},"ResetPassword"),o("Failed to process reset link")}finally{h(!1)}})()},[]);const m=async v=>{if(v.preventDefault(),o(""),t!==n){o("Passwords do not match");return}if(t.length<6){o("Password must be at least 6 characters");return}try{c(!0);const{error:p}=await I.auth.updateUser({password:t});if(p){De.error("Password update failed",{error:p.message},"ResetPassword"),o(p.message);return}const{data:{user:x}}=await I.auth.getUser();if(!x){o("Failed to get user information");return}const{data:g,error:y}=await I.from("profiles").select("role").eq("id",x.id).single();if(y||!g){De.warn("Profile fetch failed, redirecting to login",{error:y==null?void 0:y.message},"ResetPassword"),alert("Password updated successfully! Please sign in with your new password."),e("/unified-login");return}switch(De.info("Password updated successfully, redirecting user",{role:g.role},"ResetPassword"),alert("Password updated successfully!"),g.role){case"client":e("/dashboard/client");break;case"landscaper":e("/dashboard/landscaper");break;case"admin":e("/dashboard/admin");break;default:e("/unified-login");break}}catch(p){De.error("Password update process failed",{error:p.message},"ResetPassword"),o("Failed to update password. Please try again.")}finally{c(!1)}};return d?s.jsx(hr,{children:s.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-300",children:"Processing reset link..."})]})})}):u?s.jsx(hr,{children:s.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:s.jsx("div",{className:"max-w-md mx-auto p-8",children:s.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-green-500/30 rounded-2xl p-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:s.jsx("span",{className:"bg-gradient-to-r from-green-400 to-green-600 bg-clip-text text-transparent",children:"Set New Password"})}),i&&s.jsx("div",{className:"text-red-400 text-sm text-center bg-red-900/20 p-3 rounded-lg border border-red-500/30 mb-6",children:i}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"password",className:"text-white font-medium",children:"New Password"}),s.jsx(re,{id:"password",type:"password",value:t,onChange:v=>r(v.target.value),className:"mt-2 bg-gray-800/50 border border-green-500/30 text-white h-12 rounded-lg focus:border-green-400",required:!0,minLength:6,disabled:l,placeholder:"Enter your new password"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"confirmPassword",className:"text-white font-medium",children:"Confirm Password"}),s.jsx(re,{id:"confirmPassword",type:"password",value:n,onChange:v=>a(v.target.value),className:"mt-2 bg-gray-800/50 border border-green-500/30 text-white h-12 rounded-lg focus:border-green-400",required:!0,minLength:6,disabled:l,placeholder:"Confirm your new password"})]}),s.jsx(B,{type:"submit",disabled:l,className:"w-full h-12 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold rounded-lg transition-all duration-300 disabled:opacity-50",children:l?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Updating Password..."]}):"Update Password"})]})]})})})}):s.jsx(hr,{children:s.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md mx-auto text-center p-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-red-400 mb-4",children:"Invalid Reset Link"}),s.jsx("p",{className:"text-gray-300 mb-6",children:i}),s.jsx(B,{onClick:()=>e("/forgot-password"),className:"bg-green-600 hover:bg-green-700",children:"Request New Reset Link"})]})})})};function M7({title:e,icon:t,children:r}){return s.jsxs("div",{className:"rounded-2xl border border-emerald-800/40 bg-emerald-900/10 p-4 md:p-5 backdrop-blur",children:[s.jsxs("div",{className:"mb-2 md:mb-3 flex items-center gap-2",children:[t,s.jsx("div",{className:"text-base md:text-lg font-semibold text-emerald-100",children:e})]}),r]})}function D7({status:e}){const t=String(e).toLowerCase();let r="bg-gray-500/20 text-gray-300";return t==="scheduled"?r="bg-emerald-500/20 text-emerald-300":(t==="in_progress"||t==="in progress")&&(r="bg-yellow-500/20 text-yellow-300"),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${r}`,children:t==="in_progress"?"In Progress":t.charAt(0).toUpperCase()+t.slice(1)})}function L7(){return s.jsxs("div",{className:"mt-4 md:mt-5 flex items-center gap-3 md:gap-4 text-xs md:text-sm",children:[s.jsxs("span",{className:"flex items-center gap-2 text-emerald-200/80",children:[s.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-emerald-500"})," Scheduled"]}),s.jsxs("span",{className:"flex items-center gap-2 text-emerald-200/80",children:[s.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-yellow-400"})," In Progress"]}),s.jsxs("span",{className:"flex items-center gap-2 text-emerald-200/80",children:[s.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-gray-400"})," Completed"]})]})}function U4(e){return e?new Date(e).toLocaleString(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"TBA"}function B4(e){try{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e||0)}catch{return`$${(e||0).toFixed(2)}`}}const U7=1,B7=1e6;let Uv=0;function F7(){return Uv=(Uv+1)%Number.MAX_SAFE_INTEGER,Uv.toString()}const Bv=new Map,zS=e=>{if(Bv.has(e))return;const t=setTimeout(()=>{Bv.delete(e),vu({type:"REMOVE_TOAST",toastId:e})},B7);Bv.set(e,t)},z7=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,U7)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?zS(r):e.toasts.forEach(n=>{zS(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},gh=[];let vh={toasts:[]};function vu(e){vh=z7(vh,e),gh.forEach(t=>{t(vh)})}function V7({...e}){const t=F7(),r=a=>vu({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>vu({type:"DISMISS_TOAST",toastId:t});return vu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Gs(){const[e,t]=b.useState(vh);return b.useEffect(()=>(gh.push(t),()=>{const r=gh.indexOf(t);r>-1&&gh.splice(r,1)}),[e]),{...e,toast:V7,dismiss:r=>vu({type:"DISMISS_TOAST",toastId:r})}}function W7({job:e,isOpen:t,onClose:r,onUpdate:n}){const{toast:a}=Gs(),[i,o]=b.useState(e.notes||""),[l,c]=b.useState(null),[u,f]=b.useState(!1),d=async()=>{f(!0);try{const{error:m}=await I.from("jobs").update({status:"in_progress",started_at:new Date().toISOString()}).eq("id",e.id).select().single();if(m)throw m;a({title:"Job started successfully"}),n()}catch{a({title:"Failed to start job",variant:"destructive"})}finally{f(!1)}},h=async()=>{f(!0);try{const{error:m}=await I.from("jobs").update({status:"completed",completed_at:new Date().toISOString()}).eq("id",e.id).select().single();if(m)throw m;a({title:"Job completed successfully"}),n()}catch{a({title:"Failed to complete job",variant:"destructive"})}finally{f(!1)}};return t?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center md:items-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:r}),s.jsxs("div",{className:"relative w-full max-w-md rounded-t-2xl md:rounded-2xl border border-emerald-800/40 bg-emerald-900/20 p-4 md:p-5 backdrop-blur animate-in slide-in-from-bottom-full md:slide-in-from-bottom-0 duration-200",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-emerald-100",children:"Job Details"}),s.jsx(B,{onClick:r,variant:"ghost",size:"sm",children:"Close"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-emerald-100 truncate",title:e.service_name||"",children:e.service_name||"Untitled Job"}),s.jsx(D7,{status:e.status||"scheduled"})]}),s.jsxs("div",{className:"text-sm text-emerald-200/70 truncate",title:e.service_address||"",children:[" ",e.service_address||"Address TBA"]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-emerald-200/70",children:U4(e.preferred_date)}),s.jsx("div",{className:"text-emerald-400 font-semibold",children:B4(e.price||0)})]}),s.jsxs("div",{className:"flex gap-2",children:[e.status!=="in_progress"&&e.status!=="completed"&&s.jsx(B,{onClick:d,disabled:u,className:"flex-1 bg-emerald-600 hover:bg-emerald-500",children:"Start Job"}),e.status!=="completed"&&s.jsx(B,{onClick:h,disabled:u,className:"flex-1 bg-emerald-600 hover:bg-emerald-500",children:"Mark Complete"})]})]})]})]}):null}const F4=()=>{const e=qt(),[t,r]=b.useState("overview"),n=[{id:"overview",label:"Overview",icon:Md,path:"/landscaper-dashboard/overview"},{id:"jobs",label:"Jobs",icon:Li,path:"/landscaper-dashboard/jobs",badge:3},{id:"earnings",label:"Earnings",icon:kr,path:"/landscaper-dashboard/earnings"},{id:"profile",label:"Profile",icon:Ar,path:"/landscaper-dashboard/profile"}];b.useEffect(()=>{const i=e.pathname,o=n.find(l=>l.path===i);o&&r(o.id)},[e.pathname]);const a=i=>{"vibrate"in navigator&&navigator.vibrate(50),r(i)};return s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 md:hidden",children:s.jsx("div",{className:"flex justify-around items-center py-2 px-1",children:n.map(i=>{const o=i.icon,l=t===i.id;return s.jsxs(dt,{to:i.path,className:`flex flex-col items-center justify-center min-w-0 flex-1 py-2 px-1 rounded-lg transition-all duration-200 ${l?"text-green-600 bg-green-50":"text-gray-600 hover:text-green-600 active:bg-gray-100"}`,onTouchStart:()=>a(i.id),onClick:()=>a(i.id),children:[s.jsxs("div",{className:"relative",children:[s.jsx(o,{size:24,className:`transition-transform duration-200 ${l?"scale-110":"scale-100"}`}),i.badge&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:i.badge})]}),s.jsx("span",{className:`text-xs mt-1 font-medium truncate ${l?"text-green-600":"text-gray-600"}`,children:i.label})]},i.id)})})})};async function q7(){var t,r;const{data:e}=await I.auth.getUser();return{email:((t=e.user)==null?void 0:t.email)??null,uid:((r=e.user)==null?void 0:r.id)??null}}function K7(e,t){const r=[];return e&&(r.push(`landscaper_id.eq.${e}`),r.push(`assigned_to.eq.${e}`)),t&&(r.push(`landscaper_email.eq.${t}`),r.push(`assigned_email.eq.${t}`)),r.join(",")}async function VS(){const{email:e,uid:t}=await q7(),r=K7(t,e),{data:n,error:a}=await I.from("jobs").select("id,service_name,service_type,service_address,scheduled_at,completed_at,status,price,landscaper_id,landscaper_email,assigned_to,assigned_email").or(r).order("scheduled_at",{ascending:!0});return a?[]:n||[]}function WS(){const e=new Date(Date.now()+36e5).toISOString(),t=new Date(Date.now()+3*60*60*1e3).toISOString(),r=new Date(Date.now()-24*60*60*1e3).toISOString();return[{id:"d1",title:"Weekly Lawn Care",service:"Mow Edge Blow",address:"742 Evergreen Ter",scheduled_at:e,status:"scheduled",price:85},{id:"d2",title:"Hedge Trim",service:"Shrub shaping set of 10",address:"19 Parkway Dr",scheduled_at:t,status:"scheduled",price:120},{id:"d3",title:"Mulch Install",service:"Red mulch 8 bags",address:"1215 Ivy Ridge",scheduled_at:r,status:"completed",price:260}]}function H7(){const[e,t]=b.useState(!0),[r,n]=b.useState([]),[a,i]=b.useState(()=>localStorage.getItem("landscaperJobsActiveTab")||"upcoming"),[o,l]=b.useState(""),[c,u]=b.useState(()=>localStorage.getItem("landscaperJobsSortOption")||"date_asc"),[f,d]=b.useState(null),[h,m]=b.useState(!1);b.useEffect(()=>{let g=!0;async function y(){t(!0);const w=await VS();g&&(n(w.length?w:WS()),t(!1))}return y(),()=>{g=!1}},[]),b.useEffect(()=>{localStorage.setItem("landscaperJobsActiveTab",a)},[a]),b.useEffect(()=>{localStorage.setItem("landscaperJobsSortOption",c)},[c]);const v=b.useMemo(()=>{let g=r;if(a==="upcoming"?g=g.filter(y=>String(y.status).toLowerCase()!=="completed"):a==="completed"&&(g=g.filter(y=>String(y.status).toLowerCase()==="completed")),o.trim()){const y=o.toLowerCase();g=g.filter(w=>String(w.service_name||w.title||"").toLowerCase().includes(y)||String(w.service_address||w.address||"").toLowerCase().includes(y))}return g.sort((y,w)=>c==="date_asc"?(y.scheduled_at||"").localeCompare(w.scheduled_at||""):c==="date_desc"?(w.scheduled_at||"").localeCompare(y.scheduled_at||""):c==="price_desc"?(w.price||0)-(y.price||0):c==="price_asc"?(y.price||0)-(w.price||0):0),g},[r,a,o,c]),p=g=>{d(g),m(!0)},x=async()=>{const g=await VS();n(g.length?g:WS())};return s.jsxs("div",{className:"min-h-screen bg-black text-white pb-20 md:pb-0",children:[s.jsxs("div",{className:"mx-auto w-full max-w-4xl px-3 md:px-4 py-5 md:py-6",children:[s.jsxs("section",{className:"mb-4 md:mb-6",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-emerald-100",children:"Jobs"}),s.jsx("p",{className:"mt-1 text-emerald-200/70",children:"Manage and track your work"})]}),s.jsxs("section",{className:"sticky top-0 z-40 bg-black/95 backdrop-blur pb-3 mb-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:["upcoming","completed","all"].map(g=>s.jsx("button",{onClick:()=>i(g),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${a===g?"bg-emerald-600 text-white":"bg-emerald-900/20 text-emerald-200 hover:bg-emerald-800/30"}`,children:g.charAt(0).toUpperCase()+g.slice(1)},g))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(re,{placeholder:"Search jobs...",value:o,onChange:g=>l(g.target.value),className:"flex-1 bg-emerald-900/20 border-emerald-800/40 text-white placeholder:text-emerald-200/50"}),s.jsxs(ln,{value:c,onValueChange:u,children:[s.jsx(Vr,{className:"w-48 bg-emerald-900/20 border-emerald-800/40 text-white",children:s.jsx(cn,{})}),s.jsxs(Wr,{className:"bg-emerald-900/90 border-emerald-800/40",children:[s.jsx(Pe,{value:"date_asc",children:"Date: Soonest first"}),s.jsx(Pe,{value:"date_desc",children:"Date: Latest first"}),s.jsx(Pe,{value:"price_desc",children:"Price: High to low"}),s.jsx(Pe,{value:"price_asc",children:"Price: Low to high"})]})]})]})]}),s.jsx("section",{className:"mb-6",children:s.jsxs(M7,{title:`${a.charAt(0).toUpperCase()+a.slice(1)} Jobs`,children:[e?s.jsx("div",{className:"py-8 text-center text-emerald-200/70",children:"Loading..."}):v.length===0?s.jsxs("div",{className:"py-8 text-center",children:[s.jsx("div",{className:"text-emerald-200/70 mb-3",children:a==="all"?"No jobs found":`No ${a} jobs`}),a!=="all"&&s.jsx(B,{onClick:()=>i("all"),variant:"secondary",size:"sm",children:"View All"})]}):s.jsx("div",{className:"divide-y divide-emerald-900/50",children:v.map(g=>s.jsxs("div",{onClick:()=>p(g),className:"flex items-center justify-between py-3 md:py-4 cursor-pointer hover:bg-emerald-900/10 rounded transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[s.jsx("div",{className:`w-2 h-2 rounded-full shrink-0 ${String(g.status).toLowerCase()==="completed"?"bg-gray-400":String(g.status).toLowerCase()==="in_progress"?"bg-yellow-400":"bg-emerald-500"}`}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"font-medium text-sm md:text-base truncate",title:g.service_name||g.title||g.service_type||"",children:g.service_name||g.title||g.service_type||"Untitled Job"}),s.jsx("div",{className:"text-xs md:text-sm text-emerald-200/70 truncate",title:g.service_address||g.address||"",children:g.service_address||g.address||"Address TBA"})]})]}),s.jsxs("div",{className:"text-right shrink-0",children:[s.jsx("div",{className:"text-xs md:text-sm text-emerald-200/70",children:U4(g.scheduled_at)}),s.jsx("div",{className:"text-emerald-400 font-semibold",children:B4(g.price||0)})]})]},g.id))}),s.jsx(L7,{})]})})]}),s.jsx(W7,{job:f,isOpen:h,onClose:()=>m(!1),onUpdate:x}),s.jsx(F4,{})]})}async function G7(){try{const{data:{user:e}}=await I.auth.getUser();if(!e)return{hasClient:!1,hasPro:!1,role:null,loading:!1};const{data:t,error:r}=await I.from("users").select("id,email,role").eq("email",e.email).single();if(r)return console.error(" Database error fetching role in useRole:",r),console.error("Error code:",r.code),console.error("Error message:",r.message),{hasClient:!1,hasPro:!1,role:null,loading:!0};if(!t)return console.warn(" No user data found in users table for authenticated user"),{hasClient:!1,hasPro:!1,role:null,loading:!0};let n=t.role;return e.email==="admin.1@greenscapelux.com"&&(console.log(" USE_ROLE ADMIN OVERRIDE: Forcing admin role for admin.1@greenscapelux.com"),n="admin"),{hasClient:n==="client",hasPro:n==="landscaper",role:n,loading:!1}}catch(e){return console.error(" Exception in getUserRoles:",e),{hasClient:!1,hasPro:!1,role:null,loading:!0}}}const Y7=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(null),[o,l]=b.useState(null);b.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const{data:f,error:d}=await I.from("jobs").select(`
          id, customer_name, service_address, service_type, 
          preferred_date, price, selected_services, notes, status
        `).eq("status","pending").is("landscaper_id",null).order("created_at",{ascending:!1});if(d)throw d;t(f||[])}catch(f){i(f.message)}finally{n(!1)}},u=async f=>{try{l(f);const{data:{user:d}}=await I.auth.getUser();if(!d)throw new Error("Not authenticated");const{role:h}=await G7();if(h!=="landscaper")throw new Error("Only landscapers can accept jobs");const{error:m}=await I.from("jobs").update({landscaper_id:d.id,status:"accepted",updated_at:new Date().toISOString()}).eq("id",f);if(m)throw m;try{await I.functions.invoke("job-acceptance-notification",{body:{jobId:f,landscaperId:d.id}})}catch(v){console.warn("Failed to send notification:",v)}t(e.filter(v=>v.id!==f))}catch(d){i(d.message)}finally{l(null)}};return r?s.jsx(hr,{children:s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:s.jsx(Oa,{className:"h-8 w-8 animate-spin text-green-400"})})}):s.jsx(hr,{children:s.jsx("div",{className:"min-h-screen bg-black text-white py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center mb-12 text-green-400 animate-pulse",children:"New Job Requests"}),a&&s.jsxs(Be,{className:"mb-6 bg-red-900/20 border-red-500",children:[s.jsx(fr,{className:"h-4 w-4"}),s.jsx(Fe,{className:"text-red-400",children:a})]}),e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-400 text-lg",children:"No new job requests available"}),s.jsx(B,{onClick:c,className:"mt-4 bg-green-500 hover:bg-green-600 text-black",children:"Refresh"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(f=>s.jsxs(R,{className:"bg-black/80 border-2 border-green-500/30 hover:border-green-400 transition-all duration-300 hover:shadow-lg hover:shadow-green-400/20",children:[s.jsx(V,{className:"pb-4",children:s.jsx(W,{className:"text-green-400 text-xl font-bold",children:f.service_type||"General Service"})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Customer:"}),s.jsx("p",{className:"text-white",children:f.customer_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Address:"}),s.jsx("p",{className:"text-white",children:f.service_address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Preferred Date:"}),s.jsx("p",{className:"text-white",children:new Date(f.preferred_date).toLocaleDateString()})]}),f.selected_services&&f.selected_services.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Services:"}),s.jsx("p",{className:"text-white text-sm",children:f.selected_services.join(", ")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Price:"}),s.jsxs("p",{className:"text-green-400 font-bold text-lg",children:["$",f.price]})]}),f.notes&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Notes:"}),s.jsx("p",{className:"text-white text-sm",children:f.notes})]}),s.jsx(B,{onClick:()=>u(f.id),disabled:o===f.id,className:"w-full bg-green-500 hover:bg-green-600 text-black font-bold py-2 px-4 rounded-lg transition-all duration-300 hover:shadow-[0_0_15px_rgba(34,197,94,0.5)] hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:o===f.id?s.jsxs(s.Fragment,{children:[s.jsx(Oa,{className:"mr-2 h-4 w-4 animate-spin"}),"Accepting..."]}):"Accept Job"})]})]},f.id))})]})})})},J7=()=>s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-2xl",children:s.jsxs("div",{className:"bg-black/60 backdrop-blur-lg border border-green-500/30 rounded-2xl p-8 shadow-2xl shadow-green-500/20",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx($e,{className:"h-16 w-16 text-green-400 animate-bounce"})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white text-center mb-6 animate-pulse",children:"Job Marked as Complete!"}),s.jsx("p",{className:"text-xl text-green-400 text-center mb-8",children:"Your update has been submitted and is now under review."}),s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx(dt,{to:"/landscaper-dashboard",children:s.jsx(B,{className:"bg-green-500 hover:bg-green-600 text-black font-semibold px-8 py-3 rounded-xl shadow-lg shadow-green-500/30 hover:shadow-green-500/50 hover:scale-105 transition-all duration-300 text-lg",children:"Return to Dashboard"})})}),s.jsx("p",{className:"text-gray-400 text-center text-sm",children:"Thanks for helping us maintain quality landscaping experiences."})]})})});function X7(){const e=Te(),[t,r]=b.useState(!1),[n,a]=b.useState(""),[i,o]=b.useState(null),[l,c]=b.useState({firstName:"",lastName:"",businessName:"",serviceArea:"",experience:""});b.useEffect(()=>{(async()=>{const{data:{user:h},error:m}=await I.auth.getUser();h&&(o(h),h.user_metadata&&c(v=>({...v,firstName:h.user_metadata.first_name||"",lastName:h.user_metadata.last_name||""})))})()},[]);const u=(d,h)=>{c(m=>({...m,[d]:h}))},f=async d=>{d.preventDefault(),r(!0),a("");try{const{data:{user:h},error:m}=await I.auth.getUser();if(m||!h)throw new Error("User not authenticated");const{data:v,error:p}=await I.from("landscapers").select("id").eq("user_id",h.id).maybeSingle();if(!v&&p&&p.code!=="PGRST116")throw p;if(v){const{error:x}=await I.from("landscapers").update({first_name:l.firstName,last_name:l.lastName,business_name:l.businessName,service_area:l.serviceArea,years_experience:l.experience}).eq("user_id",h.id);if(x)throw x}else{const{error:x}=await I.from("landscapers").insert([{user_id:h.id,first_name:l.firstName,last_name:l.lastName,business_name:l.businessName,service_area:l.serviceArea,years_experience:l.experience}]);if(x)throw x}e("/landscaper-dashboard")}catch(h){a(h.message||"An error occurred")}finally{r(!1)}};return s.jsxs(hr,{children:[s.jsx(pn,{}),s.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 pt-24",children:s.jsxs(R,{className:"w-full max-w-2xl bg-black/90 border-2 border-green-500 shadow-2xl shadow-green-500/20",children:[s.jsxs(V,{children:[s.jsx(W,{className:"text-3xl font-bold text-green-400 text-center",children:"Complete Your Profile"}),s.jsx("p",{className:"text-gray-300 text-center",children:"Professional landscaper setup"})]}),s.jsxs(F,{children:[n&&s.jsx("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 rounded text-red-300",children:n}),s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"firstName",className:"text-green-400",children:"First Name"}),s.jsx(re,{id:"firstName",value:l.firstName,onChange:d=>u("firstName",d.target.value),className:"bg-gray-900 border-green-500 text-white",placeholder:"First name",required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"lastName",className:"text-green-400",children:"Last Name"}),s.jsx(re,{id:"lastName",value:l.lastName,onChange:d=>u("lastName",d.target.value),className:"bg-gray-900 border-green-500 text-white",placeholder:"Last name",required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"businessName",className:"text-green-400",children:"Business Name"}),s.jsx(re,{id:"businessName",value:l.businessName,onChange:d=>u("businessName",d.target.value),className:"bg-gray-900 border-green-500 text-white",placeholder:"Your landscaping business name",required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"serviceArea",className:"text-green-400",children:"Service Area"}),s.jsx(re,{id:"serviceArea",value:l.serviceArea,onChange:d=>u("serviceArea",d.target.value),className:"bg-gray-900 border-green-500 text-white",placeholder:"ZIP codes or areas you serve",required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"experience",className:"text-green-400",children:"Years of Experience"}),s.jsxs(ln,{onValueChange:d=>u("experience",d),required:!0,children:[s.jsx(Vr,{className:"bg-gray-900 border-green-500 text-white",children:s.jsx(cn,{placeholder:"Select experience level"})}),s.jsxs(Wr,{children:[s.jsx(Pe,{value:"1-2",children:"1-2 years"}),s.jsx(Pe,{value:"3-5",children:"3-5 years"}),s.jsx(Pe,{value:"6-10",children:"6-10 years"}),s.jsx(Pe,{value:"10+",children:"10+ years"})]})]})]}),s.jsxs("div",{className:"bg-gray-900/50 border border-yellow-500 rounded-lg p-4",children:[s.jsx("h3",{className:"text-yellow-400 font-semibold mb-2",children:"Payment Information"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Payment setup will be handled through our billing team. You'll receive an email with payment instructions after your profile is approved."})]}),s.jsx(B,{type:"submit",disabled:t,className:"w-full bg-green-600 hover:bg-green-700 text-white",children:t?"Saving...":"Complete Profile Setup"})]})]})]})})]})}const Z7=({jobId:e,status:t,beforeUrl:r,afterUrl:n})=>{const a=Te(),i=t==="Completed",[o,l]=b.useState(null),[c,u]=b.useState(null),[f,d]=b.useState(!1),[h,m]=b.useState(""),[v,p]=b.useState(!1),x=async(y,w)=>{const S=`${e}/${w}/${Date.now()}-${y.name}`,{error:j}=await I.storage.from("job-photos").upload(S,y,{cacheControl:"3600",upsert:!1});if(j)throw j;const{data:N}=I.storage.from("job-photos").getPublicUrl(S);return N.publicUrl},g=async y=>{y.preventDefault(),m(""),d(!0);try{if(!o||!c)throw new Error("Please select both before and after photos");const w=await x(o,"before"),S=await x(c,"after"),{error:j}=await I.from("jobs").update({before_photo_url:w,after_photo_url:S,status:"Completed"}).eq("id",e);if(j)throw j;p(!0),a("/job-complete")}catch(w){m(w.message),p(!1)}finally{d(!1)}};return s.jsxs("div",{className:"bg-gray-900 border border-green-500/30 rounded-lg p-6 shadow-lg",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Complete Job"}),i&&s.jsxs("div",{className:"mb-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-400 font-medium",children:"Before Photo"}),r?s.jsx("img",{src:r,alt:"Before",className:"mt-2 rounded border border-green-600 w-full max-w-xs"}):s.jsx("p",{className:"text-gray-400",children:"No photo available"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-green-400 font-medium",children:"After Photo"}),n?s.jsx("img",{src:n,alt:"After",className:"mt-2 rounded border border-green-600 w-full max-w-xs"}):s.jsx("p",{className:"text-gray-400",children:"No photo available"})]})]}),!i&&s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-green-400 font-medium mb-2",children:"Before Photo *"}),s.jsx(re,{type:"file",accept:"image/*",onChange:y=>{var w;return l(((w=y.target.files)==null?void 0:w[0])||null)},className:"bg-gray-800 border-gray-700 text-white file:bg-green-500 file:text-black file:border-0 file:rounded file:px-3 file:py-1",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-green-400 font-medium mb-2",children:"After Photo *"}),s.jsx(re,{type:"file",accept:"image/*",onChange:y=>{var w;return u(((w=y.target.files)==null?void 0:w[0])||null)},className:"bg-gray-800 border-gray-700 text-white file:bg-green-500 file:text-black file:border-0 file:rounded file:px-3 file:py-1",required:!0})]}),h&&s.jsx("div",{className:`p-3 rounded ${v?"bg-green-900/30 border border-green-500/30":"bg-red-900/30 border border-red-500/30"}`,children:s.jsx("p",{className:v?"text-green-400":"text-red-400",children:h})}),s.jsx(B,{type:"submit",disabled:f||!o||!c,className:"w-full bg-green-500 hover:bg-green-400 text-black font-semibold py-3",children:f?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-black mr-2"}),"Uploading..."]}):"Submit Photos"})]})]})};var Hp="Dialog",[z4]=ms(Hp),[Q7,qn]=z4(Hp),V4=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=b.useRef(null),c=b.useRef(null),[u,f]=Fi({prop:n,defaultProp:a??!1,onChange:i,caller:Hp});return s.jsx(Q7,{scope:t,triggerRef:l,contentRef:c,contentId:Ta(),titleId:Ta(),descriptionId:Ta(),open:u,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(d=>!d),[f]),modal:o,children:r})};V4.displayName=Hp;var W4="DialogTrigger",q4=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=qn(W4,r),i=rt(t,a.triggerRef);return s.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":dj(a.open),...n,ref:i,onClick:Ce(e.onClick,a.onOpenToggle)})});q4.displayName=W4;var cj="DialogPortal",[eW,K4]=z4(cj,{forceMount:void 0}),H4=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=qn(cj,t);return s.jsx(eW,{scope:t,forceMount:r,children:b.Children.map(n,o=>s.jsx(ac,{present:r||i.open,children:s.jsx(aj,{asChild:!0,container:a,children:o})}))})};H4.displayName=cj;var sm="DialogOverlay",G4=b.forwardRef((e,t)=>{const r=K4(sm,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=qn(sm,e.__scopeDialog);return i.modal?s.jsx(ac,{present:n||i.open,children:s.jsx(rW,{...a,ref:t})}):null});G4.displayName=sm;var tW=gl("DialogOverlay.RemoveScroll"),rW=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=qn(sm,r);return s.jsx(ij,{as:tW,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(_e.div,{"data-state":dj(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),qi="DialogContent",Y4=b.forwardRef((e,t)=>{const r=K4(qi,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=qn(qi,e.__scopeDialog);return s.jsx(ac,{present:n||i.open,children:i.modal?s.jsx(nW,{...a,ref:t}):s.jsx(sW,{...a,ref:t})})});Y4.displayName=qi;var nW=b.forwardRef((e,t)=>{const r=qn(qi,e.__scopeDialog),n=b.useRef(null),a=rt(t,r.contentRef,n);return b.useEffect(()=>{const i=n.current;if(i)return GT(i)},[]),s.jsx(J4,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ce(e.onFocusOutside,i=>i.preventDefault())})}),sW=b.forwardRef((e,t)=>{const r=qn(qi,e.__scopeDialog),n=b.useRef(!1),a=b.useRef(!1);return s.jsx(J4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),J4=b.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=qn(qi,r),c=b.useRef(null),u=rt(t,c);return jT(),s.jsxs(s.Fragment,{children:[s.jsx(Jw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Yw,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":dj(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(aW,{titleId:l.titleId}),s.jsx(oW,{contentRef:c,descriptionId:l.descriptionId})]})]})}),uj="DialogTitle",X4=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=qn(uj,r);return s.jsx(_e.h2,{id:a.titleId,...n,ref:t})});X4.displayName=uj;var Z4="DialogDescription",Q4=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=qn(Z4,r);return s.jsx(_e.p,{id:a.descriptionId,...n,ref:t})});Q4.displayName=Z4;var eI="DialogClose",tI=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=qn(eI,r);return s.jsx(_e.button,{type:"button",...n,ref:t,onClick:Ce(e.onClick,()=>a.onOpenChange(!1))})});tI.displayName=eI;function dj(e){return e?"open":"closed"}var rI="DialogTitleWarning",[Vwe,nI]=jF(rI,{contentName:qi,titleName:uj,docsSlug:"dialog"}),aW=({titleId:e})=>{const t=nI(rI),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},iW="DialogDescriptionWarning",oW=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nI(iW).contentName}}.`;return b.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},lW=V4,cW=q4,uW=H4,sI=G4,aI=Y4,iI=X4,oI=Q4,dW=tI;const Vd=lW,fW=cW,hW=uW,lI=b.forwardRef(({className:e,...t},r)=>s.jsx(sI,{ref:r,className:me("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));lI.displayName=sI.displayName;const cc=b.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(hW,{children:[s.jsx(lI,{}),s.jsxs(aI,{ref:n,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border/40 bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(dW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Hs,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cc.displayName=aI.displayName;const uc=({className:e,...t})=>s.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});uc.displayName="DialogHeader";const dc=b.forwardRef(({className:e,...t},r)=>s.jsx(iI,{ref:r,className:me("text-lg font-semibold leading-none tracking-tight text-foreground",e),...t}));dc.displayName=iI.displayName;const mW=b.forwardRef(({className:e,...t},r)=>s.jsx(oI,{ref:r,className:me("text-sm text-muted-foreground",e),...t}));mW.displayName=oI.displayName;const fj=({rating:e,maxRating:t=5,size:r="md",interactive:n=!1,onRatingChange:a,className:i})=>{const o={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l=c=>{n&&a&&a(c)};return s.jsx("div",{className:me("flex items-center gap-1",i),children:Array.from({length:t},(c,u)=>{const f=u+1,d=f<=e,h=e>u&&e<f;return s.jsx("button",{type:"button",onClick:()=>l(f),disabled:!n,className:me(o[r],n&&"cursor-pointer hover:scale-110 transition-transform",!n&&"cursor-default"),children:s.jsx(Fn,{className:me("transition-colors",d||h?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200")})},u)})})};var cI={exports:{}},uI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wl=b;function pW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gW=typeof Object.is=="function"?Object.is:pW,vW=wl.useState,xW=wl.useEffect,yW=wl.useLayoutEffect,bW=wl.useDebugValue;function wW(e,t){var r=t(),n=vW({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return yW(function(){a.value=r,a.getSnapshot=t,Fv(a)&&i({inst:a})},[e,r,t]),xW(function(){return Fv(a)&&i({inst:a}),e(function(){Fv(a)&&i({inst:a})})},[e]),bW(r),r}function Fv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gW(e,r)}catch{return!0}}function jW(e,t){return t()}var NW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jW:wW;uI.useSyncExternalStore=wl.useSyncExternalStore!==void 0?wl.useSyncExternalStore:NW;cI.exports=uI;var SW=cI.exports;function _W(){return SW.useSyncExternalStore(EW,()=>!0,()=>!1)}function EW(){return()=>{}}var hj="Avatar",[PW]=ms(hj),[kW,dI]=PW(hj),fI=b.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=b.useState("idle");return s.jsx(kW,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(_e.span,{...n,ref:t})})});fI.displayName=hj;var hI="AvatarImage",mI=b.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=dI(hI,r),l=AW(n,i),c=Us(u=>{a(u),o.onImageLoadingStatusChange(u)});return Lt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(_e.img,{...i,ref:t,src:n}):null});mI.displayName=hI;var pI="AvatarFallback",gI=b.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=dI(pI,r),[o,l]=b.useState(n===void 0);return b.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(_e.span,{...a,ref:t}):null});gI.displayName=pI;function qS(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function AW(e,{referrerPolicy:t,crossOrigin:r}){const n=_W(),a=b.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=b.useState(()=>qS(i,e));return Lt(()=>{l(qS(i,e))},[i,e]),Lt(()=>{const c=d=>()=>{l(d)};if(!i)return;const u=c("loaded"),f=c("error");return i.addEventListener("load",u),i.addEventListener("error",f),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",f)}},[i,r,t]),o}var vI=fI,xI=mI,yI=gI;const bI=b.forwardRef(({className:e,size:t="md",...r},n)=>s.jsx(vI,{ref:n,className:me("relative flex shrink-0 overflow-hidden rounded-full border border-border/30 ring-offset-background",t==="sm"&&"h-8 w-8",t==="md"&&"h-10 w-10",t==="lg"&&"h-12 w-12",t==="xl"&&"h-16 w-16",e),...r}));bI.displayName=vI.displayName;const wI=b.forwardRef(({className:e,...t},r)=>s.jsx(xI,{ref:r,className:me("aspect-square h-full w-full object-cover",e),...t}));wI.displayName=xI.displayName;const jI=b.forwardRef(({className:e,...t},r)=>s.jsx(yI,{ref:r,className:me("flex h-full w-full items-center justify-center rounded-full bg-muted text-muted-foreground",e),...t}));jI.displayName=yI.displayName;const CW=({review:e,canRespond:t=!1,landscaperId:r})=>{const[n,a]=b.useState(!1),[i,o]=b.useState(""),[l,c]=b.useState(!1),u=async()=>{if(!(!i.trim()||!r)){c(!0);try{const{error:d}=await I.from("reviews").update({response:i.trim(),response_date:new Date().toISOString()}).eq("id",e.id).eq("landscaper_id",r);if(d)throw d;a(!1),o(""),window.location.reload()}catch(d){console.error("Error submitting response:",d)}finally{c(!1)}}},f=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return s.jsx(R,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs(bI,{className:"w-12 h-12",children:[s.jsx(wI,{src:e.customer.avatar_url}),s.jsxs(jI,{children:[e.customer.first_name[0],e.customer.last_name[0]]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("h4",{className:"font-semibold",children:[e.customer.first_name," ",e.customer.last_name[0],"."]}),e.is_verified&&s.jsxs(ee,{variant:"secondary",className:"text-xs",children:[s.jsx($e,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(fj,{rating:e.rating,size:"sm"}),s.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[s.jsx(dr,{className:"w-4 h-4"}),f(e.created_at)]})]}),e.title&&s.jsx("h5",{className:"font-medium mb-2",children:e.title}),e.comment&&s.jsx("p",{className:"text-gray-700 mb-4",children:e.comment}),e.photos&&e.photos.length>0&&s.jsx("div",{className:"flex gap-2 mb-4",children:e.photos.map((d,h)=>s.jsx("img",{src:d,alt:`Review photo ${h+1}`,className:"w-20 h-20 object-cover rounded-lg cursor-pointer hover:opacity-80",onClick:()=>window.open(d,"_blank")},h))}),e.response&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ui,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Response from landscaper"}),e.response_date&&s.jsx("span",{className:"text-xs text-gray-500",children:f(e.response_date)})]}),s.jsx("p",{className:"text-sm text-gray-700",children:e.response})]}),t&&!e.response&&!n&&s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>a(!0),className:"mt-3",children:[s.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Respond to review"]}),n&&s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx(ao,{value:i,onChange:d=>o(d.target.value),placeholder:"Thank your customer and address any concerns...",rows:3,maxLength:500}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{size:"sm",onClick:u,disabled:!i.trim()||l,children:l?"Submitting...":"Submit Response"}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>{a(!1),o("")},disabled:l,children:"Cancel"})]})]})]})]})})},OW=({jobId:e,landscaperId:t,customerId:r,onSubmit:n,onCancel:a})=>{const[i,o]=b.useState(0),[l,c]=b.useState(""),[u,f]=b.useState(""),[d,h]=b.useState([]),[m,v]=b.useState(!1),p=y=>{const w=Array.from(y.target.files||[]);h(S=>[...S,...w].slice(0,5))},x=y=>{h(w=>w.filter((S,j)=>j!==y))},g=async y=>{if(y.preventDefault(),i!==0){v(!0);try{const w=[];for(const j of d){const N=`review-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,{data:_,error:E}=await I.storage.from("job-photos").upload(`reviews/${N}`,j);if(!E&&_){const{data:{publicUrl:k}}=I.storage.from("job-photos").getPublicUrl(_.path);w.push(k)}}const{error:S}=await I.from("reviews").insert({customer_id:r,landscaper_id:t,job_id:e,rating:i,title:l.trim()||null,comment:u.trim()||null,photos:w.length>0?w:null});if(S)throw S;n()}catch(w){console.error("Error submitting review:",w)}finally{v(!1)}}};return s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Rate your experience *"}),s.jsx(fj,{rating:i,interactive:!0,onRatingChange:o,size:"lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Review title (optional)"}),s.jsx(re,{value:l,onChange:y=>c(y.target.value),placeholder:"Great work on my lawn!",maxLength:100})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tell us about your experience"}),s.jsx(ao,{value:u,onChange:y=>f(y.target.value),placeholder:"Share details about the quality of work, professionalism, timeliness...",rows:4,maxLength:1e3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add photos (optional)"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((y,w)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:URL.createObjectURL(y),alt:`Upload ${w+1}`,className:"w-20 h-20 object-cover rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>x(w),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:s.jsx(Hs,{className:"w-3 h-3"})})]},w))}),d.length<5&&s.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2 border border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx(E8,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Add photos"}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:p,className:"hidden"})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(B,{type:"submit",disabled:i===0||m,className:"flex-1",children:m?"Submitting...":"Submit Review"}),s.jsx(B,{type:"button",variant:"outline",onClick:a,disabled:m,children:"Cancel"})]})]})},TW=({landscaperId:e,canWriteReview:t=!1,jobId:r,customerId:n,showAddReview:a=!1})=>{const[i,o]=b.useState([]),[l,c]=b.useState({averageRating:0,totalReviews:0,ratingBreakdown:{}}),[u,f]=b.useState(!1),[d,h]=b.useState(!0);b.useEffect(()=>{m()},[e]);const m=async()=>{try{const{data:x,error:g}=await I.from("reviews").select(`
          *,
          customer:customers(first_name, last_name, avatar_url)
        `).eq("landscaper_id",e).eq("is_approved",!0).order("created_at",{ascending:!1});if(g)throw g;o(x||[]),v(x||[])}catch(x){console.error("Error fetching reviews:",x)}finally{h(!1)}},v=x=>{if(x.length===0){c({averageRating:0,totalReviews:0,ratingBreakdown:{}});return}const g=x.length,w=x.reduce((j,N)=>j+N.rating,0)/g,S=x.reduce((j,N)=>(j[N.rating]=(j[N.rating]||0)+1,j),{});c({averageRating:w,totalReviews:g,ratingBreakdown:S})},p=()=>{f(!1),m()};return d?s.jsx("div",{className:"animate-pulse",children:"Loading reviews..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Fn,{className:"w-8 h-8 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-3xl font-bold",children:l.averageRating.toFixed(1)})]}),s.jsx(fj,{rating:Math.round(l.averageRating)}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Based on ",l.totalReviews," reviews"]})]}),s.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(x=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"w-3",children:x}),s.jsx(Fn,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${(l.ratingBreakdown[x]||0)/l.totalReviews*100}%`}})}),s.jsx("span",{className:"w-8 text-right",children:l.ratingBreakdown[x]||0})]},x))}),s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(us,{className:"w-8 h-8 text-green-600 mb-2"}),s.jsxs("p",{className:"text-sm text-center text-gray-600",children:[l.averageRating>=4.5?"Excellent":l.averageRating>=4?"Very Good":l.averageRating>=3.5?"Good":l.averageRating>=3?"Average":"Below Average"," rating"]})]})]}),t&&a&&s.jsx("div",{className:"mt-6 pt-6 border-t",children:s.jsxs(B,{onClick:()=>f(!0),className:"w-full",children:[s.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Write a Review"]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-xl font-semibold",children:["Customer Reviews (",l.totalReviews,")"]}),i.length===0?s.jsxs(R,{className:"p-8 text-center",children:[s.jsx(Ui,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No reviews yet"})]}):i.map(x=>s.jsx(CW,{review:x},x.id))]}),s.jsx(Vd,{open:u,onOpenChange:f,children:s.jsxs(cc,{className:"max-w-2xl",children:[s.jsx(uc,{children:s.jsx(dc,{children:"Write a Review"})}),r&&n&&s.jsx(OW,{jobId:r,landscaperId:e,customerId:n,onSubmit:p,onCancel:()=>f(!1)})]})})]})};function IW(){const e=Te(),[t,r]=b.useState(null),[n,a]=b.useState([]),[i,o]=b.useState(null),[l,c]=b.useState(null),u=["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],f=5,d=v=>{var x;const p=(x=v.target.files)==null?void 0:x[0];if(p){if(!u.includes(p.type)){alert("Upload must be a PDF, JPG, PNG, or Word document.");return}if(p.size>f*1024*1024){alert("File must be less than 5MB");return}o(p)}},h=v=>{var x;const p=(x=v.target.files)==null?void 0:x[0];if(p){if(!u.includes(p.type)){alert("Upload must be a PDF, JPG, PNG, or Word document.");return}if(p.size>f*1024*1024){alert("File must be less than 5MB");return}c(p)}},m=async()=>{const{data:{user:v},error:p}=await I.auth.getUser();if(!v){alert("User not logged in");return}if(!i||!l){alert("Please upload both insurance and license files.");return}const x=Date.now(),g=`insurance/${v.id}-${x}-${i.name}`,y=`license/${v.id}-${x}-${l.name}`,{error:w}=await I.storage.from("landscaper-uploads").upload(g,i,{upsert:!0});if(w){alert("Error uploading insurance file."),console.error(w.message);return}const{error:S}=await I.storage.from("landscaper-uploads").upload(y,l,{upsert:!0});if(S){alert("Error uploading license file."),console.error(S.message);return}const{error:j}=await I.from("landscapers").update({insurance_file:g,license_file:y,profile_complete:!0}).eq("user_id",v.id);j?(alert("Error updating profile."),console.error(j.message)):(alert("Documents uploaded successfully. You can now access the dashboard."),e("/landscaper-dashboard",{replace:!0}))};return b.useEffect(()=>{(async()=>{const{data:{user:p},error:x}=await I.auth.getUser();if(x){console.error("Error getting user:",x.message);return}const{data:g,error:y}=await I.from("landscapers").select("*").eq("email",p.email).maybeSingle();if(!g){console.warn("No landscaper profile found for this user yet."),r(null);return}y?console.error("Error fetching landscaper:",y.message):r(g);const{data:w,error:S}=await I.from("jobs").select("*").eq("assigned_email",p.email).order("date",{ascending:!0});S?console.error("Error fetching jobs:",S.message):a(w)})()},[]),s.jsxs(hr,{children:[s.jsx(pn,{}),s.jsxs("div",{className:"flex flex-col items-center justify-start min-h-screen px-4 pt-24",children:[s.jsxs("div",{className:"w-full max-w-3xl bg-black/80 border border-green-500 rounded-lg p-8 shadow-lg",children:[s.jsx("h1",{className:"text-3xl font-bold text-green-400 mb-6 text-center",children:"Landscaper Profile"}),t?s.jsxs("div",{className:"text-white space-y-4",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Full Name:"})," ",t.full_name]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Email:"})," ",t.email]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Business Name:"})," ",t.business_name]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Service Area:"})," ",t.service_area]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Experience:"})," ",t.years_experience," years"]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-green-400",children:"Upload Insurance File"}),s.jsx("br",{}),s.jsx("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf,.doc,.docx",onChange:d}),i&&s.jsxs("p",{className:"text-green-400 mt-1",children:["Selected: ",i.name]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-green-400",children:"Upload License File"}),s.jsx("br",{}),s.jsx("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf,.doc,.docx",onChange:h}),l&&s.jsxs("p",{className:"text-green-400 mt-1",children:["Selected: ",l.name]})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx("button",{className:"bg-green-500 text-black font-semibold px-4 py-2 rounded hover:bg-green-600 transition",onClick:m,children:"Submit Documents & Complete Profile"})}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Insurance:"})," ",t.insurance_file?s.jsx("a",{href:`${Zh().url}/storage/v1/object/public/landscaper-uploads/${t.insurance_file}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 underline",children:"View Insurance File "}):" Not uploaded"]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"License:"})," ",t.license_file?s.jsx("a",{href:`${Zh().url}/storage/v1/object/public/landscaper-uploads/${t.license_file}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 underline",children:"View License File "}):" Not uploaded"]})]}):s.jsx("p",{className:"text-gray-400 text-center",children:"Loading profile..."})]}),t&&s.jsxs("div",{className:"mt-8 w-full max-w-3xl bg-black/80 border border-green-500 rounded-lg p-6 shadow-lg",children:[s.jsx("h2",{className:"text-2xl text-green-400 font-semibold mb-4 text-center",children:"Upcoming Jobs"}),n.length>0?s.jsx("ul",{className:"divide-y divide-green-700",children:n.map((v,p)=>s.jsxs("li",{className:"py-6 text-white",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Date:"})," ",v.date]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Time:"})," ",v.time]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Address:"})," ",v.address]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Price:"})," $",v.price]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Status:"})," ",v.status]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upload Job Photos"}),s.jsx(Z7,{jobId:v.id,status:v.status,beforeUrl:v.before_photo_url,afterUrl:v.after_photo_url})]})]},p))}):s.jsx("p",{className:"text-gray-400 text-center",children:"No upcoming jobs assigned yet."})]}),t&&s.jsx("div",{className:"mt-8 w-full max-w-3xl bg-black/80 border border-green-500 rounded-lg p-6 shadow-lg",children:s.jsx(TW,{landscaperId:t.id,canRespond:!0})})]})]})}const $W=()=>{var e,t,r;try{return((r=(t=(e=globalThis.import)==null?void 0:e.meta)==null?void 0:t.env)==null?void 0:r.VITE_ADMIN_EMAIL)||"cmatthews@greenscapelux.com"}catch{return"cmatthews@greenscapelux.com"}},KS=$W();async function RW(e,t){try{if(!KS){console.error(" VITE_ADMIN_EMAIL environment variable is missing");return}const{supabase:r}=await qs(async()=>{const{supabase:i}=await Promise.resolve().then(()=>dF);return{supabase:i}},void 0),{data:n,error:a}=await r.functions.invoke("sendAdminEmail",{body:{type:e,data:t,adminEmail:KS,timestamp:new Date().toISOString()}});if(a){console.error(" Admin notification failed:",a);return}n!=null&&n.success?console.log(" Admin email sent successfully:",e,n.messageId):console.warn(" Admin email may have failed:",n)}catch(r){console.error(" notifyAdmin error:",e,r)}}function MW(){const e=Te(),[t,r]=b.useState({name:"",email:"",phone:"",propertyAddress:"",propertySize:"",budget:"",selectedServices:[],otherService:"",date:"",comments:""}),[n,a]=b.useState(!1),[i,o]=b.useState(""),[l,c]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const{data:{user:m},error:v}=await I.auth.getUser();if(v||!m){e("/client-login");return}const{data:p}=await I.from("profiles").select("first_name, last_name, email, phone, address").eq("id",m.id).maybeSingle();r(x=>{var g;return{...x,name:p?`${p.first_name||""} ${p.last_name||""}`.trim():((g=m.user_metadata)==null?void 0:g.name)||"",email:(p==null?void 0:p.email)||m.email||"",phone:(p==null?void 0:p.phone)||"",propertyAddress:(p==null?void 0:p.address)||""}})}catch(m){console.error("Error fetching client data:",m),o("Failed to load your information. Please try again.")}finally{c(!1)}})()},[e]);const u=(h,m)=>{r(v=>({...v,[h]:m}))},f=(h,m)=>{r(v=>({...v,selectedServices:m?[...v.selectedServices,h]:v.selectedServices.filter(p=>p!==h)}))},d=async h=>{if(h.preventDefault(),a(!0),o(""),t.selectedServices.length===0&&!t.otherService){o("Please select at least one service."),a(!1);return}try{const m=[...t.selectedServices];t.otherService&&m.push(t.otherService);try{console.log(" Submitting quote via unified-email function...");const{data:v,error:p}=await I.functions.invoke("unified-email",{body:{type:"quote_confirmation",to:["admin.1@greenscapelux.com"],data:{name:t.name,email:t.email,phone:t.phone,address:t.propertyAddress,preferredDate:t.date,comments:t.comments,selectedServices:m,propertySize:t.propertySize||"Not specified",budget:t.budget||"Not specified",services:m,message:t.comments}}});if(p)throw console.error("Unified-email function error:",p),new Error(p.message||"Failed to send quote request");console.log(" Quote submitted successfully via unified-email:",v);const{error:x}=await I.from("quote_requests").insert({name:t.name,email:t.email,phone:t.phone,property_address:t.propertyAddress,preferred_date:t.date||null,comments:t.comments,services:m,status:"pending"});x&&console.error("Database insert error:",x)}catch(v){console.error(" Unified-email function failed:",v);const{error:p}=await I.from("quote_requests").insert({name:t.name,email:t.email,phone:t.phone,property_address:t.propertyAddress,preferred_date:t.date||null,comments:t.comments,services:m,status:"pending"});if(p)throw new Error("Failed to save quote request. Please try again.");console.log(" Quote saved via fallback method (no email sent)")}try{await RW("client_quote",{name:t.name,email:t.email,phone:t.phone,service_name:m.join(", "),address:t.propertyAddress,message:t.comments})}catch(v){console.log("Admin notification failed:",v)}e("/thank-you")}catch(m){console.error("Quote request error:",m),o(m.message||"Failed to submit quote request. Please try again.")}finally{a(!1)}};return l?s.jsxs(hr,{children:[s.jsx(pn,{}),s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-green-400 text-xl",children:"Loading your information..."})})]}):s.jsxs(hr,{children:[s.jsx(pn,{}),s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen px-4 pt-24 pb-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx(Mp,{size:"large"})}),s.jsxs(R,{className:"w-full max-w-4xl bg-black/95 border-2 border-green-500 shadow-2xl shadow-green-500/30 backdrop-blur-sm",children:[s.jsxs(V,{className:"text-center",children:[s.jsx(W,{className:"text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-green-600 mb-2",children:"Request Your Quote"}),s.jsx("p",{className:"text-gray-300 text-lg",children:"Your information is pre-filled. Just select your services and submit!"})]}),s.jsxs(F,{children:[i&&s.jsx("div",{className:"mb-6 p-4 bg-red-900/30 border-2 border-red-500 rounded-lg text-red-300 shadow-lg shadow-red-500/20",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-3"}),i]})}),s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name",className:"text-green-400 font-semibold",children:"Full Name"}),s.jsx(re,{id:"name",type:"text",required:!0,value:t.name,disabled:!0,className:"bg-gray-900/80 border-green-500 text-white disabled:opacity-70"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"email",className:"text-green-400 font-semibold",children:"Email Address"}),s.jsx(re,{id:"email",type:"email",required:!0,value:t.email,disabled:!0,className:"bg-gray-900/80 border-green-500 text-white disabled:opacity-70"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"phone",className:"text-green-400 font-semibold",children:"Phone Number"}),s.jsx(re,{id:"phone",type:"text",value:t.phone,disabled:!0,className:"bg-gray-900/80 border-green-500 text-white disabled:opacity-70"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"date",className:"text-green-400 font-semibold",children:"Preferred Date"}),s.jsx(re,{id:"date",type:"date",value:t.date,onChange:h=>u("date",h.target.value),className:"bg-gray-900/80 border-green-500 text-white"})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"propertyAddress",className:"text-green-400 font-semibold",children:"Property Address"}),s.jsx(re,{id:"propertyAddress",type:"text",required:!0,value:t.propertyAddress,disabled:!0,className:"bg-gray-900/80 border-green-500 text-white disabled:opacity-70"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"propertySize",className:"text-green-400 font-semibold",children:"Property Size"}),s.jsx(re,{id:"propertySize",type:"text",value:t.propertySize,onChange:h=>u("propertySize",h.target.value),className:"bg-gray-900/80 border-green-500 text-white",placeholder:"e.g., 1/4 acre, 5000 sq ft"}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Optional - helps us provide accurate estimates"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"budget",className:"text-green-400 font-semibold",children:"Budget Range"}),s.jsx(re,{id:"budget",type:"text",value:t.budget,onChange:h=>u("budget",h.target.value),className:"bg-gray-900/80 border-green-500 text-white",placeholder:"e.g., $500-$1000"}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Optional - helps us match you with the right service level"})]})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-green-400 font-semibold mb-4 block text-lg",children:"Services Needed"}),s.jsx("div",{className:"bg-gray-900/50 border border-green-500/50 rounded-lg p-6",children:s.jsx(xT,{selectedServices:t.selectedServices,otherService:t.otherService,onServiceChange:f,onOtherServiceChange:h=>u("otherService",h)})})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"comments",className:"text-green-400 font-semibold",children:"Comments or Special Requests"}),s.jsx(ao,{id:"comments",value:t.comments,onChange:h=>u("comments",h.target.value),className:"bg-gray-900/80 border-green-500 text-white min-h-[100px]",placeholder:"Any additional details or special requests..."})]}),s.jsx(B,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 text-white font-bold py-4 px-8 rounded-lg shadow-lg shadow-green-500/30 hover:shadow-green-500/50 transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50",children:n?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Submitting..."]}):"Get My Free Quote"})]})]})]})]})]})}var DW={};class LW{constructor(){Me(this,"config",{failureThreshold:100,ipThreshold:15,rateLimitThreshold:10,checkInterval:5});Me(this,"monitoringActive",!1);Me(this,"intervalId",null)}async startMonitoring(){if(this.monitoringActive){console.log("Monitoring already active");return}this.monitoringActive=!0,console.log("Starting Stripe key monitoring..."),this.intervalId=setInterval(async()=>{await this.performSecurityCheck()},this.config.checkInterval*60*1e3),await this.performSecurityCheck()}stopMonitoring(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.monitoringActive=!1,console.log("Stripe key monitoring stopped")}async performSecurityCheck(){try{const t=await this.detectCompromiseIndicators();t.length>0&&await this.handleSecurityIncident(t),await this.logMonitoringActivity(t)}catch(t){console.error("Security check failed:",t)}}async detectCompromiseIndicators(){const t=[],r=new Date(Date.now()-864e5).toISOString();try{const{data:n}=await I.from("stripe_api_logs").select("*").gte("created_at",r);if(!n)return t;const a=n.filter(u=>u.status>=400);a.length>this.config.failureThreshold&&t.push({type:"high_failure_rate",severity:a.length>this.config.failureThreshold*2?"critical":"high",count:a.length,details:{threshold:this.config.failureThreshold,timeframe:"24 hours"}});const i=new Set(n.map(u=>u.ip_address)).size;i>this.config.ipThreshold&&t.push({type:"unusual_ip_activity",severity:i>this.config.ipThreshold*2?"high":"medium",count:i,details:{threshold:this.config.ipThreshold,timeframe:"24 hours"}});const o=n.filter(u=>u.status===429);o.length>this.config.rateLimitThreshold&&t.push({type:"rate_limit_exceeded",severity:"medium",count:o.length,details:{threshold:this.config.rateLimitThreshold,timeframe:"24 hours"}});const l=n.map(u=>u.ip_location).filter(Boolean),c=new Set(l.map(u=>{var f;return(f=u.split(",").pop())==null?void 0:f.trim()})).size;c>5&&t.push({type:"geographic_anomaly",severity:c>10?"high":"medium",count:c,details:{countries:Array.from(new Set(l.map(u=>{var f;return(f=u.split(",").pop())==null?void 0:f.trim()}))),timeframe:"24 hours"}})}catch(n){console.error("Error detecting compromise indicators:",n)}return t}async handleSecurityIncident(t){const r=t.filter(a=>a.severity==="critical"),n=t.filter(a=>a.severity==="high");for(const a of t)await I.from("stripe_compromise_alerts").insert({alert_type:a.type,severity:a.severity,details:a,resolved:!1});r.length>0?(console.log("Critical security incident detected, initiating automatic key rotation"),await this.initiateKeyRotation("Automated: Critical security incident detected")):n.length>=2&&(console.log("Multiple high-severity incidents detected, initiating automatic key rotation"),await this.initiateKeyRotation("Automated: Multiple high-severity security incidents")),await this.sendSecurityAlert(t)}async initiateKeyRotation(t){try{const{data:r,error:n}=await I.functions.invoke("stripe-key-rotation-manager",{body:{action:"rotate_keys",reason:t,environment:"production"}});n?(console.error("Key rotation failed:",n),await this.logRotationFailure(t,n.message)):console.log("Key rotation successful:",r)}catch(r){console.error("Key rotation error:",r),await this.logRotationFailure(t,String(r))}}async sendSecurityAlert(t){const r=t.filter(a=>a.severity==="critical").length,n=t.filter(a=>a.severity==="high").length;await I.functions.invoke("send-admin-notification",{body:{type:"security_alert",subject:`Stripe Security Alert - ${r} Critical, ${n} High Severity`,message:"Suspicious activity detected on Stripe API keys",details:{indicators:t,total_alerts:t.length,critical_count:r,high_count:n,timestamp:new Date().toISOString()}}})}async logMonitoringActivity(t){console.log(`Security check completed: ${t.length} indicators found`)}async logRotationFailure(t,r){var n;await I.from("stripe_key_rotation_logs").insert({event_type:"rotation_failed",old_key_hint:((n=DW.STRIPE_SECRET_KEY)==null?void 0:n.substring(0,8))+"***"||"unknown",new_key_hint:"",reason:`${t} - Failed: ${r}`,environment:"production"})}updateConfig(t){this.config={...this.config,...t},console.log("Monitoring configuration updated:",this.config)}getConfig(){return{...this.config}}isMonitoring(){return this.monitoringActive}}const HS=new LW;function UW(){const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,i]=b.useState(!1),[o,l]=b.useState(null);b.useEffect(()=>{c(),u(),f()},[]);const c=async()=>{const{data:p}=await I.from("stripe_key_rotation_logs").select("*").order("timestamp",{ascending:!1}).limit(10);p&&t(p)},u=async()=>{const{data:p}=await I.from("stripe_compromise_alerts").select("*").eq("resolved",!1).order("created_at",{ascending:!1});p&&n(p)},f=()=>{const p=setInterval(async()=>{await d(),l(new Date)},3e5);return()=>clearInterval(p)},d=async()=>{try{const{data:p}=await I.functions.invoke("stripe-key-rotation-manager",{body:{action:"check_compromise"}});if(p!=null&&p.compromise_detected){for(const x of p.indicators)await I.from("stripe_compromise_alerts").insert({alert_type:x.type,severity:x.severity,details:x});u(),p.indicators.some(x=>x.severity==="critical")&&await h("Automated: Critical compromise detected")}}catch(p){console.error("Error checking for compromise:",p)}},h=async p=>{i(!0);try{const{data:x}=await I.functions.invoke("stripe-key-rotation-manager",{body:{action:"rotate_keys",reason:p,environment:"production"}});x!=null&&x.success&&(c(),alert("Keys rotated successfully! Please update your environment variables."))}catch(x){console.error("Key rotation failed:",x),alert("Key rotation failed. Please check logs.")}finally{i(!1)}},m=async p=>{await I.from("stripe_compromise_alerts").update({resolved:!0,resolved_at:new Date().toISOString()}).eq("id",p),u()},v=p=>{switch(p){case"critical":return"destructive";case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"secondary"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Stripe Key Security"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage API key security"})]}),s.jsxs(B,{onClick:()=>h("Manual rotation"),disabled:a,className:"flex items-center gap-2",children:[s.jsx(hu,{className:"h-4 w-4"}),a?"Rotating...":"Rotate Keys"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(R,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Security Status"}),s.jsx(mn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(F,{children:s.jsx("div",{className:"flex items-center gap-2",children:r.length===0?s.jsxs(s.Fragment,{children:[s.jsx($e,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm text-green-600",children:"Secure"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Pt,{className:"h-4 w-4 text-red-500"}),s.jsxs("span",{className:"text-sm text-red-600",children:[r.length," Alert",r.length!==1?"s":""]})]})})})]}),s.jsxs(R,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Last Rotation"}),s.jsx(Gh,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(F,{children:s.jsx("div",{className:"text-sm",children:e[0]?new Date(e[0].timestamp).toLocaleDateString():"Never"})})]}),s.jsxs(R,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Last Check"}),s.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(F,{children:s.jsx("div",{className:"text-sm",children:o?o.toLocaleTimeString():"Starting..."})})]})]}),r.length>0&&s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-5 w-5 text-red-500"}),"Security Alerts"]}),s.jsx(Ge,{children:"Active security alerts requiring attention"})]}),s.jsx(F,{className:"space-y-4",children:r.map(p=>{var x;return s.jsx(Be,{children:s.jsxs(Fe,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ee,{variant:v(p.severity),children:p.severity}),s.jsx("span",{children:p.alert_type.replace("_"," ")}),((x=p.details)==null?void 0:x.count)&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",p.details.count," incidents)"]})]}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>m(p.id),children:"Resolve"})]})},p.id)})})]}),s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsx(W,{children:"Rotation History"}),s.jsx(Ge,{children:"Recent key rotation events"})]}),s.jsx(F,{children:s.jsxs("div",{className:"space-y-4",children:[e.map(p=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:p.reason}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(p.timestamp).toLocaleString(),"  ",p.environment]})]}),s.jsx(ee,{variant:p.event_type==="rotation"?"default":"destructive",children:p.event_type})]},p.id)),e.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No rotation history available"})]})})]})]})}function BW(){const[e,t]=b.useState([]),[r,n]=b.useState("greenscape-lux.vercel.app"),[a,i]=b.useState(!1),[o,l]=b.useState("idle"),[c,u]=b.useState(""),f=async()=>{i(!0),l("idle");try{const m=await(await fetch("/api/supabase/functions/stripe-production-webhook-setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({domain:r})})).json();if(m.success)t(m.webhooks),l("success"),u("Production webhooks configured successfully!");else throw new Error(m.error)}catch(h){l("error"),u(h instanceof Error?h.message:"Configuration failed")}finally{i(!1)}},d=["payment_intent.succeeded","customer.subscription.updated","invoice.payment_succeeded"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"h-5 w-5"}),"Stripe Production Configuration"]}),s.jsx(Ge,{children:"Configure live Stripe webhooks for production payment processing"})]}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(de,{htmlFor:"domain",children:"Production Domain"}),s.jsx(re,{id:"domain",value:r,onChange:h=>n(h.target.value),placeholder:"your-domain.vercel.app"})]}),s.jsx(B,{onClick:f,disabled:a,className:"w-full",children:a?"Configuring...":"Configure Production Webhooks"}),o!=="idle"&&s.jsxs(Be,{className:o==="success"?"border-green-200":"border-red-200",children:[s.jsx(Pt,{className:"h-4 w-4"}),s.jsx(Fe,{children:c})]})]})]}),s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(V8,{className:"h-5 w-5"}),"Webhook Endpoints"]}),s.jsx(Ge,{children:"Production webhook endpoints for payment processing"})]}),s.jsx(F,{children:s.jsx("div",{className:"space-y-4",children:e.length>0?e.map(h=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:h.url}),s.jsx(ee,{variant:h.status==="active"?"default":"secondary",children:h.status})]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:h.events.map(m=>s.jsx(ee,{variant:"outline",className:"text-xs",children:m},m))})]},h.id)):s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No webhooks configured yet"})})})]}),s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsx(W,{children:"Required Events"}),s.jsx(Ge,{children:"Essential webhook events for payment processing"})]}),s.jsx(F,{children:s.jsx("div",{className:"space-y-2",children:d.map(h=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{className:"h-4 w-4 text-green-500"}),s.jsx("code",{className:"text-sm",children:h})]},h))})})]})]})}var mj="Progress",pj=100,[FW]=ms(mj),[zW,VW]=FW(mj),NI=b.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=WW,...o}=e;(a||a===0)&&!GS(a)&&console.error(qW(`${a}`,"Progress"));const l=GS(a)?a:pj;n!==null&&!YS(n,l)&&console.error(KW(`${n}`,"Progress"));const c=YS(n,l)?n:null,u=am(c)?i(c,l):void 0;return s.jsx(zW,{scope:r,value:c,max:l,children:s.jsx(_e.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":am(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":EI(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});NI.displayName=mj;var SI="ProgressIndicator",_I=b.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=VW(SI,r);return s.jsx(_e.div,{"data-state":EI(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});_I.displayName=SI;function WW(e,t){return`${Math.round(e/t*100)}%`}function EI(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function am(e){return typeof e=="number"}function GS(e){return am(e)&&!isNaN(e)&&e>0}function YS(e,t){return am(e)&&!isNaN(e)&&e<=t&&e>=0}function qW(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${pj}\`.`}function KW(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${pj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var PI=NI,HW=_I;const Ci=b.forwardRef(({className:e,value:t,variant:r="default",...n},a)=>s.jsx(PI,{ref:a,className:me("relative h-2 w-full overflow-hidden rounded-full bg-secondary/40",e),...n,children:s.jsx(HW,{className:me("h-full w-full flex-1 transition-all duration-300 ease-in-out",r==="default"&&"bg-primary",r==="success"&&"bg-green-500",r==="warning"&&"bg-yellow-500",r==="error"&&"bg-destructive"),style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ci.displayName=PI.displayName;const JS=()=>{const[e,t]=b.useState({database:"healthy",webhooks:"healthy",stripe:"healthy",edgeFunctions:"healthy",uptime:99.9,responseTime:150,errorRate:.1}),[r,n]=b.useState([]),[a,i]=b.useState(!0),[o,l]=b.useState(new Date);b.useEffect(()=>{c();const d=setInterval(c,6e4);return()=>clearInterval(d)},[]);const c=async()=>{try{i(!0);const d=Date.now(),{error:h}=await I.from("payments").select("count").limit(1),m=Date.now()-d,{data:v}=await I.from("webhook_logs").select("*").gte("created_at",new Date(Date.now()-24*60*60*1e3).toISOString()),{data:p}=await I.from("edge_function_errors").select("*").gte("created_at",new Date(Date.now()-24*60*60*1e3).toISOString()),x=(v==null?void 0:v.filter(N=>N.status==="error").length)||0,g=(v==null?void 0:v.length)||1,y=x/g*100,w=(p==null?void 0:p.length)||0;t({database:h?"critical":m>1e3?"warning":"healthy",webhooks:y>10?"critical":y>5?"warning":"healthy",stripe:"healthy",edgeFunctions:w>10?"critical":w>5?"warning":"healthy",uptime:99.9-w*.1,responseTime:m,errorRate:y});const j=["stripe-webhook","payment-notifications","subscription-updates"].map(N=>({endpoint:N,status:Math.random()>.1?"active":"error",lastSuccess:new Date(Date.now()-Math.random()*36e5).toISOString(),errorCount:Math.floor(Math.random()*5)}));n(j),l(new Date)}catch(d){console.error("Error checking system health:",d)}finally{i(!1)}},u=d=>{switch(d){case"healthy":return"text-green-600 bg-green-50";case"warning":return"text-yellow-600 bg-yellow-50";case"critical":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},f=d=>{switch(d){case"healthy":return s.jsx($e,{className:"h-4 w-4 text-green-500"});case"warning":return s.jsx(Pt,{className:"h-4 w-4 text-yellow-500"});case"critical":return s.jsx(Pt,{className:"h-4 w-4 text-red-500"});default:return s.jsx(vl,{className:"h-4 w-4 text-gray-500"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(R,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Database"}),s.jsx(oO,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(F,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[f(e.database),s.jsx(ee,{className:u(e.database),children:e.database})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Response: ",e.responseTime,"ms"]})]})]}),s.jsxs(R,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Webhooks"}),s.jsx(Bi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(F,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[f(e.webhooks),s.jsx(ee,{className:u(e.webhooks),children:e.webhooks})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Error rate: ",e.errorRate.toFixed(1),"%"]})]})]}),s.jsxs(R,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Stripe API"}),s.jsx(L8,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(F,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[f(e.stripe),s.jsx(ee,{className:u(e.stripe),children:e.stripe})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"All systems operational"})]})]}),s.jsxs(R,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Edge Functions"}),s.jsx(vl,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(F,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[f(e.edgeFunctions),s.jsx(ee,{className:u(e.edgeFunctions),children:e.edgeFunctions})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Uptime: ",e.uptime.toFixed(1),"%"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(R,{children:[s.jsx(V,{children:s.jsx(W,{children:"System Metrics"})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{children:"Uptime"}),s.jsxs("span",{children:[e.uptime.toFixed(1),"%"]})]}),s.jsx(Ci,{value:e.uptime,className:"h-2"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{children:"Response Time"}),s.jsxs("span",{children:[e.responseTime,"ms"]})]}),s.jsx(Ci,{value:Math.max(0,100-e.responseTime/10),className:"h-2"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{children:"Error Rate"}),s.jsxs("span",{children:[e.errorRate.toFixed(1),"%"]})]}),s.jsx(Ci,{value:Math.max(0,100-e.errorRate*10),className:"h-2"})]})]})]}),s.jsxs(R,{children:[s.jsx(V,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(W,{children:"Webhook Endpoints"}),s.jsx(B,{size:"sm",onClick:c,disabled:a,children:a?"Checking...":"Refresh"})]})}),s.jsxs(F,{children:[s.jsx("div",{className:"space-y-3",children:r.map(d=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:d.endpoint}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last success: ",new Date(d.lastSuccess).toLocaleTimeString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ee,{className:d.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:d.status}),d.errorCount>0&&s.jsxs("span",{className:"text-xs text-red-600",children:[d.errorCount," errors"]})]})]},d.endpoint))}),s.jsxs("div",{className:"mt-4 text-xs text-muted-foreground",children:["Last checked: ",o.toLocaleTimeString()]})]})]})]})]})};function XS({clients:e,landscapers:t}){const[r,n]=b.useState("clients"),[a,i]=b.useState(""),[o,l]=b.useState("all"),[c,u]=b.useState("all"),f=[...e.map(v=>({...v,role:"client"})),...t.map(v=>({...v,role:"landscaper"}))],h=(o==="all"?f:o==="client"?e.map(v=>({...v,role:"client"})):t.map(v=>({...v,role:"landscaper"}))).filter(v=>{const p=v.name.toLowerCase().includes(a.toLowerCase())||v.email.toLowerCase().includes(a.toLowerCase()),x=c==="all"||v.status===c;return p&&x}),m=v=>({active:"bg-green-500/20 text-green-300 border-green-500/30",suspended:"bg-red-500/20 text-red-300 border-red-500/30",pending:"bg-yellow-500/20 text-yellow-300 border-yellow-500/30"})[v]||"bg-gray-500/20 text-gray-300 border-gray-500/30";return s.jsx(R,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl ring-1 ring-green-500/20 shadow-[0_0_25px_-10px_rgba(34,197,94,0.25)] hover:shadow-[0_0_35px_-5px_rgba(34,197,94,0.35)] transition-all duration-300 col-span-2",children:s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Dd,{className:"w-5 h-5 text-green-400"}),s.jsx("h2",{className:"text-lg font-semibold text-green-300",children:"User Management"})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(B,{onClick:()=>n("clients"),className:`flex-1 rounded-full text-xs ${r==="clients"?"bg-blue-600/30 border-blue-500/50 text-blue-300":"bg-blue-600/10 hover:bg-blue-600/20 border-blue-500/20 text-blue-400"}`,children:["Clients (",e.length,")"]}),s.jsxs(B,{onClick:()=>n("landscapers"),className:`flex-1 rounded-full text-xs ${r==="landscapers"?"bg-purple-600/30 border-purple-500/50 text-purple-300":"bg-purple-600/10 hover:bg-purple-600/20 border-purple-500/20 text-purple-400"}`,children:["Landscapers (",t.length,")"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(qu,{className:"w-3 h-3 absolute left-2 top-2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:v=>i(v.target.value),className:"w-full pl-7 pr-3 py-1.5 text-xs bg-black/40 border border-gray-600 rounded-lg text-white placeholder-gray-400"})]}),s.jsxs("select",{value:o,onChange:v=>l(v.target.value),className:"text-xs bg-black/40 border border-gray-600 rounded-lg px-2 py-1 text-green-300",children:[s.jsx("option",{value:"all",children:"All Roles"}),s.jsx("option",{value:"client",children:"Clients"}),s.jsx("option",{value:"landscaper",children:"Landscapers"})]}),s.jsxs("select",{value:c,onChange:v=>u(v.target.value),className:"text-xs bg-black/40 border border-gray-600 rounded-lg px-2 py-1 text-green-300",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"suspended",children:"Suspended"}),s.jsx("option",{value:"pending",children:"Pending"})]})]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto mb-4",children:h.slice(0,4).map(v=>s.jsxs("div",{className:"rounded-xl bg-black/40 border border-gray-700/50 p-3 hover:bg-black/60 hover:border-green-500/30 transition-all duration-200 hover:shadow-[0_0_10px_rgba(34,197,94,0.2)]",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-sm font-medium text-green-300",children:v.name}),"role"in v&&s.jsx(ee,{className:`text-xs ${v.role==="client"?"bg-blue-500/20 text-blue-300 border-blue-500/30":"bg-purple-500/20 text-purple-300 border-purple-500/30"}`,children:v.role})]}),s.jsx(ee,{className:`text-xs ${m(v.status)}`,children:v.status})]}),s.jsx("div",{className:"text-xs text-gray-400",children:v.email}),s.jsx("div",{className:"text-xs text-gray-500",children:v.city||"Charlotte, NC"})]},v.id))}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[s.jsxs(B,{className:"rounded-full bg-green-600/20 hover:bg-green-600/30 border border-green-500/40 text-green-300 text-xs",children:[s.jsx(F8,{className:"w-3 h-3 mr-1"}),"View"]}),s.jsxs(B,{className:"rounded-full bg-yellow-600/20 hover:bg-yellow-600/30 border border-yellow-500/40 text-yellow-300 text-xs",children:[s.jsx(hu,{className:"w-3 h-3 mr-1"}),"Reset"]}),s.jsxs(B,{className:"rounded-full bg-red-600/20 hover:bg-red-600/30 border border-red-500/40 text-red-300 text-xs",children:[s.jsx(z8,{className:"w-3 h-3 mr-1"}),"Suspend"]})]}),s.jsxs(B,{className:"w-full rounded-full bg-green-600/20 hover:bg-green-600/30 border border-green-500/40 text-green-300 text-sm hover:shadow-[0_0_15px_rgba(34,197,94,0.3)]",children:[s.jsx(ar,{className:"w-4 h-4 mr-2"}),"Manage All Users"]})]})})}var Gp="Switch",[GW]=ms(Gp),[YW,JW]=GW(Gp),kI=b.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,m]=b.useState(null),v=rt(t,w=>m(w)),p=b.useRef(!1),x=h?f||!!h.closest("form"):!0,[g,y]=Fi({prop:a,defaultProp:i??!1,onChange:u,caller:Gp});return s.jsxs(YW,{scope:r,checked:g,disabled:l,children:[s.jsx(_e.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":TI(g),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:v,onClick:Ce(e.onClick,w=>{y(S=>!S),x&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),x&&s.jsx(OI,{control:h,bubbles:!p.current,name:n,value:c,checked:g,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});kI.displayName=Gp;var AI="SwitchThumb",CI=b.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=JW(AI,r);return s.jsx(_e.span,{"data-state":TI(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});CI.displayName=AI;var XW="SwitchBubbleInput",OI=b.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=b.useRef(null),l=rt(o,i),c=zw(r),u=Vw(t);return b.useEffect(()=>{const f=o.current;if(!f)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&m){const v=new Event("click",{bubbles:n});m.call(f,r),f.dispatchEvent(v)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});OI.displayName=XW;function TI(e){return e?"checked":"unchecked"}var II=kI,ZW=CI;const fi=b.forwardRef(({className:e,...t},r)=>s.jsx(II,{className:me("peer inline-flex h-5 w-10 shrink-0 cursor-pointer items-center rounded-full border border-transparent transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(ZW,{className:me("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-md ring-0 transition-transform duration-200 ease-in-out data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0.5 data-[state=checked]:bg-white")})}));fi.displayName=II.displayName;function QW({landscaper:e,onApprovalChange:t}){const[r,n]=b.useState(!1),a=e.insurance_file&&e.license_file;a&&e.approved;const i=async()=>{if(a){n(!0);try{const o=!e.approved,{error:l}=await I.from("landscapers").update({approved:o,approval_date:o?new Date().toISOString():null}).eq("id",e.id);if(l)throw l;await I.from("approval_logs").insert({landscaper_id:e.id,action:o?"approved":"revoked",timestamp:new Date().toISOString()}),t(e.id,o)}catch(o){console.error("Error updating approval status:",o)}finally{n(!1)}}};return s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium",children:[e.first_name," ",e.last_name]}),s.jsx("p",{className:"text-sm text-gray-600",children:e.email})]}),s.jsx("div",{className:"flex items-center space-x-2",children:e.approved?s.jsxs(ee,{className:"bg-green-100 text-green-800",children:[s.jsx($e,{className:"h-3 w-3 mr-1"}),"Approved"]}):s.jsxs(ee,{variant:"secondary",children:[s.jsx(Pr,{className:"h-3 w-3 mr-1"}),"Pending"]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex space-x-4 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(v0,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{className:e.insurance_file?"text-green-600":"text-red-600",children:["Insurance: ",e.insurance_file?"":""]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(v0,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{className:e.license_file?"text-green-600":"text-red-600",children:["License: ",e.license_file?"":""]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[!a&&s.jsxs("div",{className:"flex items-center text-amber-600 text-sm",children:[s.jsx(fr,{className:"h-4 w-4 mr-1"}),"Missing docs"]}),s.jsx(fi,{checked:e.approved,onCheckedChange:i,disabled:!a||r})]})]})]})}function eq(){const[e,t]=b.useState([]),[r,n]=b.useState(!0);b.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:o,error:l}=await I.from("landscapers").select("id, name, email, phone, approved, created_at, business_name, experience_years").order("created_at",{ascending:!1});if(l)throw l;t(o||[])}catch(o){console.error("Error fetching landscapers:",o)}finally{n(!1)}},i=(o,l)=>{t(c=>c.map(u=>u.id===o?{...u,approved:l,approval_date:l?new Date().toISOString():null}:u))};return r?s.jsx("div",{className:"p-4 text-white",children:"Loading landscapers..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mn,{className:"h-6 w-6 text-green-400"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Landscaper Approval System"})]}),s.jsxs("div",{className:"grid gap-4",children:[e.map(o=>s.jsx(QW,{landscaper:{id:o.id,first_name:o.first_name,last_name:o.last_name,email:o.email,approved:o.approved,insurance_file:o.insurance_file,license_file:o.license_file,documents_uploaded:o.documents_uploaded},onApprovalChange:i},o.id)),e.length===0&&s.jsx(R,{className:"bg-black/40 border-green-500/25 p-6",children:s.jsx("div",{className:"text-center text-gray-400",children:"No landscapers found. New signups will appear here for approval."})})]})]})}const up=class up{static getInstance(){return this.instance||(this.instance=new up),this.instance}async validateStripeKey(t){const r={isValid:!1,keyType:"unknown",environment:"unknown",errors:[]};if(!t||typeof t!="string")return r.errors.push("Key is required and must be a string"),r;if(t.startsWith("pk_test_"))r.keyType="publishable",r.environment="test";else if(t.startsWith("pk_live_"))r.keyType="publishable",r.environment="live";else if(t.startsWith("sk_test_"))r.keyType="secret",r.environment="test";else if(t.startsWith("sk_live_"))r.keyType="secret",r.environment="live";else if(t.startsWith("whsec_"))r.keyType="webhook",r.environment="both";else return r.errors.push("Invalid Stripe key format"),r;try{const n=await I.functions.invoke("validate-stripe-key",{body:{key:t,keyType:r.keyType}});n.error?r.errors.push("Key validation failed: "+n.error.message):r.isValid=!0}catch{r.errors.push("Failed to validate key with Stripe API")}return r}async syncEnvironmentVariables(t,r){try{const{data:n,error:a}=await I.functions.invoke("sync-environment-variables",{body:{sourceEnv:t,targetEnv:r}});if(a)throw a;return n.success}catch(n){return console.error("Environment sync failed:",n),!1}}async rotateStripeKeys(t){try{const{data:r,error:n}=await I.functions.invoke("rotate-stripe-keys",{body:{environment:t}});if(n)throw n;return await this.logKeyRotation(t,"stripe_keys","success"),!0}catch(r){return await this.logKeyRotation(t,"stripe_keys","failed"),console.error("Key rotation failed:",r),!1}}async logKeyRotation(t,r,n){await I.from("stripe_key_rotation_logs").insert({environment:t,key_type:r,status:n,rotated_at:new Date().toISOString()})}async getEnvironmentStatus(t){try{const{data:r,error:n}=await I.functions.invoke("get-environment-status",{body:{environment:t}});if(n)throw n;return r}catch(r){return console.error("Failed to get environment status:",r),null}}};Me(up,"instance");let W0=up;function tq(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(!1),[o,l]=b.useState(null),c=W0.getInstance();b.useEffect(()=>{u()},[]);const u=async()=>{n(!0);try{const v=["development","staging","production"],p=await Promise.all(v.map(async x=>{const g=await c.getEnvironmentStatus(x);return{environment:x,keys:(g==null?void 0:g.keys)||{publishable:{status:"unknown"},secret:{status:"unknown"},webhook:{status:"unknown"}},lastSync:g==null?void 0:g.lastSync}}));t(p)}catch(v){console.error("Failed to load environment statuses:",v)}finally{n(!1)}},f=async(v,p)=>{i(!0);try{await c.syncEnvironmentVariables(v,p)&&await u()}catch(x){console.error("Sync failed:",x)}finally{i(!1)}},d=async v=>{l(v);try{await c.rotateStripeKeys(v)&&await u()}catch(p){console.error("Rotation failed:",p)}finally{l(null)}},h=v=>{switch(v){case"valid":return"bg-green-500";case"invalid":return"bg-red-500";case"expired":return"bg-yellow-500";default:return"bg-gray-500"}},m=v=>{switch(v){case"valid":return s.jsx($e,{className:"h-4 w-4"});case"invalid":return s.jsx(Pt,{className:"h-4 w-4"});default:return s.jsx(mn,{className:"h-4 w-4"})}};return r?s.jsx(R,{children:s.jsx(F,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx(Yt,{className:"h-6 w-6 animate-spin mr-2"}),"Loading environment statuses..."]})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(R,{children:s.jsxs(V,{children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(Gh,{className:"h-5 w-5"}),"Environment Variables Management"]}),s.jsx(Ge,{children:"Manage and sync Stripe API keys across development, staging, and production environments"})]})}),s.jsxs(ps,{defaultValue:"overview",className:"space-y-4",children:[s.jsxs(Wn,{children:[s.jsx(ye,{value:"overview",children:"Overview"}),s.jsx(ye,{value:"sync",children:"Environment Sync"}),s.jsx(ye,{value:"rotation",children:"Key Rotation"})]}),s.jsx(Ne,{value:"overview",className:"space-y-4",children:s.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:e.map(v=>s.jsxs(R,{children:[s.jsx(V,{children:s.jsxs(W,{className:"capitalize flex items-center justify-between",children:[v.environment,s.jsx(ee,{variant:v.environment==="production"?"destructive":"secondary",children:v.environment==="production"?"LIVE":"TEST"})]})}),s.jsxs(F,{className:"space-y-3",children:[Object.entries(v.keys).map(([p,x])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm capitalize",children:p.replace("_"," ")}),s.jsxs("div",{className:"flex items-center gap-2",children:[m(x.status),s.jsx(ee,{className:h(x.status),children:x.status})]})]},p)),v.lastSync&&s.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Last sync: ",new Date(v.lastSync).toLocaleString()]})]})]},v.environment))})}),s.jsxs(Ne,{value:"sync",className:"space-y-4",children:[s.jsxs(Be,{children:[s.jsx(hu,{className:"h-4 w-4"}),s.jsx(Fe,{children:"Sync environment variables between environments. Always test in staging before production."})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsx(W,{children:"Development  Staging"}),s.jsx(Ge,{children:"Sync test keys to staging environment"})]}),s.jsx(F,{children:s.jsxs(B,{onClick:()=>f("development","staging"),disabled:a,className:"w-full",children:[a?s.jsx(Yt,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(hu,{className:"h-4 w-4 mr-2"}),"Sync to Staging"]})})]}),s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsx(W,{children:"Staging  Production"}),s.jsx(Ge,{children:"Deploy validated keys to production"})]}),s.jsx(F,{children:s.jsxs(B,{onClick:()=>f("staging","production"),disabled:a,variant:"destructive",className:"w-full",children:[a?s.jsx(Yt,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(hu,{className:"h-4 w-4 mr-2"}),"Deploy to Production"]})})]})]})]}),s.jsxs(Ne,{value:"rotation",className:"space-y-4",children:[s.jsxs(Be,{children:[s.jsx(mn,{className:"h-4 w-4"}),s.jsx(Fe,{children:"Rotate API keys for security. This will generate new keys and update all environments."})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:e.map(v=>s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsx(W,{className:"capitalize",children:v.environment}),s.jsx(Ge,{children:"Rotate all Stripe keys for this environment"})]}),s.jsx(F,{children:s.jsxs(B,{onClick:()=>d(v.environment),disabled:o===v.environment,variant:v.environment==="production"?"destructive":"default",className:"w-full",children:[o===v.environment?s.jsx(Yt,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(Gh,{className:"h-4 w-4 mr-2"}),"Rotate Keys"]})})]},v.environment))})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(B,{onClick:u,variant:"outline",children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Refresh Status"]})})]})}function rq(){const[e,t]=b.useState(null),[r,n]=b.useState(!1),[a,i]=b.useState([]),[o,l]=b.useState(null),c=async()=>{n(!0);try{const{data:d,error:h}=await I.functions.invoke("vercel-credentials-detector");if(h)throw h;t(d)}catch(d){console.error("Failed to detect credentials:",d)}finally{n(!1)}},u=async d=>{n(!0);try{const{data:h,error:m}=await I.functions.invoke("sync-environment-variables",{body:{environment:d,variables:{STRIPE_SECRET_KEY:"sk_test_...",VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_..."}}});if(m)throw m;l(h)}catch(h){console.error("Sync failed:",h)}finally{n(!1)}},f=async()=>{n(!0);try{const d=await I.functions.invoke("validate-stripe-key",{body:{key:"sk_test_...",type:"secret",blockDeployment:!0}}),h=await I.functions.invoke("validate-stripe-key",{body:{key:"pk_test_...",type:"publishable",blockDeployment:!0}});console.log("Validation results:",{secretValidation:d,publishableValidation:h})}catch(d){console.error("Validation failed:",d)}finally{n(!1)}};return b.useEffect(()=>{c()},[]),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Vercel Integration"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage environment variables and deployments across all environments"})]}),s.jsxs(B,{onClick:c,disabled:r,children:[s.jsx(Yt,{className:`mr-2 h-4 w-4 ${r?"animate-spin":""}`}),"Refresh"]})]}),s.jsxs(ps,{defaultValue:"setup",className:"space-y-4",children:[s.jsxs(Wn,{children:[s.jsx(ye,{value:"setup",children:"Setup"}),s.jsx(ye,{value:"sync",children:"Environment Sync"}),s.jsx(ye,{value:"deployments",children:"Deployments"}),s.jsx(ye,{value:"validation",children:"Key Validation"})]}),s.jsx(Ne,{value:"setup",className:"space-y-4",children:s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsx(W,{children:"Vercel Credentials Status"}),s.jsx(Ge,{children:"Configure your Vercel integration credentials"})]}),s.jsx(F,{className:"space-y-4",children:e!=null&&e.user?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{className:"h-5 w-5 text-green-500"}),s.jsxs("span",{children:["Connected as ",e.user.name||e.user.email]})]}),e.teams&&e.teams.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Available Teams:"}),s.jsx("div",{className:"space-y-2",children:e.teams.map(d=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsx("span",{children:d.name}),s.jsx(ee,{variant:"outline",children:d.id})]},d.id))})]}),e.projects&&e.projects.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Available Projects:"}),s.jsx("div",{className:"space-y-2",children:e.projects.map(d=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsx("span",{children:d.name}),s.jsx(ee,{variant:"outline",children:d.id})]},d.id))})]})]}):s.jsxs(Be,{children:[s.jsx(Pt,{className:"h-4 w-4"}),s.jsx(Fe,{children:"Vercel credentials not configured. Please add VERCEL_TOKEN, VERCEL_ORG_ID, and VERCEL_PROJECT_ID to your Supabase secrets."})]})})]})}),s.jsxs(Ne,{value:"sync",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsx(W,{children:"Development"}),s.jsx(Ge,{children:"Sync to development environment"})]}),s.jsx(F,{children:s.jsx(B,{onClick:()=>u("development"),disabled:r,className:"w-full",children:"Sync Development"})})]}),s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsx(W,{children:"Staging"}),s.jsx(Ge,{children:"Sync to staging environment"})]}),s.jsx(F,{children:s.jsx(B,{onClick:()=>u("preview"),disabled:r,className:"w-full",children:"Sync Staging"})})]}),s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsx(W,{children:"Production"}),s.jsx(Ge,{children:"Sync to production environment"})]}),s.jsx(F,{children:s.jsx(B,{onClick:()=>u("production"),disabled:r,className:"w-full",variant:"destructive",children:"Sync Production"})})]})]}),o&&s.jsxs(R,{children:[s.jsx(V,{children:s.jsx(W,{children:"Last Sync Result"})}),s.jsx(F,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[o.success?s.jsx($e,{className:"h-5 w-5 text-green-500"}):s.jsx(Vt,{className:"h-5 w-5 text-red-500"}),s.jsxs("span",{children:["Environment: ",o.environment]})]}),o.syncedVariables&&s.jsx("div",{children:s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Synced: ",o.syncedVariables.join(", ")]})}),o.deployment&&s.jsx("div",{children:s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Deployment: ",o.deployment.id]})})]})})]})]}),s.jsx(Ne,{value:"validation",className:"space-y-4",children:s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsx(W,{children:"Stripe Key Validation"}),s.jsx(Ge,{children:"Validate Stripe keys and block deployments if invalid"})]}),s.jsx(F,{children:s.jsx(B,{onClick:f,disabled:r,children:"Validate Keys"})})]})})]})]})}function nq(){const[e,t]=b.useState({totalUsers:0,totalRevenue:0,activeJobs:0,pendingApprovals:0}),[r,n]=b.useState(!1);b.useEffect(()=>{a(),i()},[]);const a=async()=>{var o;try{const[l,c,u,f]=await Promise.all([I.from("users").select("id",{count:"exact"}),I.from("jobs").select("id, status",{count:"exact"}).eq("status","active"),I.from("payments").select("amount, status").eq("status","completed"),I.from("landscapers").select("id, approved",{count:"exact"}).eq("approved",!1)]),d=((o=u.data)==null?void 0:o.reduce((h,m)=>h+(m.amount||0),0))||0;t({totalUsers:l.count||0,totalRevenue:d,activeJobs:c.count||0,pendingApprovals:f.count||0})}catch(l){console.error("Error loading stats:",l)}},i=async()=>{HS.isMonitoring()||await HS.startMonitoring(),n(!0)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-[#020b06] to-black text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 lg:py-16 space-y-8 sm:space-y-12 lg:space-y-16",children:[s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 sm:gap-6 flex-wrap",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-emerald-300 mb-1",children:"Admin Dashboard"}),s.jsx("p",{className:"text-sm sm:text-base text-emerald-300/70",children:"Manage your platform and monitor security"})]}),s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-shrink-0 flex-wrap",children:[s.jsx(mn,{className:`h-5 w-5 ${r?"text-green-500":"text-red-500"} flex-shrink-0`}),s.jsxs("span",{className:"text-sm sm:text-base text-gray-300 whitespace-nowrap",children:["Security Monitor: ",r?"Active":"Inactive"]})]})]})}),s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 lg:gap-8",children:[s.jsxs(R,{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl",children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-4 sm:p-6 lg:p-8",children:[s.jsx(W,{className:"text-sm font-medium text-white whitespace-nowrap",children:"Total Users"}),s.jsx(Dd,{className:"h-4 w-4 text-emerald-400 flex-shrink-0"})]}),s.jsx(F,{className:"p-4 sm:p-6 lg:p-8 pt-0",children:s.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-emerald-300",children:e.totalUsers})})]}),s.jsxs(R,{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl",children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-4 sm:p-6 lg:p-8",children:[s.jsx(W,{className:"text-sm font-medium text-white whitespace-nowrap",children:"Total Revenue"}),s.jsx(kr,{className:"h-4 w-4 text-emerald-400 flex-shrink-0"})]}),s.jsx(F,{className:"p-4 sm:p-6 lg:p-8 pt-0",children:s.jsxs("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-emerald-300",children:["$",e.totalRevenue]})})]}),s.jsxs(R,{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl",children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-4 sm:p-6 lg:p-8",children:[s.jsx(W,{className:"text-sm font-medium text-white whitespace-nowrap",children:"Active Jobs"}),s.jsx(vl,{className:"h-4 w-4 text-emerald-400 flex-shrink-0"})]}),s.jsx(F,{className:"p-4 sm:p-6 lg:p-8 pt-0",children:s.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-emerald-300",children:e.activeJobs})})]}),s.jsxs(R,{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl",children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-4 sm:p-6 lg:p-8",children:[s.jsx(W,{className:"text-sm font-medium text-white whitespace-nowrap",children:"Pending Approvals"}),s.jsx(Pt,{className:"h-4 w-4 text-yellow-400 flex-shrink-0"})]}),s.jsx(F,{className:"p-4 sm:p-6 lg:p-8 pt-0",children:s.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-yellow-300",children:e.pendingApprovals})})]})]})}),s.jsx("div",{className:"w-full",children:s.jsxs(ps,{defaultValue:"overview",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Wn,{className:"flex flex-wrap sm:grid sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-9 w-full bg-black/60 backdrop-blur border border-emerald-500/25 p-1 gap-1 overflow-x-auto",children:[s.jsx(ye,{value:"overview",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Overview"}),s.jsx(ye,{value:"security",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Security"}),s.jsx(ye,{value:"users",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Users"}),s.jsx(ye,{value:"payments",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Payments"}),s.jsx(ye,{value:"stripe-prod",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Stripe"}),s.jsx(ye,{value:"system",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"System"}),s.jsx(ye,{value:"stripe",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Keys"}),s.jsx(ye,{value:"env-vars",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Environment"}),s.jsx(ye,{value:"vercel",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Vercel"})]})}),s.jsx(Ne,{value:"overview",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 lg:gap-10",children:[s.jsx("div",{className:"w-full",children:s.jsx(XS,{})}),s.jsx("div",{className:"w-full",children:s.jsx(eq,{})})]})}),s.jsx(Ne,{value:"security",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(JS,{})}),s.jsx(Ne,{value:"users",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(XS,{})}),s.jsx(Ne,{value:"payments",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx("div",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl p-4 sm:p-6 lg:p-8 text-center",children:s.jsx("p",{className:"text-base sm:text-lg text-gray-300",children:"Payment monitoring dashboard will be available soon"})})}),s.jsx(Ne,{value:"stripe-prod",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(BW,{})}),s.jsx(Ne,{value:"system",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(JS,{})}),s.jsx(Ne,{value:"stripe",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(UW,{})}),s.jsx(Ne,{value:"env-vars",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(tq,{})}),s.jsx(Ne,{value:"vercel",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(rq,{})})]})})]})})}const Wd=({size:e="md",color:t="primary",className:r})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},a={primary:"text-emerald-500",white:"text-white",gray:"text-gray-400"};return s.jsx("div",{className:me("inline-block animate-spin",n[e],a[t],r),children:s.jsxs("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},sq=({loading:e,children:t,loadingText:r="Loading...",className:n})=>s.jsxs("div",{className:me("flex items-center justify-center space-x-2",n),children:[e&&s.jsx(Wd,{size:"sm",color:"white"}),s.jsx("span",{children:e?r:t})]});function aq(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[a,i]=b.useState(!1),[o,l]=b.useState(""),[c,u]=b.useState(""),f=Te(),{role:d}=gt(),h=async m=>{var v;m.preventDefault(),i(!0),l(""),u("");try{const{data:p,error:x}=await I.auth.signInWithPassword({email:e,password:r});if(x)throw x;if(!p.user)throw new Error("Authentication failed");const g=(v=p.user.user_metadata)==null?void 0:v.role;u("Login successful! Redirecting..."),setTimeout(async()=>{const{dashboardRouter:y}=await qs(async()=>{const{dashboardRouter:w}=await Promise.resolve().then(()=>fq);return{dashboardRouter:w}},void 0);await y.navigateToRoleDashboard(f)},1500)}catch(p){l(p.message||"Login failed")}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-emerald-500/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-emerald-400/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),s.jsxs("div",{className:"w-full max-w-md relative z-10",children:[s.jsxs(dt,{to:"/get-started",className:"inline-flex items-center text-emerald-400 hover:text-emerald-300 mb-8 transition-colors",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 mb-4 shadow-2xl shadow-emerald-500/50",children:s.jsx(Ar,{className:"w-8 h-8 text-black"})}),s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-emerald-400 to-emerald-300 bg-clip-text text-transparent mb-2",children:"Client Sign In"}),s.jsx("p",{className:"text-gray-300",children:"Access your luxury landscaping account."})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur-xl border border-emerald-500/30 rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4 duration-300",children:[o&&s.jsx(Be,{className:"mb-6 border-red-500/50 bg-red-900/30",children:s.jsx(Fe,{className:"text-red-300",children:o})}),c&&s.jsx(Be,{className:"mb-6 border-emerald-500/50 bg-emerald-900/30",children:s.jsx(Fe,{className:"text-emerald-300",children:c})}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsx(re,{type:"email",value:e,onChange:m=>t(m.target.value),placeholder:"Email Address",className:"bg-black/50 text-white border-emerald-500/30 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/50 h-12 rounded-xl",required:!0}),s.jsx(re,{type:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Password",className:"bg-black/50 text-white border-emerald-500/30 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/50 h-12 rounded-xl",required:!0}),s.jsx(B,{type:"submit",disabled:a,className:"w-full h-12 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 hover:shadow-[0_0_30px_rgba(16,185,129,0.6)] text-black font-bold rounded-xl transition-all duration-300",children:a?s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wd,{size:"sm",className:"mr-2"}),"Processing..."]}):"Sign In"})]}),s.jsxs("div",{className:"mt-6 text-center space-y-3",children:[s.jsx(dt,{to:"/forgot-password",className:"text-emerald-400 hover:text-emerald-300 text-sm transition-colors block w-full",children:"Forgot your password?"}),s.jsxs("div",{className:"text-gray-300 text-sm",children:["Don't have an account?"," ",s.jsx(dt,{to:"/client-signup",className:"text-emerald-400 hover:text-emerald-300 font-medium",children:"Sign up"})]})]})]})]})]})}async function iq(e){const t={timestamp:new Date().toISOString(),email:e,checks:{},fixes:{},recommendations:[]};try{if(e){const{data:a,error:i}=await I.auth.admin.getUserByEmail(e);t.checks.userExists={found:!!a,error:i==null?void 0:i.message,emailConfirmed:!!(a!=null&&a.email_confirmed_at),createdAt:a==null?void 0:a.created_at},a&&!a.email_confirmed_at&&t.recommendations.push("User exists but email not confirmed - try resending verification")}const{data:r,error:n}=await I.from("email_logs").select("*").eq("recipient_email",e||"").order("sent_at",{ascending:!1}).limit(5);if(t.checks.recentAttempts={found:(r==null?void 0:r.length)||0,logs:r,error:n==null?void 0:n.message},e)try{const{error:a}=await I.auth.resend({type:"signup",email:e});t.fixes.resendAttempt={success:!a,error:a==null?void 0:a.message},a||t.recommendations.push("Verification email resent successfully")}catch(a){t.fixes.resendAttempt={success:!1,error:a.message}}e||t.recommendations.push("Provide email address for detailed diagnostic"),t.recommendations.push("Check spam/junk folder for verification emails"),t.recommendations.push("Ensure email address is correct and accessible")}catch(r){t.recommendations.push(`Diagnostic error: ${r.message}`)}return t}async function oq(e){try{const{data:t,error:r}=await I.auth.admin.getUserByEmail(e);if(r||!t)return{success:!1,error:"User not found"};const{error:n}=await I.auth.admin.updateUserById(t.id,{email_confirm:!0});return n?{success:!1,error:n.message}:{success:!0}}catch(t){return{success:!1,error:t.message}}}function lq({email:e,onSuccess:t}){const[r,n]=b.useState(!1),[a,i]=b.useState(null),[o,l]=b.useState(null),c=async()=>{var f,d;n(!0),l(null);try{const h=await iq(e);i(h),(f=h.fixes.resendAttempt)!=null&&f.success?l({type:"success",text:"Verification email sent successfully!"}):(d=h.fixes.resendAttempt)!=null&&d.error&&l({type:"error",text:h.fixes.resendAttempt.error})}catch(h){l({type:"error",text:h.message})}finally{n(!1)}},u=async()=>{n(!0),l(null);try{const f=await oq(e);f.success?(l({type:"success",text:"Email confirmed successfully!"}),t==null||t()):l({type:"error",text:f.error||"Failed to confirm email"})}catch(f){l({type:"error",text:f.message})}finally{n(!1)}};return s.jsxs(R,{className:"bg-black/60 border-emerald-500/30",children:[s.jsx(V,{children:s.jsxs(W,{className:"text-emerald-400 flex items-center",children:[s.jsx(Ln,{className:"w-5 h-5 mr-2"}),"Email Verification Helper"]})}),s.jsxs(F,{className:"space-y-4",children:[o&&s.jsx(Be,{className:`border-${o.type==="success"?"emerald":"red"}-500/50 bg-${o.type==="success"?"emerald":"red"}-900/30`,children:s.jsx(Fe,{className:`text-${o.type==="success"?"emerald":"red"}-300`,children:o.text})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{onClick:c,disabled:r,className:"w-full bg-emerald-600 hover:bg-emerald-700",children:[r?s.jsx(Yt,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Ln,{className:"w-4 h-4 mr-2"}),"Resend Verification Email"]}),s.jsxs(B,{onClick:u,disabled:r,variant:"outline",className:"w-full border-emerald-500/30 text-emerald-400 hover:bg-emerald-900/30",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Force Email Confirmation (Dev)"]})]}),a&&s.jsxs("div",{className:"mt-4 p-3 bg-gray-900/50 rounded-lg text-xs",children:[s.jsx("h4",{className:"text-emerald-400 font-semibold mb-2",children:"Diagnostic Results:"}),a.checks.userExists&&s.jsxs("div",{className:"mb-2",children:[s.jsx("span",{className:"text-gray-400",children:"User Status: "}),s.jsx("span",{className:a.checks.userExists.found?"text-green-400":"text-red-400",children:a.checks.userExists.found?"Found":"Not Found"}),a.checks.userExists.emailConfirmed!==void 0&&s.jsxs("span",{className:`ml-2 ${a.checks.userExists.emailConfirmed?"text-green-400":"text-yellow-400"}`,children:["(",a.checks.userExists.emailConfirmed?"Confirmed":"Unconfirmed",")"]})]}),a.recommendations.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Recommendations:"}),s.jsx("ul",{className:"mt-1 ml-4 list-disc text-gray-300",children:a.recommendations.map((f,d)=>s.jsx("li",{children:f},d))})]})]})]})]})}function cq(){const[e,t]=b.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:""}),[r,n]=b.useState(!1),[a,i]=b.useState(!1),[o,l]=b.useState(!1),[c,u]=b.useState(""),[f,d]=b.useState(""),[h,m]=b.useState(!1),[v,p]=b.useState(!1),x=Te(),g=S=>{t(j=>({...j,[S.target.name]:S.target.value}))},y=async S=>{var j,N,_,E;if(S.preventDefault(),l(!0),u(""),d(""),e.password!==e.confirmPassword){u("Passwords do not match"),l(!1);return}try{const{data:k,error:A}=await I.auth.signUp({email:e.email,password:e.password,options:{data:{first_name:e.firstName,last_name:e.lastName,phone:e.phone,role:"client"}}});if(A)throw A;k.user&&!k.session?d("Account created! Please check your email to verify your account before signing in."):(d("Account created successfully! Redirecting..."),setTimeout(()=>{x("/client-dashboard")},1500))}catch(k){(j=k.message)!=null&&j.includes("already registered")?u("This email is already registered"):(N=k.message)!=null&&N.includes("Password should be")?u("Password must be at least 6 characters"):(_=k.message)!=null&&_.includes("network")||(E=k.message)!=null&&E.includes("fetch")?u("Network error, try again"):u(k.message||"Sign up failed. Please try again.")}finally{l(!1)}},w=async()=>{p(!0);try{await I.auth.resend({type:"signup",email:e.email}),d("Verification email resent! Check your inbox.")}catch{u("Failed to resend email. Please try again.")}finally{p(!1)}};return s.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-emerald-500/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-emerald-400/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),s.jsxs("div",{className:"w-full max-w-md relative z-10",children:[s.jsxs(dt,{to:"/get-started",className:"inline-flex items-center text-emerald-400 hover:text-emerald-300 mb-8 transition-colors",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 mb-4 shadow-2xl shadow-emerald-500/50",children:s.jsx(Ar,{className:"w-8 h-8 text-black"})}),s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-emerald-400 to-emerald-300 bg-clip-text text-transparent mb-2",children:"Create Client Account"}),s.jsx("p",{className:"text-gray-300",children:"Join our luxury landscaping platform."})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur-xl border border-emerald-500/30 rounded-2xl p-8 shadow-2xl",children:[c&&s.jsx(Be,{className:"mb-6 border-red-500/50 bg-red-900/30",children:s.jsx(Fe,{className:"text-red-300",children:c})}),f&&s.jsx(Be,{className:"mb-6 border-emerald-500/50 bg-emerald-900/30",children:s.jsxs(Fe,{className:"text-emerald-300",children:[f,f.includes("Account created")&&e.email&&s.jsx("div",{className:"mt-2",children:s.jsxs("span",{className:"text-gray-400 text-sm",children:["Didn't get the email?"," ",s.jsx("button",{onClick:w,disabled:v,className:"text-emerald-400 hover:text-emerald-300 underline disabled:opacity-50",children:v?"Resending...":"Resend verification"})]})})]})}),s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(re,{type:"text",name:"firstName",value:e.firstName,onChange:g,placeholder:"First Name",className:"bg-black/50 text-white border-emerald-500/30 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/50 h-12 rounded-xl",required:!0}),s.jsx(re,{type:"text",name:"lastName",value:e.lastName,onChange:g,placeholder:"Last Name",className:"bg-black/50 text-white border-emerald-500/30 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/50 h-12 rounded-xl",required:!0})]}),s.jsx(re,{type:"email",name:"email",value:e.email,onChange:g,placeholder:"Email Address",className:"bg-black/50 text-white border-emerald-500/30 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/50 h-12 rounded-xl",required:!0}),s.jsx(re,{type:"tel",name:"phone",value:e.phone,onChange:g,placeholder:"Phone Number",className:"bg-black/50 text-white border-emerald-500/30 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/50 h-12 rounded-xl",required:!0}),s.jsxs("div",{children:[s.jsx(re,{type:"password",name:"password",value:e.password,onChange:g,placeholder:"Password",className:"bg-black/50 text-white border-emerald-500/30 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/50 h-12 rounded-xl",required:!0}),e.password&&s.jsxs("div",{className:"mt-1 text-xs text-gray-400",children:["Password strength: ",e.password.length>=8?"Strong":"Weak"]})]}),s.jsx(re,{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:g,placeholder:"Confirm Password",className:"bg-black/50 text-white border-emerald-500/30 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/50 h-12 rounded-xl",required:!0}),s.jsx(B,{type:"submit",disabled:o,className:"w-full h-12 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 hover:shadow-[0_0_30px_rgba(16,185,129,0.6)] text-black font-bold rounded-xl mt-6 transition-all duration-300",children:o?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-black border-t-transparent mr-2"}),"Processing..."]}):"Create Account"})]}),f.includes("Account created")&&e.email&&s.jsx("div",{className:"mt-6",children:s.jsx(lq,{email:e.email,onSuccess:()=>{d("Email verified successfully! You can now sign in."),setTimeout(()=>x("/client-login"),2e3)}})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("div",{className:"text-gray-300 text-sm",children:["Already have an account?"," ",s.jsx(dt,{to:"/client-login",className:"text-emerald-400 hover:text-emerald-300 font-medium",children:"Sign in"})]})})]})]})]})}function ZS(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[a,i]=b.useState(!1),[o,l]=b.useState(""),[c,u]=b.useState(""),f=Te(),d=async h=>{var m,v,p,x;h.preventDefault(),i(!0),l(""),u("");try{const{data:g,error:y}=await I.auth.signInWithPassword({email:e,password:r});if(y)throw y;if(!g.user)throw new Error("Authentication failed");u("Login successful! Redirecting..."),setTimeout(()=>{f("/landscaper-dashboard")},1500)}catch(g){console.error("Login error:",g),(m=g.message)!=null&&m.includes("Invalid login credentials")?l("Invalid email or password"):(v=g.message)!=null&&v.includes("Email not confirmed")?l("Please check your email and confirm your account"):(p=g.message)!=null&&p.includes("network")||(x=g.message)!=null&&x.includes("fetch")?l("Network error, try again"):l(g.message||"Login failed. Please try again.")}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-emerald-500/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-emerald-400/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),s.jsxs("div",{className:"w-full max-w-md relative z-10 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[s.jsxs(dt,{to:"/get-started",className:"inline-flex items-center text-emerald-400 hover:text-emerald-300 mb-8 transition-colors",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 mb-4 shadow-2xl shadow-emerald-500/50",children:s.jsx(Li,{className:"w-8 h-8 text-black"})}),s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-emerald-400 to-emerald-300 bg-clip-text text-transparent mb-2",children:"Professional Sign In"}),s.jsx("p",{className:"text-gray-300",children:"Access your landscaper dashboard."})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur-xl border border-emerald-500/30 rounded-2xl p-8 shadow-2xl",children:[o&&s.jsx(Be,{className:"mb-6 border-red-500/50 bg-red-900/30",children:s.jsx(Fe,{className:"text-red-300",children:o})}),c&&s.jsx(Be,{className:"mb-6 border-emerald-500/50 bg-emerald-900/30",children:s.jsx(Fe,{className:"text-emerald-300",children:c})}),s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsx(re,{type:"email",value:e,onChange:h=>t(h.target.value),placeholder:"Email Address",className:"bg-black/50 text-white border-emerald-500/30 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/50 h-12 rounded-xl",required:!0}),s.jsx(re,{type:"password",value:r,onChange:h=>n(h.target.value),placeholder:"Password",className:"bg-black/50 text-white border-emerald-500/30 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/50 h-12 rounded-xl",required:!0}),s.jsx(B,{type:"submit",disabled:a,className:"w-full h-12 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 hover:shadow-[0_0_30px_rgba(16,185,129,0.6)] text-black font-bold rounded-xl transition-all duration-300",children:a?s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wd,{size:"sm",className:"mr-2"}),"Processing..."]}):"Sign In"})]}),s.jsxs("div",{className:"mt-6 text-center space-y-3",children:[s.jsx(dt,{to:"/forgot-password",className:"text-emerald-400 hover:text-emerald-300 text-sm transition-colors block",children:"Forgot your password?"}),s.jsxs("div",{className:"text-gray-300 text-sm",children:["Don't have an account?"," ",s.jsx(dt,{to:"/pro-signup",className:"text-emerald-400 hover:text-emerald-300 font-medium",children:"Sign up"})]})]})]})]})]})}const uq=({password:e})=>{const t=n=>{let a=0;return n.length>=8&&a++,/[A-Z]/.test(n)&&a++,/[a-z]/.test(n)&&a++,/[0-9]/.test(n)&&a++,a<=1?{level:"weak",color:"bg-red-500",text:"Weak"}:a<=3?{level:"medium",color:"bg-yellow-500",text:"Medium"}:{level:"strong",color:"bg-emerald-500",text:"Strong"}};if(!e)return null;const r=t(e);return s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 h-2 bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${r.color} transition-all duration-300`,style:{width:r.level==="weak"?"33%":r.level==="medium"?"66%":"100%",filter:r.level==="strong"?"drop-shadow(0 0 4px rgba(16, 185, 129, 0.5))":"none"}})}),s.jsx("span",{className:`text-xs font-medium ${r.level==="weak"?"text-red-400":r.level==="medium"?"text-yellow-400":"text-emerald-400"}`,children:r.text})]})})};function QS(){const[e,t]=b.useState({firstName:"",lastName:"",email:"",phone:"",company:"",password:"",confirmPassword:""}),[r,n]=b.useState(!1),[a,i]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(!1),f=Te(),d=v=>{t(p=>({...p,[v.target.name]:v.target.value}))},h=async v=>{var p,x,g,y;if(v.preventDefault(),n(!0),i(""),l(""),e.password!==e.confirmPassword){i("Passwords do not match"),n(!1);return}try{const{data:w,error:S}=await I.auth.signUp({email:e.email,password:e.password,options:{data:{first_name:e.firstName,last_name:e.lastName,phone:e.phone,company:e.company,role:"landscaper"}}});if(S)throw S;w.user&&!w.session?l("Account created! Please check your email to verify your account before signing in."):(l("Account created successfully! Redirecting..."),setTimeout(()=>{f("/landscaper-dashboard")},1500))}catch(w){console.error("Sign up error:",w),(p=w.message)!=null&&p.includes("already registered")?i("This email is already registered"):(x=w.message)!=null&&x.includes("Password should be")?i("Password must be at least 6 characters"):(g=w.message)!=null&&g.includes("network")||(y=w.message)!=null&&y.includes("fetch")?i("Network error, try again"):i(w.message||"Sign up failed. Please try again.")}finally{n(!1)}},m=async()=>{u(!0);try{await I.auth.resend({type:"signup",email:e.email}),l("Verification email resent! Check your inbox.")}catch{i("Failed to resend email. Please try again.")}finally{u(!1)}};return s.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-emerald-500/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-emerald-400/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),s.jsxs("div",{className:"w-full max-w-md relative z-10",children:[s.jsxs(dt,{to:"/get-started",className:"inline-flex items-center text-emerald-400 hover:text-emerald-300 mb-8 transition-colors",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 mb-4 shadow-2xl shadow-emerald-500/50",children:s.jsx(Li,{className:"w-8 h-8 text-black"})}),s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-emerald-400 to-emerald-300 bg-clip-text text-transparent mb-2",children:"Create Professional Account"}),s.jsx("p",{className:"text-gray-300",children:"Start your landscaping business with us."})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur-xl border border-emerald-500/30 rounded-2xl p-8 shadow-2xl",children:[a&&s.jsx(Be,{className:"mb-6 border-red-500/50 bg-red-900/30",children:s.jsx(Fe,{className:"text-red-300",children:a})}),o&&s.jsx(Be,{className:"mb-6 border-emerald-500/50 bg-emerald-900/30",children:s.jsxs(Fe,{className:"text-emerald-300",children:[o,o.includes("Account created")&&e.email&&s.jsx("div",{className:"mt-2",children:s.jsxs("span",{className:"text-gray-400 text-sm",children:["Didn't get the email?"," ",s.jsx("button",{onClick:m,disabled:c,className:"text-emerald-400 hover:text-emerald-300 underline disabled:opacity-50",children:c?"Resending...":"Resend verification"})]})})]})}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(re,{type:"text",name:"firstName",value:e.firstName,onChange:d,placeholder:"First Name",className:"bg-black/50 text-white border-emerald-500/30 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/50 h-12 rounded-xl",required:!0}),s.jsx(re,{type:"text",name:"lastName",value:e.lastName,onChange:d,placeholder:"Last Name",className:"bg-black/50 text-white border-emerald-500/30 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/50 h-12 rounded-xl",required:!0})]}),s.jsx(re,{type:"email",name:"email",value:e.email,onChange:d,placeholder:"Email Address",className:"bg-black/50 text-white border-emerald-500/30 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/50 h-12 rounded-xl",required:!0}),s.jsx(re,{type:"tel",name:"phone",value:e.phone,onChange:d,placeholder:"Phone Number",className:"bg-black/50 text-white border-emerald-500/30 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/50 h-12 rounded-xl",required:!0}),s.jsx(re,{type:"text",name:"company",value:e.company,onChange:d,placeholder:"Company Name",className:"bg-black/50 text-white border-emerald-500/30 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/50 h-12 rounded-xl",required:!0}),s.jsxs("div",{children:[s.jsx(re,{type:"password",name:"password",value:e.password,onChange:d,placeholder:"Password",className:"bg-black/50 text-white border-emerald-500/30 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/50 h-12 rounded-xl",required:!0}),s.jsx(uq,{password:e.password})]}),s.jsx(re,{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:d,placeholder:"Confirm Password",className:"bg-black/50 text-white border-emerald-500/30 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/50 h-12 rounded-xl",required:!0}),s.jsx(B,{type:"submit",disabled:r,className:"w-full h-12 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 hover:shadow-[0_0_30px_rgba(16,185,129,0.6)] text-black font-bold rounded-xl mt-6 transition-all duration-300",children:r?s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wd,{size:"sm",className:"mr-2"}),"Processing..."]}):"Create Professional Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("div",{className:"text-gray-300 text-sm",children:["Already have an account?"," ",s.jsx(dt,{to:"/pro-login",className:"text-emerald-400 hover:text-emerald-300 font-medium",children:"Sign in"})]})})]})]})]})}async function dq(e){var i,o;const{data:t,error:r}=await I.auth.getUser();if(r||!(t!=null&&t.user))throw new Error("Not signed in");const{data:n,error:a}=await I.rpc("ensure_user_and_client",{p_user_id:t.user.id,p_email:e.email,p_first_name:((i=e.first_name)==null?void 0:i.trim())||"",p_last_name:((o=e.last_name)==null?void 0:o.trim())||"",p_phone:e.phone||null});if(a)throw console.error("RPC error:",a),a;return n}function e_({userType:e="client",defaultTab:t="login",onBack:r,showBackButton:n=!0}){Te();const[a]=YC(),[i,o]=b.useState(a.get("tab")||t),[l,c]=b.useState(!1),[u,f]=b.useState(!1),[d,h]=b.useState(""),[m,v]=b.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:""}),p=S=>{v(j=>({...j,[S.target.name]:S.target.value}))},x=async S=>{S.preventDefault(),f(!0),h("");try{if(i==="login"){const{data:j,error:N}=await I.auth.signInWithPassword({email:m.email,password:m.password});if(N)throw N;h("Login successful! Redirecting...")}else if(i==="signup"){if(m.password!==m.confirmPassword)throw new Error("Passwords do not match");const{data:j,error:N}=await I.auth.signUp({email:m.email,password:m.password,options:{data:{role:e}}});if(N)throw N;j.user&&e==="client"&&await dq({first_name:m.firstName,last_name:m.lastName,email:m.email,phone:m.phone}),h("Please check your email to verify your account")}else if(i==="reset"){const{error:j}=await I.auth.resetPasswordForEmail(m.email);if(j)throw j;h("Password reset email sent")}}catch(j){h(j.message||"Operation failed")}finally{f(!1)}},y={client:{title:"Client Portal",icon:Dd,description:"Book luxury landscaping services"},landscaper:{title:"Professional Portal",icon:Li,description:"Manage your landscaping business"},admin:{title:"Admin Portal",icon:mn,description:"System administration"}}[e],w=y.icon;return s.jsxs("div",{className:"min-h-screen bg-black relative",children:[s.jsx(pn,{}),s.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[n&&r&&s.jsxs(B,{onClick:r,variant:"ghost",className:"mb-6 text-emerald-400 hover:text-emerald-300",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 rounded-full bg-emerald-500/20 border border-emerald-500/30",children:s.jsx(w,{className:"w-8 h-8 text-emerald-400"})})}),s.jsx("h1",{className:"text-3xl font-bold text-emerald-400 mb-2",children:y.title}),s.jsx("p",{className:"text-gray-300",children:y.description})]}),s.jsxs(R,{className:"bg-gray-900/80 border-emerald-500/30 backdrop-blur-sm",children:[s.jsx(V,{children:s.jsxs(ps,{value:i,onValueChange:o,children:[s.jsxs(Wn,{className:"grid w-full grid-cols-3 bg-gray-800/50",children:[s.jsx(ye,{value:"login",children:"Login"}),s.jsx(ye,{value:"signup",children:"Sign Up"}),s.jsx(ye,{value:"reset",children:"Reset"})]}),s.jsx(Ne,{value:"login",children:s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsx(re,{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:p,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsxs("div",{className:"relative",children:[s.jsx(re,{type:l?"text":"password",name:"password",placeholder:"Password",value:m.password,onChange:p,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white pr-10"}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-emerald-400",children:l?s.jsx(T8,{className:"w-5 h-5"}):s.jsx(Cw,{className:"w-5 h-5"})})]}),s.jsx(B,{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-400 text-black font-semibold",children:u?"Signing In...":"Sign In"})]})}),s.jsx(Ne,{value:"signup",children:s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(re,{type:"text",name:"firstName",placeholder:"First Name",value:m.firstName,onChange:p,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsx(re,{type:"text",name:"lastName",placeholder:"Last Name",value:m.lastName,onChange:p,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"})]}),s.jsx(re,{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:p,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsx(re,{type:"tel",name:"phone",placeholder:"Phone Number",value:m.phone,onChange:p,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsx(re,{type:"password",name:"password",placeholder:"Password",value:m.password,onChange:p,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsx(re,{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:m.confirmPassword,onChange:p,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsx(B,{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-400 text-black font-semibold",children:u?"Creating Account...":"Create Account"})]})}),s.jsx(Ne,{value:"reset",children:s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsx(re,{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:p,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsx(B,{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-400 text-black font-semibold",children:u?"Sending...":"Send Reset Email"})]})})]})}),d&&s.jsx(F,{children:s.jsx("p",{className:`text-sm ${d.includes("sent")||d.includes("check")?"text-emerald-400":"text-red-400"}`,children:d})})]})]})})]})}const pi=class pi{constructor(){Me(this,"roleCache",new Map);Me(this,"CACHE_DURATION",5*60*1e3)}static getInstance(){return pi.instance||(pi.instance=new pi),pi.instance}async getUserRoleInfo(){var t;try{const{data:{user:r},error:n}=await I.auth.getUser();if(n)return console.error(" Auth error in getUserRoleInfo:",n),{role:null,isAuthenticated:!1,loading:!1,error:n.message};if(!r)return{role:null,isAuthenticated:!1,loading:!1};const a=this.roleCache.get(r.id);if(a&&Date.now()-a.timestamp<this.CACHE_DURATION)return console.log(" Using cached role:",a.role),{role:a.role,isAuthenticated:!0,loading:!1};const i=(t=r.user_metadata)==null?void 0:t.role;if(i&&["client","landscaper","admin"].includes(i))return console.log(" Got role from metadata:",i),this.cacheRole(r.id,i),{role:i,isAuthenticated:!0,loading:!1};console.log(" Querying database for role...");const{data:o,error:l}=await I.from("users").select("role").eq("id",r.id).single();if(l){console.error(" Database error fetching role:",l);const u="client";return this.cacheRole(r.id,u),{role:u,isAuthenticated:!0,loading:!1,error:l.message}}const c=(o==null?void 0:o.role)||"client";return console.log(" Got role from database:",c),this.cacheRole(r.id,c),{role:c,isAuthenticated:!0,loading:!1}}catch(r){return console.error(" Exception in getUserRoleInfo:",r),{role:null,isAuthenticated:!1,loading:!1,error:String(r)}}}cacheRole(t,r){this.roleCache.set(t,{role:r,timestamp:Date.now()})}clearRoleCache(t){t?this.roleCache.delete(t):this.roleCache.clear()}getDashboardRoute(t){return{admin:"/admin-dashboard",landscaper:"/landscaper-dashboard",client:"/client-dashboard"}[t]||"/client-dashboard"}async navigateToRoleDashboard(t,r={}){const{replace:n=!0,fallbackRoute:a="/login",onLoading:i,onError:o}=r;try{i&&i();const l=await this.getUserRoleInfo();if(l.loading){console.log(" Role still loading, waiting...");return}if(!l.isAuthenticated){console.log(" User not authenticated, redirecting to login"),t(a,{replace:n});return}l.error&&o&&o(l.error);const c=this.getDashboardRoute(l.role||"client");console.log(" Navigating to dashboard:",c),t(c,{replace:n})}catch(l){console.error(" Exception in navigateToRoleDashboard:",l),o&&o(String(l)),t(a,{replace:n})}}async hasRouteAccess(t){const r=await this.getUserRoleInfo();if(!r.isAuthenticated)return!1;const n=r.role,a={"/admin-dashboard":["admin"],"/admin":["admin"],"/landscaper-dashboard":["landscaper"],"/pro-dashboard":["landscaper"],"/client-dashboard":["client"],"/dashboard":["client"]};for(const[i,o]of Object.entries(a))if(t.startsWith(i))return o.includes(n||"");return!0}async handleGenericDashboardRedirect(t,r){["/dashboard","/"].some(a=>t===a)&&(console.log(" Generic dashboard route detected, auto-redirecting..."),await this.navigateToRoleDashboard(r))}};Me(pi,"instance");let im=pi;const xu=im.getInstance(),fq=Object.freeze(Object.defineProperty({__proto__:null,IntelligentDashboardRouter:im,dashboardRouter:xu},Symbol.toStringTag,{value:"Module"}));function ct({children:e,requiredRole:t}){const{user:r,role:n,loading:a}=gt();qt();const i=Te();if(b.useEffect(()=>{!a&&r&&n&&t&&n!==t&&(console.log(` Role mismatch detected. User role: ${n}, Required: ${t}`),xu.navigateToRoleDashboard(i,{replace:!0}))},[a,r,n,t,i]),a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-black to-gray-900",role:"status","aria-label":"Loading authentication",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400"})});if(!r){const o=t==="admin"?"/admin-login":t==="landscaper"?"/pro-login":"/client-login";return s.jsx(Ao,{to:o,replace:!0})}return n?t&&n!==t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-black to-gray-900",children:s.jsxs("div",{className:"text-center text-white max-w-md mx-auto px-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Redirecting..."}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Taking you to your dashboard"}),s.jsxs("p",{className:"text-sm text-gray-400",children:["Your role: ",n]})]})}):s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-black to-gray-900",role:"status","aria-label":"Loading user role",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400"})})}function $I(){const[e,t]=b.useState(!1),[r,n]=b.useState(!1),[a,i]=b.useState("portrait");return b.useEffect(()=>{const o=()=>{const l=window.innerWidth,c=window.innerHeight;t(l<768),n(l>=768&&l<1024),i(c>l?"portrait":"landscape")};return o(),window.addEventListener("resize",o),window.addEventListener("orientationchange",o),()=>{window.removeEventListener("resize",o),window.removeEventListener("orientationchange",o)}},[]),{isMobile:e,isTablet:r,orientation:a,isDesktop:!e&&!r}}function hq(){const[e,t]=b.useState([]),[r,n]=b.useState(0),[a,i]=b.useState(!1),[o,l]=b.useState(!1),{user:c}=gt();b.useEffect(()=>{c&&(u(),f())},[c]);const u=async()=>{if(!c)return;l(!0);const{data:v,error:p}=await I.from("notifications").select("id, type, title, message, data, read, created_at, user_id").eq("user_id",c.id).order("created_at",{ascending:!1}).limit(50);!p&&v&&(t(v),n(v.filter(x=>!x.read).length)),l(!1)},f=()=>{if(!c)return;const v=I.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${c.id}`},p=>{t(x=>[p.new,...x]),n(x=>x+1)}).subscribe();return()=>{v.unsubscribe()}},d=async v=>{await I.from("notifications").update({read:!0}).eq("id",v),t(p=>p.map(x=>x.id===v?{...x,read:!0}:x)),n(p=>Math.max(0,p-1))},h=async()=>{c&&(await I.from("notifications").update({read:!0}).eq("user_id",c.id).eq("read",!1),t(v=>v.map(p=>({...p,read:!0}))),n(0))},m=v=>{switch(v){case"payout_success":return s.jsx(kr,{className:"h-4 w-4 text-green-600"});case"payout_failed":return s.jsx(Pt,{className:"h-4 w-4 text-red-600"});case"payout_processing":return s.jsx(Pr,{className:"h-4 w-4 text-blue-600"});default:return s.jsx(Rn,{className:"h-4 w-4 text-gray-600"})}};return s.jsxs("div",{className:"relative",children:[s.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>i(!a),className:"relative",children:[s.jsx(Rn,{className:"h-5 w-5"}),r>0&&s.jsx(ee,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 text-xs",children:r>99?"99+":r})]}),a&&s.jsxs(R,{className:"absolute right-0 top-12 w-96 max-h-96 overflow-y-auto z-50 shadow-lg",children:[s.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold",children:"Notifications"}),s.jsxs("div",{className:"flex gap-2",children:[r>0&&s.jsx(B,{variant:"ghost",size:"sm",onClick:h,className:"text-xs",children:"Mark all read"}),s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>i(!1),children:s.jsx(Hs,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto",children:o?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading..."}):e.length===0?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications yet"}):e.map(v=>{var p;return s.jsx("div",{className:`p-3 border-b hover:bg-gray-50 cursor-pointer ${v.read?"":"bg-blue-50"}`,onClick:()=>!v.read&&d(v.id),children:s.jsxs("div",{className:"flex items-start gap-3",children:[m(v.type),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-sm",children:v.title}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:v.message}),((p=v.data)==null?void 0:p.amount)&&s.jsxs("p",{className:"text-xs text-green-600 font-medium mt-1",children:["Amount: $",v.data.amount]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(v.created_at).toLocaleString()})]}),!v.read&&s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-1"})]})},v.id)})})]})]})}const RI=b.createContext(null),Yp=()=>{const e=b.useContext(RI);if(!e)throw new Error("useWebSocket must be used within WebSocketProvider");return e},MI=({children:e,url:t="wss://your-websocket-endpoint.com"})=>{const[r,n]=b.useState(!1),[a,i]=b.useState("disconnected"),[o,l]=b.useState(null),c=b.useRef(null),u=b.useRef(new Map),f=b.useRef(),d=b.useRef(0),h=5,m=()=>{var g;if(((g=c.current)==null?void 0:g.readyState)!==WebSocket.OPEN){i("connecting");try{c.current=new WebSocket(t),c.current.onopen=()=>{n(!0),i("connected"),d.current=0,console.log("WebSocket connected")},c.current.onmessage=y=>{try{const w=JSON.parse(y.data);l(w);const S=u.current.get(w.type);S&&S.forEach(j=>j(w.data))}catch(w){console.error("Error parsing WebSocket message:",w)}},c.current.onclose=()=>{if(n(!1),i("disconnected"),console.log("WebSocket disconnected"),d.current<h){const y=Math.pow(2,d.current)*1e3;f.current=setTimeout(()=>{d.current++,m()},y)}},c.current.onerror=y=>{i("error"),console.error("WebSocket error:",y)}}catch(y){i("error"),console.error("Failed to create WebSocket connection:",y)}}},v=g=>{var y;if(((y=c.current)==null?void 0:y.readyState)===WebSocket.OPEN){const w=JSON.parse(JSON.stringify(g));c.current.send(JSON.stringify(w))}else console.warn("WebSocket not connected, message not sent:",g)},p=(g,y)=>(u.current.has(g)||u.current.set(g,new Set),u.current.get(g).add(y),()=>{const w=u.current.get(g);w&&(w.delete(y),w.size===0&&u.current.delete(g))});b.useEffect(()=>(m(),()=>{f.current&&clearTimeout(f.current),c.current&&c.current.close()}),[t]);const x={isConnected:r,connectionStatus:a,lastMessage:o,sendMessage:v,subscribe:p};return s.jsx(RI.Provider,{value:x,children:e})},gj=()=>{const{isConnected:e,connectionStatus:t,subscribe:r}=Yp(),[n,a]=b.useState([]),[i,o]=b.useState([{channel:"slack",status:"online",lastActivity:new Date().toISOString(),successRate:98.5,avgDeliveryTime:1.2},{channel:"email",status:"online",lastActivity:new Date().toISOString(),successRate:99.1,avgDeliveryTime:2.8},{channel:"sms",status:"degraded",lastActivity:new Date().toISOString(),successRate:94.2,avgDeliveryTime:5.1}]);b.useEffect(()=>{const u=r("notification_event",d=>{a(h=>[d,...h.slice(0,49)])}),f=r("channel_status",d=>{o(h=>h.map(m=>m.channel===d.channel?{...m,...d}:m))});return()=>{u(),f()}},[r]);const l=()=>{switch(t){case"connected":return s.jsx(Ap,{className:"h-4 w-4 text-green-500"});case"connecting":return s.jsx(Pr,{className:"h-4 w-4 text-yellow-500"});case"error":return s.jsx(fr,{className:"h-4 w-4 text-red-500"});default:return s.jsx(pO,{className:"h-4 w-4 text-gray-500"})}},c=u=>{switch(u){case"online":case"success":return"default";case"degraded":case"pending":return"secondary";case"offline":case"failed":return"destructive";default:return"outline"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsx(V,{className:"pb-3",children:s.jsxs(W,{className:"flex flex-col sm:flex-row sm:items-center gap-2 text-sm sm:text-base",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l(),s.jsx("span",{className:"whitespace-nowrap",children:"Real-time Connection Status"})]}),s.jsx(ee,{variant:e?"default":"destructive",className:"w-fit",children:t})]})}),s.jsx(F,{children:s.jsx("p",{className:"text-sm text-muted-foreground break-words",children:e?"Connected to real-time notification stream":"Attempting to connect to notification stream..."})})]}),s.jsxs(R,{children:[s.jsx(V,{children:s.jsx(W,{children:"Live Channel Status"})}),s.jsx(F,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map(u=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium capitalize",children:u.channel}),s.jsx(ee,{variant:c(u.status),children:u.status})]}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{children:["Success Rate: ",u.successRate,"%"]}),s.jsxs("div",{children:["Avg Delivery: ",u.avgDeliveryTime,"s"]}),s.jsxs("div",{children:["Last Activity: ",new Date(u.lastActivity).toLocaleTimeString()]})]})]},u.channel))})})]}),s.jsxs(R,{children:[s.jsx(V,{children:s.jsx(W,{children:"Live Event Stream"})}),s.jsx(F,{children:s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:n.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No recent events. Events will appear here in real-time."}):n.map(u=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0",children:u.status==="success"?s.jsx($e,{className:"h-4 w-4 text-green-500"}):u.status==="failed"?s.jsx(fr,{className:"h-4 w-4 text-red-500"}):s.jsx(Pr,{className:"h-4 w-4 text-yellow-500"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ee,{variant:"outline",className:"text-xs",children:u.channel}),s.jsx(ee,{variant:c(u.status),className:"text-xs",children:u.type})]}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:u.message})]}),s.jsx("div",{className:"flex-shrink-0 text-xs text-muted-foreground",children:new Date(u.timestamp).toLocaleTimeString()})]},u.id))})})]})]})};function mq({type:e,userName:t,showNotifications:r=!0,showBackButton:n=!1,variant:a="modern"}){const[i,o]=b.useState(!1),l=Te(),{isMobile:c}=$I(),u=async()=>{try{console.log(`${e} logout initiated`),await Hw(I,e==="client"?"/client-login":"/")}catch(d){console.error(`${e} logout error:`,d),window.location.href=e==="client"?"/client-login":"/"}},f=()=>{const d=window.location.pathname;d.includes("/client/")?l("/client/dashboard"):d.includes("/landscaper")?l("/landscaper-dashboard"):d.includes("/admin")?l("/admin"):l("/")};return a==="classic"?s.jsxs(s.Fragment,{children:[s.jsx(gj,{}),s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e==="admin"?"Admin Dashboard":"Dashboard"}),s.jsxs("p",{className:"text-gray-600",children:["Welcome back",t?`, ${t}`:"","! Here's your overview."]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[r&&s.jsx(hq,{}),s.jsxs(B,{onClick:u,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(XN,{className:"w-4 h-4"}),"Logout"]})]})]})})})]}):s.jsxs(R,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl ring-1 ring-green-500/20 shadow-[0_0_45px_-20px_rgba(34,197,94,0.35)] mb-6 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/5 via-transparent to-green-500/5 animate-pulse"}),s.jsx("div",{className:`${c?"p-4":"p-6"} relative`,children:s.jsxs("div",{className:`flex ${c?"flex-col space-y-4":"justify-between items-center"}`,children:[s.jsxs("div",{className:c?"text-center":"",children:[s.jsxs("h1",{className:`${c?"text-2xl":"text-3xl md:text-4xl"} font-semibold mb-2 leading-tight`,children:[s.jsx("span",{className:"text-white",children:"Welcome back,"}),!c&&s.jsx("br",{className:"md:hidden"}),s.jsx("span",{className:`text-green-400 font-extrabold tracking-tight drop-shadow-[0_0_15px_rgba(34,197,94,0.5)] ${c?"block mt-1":"ml-2 md:ml-3"}`,children:t||"User"})]}),s.jsxs("p",{className:`text-gray-400 ${c?"text-sm":"text-base"}`,children:["Your luxury ",e," dashboard"]})]}),s.jsxs("div",{className:`flex items-center ${c?"justify-between":"gap-4"}`,children:[s.jsxs("div",{className:`${c?"text-left":"text-right"}`,children:[s.jsx("div",{className:`${c?"text-lg":"text-2xl"} font-bold text-green-400 drop-shadow-[0_0_8px_rgba(34,197,94,0.4)]`,children:c?"GreenScape":"GreenScape Lux"}),s.jsx("div",{className:`${c?"text-xs":"text-sm"} text-gray-400`,children:c?"Premium":"Premium Services"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[n&&s.jsx(B,{variant:"ghost",size:"sm",onClick:f,className:"p-2 rounded-full hover:bg-green-900/20",children:s.jsx(mr,{className:`${c?"w-4 h-4":"w-5 h-5"} text-green-400`})}),r&&s.jsxs("div",{className:"relative",children:[s.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>o(!i),className:"relative p-2 rounded-full hover:bg-green-900/20",children:[s.jsx(Rn,{className:`${c?"w-4 h-4":"w-5 h-5"} text-green-400`}),s.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),i&&s.jsxs("div",{className:`absolute ${c?"right-0 w-72":"right-0 w-80"} top-12 bg-black/90 border border-green-500/25 rounded-xl shadow-[0_0_25px_rgba(34,197,94,0.3)] z-50 max-h-96 overflow-hidden`,children:[s.jsx("div",{className:"p-4 border-b border-green-500/20",children:s.jsx("h3",{className:"text-green-300 font-semibold text-sm",children:"Recent Updates"})}),s.jsx("div",{className:"max-h-64 overflow-y-auto p-4 space-y-3",children:s.jsxs("div",{className:"p-3 bg-green-900/20 rounded-lg",children:[s.jsx("p",{className:"text-white text-xs",children:"System notification"}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Just now"})]})})]})]}),s.jsxs(B,{onClick:u,size:c?"sm":"default",className:"rounded-full bg-green-600 hover:bg-green-500 shadow-[0_0_20px_rgba(34,197,94,0.3)] hover:shadow-[0_0_25px_rgba(34,197,94,0.4)] transition-all duration-300",children:[s.jsx(XN,{className:`${c?"w-3 h-3 mr-1":"w-4 h-4 mr-2"}`}),c?"Out":"Logout"]})]})]})]})})]})}function ba({title:e,value:t,subtitle:r,icon:n,trend:a,variant:i="default"}){const o={default:"bg-black/60 border-gray-500/25",green:"bg-black/60 border-green-500/25 ring-green-500/20",blue:"bg-black/60 border-blue-500/25 ring-blue-500/20",yellow:"bg-black/60 border-yellow-500/25 ring-yellow-500/20"};return s.jsxs(R,{className:`${o[i]} backdrop-blur rounded-2xl ring-1 shadow-lg`,children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium text-gray-300",children:e}),s.jsx("div",{className:"text-green-400",children:n})]}),s.jsxs(F,{children:[s.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:typeof t=="number"?t.toLocaleString():t}),r&&s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:r}),a&&s.jsxs("div",{className:`flex items-center text-xs ${a.isPositive?"text-green-400":"text-red-400"}`,children:[s.jsx(us,{className:`w-3 h-3 mr-1 ${a.isPositive?"":"rotate-180"}`}),a.isPositive?"+":"",a.value,"% from last period"]})]})]})}function DI(e){const{user:t}=gt(),[r,n]=b.useState({totalJobs:0,activeJobs:0,completedJobs:0,totalEarnings:0,monthlyEarnings:0,pendingPayments:0,rating:0,totalReviews:0}),[a,i]=b.useState([]),[o,l]=b.useState([]),[c,u]=b.useState(!0),[f,d]=b.useState(null);b.useEffect(()=>{t&&h()},[t,e]);const h=async()=>{try{u(!0),d(null),e==="client"?await m():e==="landscaper"?await v():e==="admin"&&await p()}catch(g){console.error("Error fetching dashboard data:",g),d("Failed to load dashboard data")}finally{u(!1)}},m=async()=>{if(!t)return;const{data:g}=await I.from("clients").select("id").eq("user_id",t.id).single();if(!g)return;const{data:y}=await I.from("jobs").select(`
        id, service_name, service_type, service_address, status, created_at, preferred_date, price
      `).eq("client_id",g.id).order("created_at",{ascending:!1}).limit(10);if(y){const w=y.length,S=y.filter(N=>["pending","quoted","accepted","in_progress"].includes(N.status)).length,j=y.filter(N=>N.status==="completed").length;n(N=>({...N,totalJobs:w,activeJobs:S,completedJobs:j})),i(y.map(N=>({id:N.id,service_name:N.service_name,service_type:N.service_type,status:N.status,created_at:N.created_at,preferred_date:N.preferred_date,service_address:N.service_address,price:N.price})))}},v=async()=>{if(!t)return;const{data:g}=await I.from("landscapers").select("id, rating, total_reviews").eq("user_id",t.id).single();if(!g)return;const{data:y}=await I.from("jobs").select(`
        id, service_name, service_type, service_address, status, created_at, preferred_date, price, customer_name
      `).eq("landscaper_id",g.id).order("created_at",{ascending:!1}).limit(10),{data:w}=await I.from("payments").select("amount, status, created_at").eq("landscaper_id",g.id);if(y){const S=y.length,j=y.filter(_=>["accepted","in_progress"].includes(_.status)).length,N=y.filter(_=>_.status==="completed").length;i(y.map(_=>({id:_.id,service_name:_.service_name,service_type:_.service_type,status:_.status,created_at:_.created_at,preferred_date:_.preferred_date,service_address:_.service_address,customer_name:_.customer_name,price:_.price}))),n(_=>({..._,totalJobs:S,activeJobs:j,completedJobs:N,rating:g.rating||0,totalReviews:g.total_reviews||0}))}if(w){const S=w.filter(E=>E.status==="completed").reduce((E,k)=>E+(k.amount||0),0),j=new Date().getMonth(),N=w.filter(E=>E.status==="completed"&&new Date(E.created_at).getMonth()===j).reduce((E,k)=>E+(k.amount||0),0),_=w.filter(E=>E.status==="pending").reduce((E,k)=>E+(k.amount||0),0);n(E=>({...E,totalEarnings:S,monthlyEarnings:N,pendingPayments:_}))}},p=async()=>{const[{data:g},{data:y},{data:w}]=await Promise.all([I.from("jobs").select("id, status, created_at"),I.from("payments").select("amount, status, created_at"),I.from("landscapers").select("id, is_approved")]);if(g){const S=g.length,j=g.filter(_=>["pending","quoted","accepted","in_progress"].includes(_.status)).length,N=g.filter(_=>_.status==="completed").length;n(_=>({..._,totalJobs:S,activeJobs:j,completedJobs:N}))}if(y){const S=y.filter(j=>j.status==="completed").reduce((j,N)=>j+(N.amount||0),0);n(j=>({...j,totalEarnings:S}))}};return{stats:r,recentJobs:a,notifications:o,loading:c,error:f,refreshData:()=>{h()}}}function pq(){const{user:e}=gt(),{stats:t,loading:r,error:n}=DI("client");return r?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:Array.from({length:4},(a,i)=>s.jsxs("div",{className:"bg-black/60 backdrop-blur rounded-2xl p-6 animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-700 rounded mb-2"}),s.jsx("div",{className:"h-8 bg-gray-700 rounded mb-1"}),s.jsx("div",{className:"h-3 bg-gray-700 rounded w-3/4"})]},i))}):n?s.jsx("div",{className:"bg-red-900/20 border border-red-500/25 rounded-2xl p-6",children:s.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[s.jsx(fr,{className:"w-5 h-5"}),s.jsx("span",{children:"Failed to load dashboard stats"})]})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[s.jsx(ba,{title:"Total Requests",value:t.totalJobs,subtitle:"All service requests",icon:s.jsx(dr,{className:"w-5 h-5"}),variant:"blue"}),s.jsx(ba,{title:"Active Jobs",value:t.activeJobs,subtitle:"In progress or pending",icon:s.jsx(Pr,{className:"w-5 h-5"}),variant:"yellow",trend:{value:t.activeJobs>0?15:0,isPositive:!0}}),s.jsx(ba,{title:"Completed",value:t.completedJobs,subtitle:"Successfully finished",icon:s.jsx(kw,{className:"w-5 h-5"}),variant:"green",trend:{value:t.completedJobs>0?8:0,isPositive:!0}}),s.jsx(ba,{title:"Total Spent",value:`$${t.totalEarnings.toFixed(2)}`,subtitle:"Lifetime spending",icon:s.jsx(kr,{className:"w-5 h-5"}),variant:"default"})]})}var LI={exports:{}},gq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vq=gq,xq=vq;function UI(){}function BI(){}BI.resetWarningCache=UI;var yq=function(){function e(n,a,i,o,l,c){if(c!==xq){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:BI,resetWarningCache:UI};return r.PropTypes=r,r};LI.exports=yq();var bq=LI.exports;const ue=ze(bq);function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){FI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xh(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xh=function(t){return typeof t}:xh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xh(e)}function FI(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zI(e,t){return wq(e)||jq(e,t)||Nq(e,t)||Sq()}function wq(e){if(Array.isArray(e))return e}function jq(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var n=[],a=!0,i=!1,o,l;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw l}}return n}}function Nq(e,t){if(e){if(typeof e=="string")return n_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n_(e,t)}}function n_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ir=function(t,r,n){var a=!!n,i=P.useRef(n);P.useEffect(function(){i.current=n},[n]),P.useEffect(function(){if(!a||!t)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return t.on(r,o),function(){t.off(r,o)}},[a,r,t,i])},q0=function(t){var r=P.useRef(t);return P.useEffect(function(){r.current=t},[t]),r.current},jl=function(t){return t!==null&&xh(t)==="object"},_q=function(t){return jl(t)&&typeof t.then=="function"},Eq=function(t){return jl(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},s_="[object Object]",Pq=function e(t,r){if(!jl(t)||!jl(r))return t===r;var n=Array.isArray(t),a=Array.isArray(r);if(n!==a)return!1;var i=Object.prototype.toString.call(t)===s_,o=Object.prototype.toString.call(r)===s_;if(i!==o)return!1;if(!i&&!n)return t===r;var l=Object.keys(t),c=Object.keys(r);if(l.length!==c.length)return!1;for(var u={},f=0;f<l.length;f+=1)u[l[f]]=!0;for(var d=0;d<c.length;d+=1)u[c[d]]=!0;var h=Object.keys(u);if(h.length!==l.length)return!1;var m=t,v=r,p=function(g){return e(m[g],v[g])};return h.every(p)},VI=function(t,r,n){return jl(t)?Object.keys(t).reduce(function(a,i){var o=!jl(r)||!Pq(t[i],r[i]);return n.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):o?r_(r_({},a||{}),{},FI({},i,t[i])):a},null):null},WI="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",a_=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WI;if(t===null||Eq(t))return t;throw new Error(r)},kq=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WI;if(_q(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(a){return a_(a,r)})};var n=a_(t,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},Aq=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),t.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},Jp=P.createContext(null);Jp.displayName="ElementsContext";var qI=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},KI=function(t){var r=t.stripe,n=t.options,a=t.children,i=P.useMemo(function(){return kq(r)},[r]),o=P.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),l=zI(o,2),c=l[0],u=l[1];P.useEffect(function(){var h=!0,m=function(p){u(function(x){return x.stripe?x:{stripe:p,elements:p.elements(n)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(v){v&&h&&m(v)}):i.tag==="sync"&&!c.stripe&&m(i.stripe),function(){h=!1}},[i,c,n]);var f=q0(r);P.useEffect(function(){f!==null&&f!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[f,r]);var d=q0(n);return P.useEffect(function(){if(c.elements){var h=VI(n,d,["clientSecret","fonts"]);h&&c.elements.update(h)}},[n,d,c.elements]),P.useEffect(function(){Aq(c.stripe)},[c.stripe]),P.createElement(Jp.Provider,{value:c},a)};KI.propTypes={stripe:ue.any,options:ue.object};var Cq=function(t){var r=P.useContext(Jp);return qI(r,t)},Oq=function(){var t=Cq("calls useElements()"),r=t.elements;return r};ue.func.isRequired;var HI=P.createContext(null);HI.displayName="CustomCheckoutSdkContext";var Tq=function(t,r){if(!t)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CustomCheckoutProvider> provider."));return t},Iq=P.createContext(null);Iq.displayName="CustomCheckoutContext";ue.any,ue.shape({clientSecret:ue.string.isRequired,elementsOptions:ue.object}).isRequired;var K0=function(t){var r=P.useContext(HI),n=P.useContext(Jp);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CustomCheckoutProvider> and <Elements> providers."));return r?Tq(r,t):qI(n,t)},$q=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},At=function(t,r){var n="".concat($q(t),"Element"),a=function(c){var u=c.id,f=c.className,d=c.options,h=d===void 0?{}:d,m=c.onBlur,v=c.onFocus,p=c.onReady,x=c.onChange,g=c.onEscape,y=c.onClick,w=c.onLoadError,S=c.onLoaderStart,j=c.onNetworksChange,N=c.onConfirm,_=c.onCancel,E=c.onShippingAddressChange,k=c.onShippingRateChange,A=K0("mounts <".concat(n,">")),O="elements"in A?A.elements:null,C="customCheckoutSdk"in A?A.customCheckoutSdk:null,M=P.useState(null),U=zI(M,2),L=U[0],D=U[1],z=P.useRef(null),T=P.useRef(null);Ir(L,"blur",m),Ir(L,"focus",v),Ir(L,"escape",g),Ir(L,"click",y),Ir(L,"loaderror",w),Ir(L,"loaderstart",S),Ir(L,"networkschange",j),Ir(L,"confirm",N),Ir(L,"cancel",_),Ir(L,"shippingaddresschange",E),Ir(L,"shippingratechange",k),Ir(L,"change",x);var $;p&&(t==="expressCheckout"?$=p:$=function(){p(L)}),Ir(L,"ready",$),P.useLayoutEffect(function(){if(z.current===null&&T.current!==null&&(O||C)){var Y=null;C?Y=C.createElement(t,h):O&&(Y=O.create(t,h)),z.current=Y,D(Y),Y&&Y.mount(T.current)}},[O,C,h]);var K=q0(h);return P.useEffect(function(){if(z.current){var Y=VI(h,K,["paymentRequest"]);Y&&"update"in z.current&&z.current.update(Y)}},[h,K]),P.useLayoutEffect(function(){return function(){if(z.current&&typeof z.current.destroy=="function")try{z.current.destroy(),z.current=null}catch{}}},[]),P.createElement("div",{id:u,className:f,ref:T})},i=function(c){K0("mounts <".concat(n,">"));var u=c.id,f=c.className;return P.createElement("div",{id:u,className:f})},o=r?i:a;return o.propTypes={id:ue.string,className:ue.string,onChange:ue.func,onBlur:ue.func,onFocus:ue.func,onReady:ue.func,onEscape:ue.func,onClick:ue.func,onLoadError:ue.func,onLoaderStart:ue.func,onNetworksChange:ue.func,onConfirm:ue.func,onCancel:ue.func,onShippingAddressChange:ue.func,onShippingRateChange:ue.func,options:ue.object},o.displayName=n,o.__elementType=t,o},Ct=typeof window>"u",Rq=P.createContext(null);Rq.displayName="EmbeddedCheckoutProviderContext";var Mq=function(){var t=K0("calls useStripe()"),r=t.stripe;return r};At("auBankAccount",Ct);var i_=At("card",Ct);At("cardNumber",Ct);At("cardExpiry",Ct);At("cardCvc",Ct);At("fpxBank",Ct);At("iban",Ct);At("idealBank",Ct);At("p24Bank",Ct);At("epsBank",Ct);At("payment",Ct);At("expressCheckout",Ct);At("currencySelector",Ct);At("paymentRequestButton",Ct);At("linkAuthentication",Ct);At("address",Ct);At("shippingAddress",Ct);At("paymentMethodMessaging",Ct);At("affirmMessage",Ct);At("afterpayClearpayMessage",Ct);var GI="https://js.stripe.com/v3",Dq=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var Lq=function(){for(var t=document.querySelectorAll('script[src^="'.concat(GI,'"]')),r=0;r<t.length;r++){var n=t[r];if(Dq.test(n.src))return n}return null},o_=function(t){var r="",n=document.createElement("script");n.src="".concat(GI).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},Uq=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"4.6.0",startTime:r})},Dc=null,Tf=null,If=null,Bq=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},Fq=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},zq=function(t){return Dc!==null?Dc:(Dc=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var a=Lq();if(!(a&&t)){if(!a)a=o_(t);else if(a&&If!==null&&Tf!==null){var i;a.removeEventListener("load",If),a.removeEventListener("error",Tf),(i=a.parentNode)===null||i===void 0||i.removeChild(a),a=o_(t)}}If=Fq(r,n),Tf=Bq(n),a.addEventListener("load",If),a.addEventListener("error",Tf)}catch(o){n(o);return}}),Dc.catch(function(r){return Dc=null,Promise.reject(r)}))},Vq=function(t,r,n){if(t===null)return null;var a=t.apply(void 0,r);return Uq(a,n),a},Lc,YI=!1,JI=function(){return Lc||(Lc=zq(null).catch(function(t){return Lc=null,Promise.reject(t)}),Lc)};Promise.resolve().then(function(){return JI()}).catch(function(e){YI||console.warn(e)});var XI=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];YI=!0;var a=Date.now();return JI().then(function(i){return Vq(i,r,a)})};const Wq=Object.freeze(Object.defineProperty({__proto__:null,loadStripe:XI},Symbol.toStringTag,{value:"Module"}));console.log("Supabase URL loaded:","https://mwvcbedvnimabfwubazz.supabase.co");console.log("Stripe key present:",!0);De.debug("Stripe environment check",{NODE_ENV:void 0,hasStripeKey:!0},"StripeConfig");const H0="pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK";if(!H0.startsWith("pk_")){const e=`CRITICAL: Invalid Stripe key format. Expected pk_live_ or pk_test_, got: ${H0.substring(0,10)}...`;throw De.error(e,null,"StripeConfig"),new Error(e)}const qq=async()=>{try{return await XI(H0)}catch(e){throw De.error("Failed to load Stripe.js",e,"StripeConfig"),new Error("Failed to load Stripe.js")}},Kq=qq(),Hq={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},Gq=({onSuccess:e,onCancel:t})=>{const r=Mq(),n=Oq(),[a,i]=b.useState(!1),[o,l]=b.useState(null),{user:c}=gt(),{toast:u}=Gs(),f=async d=>{if(d.preventDefault(),!r||!n||!c)return;i(!0),l(null);const h=n.getElement(i_);if(!h){l("Card element not found"),i(!1);return}try{const{data:m}=await I.from("profiles").select("stripe_customer_id, email, first_name, last_name").eq("id",c.id).single();let v=m==null?void 0:m.stripe_customer_id;if(!v){const{data:y,error:w}=await I.functions.invoke("create-stripe-customer",{body:{userId:c.id,email:(m==null?void 0:m.email)||c.email,name:`${(m==null?void 0:m.first_name)||""} ${(m==null?void 0:m.last_name)||""}`.trim()}});if(w||!(y!=null&&y.success))throw new Error("Failed to create customer account");v=y.stripe_customer_id}const{error:p,paymentMethod:x}=await r.createPaymentMethod({type:"card",card:h,billing_details:{email:(m==null?void 0:m.email)||c.email,name:`${(m==null?void 0:m.first_name)||""} ${(m==null?void 0:m.last_name)||""}`.trim()}});if(p)throw new Error(p.message);const{error:g}=await I.functions.invoke("attach-payment-method",{body:{paymentMethodId:x.id,customerId:v}});if(g)throw new Error("Failed to save payment method");u({title:"Payment method added",description:"Your payment method has been saved successfully."}),e()}catch(m){l(m.message||"Failed to add payment method")}finally{i(!1)}};return s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsx(i_,{options:Hq})}),o&&s.jsxs(Be,{variant:"destructive",children:[s.jsx(fr,{className:"h-4 w-4"}),s.jsx(Fe,{children:o})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{type:"submit",disabled:!r||a,className:"flex-1",children:a?"Adding...":"Add Payment Method"}),s.jsx(B,{type:"button",variant:"outline",onClick:t,children:"Cancel"})]})]})},Yq=({onClose:e})=>{const[t,r]=b.useState([]),[n,a]=b.useState(!0),[i,o]=b.useState(!1),{user:l}=gt(),{toast:c}=Gs();b.useEffect(()=>{l&&u()},[l]);const u=async()=>{try{const{data:d}=await I.from("profiles").select("stripe_customer_id").eq("id",l==null?void 0:l.id).single();if(d!=null&&d.stripe_customer_id){const{data:h,error:m}=await I.functions.invoke("get-payment-methods",{body:{customerId:d.stripe_customer_id}});!m&&(h!=null&&h.paymentMethods)&&r(h.paymentMethods)}}catch(d){console.error("Failed to fetch payment methods:",d)}finally{a(!1)}},f=async d=>{try{const{error:h}=await I.functions.invoke("delete-payment-method",{body:{paymentMethodId:d}});if(h)throw new Error("Failed to delete payment method");c({title:"Payment method removed",description:"Your payment method has been deleted."}),u()}catch(h){c({title:"Error",description:h.message,variant:"destructive"})}};return s.jsxs(R,{className:"w-full max-w-2xl mx-auto",children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(Et,{className:"h-5 w-5"}),"Payment Methods"]})}),s.jsx(F,{children:n?s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-16 bg-gray-200 rounded"}),s.jsx("div",{className:"h-16 bg-gray-200 rounded"})]}):s.jsxs("div",{className:"space-y-4",children:[t.length===0&&!i&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Et,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No payment methods added yet"}),s.jsx(B,{onClick:()=>o(!0),children:"Add Your First Payment Method"})]}),t.map(d=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Et,{className:"h-5 w-5"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["   ",d.card.last4]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[d.card.brand.toUpperCase(),"  Expires ",d.card.exp_month,"/",d.card.exp_year]})]}),d.default&&s.jsx($e,{className:"h-4 w-4 text-green-500"})]}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>f(d.id),children:"Remove"})]},d.id)),i?s.jsx(KI,{stripe:Kq,children:s.jsx(Gq,{onSuccess:()=>{o(!1),u()},onCancel:()=>o(!1)})}):t.length>0&&s.jsx(B,{onClick:()=>o(!0),className:"w-full",children:"Add Another Payment Method"})]})})]})},ZI=({isOpen:e,onClose:t,onSuccess:r})=>{const{toast:n}=Gs(),a=()=>{n({title:"Payment method updated",description:"Your payment information has been saved successfully."}),r==null||r(),t()};return s.jsx(Vd,{open:e,onOpenChange:t,children:s.jsxs(cc,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(uc,{children:s.jsxs(dc,{className:"flex items-center gap-2",children:[s.jsx(Et,{className:"h-5 w-5"}),"Manage Payment Methods"]})}),s.jsx(Yq,{onClose:a})]})})},QI=()=>{var f;const[e,t]=b.useState(!1),[r,n]=b.useState(null),[a,i]=b.useState(!0),[o,l]=b.useState(null),{user:c}=gt();b.useEffect(()=>{c!=null&&c.id&&u()},[c==null?void 0:c.id]);const u=async()=>{try{i(!0),l(null);const{data:d,error:h}=await I.from("profiles").select("stripe_customer_id, email, first_name, last_name").eq("id",c==null?void 0:c.id).single();if(h)throw console.error("Profile fetch failed:",h),new Error("Failed to load user profile");let m=d==null?void 0:d.stripe_customer_id;if(!m){console.log("Creating Stripe customer for user:",c==null?void 0:c.id);const v={userId:c==null?void 0:c.id,email:(d==null?void 0:d.email)||(c==null?void 0:c.email),name:d!=null&&d.first_name&&(d!=null&&d.last_name)?`${d.first_name} ${d.last_name}`:(d==null?void 0:d.first_name)||(d==null?void 0:d.last_name)||"",firstName:(d==null?void 0:d.first_name)||"",lastName:(d==null?void 0:d.last_name)||""},{data:p,error:x}=await I.functions.invoke("create-stripe-customer",{body:v});if(x||!(p!=null&&p.success)){console.error("Failed to create Stripe customer:",x),n({totalSpent:0,nextPayment:0,paymentMethod:"Payment system ready"}),l(null),i(!1);return}m=p.stripe_customer_id}n({totalSpent:0,nextPayment:0,paymentMethod:"Ready for payments"})}catch(d){console.error("Payment summary error:",d),n({totalSpent:0,nextPayment:0,paymentMethod:"Payment system ready"}),l(null)}finally{i(!1)}};return a?s.jsxs(R,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Payment Summary"}),s.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(F,{children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-9 bg-gray-200 rounded"})]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs(R,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Payment Summary"}),s.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(F,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",((f=r==null?void 0:r.totalSpent)==null?void 0:f.toFixed(2))||"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Total spent this year"}),s.jsxs(B,{onClick:()=>t(!0),className:"w-full",size:"sm",children:[s.jsx(Et,{className:"mr-2 h-4 w-4"}),"Manage Payment"]})]})]}),e&&s.jsx(ZI,{isOpen:e,onClose:()=>t(!1)})]})},e5=()=>{const{user:e}=gt(),[t,r]=b.useState({percentage:0,items:[],completedCount:0,totalCount:5}),[n,a]=b.useState(!0),i=async()=>{var l;if(!e){r({percentage:0,items:[],completedCount:0,totalCount:5}),a(!1);return}try{a(!0);const{data:c}=await I.from("profiles").select("id, first_name, last_name, email, phone, address, stripe_customer_id").eq("id",e.id).single();let u=!1;if(c!=null&&c.stripe_customer_id)try{const{data:m}=await I.functions.invoke("list-payment-methods",{body:{customerId:c.stripe_customer_id}});u=(m==null?void 0:m.success)&&((l=m==null?void 0:m.payment_methods)==null?void 0:l.length)>0}catch(m){console.log("Could not check payment methods:",m),u=!1}const f=[{id:"email_verified",label:"Verified email",completed:!!e.email_confirmed_at},{id:"full_name",label:"First + Last name",completed:!!(c!=null&&c.first_name&&(c!=null&&c.last_name)),action:"edit_profile"},{id:"phone_number",label:"Phone number",completed:!!(c!=null&&c.phone),action:"edit_profile"},{id:"service_address",label:"Default service address",completed:!!(c!=null&&c.address),action:"add_address"},{id:"payment_method",label:"Saved payment method",completed:u,action:"add_payment"}],d=f.filter(m=>m.completed).length,h=Math.round(d/f.length*100);r({percentage:h,items:f,completedCount:d,totalCount:f.length})}catch(c){console.error("Error checking profile completion:",c),r({percentage:0,items:[],completedCount:0,totalCount:5})}finally{a(!1)}};return b.useEffect(()=>{i();const l=()=>{i()};return window.addEventListener("profileUpdated",l),()=>window.removeEventListener("profileUpdated",l)},[e]),{...t,loading:n,refresh:()=>{i()}}},t5=({onEditProfile:e,onAddAddress:t,onAddPayment:r})=>{const{percentage:n}=e5();return s.jsxs(R,{className:"bg-gray-900/50 border-gray-800",children:[s.jsx(V,{className:"pb-3",children:s.jsxs(W,{className:"text-sm text-white flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/20 flex items-center justify-center",children:s.jsx(Ar,{className:"h-3 w-3 text-emerald-400"})}),"My Profile"]})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500/20 flex items-center justify-center",children:s.jsx("span",{className:"text-emerald-400 font-medium text-sm",children:"C"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white font-medium",children:"Client"}),s.jsx("div",{className:"text-xs text-gray-400",children:"Premium Client"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-gray-400",children:"Profile Complete"}),s.jsxs("span",{className:"text-emerald-400 font-medium",children:[n,"%"]})]}),s.jsx(Ci,{value:n,className:"h-2 bg-gray-800","aria-label":`Profile completion: ${n}%`})]}),s.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 text-xs",children:[s.jsx($e,{className:"h-3 w-3"}),"Account Verified"]})]})]})},Jq=e=>{if(!e.trim())return{isValid:!1,error:"Phone number is required"};const t=/^[\+]?[1-9][\d]{0,15}$/,r=e.replace(/[\s\-\(\)]/g,"");return t.test(r)?{isValid:!0}:{isValid:!1,error:"Please enter a valid phone number"}},r5=(e,t,r)=>{if(t.required&&(!e||!e.trim()))return{isValid:!1,error:`${r} is required`};if(!e&&!t.required)return{isValid:!0};if(t.minLength&&e.length<t.minLength)return{isValid:!1,error:`${r} must be at least ${t.minLength} characters`};if(t.maxLength&&e.length>t.maxLength)return{isValid:!1,error:`${r} must be no more than ${t.maxLength} characters`};if(t.pattern&&!t.pattern.test(e))return{isValid:!1,error:`${r} format is invalid`};if(t.custom){const n=t.custom(e);if(n)return{isValid:!1,error:n}}return{isValid:!0}},Xq=(e,t)=>{const r={};return Object.entries(t).forEach(([n,a])=>{const i=e[n]||"",o=r5(i,a,n);!o.isValid&&o.error&&(r[n]=o.error)}),r},$f=({name:e,label:t,type:r="text",value:n,onChange:a,onBlur:i,placeholder:o,required:l=!1,disabled:c=!1,validationRules:u,error:f,touched:d=!1,showValidation:h=!0,className:m})=>{const[v,p]=b.useState(""),[x,g]=b.useState(null);b.useEffect(()=>{if(h&&d&&n!==void 0){const E=r5(n,u||{required:l},t);p(E.error||""),g(E.isValid)}},[n,d,l,u,t,h]);const y=f||v,w=d&&y,S=d&&x&&!y&&n.length>0,j=_=>{a(_.target.value)},N=me("transition-all duration-200",w&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",S&&"border-green-500 focus:border-green-500 focus:ring-green-500/20",!w&&!S&&"border-gray-300 dark:border-gray-600",m);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(de,{htmlFor:e,className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[t,l&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r==="textarea"?s.jsx("textarea",{id:e,name:e,value:n,onChange:j,onBlur:i,placeholder:o,disabled:c,required:l,rows:4,className:me("w-full px-3 py-2 text-sm bg-white dark:bg-gray-800 border rounded-full","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed","placeholder:text-gray-400 dark:placeholder:text-gray-500","text-gray-900 dark:text-gray-100",N)}):s.jsx(re,{id:e,name:e,type:r,value:n,onChange:j,onBlur:i,placeholder:o,disabled:c,required:l,className:N}),w&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsx("p",{className:"text-sm text-red-500",children:y})]}),S&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("p",{className:"text-sm text-green-500",children:"Valid"})]})]})},Zq=({initialValues:e,validationRules:t,onSubmit:r})=>{const[n,a]=b.useState(e),[i,o]=b.useState({}),[l,c]=b.useState({}),[u,f]=b.useState(!1),[d,h]=b.useState(null),m=b.useCallback(()=>{const j=Xq(n,t);return o(j),Object.keys(j).length===0},[n,t]),v=Object.keys(i).length===0&&Object.keys(l).length>0,p=b.useCallback((j,N)=>{a(_=>({..._,[j]:N})),d&&h(null)},[d]),x=b.useCallback((j,N=!0)=>{c(_=>({..._,[j]:N}))},[]),g=b.useCallback((j,N)=>{o(_=>({..._,[j]:N}))},[]),y=b.useCallback(()=>{o({}),h(null)},[]),w=b.useCallback(async j=>{j.preventDefault(),h(null);const N={};if(Object.keys(t).forEach(E=>{N[E]=!0}),c(N),!!m()){f(!0);try{await r(n)}catch(E){h(E.message||"An error occurred during submission")}finally{f(!1)}}},[n,t,m,r]),S=b.useCallback(()=>{a(e),o({}),c({}),f(!1),h(null)},[e]);return b.useEffect(()=>{Object.keys(l).length>0&&m()},[n,l,m]),{values:n,errors:i,touched:l,isSubmitting:u,isValid:v,submitError:d,setValue:p,setFieldTouched:x,setFieldError:g,clearErrors:y,handleSubmit:w,reset:S}};function Qq({initialData:e,onSave:t,onCancel:r}){const[n,a]=b.useState(!1),{values:i,errors:o,touched:l,isSubmitting:c,submitError:u,setValue:f,setFieldTouched:d,handleSubmit:h}=Zq({initialValues:{firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||"",address:e.address||""},validationRules:{firstName:{required:!0,minLength:2},lastName:{required:!0,minLength:2},phone:{required:!0,custom:m=>{const v=Jq(m);return v.isValid?null:v.error}},address:{required:!0,minLength:10}},onSubmit:async m=>{const{data:{user:v}}=await I.auth.getUser();if(!v)throw new Error("Not authenticated");const{error:p}=await I.from("profiles").update({first_name:m.firstName.trim(),last_name:m.lastName.trim(),phone:m.phone,address:m.address.trim()}).eq("id",v.id);if(p)throw p;a(!0),window.dispatchEvent(new CustomEvent("profileUpdated",{detail:m})),setTimeout(()=>{t(m)},1500)}});return s.jsx(R,{className:"bg-gray-900 border-gray-700",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"w-5 h-5 text-green-400"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Edit Profile"})]}),s.jsxs(B,{variant:"ghost",size:"sm",onClick:r,className:"text-gray-400 hover:text-white",children:[s.jsx(Hs,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}),u&&s.jsxs("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/25 rounded-lg flex items-center gap-2",children:[s.jsx(fr,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-red-400",children:u})]}),n&&s.jsxs("div",{className:"mb-4 p-3 bg-green-500/10 border border-green-500/25 rounded-lg flex items-center gap-2",children:[s.jsx($e,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-green-400",children:"Profile updated successfully!"})]}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx($f,{name:"firstName",label:"First Name",value:i.firstName,onChange:m=>f("firstName",m),onBlur:()=>d("firstName"),placeholder:"Enter first name",required:!0,error:o.firstName,touched:l.firstName,className:"bg-gray-800 border-gray-700 text-white"}),s.jsx($f,{name:"lastName",label:"Last Name",value:i.lastName,onChange:m=>f("lastName",m),onBlur:()=>d("lastName"),placeholder:"Enter last name",required:!0,error:o.lastName,touched:l.lastName,className:"bg-gray-800 border-gray-700 text-white"})]}),s.jsx($f,{name:"phone",label:"Phone Number",type:"tel",value:i.phone,onChange:m=>f("phone",m),onBlur:()=>d("phone"),placeholder:"(555) 123-4567",required:!0,error:o.phone,touched:l.phone,className:"bg-gray-800 border-gray-700 text-white"}),s.jsx($f,{name:"address",label:"Service Address",value:i.address,onChange:m=>f("address",m),onBlur:()=>d("address"),placeholder:"123 Main St, City, State 12345",required:!0,error:o.address,touched:l.address,className:"bg-gray-800 border-gray-700 text-white"}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(B,{type:"submit",disabled:c,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:s.jsxs(sq,{loading:c,loadingText:"Saving...",children:[s.jsx(dO,{className:"w-4 h-4 mr-2"}),"Save Changes"]})}),s.jsx(B,{type:"button",variant:"secondary",onClick:r,disabled:c,className:"bg-gray-700 hover:bg-gray-600 text-white",children:"Cancel"})]})]})]})})}const eK=()=>{const[e,t]=b.useState(!1),[r,n]=b.useState("default"),[a,i]=b.useState(null),[o,l]=b.useState({systemFailures:!0,highFailureRates:!0,channelDowntime:!0,performanceAlerts:!1,testNotifications:!0}),[c,u]=b.useState(!1);b.useEffect(()=>{t("serviceWorker"in navigator&&"PushManager"in window),"Notification"in window&&n(Notification.permission);const x=localStorage.getItem("notification-preferences");if(x)try{l(JSON.parse(x))}catch(g){console.error("Failed to parse notification preferences:",g)}f()},[]);const f=async()=>{if(e)try{const g=await(await navigator.serviceWorker.ready).pushManager.getSubscription();i(g)}catch(x){console.error("Failed to check existing subscription:",x)}},d=b.useCallback(async()=>{if(!e)throw new Error("Push notifications are not supported");const x=await Notification.requestPermission();return n(x),x},[e]),h=b.useCallback(async()=>{if(!e)throw new Error("Push notifications are not supported");u(!0);try{if(await d()!=="granted")throw new Error("Notification permission denied");const w=await(await navigator.serviceWorker.ready).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"BEl62iUYgUivxIkv69yViEuiBIa40HI0DLLuxazjqAKUrjqHrtfVJbNBhqoYVpZwMgLxqSGVaIaOfbrSgMaZHzs"});i(w);const S={endpoint:w.endpoint,keys:{p256dh:btoa(String.fromCharCode(...new Uint8Array(w.getKey("p256dh")))),auth:btoa(String.fromCharCode(...new Uint8Array(w.getKey("auth"))))}},{data:{user:j}}=await I.auth.getUser();return j&&(S.userId=j.id),await I.from("push_subscriptions").upsert({user_id:j==null?void 0:j.id,endpoint:S.endpoint,p256dh_key:S.keys.p256dh,auth_key:S.keys.auth,preferences:o}),w}catch(x){throw console.error("Failed to subscribe to push notifications:",x),x}finally{u(!1)}},[e,d,o]),m=b.useCallback(async()=>{if(a){u(!0);try{await a.unsubscribe(),i(null);const{data:{user:x}}=await I.auth.getUser();x&&await I.from("push_subscriptions").delete().eq("user_id",x.id)}catch(x){throw console.error("Failed to unsubscribe:",x),x}finally{u(!1)}}},[a]),v=b.useCallback(async x=>{if(l(x),localStorage.setItem("notification-preferences",JSON.stringify(x)),a){const{data:{user:g}}=await I.auth.getUser();g&&await I.from("push_subscriptions").update({preferences:x}).eq("user_id",g.id)}},[a]),p=b.useCallback(async()=>{if(!a)throw new Error("No active subscription");try{await I.functions.invoke("send-notification",{body:{type:"test",title:"Test Notification",body:"This is a test notification from the dashboard",priority:"normal",alertType:"test"}})}catch(x){throw console.error("Failed to send test notification:",x),x}},[a]);return{isSupported:e,permission:r,subscription:a,preferences:o,isLoading:c,requestPermission:d,subscribe:h,unsubscribe:m,updatePreferences:v,sendTestNotification:p,isSubscribed:!!a}},n5=()=>{const{isSupported:e,permission:t,preferences:r,isLoading:n,requestPermission:a,subscribe:i,unsubscribe:o,updatePreferences:l,sendTestNotification:c,isSubscribed:u}=eK(),{toast:f}=Gs(),d=async()=>{try{const g=await a();f(g==="granted"?{title:"Permission Granted",description:"You can now receive push notifications."}:{title:"Permission Denied",description:"Push notifications are disabled.",variant:"destructive"})}catch{f({title:"Error",description:"Failed to request notification permission.",variant:"destructive"})}},h=async()=>{try{await i(),f({title:"Subscribed",description:"You will now receive push notifications."})}catch{f({title:"Subscription Failed",description:"Failed to enable push notifications.",variant:"destructive"})}},m=async()=>{try{await o(),f({title:"Unsubscribed",description:"Push notifications have been disabled."})}catch{f({title:"Error",description:"Failed to disable push notifications.",variant:"destructive"})}},v=(g,y)=>{const w={...r,[g]:y};l(w)},p=async()=>{try{await c(),f({title:"Test Sent",description:"Check your notifications for the test alert."})}catch{f({title:"Test Failed",description:"Failed to send test notification.",variant:"destructive"})}},x=()=>{switch(t){case"granted":return s.jsxs(ee,{variant:"default",className:"bg-green-500",children:[s.jsx(Rn,{className:"w-3 h-3 mr-1"}),"Granted"]});case"denied":return s.jsxs(ee,{variant:"destructive",children:[s.jsx(bv,{className:"w-3 h-3 mr-1"}),"Denied"]});default:return s.jsxs(ee,{variant:"secondary",children:[s.jsx(ar,{className:"w-3 h-3 mr-1"}),"Not Set"]})}};return e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsxs(W,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rn,{className:"w-5 h-5"}),"Push Notifications"]}),x()]}),s.jsx(Ge,{children:"Configure browser push notifications for critical alerts when you're not viewing the dashboard."})]}),s.jsxs(F,{className:"space-y-4",children:[t==="default"&&s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Enable push notifications to receive critical alerts even when the dashboard is not open."}),s.jsxs(B,{onClick:d,disabled:n,children:[s.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Enable Notifications"]})]}),t==="denied"&&s.jsx("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:s.jsx("p",{className:"text-sm text-red-800",children:"Push notifications are blocked. Please enable them in your browser settings to receive alerts."})}),t==="granted"&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-800",children:u?"Active Subscription":"Ready to Subscribe"}),s.jsx("p",{className:"text-sm text-green-600",children:u?"You will receive push notifications for selected alert types.":"Click subscribe to start receiving notifications."})]}),s.jsx("div",{className:"flex gap-2",children:u?s.jsxs(s.Fragment,{children:[s.jsxs(B,{variant:"outline",onClick:p,disabled:n,children:[s.jsx(x0,{className:"w-4 h-4 mr-2"}),"Test"]}),s.jsxs(B,{variant:"destructive",onClick:m,disabled:n,children:[s.jsx(bv,{className:"w-4 h-4 mr-2"}),"Unsubscribe"]})]}):s.jsxs(B,{onClick:h,disabled:n,children:[s.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Subscribe"]})})]})})]})]}),u&&s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"w-5 h-5"}),"Alert Preferences"]}),s.jsx(Ge,{children:"Choose which types of alerts you want to receive as push notifications."})]}),s.jsx(F,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Pt,{className:"w-5 h-5 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"System Failures"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Critical system errors and outages"})]})]}),s.jsx(fi,{checked:r.systemFailures,onCheckedChange:g=>v("systemFailures",g)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(B8,{className:"w-5 h-5 text-orange-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"High Failure Rates"}),s.jsx("p",{className:"text-sm text-gray-600",children:"When delivery success rates drop significantly"})]})]}),s.jsx(fi,{checked:r.highFailureRates,onCheckedChange:g=>v("highFailureRates",g)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ap,{className:"w-5 h-5 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Channel Downtime"}),s.jsx("p",{className:"text-sm text-gray-600",children:"When notification channels go offline"})]})]}),s.jsx(fi,{checked:r.channelDowntime,onCheckedChange:g=>v("channelDowntime",g)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(vl,{className:"w-5 h-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Performance Alerts"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Slow response times and performance issues"})]})]}),s.jsx(fi,{checked:r.performanceAlerts,onCheckedChange:g=>v("performanceAlerts",g)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(x0,{className:"w-5 h-5 text-purple-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Test Notifications"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Allow manual test notifications"})]})]}),s.jsx(fi,{checked:r.testNotifications,onCheckedChange:g=>v("testNotifications",g)})]})]})})]})]}):s.jsx(R,{children:s.jsxs(V,{children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(bv,{className:"w-5 h-5"}),"Push Notifications"]}),s.jsx(Ge,{children:"Push notifications are not supported in this browser."})]})})};class tK{static async sendPayoutNotification(t){try{const{error:r}=await I.functions.invoke("send-payout-notification",{body:t});if(r)throw console.error("Failed to send payout notification:",r),r;return{success:!0}}catch(r){return console.error("Error in notification service:",r),{success:!1,error:r}}}static async sendPayoutSuccessNotification(t,r,n,a,i){return this.sendPayoutNotification({userId:t,email:r,type:"payout_success",title:"Payout Completed Successfully",message:`Your payout of $${n} has been processed and sent to your account.`,data:{payout_id:a,amount:n,stripe_transfer_id:i}})}static async sendPayoutFailedNotification(t,r,n,a,i){return this.sendPayoutNotification({userId:t,email:r,type:"payout_failed",title:"Payout Failed",message:`Your payout of $${n} could not be processed. Please check your payment details.`,data:{payout_id:a,amount:n,error_message:i}})}static async sendPayoutProcessingNotification(t,r,n,a){return this.sendPayoutNotification({userId:t,email:r,type:"payout_processing",title:"Payout Being Processed",message:`Your payout of $${n} is currently being processed and will arrive in 1-2 business days.`,data:{payout_id:a,amount:n}})}static async sendPayoutRetryNotification(t,r,n,a,i,o){return this.sendPayoutNotification({userId:t,email:r,type:"payout_retry",title:"Payout Retry Scheduled",message:`Your payout of $${n} failed but will be retried automatically on ${new Date(o).toLocaleDateString()}.`,data:{payout_id:a,amount:n,retry_count:i,next_retry:o}})}static async sendAdminPayoutAlert(t,r,n,a,i,o){const l={failed:"Payout Failed - Admin Attention Required",retry_exhausted:"Payout Retries Exhausted - Manual Intervention Needed"},c={failed:`Payout to ${n} ($${a}) has failed and requires admin review.`,retry_exhausted:`Payout to ${n} ($${a}) has exhausted all retry attempts and needs manual processing.`};return this.sendPayoutNotification({userId:t,email:r,type:"payout_failed",title:l[i],message:c[i],data:{payout_id:o,amount:a,landscaper_name:n}})}static async getRecentNotifications(t,r=10){try{const{data:n,error:a}=await I.from("notifications").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(r);if(a)throw a;return{data:n,error:null}}catch(n){return{data:null,error:n}}}static async markNotificationAsRead(t){try{const{error:r}=await I.from("notifications").update({read:!0,updated_at:new Date().toISOString()}).eq("id",t);return{success:!r,error:r}}catch(r){return{success:!1,error:r}}}static async getUnreadCount(t){try{const{count:r,error:n}=await I.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",t).eq("read",!1);return{count:r||0,error:n}}catch(r){return{count:0,error:r}}}}function rK({profile:e,onProfileUpdate:t}){const{user:r}=gt(),[n,a]=b.useState(e),i=async o=>{a({...n,...o}),r&&await tK.sendNotification({type:"profile_updated",userId:r.id,data:{name:o.firstName||"User"}}),t==null||t()};return s.jsxs(ps,{defaultValue:"profile",className:"w-full",children:[s.jsxs(Wn,{className:"grid w-full grid-cols-3 bg-black/60 border border-green-500/25",children:[s.jsxs(ye,{value:"profile",className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"w-4 h-4"}),"Profile"]}),s.jsxs(ye,{value:"preferences",className:"flex items-center gap-2",children:[s.jsx(Rn,{className:"w-4 h-4"}),"Notifications"]}),s.jsxs(ye,{value:"settings",className:"flex items-center gap-2",children:[s.jsx(ar,{className:"w-4 h-4"}),"Settings"]})]}),s.jsx(Ne,{value:"profile",className:"mt-6",children:s.jsxs(R,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl",children:[s.jsxs(V,{children:[s.jsxs(W,{className:"flex items-center gap-2 text-green-300",children:[s.jsx(Ar,{className:"w-5 h-5"}),"Profile Information"]}),s.jsx(Ge,{children:"Manage your personal information and service preferences"})]}),s.jsx(F,{children:s.jsx(Qq,{initialData:n,onSave:i,showCancel:!1})})]})}),s.jsx(Ne,{value:"preferences",className:"mt-6",children:s.jsx(n5,{})}),s.jsx(Ne,{value:"settings",className:"mt-6",children:s.jsxs(R,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl",children:[s.jsxs(V,{children:[s.jsxs(W,{className:"flex items-center gap-2 text-green-300",children:[s.jsx(ar,{className:"w-5 h-5"}),"Account Settings"]}),s.jsx(Ge,{children:"Manage your account preferences and security settings"})]}),s.jsx(F,{className:"space-y-4",children:s.jsxs("div",{className:"p-4 bg-green-500/10 rounded-lg border border-green-500/20",children:[s.jsx("h4",{className:"font-medium text-green-300 mb-2",children:"Email Notification System"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Automated emails are sent for profile updates, job assignments, completions, and appointment reminders."})]})})]})})]})}const s5=()=>{const e=Te(),{percentage:t,items:r,loading:n}=e5(),[a,i]=b.useState(!1),o=()=>i(!0),l=()=>i(!0),c=()=>e("/profile#payment"),u=h=>{switch(h){case"edit_profile":return o;case"add_address":return l;case"add_payment":return c;default:return()=>{}}},f=h=>{if(h.completed)return"Complete";switch(h.action){case"edit_profile":return h.id==="full_name"?"Add Name":"Add Phone";case"add_address":return"Add Address";case"add_payment":return"Add Payment Method";default:return"Complete"}},d=h=>{switch(h){case"full_name":return"Personalized service experience and faster booking";case"phone":return"Real-time updates and direct communication with your landscaper";case"address":return"Accurate service quotes and scheduling for your location";case"payment_method":return"Seamless checkout and priority booking access";default:return"Complete this step to enhance your service experience"}};return n?s.jsx(R,{className:"bg-gray-900/50 border-gray-800",children:s.jsx(F,{className:"p-4",children:s.jsxs("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-800 rounded w-3/4"}),s.jsx("div",{className:"h-2 bg-gray-800 rounded"})]})})}):s.jsxs(s.Fragment,{children:[s.jsxs(R,{className:"bg-gray-900/50 border-gray-800 transition-all duration-200 hover:bg-gray-900/70",children:[s.jsx(V,{className:"pb-3",children:s.jsxs(W,{className:"text-sm text-white flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/20 flex items-center justify-center",children:s.jsx(Ar,{className:"h-3 w-3 text-emerald-400"})}),"Profile Status"]}),s.jsx("span",{className:"text-xs text-gray-400",children:"Getting Started"})]})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Profile Completion"}),s.jsxs("span",{className:"text-sm text-white font-medium",children:[t,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-400 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${t}%`}})})]}),s.jsx("div",{className:"space-y-3",children:r.map(h=>s.jsxs("div",{className:"group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[h.completed?s.jsx($e,{className:"h-4 w-4 text-emerald-400"}):s.jsx(O8,{className:"h-4 w-4 text-gray-500 group-hover:text-gray-400 transition-colors"}),s.jsx("span",{className:`text-sm ${h.completed?"text-white":"text-gray-400"}`,children:h.label})]}),!h.completed&&h.action&&s.jsxs("button",{onClick:u(h.action),className:"text-emerald-400 hover:text-emerald-300 text-xs flex items-center gap-1 transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 rounded px-2 py-1","aria-label":`${f(h)} to improve your profile`,children:[s.jsx(xl,{className:"h-3 w-3"}),f(h)]})]}),!h.completed&&s.jsx("p",{className:"text-xs text-gray-500 ml-6 leading-relaxed",children:d(h.id)})]},h.id))}),s.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-br from-gray-800/50 to-gray-800/30 rounded-lg border border-gray-700/50",children:[s.jsxs("div",{className:"text-sm font-medium text-white mb-2 flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),"Why Complete Your Profile?"]}),s.jsxs("ul",{className:"text-xs text-gray-400 space-y-1.5 leading-relaxed",children:[s.jsxs("li",{children:[" ",s.jsx("span",{className:"text-emerald-400",children:"Faster"})," service booking and scheduling"]}),s.jsxs("li",{children:[" ",s.jsx("span",{className:"text-emerald-400",children:"Personalized"})," service recommendations"]}),s.jsxs("li",{children:[" ",s.jsx("span",{className:"text-emerald-400",children:"Priority"})," customer support access"]}),s.jsxs("li",{children:[" ",s.jsx("span",{className:"text-emerald-400",children:"Exclusive"})," member discounts and offers"]})]})]})]})]}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700 p-4 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Complete Your Profile"}),s.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-white transition-colors p-1 rounded focus:outline-none focus:ring-2 focus:ring-emerald-500/50","aria-label":"Close profile modal",children:""})]}),s.jsx("div",{className:"p-4",children:s.jsx(rK,{profile:{firstName:"",lastName:"",phone:"",address:"",paymentMethod:!1},onProfileUpdate:()=>{i(!1)}})})]})})]})};function nK({table:e,filter:t,select:r="*",orderBy:n,limit:a}){const[i,o]=b.useState([]),[l,c]=b.useState(!0),[u,f]=b.useState(null),d=b.useRef(null);b.useEffect(()=>(h(),m(),()=>{d.current&&I.removeChannel(d.current)}),[e,t==null?void 0:t.column,t==null?void 0:t.value]);const h=async()=>{try{c(!0),f(null);let x=I.from(e).select(r);t&&(x=x.eq(t.column,t.value)),n&&(x=x.order(n.column,{ascending:n.ascending??!0})),a&&(x=x.limit(a));const{data:g,error:y}=await x;if(y)throw y;o(g||[])}catch(x){console.error(`Error fetching data from ${e}:`,x),f(x instanceof Error?x.message:"Failed to fetch data")}finally{c(!1)}},m=()=>{const x=`realtime-${e}-${(t==null?void 0:t.column)||"all"}-${(t==null?void 0:t.value)||"all"}`;d.current=I.channel(x).on("postgres_changes",{event:"*",schema:"public",table:e,...t&&{filter:`${t.column}=eq.${t.value}`}},g=>{v(g)}).subscribe()},v=x=>{const{eventType:g,new:y,old:w}=x;o(S=>{switch(g){case"INSERT":return t&&y[t.column]!==t.value?S:[y,...S];case"UPDATE":return S.map(j=>j.id===y.id?y:j);case"DELETE":return S.filter(j=>j.id!==w.id);default:return S}})};return{data:i,loading:l,error:u,refetch:()=>{h()}}}function sK(e,t){return nK({table:"jobs",filter:{column:"client_id",value:e},select:`
      id, service_name, service_type, service_address, status, created_at, preferred_date, 
      property_address, price
    `,orderBy:{column:"created_at",ascending:!1},limit:10})}function a5(){const{user:e}=gt(),{data:t,loading:r,error:n}=sK((e==null?void 0:e.id)||""),a=o=>{switch(o){case"completed":return"bg-green-900/50 text-green-300 border-green-500/50";case"in_progress":return"bg-blue-900/50 text-blue-300 border-blue-500/50";case"accepted":return"bg-yellow-900/50 text-yellow-300 border-yellow-500/50";case"pending":return"bg-gray-900/50 text-gray-300 border-gray-500/50";default:return"bg-gray-900/50 text-gray-300 border-gray-500/50"}},i=o=>new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return r?s.jsxs(R,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl",children:[s.jsx(V,{children:s.jsxs(W,{className:"text-white flex items-center gap-2",children:[s.jsx(dr,{className:"w-5 h-5 text-green-400"}),"Recent Jobs"]})}),s.jsx(F,{children:s.jsx("div",{className:"space-y-3",children:Array.from({length:3},(o,l)=>s.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-700 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-700 rounded w-3/4"})]},l))})})]}):n||!t.length?s.jsxs(R,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl",children:[s.jsx(V,{children:s.jsxs(W,{className:"text-white flex items-center gap-2",children:[s.jsx(dr,{className:"w-5 h-5 text-green-400"}),"Recent Jobs"]})}),s.jsx(F,{children:s.jsx("div",{className:"text-center py-6",children:s.jsx("div",{className:"text-sm text-gray-400 mb-4",children:n?"Failed to load jobs":"No jobs found"})})})]}):s.jsxs(R,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl",children:[s.jsx(V,{children:s.jsxs(W,{className:"text-white flex items-center gap-2",children:[s.jsx(dr,{className:"w-5 h-5 text-green-400"}),"Recent Jobs"]})}),s.jsx(F,{children:s.jsx("div",{className:"space-y-3",children:t.slice(0,5).map(o=>s.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg border border-gray-700/50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium text-white truncate",children:o.service_name||o.service_type||"Service Request"}),s.jsx(ee,{className:`text-xs ${a(o.status)}`,children:o.status.replace("_"," ")})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(cs,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:o.service_address||o.property_address||"N/A"})]}),o.price&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(kr,{className:"w-3 h-3"}),s.jsxs("span",{children:["$",o.price]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pr,{className:"w-3 h-3"}),s.jsx("span",{children:i(o.created_at)})]})]})]},o.id))})})]})}const aK=()=>{const{user:e}=gt(),[t,r]=b.useState([]),[n,a]=b.useState(!1),i=async()=>{if(e)try{const{data:c,error:u}=await I.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);if(u)throw u;r(c||[])}catch(c){console.error("Error fetching notifications:",c)}};b.useEffect(()=>{i()},[e]);const o=async c=>{try{const{error:u}=await I.from("notifications").update({read:!0}).eq("id",c);if(u)throw u;r(f=>f.map(d=>d.id===c?{...d,read:!0}:d))}catch(u){console.error("Error marking notification as read:",u)}};if(n)return s.jsxs(R,{className:"bg-gray-900/50 border-gray-800",children:[s.jsx(V,{className:"pb-3",children:s.jsxs(W,{className:"text-sm text-white flex items-center gap-2",children:[s.jsx(Rn,{className:"h-4 w-4"}),"Notifications"]})}),s.jsx(F,{className:"p-4",children:s.jsxs("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-800 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-800 rounded w-1/2"})]})})]});const l={id:"welcome",title:"Welcome to your dashboard!",message:"Your account has been successfully set up.",created_at:"9/1/2025"};return s.jsxs(R,{className:"bg-gray-900/50 border-gray-800",children:[s.jsx(V,{className:"pb-3",children:s.jsxs(W,{className:"text-sm text-white flex items-center gap-2",children:[s.jsx(Rn,{className:"h-4 w-4"}),"Notifications"]})}),s.jsx(F,{children:s.jsx("div",{className:"p-3 rounded-lg border border-emerald-500/25 bg-gray-800/50",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx($e,{className:"h-4 w-4 text-emerald-400 mt-0.5"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-white text-sm",children:l.title}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:l.message}),s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:l.created_at})]}),s.jsx("button",{className:"text-gray-400 hover:text-white h-6 w-6 p-0 ml-2",children:s.jsx(Hs,{className:"h-3 w-3"})})]}),s.jsxs(Lp,{variant:"ghost",size:"sm",className:"mt-2 text-xs h-auto py-1 px-2",onClick:()=>o(l.id),children:[s.jsx(tc,{className:"h-3 w-3 mr-1"}),"Mark as Read"]})]})]})})})]})},l_=()=>{const e=Te(),[t,r]=b.useState(!1),[n,a]=b.useState(!1),[i,o]=b.useState(!1),l=()=>{e("/get-quote-enhanced")},c=()=>{e("/client-dashboard/payments")};return s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-8",children:[s.jsx("div",{className:"w-full",children:s.jsx(pq,{})}),s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"w-full",children:s.jsx(QI,{})}),s.jsx("div",{className:"w-full",children:s.jsx(t5,{onEditProfile:()=>r(!0),onAddAddress:()=>a(!0),onAddPayment:()=>o(!0)})}),s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl p-4 sm:p-6 w-full",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-4 sm:mb-6",children:"Quick Actions"}),s.jsxs("div",{className:"flex flex-col space-y-3 sm:space-y-4",children:[s.jsx("button",{onClick:l,className:"w-full px-4 sm:px-6 py-3 sm:py-4 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-black font-medium shadow-lg shadow-emerald-500/25 hover:shadow-emerald-400/40 transition-all duration-200 text-sm sm:text-base",children:"Request Service"}),s.jsx("button",{onClick:c,className:"w-full px-4 sm:px-6 py-3 sm:py-4 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-400 hover:to-blue-500 text-white font-medium shadow-lg shadow-blue-500/25 hover:shadow-blue-400/40 transition-all duration-200 text-sm sm:text-base",children:"Manage Payments"})]})]}),s.jsx("div",{className:"w-full",children:s.jsx(s5,{})})]})}),s.jsx("div",{className:"w-full",children:s.jsx(a5,{})}),s.jsx("div",{className:"w-full",children:s.jsx(aK,{})})]})};function iK({className:e,animated:t=!0,...r}){return s.jsx("div",{className:me("rounded-md bg-muted/70",t&&"animate-pulse",e),...r})}const oK=()=>{const e=Te(),{user:t}=gt(),[r,n]=b.useState({total:0,completed:0,active:0,totalSpent:0}),[a,i]=b.useState(!0),[o,l]=b.useState(null);b.useEffect(()=>{if(!t)return;(async()=>{try{i(!0),l(null);const{data:d,error:h}=await I.from("jobs").select("status, price").eq("client_id",t.id);if(h)throw h;const m=(d==null?void 0:d.length)||0,v=(d==null?void 0:d.filter(g=>g.status==="completed").length)||0,p=(d==null?void 0:d.filter(g=>g.status==="pending"||g.status==="scheduled").length)||0,x=(d==null?void 0:d.reduce((g,y)=>g+(parseFloat(y.price)||0),0))||0;n({total:m,completed:v,active:p,totalSpent:x})}catch(d){console.error("Error fetching job stats:",d),l("Failed to load job statistics")}finally{i(!1)}})()},[t]);const c=()=>{e("/instant-quote")},u=({value:f,label:d,isLoading:h})=>s.jsxs("div",{className:"text-center",children:[h?s.jsx(iK,{className:"h-8 w-12 mx-auto mb-1 bg-gray-700"}):s.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:f}),s.jsx("div",{className:"text-sm text-gray-400",children:d})]});return s.jsxs(R,{className:"bg-gray-900/50 border-gray-800",children:[s.jsx(V,{className:"pb-3",children:s.jsx(W,{className:"text-lg text-white",children:"Jobs Overview"})}),s.jsxs(F,{className:"space-y-6",children:[o&&s.jsx("div",{className:"text-red-400 text-sm text-center py-2",children:o}),s.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[s.jsx(u,{value:r.total,label:"Total Jobs",isLoading:a}),s.jsx(u,{value:r.completed,label:"Completed",isLoading:a}),s.jsx(u,{value:r.active,label:"Active",isLoading:a}),s.jsx(u,{value:`$${r.totalSpent.toFixed(0)}`,label:"Total Spent",isLoading:a})]}),!a&&r.total===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:"No active jobs found."}),s.jsx(Lp,{variant:"primary",size:"lg",label:"Request Your First Service",className:"w-full sm:w-auto bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white px-8 py-3 rounded-lg font-medium shadow-lg hover:shadow-emerald-500/25 transition-all duration-200 border-0",onClick:c})]})]})]})},lK=()=>{const e=Te(),t=()=>{e("/get-quote-enhanced")},r=()=>{console.log("Schedule service clicked")},n=()=>{console.log("View service locations clicked")};return s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Job Requests"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Manage your service requests and track progress"})]}),s.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-black font-medium shadow-lg shadow-emerald-500/25 hover:shadow-emerald-400/40 transition-all duration-200",children:[s.jsx(xl,{className:"h-5 w-5"}),"New Request"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:t,className:"p-6 rounded-2xl bg-black/60 backdrop-blur border border-emerald-500/25 hover:border-emerald-400/40 transition-all duration-200 text-left group",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20 text-emerald-400 group-hover:bg-emerald-500/30",children:s.jsx(xl,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Request Service"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Get a quote for landscaping services"})]}),s.jsxs("button",{onClick:r,className:"p-6 rounded-2xl bg-black/60 backdrop-blur border border-blue-500/25 hover:border-blue-400/40 transition-all duration-200 text-left group",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/20 text-blue-400 group-hover:bg-blue-500/30",children:s.jsx(dr,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Schedule Service"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Book recurring maintenance"})]}),s.jsxs("button",{onClick:n,className:"p-6 rounded-2xl bg-black/60 backdrop-blur border border-purple-500/25 hover:border-purple-400/40 transition-all duration-200 text-left group",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500/20 text-purple-400 group-hover:bg-purple-500/30",children:s.jsx(cs,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Service Areas"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"View available service locations"})]})]}),s.jsx("div",{className:"w-full",children:s.jsx(oK,{})}),s.jsx("div",{className:"w-full",children:s.jsx(a5,{})})]})};var cK=e=>{switch(e){case"success":return fK;case"info":return mK;case"warning":return hK;case"error":return pK;default:return null}},uK=Array(12).fill(0),dK=({visible:e,className:t})=>P.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},P.createElement("div",{className:"sonner-spinner"},uK.map((r,n)=>P.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),fK=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hK=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mK=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pK=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),gK=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},P.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vK=()=>{let[e,t]=P.useState(document.hidden);return P.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},G0=1,xK=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:G0++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],P.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(bK(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:f})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||G0++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},yr=new xK,yK=(e,t)=>{let r=(t==null?void 0:t.id)||G0++;return yr.addToast({title:e,...t,id:r}),r},bK=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",wK=yK,jK=()=>yr.toasts,NK=()=>yr.getActiveToasts(),ia=Object.assign(wK,{success:yr.success,info:yr.info,warning:yr.warning,error:yr.error,custom:yr.custom,message:yr.message,promise:yr.promise,dismiss:yr.dismiss,loading:yr.loading},{getHistory:jK,getToasts:NK});function SK(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}SK(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Rf(e){return e.label!==void 0}var _K=3,EK="32px",PK="16px",c_=4e3,kK=356,AK=14,CK=20,OK=200;function Sn(...e){return e.filter(Boolean).join(" ")}function TK(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var IK=e=>{var t,r,n,a,i,o,l,c,u,f,d;let{invert:h,toast:m,unstyled:v,interacting:p,setHeights:x,visibleToasts:g,heights:y,index:w,toasts:S,expanded:j,removeToast:N,defaultRichColors:_,closeButton:E,style:k,cancelButtonStyle:A,actionButtonStyle:O,className:C="",descriptionClassName:M="",duration:U,position:L,gap:D,loadingIcon:z,expandByDefault:T,classNames:$,icons:K,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:G}=e,[Q,oe]=P.useState(null),[ge,Ie]=P.useState(null),[te,xe]=P.useState(!1),[J,ae]=P.useState(!1),[se,q]=P.useState(!1),[ke,ve]=P.useState(!1),[Ye,qe]=P.useState(!1),[vt,vr]=P.useState(0),[Or,Za]=P.useState(0),Tr=P.useRef(m.duration||U||c_),Hn=P.useRef(null),yn=P.useRef(null),ef=w===0,tf=w+1<=g,Zr=m.type,fo=m.dismissible!==!1,JM=m.className||"",XM=m.descriptionClassName||"",rf=P.useMemo(()=>y.findIndex(we=>we.toastId===m.id)||0,[y,m.id]),ZM=P.useMemo(()=>{var we;return(we=m.closeButton)!=null?we:E},[m.closeButton,E]),S1=P.useMemo(()=>m.duration||U||c_,[m.duration,U]),Wg=P.useRef(0),ho=P.useRef(0),_1=P.useRef(0),mo=P.useRef(null),[QM,e3]=L.split("-"),E1=P.useMemo(()=>y.reduce((we,Ke,lt)=>lt>=rf?we:we+Ke.height,0),[y,rf]),P1=vK(),t3=m.invert||h,qg=Zr==="loading";ho.current=P.useMemo(()=>rf*D+E1,[rf,E1]),P.useEffect(()=>{Tr.current=S1},[S1]),P.useEffect(()=>{xe(!0)},[]),P.useEffect(()=>{let we=yn.current;if(we){let Ke=we.getBoundingClientRect().height;return Za(Ke),x(lt=>[{toastId:m.id,height:Ke,position:m.position},...lt]),()=>x(lt=>lt.filter(bn=>bn.toastId!==m.id))}},[x,m.id]),P.useLayoutEffect(()=>{if(!te)return;let we=yn.current,Ke=we.style.height;we.style.height="auto";let lt=we.getBoundingClientRect().height;we.style.height=Ke,Za(lt),x(bn=>bn.find(wn=>wn.toastId===m.id)?bn.map(wn=>wn.toastId===m.id?{...wn,height:lt}:wn):[{toastId:m.id,height:lt,position:m.position},...bn])},[te,m.title,m.description,x,m.id]);let Qs=P.useCallback(()=>{ae(!0),vr(ho.current),x(we=>we.filter(Ke=>Ke.toastId!==m.id)),setTimeout(()=>{N(m)},OK)},[m,N,x,ho]);P.useEffect(()=>{if(m.promise&&Zr==="loading"||m.duration===1/0||m.type==="loading")return;let we;return j||p||G&&P1?(()=>{if(_1.current<Wg.current){let Ke=new Date().getTime()-Wg.current;Tr.current=Tr.current-Ke}_1.current=new Date().getTime()})():Tr.current!==1/0&&(Wg.current=new Date().getTime(),we=setTimeout(()=>{var Ke;(Ke=m.onAutoClose)==null||Ke.call(m,m),Qs()},Tr.current)),()=>clearTimeout(we)},[j,p,m,Zr,G,P1,Qs]),P.useEffect(()=>{m.delete&&Qs()},[Qs,m.delete]);function r3(){var we,Ke,lt;return K!=null&&K.loading?P.createElement("div",{className:Sn($==null?void 0:$.loader,(we=m==null?void 0:m.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":Zr==="loading"},K.loading):z?P.createElement("div",{className:Sn($==null?void 0:$.loader,(Ke=m==null?void 0:m.classNames)==null?void 0:Ke.loader,"sonner-loader"),"data-visible":Zr==="loading"},z):P.createElement(dK,{className:Sn($==null?void 0:$.loader,(lt=m==null?void 0:m.classNames)==null?void 0:lt.loader),visible:Zr==="loading"})}return P.createElement("li",{tabIndex:0,ref:yn,className:Sn(C,JM,$==null?void 0:$.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[Zr],(r=m==null?void 0:m.classNames)==null?void 0:r[Zr]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:_,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":te,"data-promise":!!m.promise,"data-swiped":Ye,"data-removed":J,"data-visible":tf,"data-y-position":QM,"data-x-position":e3,"data-index":w,"data-front":ef,"data-swiping":se,"data-dismissible":fo,"data-type":Zr,"data-invert":t3,"data-swipe-out":ke,"data-swipe-direction":ge,"data-expanded":!!(j||T&&te),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${J?vt:ho.current}px`,"--initial-height":T?"auto":`${Or}px`,...k,...m.style},onDragEnd:()=>{q(!1),oe(null),mo.current=null},onPointerDown:we=>{qg||!fo||(Hn.current=new Date,vr(ho.current),we.target.setPointerCapture(we.pointerId),we.target.tagName!=="BUTTON"&&(q(!0),mo.current={x:we.clientX,y:we.clientY}))},onPointerUp:()=>{var we,Ke,lt,bn;if(ke||!fo)return;mo.current=null;let wn=Number(((we=yn.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ea=Number(((Ke=yn.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Qa=new Date().getTime()-((lt=Hn.current)==null?void 0:lt.getTime()),jn=Q==="x"?wn:ea,ta=Math.abs(jn)/Qa;if(Math.abs(jn)>=CK||ta>.11){vr(ho.current),(bn=m.onDismiss)==null||bn.call(m,m),Ie(Q==="x"?wn>0?"right":"left":ea>0?"down":"up"),Qs(),ve(!0),qe(!1);return}q(!1),oe(null)},onPointerMove:we=>{var Ke,lt,bn,wn;if(!mo.current||!fo||((Ke=window.getSelection())==null?void 0:Ke.toString().length)>0)return;let ea=we.clientY-mo.current.y,Qa=we.clientX-mo.current.x,jn=(lt=e.swipeDirections)!=null?lt:TK(L);!Q&&(Math.abs(Qa)>1||Math.abs(ea)>1)&&oe(Math.abs(Qa)>Math.abs(ea)?"x":"y");let ta={x:0,y:0};Q==="y"?(jn.includes("top")||jn.includes("bottom"))&&(jn.includes("top")&&ea<0||jn.includes("bottom")&&ea>0)&&(ta.y=ea):Q==="x"&&(jn.includes("left")||jn.includes("right"))&&(jn.includes("left")&&Qa<0||jn.includes("right")&&Qa>0)&&(ta.x=Qa),(Math.abs(ta.x)>0||Math.abs(ta.y)>0)&&qe(!0),(bn=yn.current)==null||bn.style.setProperty("--swipe-amount-x",`${ta.x}px`),(wn=yn.current)==null||wn.style.setProperty("--swipe-amount-y",`${ta.y}px`)}},ZM&&!m.jsx?P.createElement("button",{"aria-label":Y,"data-disabled":qg,"data-close-button":!0,onClick:qg||!fo?()=>{}:()=>{var we;Qs(),(we=m.onDismiss)==null||we.call(m,m)},className:Sn($==null?void 0:$.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(i=K==null?void 0:K.close)!=null?i:gK):null,m.jsx||b.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:P.createElement(P.Fragment,null,Zr||m.icon||m.promise?P.createElement("div",{"data-icon":"",className:Sn($==null?void 0:$.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||r3():null,m.type!=="loading"?m.icon||(K==null?void 0:K[Zr])||cK(Zr):null):null,P.createElement("div",{"data-content":"",className:Sn($==null?void 0:$.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},P.createElement("div",{"data-title":"",className:Sn($==null?void 0:$.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?P.createElement("div",{"data-description":"",className:Sn(M,XM,$==null?void 0:$.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),b.isValidElement(m.cancel)?m.cancel:m.cancel&&Rf(m.cancel)?P.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||A,onClick:we=>{var Ke,lt;Rf(m.cancel)&&fo&&((lt=(Ke=m.cancel).onClick)==null||lt.call(Ke,we),Qs())},className:Sn($==null?void 0:$.cancelButton,(f=m==null?void 0:m.classNames)==null?void 0:f.cancelButton)},m.cancel.label):null,b.isValidElement(m.action)?m.action:m.action&&Rf(m.action)?P.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:we=>{var Ke,lt;Rf(m.action)&&((lt=(Ke=m.action).onClick)==null||lt.call(Ke,we),!we.defaultPrevented&&Qs())},className:Sn($==null?void 0:$.actionButton,(d=m==null?void 0:m.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function u_(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function $K(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?PK:EK;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${o}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}b.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:f="light",richColors:d,duration:h,style:m,visibleToasts:v=_K,toastOptions:p,dir:x=u_(),gap:g=AK,loadingIcon:y,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:j}=e,[N,_]=P.useState([]),E=P.useMemo(()=>Array.from(new Set([n].concat(N.filter(G=>G.position).map(G=>G.position)))),[N,n]),[k,A]=P.useState([]),[O,C]=P.useState(!1),[M,U]=P.useState(!1),[L,D]=P.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=P.useRef(null),T=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=P.useRef(null),K=P.useRef(!1),Y=P.useCallback(G=>{_(Q=>{var oe;return(oe=Q.find(ge=>ge.id===G.id))!=null&&oe.delete||yr.dismiss(G.id),Q.filter(({id:ge})=>ge!==G.id)})},[]);return P.useEffect(()=>yr.subscribe(G=>{if(G.dismiss){_(Q=>Q.map(oe=>oe.id===G.id?{...oe,delete:!0}:oe));return}setTimeout(()=>{DC.flushSync(()=>{_(Q=>{let oe=Q.findIndex(ge=>ge.id===G.id);return oe!==-1?[...Q.slice(0,oe),{...Q[oe],...G},...Q.slice(oe+1)]:[G,...Q]})})})}),[]),P.useEffect(()=>{if(f!=="system"){D(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:Q})=>{D(Q?"dark":"light")})}catch{G.addListener(({matches:oe})=>{try{D(oe?"dark":"light")}catch(ge){console.error(ge)}})}},[f]),P.useEffect(()=>{N.length<=1&&C(!1)},[N]),P.useEffect(()=>{let G=Q=>{var oe,ge;a.every(Ie=>Q[Ie]||Q.code===Ie)&&(C(!0),(oe=z.current)==null||oe.focus()),Q.code==="Escape"&&(document.activeElement===z.current||(ge=z.current)!=null&&ge.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[a]),P.useEffect(()=>{if(z.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,K.current=!1)}},[z.current]),P.createElement("section",{ref:t,"aria-label":`${S} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((G,Q)=>{var oe;let[ge,Ie]=G.split("-");return N.length?P.createElement("ol",{key:G,dir:x==="auto"?u_():x,tabIndex:-1,ref:z,className:l,"data-sonner-toaster":!0,"data-theme":L,"data-y-position":ge,"data-lifted":O&&N.length>1&&!i,"data-x-position":Ie,style:{"--front-toast-height":`${((oe=k[0])==null?void 0:oe.height)||0}px`,"--width":`${kK}px`,"--gap":`${g}px`,...m,...$K(c,u)},onBlur:te=>{K.current&&!te.currentTarget.contains(te.relatedTarget)&&(K.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||K.current||(K.current=!0,$.current=te.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{M||C(!1)},onDragEnd:()=>C(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},N.filter(te=>!te.position&&Q===0||te.position===G).map((te,xe)=>{var J,ae;return P.createElement(IK,{key:te.id,icons:w,index:xe,toast:te,defaultRichColors:d,duration:(J=p==null?void 0:p.duration)!=null?J:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:v,closeButton:(ae=p==null?void 0:p.closeButton)!=null?ae:o,interacting:M,position:G,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:Y,toasts:N.filter(se=>se.position==te.position),heights:k.filter(se=>se.position==te.position),setHeights:A,expandByDefault:i,gap:g,loadingIcon:y,expanded:O,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const RK=()=>{const[e,t]=b.useState({isValid:!1,message:"Checking..."}),[r,n]=b.useState(!0),a=async()=>{n(!0);try{const i="pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK";if(!i.startsWith("pk_")){t({isValid:!1,message:'Invalid Stripe key format. Must start with "pk_"',keyPreview:i.substring(0,20)+"..."});return}const o=i.startsWith("pk_live_")?"Live":"Test",l=i.substring(0,20)+"...";try{const{loadStripe:c}=await qs(async()=>{const{loadStripe:f}=await Promise.resolve().then(()=>Wq);return{loadStripe:f}},void 0),u=await c(i);t(u?{isValid:!0,message:"Stripe key is valid and loaded successfully",keyPreview:l,environment:o}:{isValid:!1,message:"Failed to initialize Stripe with provided key",keyPreview:l,environment:o})}catch(c){t({isValid:!1,message:`Stripe initialization error: ${c.message}`,keyPreview:l,environment:o})}}catch(i){t({isValid:!1,message:`Validation error: ${i.message}`})}finally{n(!1)}};return b.useEffect(()=>{a()},[]),s.jsxs(R,{className:"w-full max-w-2xl mx-auto",children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(Gh,{className:"h-5 w-5"}),"Stripe Key Validation"]})}),s.jsx(F,{className:"space-y-4",children:r?s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Yt,{className:"h-4 w-4 animate-spin"}),"Validating Stripe configuration..."]}):s.jsxs(s.Fragment,{children:[s.jsxs(Be,{variant:e.isValid?"default":"destructive",children:[e.isValid?s.jsx($e,{className:"h-4 w-4"}):s.jsx(fr,{className:"h-4 w-4"}),s.jsx(Fe,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{children:e.message}),e.keyPreview&&s.jsxs("p",{className:"text-sm font-mono bg-muted p-2 rounded",children:["Key: ",e.keyPreview]}),e.environment&&s.jsxs("p",{className:"text-sm",children:["Environment: ",s.jsx("span",{className:"font-semibold",children:e.environment})]})]})})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(B,{onClick:a,variant:"outline",size:"sm",children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Re-validate"]})}),!e.isValid&&s.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[s.jsx("p",{children:s.jsx("strong",{children:"To fix this issue:"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[s.jsx("li",{children:"Get your Stripe publishable key from the Stripe Dashboard"}),s.jsx("li",{children:"Set the VITE_STRIPE_PUBLISHABLE_KEY environment variable"}),s.jsx("li",{children:'Ensure the key starts with "pk_test_" or "pk_live_"'}),s.jsx("li",{children:"Restart your development server or redeploy"})]})]})]})})]})},i5=({open:e,onOpenChange:t,onSuccess:r})=>{const[n,a]=b.useState(!1),[i,o]=b.useState([]),[l,c]=b.useState(null),[u,f]=b.useState(!1),[d,h]=b.useState(null),[m,v]=b.useState(null),{user:p}=gt();b.useEffect(()=>{e&&(p!=null&&p.id)&&x()},[e,p==null?void 0:p.id]);const x=async()=>{try{a(!0);const{data:_,error:E}=await I.from("profiles").select("stripe_customer_id, email, first_name, last_name").eq("id",p==null?void 0:p.id).single();if(E)throw new Error(`Profile fetch failed: ${E.message}`);let k=_==null?void 0:_.stripe_customer_id;if(!k){console.log("Creating Stripe customer for user:",p==null?void 0:p.id);const{data:C,error:M}=await I.functions.invoke("create-stripe-customer",{body:{userId:p==null?void 0:p.id,email:(_==null?void 0:_.email)||(p==null?void 0:p.email),firstName:(_==null?void 0:_.first_name)||"",lastName:(_==null?void 0:_.last_name)||""}});if(M)throw console.error("Stripe customer creation error:",M),new Error(`Failed to initialize payment system: ${M.message}`);if(!(C!=null&&C.success)||!(C!=null&&C.stripe_customer_id))throw console.error("Invalid response from create-stripe-customer:",C),new Error("Failed to create payment account");k=C.stripe_customer_id,console.log("Stripe customer created successfully:",k)}c(k);const{data:A,error:O}=await I.functions.invoke("list-payment-methods",{body:{customerId:k}});if(O)throw new Error(`Failed to fetch payment methods: ${O.message}`);if(A!=null&&A.success)o(A.payment_methods||[]);else throw new Error((A==null?void 0:A.error)||"Failed to fetch payment methods")}catch(_){console.error("Payment methods error:",_),ia.error(_.message||"Failed to load payment methods")}finally{a(!1)}},g=async _=>{try{h(_);const{data:E,error:k}=await I.functions.invoke("delete-payment-method",{body:{paymentMethodId:_}});if(k)throw k;if(E!=null&&E.success)ia.success("Payment method deleted successfully"),x(),window.dispatchEvent(new CustomEvent("profileUpdated"));else throw new Error((E==null?void 0:E.error)||"Failed to delete payment method")}catch(E){console.error("Delete payment method error:",E),ia.error(E.message||"Failed to delete payment method")}finally{h(null)}},y=async _=>{try{v(_);const{data:E,error:k}=await I.functions.invoke("set-default-payment-method",{body:{customerId:l,paymentMethodId:_}});if(k)throw k;if(E!=null&&E.success)ia.success("Default payment method updated"),x();else throw new Error((E==null?void 0:E.error)||"Failed to set default payment method")}catch(E){console.error("Set default payment method error:",E),ia.error(E.message||"Failed to set default payment method")}finally{v(null)}},w=async()=>{try{if(a(!0),!l)throw new Error("No payment account found");const{data:_,error:E}=await I.functions.invoke("create-billing-portal-session",{body:{customerId:l}});if(E)throw E;if(_!=null&&_.url)ia.success("Redirecting to billing portal..."),window.location.href=_.url;else throw new Error("Unable to create billing session")}catch(_){console.error("Billing portal error:",_),ia.error(_.message||"Unable to open billing portal")}finally{a(!1)}},S=()=>{f(!0)},j=()=>{x(),f(!1),r==null||r(),ia.success("Payment method added successfully!"),window.dispatchEvent(new CustomEvent("profileUpdated"))},N=_=>_.charAt(0).toUpperCase()+_.slice(1);return s.jsxs(s.Fragment,{children:[s.jsx(Vd,{open:e,onOpenChange:t,children:s.jsxs(cc,{className:"max-w-2xl",children:[s.jsx(uc,{children:s.jsxs(dc,{className:"flex items-center gap-2",children:[s.jsx(Et,{className:"h-5 w-5"}),"Manage Payment Methods"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(RK,{}),n?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage your saved payment methods and billing information."}),s.jsxs(B,{onClick:S,disabled:n||!l,size:"sm",children:[s.jsx(xl,{className:"mr-2 h-4 w-4"}),"Add Payment Method"]})]}),i.length>0?s.jsx("div",{className:"space-y-3",children:i.map(_=>s.jsx(R,{className:"relative",children:s.jsx(F,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Et,{className:"h-6 w-6 text-muted-foreground"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-medium",children:[N(_.brand),"  ",_.last4]}),_.is_default&&s.jsxs(ee,{variant:"secondary",className:"text-xs",children:[s.jsx(Fn,{className:"h-3 w-3 mr-1"}),"Default"]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Expires ",_.exp_month.toString().padStart(2,"0"),"/",_.exp_year]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!_.is_default&&s.jsx(B,{variant:"outline",size:"sm",onClick:()=>y(_.id),disabled:m===_.id,children:m===_.id?s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-current"}):s.jsxs(s.Fragment,{children:[s.jsx(Fn,{className:"h-3 w-3 mr-1"}),"Set Default"]})}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>g(_.id),disabled:d===_.id,className:"text-red-600 hover:text-red-700",children:d===_.id?s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-current"}):s.jsx(Iw,{className:"h-3 w-3"})})]})]})})},_.id))}):s.jsx(R,{children:s.jsx(F,{className:"pt-6",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(Et,{className:"mx-auto h-12 w-12 mb-2 opacity-50"}),s.jsx("p",{children:"No payment methods found"}),s.jsx("p",{className:"text-xs",children:"Add a payment method to get started"})]})})}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs(B,{variant:"outline",onClick:w,disabled:n||!l,className:"w-full",children:[s.jsx(Et,{className:"mr-2 h-4 w-4"}),n?"Opening...":"Open Stripe Billing Portal"]})})]})]})]})}),s.jsx(ZI,{isOpen:u,onClose:()=>f(!1),onSuccess:j})]})},MK=()=>{const[e,t]=b.useState(!1),[r,n]=b.useState("all"),a=()=>{t(!0)},i=u=>{console.log("Download receipt for invoice:",u)},o=u=>{console.log("View invoice:",u)},l=[{id:"1",date:"2024-01-15",amount:250,service:"Lawn Maintenance",status:"completed",method:"Visa ****4242"},{id:"2",date:"2024-01-08",amount:180,service:"Garden Cleanup",status:"completed",method:"Mastercard ****8888"},{id:"3",date:"2024-01-01",amount:320,service:"Tree Trimming",status:"pending",method:"Visa ****4242"}],c=r==="all"?l:l.filter(u=>u.status===r);return s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Payment History"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Manage payment methods and view transaction history"})]}),s.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-400 hover:to-blue-500 text-white font-medium shadow-lg shadow-blue-500/25 hover:shadow-blue-400/40 transition-all duration-200",children:[s.jsx(Et,{className:"h-5 w-5"}),"Add Payment Method"]})]}),s.jsx("div",{className:"w-full",children:s.jsx(QI,{})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cO,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-gray-400",children:"Filter by status:"})]}),s.jsx("div",{className:"flex gap-2",children:["all","completed","pending","failed"].map(u=>s.jsx("button",{onClick:()=>n(u),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${r===u?"bg-emerald-500 text-black":"bg-black/40 text-gray-300 hover:bg-black/60"}`,children:u.charAt(0).toUpperCase()+u.slice(1)},u))})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-emerald-500/25",children:s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Transaction History"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-black/40",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Service"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Amount"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Payment Method"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-emerald-500/10",children:c.map(u=>s.jsxs("tr",{className:"hover:bg-black/20 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-white",children:new Date(u.date).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 text-sm text-white",children:u.service}),s.jsxs("td",{className:"px-6 py-4 text-sm text-white font-medium",children:["$",u.amount.toFixed(2)]}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:u.method}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u.status==="completed"?"bg-emerald-500/20 text-emerald-400":u.status==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:u.status})}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>o(u.id),className:"p-2 rounded-lg bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 transition-colors",title:"View Invoice",children:s.jsx(Yh,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>i(u.id),className:"p-2 rounded-lg bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 transition-colors",title:"Download Receipt",children:s.jsx(rc,{className:"h-4 w-4"})})]})})]},u.id))})]})})]}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-black",children:"Payment Methods"}),s.jsx("button",{onClick:()=>t(!1),className:"h-10 w-10 rounded-xl bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-800 flex items-center justify-center transition-colors duration-200",children:""})]}),s.jsx("div",{className:"text-black",children:s.jsx(i5,{open:!0,onOpenChange:t,onSuccess:()=>{console.log("Payment method added successfully")}})})]})})]})},DK=()=>{const[e,t]=b.useState(!1),[r,n]=b.useState(!1),[a,i]=b.useState(!1),o=()=>{t(!0)},l=()=>{n(!0)},c=()=>{i(!0)},u=()=>{console.log("Account settings clicked")},f=()=>{console.log("Privacy settings clicked")},d=()=>{console.log("Notification settings clicked")};return s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Profile Management"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Manage your account information and preferences"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"w-full",children:s.jsx(t5,{onEditProfile:o,onAddAddress:l,onAddPayment:c})}),s.jsx("div",{className:"w-full",children:s.jsx(s5,{})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20 text-emerald-400",children:s.jsx(Ar,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Personal Information"})]}),s.jsx("button",{onClick:o,className:"px-4 py-2 rounded-lg bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 transition-colors text-sm font-medium",children:"Edit"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ar,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Full Name"}),s.jsx("p",{className:"text-white",children:"John Doe"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ln,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),s.jsx("p",{className:"text-white",children:"john.doe@example.com"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ow,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Phone"}),s.jsx("p",{className:"text-white",children:"+1 (555) 123-4567"})]})]})]})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-blue-500/25 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/20 text-blue-400",children:s.jsx(cs,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Service Address"})]}),s.jsx("button",{onClick:l,className:"px-4 py-2 rounded-lg bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 transition-colors text-sm font-medium",children:"Edit"})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(cs,{className:"h-4 w-4 text-gray-400 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Primary Address"}),s.jsx("p",{className:"text-white",children:"123 Main Street"}),s.jsx("p",{className:"text-white",children:"Anytown, ST 12345"})]})]})})]})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-purple-500/25 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500/20 text-purple-400",children:s.jsx(ar,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Account Settings"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:u,className:"p-4 rounded-xl bg-black/40 hover:bg-black/60 border border-gray-500/25 hover:border-gray-400/40 transition-all duration-200 text-left",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ar,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-white font-medium",children:"General"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Account preferences and settings"})]}),s.jsxs("button",{onClick:d,className:"p-4 rounded-xl bg-black/40 hover:bg-black/60 border border-gray-500/25 hover:border-gray-400/40 transition-all duration-200 text-left",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Ln,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-white font-medium",children:"Notifications"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Email and push notification preferences"})]}),s.jsxs("button",{onClick:f,className:"p-4 rounded-xl bg-black/40 hover:bg-black/60 border border-gray-500/25 hover:border-gray-400/40 transition-all duration-200 text-left",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(mn,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-white font-medium",children:"Privacy"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Privacy and security settings"})]})]})]})]})},LK=()=>{const e=Te(),t=qt(),r=$I(),n=[{id:"overview",label:"Overview",icon:Md,path:"/client-dashboard/overview"},{id:"jobs",label:"Job Requests",icon:Li,path:"/client-dashboard/jobs"},{id:"payments",label:"Payments",icon:Et,path:"/client-dashboard/payments"},{id:"profile",label:"Profile",icon:Ar,path:"/client-dashboard/profile"}],i=(()=>{const l=t.pathname;return l.includes("/jobs")?"jobs":l.includes("/payments")?"payments":l.includes("/profile")?"profile":"overview"})(),o=l=>{const c=n.find(u=>u.id===l);c&&e(c.path)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-[#020b06] to-black text-white",children:[s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsx(mq,{type:"client",userName:"Client",variant:"modern"})}),s.jsx("div",{className:"border-b border-emerald-500/20 sticky top-0 bg-black/80 backdrop-blur-sm z-40",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex space-x-0 overflow-x-auto scrollbar-hide",children:n.map(l=>{const c=l.icon,u=i===l.id;return s.jsxs("button",{onClick:()=>o(l.id),className:`flex items-center gap-2 px-4 sm:px-6 py-4 text-sm font-medium border-b-2 transition-all duration-200 whitespace-nowrap ${u?"border-emerald-500 text-emerald-400 bg-emerald-500/10":"border-transparent text-gray-400 hover:text-emerald-400 hover:border-emerald-500/50"}`,children:[s.jsx(c,{className:"h-4 w-4"}),s.jsx("span",{className:r?"hidden sm:inline":"",children:l.label})]},l.id)})})})}),s.jsx("div",{className:"container mx-auto min-h-[calc(100vh-200px)]",children:s.jsxs(Ew,{children:[s.jsx(ie,{path:"/",element:s.jsx(l_,{})}),s.jsx(ie,{path:"/overview",element:s.jsx(l_,{})}),s.jsx(ie,{path:"/jobs",element:s.jsx(lK,{})}),s.jsx(ie,{path:"/payments",element:s.jsx(MK,{})}),s.jsx(ie,{path:"/profile",element:s.jsx(DK,{})})]})})]})},UK=e=>{switch(e){case"completed":return s.jsx(kw,{className:"w-4 h-4"});case"cancelled":return s.jsx(Vt,{className:"w-4 h-4"});case"in_progress":case"accepted":return s.jsx(fr,{className:"w-4 h-4"});default:return s.jsx(Pr,{className:"w-4 h-4"})}},BK=e=>{switch(e){case"completed":return"bg-green-900/30 text-green-400 border-green-500/30";case"cancelled":return"bg-red-900/30 text-red-400 border-red-500/30";case"in_progress":case"accepted":return"bg-yellow-900/30 text-yellow-400 border-yellow-500/30";default:return"bg-blue-900/30 text-blue-400 border-blue-500/30"}};function FK(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),a=Te();b.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:{user:o}}=await I.auth.getUser();if(!(o!=null&&o.email)){n(!1);return}const{data:l,error:c}=await I.from("jobs").select("*").eq("client_email",o.email).order("created_at",{ascending:!1});c?console.error("Error fetching job history:",c):t(l||[])}catch(o){console.error("Error:",o)}finally{n(!1)}};return s.jsxs(hr,{children:[s.jsx(pn,{}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-[#020b06] to-black p-4 lg:p-8 text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"flex items-center gap-4 mb-6",children:s.jsxs(B,{variant:"ghost",onClick:()=>a("/client-dashboard"),className:"text-green-400 hover:text-green-300",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(R,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl ring-1 ring-green-500/20 shadow-[0_0_25px_-10px_rgba(34,197,94,0.25)]",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(Pr,{className:"w-6 h-6 text-green-400"}),s.jsx("h1",{className:"text-2xl font-semibold text-green-300",children:"Service History"})]}),r?s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-gray-400",children:"Loading your service history..."})}):e.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:"No history available yet."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Your completed and past services will appear here."})]}):s.jsx("div",{className:"space-y-4",children:e.map(o=>s.jsxs("div",{className:"rounded-xl bg-black/40 border border-gray-700/50 p-4 hover:bg-black/60 transition-colors",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-1",children:o.service_name||"Landscaping Service"}),s.jsx("p",{className:"text-sm text-gray-400",children:new Date(o.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs(ee,{className:`text-xs px-3 py-1 rounded-full flex items-center gap-2 ${BK(o.status)}`,children:[UK(o.status),o.status.replace("_"," ").toUpperCase()]})]}),o.service_type&&s.jsxs("p",{className:"text-sm text-gray-300 mb-2",children:["Type: ",o.service_type]}),o.service_address&&s.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:[" ",o.service_address]}),o.price&&s.jsxs("div",{className:"text-green-400 font-semibold",children:["$",o.price.toFixed(2)]})]},o.id))})]})})]})})]})}function zK(){const{user:e}=gt(),{toast:t}=Gs(),r=qt(),[n,a]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState({first_name:"",last_name:"",phone:"",address:"",email:(e==null?void 0:e.email)||""});b.useEffect(()=>{e&&u()},[e]),b.useEffect(()=>{if(r.hash){const d=document.getElementById(r.hash.substring(1));d&&d.scrollIntoView({behavior:"smooth"})}},[r.hash]);const u=async()=>{try{const{data:d,error:h}=await I.from("profiles").select("id, first_name, last_name, email, phone, address, stripe_customer_id").eq("id",e==null?void 0:e.id).single();if(h&&h.code!=="PGRST116")throw h;d&&c({first_name:d.first_name||"",last_name:d.last_name||"",phone:d.phone||"",address:d.address||"",email:(e==null?void 0:e.email)||""})}catch(d){console.error("Error fetching profile:",d)}},f=async()=>{a(!0);try{const{error:d}=await I.from("profiles").upsert({id:e==null?void 0:e.id,...l});if(d)throw d;t({title:"Profile updated",description:"Your profile has been saved successfully."})}catch(d){t({title:"Error",description:d.message||"Failed to update profile",variant:"destructive"})}finally{a(!1)}};return s.jsx("div",{className:"min-h-screen bg-gray-950 p-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Your Profile"}),s.jsx("p",{className:"text-gray-400",children:"Manage your account information"})]}),s.jsxs(R,{id:"name",className:"bg-gray-900/50 border-gray-800",children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2 text-white",children:[s.jsx(Ar,{className:"h-5 w-5 text-emerald-400"}),"Full Name"]})}),s.jsx(F,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"first_name",className:"text-gray-300",children:"First Name"}),s.jsx(re,{id:"first_name",value:l.first_name,onChange:d=>c(h=>({...h,first_name:d.target.value})),className:"bg-gray-800 border-gray-700 text-white"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"last_name",className:"text-gray-300",children:"Last Name"}),s.jsx(re,{id:"last_name",value:l.last_name,onChange:d=>c(h=>({...h,last_name:d.target.value})),className:"bg-gray-800 border-gray-700 text-white"})]})]})})]}),s.jsxs(R,{id:"phone",className:"bg-gray-900/50 border-gray-800",children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2 text-white",children:[s.jsx(Ow,{className:"h-5 w-5 text-emerald-400"}),"Phone Number"]})}),s.jsx(F,{children:s.jsx(re,{value:l.phone,onChange:d=>c(h=>({...h,phone:d.target.value})),placeholder:"(555) 123-4567",className:"bg-gray-800 border-gray-700 text-white"})})]}),s.jsxs(R,{id:"address",className:"bg-gray-900/50 border-gray-800",children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2 text-white",children:[s.jsx(cs,{className:"h-5 w-5 text-emerald-400"}),"Service Address"]})}),s.jsx(F,{children:s.jsx(re,{value:l.address,onChange:d=>c(h=>({...h,address:d.target.value})),placeholder:"123 Main St, City, State 12345",className:"bg-gray-800 border-gray-700 text-white"})})]}),s.jsxs(R,{id:"payment",className:"bg-gray-900/50 border-gray-800",children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2 text-white",children:[s.jsx(Et,{className:"h-5 w-5 text-emerald-400"}),"Payment Method"]})}),s.jsxs(F,{children:[s.jsx("p",{className:"text-gray-400 mb-4",children:"Manage your payment methods and billing information."}),s.jsx(i5,{open:i,onOpenChange:o,onSuccess:()=>{t({title:"Payment methods updated",description:"Your payment information has been updated."})}}),s.jsx(B,{variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-800",onClick:()=>o(!0),children:"Manage Payment Methods"})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(B,{onClick:f,disabled:n,className:"bg-emerald-600 hover:bg-emerald-700 text-white px-8",children:n?"Saving...":"Save Changes"})})]})})}function VK(){const{user:e}=gt(),t=Te(),[r,n]=b.useState([]),[a,i]=b.useState(!0);b.useEffect(()=>{o()},[e]);const o=async()=>{try{n([{id:"1",date:"2024-12-15",amount:125,status:"paid",description:"Lawn Care Service - December",invoice_url:"#"},{id:"2",date:"2024-11-15",amount:98.5,status:"paid",description:"Garden Maintenance - November",invoice_url:"#"},{id:"3",date:"2024-10-15",amount:245,status:"pending",description:"Fall Cleanup Service - October"}])}catch(f){console.error("Error fetching billing history:",f)}finally{i(!1)}},l=f=>{switch(f){case"paid":return"bg-emerald-500/20 text-emerald-400";case"pending":return"bg-orange-500/20 text-orange-400";case"failed":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}},c=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),u=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f);return a?s.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:s.jsx("div",{className:"text-white",children:"Loading billing history..."})}):s.jsx("div",{className:"min-h-screen bg-gray-950 p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(B,{variant:"ghost",onClick:()=>t("/client-dashboard"),className:"text-gray-400 hover:text-white",children:[s.jsx(mr,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Billing History"}),s.jsx("p",{className:"text-gray-400",children:"View your payment history and download invoices"})]}),s.jsxs(R,{className:"bg-gray-900/50 border-gray-800",children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2 text-white",children:[s.jsx(Et,{className:"h-5 w-5 text-emerald-400"}),"Payment History"]})}),s.jsx(F,{children:r.length===0?s.jsx("div",{className:"text-center py-8 text-gray-400",children:"No billing history found."}):s.jsx("div",{className:"space-y-4",children:r.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-white font-medium",children:f.description}),s.jsx(ee,{className:l(f.status),children:f.status.charAt(0).toUpperCase()+f.status.slice(1)})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:c(f.date)})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"text-white font-semibold",children:u(f.amount)})}),f.invoice_url&&s.jsxs(B,{variant:"outline",size:"sm",className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[s.jsx(rc,{className:"h-4 w-4 mr-2"}),"Invoice"]})]})]},f.id))})})]}),s.jsx(R,{className:"bg-gray-900/50 border-gray-800",children:s.jsx(F,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"$468.50"}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Total Paid"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-400",children:"$245.00"}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Outstanding"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:"3"}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Total Invoices"})]})]})})})]})})}const WK=()=>{const{user:e}=gt(),[t,r]=b.useState([]),[n,a]=b.useState(!0);b.useEffect(()=>{e&&i()},[e]);const i=async()=>{try{const{data:d,error:h}=await I.from("subscriptions").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(h)throw h;r(d||[])}catch(d){console.error("Error fetching subscriptions:",d)}finally{a(!1)}},o=async d=>{try{console.log("Pausing subscription:",d),await i()}catch(h){console.error("Error pausing subscription:",h)}},l=async d=>{try{console.log("Resuming subscription:",d),await i()}catch(h){console.error("Error resuming subscription:",h)}},c=async d=>{try{console.log("Canceling subscription:",d),await i()}catch(h){console.error("Error canceling subscription:",h)}},u=(d,h)=>{if(h)return s.jsx(ee,{variant:"destructive",children:"Canceling"});switch(d){case"active":return s.jsx(ee,{variant:"default",children:"Active"});case"paused":return s.jsx(ee,{variant:"secondary",children:"Paused"});case"canceled":return s.jsx(ee,{variant:"destructive",children:"Canceled"});default:return s.jsx(ee,{variant:"outline",children:d})}},f=(d,h)=>new Intl.NumberFormat("en-US",{style:"currency",currency:h.toUpperCase()}).format(d/100);return n?s.jsx("div",{className:"text-center py-8",children:"Loading subscriptions..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Subscription Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your recurring landscaping services"})]}),t.length===0?s.jsx(R,{children:s.jsxs(F,{className:"text-center py-8",children:[s.jsx(Et,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Active Subscriptions"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have any recurring services set up yet."}),s.jsx(B,{children:"Set Up Monthly Service"})]})}):s.jsx("div",{className:"grid gap-4",children:t.map(d=>s.jsxs(R,{children:[s.jsx(V,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(W,{className:"flex items-center gap-2",children:[d.service_type," Service",u(d.status,d.cancel_at_period_end)]}),s.jsxs(Ge,{children:[f(d.amount,d.currency)," per month"]})]}),s.jsxs("div",{className:"flex gap-2",children:[d.status==="active"&&!d.cancel_at_period_end&&s.jsxs(s.Fragment,{children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>o(d.stripe_subscription_id),children:s.jsx(M8,{className:"h-4 w-4"})}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>c(d.stripe_subscription_id),children:s.jsx(Hs,{className:"h-4 w-4"})})]}),d.status==="paused"&&s.jsx(B,{variant:"outline",size:"sm",onClick:()=>l(d.stripe_subscription_id),children:s.jsx(uO,{className:"h-4 w-4"})})]})]})}),s.jsx(F,{children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(dr,{className:"h-4 w-4"}),"Next billing: ",new Date(d.current_period_end).toLocaleDateString()]})})]},d.id))})]})},qK=[{id:"basic",name:"Basic Care",description:"Essential lawn maintenance",price:99,currency:"usd",interval:"month",stripePriceId:"price_basic_monthly",features:["Weekly lawn mowing","Edge trimming","Basic cleanup","Email updates"]},{id:"premium",name:"Premium Service",description:"Complete landscaping care",price:199,currency:"usd",interval:"month",stripePriceId:"price_premium_monthly",popular:!0,features:["Everything in Basic","Bi-weekly deep maintenance","Seasonal plantings","Fertilization program","Priority scheduling","Photo progress reports"]},{id:"luxury",name:"Luxury Estate",description:"Full-service luxury care",price:399,currency:"usd",interval:"month",stripePriceId:"price_luxury_monthly",features:["Everything in Premium","Weekly detailed service","Custom landscape design","Irrigation management","Pest control program","24/7 emergency support","Dedicated account manager"]}],KK=({onSelectPlan:e})=>{const{user:t}=gt(),[r,n]=b.useState(null),a=async o=>{if(t){n(o.id);try{e(o)}catch(l){console.error("Error selecting plan:",l)}finally{n(null)}}},i=(o,l)=>new Intl.NumberFormat("en-US",{style:"currency",currency:l.toUpperCase()}).format(o);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Choose Your Plan"}),s.jsx("p",{className:"text-muted-foreground",children:"Select the perfect landscaping service for your property"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:qK.map(o=>s.jsxs(R,{className:`relative ${o.popular?"border-primary shadow-lg scale-105":""}`,children:[o.popular&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsxs(ee,{className:"bg-primary text-primary-foreground px-3 py-1",children:[s.jsx(Fn,{className:"h-3 w-3 mr-1"}),"Most Popular"]})}),s.jsxs(V,{className:"text-center",children:[s.jsx(W,{className:"text-xl",children:o.name}),s.jsx(Ge,{children:o.description}),s.jsxs("div",{className:"mt-4",children:[s.jsx("span",{className:"text-3xl font-bold",children:i(o.price,o.currency)}),s.jsxs("span",{className:"text-muted-foreground",children:["/",o.interval]})]})]}),s.jsxs(F,{className:"space-y-4",children:[s.jsx("ul",{className:"space-y-2",children:o.features.map((l,c)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(tc,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:l})]},c))}),s.jsx(B,{className:"w-full",variant:o.popular?"default":"outline",onClick:()=>a(o),disabled:r===o.id,children:r===o.id?"Processing...":"Select Plan"})]})]},o.id))}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"All plans include a 30-day satisfaction guarantee"}),s.jsx("p",{children:"Cancel or modify your subscription anytime"})]})]})},HK=()=>{const[e,t]=b.useState("dashboard"),[r,n]=b.useState(null),a=c=>{n(c),t("checkout")},i=()=>{t("plans"),n(null)},o=()=>{t("dashboard"),n(null)},l=()=>{switch(e){case"plans":return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(B,{variant:"outline",size:"sm",onClick:o,children:[s.jsx(mr,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(KK,{onSelectPlan:a})]});case"checkout":return r?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>t("plans"),children:[s.jsx(mr,{className:"h-4 w-4 mr-2"}),"Back to Plans"]})}),s.jsxs(R,{className:"max-w-md mx-auto",children:[s.jsx(V,{children:s.jsx(W,{children:"Subscription Plans Available"})}),s.jsxs(F,{children:[s.jsx("p",{children:"Subscription checkout functionality will be available soon."}),s.jsx(B,{onClick:i,className:"mt-4",children:"Go Back"})]})]})]}):null;default:return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Subscription Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your recurring landscaping services"})]}),s.jsx(B,{onClick:()=>t("plans"),children:"Add New Service"})]}),s.jsx(WK,{})]})}};return s.jsx("div",{className:"container mx-auto px-4 py-8",children:l()})};function GK(){const[e,t]=b.useState([{id:"1",text:"Hello! How can we help you today?",sender:"support",timestamp:new Date}]),[r,n]=b.useState(""),a=Te(),i=()=>{if(!r.trim())return;const l={id:Date.now().toString(),text:r,sender:"user",timestamp:new Date};t(c=>[...c,l]),n(""),setTimeout(()=>{const c={id:(Date.now()+1).toString(),text:"Thank you for your message. Our team will respond shortly. For immediate assistance, please call (555) 123-4567.",sender:"support",timestamp:new Date};t(u=>[...u,c])},1e3)},o=l=>{l.key==="Enter"&&i()};return s.jsxs(hr,{children:[s.jsx(pn,{}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-[#020b06] to-black p-4 lg:p-8 text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"flex items-center gap-4 mb-6",children:s.jsxs(B,{variant:"ghost",onClick:()=>a(-1),className:"text-green-400 hover:text-green-300",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs(R,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl ring-1 ring-green-500/20 shadow-[0_0_25px_-10px_rgba(34,197,94,0.25)] h-[600px] flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-gray-700/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(R8,{className:"w-6 h-6 text-green-400"}),s.jsx("h1",{className:"text-2xl font-semibold text-green-300",children:"Live Chat Support"})]}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"We're here to help with your landscaping needs"})]}),s.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:s.jsx("div",{className:"space-y-4",children:e.map(l=>s.jsx("div",{className:`flex ${l.sender==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${l.sender==="user"?"bg-green-600 text-white":"bg-gray-700 text-gray-100"}`,children:[s.jsx("p",{className:"text-sm",children:l.text}),s.jsx("p",{className:"text-xs opacity-70 mt-1",children:l.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},l.id))})}),s.jsxs("div",{className:"p-6 border-t border-gray-700/50",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(re,{value:r,onChange:l=>n(l.target.value),onKeyPress:o,placeholder:"Type your message...",className:"bg-black/50 border-green-500/30 text-white flex-1"}),s.jsx(B,{onClick:i,className:"bg-green-600 hover:bg-green-500 px-4",children:s.jsx(fO,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"For immediate assistance, call (555) 123-4567"})]})]})]})})]})}const o5=({children:e})=>s.jsxs("div",{className:"min-h-screen bg-[#050b08] flex flex-col",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-emerald-500/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-emerald-400/15 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-900/5 via-transparent to-emerald-800/5"})]}),s.jsx(Gw,{}),s.jsx("main",{className:"flex-1 relative z-10",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:e})}),s.jsx(Fw,{})]});async function yh(e){try{const t=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),{data:r,error:n}=await I.from("landscapers").select("*").eq(t?"id":"email",e).single();if(n)throw n;return r}catch(t){throw console.error("Error fetching landscaper profile:",t),t}}function YK(){const{user:e}=gt(),{stats:t,loading:r,error:n}=DI("landscaper");return r?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:Array.from({length:4},(a,i)=>s.jsxs("div",{className:"bg-black/60 backdrop-blur rounded-2xl p-6 animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-700 rounded mb-2"}),s.jsx("div",{className:"h-8 bg-gray-700 rounded mb-1"}),s.jsx("div",{className:"h-3 bg-gray-700 rounded w-3/4"})]},i))}):n?s.jsx("div",{className:"bg-red-900/20 border border-red-500/25 rounded-2xl p-6",children:s.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[s.jsx(fr,{className:"w-5 h-5"}),s.jsx("span",{children:"Failed to load dashboard stats"})]})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[s.jsx(ba,{title:"Total Earnings",value:`$${t.totalEarnings.toFixed(2)}`,subtitle:"Lifetime earnings",icon:s.jsx(kr,{className:"w-5 h-5"}),variant:"green",trend:{value:t.monthlyEarnings>0?12:0,isPositive:!0}}),s.jsx(ba,{title:"Active Jobs",value:t.activeJobs,subtitle:"Currently working",icon:s.jsx(Pr,{className:"w-5 h-5"}),variant:"blue"}),s.jsx(ba,{title:"Completed Jobs",value:t.completedJobs,subtitle:"Successfully finished",icon:s.jsx(kw,{className:"w-5 h-5"}),variant:"default",trend:{value:t.completedJobs>0?5:0,isPositive:!0}}),s.jsx(ba,{title:"Rating",value:t.rating>0?t.rating.toFixed(1):"N/A",subtitle:`${t.totalReviews} reviews`,icon:s.jsx(Fn,{className:"w-5 h-5"}),variant:"yellow"})]})}const l5=({jobs:e,onJobUpdate:t})=>{const[r,n]=b.useState(e),{isConnected:a,subscribe:i}=Yp();b.useEffect(()=>i("job_status_update",f=>{n(d=>d.map(h=>h.id===f.jobId?{...h,status:f.status,location:f.location,...f.status==="arrived"&&{estimatedArrival:f.timestamp},...f.status==="in_progress"&&{startTime:f.timestamp},...f.status==="completed"&&{completionTime:f.timestamp}}:h))}),[i]);const o=u=>{switch(u){case"assigned":return"bg-blue-500";case"en_route":return"bg-yellow-500";case"arrived":return"bg-orange-500";case"in_progress":return"bg-green-500";case"completed":return"bg-gray-500";default:return"bg-gray-400"}},l=u=>{switch(u){case"assigned":return"Assigned";case"en_route":return"En Route";case"arrived":return"Arrived";case"in_progress":return"In Progress";case"completed":return"Completed";default:return u}},c=u=>{if(u.status==="arrived"||u.status==="in_progress"||u.status==="completed")return null;const f=new Date;return f.setMinutes(f.getMinutes()+Math.floor(Math.random()*30)+10),f.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return s.jsxs(R,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Live Job Tracking"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-sm text-gray-400",children:a?"Connected":"Disconnected"})]})]}),s.jsx("div",{className:"space-y-4",children:r.map(u=>s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold text-white",children:u.service_name}),s.jsx(ee,{className:`${o(u.status)} text-white`,children:l(u.status)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400",children:"Landscaper"}),s.jsx("p",{className:"text-white",children:u.landscaper})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400",children:"Client"}),s.jsx("p",{className:"text-white",children:u.client})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400",children:"Address"}),s.jsx("p",{className:"text-white text-xs",children:u.service_address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400",children:u.status==="completed"?"Completed":"ETA"}),s.jsx("p",{className:"text-white",children:u.completionTime?new Date(u.completionTime).toLocaleTimeString():c(u)||"On Site"})]})]}),u.status==="in_progress"&&u.startTime&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-600",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-gray-400",children:["Started: ",new Date(u.startTime).toLocaleTimeString()]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(B,{size:"sm",variant:"outline",className:"text-xs",children:"View Live Location"}),s.jsx(B,{size:"sm",variant:"outline",className:"text-xs",children:"Contact"})]})]})})]},u.id))})]})};function Mf({children:e,className:t=""}){return s.jsx("section",{className:`bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl ring-1 ring-green-500/20 shadow-[0_0_25px_-10px_rgba(34,197,94,0.25)] p-4 sm:p-6 lg:p-8 min-h-fit ${t}`,children:e})}function d_({profile:e,isAvailable:t}){const r=Bd(),[n,a]=b.useState({totalEarnings:0,completedJobs:0,activeJobs:0,pendingPayouts:0}),i=[{id:"job1",title:"Lawn Maintenance - Oak Street",address:"123 Oak Street, New York, NY",latitude:40.7128,longitude:-74.006,status:"assigned",estimatedDuration:120,priority:"high",landscaper:(e==null?void 0:e.first_name)??"John",client:"Client Name"},{id:"job2",title:"Garden Design - Maple Ave",address:"456 Maple Ave, Brooklyn, NY",latitude:40.6782,longitude:-73.9442,status:"in_progress",estimatedDuration:180,priority:"medium",landscaper:(e==null?void 0:e.first_name)??"John",client:"Another Client"}].filter(Boolean);return b.useEffect(()=>{(async()=>{var l,c;try{const{data:{user:u}}=await r.auth.getUser();if(u!=null&&u.id){const{data:f}=await r.from("jobs").select("*").eq("landscaper_id",u.id)??[],d=((l=f==null?void 0:f.filter(v=>v.status==="completed"))==null?void 0:l.length)??0,h=((c=f==null?void 0:f.filter(v=>["assigned","in_progress"].includes(v.status)))==null?void 0:c.length)??0,m=(f==null?void 0:f.reduce((v,p)=>v+(p.amount??0),0))??0;a({totalEarnings:m,completedJobs:d,activeJobs:h,pendingPayouts:0})}}catch(u){console.error("Error loading stats:",u),a({totalEarnings:2450.75,completedJobs:12,activeJobs:3,pendingPayouts:450})}})()},[r,e]),s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6",children:[s.jsx(Mf,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-green-300 mb-4",children:"Dashboard Overview"}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",n.totalEarnings.toFixed(2)]}),s.jsx("div",{className:"text-sm text-green-300/70",children:"Total Earnings"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-400",children:n.completedJobs}),s.jsx("div",{className:"text-sm text-green-300/70",children:"Completed Jobs"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:n.activeJobs}),s.jsx("div",{className:"text-sm text-green-300/70",children:"Active Jobs"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:["$",n.pendingPayouts.toFixed(2)]}),s.jsx("div",{className:"text-sm text-green-300/70",children:"Pending Payouts"})]})]}),s.jsx("div",{className:"mt-6 p-4 rounded-xl bg-black/40 border border-green-500/25",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-green-300",children:"Current Status:"}),s.jsx("span",{className:`font-semibold ${t?"text-green-400":"text-gray-400"}`,children:t?" Available for Jobs":" Not Available"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(Mf,{children:s.jsx(l5,{jobs:i})}),s.jsx(Mf,{children:s.jsx(gj,{clientId:(e==null?void 0:e.email)??"landscaper"})})]}),s.jsx(Mf,{children:s.jsx(YK,{})})]})}function zv({children:e}){return s.jsx("section",{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl ring-1 ring-green-500/20 shadow-[0_0_25px_-10px_rgba(34,197,94,0.25)] p-4 sm:p-6 lg:p-8 min-h-fit",children:e})}function JK(){const e=Bd(),[t,r]=b.useState([]),[n,a]=b.useState(!0),[i,o]=b.useState("all"),l=[{id:"job1",title:"Lawn Maintenance - Oak Street",address:"123 Oak Street, New York, NY",latitude:40.7128,longitude:-74.006,status:"available",estimatedDuration:120,priority:"high",amount:150,client:"John Smith",description:"Weekly lawn maintenance including mowing, edging, and cleanup.",scheduledDate:new Date().toISOString()},{id:"job2",title:"Garden Design - Maple Ave",address:"456 Maple Ave, Brooklyn, NY",latitude:40.6782,longitude:-73.9442,status:"assigned",estimatedDuration:180,priority:"medium",amount:250,client:"Sarah Johnson",description:"Design and plant new flower garden with seasonal plants.",scheduledDate:new Date(Date.now()+864e5).toISOString()},{id:"job3",title:"Tree Trimming - Pine Street",address:"789 Pine Street, Queens, NY",latitude:40.7282,longitude:-73.7949,status:"in_progress",estimatedDuration:240,priority:"high",amount:400,client:"Mike Davis",description:"Trim large oak trees and remove dead branches.",scheduledDate:new Date().toISOString()}].filter(Boolean);b.useEffect(()=>{(async()=>{try{const{data:{user:d}}=await e.auth.getUser();if(d!=null&&d.id){const{data:h}=await e.from("jobs").select("*").order("created_at",{ascending:!1})??[];r(h??l)}else r(l)}catch(d){console.error("Error loading jobs:",d),r(l)}finally{a(!1)}})()},[e]);const c=(t==null?void 0:t.filter(f=>i==="all"?!0:(f==null?void 0:f.status)===i))??[],u=(f,d)=>{console.log(`Job ${f} action: ${d}`),r(h=>(h==null?void 0:h.map(m=>(m==null?void 0:m.id)===f?{...m,status:d==="accept"?"assigned":d==="complete"?"completed":"declined"}:m))??[])};return n?s.jsx("div",{className:"text-white px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:"Loading jobs..."}):s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6",children:[s.jsx(zv,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-green-300",children:"Job Management"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"All Jobs"},{key:"available",label:"Available"},{key:"assigned",label:"Assigned"},{key:"in_progress",label:"In Progress"},{key:"completed",label:"Completed"}].map(f=>s.jsx("button",{onClick:()=>o(f.key),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${i===f.key?"bg-green-500/20 text-green-200 border border-green-500/50":"bg-black/40 text-green-300/70 border border-green-500/25 hover:bg-black/60"}`,children:f.label},f.key))})]})}),s.jsx(zv,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-green-300",children:[i==="all"?"All Jobs":`${i.charAt(0).toUpperCase()+i.slice(1)} Jobs`,"(",(c==null?void 0:c.length)??0,")"]}),(c==null?void 0:c.length)===0?s.jsx("div",{className:"text-center py-8 text-green-300/70",children:"No jobs found for the selected filter."}):s.jsx("div",{className:"space-y-4",children:(c==null?void 0:c.map(f=>{var d;return s.jsx("div",{className:"bg-black/40 border border-green-500/25 rounded-xl p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-300",children:(f==null?void 0:f.title)??"Untitled Job"}),s.jsx("p",{className:"text-sm text-green-300/70 mb-2",children:(f==null?void 0:f.address)??"No address"}),s.jsx("p",{className:"text-sm text-green-300/60 mb-2",children:(f==null?void 0:f.description)??"No description"}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[s.jsxs("span",{className:"text-green-400",children:["$",((d=f==null?void 0:f.amount)==null?void 0:d.toFixed(2))??"0.00"]}),s.jsxs("span",{className:"text-blue-400",children:[(f==null?void 0:f.estimatedDuration)??0," min"]}),s.jsxs("span",{className:`font-medium ${(f==null?void 0:f.priority)==="high"?"text-red-400":(f==null?void 0:f.priority)==="medium"?"text-yellow-400":"text-green-400"}`,children:[(f==null?void 0:f.priority)??"low"," priority"]}),s.jsxs("span",{className:"text-green-300/70",children:["Client: ",(f==null?void 0:f.client)??"Unknown"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[(f==null?void 0:f.status)==="available"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>u(f.id,"accept"),className:"px-3 py-2 bg-green-500/20 text-green-200 border border-green-500/50 rounded-lg hover:bg-green-500/30 transition-all duration-200 text-sm",children:"Accept"}),s.jsx("button",{onClick:()=>u(f.id,"decline"),className:"px-3 py-2 bg-red-500/20 text-red-200 border border-red-500/50 rounded-lg hover:bg-red-500/30 transition-all duration-200 text-sm",children:"Decline"})]}),((f==null?void 0:f.status)==="assigned"||(f==null?void 0:f.status)==="in_progress")&&s.jsx("button",{onClick:()=>u(f.id,"complete"),className:"px-3 py-2 bg-blue-500/20 text-blue-200 border border-blue-500/50 rounded-lg hover:bg-blue-500/30 transition-all duration-200 text-sm",children:"Mark Complete"})]})]})},f==null?void 0:f.id)}))??[]})]})}),s.jsx(zv,{children:s.jsx(l5,{jobs:(c==null?void 0:c.slice(0,5))??[]})})]})}var XK=Array.isArray,Cr=XK,ZK=typeof nr=="object"&&nr&&nr.Object===Object&&nr,c5=ZK,QK=c5,eH=typeof self=="object"&&self&&self.Object===Object&&self,tH=QK||eH||Function("return this")(),vs=tH,rH=vs,nH=rH.Symbol,qd=nH,f_=qd,u5=Object.prototype,sH=u5.hasOwnProperty,aH=u5.toString,Uc=f_?f_.toStringTag:void 0;function iH(e){var t=sH.call(e,Uc),r=e[Uc];try{e[Uc]=void 0;var n=!0}catch{}var a=aH.call(e);return n&&(t?e[Uc]=r:delete e[Uc]),a}var oH=iH,lH=Object.prototype,cH=lH.toString;function uH(e){return cH.call(e)}var dH=uH,h_=qd,fH=oH,hH=dH,mH="[object Null]",pH="[object Undefined]",m_=h_?h_.toStringTag:void 0;function gH(e){return e==null?e===void 0?pH:mH:m_&&m_ in Object(e)?fH(e):hH(e)}var Ys=gH;function vH(e){return e!=null&&typeof e=="object"}var Js=vH,xH=Ys,yH=Js,bH="[object Symbol]";function wH(e){return typeof e=="symbol"||yH(e)&&xH(e)==bH}var fc=wH,jH=Cr,NH=fc,SH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_H=/^\w*$/;function EH(e,t){if(jH(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||NH(e)?!0:_H.test(e)||!SH.test(e)||t!=null&&e in Object(t)}var vj=EH;function PH(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ga=PH;const hc=ze(Ga);var kH=Ys,AH=Ga,CH="[object AsyncFunction]",OH="[object Function]",TH="[object GeneratorFunction]",IH="[object Proxy]";function $H(e){if(!AH(e))return!1;var t=kH(e);return t==OH||t==TH||t==CH||t==IH}var xj=$H;const pe=ze(xj);var RH=vs,MH=RH["__core-js_shared__"],DH=MH,Vv=DH,p_=function(){var e=/[^.]+$/.exec(Vv&&Vv.keys&&Vv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function LH(e){return!!p_&&p_ in e}var UH=LH,BH=Function.prototype,FH=BH.toString;function zH(e){if(e!=null){try{return FH.call(e)}catch{}try{return e+""}catch{}}return""}var d5=zH,VH=xj,WH=UH,qH=Ga,KH=d5,HH=/[\\^$.*+?()[\]{}|]/g,GH=/^\[object .+?Constructor\]$/,YH=Function.prototype,JH=Object.prototype,XH=YH.toString,ZH=JH.hasOwnProperty,QH=RegExp("^"+XH.call(ZH).replace(HH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eG(e){if(!qH(e)||WH(e))return!1;var t=VH(e)?QH:GH;return t.test(KH(e))}var tG=eG;function rG(e,t){return e==null?void 0:e[t]}var nG=rG,sG=tG,aG=nG;function iG(e,t){var r=aG(e,t);return sG(r)?r:void 0}var io=iG,oG=io,lG=oG(Object,"create"),Xp=lG,g_=Xp;function cG(){this.__data__=g_?g_(null):{},this.size=0}var uG=cG;function dG(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var fG=dG,hG=Xp,mG="__lodash_hash_undefined__",pG=Object.prototype,gG=pG.hasOwnProperty;function vG(e){var t=this.__data__;if(hG){var r=t[e];return r===mG?void 0:r}return gG.call(t,e)?t[e]:void 0}var xG=vG,yG=Xp,bG=Object.prototype,wG=bG.hasOwnProperty;function jG(e){var t=this.__data__;return yG?t[e]!==void 0:wG.call(t,e)}var NG=jG,SG=Xp,_G="__lodash_hash_undefined__";function EG(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=SG&&t===void 0?_G:t,this}var PG=EG,kG=uG,AG=fG,CG=xG,OG=NG,TG=PG;function mc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mc.prototype.clear=kG;mc.prototype.delete=AG;mc.prototype.get=CG;mc.prototype.has=OG;mc.prototype.set=TG;var IG=mc;function $G(){this.__data__=[],this.size=0}var RG=$G;function MG(e,t){return e===t||e!==e&&t!==t}var yj=MG,DG=yj;function LG(e,t){for(var r=e.length;r--;)if(DG(e[r][0],t))return r;return-1}var Zp=LG,UG=Zp,BG=Array.prototype,FG=BG.splice;function zG(e){var t=this.__data__,r=UG(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():FG.call(t,r,1),--this.size,!0}var VG=zG,WG=Zp;function qG(e){var t=this.__data__,r=WG(t,e);return r<0?void 0:t[r][1]}var KG=qG,HG=Zp;function GG(e){return HG(this.__data__,e)>-1}var YG=GG,JG=Zp;function XG(e,t){var r=this.__data__,n=JG(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var ZG=XG,QG=RG,eY=VG,tY=KG,rY=YG,nY=ZG;function pc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}pc.prototype.clear=QG;pc.prototype.delete=eY;pc.prototype.get=tY;pc.prototype.has=rY;pc.prototype.set=nY;var Qp=pc,sY=io,aY=vs,iY=sY(aY,"Map"),bj=iY,v_=IG,oY=Qp,lY=bj;function cY(){this.size=0,this.__data__={hash:new v_,map:new(lY||oY),string:new v_}}var uY=cY;function dY(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var fY=dY,hY=fY;function mY(e,t){var r=e.__data__;return hY(t)?r[typeof t=="string"?"string":"hash"]:r.map}var eg=mY,pY=eg;function gY(e){var t=pY(this,e).delete(e);return this.size-=t?1:0,t}var vY=gY,xY=eg;function yY(e){return xY(this,e).get(e)}var bY=yY,wY=eg;function jY(e){return wY(this,e).has(e)}var NY=jY,SY=eg;function _Y(e,t){var r=SY(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var EY=_Y,PY=uY,kY=vY,AY=bY,CY=NY,OY=EY;function gc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gc.prototype.clear=PY;gc.prototype.delete=kY;gc.prototype.get=AY;gc.prototype.has=CY;gc.prototype.set=OY;var wj=gc,f5=wj,TY="Expected a function";function jj(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(TY);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(jj.Cache||f5),r}jj.Cache=f5;var h5=jj;const IY=ze(h5);var $Y=h5,RY=500;function MY(e){var t=$Y(e,function(n){return r.size===RY&&r.clear(),n}),r=t.cache;return t}var DY=MY,LY=DY,UY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,BY=/\\(\\)?/g,FY=LY(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(UY,function(r,n,a,i){t.push(a?i.replace(BY,"$1"):n||r)}),t}),zY=FY;function VY(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Nj=VY,x_=qd,WY=Nj,qY=Cr,KY=fc,y_=x_?x_.prototype:void 0,b_=y_?y_.toString:void 0;function m5(e){if(typeof e=="string")return e;if(qY(e))return WY(e,m5)+"";if(KY(e))return b_?b_.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var HY=m5,GY=HY;function YY(e){return e==null?"":GY(e)}var p5=YY,JY=Cr,XY=vj,ZY=zY,QY=p5;function eJ(e,t){return JY(e)?e:XY(e,t)?[e]:ZY(QY(e))}var g5=eJ,tJ=fc;function rJ(e){if(typeof e=="string"||tJ(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var tg=rJ,nJ=g5,sJ=tg;function aJ(e,t){t=nJ(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[sJ(t[r++])];return r&&r==n?e:void 0}var Sj=aJ,iJ=Sj;function oJ(e,t,r){var n=e==null?void 0:iJ(e,t);return n===void 0?r:n}var v5=oJ;const Hr=ze(v5);function lJ(e){return e==null}var cJ=lJ;const be=ze(cJ);var uJ=Ys,dJ=Cr,fJ=Js,hJ="[object String]";function mJ(e){return typeof e=="string"||!dJ(e)&&fJ(e)&&uJ(e)==hJ}var pJ=mJ;const Ki=ze(pJ);var x5={exports:{}},We={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _j=Symbol.for("react.element"),Ej=Symbol.for("react.portal"),rg=Symbol.for("react.fragment"),ng=Symbol.for("react.strict_mode"),sg=Symbol.for("react.profiler"),ag=Symbol.for("react.provider"),ig=Symbol.for("react.context"),gJ=Symbol.for("react.server_context"),og=Symbol.for("react.forward_ref"),lg=Symbol.for("react.suspense"),cg=Symbol.for("react.suspense_list"),ug=Symbol.for("react.memo"),dg=Symbol.for("react.lazy"),vJ=Symbol.for("react.offscreen"),y5;y5=Symbol.for("react.module.reference");function vn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _j:switch(e=e.type,e){case rg:case sg:case ng:case lg:case cg:return e;default:switch(e=e&&e.$$typeof,e){case gJ:case ig:case og:case dg:case ug:case ag:return e;default:return t}}case Ej:return t}}}We.ContextConsumer=ig;We.ContextProvider=ag;We.Element=_j;We.ForwardRef=og;We.Fragment=rg;We.Lazy=dg;We.Memo=ug;We.Portal=Ej;We.Profiler=sg;We.StrictMode=ng;We.Suspense=lg;We.SuspenseList=cg;We.isAsyncMode=function(){return!1};We.isConcurrentMode=function(){return!1};We.isContextConsumer=function(e){return vn(e)===ig};We.isContextProvider=function(e){return vn(e)===ag};We.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_j};We.isForwardRef=function(e){return vn(e)===og};We.isFragment=function(e){return vn(e)===rg};We.isLazy=function(e){return vn(e)===dg};We.isMemo=function(e){return vn(e)===ug};We.isPortal=function(e){return vn(e)===Ej};We.isProfiler=function(e){return vn(e)===sg};We.isStrictMode=function(e){return vn(e)===ng};We.isSuspense=function(e){return vn(e)===lg};We.isSuspenseList=function(e){return vn(e)===cg};We.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===rg||e===sg||e===ng||e===lg||e===cg||e===vJ||typeof e=="object"&&e!==null&&(e.$$typeof===dg||e.$$typeof===ug||e.$$typeof===ag||e.$$typeof===ig||e.$$typeof===og||e.$$typeof===y5||e.getModuleId!==void 0)};We.typeOf=vn;x5.exports=We;var xJ=x5.exports,yJ=Ys,bJ=Js,wJ="[object Number]";function jJ(e){return typeof e=="number"||bJ(e)&&yJ(e)==wJ}var b5=jJ;const NJ=ze(b5);var SJ=b5;function _J(e){return SJ(e)&&e!=+e}var EJ=_J;const Kd=ze(EJ);var or=function(t){return t===0?0:t>0?1:-1},Ni=function(t){return Ki(t)&&t.indexOf("%")===t.length-1},Z=function(t){return NJ(t)&&!Kd(t)},PJ=function(t){return be(t)},Dt=function(t){return Z(t)||Ki(t)},kJ=0,vc=function(t){var r=++kJ;return"".concat(t||"").concat(r)},lr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(t)&&!Ki(t))return n;var i;if(Ni(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Kd(i)&&(i=n),a&&i>r&&(i=r),i},ga=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},AJ=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Br=function(t,r){return Z(t)&&Z(r)?function(n){return t+n*(r-t)}:function(){return r}};function om(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Hr(n,t))===r})}var CJ=function(t,r){return Z(t)&&Z(r)?t-r:Ki(t)&&Ki(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function al(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Y0(e){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y0(e)}var OJ=["viewBox","children"],TJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],w_=["points","pathLength"],Wv={svg:OJ,polygon:w_,polyline:w_},Pj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],lm=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),!hc(n))return null;var a={};return Object.keys(n).forEach(function(i){Pj.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},IJ=function(t,r,n){return function(a){return t(r,n,a),null}},Hi=function(t,r,n){if(!hc(t)||Y0(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];Pj.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=IJ(o,r,n))}),a},$J=["children"],RJ=["children"];function j_(e,t){if(e==null)return{};var r=MJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function J0(e){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J0(e)}var N_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ts=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},S_=null,qv=null,kj=function e(t){if(t===S_&&Array.isArray(qv))return qv;var r=[];return b.Children.forEach(t,function(n){be(n)||(xJ.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),qv=r,S_=t,r};function Gr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ts(a)}):n=[Ts(t)],kj(e).forEach(function(a){var i=Hr(a,"type.displayName")||Hr(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Dr(e,t){var r=Gr(e,t);return r&&r[0]}var __=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Z(n)||n<=0||!Z(a)||a<=0)},DJ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],LJ=function(t){return t&&t.type&&Ki(t.type)&&DJ.indexOf(t.type)>=0},UJ=function(t){return t&&J0(t)==="object"&&"clipDot"in t},BJ=function(t,r,n,a){var i,o=(i=Wv==null?void 0:Wv[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!pe(t)&&(a&&o.includes(r)||TJ.includes(r))||n&&Pj.includes(r)},fe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(b.isValidElement(t)&&(a=t.props),!hc(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;BJ((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},X0=function e(t,r){if(t===r)return!0;var n=b.Children.count(t);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return E_(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!E_(i,o))return!1}return!0},E_=function(t,r){if(be(t)&&be(r))return!0;if(!be(t)&&!be(r)){var n=t.props||{},a=n.children,i=j_(n,$J),o=r.props||{},l=o.children,c=j_(o,RJ);return a&&l?al(i,c)&&X0(a,l):!a&&!l?al(i,c):!1}return!1},P_=function(t,r){var n=[],a={};return kj(t).forEach(function(i,o){if(LJ(i))n.push(i);else if(i){var l=Ts(i.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!a[l])){var d=u(i,l,o);n.push(d),a[l]=!0}}}),n},FJ=function(t){var r=t&&t.type;return r&&N_[r]?N_[r]:null},zJ=function(t,r){return kj(r).indexOf(t)},VJ=["children","width","height","viewBox","className","style","title","desc"];function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z0.apply(this,arguments)}function WJ(e,t){if(e==null)return{};var r=qJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Q0(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=WJ(e,VJ),f=a||{width:r,height:n,x:0,y:0},d=Se("recharts-surface",i);return P.createElement("svg",Z0({},fe(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),P.createElement("title",null,l),P.createElement("desc",null,c),t)}var KJ=["children","className"];function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(this,arguments)}function HJ(e,t){if(e==null)return{};var r=GJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Le=P.forwardRef(function(e,t){var r=e.children,n=e.className,a=HJ(e,KJ),i=Se("recharts-layer",n);return P.createElement("g",ey({className:i},fe(a,!0),{ref:t}),r)}),Un=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function YJ(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var JJ=YJ,XJ=JJ;function ZJ(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:XJ(e,t,r)}var QJ=ZJ,eX="\\ud800-\\udfff",tX="\\u0300-\\u036f",rX="\\ufe20-\\ufe2f",nX="\\u20d0-\\u20ff",sX=tX+rX+nX,aX="\\ufe0e\\ufe0f",iX="\\u200d",oX=RegExp("["+iX+eX+sX+aX+"]");function lX(e){return oX.test(e)}var w5=lX;function cX(e){return e.split("")}var uX=cX,j5="\\ud800-\\udfff",dX="\\u0300-\\u036f",fX="\\ufe20-\\ufe2f",hX="\\u20d0-\\u20ff",mX=dX+fX+hX,pX="\\ufe0e\\ufe0f",gX="["+j5+"]",ty="["+mX+"]",ry="\\ud83c[\\udffb-\\udfff]",vX="(?:"+ty+"|"+ry+")",N5="[^"+j5+"]",S5="(?:\\ud83c[\\udde6-\\uddff]){2}",_5="[\\ud800-\\udbff][\\udc00-\\udfff]",xX="\\u200d",E5=vX+"?",P5="["+pX+"]?",yX="(?:"+xX+"(?:"+[N5,S5,_5].join("|")+")"+P5+E5+")*",bX=P5+E5+yX,wX="(?:"+[N5+ty+"?",ty,S5,_5,gX].join("|")+")",jX=RegExp(ry+"(?="+ry+")|"+wX+bX,"g");function NX(e){return e.match(jX)||[]}var SX=NX,_X=uX,EX=w5,PX=SX;function kX(e){return EX(e)?PX(e):_X(e)}var AX=kX,CX=QJ,OX=w5,TX=AX,IX=p5;function $X(e){return function(t){t=IX(t);var r=OX(t)?TX(t):void 0,n=r?r[0]:t.charAt(0),a=r?CX(r,1).join(""):t.slice(1);return n[e]()+a}}var RX=$X,MX=RX,DX=MX("toUpperCase"),LX=DX;const fg=ze(LX);function Qe(e){return function(){return e}}const k5=Math.cos,cm=Math.sin,Kn=Math.sqrt,um=Math.PI,hg=2*um,ny=Math.PI,sy=2*ny,li=1e-6,UX=sy-li;function A5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function BX(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return A5;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class FX{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?A5:BX(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,f=o-t,d=l-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>li)if(!(Math.abs(d*c-u*f)>li)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,v=a-l,p=c*c+u*u,x=m*m+v*v,g=Math.sqrt(p),y=Math.sqrt(h),w=i*Math.tan((ny-Math.acos((p+h-x)/(2*g*y)))/2),S=w/y,j=w/g;Math.abs(S-1)>li&&this._append`L${t+S*f},${r+S*d}`,this._append`A${i},${i},0,0,${+(d*m>f*v)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,f=r+c,d=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>li||Math.abs(this._y1-f)>li)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%sy+sy),h>UX?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:h>li&&this._append`A${n},${n},0,${+(h>=ny)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Aj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new FX(t)}function Cj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function C5(e){this._context=e}C5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function mg(e){return new C5(e)}function O5(e){return e[0]}function T5(e){return e[1]}function I5(e,t){var r=Qe(!0),n=null,a=mg,i=null,o=Aj(l);e=typeof e=="function"?e:e===void 0?O5:Qe(e),t=typeof t=="function"?t:t===void 0?T5:Qe(t);function l(c){var u,f=(c=Cj(c)).length,d,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,u,c),+t(d,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Qe(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Qe(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Qe(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Df(e,t,r){var n=null,a=Qe(!0),i=null,o=mg,l=null,c=Aj(u);e=typeof e=="function"?e:e===void 0?O5:Qe(+e),t=typeof t=="function"?t:Qe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?T5:Qe(+r);function u(d){var h,m,v,p=(d=Cj(d)).length,x,g=!1,y,w=new Array(p),S=new Array(p);for(i==null&&(l=o(y=c())),h=0;h<=p;++h){if(!(h<p&&a(x=d[h],h,d))===g)if(g=!g)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=m;--v)l.point(w[v],S[v]);l.lineEnd(),l.areaEnd()}g&&(w[h]=+e(x,h,d),S[h]=+t(x,h,d),l.point(n?+n(x,h,d):w[h],r?+r(x,h,d):S[h]))}if(y)return l=null,y+""||null}function f(){return I5().defined(a).curve(o).context(i)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Qe(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Qe(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Qe(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Qe(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Qe(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Qe(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Qe(!!d),u):a},u.curve=function(d){return arguments.length?(o=d,i!=null&&(l=o(i)),u):o},u.context=function(d){return arguments.length?(d==null?i=l=null:l=o(i=d),u):i},u}class $5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function zX(e){return new $5(e,!0)}function VX(e){return new $5(e,!1)}const Oj={draw(e,t){const r=Kn(t/um);e.moveTo(r,0),e.arc(0,0,r,0,hg)}},WX={draw(e,t){const r=Kn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},R5=Kn(1/3),qX=R5*2,KX={draw(e,t){const r=Kn(t/qX),n=r*R5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},HX={draw(e,t){const r=Kn(t),n=-r/2;e.rect(n,n,r,r)}},GX=.8908130915292852,M5=cm(um/10)/cm(7*um/10),YX=cm(hg/10)*M5,JX=-k5(hg/10)*M5,XX={draw(e,t){const r=Kn(t*GX),n=YX*r,a=JX*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=hg*i/5,l=k5(o),c=cm(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Kv=Kn(3),ZX={draw(e,t){const r=-Kn(t/(Kv*3));e.moveTo(0,r*2),e.lineTo(-Kv*r,-r),e.lineTo(Kv*r,-r),e.closePath()}},Qr=-.5,en=Kn(3)/2,ay=1/Kn(12),QX=(ay/2+1)*3,eZ={draw(e,t){const r=Kn(t/QX),n=r/2,a=r*ay,i=n,o=r*ay+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Qr*n-en*a,en*n+Qr*a),e.lineTo(Qr*i-en*o,en*i+Qr*o),e.lineTo(Qr*l-en*c,en*l+Qr*c),e.lineTo(Qr*n+en*a,Qr*a-en*n),e.lineTo(Qr*i+en*o,Qr*o-en*i),e.lineTo(Qr*l+en*c,Qr*c-en*l),e.closePath()}};function tZ(e,t){let r=null,n=Aj(a);e=typeof e=="function"?e:Qe(e||Oj),t=typeof t=="function"?t:Qe(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Qe(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Qe(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function dm(){}function fm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function D5(e){this._context=e}D5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rZ(e){return new D5(e)}function L5(e){this._context=e}L5.prototype={areaStart:dm,areaEnd:dm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:fm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nZ(e){return new L5(e)}function U5(e){this._context=e}U5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:fm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sZ(e){return new U5(e)}function B5(e){this._context=e}B5.prototype={areaStart:dm,areaEnd:dm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function aZ(e){return new B5(e)}function k_(e){return e<0?-1:1}function A_(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(k_(i)+k_(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function C_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Hv(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function hm(e){this._context=e}hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hv(this,this._t0,C_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Hv(this,C_(this,r=A_(this,e,t)),r);break;default:Hv(this,this._t0,r=A_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function F5(e){this._context=new z5(e)}(F5.prototype=Object.create(hm.prototype)).point=function(e,t){hm.prototype.point.call(this,t,e)};function z5(e){this._context=e}z5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function iZ(e){return new hm(e)}function oZ(e){return new F5(e)}function V5(e){this._context=e}V5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=O_(e),a=O_(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function O_(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function lZ(e){return new V5(e)}function pg(e,t){this._context=e,this._t=t}pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function cZ(e){return new pg(e,.5)}function uZ(e){return new pg(e,0)}function dZ(e){return new pg(e,1)}function Nl(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function iy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function fZ(e,t){return e[t]}function hZ(e){const t=[];return t.key=e,t}function mZ(){var e=Qe([]),t=iy,r=Nl,n=fZ;function a(i){var o=Array.from(e.apply(this,arguments),hZ),l,c=o.length,u=-1,f;for(const d of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(d,o[l].key,u,i)]).data=d;for(l=0,f=Cj(t(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Qe(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Qe(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?iy:typeof i=="function"?i:Qe(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Nl,a):r},a}function pZ(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Nl(e,t)}}function gZ(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Nl(e,t)}}function vZ(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var f=e[t[l]],d=f[n][1]||0,h=f[n-1][1]||0,m=(d-h)/2,v=0;v<l;++v){var p=e[t[v]],x=p[n][1]||0,g=p[n-1][1]||0;m+=x-g}c+=d,u+=m*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Nl(e,t)}}function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}var xZ=["type","size","sizeType"];function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(this,arguments)}function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(n){yZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yZ(e,t,r){return t=bZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bZ(e){var t=wZ(e,"string");return Ju(t)=="symbol"?t:t+""}function wZ(e,t){if(Ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jZ(e,t){if(e==null)return{};var r=NZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var W5={symbolCircle:Oj,symbolCross:WX,symbolDiamond:KX,symbolSquare:HX,symbolStar:XX,symbolTriangle:ZX,symbolWye:eZ},SZ=Math.PI/180,_Z=function(t){var r="symbol".concat(fg(t));return W5[r]||Oj},EZ=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*SZ;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},PZ=function(t,r){W5["symbol".concat(fg(t))]=r},Tj=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=jZ(t,xZ),u=I_(I_({},c),{},{type:n,size:i,sizeType:l}),f=function(){var x=_Z(n),g=tZ().type(x).size(EZ(i,l,n));return g()},d=u.className,h=u.cx,m=u.cy,v=fe(u,!0);return h===+h&&m===+m&&i===+i?P.createElement("path",oy({},v,{className:Se("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:f()})):null};Tj.registerSymbol=PZ;function Sl(e){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ly.apply(this,arguments)}function $_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(r),!0).forEach(function(n){Xu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K5(n.key),n)}}function OZ(e,t,r){return t&&CZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TZ(e,t,r){return t=mm(t),IZ(e,q5()?Reflect.construct(t,r||[],mm(e).constructor):t.apply(e,r))}function IZ(e,t){if(t&&(Sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Z(e)}function $Z(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q5=function(){return!!e})()}function mm(e){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mm(e)}function RZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cy(e,t)}function cy(e,t){return cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cy(e,t)}function Xu(e,t,r){return t=K5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K5(e){var t=MZ(e,"string");return Sl(t)=="symbol"?t:t+""}function MZ(e,t){if(Sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tn=32,Ij=function(e){function t(){return AZ(this,t),TZ(this,t,arguments)}return RZ(t,e),OZ(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=tn/2,o=tn/6,l=tn/3,c=n.inactive?a:n.color;if(n.type==="plainline")return P.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:tn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return P.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(tn,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return P.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(tn/8,"h").concat(tn,"v").concat(tn*3/4,"h").concat(-tn,"z"),className:"recharts-legend-icon"});if(P.isValidElement(n.legendIcon)){var u=kZ({},n);return delete u.legendIcon,P.cloneElement(n.legendIcon,u)}return P.createElement(Tj,{fill:c,cx:i,cy:i,size:tn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:tn,height:tn},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,v){var p=m.formatter||c,x=Se(Xu(Xu({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var g=pe(m.value)?null:m.value;Un(!pe(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return P.createElement("li",ly({className:x,style:d,key:"legend-item-".concat(v)},Hi(n.props,m,v)),P.createElement(Q0,{width:o,height:o,viewBox:f,style:h},n.renderIcon(m)),P.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(g,m,v):g))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return P.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(b.PureComponent);Xu(Ij,"displayName","Legend");Xu(Ij,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var DZ=Qp;function LZ(){this.__data__=new DZ,this.size=0}var UZ=LZ;function BZ(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var FZ=BZ;function zZ(e){return this.__data__.get(e)}var VZ=zZ;function WZ(e){return this.__data__.has(e)}var qZ=WZ,KZ=Qp,HZ=bj,GZ=wj,YZ=200;function JZ(e,t){var r=this.__data__;if(r instanceof KZ){var n=r.__data__;if(!HZ||n.length<YZ-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new GZ(n)}return r.set(e,t),this.size=r.size,this}var XZ=JZ,ZZ=Qp,QZ=UZ,eQ=FZ,tQ=VZ,rQ=qZ,nQ=XZ;function xc(e){var t=this.__data__=new ZZ(e);this.size=t.size}xc.prototype.clear=QZ;xc.prototype.delete=eQ;xc.prototype.get=tQ;xc.prototype.has=rQ;xc.prototype.set=nQ;var H5=xc,sQ="__lodash_hash_undefined__";function aQ(e){return this.__data__.set(e,sQ),this}var iQ=aQ;function oQ(e){return this.__data__.has(e)}var lQ=oQ,cQ=wj,uQ=iQ,dQ=lQ;function pm(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new cQ;++t<r;)this.add(e[t])}pm.prototype.add=pm.prototype.push=uQ;pm.prototype.has=dQ;var G5=pm;function fQ(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Y5=fQ;function hQ(e,t){return e.has(t)}var J5=hQ,mQ=G5,pQ=Y5,gQ=J5,vQ=1,xQ=2;function yQ(e,t,r,n,a,i){var o=r&vQ,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),f=i.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,m=r&xQ?new mQ:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var v=e[d],p=t[d];if(n)var x=o?n(p,v,d,t,e,i):n(v,p,d,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(m){if(!pQ(t,function(g,y){if(!gQ(m,y)&&(v===g||a(v,g,r,n,i)))return m.push(y)})){h=!1;break}}else if(!(v===p||a(v,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var X5=yQ,bQ=vs,wQ=bQ.Uint8Array,jQ=wQ;function NQ(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var SQ=NQ;function _Q(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var $j=_Q,R_=qd,M_=jQ,EQ=yj,PQ=X5,kQ=SQ,AQ=$j,CQ=1,OQ=2,TQ="[object Boolean]",IQ="[object Date]",$Q="[object Error]",RQ="[object Map]",MQ="[object Number]",DQ="[object RegExp]",LQ="[object Set]",UQ="[object String]",BQ="[object Symbol]",FQ="[object ArrayBuffer]",zQ="[object DataView]",D_=R_?R_.prototype:void 0,Gv=D_?D_.valueOf:void 0;function VQ(e,t,r,n,a,i,o){switch(r){case zQ:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case FQ:return!(e.byteLength!=t.byteLength||!i(new M_(e),new M_(t)));case TQ:case IQ:case MQ:return EQ(+e,+t);case $Q:return e.name==t.name&&e.message==t.message;case DQ:case UQ:return e==t+"";case RQ:var l=kQ;case LQ:var c=n&CQ;if(l||(l=AQ),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=OQ,o.set(e,t);var f=PQ(l(e),l(t),n,a,i,o);return o.delete(e),f;case BQ:if(Gv)return Gv.call(e)==Gv.call(t)}return!1}var WQ=VQ;function qQ(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Z5=qQ,KQ=Z5,HQ=Cr;function GQ(e,t,r){var n=t(e);return HQ(e)?n:KQ(n,r(e))}var YQ=GQ;function JQ(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var XQ=JQ;function ZQ(){return[]}var QQ=ZQ,eee=XQ,tee=QQ,ree=Object.prototype,nee=ree.propertyIsEnumerable,L_=Object.getOwnPropertySymbols,see=L_?function(e){return e==null?[]:(e=Object(e),eee(L_(e),function(t){return nee.call(e,t)}))}:tee,aee=see;function iee(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var oee=iee,lee=Ys,cee=Js,uee="[object Arguments]";function dee(e){return cee(e)&&lee(e)==uee}var fee=dee,U_=fee,hee=Js,Q5=Object.prototype,mee=Q5.hasOwnProperty,pee=Q5.propertyIsEnumerable,gee=U_(function(){return arguments}())?U_:function(e){return hee(e)&&mee.call(e,"callee")&&!pee.call(e,"callee")},Rj=gee,gm={exports:{}};function vee(){return!1}var xee=vee;gm.exports;(function(e,t){var r=vs,n=xee,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(gm,gm.exports);var e$=gm.exports,yee=9007199254740991,bee=/^(?:0|[1-9]\d*)$/;function wee(e,t){var r=typeof e;return t=t??yee,!!t&&(r=="number"||r!="symbol"&&bee.test(e))&&e>-1&&e%1==0&&e<t}var Mj=wee,jee=9007199254740991;function Nee(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=jee}var Dj=Nee,See=Ys,_ee=Dj,Eee=Js,Pee="[object Arguments]",kee="[object Array]",Aee="[object Boolean]",Cee="[object Date]",Oee="[object Error]",Tee="[object Function]",Iee="[object Map]",$ee="[object Number]",Ree="[object Object]",Mee="[object RegExp]",Dee="[object Set]",Lee="[object String]",Uee="[object WeakMap]",Bee="[object ArrayBuffer]",Fee="[object DataView]",zee="[object Float32Array]",Vee="[object Float64Array]",Wee="[object Int8Array]",qee="[object Int16Array]",Kee="[object Int32Array]",Hee="[object Uint8Array]",Gee="[object Uint8ClampedArray]",Yee="[object Uint16Array]",Jee="[object Uint32Array]",at={};at[zee]=at[Vee]=at[Wee]=at[qee]=at[Kee]=at[Hee]=at[Gee]=at[Yee]=at[Jee]=!0;at[Pee]=at[kee]=at[Bee]=at[Aee]=at[Fee]=at[Cee]=at[Oee]=at[Tee]=at[Iee]=at[$ee]=at[Ree]=at[Mee]=at[Dee]=at[Lee]=at[Uee]=!1;function Xee(e){return Eee(e)&&_ee(e.length)&&!!at[See(e)]}var Zee=Xee;function Qee(e){return function(t){return e(t)}}var t$=Qee,vm={exports:{}};vm.exports;(function(e,t){var r=c5,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(vm,vm.exports);var ete=vm.exports,tte=Zee,rte=t$,B_=ete,F_=B_&&B_.isTypedArray,nte=F_?rte(F_):tte,r$=nte,ste=oee,ate=Rj,ite=Cr,ote=e$,lte=Mj,cte=r$,ute=Object.prototype,dte=ute.hasOwnProperty;function fte(e,t){var r=ite(e),n=!r&&ate(e),a=!r&&!n&&ote(e),i=!r&&!n&&!a&&cte(e),o=r||n||a||i,l=o?ste(e.length,String):[],c=l.length;for(var u in e)(t||dte.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||lte(u,c)))&&l.push(u);return l}var hte=fte,mte=Object.prototype;function pte(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||mte;return e===r}var gte=pte;function vte(e,t){return function(r){return e(t(r))}}var n$=vte,xte=n$,yte=xte(Object.keys,Object),bte=yte,wte=gte,jte=bte,Nte=Object.prototype,Ste=Nte.hasOwnProperty;function _te(e){if(!wte(e))return jte(e);var t=[];for(var r in Object(e))Ste.call(e,r)&&r!="constructor"&&t.push(r);return t}var Ete=_te,Pte=xj,kte=Dj;function Ate(e){return e!=null&&kte(e.length)&&!Pte(e)}var Hd=Ate,Cte=hte,Ote=Ete,Tte=Hd;function Ite(e){return Tte(e)?Cte(e):Ote(e)}var gg=Ite,$te=YQ,Rte=aee,Mte=gg;function Dte(e){return $te(e,Mte,Rte)}var Lte=Dte,z_=Lte,Ute=1,Bte=Object.prototype,Fte=Bte.hasOwnProperty;function zte(e,t,r,n,a,i){var o=r&Ute,l=z_(e),c=l.length,u=z_(t),f=u.length;if(c!=f&&!o)return!1;for(var d=c;d--;){var h=l[d];if(!(o?h in t:Fte.call(t,h)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var p=!0;i.set(e,t),i.set(t,e);for(var x=o;++d<c;){h=l[d];var g=e[h],y=t[h];if(n)var w=o?n(y,g,h,t,e,i):n(g,y,h,e,t,i);if(!(w===void 0?g===y||a(g,y,r,n,i):w)){p=!1;break}x||(x=h=="constructor")}if(p&&!x){var S=e.constructor,j=t.constructor;S!=j&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(p=!1)}return i.delete(e),i.delete(t),p}var Vte=zte,Wte=io,qte=vs,Kte=Wte(qte,"DataView"),Hte=Kte,Gte=io,Yte=vs,Jte=Gte(Yte,"Promise"),Xte=Jte,Zte=io,Qte=vs,ere=Zte(Qte,"Set"),s$=ere,tre=io,rre=vs,nre=tre(rre,"WeakMap"),sre=nre,uy=Hte,dy=bj,fy=Xte,hy=s$,my=sre,a$=Ys,yc=d5,V_="[object Map]",are="[object Object]",W_="[object Promise]",q_="[object Set]",K_="[object WeakMap]",H_="[object DataView]",ire=yc(uy),ore=yc(dy),lre=yc(fy),cre=yc(hy),ure=yc(my),ci=a$;(uy&&ci(new uy(new ArrayBuffer(1)))!=H_||dy&&ci(new dy)!=V_||fy&&ci(fy.resolve())!=W_||hy&&ci(new hy)!=q_||my&&ci(new my)!=K_)&&(ci=function(e){var t=a$(e),r=t==are?e.constructor:void 0,n=r?yc(r):"";if(n)switch(n){case ire:return H_;case ore:return V_;case lre:return W_;case cre:return q_;case ure:return K_}return t});var dre=ci,Yv=H5,fre=X5,hre=WQ,mre=Vte,G_=dre,Y_=Cr,J_=e$,pre=r$,gre=1,X_="[object Arguments]",Z_="[object Array]",Lf="[object Object]",vre=Object.prototype,Q_=vre.hasOwnProperty;function xre(e,t,r,n,a,i){var o=Y_(e),l=Y_(t),c=o?Z_:G_(e),u=l?Z_:G_(t);c=c==X_?Lf:c,u=u==X_?Lf:u;var f=c==Lf,d=u==Lf,h=c==u;if(h&&J_(e)){if(!J_(t))return!1;o=!0,f=!1}if(h&&!f)return i||(i=new Yv),o||pre(e)?fre(e,t,r,n,a,i):hre(e,t,c,r,n,a,i);if(!(r&gre)){var m=f&&Q_.call(e,"__wrapped__"),v=d&&Q_.call(t,"__wrapped__");if(m||v){var p=m?e.value():e,x=v?t.value():t;return i||(i=new Yv),a(p,x,r,n,i)}}return h?(i||(i=new Yv),mre(e,t,r,n,a,i)):!1}var yre=xre,bre=yre,e2=Js;function i$(e,t,r,n,a){return e===t?!0:e==null||t==null||!e2(e)&&!e2(t)?e!==e&&t!==t:bre(e,t,r,n,i$,a)}var Lj=i$,wre=H5,jre=Lj,Nre=1,Sre=2;function _re(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],f=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new wre;if(n)var h=n(u,f,c,e,t,d);if(!(h===void 0?jre(f,u,Nre|Sre,n,d):h))return!1}}return!0}var Ere=_re,Pre=Ga;function kre(e){return e===e&&!Pre(e)}var o$=kre,Are=o$,Cre=gg;function Ore(e){for(var t=Cre(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Are(a)]}return t}var Tre=Ore;function Ire(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var l$=Ire,$re=Ere,Rre=Tre,Mre=l$;function Dre(e){var t=Rre(e);return t.length==1&&t[0][2]?Mre(t[0][0],t[0][1]):function(r){return r===e||$re(r,e,t)}}var Lre=Dre;function Ure(e,t){return e!=null&&t in Object(e)}var Bre=Ure,Fre=g5,zre=Rj,Vre=Cr,Wre=Mj,qre=Dj,Kre=tg;function Hre(e,t,r){t=Fre(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=Kre(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&qre(a)&&Wre(o,a)&&(Vre(e)||zre(e)))}var Gre=Hre,Yre=Bre,Jre=Gre;function Xre(e,t){return e!=null&&Jre(e,t,Yre)}var Zre=Xre,Qre=Lj,ene=v5,tne=Zre,rne=vj,nne=o$,sne=l$,ane=tg,ine=1,one=2;function lne(e,t){return rne(e)&&nne(t)?sne(ane(e),t):function(r){var n=ene(r,e);return n===void 0&&n===t?tne(r,e):Qre(t,n,ine|one)}}var cne=lne;function une(e){return e}var bc=une;function dne(e){return function(t){return t==null?void 0:t[e]}}var fne=dne,hne=Sj;function mne(e){return function(t){return hne(t,e)}}var pne=mne,gne=fne,vne=pne,xne=vj,yne=tg;function bne(e){return xne(e)?gne(yne(e)):vne(e)}var wne=bne,jne=Lre,Nne=cne,Sne=bc,_ne=Cr,Ene=wne;function Pne(e){return typeof e=="function"?e:e==null?Sne:typeof e=="object"?_ne(e)?Nne(e[0],e[1]):jne(e):Ene(e)}var xs=Pne;function kne(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var c$=kne;function Ane(e){return e!==e}var Cne=Ane;function One(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Tne=One,Ine=c$,$ne=Cne,Rne=Tne;function Mne(e,t,r){return t===t?Rne(e,t,r):Ine(e,$ne,r)}var Dne=Mne,Lne=Dne;function Une(e,t){var r=e==null?0:e.length;return!!r&&Lne(e,t,0)>-1}var Bne=Une;function Fne(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var zne=Fne;function Vne(){}var Wne=Vne,Jv=s$,qne=Wne,Kne=$j,Hne=1/0,Gne=Jv&&1/Kne(new Jv([,-0]))[1]==Hne?function(e){return new Jv(e)}:qne,Yne=Gne,Jne=G5,Xne=Bne,Zne=zne,Qne=J5,ese=Yne,tse=$j,rse=200;function nse(e,t,r){var n=-1,a=Xne,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=Zne;else if(i>=rse){var u=t?null:ese(e);if(u)return tse(u);o=!1,a=Qne,c=new Jne}else c=t?[]:l;e:for(;++n<i;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,o&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),l.push(f)}else a(c,d,r)||(c!==l&&c.push(d),l.push(f))}return l}var sse=nse,ase=xs,ise=sse;function ose(e,t){return e&&e.length?ise(e,ase(t)):[]}var lse=ose;const t2=ze(lse);function u$(e,t,r){return t===!0?t2(e,r):pe(t)?t2(e,t):e}function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}var cse=["ref"];function r2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(r),!0).forEach(function(n){vg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function use(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f$(n.key),n)}}function dse(e,t,r){return t&&n2(e.prototype,t),r&&n2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fse(e,t,r){return t=xm(t),hse(e,d$()?Reflect.construct(t,r||[],xm(e).constructor):t.apply(e,r))}function hse(e,t){if(t&&(_l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mse(e)}function mse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d$=function(){return!!e})()}function xm(e){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xm(e)}function pse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&py(e,t)}function py(e,t){return py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},py(e,t)}function vg(e,t,r){return t=f$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f$(e){var t=gse(e,"string");return _l(t)=="symbol"?t:t+""}function gse(e,t){if(_l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vse(e,t){if(e==null)return{};var r=xse(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yse(e){return e.value}function bse(e,t){if(P.isValidElement(e))return P.cloneElement(e,t);if(typeof e=="function")return P.createElement(e,t);t.ref;var r=vse(t,cse);return P.createElement(Ij,r)}var s2=1,il=function(e){function t(){var r;use(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=fse(this,t,[].concat(a)),vg(r,"lastBoundingBox",{width:-1,height:-1}),r}return pse(t,e),dse(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>s2||Math.abs(a.height-this.lastBoundingBox.height)>s2)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?bs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();d={left:((u||0)-m.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((f||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return bs(bs({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,d=bs(bs({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return P.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){n.wrapperNode=m}},bse(i,bs(bs({},this.props),{},{payload:u$(f,u,yse)})))}}],[{key:"getWithHeight",value:function(n,a){var i=bs(bs({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Z(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(b.PureComponent);vg(il,"displayName","Legend");vg(il,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var a2=qd,wse=Rj,jse=Cr,i2=a2?a2.isConcatSpreadable:void 0;function Nse(e){return jse(e)||wse(e)||!!(i2&&e&&e[i2])}var Sse=Nse,_se=Z5,Ese=Sse;function h$(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=Ese),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?h$(l,t-1,r,n,a):_se(a,l):n||(a[a.length]=l)}return a}var m$=h$;function Pse(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var kse=Pse,Ase=kse,Cse=Ase(),Ose=Cse,Tse=Ose,Ise=gg;function $se(e,t){return e&&Tse(e,t,Ise)}var p$=$se,Rse=Hd;function Mse(e,t){return function(r,n){if(r==null)return r;if(!Rse(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var Dse=Mse,Lse=p$,Use=Dse,Bse=Use(Lse),Uj=Bse,Fse=Uj,zse=Hd;function Vse(e,t){var r=-1,n=zse(e)?Array(e.length):[];return Fse(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var g$=Vse;function Wse(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var qse=Wse,o2=fc;function Kse(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=o2(e),o=t!==void 0,l=t===null,c=t===t,u=o2(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var Hse=Kse,Gse=Hse;function Yse(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=Gse(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Jse=Yse,Xv=Nj,Xse=Sj,Zse=xs,Qse=g$,eae=qse,tae=t$,rae=Jse,nae=bc,sae=Cr;function aae(e,t,r){t.length?t=Xv(t,function(i){return sae(i)?function(o){return Xse(o,i.length===1?i[0]:i)}:i}):t=[nae];var n=-1;t=Xv(t,tae(Zse));var a=Qse(e,function(i,o,l){var c=Xv(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return eae(a,function(i,o){return rae(i,o,r)})}var iae=aae;function oae(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var lae=oae,cae=lae,l2=Math.max;function uae(e,t,r){return t=l2(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=l2(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),cae(e,this,l)}}var dae=uae;function fae(e){return function(){return e}}var hae=fae,mae=io,pae=function(){try{var e=mae(Object,"defineProperty");return e({},"",{}),e}catch{}}(),v$=pae,gae=hae,c2=v$,vae=bc,xae=c2?function(e,t){return c2(e,"toString",{configurable:!0,enumerable:!1,value:gae(t),writable:!0})}:vae,yae=xae,bae=800,wae=16,jae=Date.now;function Nae(e){var t=0,r=0;return function(){var n=jae(),a=wae-(n-r);if(r=n,a>0){if(++t>=bae)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Sae=Nae,_ae=yae,Eae=Sae,Pae=Eae(_ae),kae=Pae,Aae=bc,Cae=dae,Oae=kae;function Tae(e,t){return Oae(Cae(e,t,Aae),e+"")}var Iae=Tae,$ae=yj,Rae=Hd,Mae=Mj,Dae=Ga;function Lae(e,t,r){if(!Dae(r))return!1;var n=typeof t;return(n=="number"?Rae(r)&&Mae(t,r.length):n=="string"&&t in r)?$ae(r[t],e):!1}var xg=Lae,Uae=m$,Bae=iae,Fae=Iae,u2=xg,zae=Fae(function(e,t){if(e==null)return[];var r=t.length;return r>1&&u2(e,t[0],t[1])?t=[]:r>2&&u2(t[0],t[1],t[2])&&(t=[t[0]]),Bae(e,Uae(t,1),[])}),Vae=zae;const Bj=ze(Vae);function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(this,arguments)}function Wae(e,t){return Gae(e)||Hae(e,t)||Kae(e,t)||qae()}function qae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kae(e,t){if(e){if(typeof e=="string")return d2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d2(e,t)}}function d2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Gae(e){if(Array.isArray(e))return e}function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){Yae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yae(e,t,r){return t=Jae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jae(e){var t=Xae(e,"string");return Zu(t)=="symbol"?t:t+""}function Xae(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zae(e){return Array.isArray(e)&&Dt(e[0])&&Dt(e[1])?e.join(" ~ "):e}var Qae=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,h=t.itemSorter,m=t.wrapperClassName,v=t.labelClassName,p=t.label,x=t.labelFormatter,g=t.accessibilityLayer,y=g===void 0?!1:g,w=function(){if(f&&f.length){var C={padding:0,margin:0},M=(h?Bj(f,h):f).map(function(U,L){if(U.type==="none")return null;var D=Zv({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},l),z=U.formatter||d||Zae,T=U.value,$=U.name,K=T,Y=$;if(z&&K!=null&&Y!=null){var G=z(T,$,U,L,f);if(Array.isArray(G)){var Q=Wae(G,2);K=Q[0],Y=Q[1]}else K=G}return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:D},Dt(Y)?P.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Dt(Y)?P.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,P.createElement("span",{className:"recharts-tooltip-item-value"},K),P.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:C},M)}return null},S=Zv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=Zv({margin:0},u),N=!be(p),_=N?p:"",E=Se("recharts-default-tooltip",m),k=Se("recharts-tooltip-label",v);N&&x&&f!==void 0&&f!==null&&(_=x(p,f));var A=y?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",gy({className:E,style:S},A),P.createElement("p",{className:k,style:j},P.isValidElement(_)?_:"".concat(_)),w())};function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function Uf(e,t,r){return t=eie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eie(e){var t=tie(e,"string");return Qu(t)=="symbol"?t:t+""}function tie(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bc="recharts-tooltip-wrapper",rie={visibility:"hidden"};function nie(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Se(Bc,Uf(Uf(Uf(Uf({},"".concat(Bc,"-right"),Z(r)&&t&&Z(t.x)&&r>=t.x),"".concat(Bc,"-left"),Z(r)&&t&&Z(t.x)&&r<t.x),"".concat(Bc,"-bottom"),Z(n)&&t&&Z(t.y)&&n>=t.y),"".concat(Bc,"-top"),Z(n)&&t&&Z(t.y)&&n<t.y))}function h2(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Z(i[n]))return i[n];var f=r[n]-l-a,d=r[n]+a;if(t[n])return o[n]?f:d;if(o[n]){var h=f,m=c[n];return h<m?Math.max(d,c[n]):Math.max(f,c[n])}var v=d+l,p=c[n]+u;return v>p?Math.max(f,c[n]):Math.max(d,c[n])}function sie(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function aie(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,d;return o.height>0&&o.width>0&&r?(f=h2({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=h2({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=sie({translateX:f,translateY:d,useTranslate3d:l})):u=rie,{cssProperties:u,cssClasses:nie({translateX:f,translateY:d,coordinate:r})}}function El(e){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){xy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y$(n.key),n)}}function lie(e,t,r){return t&&oie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cie(e,t,r){return t=ym(t),uie(e,x$()?Reflect.construct(t,r||[],ym(e).constructor):t.apply(e,r))}function uie(e,t){if(t&&(El(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return die(e)}function die(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x$=function(){return!!e})()}function ym(e){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ym(e)}function fie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vy(e,t)}function vy(e,t){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vy(e,t)}function xy(e,t,r){return t=y$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y$(e){var t=hie(e,"string");return El(t)=="symbol"?t:t+""}function hie(e,t){if(El(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var g2=1,mie=function(e){function t(){var r;iie(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cie(this,t,[].concat(a)),xy(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),xy(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return fie(t,e),lie(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>g2||Math.abs(n.height-this.state.lastBoundingBox.height)>g2)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,m=a.offset,v=a.position,p=a.reverseDirection,x=a.useTranslate3d,g=a.viewBox,y=a.wrapperStyle,w=aie({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:m,position:v,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:g}),S=w.cssClasses,j=w.cssProperties,N=p2(p2({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},y);return P.createElement("div",{tabIndex:-1,className:S,style:N,ref:function(E){n.wrapperNode=E}},u)}}])}(b.PureComponent),pie=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},oo={isSsr:pie()};function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(n){Fj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w$(n.key),n)}}function xie(e,t,r){return t&&vie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yie(e,t,r){return t=bm(t),bie(e,b$()?Reflect.construct(t,r||[],bm(e).constructor):t.apply(e,r))}function bie(e,t){if(t&&(Pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wie(e)}function wie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b$=function(){return!!e})()}function bm(e){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bm(e)}function jie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yy(e,t)}function yy(e,t){return yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yy(e,t)}function Fj(e,t,r){return t=w$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w$(e){var t=Nie(e,"string");return Pl(t)=="symbol"?t:t+""}function Nie(e,t){if(Pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Sie(e){return e.dataKey}function _ie(e,t){return P.isValidElement(e)?P.cloneElement(e,t):typeof e=="function"?P.createElement(e,t):P.createElement(Qae,t)}var Lr=function(e){function t(){return gie(this,t),yie(this,t,arguments)}return jie(t,e),xie(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,m=a.offset,v=a.payload,p=a.payloadUniqBy,x=a.position,g=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,S=a.wrapperStyle,j=v??[];d&&j.length&&(j=u$(v.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),p,Sie));var N=j.length>0;return P.createElement(mie,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:f,hasPayload:N,offset:m,position:x,reverseDirection:g,useTranslate3d:y,viewBox:w,wrapperStyle:S},_ie(u,x2(x2({},this.props),{},{payload:j})))}}])}(b.PureComponent);Fj(Lr,"displayName","Tooltip");Fj(Lr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!oo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Eie=vs,Pie=function(){return Eie.Date.now()},kie=Pie,Aie=/\s/;function Cie(e){for(var t=e.length;t--&&Aie.test(e.charAt(t)););return t}var Oie=Cie,Tie=Oie,Iie=/^\s+/;function $ie(e){return e&&e.slice(0,Tie(e)+1).replace(Iie,"")}var Rie=$ie,Mie=Rie,y2=Ga,Die=fc,b2=NaN,Lie=/^[-+]0x[0-9a-f]+$/i,Uie=/^0b[01]+$/i,Bie=/^0o[0-7]+$/i,Fie=parseInt;function zie(e){if(typeof e=="number")return e;if(Die(e))return b2;if(y2(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=y2(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Mie(e);var r=Uie.test(e);return r||Bie.test(e)?Fie(e.slice(2),r?2:8):Lie.test(e)?b2:+e}var j$=zie,Vie=Ga,Qv=kie,w2=j$,Wie="Expected a function",qie=Math.max,Kie=Math.min;function Hie(e,t,r){var n,a,i,o,l,c,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(Wie);t=w2(t)||0,Vie(r)&&(f=!!r.leading,d="maxWait"in r,i=d?qie(w2(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(N){var _=n,E=a;return n=a=void 0,u=N,o=e.apply(E,_),o}function v(N){return u=N,l=setTimeout(g,t),f?m(N):o}function p(N){var _=N-c,E=N-u,k=t-_;return d?Kie(k,i-E):k}function x(N){var _=N-c,E=N-u;return c===void 0||_>=t||_<0||d&&E>=i}function g(){var N=Qv();if(x(N))return y(N);l=setTimeout(g,p(N))}function y(N){return l=void 0,h&&n?m(N):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function S(){return l===void 0?o:y(Qv())}function j(){var N=Qv(),_=x(N);if(n=arguments,a=this,c=N,_){if(l===void 0)return v(c);if(d)return clearTimeout(l),l=setTimeout(g,t),m(c)}return l===void 0&&(l=setTimeout(g,t)),o}return j.cancel=w,j.flush=S,j}var Gie=Hie,Yie=Gie,Jie=Ga,Xie="Expected a function";function Zie(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Xie);return Jie(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Yie(e,t,{leading:n,maxWait:t,trailing:a})}var Qie=Zie;const N$=ze(Qie);function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function j2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(r),!0).forEach(function(n){eoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eoe(e,t,r){return t=toe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function toe(e){var t=roe(e,"string");return ed(t)=="symbol"?t:t+""}function roe(e,t){if(ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function noe(e,t){return ooe(e)||ioe(e,t)||aoe(e,t)||soe()}function soe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aoe(e,t){if(e){if(typeof e=="string")return N2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N2(e,t)}}function N2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ioe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ooe(e){if(Array.isArray(e))return e}var bh=b.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,m=e.children,v=e.debounce,p=v===void 0?0:v,x=e.id,g=e.className,y=e.onResize,w=e.style,S=w===void 0?{}:w,j=b.useRef(null),N=b.useRef();N.current=y,b.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var _=b.useState({containerWidth:a.width,containerHeight:a.height}),E=noe(_,2),k=E[0],A=E[1],O=b.useCallback(function(M,U){A(function(L){var D=Math.round(M),z=Math.round(U);return L.containerWidth===D&&L.containerHeight===z?L:{containerWidth:D,containerHeight:z}})},[]);b.useEffect(function(){var M=function($){var K,Y=$[0].contentRect,G=Y.width,Q=Y.height;O(G,Q),(K=N.current)===null||K===void 0||K.call(N,G,Q)};p>0&&(M=N$(M,p,{trailing:!0,leading:!1}));var U=new ResizeObserver(M),L=j.current.getBoundingClientRect(),D=L.width,z=L.height;return O(D,z),U.observe(j.current),function(){U.disconnect()}},[O,p]);var C=b.useMemo(function(){var M=k.containerWidth,U=k.containerHeight;if(M<0||U<0)return null;Un(Ni(o)||Ni(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Un(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Ni(o)?M:o,D=Ni(c)?U:c;r&&r>0&&(L?D=L/r:D&&(L=D*r),h&&D>h&&(D=h)),Un(L>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,D,o,c,f,d,r);var z=!Array.isArray(m)&&Ts(m.type).endsWith("Chart");return P.Children.map(m,function(T){return P.isValidElement(T)?b.cloneElement(T,Bf({width:L,height:D},z?{style:Bf({height:"100%",width:"100%",maxHeight:D,maxWidth:L},T.props.style)}:{})):T})},[r,m,c,h,d,f,k,o]);return P.createElement("div",{id:x?"".concat(x):void 0,className:Se("recharts-responsive-container",g),style:Bf(Bf({},S),{},{width:o,height:c,minWidth:f,minHeight:d,maxHeight:h}),ref:j},C)}),yg=function(t){return null};yg.displayName="Cell";function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function S2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function by(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(r),!0).forEach(function(n){loe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function loe(e,t,r){return t=coe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function coe(e){var t=uoe(e,"string");return td(t)=="symbol"?t:t+""}function uoe(e,t){if(td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var So={widthCache:{},cacheCount:0},doe=2e3,foe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_2="recharts_measurement_span";function hoe(e){var t=by({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var yu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||oo.isSsr)return{width:0,height:0};var n=hoe(r),a=JSON.stringify({text:t,copyStyle:n});if(So.widthCache[a])return So.widthCache[a];try{var i=document.getElementById(_2);i||(i=document.createElement("span"),i.setAttribute("id",_2),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=by(by({},foe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return So.widthCache[a]=c,++So.cacheCount>doe&&(So.cacheCount=0,So.widthCache={}),c}catch{return{width:0,height:0}}},moe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function wm(e,t){return xoe(e)||voe(e,t)||goe(e,t)||poe()}function poe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function goe(e,t){if(e){if(typeof e=="string")return E2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E2(e,t)}}function E2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function voe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function xoe(e){if(Array.isArray(e))return e}function yoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,woe(n.key),n)}}function boe(e,t,r){return t&&P2(e.prototype,t),r&&P2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function woe(e){var t=joe(e,"string");return rd(t)=="symbol"?t:t+""}function joe(e,t){if(rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var k2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,A2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Noe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Soe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,S$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_oe=Object.keys(S$),Wo="NaN";function Eoe(e,t){return e*S$[t]}var Ff=function(){function e(t,r){yoe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Noe.test(r)&&(this.num=NaN,this.unit=""),_oe.includes(r)&&(this.num=Eoe(t,r),this.unit="px")}return boe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Soe.exec(r))!==null&&n!==void 0?n:[],i=wm(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function _$(e){if(e.includes(Wo))return Wo;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=k2.exec(t))!==null&&r!==void 0?r:[],a=wm(n,4),i=a[1],o=a[2],l=a[3],c=Ff.parse(i??""),u=Ff.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Wo;t=t.replace(k2,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=A2.exec(t))!==null&&d!==void 0?d:[],m=wm(h,4),v=m[1],p=m[2],x=m[3],g=Ff.parse(v??""),y=Ff.parse(x??""),w=p==="+"?g.add(y):g.subtract(y);if(w.isNaN())return Wo;t=t.replace(A2,w.toString())}return t}var C2=/\(([^()]*)\)/;function Poe(e){for(var t=e;t.includes("(");){var r=C2.exec(t),n=wm(r,2),a=n[1];t=t.replace(C2,_$(a))}return t}function koe(e){var t=e.replace(/\s+/g,"");return t=Poe(t),t=_$(t),t}function Aoe(e){try{return koe(e)}catch{return Wo}}function ex(e){var t=Aoe(e.slice(5,-1));return t===Wo?"":t}var Coe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ooe=["dx","dy","angle","className","breakAll"];function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(this,arguments)}function O2(e,t){if(e==null)return{};var r=Toe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Toe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function T2(e,t){return Moe(e)||Roe(e,t)||$oe(e,t)||Ioe()}function Ioe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $oe(e,t){if(e){if(typeof e=="string")return I2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I2(e,t)}}function I2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Roe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Moe(e){if(Array.isArray(e))return e}var E$=/[ \f\n\r\t\v\u2028\u2029]+/,P$=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];be(r)||(n?i=r.toString().split(""):i=r.toString().split(E$));var o=i.map(function(c){return{word:c,width:yu(c,a).width}}),l=n?0:yu("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Doe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=Z(o),d=l,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(D,z){var T=z.word,$=z.width,K=D[D.length-1];if(K&&(a==null||i||K.width+$+n<Number(a)))K.words.push(T),K.width+=$+n;else{var Y={words:[T],width:$};D.push(Y)}return D},[])},m=h(r),v=function(L){return L.reduce(function(D,z){return D.width>z.width?D:z})};if(!f)return m;for(var p="",x=function(L){var D=d.slice(0,L),z=P$({breakAll:u,style:c,children:D+p}).wordsWithComputedWidth,T=h(z),$=T.length>o||v(T).width>Number(a);return[$,T]},g=0,y=d.length-1,w=0,S;g<=y&&w<=d.length-1;){var j=Math.floor((g+y)/2),N=j-1,_=x(N),E=T2(_,2),k=E[0],A=E[1],O=x(j),C=T2(O,1),M=C[0];if(!k&&!M&&(g=j+1),k&&M&&(y=j-1),!k&&M){S=A;break}w++}return S||m},$2=function(t){var r=be(t)?[]:t.toString().split(E$);return[{words:r}]},Loe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!oo.isSsr){var c,u,f=P$({breakAll:o,children:a,style:i});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;c=d,u=h}else return $2(a);return Doe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return $2(a)},R2="#808080",Gi=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,m=h===void 0?"start":h,v=t.verticalAnchor,p=v===void 0?"end":v,x=t.fill,g=x===void 0?R2:x,y=O2(t,Coe),w=b.useMemo(function(){return Loe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),S=y.dx,j=y.dy,N=y.angle,_=y.className,E=y.breakAll,k=O2(y,Ooe);if(!Dt(n)||!Dt(i))return null;var A=n+(Z(S)?S:0),O=i+(Z(j)?j:0),C;switch(p){case"start":C=ex("calc(".concat(u,")"));break;case"middle":C=ex("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:C=ex("calc(".concat(w.length-1," * -").concat(l,")"));break}var M=[];if(d){var U=w[0].width,L=y.width;M.push("scale(".concat((Z(L)?L/U:1)/U,")"))}return N&&M.push("rotate(".concat(N,", ").concat(A,", ").concat(O,")")),M.length&&(k.transform=M.join(" ")),P.createElement("text",wy({},fe(k,!0),{x:A,y:O,className:Se("recharts-text",_),textAnchor:m,fill:g.includes("url")?R2:g}),w.map(function(D,z){var T=D.words.join(E?"":" ");return P.createElement("tspan",{x:A,dy:z===0?C:l,key:"".concat(T,"-").concat(z)},T)}))};function $a(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Uoe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zj(e){let t,r,n;e.length!==2?(t=$a,r=(l,c)=>$a(e(l),c),n=(l,c)=>e(l)-c):(t=e===$a||e===Uoe?e:Boe,r=e,n=e);function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function o(l,c,u=0,f=l.length){const d=a(l,c,u,f-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:a,center:o,right:i}}function Boe(){return 0}function k$(e){return e===null?NaN:+e}function*Foe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const zoe=zj($a),Gd=zoe.right;zj(k$).center;class M2 extends Map{constructor(t,r=qoe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(D2(this,t))}has(t){return super.has(D2(this,t))}set(t,r){return super.set(Voe(this,t),r)}delete(t){return super.delete(Woe(this,t))}}function D2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Voe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Woe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function qoe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Koe(e=$a){if(e===$a)return A$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function A$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Hoe=Math.sqrt(50),Goe=Math.sqrt(10),Yoe=Math.sqrt(2);function jm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Hoe?10:i>=Goe?5:i>=Yoe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?jm(e,t,r*2):[l,c,u]}function jy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?jm(t,e,r):jm(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Ny(e,t,r){return t=+t,e=+e,r=+r,jm(e,t,r)[2]}function Sy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Ny(t,e,r):Ny(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function L2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function U2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function C$(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?A$:Koe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*d/c+h)),v=Math.min(n,Math.floor(t+(c-u)*d/c+h));C$(e,t,m,v,a)}const i=e[t];let o=r,l=n;for(Fc(e,r,t),a(e[n],i)>0&&Fc(e,r,n);o<l;){for(Fc(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Fc(e,r,l):(++l,Fc(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Fc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Joe(e,t,r){if(e=Float64Array.from(Foe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return U2(e);if(t>=1)return L2(e);var n,a=(n-1)*t,i=Math.floor(a),o=L2(C$(e,i).subarray(0,i+1)),l=U2(e.subarray(i+1));return o+(l-o)*(a-i)}}function Xoe(e,t,r=k$){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Zoe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function xn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const _y=Symbol("implicit");function Vj(){var e=new M2,t=[],r=[],n=_y;function a(i){let o=e.get(i);if(o===void 0){if(n!==_y)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new M2;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Vj(t,r).unknown(n)},xn.apply(a,arguments),a}function nd(){var e=Vj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,m=a<n,v=m?a:n,p=m?n:a;i=(p-v)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),v+=(p-v-i*(h-c))*f,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var x=Zoe(h).map(function(g){return v+i*g});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return nd(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},xn.apply(d(),arguments)}function O$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return O$(t())},e}function bu(){return O$(nd.apply(null,arguments).paddingInner(1))}function Wj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function T$(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Yd(){}var sd=.7,Nm=1/sd,ol="\\s*([+-]?\\d+)\\s*",ad="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",os="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qoe=/^#([0-9a-f]{3,8})$/,ele=new RegExp(`^rgb\\(${ol},${ol},${ol}\\)$`),tle=new RegExp(`^rgb\\(${os},${os},${os}\\)$`),rle=new RegExp(`^rgba\\(${ol},${ol},${ol},${ad}\\)$`),nle=new RegExp(`^rgba\\(${os},${os},${os},${ad}\\)$`),sle=new RegExp(`^hsl\\(${ad},${os},${os}\\)$`),ale=new RegExp(`^hsla\\(${ad},${os},${os},${ad}\\)$`),B2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wj(Yd,id,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:F2,formatHex:F2,formatHex8:ile,formatHsl:ole,formatRgb:z2,toString:z2});function F2(){return this.rgb().formatHex()}function ile(){return this.rgb().formatHex8()}function ole(){return I$(this).formatHsl()}function z2(){return this.rgb().formatRgb()}function id(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Qoe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?V2(t):r===3?new Nr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?zf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?zf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ele.exec(e))?new Nr(t[1],t[2],t[3],1):(t=tle.exec(e))?new Nr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=rle.exec(e))?zf(t[1],t[2],t[3],t[4]):(t=nle.exec(e))?zf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sle.exec(e))?K2(t[1],t[2]/100,t[3]/100,1):(t=ale.exec(e))?K2(t[1],t[2]/100,t[3]/100,t[4]):B2.hasOwnProperty(e)?V2(B2[e]):e==="transparent"?new Nr(NaN,NaN,NaN,0):null}function V2(e){return new Nr(e>>16&255,e>>8&255,e&255,1)}function zf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Nr(e,t,r,n)}function lle(e){return e instanceof Yd||(e=id(e)),e?(e=e.rgb(),new Nr(e.r,e.g,e.b,e.opacity)):new Nr}function Ey(e,t,r,n){return arguments.length===1?lle(e):new Nr(e,t,r,n??1)}function Nr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Wj(Nr,Ey,T$(Yd,{brighter(e){return e=e==null?Nm:Math.pow(Nm,e),new Nr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sd:Math.pow(sd,e),new Nr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Nr(Oi(this.r),Oi(this.g),Oi(this.b),Sm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:W2,formatHex:W2,formatHex8:cle,formatRgb:q2,toString:q2}));function W2(){return`#${Si(this.r)}${Si(this.g)}${Si(this.b)}`}function cle(){return`#${Si(this.r)}${Si(this.g)}${Si(this.b)}${Si((isNaN(this.opacity)?1:this.opacity)*255)}`}function q2(){const e=Sm(this.opacity);return`${e===1?"rgb(":"rgba("}${Oi(this.r)}, ${Oi(this.g)}, ${Oi(this.b)}${e===1?")":`, ${e})`}`}function Sm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Oi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Si(e){return e=Oi(e),(e<16?"0":"")+e.toString(16)}function K2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new $n(e,t,r,n)}function I$(e){if(e instanceof $n)return new $n(e.h,e.s,e.l,e.opacity);if(e instanceof Yd||(e=id(e)),!e)return new $n;if(e instanceof $n)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new $n(o,l,c,e.opacity)}function ule(e,t,r,n){return arguments.length===1?I$(e):new $n(e,t,r,n??1)}function $n(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Wj($n,ule,T$(Yd,{brighter(e){return e=e==null?Nm:Math.pow(Nm,e),new $n(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sd:Math.pow(sd,e),new $n(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Nr(tx(e>=240?e-240:e+120,a,n),tx(e,a,n),tx(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new $n(H2(this.h),Vf(this.s),Vf(this.l),Sm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sm(this.opacity);return`${e===1?"hsl(":"hsla("}${H2(this.h)}, ${Vf(this.s)*100}%, ${Vf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function H2(e){return e=(e||0)%360,e<0?e+360:e}function Vf(e){return Math.max(0,Math.min(1,e||0))}function tx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const qj=e=>()=>e;function dle(e,t){return function(r){return e+r*t}}function fle(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function hle(e){return(e=+e)==1?$$:function(t,r){return r-t?fle(t,r,e):qj(isNaN(t)?r:t)}}function $$(e,t){var r=t-e;return r?dle(e,r):qj(isNaN(e)?t:e)}const G2=function e(t){var r=hle(t);function n(a,i){var o=r((a=Ey(a)).r,(i=Ey(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=$$(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return n.gamma=e,n}(1);function mle(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function ple(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gle(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=wc(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function vle(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function _m(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function xle(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=wc(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Py=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rx=new RegExp(Py.source,"g");function yle(e){return function(){return e}}function ble(e){return function(t){return e(t)+""}}function wle(e,t){var r=Py.lastIndex=rx.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Py.exec(e))&&(a=rx.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:_m(n,a)})),r=rx.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?ble(c[0].x):yle(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function wc(e,t){var r=typeof t,n;return t==null||r==="boolean"?qj(t):(r==="number"?_m:r==="string"?(n=id(t))?(t=n,G2):wle:t instanceof id?G2:t instanceof Date?vle:ple(t)?mle:Array.isArray(t)?gle:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xle:_m)(e,t)}function Kj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function jle(e,t){t===void 0&&(t=e,e=wc);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Nle(e){return function(){return e}}function Em(e){return+e}var Y2=[0,1];function cr(e){return e}function ky(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Nle(isNaN(t)?NaN:.5)}function Sle(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function _le(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=ky(a,n),i=r(o,i)):(n=ky(n,a),i=r(i,o)),function(l){return i(n(l))}}function Ele(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=ky(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Gd(e,l,1,n)-1;return i[c](a[c](l))}}function Jd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bg(){var e=Y2,t=Y2,r=wc,n,a,i,o=cr,l,c,u;function f(){var h=Math.min(e.length,t.length);return o!==cr&&(o=Sle(e[0],e[h-1])),l=h>2?Ele:_le,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(a((u||(u=l(t,e.map(n),_m)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Em),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=Kj,f()},d.clamp=function(h){return arguments.length?(o=h?!0:cr,f()):o!==cr},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,m){return n=h,a=m,f()}}function Hj(){return bg()(cr,cr)}function Ple(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Pm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function kl(e){return e=Pm(Math.abs(e)),e?e[1]:NaN}function kle(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Ale(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Cle=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function od(e){if(!(t=Cle.exec(e)))throw new Error("invalid format: "+e);var t;return new Gj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}od.prototype=Gj.prototype;function Gj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Gj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ole(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var R$;function Tle(e,t){var r=Pm(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(R$=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Pm(e,Math.max(0,t+i-1))[0]}function J2(e,t){var r=Pm(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const X2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ple,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>J2(e*100,t),r:J2,s:Tle,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Z2(e){return e}var Q2=Array.prototype.map,eE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ile(e){var t=e.grouping===void 0||e.thousands===void 0?Z2:kle(Q2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Z2:Ale(Q2.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=od(d);var h=d.fill,m=d.align,v=d.sign,p=d.symbol,x=d.zero,g=d.width,y=d.comma,w=d.precision,S=d.trim,j=d.type;j==="n"?(y=!0,j="g"):X2[j]||(w===void 0&&(w=12),S=!0,j="g"),(x||h==="0"&&m==="=")&&(x=!0,h="0",m="=");var N=p==="$"?r:p==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",_=p==="$"?n:/[%p]/.test(j)?o:"",E=X2[j],k=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function A(O){var C=N,M=_,U,L,D;if(j==="c")M=E(O)+M,O="";else{O=+O;var z=O<0||1/O<0;if(O=isNaN(O)?c:E(Math.abs(O),w),S&&(O=Ole(O)),z&&+O==0&&v!=="+"&&(z=!1),C=(z?v==="("?v:l:v==="-"||v==="("?"":v)+C,M=(j==="s"?eE[8+R$/3]:"")+M+(z&&v==="("?")":""),k){for(U=-1,L=O.length;++U<L;)if(D=O.charCodeAt(U),48>D||D>57){M=(D===46?a+O.slice(U+1):O.slice(U))+M,O=O.slice(0,U);break}}}y&&!x&&(O=t(O,1/0));var T=C.length+O.length+M.length,$=T<g?new Array(g-T+1).join(h):"";switch(y&&x&&(O=t($+O,$.length?g-M.length:1/0),$=""),m){case"<":O=C+O+M+$;break;case"=":O=C+$+O+M;break;case"^":O=$.slice(0,T=$.length>>1)+C+O+M+$.slice(T);break;default:O=$+C+O+M;break}return i(O)}return A.toString=function(){return d+""},A}function f(d,h){var m=u((d=od(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(kl(h)/3)))*3,p=Math.pow(10,-v),x=eE[8+v/3];return function(g){return m(p*g)+x}}return{format:u,formatPrefix:f}}var Wf,Yj,M$;$le({thousands:",",grouping:[3],currency:["$",""]});function $le(e){return Wf=Ile(e),Yj=Wf.format,M$=Wf.formatPrefix,Wf}function Rle(e){return Math.max(0,-kl(Math.abs(e)))}function Mle(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kl(t)/3)))*3-kl(Math.abs(e)))}function Dle(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,kl(t)-kl(e))+1}function D$(e,t,r,n){var a=Sy(e,t,r),i;switch(n=od(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Mle(a,o))&&(n.precision=i),M$(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Dle(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Rle(a))&&(n.precision=i-(n.type==="%")*2);break}}return Yj(n)}function Ya(e){var t=e.domain;return e.ticks=function(r){var n=t();return jy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return D$(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);f-- >0;){if(u=Ny(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function km(){var e=Hj();return e.copy=function(){return Jd(e,km())},xn.apply(e,arguments),Ya(e)}function L$(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Em),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return L$(e).unknown(t)},e=arguments.length?Array.from(e,Em):[0,1],Ya(r)}function U$(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function tE(e){return Math.log(e)}function rE(e){return Math.exp(e)}function Lle(e){return-Math.log(-e)}function Ule(e){return-Math.exp(-e)}function Ble(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Fle(e){return e===10?Ble:e===Math.E?Math.exp:t=>Math.pow(e,t)}function zle(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nE(e){return(t,r)=>-e(-t,r)}function Jj(e){const t=e(tE,rE),r=t.domain;let n=10,a,i;function o(){return a=zle(n),i=Fle(n),r()[0]<0?(a=nE(a),i=nE(i),e(Lle,Ule)):e(tE,rE),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=a(u),m=a(f),v,p;const x=l==null?10:+l;let g=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<n;++v)if(p=h<0?v/i(-h):v*i(h),!(p<u)){if(p>f)break;g.push(p)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(p=h>0?v/i(-h):v*i(h),!(p<u)){if(p>f)break;g.push(p)}g.length*2<x&&(g=jy(u,f,x))}else g=jy(h,m,Math.min(m-h,x)).map(i);return d?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=od(c)).precision==null&&(c.trim=!0),c=Yj(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let d=f/i(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r(U$(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function B$(){const e=Jj(bg()).domain([1,10]);return e.copy=()=>Jd(e,B$()).base(e.base()),xn.apply(e,arguments),e}function sE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function aE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Xj(e){var t=1,r=e(sE(t),aE(t));return r.constant=function(n){return arguments.length?e(sE(t=+n),aE(t)):t},Ya(r)}function F$(){var e=Xj(bg());return e.copy=function(){return Jd(e,F$()).constant(e.constant())},xn.apply(e,arguments)}function iE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Vle(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Wle(e){return e<0?-e*e:e*e}function Zj(e){var t=e(cr,cr),r=1;function n(){return r===1?e(cr,cr):r===.5?e(Vle,Wle):e(iE(r),iE(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ya(t)}function Qj(){var e=Zj(bg());return e.copy=function(){return Jd(e,Qj()).exponent(e.exponent())},xn.apply(e,arguments),e}function qle(){return Qj.apply(null,arguments).exponent(.5)}function oE(e){return Math.sign(e)*e*e}function Kle(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function z$(){var e=Hj(),t=[0,1],r=!1,n;function a(i){var o=Kle(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(oE(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Em)).map(oE)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return z$(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},xn.apply(a,arguments),Ya(a)}function V$(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Xoe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Gd(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort($a),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return V$().domain(e).range(t).unknown(n)},xn.apply(i,arguments)}function W$(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Gd(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return W$().domain([e,t]).range(a).unknown(i)},xn.apply(Ya(o),arguments)}function q$(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Gd(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return q$().domain(e).range(t).unknown(r)},xn.apply(a,arguments)}const nx=new Date,sx=new Date;function Ut(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Ut(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(nx.setTime(+i),sx.setTime(+o),e(nx),e(sx),Math.floor(r(nx,sx))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Am=Ut(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Am.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ut(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Am);Am.range;const ks=1e3,un=ks*60,As=un*60,zs=As*24,e1=zs*7,lE=zs*30,ax=zs*365,_i=Ut(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getUTCSeconds());_i.range;const t1=Ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ks)},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getMinutes());t1.range;const r1=Ut(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getUTCMinutes());r1.range;const n1=Ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ks-e.getMinutes()*un)},(e,t)=>{e.setTime(+e+t*As)},(e,t)=>(t-e)/As,e=>e.getHours());n1.range;const s1=Ut(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*As)},(e,t)=>(t-e)/As,e=>e.getUTCHours());s1.range;const Xd=Ut(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*un)/zs,e=>e.getDate()-1);Xd.range;const wg=Ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zs,e=>e.getUTCDate()-1);wg.range;const K$=Ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zs,e=>Math.floor(e/zs));K$.range;function lo(e){return Ut(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*un)/e1)}const jg=lo(0),Cm=lo(1),Hle=lo(2),Gle=lo(3),Al=lo(4),Yle=lo(5),Jle=lo(6);jg.range;Cm.range;Hle.range;Gle.range;Al.range;Yle.range;Jle.range;function co(e){return Ut(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/e1)}const Ng=co(0),Om=co(1),Xle=co(2),Zle=co(3),Cl=co(4),Qle=co(5),ece=co(6);Ng.range;Om.range;Xle.range;Zle.range;Cl.range;Qle.range;ece.range;const a1=Ut(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());a1.range;const i1=Ut(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());i1.range;const Vs=Ut(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ut(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vs.range;const Ws=Ut(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ws.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ut(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ws.range;function H$(e,t,r,n,a,i){const o=[[_i,1,ks],[_i,5,5*ks],[_i,15,15*ks],[_i,30,30*ks],[i,1,un],[i,5,5*un],[i,15,15*un],[i,30,30*un],[a,1,As],[a,3,3*As],[a,6,6*As],[a,12,12*As],[n,1,zs],[n,2,2*zs],[r,1,e1],[t,1,lE],[t,3,3*lE],[e,1,ax]];function l(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const m=d&&typeof d.range=="function"?d:c(u,f,d),v=m?m.range(u,+f+1):[];return h?v.reverse():v}function c(u,f,d){const h=Math.abs(f-u)/d,m=zj(([,,x])=>x).right(o,h);if(m===o.length)return e.every(Sy(u/ax,f/ax,d));if(m===0)return Am.every(Math.max(Sy(u,f,d),1));const[v,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(p)}return[l,c]}const[tce,rce]=H$(Ws,i1,Ng,K$,s1,r1),[nce,sce]=H$(Vs,a1,jg,Xd,n1,t1);function ix(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ox(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function ace(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Vc(a),f=Wc(a),d=Vc(i),h=Wc(i),m=Vc(o),v=Wc(o),p=Vc(l),x=Wc(l),g=Vc(c),y=Wc(c),w={a:z,A:T,b:$,B:K,c:null,d:mE,e:mE,f:kce,g:Lce,G:Bce,H:_ce,I:Ece,j:Pce,L:G$,m:Ace,M:Cce,p:Y,q:G,Q:vE,s:xE,S:Oce,u:Tce,U:Ice,V:$ce,w:Rce,W:Mce,x:null,X:null,y:Dce,Y:Uce,Z:Fce,"%":gE},S={a:Q,A:oe,b:ge,B:Ie,c:null,d:pE,e:pE,f:qce,g:tue,G:nue,H:zce,I:Vce,j:Wce,L:J$,m:Kce,M:Hce,p:te,q:xe,Q:vE,s:xE,S:Gce,u:Yce,U:Jce,V:Xce,w:Zce,W:Qce,x:null,X:null,y:eue,Y:rue,Z:sue,"%":gE},j={a:A,A:O,b:C,B:M,c:U,d:fE,e:fE,f:wce,g:dE,G:uE,H:hE,I:hE,j:vce,L:bce,m:gce,M:xce,p:k,q:pce,Q:Nce,s:Sce,S:yce,u:uce,U:dce,V:fce,w:cce,W:hce,x:L,X:D,y:dE,Y:uE,Z:mce,"%":jce};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),S.x=N(r,S),S.X=N(n,S),S.c=N(t,S);function N(J,ae){return function(se){var q=[],ke=-1,ve=0,Ye=J.length,qe,vt,vr;for(se instanceof Date||(se=new Date(+se));++ke<Ye;)J.charCodeAt(ke)===37&&(q.push(J.slice(ve,ke)),(vt=cE[qe=J.charAt(++ke)])!=null?qe=J.charAt(++ke):vt=qe==="e"?" ":"0",(vr=ae[qe])&&(qe=vr(se,vt)),q.push(qe),ve=ke+1);return q.push(J.slice(ve,ke)),q.join("")}}function _(J,ae){return function(se){var q=zc(1900,void 0,1),ke=E(q,J,se+="",0),ve,Ye;if(ke!=se.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ae&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(ve=ox(zc(q.y,0,1)),Ye=ve.getUTCDay(),ve=Ye>4||Ye===0?Om.ceil(ve):Om(ve),ve=wg.offset(ve,(q.V-1)*7),q.y=ve.getUTCFullYear(),q.m=ve.getUTCMonth(),q.d=ve.getUTCDate()+(q.w+6)%7):(ve=ix(zc(q.y,0,1)),Ye=ve.getDay(),ve=Ye>4||Ye===0?Cm.ceil(ve):Cm(ve),ve=Xd.offset(ve,(q.V-1)*7),q.y=ve.getFullYear(),q.m=ve.getMonth(),q.d=ve.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Ye="Z"in q?ox(zc(q.y,0,1)).getUTCDay():ix(zc(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Ye+5)%7:q.w+q.U*7-(Ye+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,ox(q)):ix(q)}}function E(J,ae,se,q){for(var ke=0,ve=ae.length,Ye=se.length,qe,vt;ke<ve;){if(q>=Ye)return-1;if(qe=ae.charCodeAt(ke++),qe===37){if(qe=ae.charAt(ke++),vt=j[qe in cE?ae.charAt(ke++):qe],!vt||(q=vt(J,se,q))<0)return-1}else if(qe!=se.charCodeAt(q++))return-1}return q}function k(J,ae,se){var q=u.exec(ae.slice(se));return q?(J.p=f.get(q[0].toLowerCase()),se+q[0].length):-1}function A(J,ae,se){var q=m.exec(ae.slice(se));return q?(J.w=v.get(q[0].toLowerCase()),se+q[0].length):-1}function O(J,ae,se){var q=d.exec(ae.slice(se));return q?(J.w=h.get(q[0].toLowerCase()),se+q[0].length):-1}function C(J,ae,se){var q=g.exec(ae.slice(se));return q?(J.m=y.get(q[0].toLowerCase()),se+q[0].length):-1}function M(J,ae,se){var q=p.exec(ae.slice(se));return q?(J.m=x.get(q[0].toLowerCase()),se+q[0].length):-1}function U(J,ae,se){return E(J,t,ae,se)}function L(J,ae,se){return E(J,r,ae,se)}function D(J,ae,se){return E(J,n,ae,se)}function z(J){return o[J.getDay()]}function T(J){return i[J.getDay()]}function $(J){return c[J.getMonth()]}function K(J){return l[J.getMonth()]}function Y(J){return a[+(J.getHours()>=12)]}function G(J){return 1+~~(J.getMonth()/3)}function Q(J){return o[J.getUTCDay()]}function oe(J){return i[J.getUTCDay()]}function ge(J){return c[J.getUTCMonth()]}function Ie(J){return l[J.getUTCMonth()]}function te(J){return a[+(J.getUTCHours()>=12)]}function xe(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var ae=N(J+="",w);return ae.toString=function(){return J},ae},parse:function(J){var ae=_(J+="",!1);return ae.toString=function(){return J},ae},utcFormat:function(J){var ae=N(J+="",S);return ae.toString=function(){return J},ae},utcParse:function(J){var ae=_(J+="",!0);return ae.toString=function(){return J},ae}}}var cE={"-":"",_:" ",0:"0"},Kt=/^\s*\d+/,ice=/^%/,oce=/[\\^$*+?|[\]().{}]/g;function Ue(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function lce(e){return e.replace(oce,"\\$&")}function Vc(e){return new RegExp("^(?:"+e.map(lce).join("|")+")","i")}function Wc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function cce(e,t,r){var n=Kt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function uce(e,t,r){var n=Kt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function dce(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function fce(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function hce(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function uE(e,t,r){var n=Kt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function dE(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function mce(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function pce(e,t,r){var n=Kt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function gce(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function fE(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function vce(e,t,r){var n=Kt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function hE(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function xce(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function yce(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function bce(e,t,r){var n=Kt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function wce(e,t,r){var n=Kt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function jce(e,t,r){var n=ice.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Nce(e,t,r){var n=Kt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Sce(e,t,r){var n=Kt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function mE(e,t){return Ue(e.getDate(),t,2)}function _ce(e,t){return Ue(e.getHours(),t,2)}function Ece(e,t){return Ue(e.getHours()%12||12,t,2)}function Pce(e,t){return Ue(1+Xd.count(Vs(e),e),t,3)}function G$(e,t){return Ue(e.getMilliseconds(),t,3)}function kce(e,t){return G$(e,t)+"000"}function Ace(e,t){return Ue(e.getMonth()+1,t,2)}function Cce(e,t){return Ue(e.getMinutes(),t,2)}function Oce(e,t){return Ue(e.getSeconds(),t,2)}function Tce(e){var t=e.getDay();return t===0?7:t}function Ice(e,t){return Ue(jg.count(Vs(e)-1,e),t,2)}function Y$(e){var t=e.getDay();return t>=4||t===0?Al(e):Al.ceil(e)}function $ce(e,t){return e=Y$(e),Ue(Al.count(Vs(e),e)+(Vs(e).getDay()===4),t,2)}function Rce(e){return e.getDay()}function Mce(e,t){return Ue(Cm.count(Vs(e)-1,e),t,2)}function Dce(e,t){return Ue(e.getFullYear()%100,t,2)}function Lce(e,t){return e=Y$(e),Ue(e.getFullYear()%100,t,2)}function Uce(e,t){return Ue(e.getFullYear()%1e4,t,4)}function Bce(e,t){var r=e.getDay();return e=r>=4||r===0?Al(e):Al.ceil(e),Ue(e.getFullYear()%1e4,t,4)}function Fce(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ue(t/60|0,"0",2)+Ue(t%60,"0",2)}function pE(e,t){return Ue(e.getUTCDate(),t,2)}function zce(e,t){return Ue(e.getUTCHours(),t,2)}function Vce(e,t){return Ue(e.getUTCHours()%12||12,t,2)}function Wce(e,t){return Ue(1+wg.count(Ws(e),e),t,3)}function J$(e,t){return Ue(e.getUTCMilliseconds(),t,3)}function qce(e,t){return J$(e,t)+"000"}function Kce(e,t){return Ue(e.getUTCMonth()+1,t,2)}function Hce(e,t){return Ue(e.getUTCMinutes(),t,2)}function Gce(e,t){return Ue(e.getUTCSeconds(),t,2)}function Yce(e){var t=e.getUTCDay();return t===0?7:t}function Jce(e,t){return Ue(Ng.count(Ws(e)-1,e),t,2)}function X$(e){var t=e.getUTCDay();return t>=4||t===0?Cl(e):Cl.ceil(e)}function Xce(e,t){return e=X$(e),Ue(Cl.count(Ws(e),e)+(Ws(e).getUTCDay()===4),t,2)}function Zce(e){return e.getUTCDay()}function Qce(e,t){return Ue(Om.count(Ws(e)-1,e),t,2)}function eue(e,t){return Ue(e.getUTCFullYear()%100,t,2)}function tue(e,t){return e=X$(e),Ue(e.getUTCFullYear()%100,t,2)}function rue(e,t){return Ue(e.getUTCFullYear()%1e4,t,4)}function nue(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Cl(e):Cl.ceil(e),Ue(e.getUTCFullYear()%1e4,t,4)}function sue(){return"+0000"}function gE(){return"%"}function vE(e){return+e}function xE(e){return Math.floor(+e/1e3)}var _o,Z$,Q$;aue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aue(e){return _o=ace(e),Z$=_o.format,_o.parse,Q$=_o.utcFormat,_o.utcParse,_o}function iue(e){return new Date(e)}function oue(e){return e instanceof Date?+e:+new Date(+e)}function o1(e,t,r,n,a,i,o,l,c,u){var f=Hj(),d=f.invert,h=f.domain,m=u(".%L"),v=u(":%S"),p=u("%I:%M"),x=u("%I %p"),g=u("%a %d"),y=u("%b %d"),w=u("%B"),S=u("%Y");function j(N){return(c(N)<N?m:l(N)<N?v:o(N)<N?p:i(N)<N?x:n(N)<N?a(N)<N?g:y:r(N)<N?w:S)(N)}return f.invert=function(N){return new Date(d(N))},f.domain=function(N){return arguments.length?h(Array.from(N,oue)):h().map(iue)},f.ticks=function(N){var _=h();return e(_[0],_[_.length-1],N??10)},f.tickFormat=function(N,_){return _==null?j:u(_)},f.nice=function(N){var _=h();return(!N||typeof N.range!="function")&&(N=t(_[0],_[_.length-1],N??10)),N?h(U$(_,N)):f},f.copy=function(){return Jd(f,o1(e,t,r,n,a,i,o,l,c,u))},f}function lue(){return xn.apply(o1(nce,sce,Vs,a1,jg,Xd,n1,t1,_i,Z$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cue(){return xn.apply(o1(tce,rce,Ws,i1,Ng,wg,s1,r1,_i,Q$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sg(){var e=0,t=1,r,n,a,i,o=cr,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(a===0?.5:(d=(i(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(o=d,u):o};function f(d){return function(h){var m,v;return arguments.length?([m,v]=h,o=d(m,v),u):[o(0),o(1)]}}return u.range=f(wc),u.rangeRound=f(Kj),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return i=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),u}}function Ja(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function eR(){var e=Ya(Sg()(cr));return e.copy=function(){return Ja(e,eR())},Xs.apply(e,arguments)}function tR(){var e=Jj(Sg()).domain([1,10]);return e.copy=function(){return Ja(e,tR()).base(e.base())},Xs.apply(e,arguments)}function rR(){var e=Xj(Sg());return e.copy=function(){return Ja(e,rR()).constant(e.constant())},Xs.apply(e,arguments)}function l1(){var e=Zj(Sg());return e.copy=function(){return Ja(e,l1()).exponent(e.exponent())},Xs.apply(e,arguments)}function uue(){return l1.apply(null,arguments).exponent(.5)}function nR(){var e=[],t=cr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Gd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort($a),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Joe(e,i/n))},r.copy=function(){return nR(t).domain(e)},Xs.apply(r,arguments)}function _g(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=cr,f,d=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+f(p))-i)*(n*p<n*i?l:c),u(d?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=f(e=+e),i=f(t=+t),o=f(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(d=!!p,m):d},m.interpolator=function(p){return arguments.length?(u=p,m):u};function v(p){return function(x){var g,y,w;return arguments.length?([g,y,w]=x,u=jle(p,[g,y,w]),m):[u(0),u(.5),u(1)]}}return m.range=v(wc),m.rangeRound=v(Kj),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return f=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function sR(){var e=Ya(_g()(cr));return e.copy=function(){return Ja(e,sR())},Xs.apply(e,arguments)}function aR(){var e=Jj(_g()).domain([.1,1,10]);return e.copy=function(){return Ja(e,aR()).base(e.base())},Xs.apply(e,arguments)}function iR(){var e=Xj(_g());return e.copy=function(){return Ja(e,iR()).constant(e.constant())},Xs.apply(e,arguments)}function c1(){var e=Zj(_g());return e.copy=function(){return Ja(e,c1()).exponent(e.exponent())},Xs.apply(e,arguments)}function due(){return c1.apply(null,arguments).exponent(.5)}const yE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nd,scaleDiverging:sR,scaleDivergingLog:aR,scaleDivergingPow:c1,scaleDivergingSqrt:due,scaleDivergingSymlog:iR,scaleIdentity:L$,scaleImplicit:_y,scaleLinear:km,scaleLog:B$,scaleOrdinal:Vj,scalePoint:bu,scalePow:Qj,scaleQuantile:V$,scaleQuantize:W$,scaleRadial:z$,scaleSequential:eR,scaleSequentialLog:tR,scaleSequentialPow:l1,scaleSequentialQuantile:nR,scaleSequentialSqrt:uue,scaleSequentialSymlog:rR,scaleSqrt:qle,scaleSymlog:F$,scaleThreshold:q$,scaleTime:lue,scaleUtc:cue,tickFormat:D$},Symbol.toStringTag,{value:"Module"}));var fue=fc;function hue(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!fue(o):r(o,l)))var l=o,c=i}return c}var Eg=hue;function mue(e,t){return e>t}var oR=mue,pue=Eg,gue=oR,vue=bc;function xue(e){return e&&e.length?pue(e,vue,gue):void 0}var yue=xue;const Pg=ze(yue);function bue(e,t){return e<t}var lR=bue,wue=Eg,jue=lR,Nue=bc;function Sue(e){return e&&e.length?wue(e,Nue,jue):void 0}var _ue=Sue;const kg=ze(_ue);var Eue=Nj,Pue=xs,kue=g$,Aue=Cr;function Cue(e,t){var r=Aue(e)?Eue:kue;return r(e,Pue(t))}var Oue=Cue,Tue=m$,Iue=Oue;function $ue(e,t){return Tue(Iue(e,t),1)}var Rue=$ue;const Mue=ze(Rue);var Due=Lj;function Lue(e,t){return Due(e,t)}var Uue=Lue;const Zd=ze(Uue);var jc=1e9,Bue={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},d1,ft=!0,gn="[DecimalError] ",Ti=gn+"Invalid argument: ",u1=gn+"Exponent out of range: ",Nc=Math.floor,ui=Math.pow,Fue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fr,Bt=1e7,it=7,cR=9007199254740991,Tm=Nc(cR/it),ce={};ce.absoluteValue=ce.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ce.comparedTo=ce.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ce.decimalPlaces=ce.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*it;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ce.dividedBy=ce.div=function(e){return Is(this,new this.constructor(e))};ce.dividedToIntegerBy=ce.idiv=function(e){var t=this,r=t.constructor;return Je(Is(t,new r(e),0,1),r.precision)};ce.equals=ce.eq=function(e){return!this.cmp(e)};ce.exponent=function(){return kt(this)};ce.greaterThan=ce.gt=function(e){return this.cmp(e)>0};ce.greaterThanOrEqualTo=ce.gte=function(e){return this.cmp(e)>=0};ce.isInteger=ce.isint=function(){return this.e>this.d.length-2};ce.isNegative=ce.isneg=function(){return this.s<0};ce.isPositive=ce.ispos=function(){return this.s>0};ce.isZero=function(){return this.s===0};ce.lessThan=ce.lt=function(e){return this.cmp(e)<0};ce.lessThanOrEqualTo=ce.lte=function(e){return this.cmp(e)<1};ce.logarithm=ce.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Fr))throw Error(gn+"NaN");if(r.s<1)throw Error(gn+(r.s?"NaN":"-Infinity"));return r.eq(Fr)?new n(0):(ft=!1,t=Is(ld(r,i),ld(e,i),i),ft=!0,Je(t,a))};ce.minus=ce.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fR(t,e):uR(t,(e.s=-e.s,e))};ce.modulo=ce.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(gn+"NaN");return r.s?(ft=!1,t=Is(r,e,0,1).times(e),ft=!0,r.minus(t)):Je(new n(r),a)};ce.naturalExponential=ce.exp=function(){return dR(this)};ce.naturalLogarithm=ce.ln=function(){return ld(this)};ce.negated=ce.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ce.plus=ce.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uR(t,e):fR(t,(e.s=-e.s,e))};ce.precision=ce.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ti+e);if(t=kt(a)+1,n=a.d.length-1,r=n*it+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ce.squareRoot=ce.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(gn+"NaN")}for(e=kt(l),ft=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=ns(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Nc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Is(l,i,o+2)).times(.5),ns(i.d).slice(0,o)===(t=ns(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Je(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return ft=!0,Je(n,r)};ce.times=ce.mul=function(e){var t,r,n,a,i,o,l,c,u,f=this,d=f.constructor,h=f.d,m=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%Bt|0,t=l/Bt|0;i[a]=(i[a]+t)%Bt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ft?Je(e,d.precision):e};ce.toDecimalPlaces=ce.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(fs(e,0,jc),t===void 0?t=n.rounding:fs(t,0,8),Je(r,e+kt(r)+1,t))};ce.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Yi(n,!0):(fs(e,0,jc),t===void 0?t=a.rounding:fs(t,0,8),n=Je(new a(n),e+1,t),r=Yi(n,!0,e+1)),r};ce.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Yi(a):(fs(e,0,jc),t===void 0?t=i.rounding:fs(t,0,8),n=Je(new i(a),e+kt(a)+1,t),r=Yi(n.abs(),!1,e+kt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ce.toInteger=ce.toint=function(){var e=this,t=e.constructor;return Je(new t(e),kt(e)+1,t.rounding)};ce.toNumber=function(){return+this};ce.toPower=ce.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(Fr);if(l=new c(l),!l.s){if(e.s<1)throw Error(gn+"Infinity");return l}if(l.eq(Fr))return l;if(n=c.precision,e.eq(Fr))return Je(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=f<0?-f:f)<=cR){for(a=new c(Fr),t=Math.ceil(n/it+4),ft=!1;r%2&&(a=a.times(l),wE(a.d,t)),r=Nc(r/2),r!==0;)l=l.times(l),wE(l.d,t);return ft=!0,e.s<0?new c(Fr).div(a):Je(a,n)}}else if(i<0)throw Error(gn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ft=!1,a=e.times(ld(l,n+u)),ft=!0,a=dR(a),a.s=i,a};ce.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=kt(a),n=Yi(a,r<=i.toExpNeg||r>=i.toExpPos)):(fs(e,1,jc),t===void 0?t=i.rounding:fs(t,0,8),a=Je(new i(a),e,t),r=kt(a),n=Yi(a,e<=r||r<=i.toExpNeg,e)),n};ce.toSignificantDigits=ce.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(fs(e,1,jc),t===void 0?t=n.rounding:fs(t,0,8)),Je(new n(r),e,t)};ce.toString=ce.valueOf=ce.val=ce.toJSON=ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=kt(e),r=e.constructor;return Yi(e,t<=r.toExpNeg||t>=r.toExpPos)};function uR(e,t){var r,n,a,i,o,l,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),ft?Je(t,d):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(d/it),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Bt|0,c[i]%=Bt;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,ft?Je(t,d):t}function fs(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ti+e)}function ns(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=it-n.length,r&&(i+=fa(r)),i+=n;o=e[t],n=o+"",r=it-n.length,r&&(i+=fa(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Is=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Bt|0,o=i/Bt|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Bt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,f,d,h,m,v,p,x,g,y,w,S,j,N,_,E,k=n.constructor,A=n.s==a.s?1:-1,O=n.d,C=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(gn+"Division by zero");for(c=n.e-a.e,_=C.length,j=O.length,m=new k(A),v=m.d=[],u=0;C[u]==(O[u]||0);)++u;if(C[u]>(O[u]||0)&&--c,i==null?y=i=k.precision:o?y=i+(kt(n)-kt(a))+1:y=i,y<0)return new k(0);if(y=y/it+2|0,u=0,_==1)for(f=0,C=C[0],y++;(u<j||f)&&y--;u++)w=f*Bt+(O[u]||0),v[u]=w/C|0,f=w%C|0;else{for(f=Bt/(C[0]+1)|0,f>1&&(C=e(C,f),O=e(O,f),_=C.length,j=O.length),S=_,p=O.slice(0,_),x=p.length;x<_;)p[x++]=0;E=C.slice(),E.unshift(0),N=C[0],C[1]>=Bt/2&&++N;do f=0,l=t(C,p,_,x),l<0?(g=p[0],_!=x&&(g=g*Bt+(p[1]||0)),f=g/N|0,f>1?(f>=Bt&&(f=Bt-1),d=e(C,f),h=d.length,x=p.length,l=t(d,p,h,x),l==1&&(f--,r(d,_<h?E:C,h))):(f==0&&(l=f=1),d=C.slice()),h=d.length,h<x&&d.unshift(0),r(p,d,x),l==-1&&(x=p.length,l=t(C,p,_,x),l<1&&(f++,r(p,_<x?E:C,x))),x=p.length):l===0&&(f++,p=[0]),v[u++]=f,l&&p[0]?p[x++]=O[S]||0:(p=[O[S]],x=1);while((S++<j||p[0]!==void 0)&&y--)}return v[0]||v.shift(),m.e=c,Je(m,o?i+kt(m)+1:i)}}();function dR(e,t){var r,n,a,i,o,l,c=0,u=0,f=e.constructor,d=f.precision;if(kt(e)>16)throw Error(u1+kt(e));if(!e.s)return new f(Fr);for(ft=!1,l=d,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ui(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new f(Fr),f.precision=l;;){if(a=Je(a.times(e),l),r=r.times(++c),o=i.plus(Is(a,r,l)),ns(o.d).slice(0,l)===ns(i.d).slice(0,l)){for(;u--;)i=Je(i.times(i),l);return f.precision=d,t==null?(ft=!0,Je(i,d)):i}i=o}}function kt(e){for(var t=e.e*it,r=e.d[0];r>=10;r/=10)t++;return t}function lx(e,t,r){if(t>e.LN10.sd())throw ft=!0,r&&(e.precision=r),Error(gn+"LN10 precision limit exceeded");return Je(new e(e.LN10),t)}function fa(e){for(var t="";e--;)t+="0";return t}function ld(e,t){var r,n,a,i,o,l,c,u,f,d=1,h=10,m=e,v=m.d,p=m.constructor,x=p.precision;if(m.s<1)throw Error(gn+(m.s?"NaN":"-Infinity"));if(m.eq(Fr))return new p(0);if(t==null?(ft=!1,u=x):u=t,m.eq(10))return t==null&&(ft=!0),lx(p,u);if(u+=h,p.precision=u,r=ns(v),n=r.charAt(0),i=kt(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=ns(m.d),n=r.charAt(0),d++;i=kt(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=lx(p,u+2,x).times(i+""),m=ld(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=x,t==null?(ft=!0,Je(m,x)):m;for(l=o=m=Is(m.minus(Fr),m.plus(Fr),u),f=Je(m.times(m),u),a=3;;){if(o=Je(o.times(f),u),c=l.plus(Is(o,new p(a),u)),ns(c.d).slice(0,u)===ns(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(lx(p,u+2,x).times(i+""))),l=Is(l,new p(d),u),p.precision=x,t==null?(ft=!0,Je(l,x)):l;l=c,a+=2}}function bE(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Nc(r/it),e.d=[],n=(r+1)%it,r<0&&(n+=it),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=it;n<a;)e.d.push(+t.slice(n,n+=it));t=t.slice(n),n=it-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ft&&(e.e>Tm||e.e<-Tm))throw Error(u1+r)}else e.s=0,e.e=0,e.d=[0];return e}function Je(e,t,r){var n,a,i,o,l,c,u,f,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=it,a=t,u=d[f=0];else{if(f=Math.ceil((n+1)/it),i=d.length,f>=i)return e;for(u=i=d[f],o=1;i>=10;i/=10)o++;n%=it,a=n-it+o}if(r!==void 0&&(i=ui(10,o-a-1),l=u/i%10|0,c=t<0||d[f+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/ui(10,o-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(i=kt(e),d.length=1,t=t-i-1,d[0]=ui(10,(it-t%it)%it),e.e=Nc(-t/it)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,i=1,f--):(d.length=f+1,i=ui(10,it-n),d[f]=a>0?(u/ui(10,o-a)%ui(10,a)|0)*i:0),c)for(;;)if(f==0){(d[0]+=i)==Bt&&(d[0]=1,++e.e);break}else{if(d[f]+=i,d[f]!=Bt)break;d[f--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(ft&&(e.e>Tm||e.e<-Tm))throw Error(u1+kt(e));return e}function fR(e,t){var r,n,a,i,o,l,c,u,f,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ft?Je(t,m):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,l=d.length):(r=d,n=u,l=c.length),a=Math.max(Math.ceil(m/it),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=d.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(c[a]!=d[a]){f=c[a]<d[a];break}o=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,a=d.length-l;a>0;--a)c[l++]=0;for(a=d.length;a>o;){if(c[--a]<d[a]){for(i=a;i&&c[--i]===0;)c[i]=Bt-1;--c[i],c[a]+=Bt}c[a]-=d[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ft?Je(t,m):t):new h(0)}function Yi(e,t,r){var n,a=kt(e),i=ns(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+fa(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+fa(-a-1)+i,r&&(n=r-o)>0&&(i+=fa(n))):a>=o?(i+=fa(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+fa(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=fa(n))),e.s<0?"-"+i:i}function wE(e,t){if(e.length>t)return e.length=t,!0}function hR(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ti+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return bE(o,i.toString())}else if(typeof i!="string")throw Error(Ti+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Fue.test(i))bE(o,i);else throw Error(Ti+i)}if(a.prototype=ce,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=hR,a.config=a.set=zue,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function zue(e){if(!e||typeof e!="object")throw Error(gn+"Object expected");var t,r,n,a=["precision",1,jc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Nc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ti+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ti+r+": "+n);return this}var d1=hR(Bue);Fr=new d1(1);const He=d1;function Vue(e){return Hue(e)||Kue(e)||que(e)||Wue()}function Wue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function que(e,t){if(e){if(typeof e=="string")return Ay(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ay(e,t)}}function Kue(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Hue(e){if(Array.isArray(e))return Ay(e)}function Ay(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Gue=function(t){return t},mR={},pR=function(t){return t===mR},jE=function(t){return function r(){return arguments.length===0||arguments.length===1&&pR(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Yue=function e(t,r){return t===1?r:jE(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==mR}).length;return o>=t?r.apply(void 0,a):e(t-o,jE(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=a.map(function(d){return pR(d)?c.shift():d});return r.apply(void 0,Vue(f).concat(c))}))})},Ag=function(t){return Yue(t.length,t)},Cy=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Jue=Ag(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Xue=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Gue;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Oy=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},gR=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function Zue(e){var t;return e===0?t=1:t=Math.floor(new He(e).abs().log(10).toNumber())+1,t}function Que(e,t,r){for(var n=new He(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var ede=Ag(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),tde=Ag(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),rde=Ag(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Cg={rangeStep:Que,getDigitCount:Zue,interpolateNumber:ede,uninterpolateNumber:tde,uninterpolateTruncation:rde};function Ty(e){return ade(e)||sde(e)||vR(e)||nde()}function nde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sde(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ade(e){if(Array.isArray(e))return Iy(e)}function cd(e,t){return lde(e)||ode(e,t)||vR(e,t)||ide()}function ide(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vR(e,t){if(e){if(typeof e=="string")return Iy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iy(e,t)}}function Iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ode(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function lde(e){if(Array.isArray(e))return e}function xR(e){var t=cd(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function yR(e,t,r){if(e.lte(0))return new He(0);var n=Cg.getDigitCount(e.toNumber()),a=new He(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new He(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new He(Math.ceil(c))}function cde(e,t,r){var n=1,a=new He(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new He(10).pow(Cg.getDigitCount(e)-1),a=new He(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new He(Math.floor(e)))}else e===0?a=new He(Math.floor((t-1)/2)):r||(a=new He(Math.floor(e)));var o=Math.floor((t-1)/2),l=Xue(Jue(function(c){return a.add(new He(c-o).mul(n)).toNumber()}),Cy);return l(0,t)}function bR(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new He(0),tickMin:new He(0),tickMax:new He(0)};var i=yR(new He(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new He(0):(o=new He(e).add(t).div(2),o=o.sub(new He(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new He(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?bR(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new He(l).mul(i)),tickMax:o.add(new He(c).mul(i))})}function ude(e){var t=cd(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=xR([r,n]),c=cd(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(Ty(Cy(0,a-1).map(function(){return 1/0}))):[].concat(Ty(Cy(0,a-1).map(function(){return-1/0})),[f]);return r>n?Oy(d):d}if(u===f)return cde(u,a,i);var h=bR(u,f,o,i),m=h.step,v=h.tickMin,p=h.tickMax,x=Cg.rangeStep(v,p.add(new He(.1).mul(m)),m);return r>n?Oy(x):x}function dde(e,t){var r=cd(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=xR([n,a]),l=cd(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(t,2),d=yR(new He(u).sub(c).div(f-1),i,0),h=[].concat(Ty(Cg.rangeStep(new He(c),new He(u).sub(new He(.99).mul(d)),d)),[u]);return n>a?Oy(h):h}var fde=gR(ude),hde=gR(dde),mde="Invariant failed";function Ji(e,t){throw new Error(mde)}var pde=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Im.apply(this,arguments)}function gde(e,t){return bde(e)||yde(e,t)||xde(e,t)||vde()}function vde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xde(e,t){if(e){if(typeof e=="string")return NE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NE(e,t)}}function NE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bde(e){if(Array.isArray(e))return e}function wde(e,t){if(e==null)return{};var r=jde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NR(n.key),n)}}function _de(e,t,r){return t&&Sde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ede(e,t,r){return t=$m(t),Pde(e,wR()?Reflect.construct(t,r||[],$m(e).constructor):t.apply(e,r))}function Pde(e,t){if(t&&(Ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kde(e)}function kde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wR=function(){return!!e})()}function $m(e){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$m(e)}function Ade(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$y(e,t)}function $y(e,t){return $y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$y(e,t)}function jR(e,t,r){return t=NR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NR(e){var t=Cde(e,"string");return Ol(t)=="symbol"?t:t+""}function Cde(e,t){if(Ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qd=function(e){function t(){return Nde(this,t),Ede(this,t,arguments)}return Ade(t,e),_de(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=wde(n,pde),m=fe(h,!1);this.props.direction==="x"&&f.type!=="number"&&Ji();var v=c.map(function(p){var x=u(p,l),g=x.x,y=x.y,w=x.value,S=x.errorVal;if(!S)return null;var j=[],N,_;if(Array.isArray(S)){var E=gde(S,2);N=E[0],_=E[1]}else N=_=S;if(i==="vertical"){var k=f.scale,A=y+a,O=A+o,C=A-o,M=k(w-N),U=k(w+_);j.push({x1:U,y1:O,x2:U,y2:C}),j.push({x1:M,y1:A,x2:U,y2:A}),j.push({x1:M,y1:O,x2:M,y2:C})}else if(i==="horizontal"){var L=d.scale,D=g+a,z=D-o,T=D+o,$=L(w-N),K=L(w+_);j.push({x1:z,y1:K,x2:T,y2:K}),j.push({x1:D,y1:$,x2:D,y2:K}),j.push({x1:z,y1:$,x2:T,y2:$})}return P.createElement(Le,Im({className:"recharts-errorBar",key:"bar-".concat(j.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},m),j.map(function(Y){return P.createElement("line",Im({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return P.createElement(Le,{className:"recharts-errorBars"},v)}}])}(P.Component);jR(Qd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});jR(Qd,"displayName","ErrorBar");function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function SE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(r),!0).forEach(function(n){Ode(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ode(e,t,r){return t=Tde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tde(e){var t=Ide(e,"string");return ud(t)=="symbol"?t:t+""}function Ide(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SR=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Dr(r,il);if(!o)return null;var l=il.defaultProps,c=l!==void 0?ri(ri({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(f,d){var h=d.item,m=d.props,v=m.sectors||m.data||[];return f.concat(v.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,m=h!==void 0?ri(ri({},h),d.props):{},v=m.dataKey,p=m.name,x=m.legendType,g=m.hide;return{inactive:g,dataKey:v,type:c.iconType||x||"square",color:f1(d),value:p||v,payload:m}}),ri(ri(ri({},c),il.getWithHeight(o,a)),{},{payload:u,item:o})};function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function _E(e){return Dde(e)||Mde(e)||Rde(e)||$de()}function $de(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rde(e,t){if(e){if(typeof e=="string")return Ry(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ry(e,t)}}function Mde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dde(e){if(Array.isArray(e))return Ry(e)}function Ry(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(r),!0).forEach(function(n){ll(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ll(e,t,r){return t=Lde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lde(e){var t=Ude(e,"string");return dd(t)=="symbol"?t:t+""}function Ude(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rt(e,t,r){return be(e)||be(t)?r:Dt(t)?Hr(e,t,r):pe(t)?t(e):r}function wu(e,t,r,n){var a=Mue(e,function(l){return Rt(l,t)});if(r==="number"){var i=a.filter(function(l){return Z(l)||parseFloat(l)});return i.length?[kg(i),Pg(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!be(l)}):a;return o.map(function(l){return Dt(l)||l instanceof Date?l:""})}var Bde=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var f=u>0?a[u-1].coordinate:a[l-1].coordinate,d=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(or(d-f)!==or(h-d)){var v=[];if(or(h-d)===or(c[1]-c[0])){m=h;var p=d+c[1]-c[0];v[0]=Math.min(p,(p+f)/2),v[1]=Math.max(p,(p+f)/2)}else{m=f;var x=h+c[1]-c[0];v[0]=Math.min(d,(x+d)/2),v[1]=Math.max(d,(x+d)/2)}var g=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(t>g[0]&&t<=g[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var y=Math.min(f,h),w=Math.max(f,h);if(t>(y+d)/2&&t<=(w+d)/2){o=a[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},f1=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?yt(yt({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Fde=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var f=i[l[c]].stackGroups,d=Object.keys(f),h=0,m=d.length;h<m;h++){var v=f[d[h]],p=v.items,x=v.cateAxisId,g=p.filter(function(_){return Ts(_.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,w=y!==void 0?yt(yt({},y),g[0].props):g[0].props,S=w.barSize,j=w[x];o[j]||(o[j]=[]);var N=be(S)?r:S;o[j].push({item:g[0],stackList:g.slice(1),barSize:be(N)?void 0:lr(N,n,0)})}}return o},zde=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=lr(r,a,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,v=o.reduce(function(S,j){return S+j.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&m>0&&(h=!0,m*=.9,v=c*m);var p=(a-v)/2>>0,x={offset:p-u,size:0};f=o.reduce(function(S,j){var N={item:j.item,position:{offset:x.offset+x.size+u,size:h?m:j.barSize}},_=[].concat(_E(S),[N]);return x=_[_.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(E){_.push({item:E,position:x})}),_},d)}else{var g=lr(n,a,0,!0);a-2*g-(c-1)*u<=0&&(u=0);var y=(a-2*g-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;f=o.reduce(function(S,j,N){var _=[].concat(_E(S),[{item:j.item,position:{offset:g+(y+u)*N+(y-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(E){_.push({item:E,position:_[_.length-1].position})}),_},d)}return f},Vde=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=SR({children:i,legendWidth:c});if(u){var f=a||{},d=f.width,h=f.height,m=u.align,v=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&v==="middle")&&m!=="center"&&Z(t[m]))return yt(yt({},t),{},ll({},m,t[m]+(d||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&v!=="middle"&&Z(t[v]))return yt(yt({},t),{},ll({},v,t[v]+(h||0)))}return t},Wde=function(t,r,n){return be(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},_R=function(t,r,n,a,i){var o=r.props.children,l=Gr(o,Qd).filter(function(u){return Wde(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=Rt(f,n);if(be(d))return u;var h=Array.isArray(d)?[kg(d),Pg(d)]:[d,d],m=c.reduce(function(v,p){var x=Rt(f,p,0),g=h[0]-Math.abs(Array.isArray(x)?x[0]:x),y=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(g,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},qde=function(t,r,n,a,i){var o=r.map(function(l){return _R(t,l,n,i,a)}).filter(function(l){return!be(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},ER=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&_R(t,c,u,a)||wu(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},PR=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},kR=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Cs=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?or(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=i?i.indexOf(d):d;return{coordinate:a(h)+u,value:d,offset:u}});return f.filter(function(d){return!Kd(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+u,value:d,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+u,value:d,offset:u}}):a.domain().map(function(d,h){return{coordinate:a(d)+u,value:i?i[d]:d,index:h,offset:u}})},cx=new WeakMap,qf=function(t,r){if(typeof r!="function")return t;cx.has(t)||cx.set(t,new WeakMap);var n=cx.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},AR=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:nd(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:km(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:bu(),realScaleType:"point"}:i==="category"?{scale:nd(),realScaleType:"band"}:{scale:km(),realScaleType:"linear"};if(Ki(a)){var c="scale".concat(fg(a));return{scale:(yE[c]||bu)(),realScaleType:yE[c]?c:"point"}}return pe(a)?{scale:a}:{scale:bu(),realScaleType:"point"}},PE=1e-4,CR=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-PE,o=Math.max(a[0],a[1])+PE,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},Kde=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Hde=function(t,r){if(!r||r.length!==2||!Z(r[0])||!Z(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Z(t[0])||t[0]<n)&&(i[0]=n),(!Z(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Gde=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Kd(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Yde=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Kd(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Jde={sign:Gde,expand:pZ,none:Nl,silhouette:gZ,wiggle:vZ,positive:Yde},Xde=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=Jde[n],o=mZ().keys(a).value(function(l,c){return+Rt(l,c,0)}).order(iy).offset(i);return o(t)},Zde=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(d,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?yt(yt({},h.type.defaultProps),h.props):h.props,p=v.stackId,x=v.hide;if(x)return d;var g=v[n],y=d[g]||{hasStack:!1,stackGroups:{}};if(Dt(p)){var w=y.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[p]=w}else y.stackGroups[vc("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return yt(yt({},d),{},ll({},g,y))},c),f={};return Object.keys(u).reduce(function(d,h){var m=u[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,x){var g=m.stackGroups[x];return yt(yt({},p),{},ll({},x,{numericAxisId:n,cateAxisId:a,items:g.items,stackedData:Xde(t,g.items,i)}))},v)}return yt(yt({},d),{},ll({},h,m))},f)},OR=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=fde(u,i,l);return t.domain([kg(f),Pg(f)]),{niceTicks:f}}if(i&&a==="number"){var d=t.domain(),h=hde(d,i,l);return{niceTicks:h}}return null};function kE(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!be(a[t.dataKey])){var l=om(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Rt(a,be(o)?t.dataKey:o);return be(c)?null:t.scale(c)}var AE=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Rt(o,r.dataKey,r.domain[l]);return be(c)?null:r.scale(c)-i/2+a},Qde=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},efe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?yt(yt({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Dt(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},tfe=function(t){return t.reduce(function(r,n){return[kg(n.concat([r[0]]).filter(Z)),Pg(n.concat([r[1]]).filter(Z))]},[1/0,-1/0])},TR=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,f){var d=tfe(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},CE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,My=function(t,r,n){if(pe(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Z(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(CE.test(t[0])){var i=+CE.exec(t[0])[1];a[0]=r[0]-i}else pe(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Z(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(OE.test(t[1])){var o=+OE.exec(t[1])[1];a[1]=r[1]+o}else pe(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Rm=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=Bj(r,function(d){return d.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],f=i[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},TE=function(t,r,n){return!t||!t.length||Zd(t,Hr(n,"type.defaultProps.domain"))?r:t},IR=function(t,r){var n=t.type.defaultProps?yt(yt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return yt(yt({},fe(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:f1(t),value:Rt(r,a),type:c,payload:r,chartType:u,hide:f})};function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function IE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(r),!0).forEach(function(n){$R(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $R(e,t,r){return t=rfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rfe(e){var t=nfe(e,"string");return fd(t)=="symbol"?t:t+""}function nfe(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sfe(e,t){return lfe(e)||ofe(e,t)||ife(e,t)||afe()}function afe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ife(e,t){if(e){if(typeof e=="string")return $E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $E(e,t)}}function $E(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ofe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function lfe(e){if(Array.isArray(e))return e}var Mm=Math.PI/180,cfe=function(t){return t*180/Math.PI},tt=function(t,r,n,a){return{x:t+Math.cos(-Mm*a)*n,y:r+Math.sin(-Mm*a)*n}},RR=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ufe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,f=lr(t.cx,o,o/2),d=lr(t.cy,l,l/2),h=RR(o,l,n),m=lr(t.innerRadius,h,0),v=lr(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(x,g){var y=r[g],w=y.domain,S=y.reversed,j;if(be(y.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[m,v]),S&&(j=[j[1],j[0]]);else{j=y.range;var N=j,_=sfe(N,2);c=_[0],u=_[1]}var E=AR(y,i),k=E.realScaleType,A=E.scale;A.domain(w).range(j),CR(A);var O=OR(A,Ns(Ns({},y),{},{realScaleType:k})),C=Ns(Ns(Ns({},y),O),{},{range:j,radius:v,realScaleType:k,scale:A,cx:f,cy:d,innerRadius:m,outerRadius:v,startAngle:c,endAngle:u});return Ns(Ns({},x),{},$R({},g,C))},{})},dfe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},ffe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=dfe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:cfe(u),angleInRadian:u}},hfe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},mfe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},RE=function(t,r){var n=t.x,a=t.y,i=ffe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=hfe(r),d=f.startAngle,h=f.endAngle,m=l,v;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;v=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=d}return v?Ns(Ns({},r),{},{radius:o,angle:mfe(m,r)}):null},MR=function(t){return!b.isValidElement(t)&&!pe(t)&&typeof t!="boolean"?t.className:""};function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}var pfe=["offset"];function gfe(e){return bfe(e)||yfe(e)||xfe(e)||vfe()}function vfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xfe(e,t){if(e){if(typeof e=="string")return Dy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dy(e,t)}}function yfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bfe(e){if(Array.isArray(e))return Dy(e)}function Dy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wfe(e,t){if(e==null)return{};var r=jfe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ME(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ME(Object(r),!0).forEach(function(n){Nfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nfe(e,t,r){return t=Sfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sfe(e){var t=_fe(e,"string");return hd(t)=="symbol"?t:t+""}function _fe(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(this,arguments)}var Efe=function(t){var r=t.value,n=t.formatter,a=be(t.children)?r:t.children;return pe(n)?n(a):a},Pfe=function(t,r){var n=or(r-t),a=Math.min(Math.abs(r-t),360);return n*a},kfe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,f=c.cy,d=c.innerRadius,h=c.outerRadius,m=c.startAngle,v=c.endAngle,p=c.clockWise,x=(d+h)/2,g=Pfe(m,v),y=g>=0?1:-1,w,S;a==="insideStart"?(w=m+y*o,S=p):a==="insideEnd"?(w=v-y*o,S=!p):a==="end"&&(w=v+y*o,S=p),S=g<=0?S:!S;var j=tt(u,f,x,w),N=tt(u,f,x,w+(S?1:-1)*359),_="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(N.x,",").concat(N.y),E=be(t.id)?vc("recharts-radial-line-"):t.id;return P.createElement("text",md({},n,{dominantBaseline:"central",className:Se("recharts-radial-bar-label",l)}),P.createElement("defs",null,P.createElement("path",{id:E,d:_})),P.createElement("textPath",{xlinkHref:"#".concat(E)},r))},Afe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,f=i.startAngle,d=i.endAngle,h=(f+d)/2;if(a==="outside"){var m=tt(o,l,u+n,h),v=m.x,p=m.y;return{x:v,y:p,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,g=tt(o,l,x,h),y=g.x,w=g.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Cfe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,f=o.height,d=f>=0?1:-1,h=d*a,m=d>0?"end":"start",v=d>0?"start":"end",p=u>=0?1:-1,x=p*a,g=p>0?"end":"start",y=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-d*a,textAnchor:"middle",verticalAnchor:m};return Tt(Tt({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var S={x:l+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:v};return Tt(Tt({},S),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(i==="left"){var j={x:l-x,y:c+f/2,textAnchor:g,verticalAnchor:"middle"};return Tt(Tt({},j),n?{width:Math.max(j.x-n.x,0),height:f}:{})}if(i==="right"){var N={x:l+u+x,y:c+f/2,textAnchor:y,verticalAnchor:"middle"};return Tt(Tt({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:f}:{})}var _=n?{width:u,height:f}:{};return i==="insideLeft"?Tt({x:l+x,y:c+f/2,textAnchor:y,verticalAnchor:"middle"},_):i==="insideRight"?Tt({x:l+u-x,y:c+f/2,textAnchor:g,verticalAnchor:"middle"},_):i==="insideTop"?Tt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},_):i==="insideBottom"?Tt({x:l+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:m},_):i==="insideTopLeft"?Tt({x:l+x,y:c+h,textAnchor:y,verticalAnchor:v},_):i==="insideTopRight"?Tt({x:l+u-x,y:c+h,textAnchor:g,verticalAnchor:v},_):i==="insideBottomLeft"?Tt({x:l+x,y:c+f-h,textAnchor:y,verticalAnchor:m},_):i==="insideBottomRight"?Tt({x:l+u-x,y:c+f-h,textAnchor:g,verticalAnchor:m},_):hc(i)&&(Z(i.x)||Ni(i.x))&&(Z(i.y)||Ni(i.y))?Tt({x:l+lr(i.x,u),y:c+lr(i.y,f),textAnchor:"end",verticalAnchor:"end"},_):Tt({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Ofe=function(t){return"cx"in t&&Z(t.cx)};function zt(e){var t=e.offset,r=t===void 0?5:t,n=wfe(e,pfe),a=Tt({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!i||be(l)&&be(c)&&!b.isValidElement(u)&&!pe(u))return null;if(b.isValidElement(u))return b.cloneElement(u,a);var m;if(pe(u)){if(m=b.createElement(u,a),b.isValidElement(m))return m}else m=Efe(a);var v=Ofe(i),p=fe(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return kfe(a,m,p);var x=v?Afe(a):Cfe(a);return P.createElement(Gi,md({className:Se("recharts-label",d)},p,x,{breakAll:h}),m)}zt.displayName="Label";var DR=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,m=t.top,v=t.left,p=t.width,x=t.height,g=t.clockWise,y=t.labelViewBox;if(y)return y;if(Z(p)&&Z(x)){if(Z(d)&&Z(h))return{x:d,y:h,width:p,height:x};if(Z(m)&&Z(v))return{x:m,y:v,width:p,height:x}}return Z(d)&&Z(h)?{x:d,y:h,width:0,height:0}:Z(r)&&Z(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:g}:t.viewBox?t.viewBox:{}},Tfe=function(t,r){return t?t===!0?P.createElement(zt,{key:"label-implicit",viewBox:r}):Dt(t)?P.createElement(zt,{key:"label-implicit",viewBox:r,value:t}):b.isValidElement(t)?t.type===zt?b.cloneElement(t,{key:"label-implicit",viewBox:r}):P.createElement(zt,{key:"label-implicit",content:t,viewBox:r}):pe(t)?P.createElement(zt,{key:"label-implicit",content:t,viewBox:r}):hc(t)?P.createElement(zt,md({viewBox:r},t,{key:"label-implicit"})):null:null},Ife=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=DR(t),o=Gr(a,zt).map(function(c,u){return b.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=Tfe(t.label,r||i);return[l].concat(gfe(o))};zt.parseViewBox=DR;zt.renderCallByParent=Ife;function $fe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Rfe=$fe;const Mfe=ze(Rfe);function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}var Dfe=["valueAccessor"],Lfe=["data","dataKey","clockWise","id","textBreakAll"];function Ufe(e){return Vfe(e)||zfe(e)||Ffe(e)||Bfe()}function Bfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ffe(e,t){if(e){if(typeof e=="string")return Ly(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ly(e,t)}}function zfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vfe(e){if(Array.isArray(e))return Ly(e)}function Ly(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dm.apply(this,arguments)}function DE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DE(Object(r),!0).forEach(function(n){Wfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wfe(e,t,r){return t=qfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qfe(e){var t=Kfe(e,"string");return pd(t)=="symbol"?t:t+""}function Kfe(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UE(e,t){if(e==null)return{};var r=Hfe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Gfe=function(t){return Array.isArray(t.value)?Mfe(t.value):t.value};function $s(e){var t=e.valueAccessor,r=t===void 0?Gfe:t,n=UE(e,Dfe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=UE(n,Lfe);return!a||!a.length?null:P.createElement(Le,{className:"recharts-label-list"},a.map(function(f,d){var h=be(i)?r(f,d):Rt(f&&f.payload,i),m=be(l)?{}:{id:"".concat(l,"-").concat(d)};return P.createElement(zt,Dm({},fe(f,!0),u,m,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:zt.parseViewBox(be(o)?f:LE(LE({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}$s.displayName="LabelList";function Yfe(e,t){return e?e===!0?P.createElement($s,{key:"labelList-implicit",data:t}):P.isValidElement(e)||pe(e)?P.createElement($s,{key:"labelList-implicit",data:t,content:e}):hc(e)?P.createElement($s,Dm({data:t},e,{key:"labelList-implicit"})):null:null}function Jfe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Gr(n,$s).map(function(o,l){return b.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=Yfe(e.label,t);return[i].concat(Ufe(a))}$s.renderCallByParent=Jfe;function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(this,arguments)}function BE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(r),!0).forEach(function(n){Xfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xfe(e,t,r){return t=Zfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zfe(e){var t=Qfe(e,"string");return gd(t)=="symbol"?t:t+""}function Qfe(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ehe=function(t,r){var n=or(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Kf=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+a,d=Math.asin(c/f)/Mm,h=u?i:i+o*d,m=tt(r,n,f,h),v=tt(r,n,a,h),p=u?i-o*d:i,x=tt(r,n,f*Math.cos(d*Mm),p);return{center:m,circleTangency:v,lineTangency:x,theta:d}},LR=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=ehe(o,l),u=o+c,f=tt(r,n,i,o),d=tt(r,n,i,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var m=tt(r,n,a,o),v=tt(r,n,a,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},the=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=or(f-u),h=Kf({cx:r,cy:n,radius:i,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,v=h.lineTangency,p=h.theta,x=Kf({cx:r,cy:n,radius:i,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:c}),g=x.circleTangency,y=x.lineTangency,w=x.theta,S=c?Math.abs(u-f):Math.abs(u-f)-p-w;if(S<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):LR({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:f});var j="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var N=Kf({cx:r,cy:n,radius:a,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=N.circleTangency,E=N.lineTangency,k=N.theta,A=Kf({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=A.circleTangency,C=A.lineTangency,M=A.theta,U=c?Math.abs(u-f):Math.abs(u-f)-k-M;if(U<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(U>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},rhe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},UR=function(t){var r=FE(FE({},rhe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(o<i||f===d)return null;var m=Se("recharts-sector",h),v=o-i,p=lr(l,v,0,!0),x;return p>0&&Math.abs(f-d)<360?x=the({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):x=LR({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:f,endAngle:d}),P.createElement("path",Uy({},fe(r,!0),{className:m,d:x,role:"img"}))};function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(this,arguments)}function zE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(r),!0).forEach(function(n){nhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nhe(e,t,r){return t=she(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function she(e){var t=ahe(e,"string");return vd(t)=="symbol"?t:t+""}function ahe(e,t){if(vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WE={curveBasisClosed:nZ,curveBasisOpen:sZ,curveBasis:rZ,curveBumpX:zX,curveBumpY:VX,curveLinearClosed:aZ,curveLinear:mg,curveMonotoneX:iZ,curveMonotoneY:oZ,curveNatural:lZ,curveStep:cZ,curveStepAfter:dZ,curveStepBefore:uZ},Hf=function(t){return t.x===+t.x&&t.y===+t.y},qc=function(t){return t.x},Kc=function(t){return t.y},ihe=function(t,r){if(pe(t))return t;var n="curve".concat(fg(t));return(n==="curveMonotone"||n==="curveBump")&&r?WE["".concat(n).concat(r==="vertical"?"Y":"X")]:WE[n]||mg},ohe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=ihe(n,l),d=u?i.filter(function(p){return Hf(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return Hf(p)}):o,v=d.map(function(p,x){return VE(VE({},p),{},{base:m[x]})});return l==="vertical"?h=Df().y(Kc).x1(qc).x0(function(p){return p.base.x}):h=Df().x(qc).y1(Kc).y0(function(p){return p.base.y}),h.defined(Hf).curve(f),h(v)}return l==="vertical"&&Z(o)?h=Df().y(Kc).x1(qc).x0(o):Z(o)?h=Df().x(qc).y1(Kc).y0(o):h=I5().x(qc).y(Kc),h.defined(Hf).curve(f),h(d)},Lm=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?ohe(t):a;return b.createElement("path",By({},fe(t,!1),lm(t),{className:Se("recharts-curve",r),d:o,ref:i}))},lhe=Object.getOwnPropertyNames,che=Object.getOwnPropertySymbols,uhe=Object.prototype.hasOwnProperty;function qE(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Gf(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function dhe(e){return e!=null?e[Symbol.toStringTag]:void 0}function KE(e){return lhe(e).concat(che(e))}var fhe=Object.hasOwn||function(e,t){return uhe.call(e,t)};function uo(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var hhe="__v",mhe="__o",phe="_owner",HE=Object.getOwnPropertyDescriptor,GE=Object.keys;function ghe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function vhe(e,t){return uo(e.getTime(),t.getTime())}function xhe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function yhe(e,t){return e===t}function YE(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),f=!1,d=0;(l=u.next())&&!l.done;){if(a[d]){d++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,d,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;c++}return!0}var bhe=uo;function whe(e,t,r){var n=GE(e),a=n.length;if(GE(t).length!==a)return!1;for(;a-- >0;)if(!BR(e,t,r,n[a]))return!1;return!0}function Hc(e,t,r){var n=KE(e),a=n.length;if(KE(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!BR(e,t,r,i)||(o=HE(e,i),l=HE(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function jhe(e,t){return uo(e.valueOf(),t.valueOf())}function Nhe(e,t){return e.source===t.source&&e.flags===t.flags}function JE(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!a[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function She(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function _he(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function BR(e,t,r,n){return(n===phe||n===mhe||n===hhe)&&(e.$$typeof||t.$$typeof)?!0:fhe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Ehe="[object Arguments]",Phe="[object Boolean]",khe="[object Date]",Ahe="[object Error]",Che="[object Map]",Ohe="[object Number]",The="[object Object]",Ihe="[object RegExp]",$he="[object Set]",Rhe="[object String]",Mhe="[object URL]",Dhe=Array.isArray,XE=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,ZE=Object.assign,Lhe=Object.prototype.toString.call.bind(Object.prototype.toString);function Uhe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual,m=e.unknownTagComparators;return function(p,x,g){if(p===x)return!0;if(p==null||x==null)return!1;var y=typeof p;if(y!==typeof x)return!1;if(y!=="object")return y==="number"?o(p,x,g):y==="function"?a(p,x,g):!1;var w=p.constructor;if(w!==x.constructor)return!1;if(w===Object)return l(p,x,g);if(Dhe(p))return t(p,x,g);if(XE!=null&&XE(p))return d(p,x,g);if(w===Date)return r(p,x,g);if(w===RegExp)return u(p,x,g);if(w===Map)return i(p,x,g);if(w===Set)return f(p,x,g);var S=Lhe(p);if(S===khe)return r(p,x,g);if(S===Ihe)return u(p,x,g);if(S===Che)return i(p,x,g);if(S===$he)return f(p,x,g);if(S===The)return typeof p.then!="function"&&typeof x.then!="function"&&l(p,x,g);if(S===Mhe)return h(p,x,g);if(S===Ahe)return n(p,x,g);if(S===Ehe)return l(p,x,g);if(S===Phe||S===Ohe||S===Rhe)return c(p,x,g);if(m){var j=m[S];if(!j){var N=dhe(p);N&&(j=m[N])}if(j)return j(p,x,g)}return!1}}function Bhe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Hc:ghe,areDatesEqual:vhe,areErrorsEqual:xhe,areFunctionsEqual:yhe,areMapsEqual:n?qE(YE,Hc):YE,areNumbersEqual:bhe,areObjectsEqual:n?Hc:whe,arePrimitiveWrappersEqual:jhe,areRegExpsEqual:Nhe,areSetsEqual:n?qE(JE,Hc):JE,areTypedArraysEqual:n?Hc:She,areUrlsEqual:_he,unknownTagComparators:void 0};if(r&&(a=ZE({},a,r(a))),t){var i=Gf(a.areArraysEqual),o=Gf(a.areMapsEqual),l=Gf(a.areObjectsEqual),c=Gf(a.areSetsEqual);a=ZE({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function Fhe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function zhe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var f=n(),d=f.cache,h=d===void 0?t?new WeakMap:void 0:d,m=f.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var Vhe=Xa();Xa({strict:!0});Xa({circular:!0});Xa({circular:!0,strict:!0});Xa({createInternalComparator:function(){return uo}});Xa({strict:!0,createInternalComparator:function(){return uo}});Xa({circular:!0,createInternalComparator:function(){return uo}});Xa({circular:!0,createInternalComparator:function(){return uo},strict:!0});function Xa(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=Bhe(e),c=Uhe(l),u=n?n(c):Fhe(c);return zhe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function Whe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function QE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Whe(a)};requestAnimationFrame(n)}function Fy(e){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fy(e)}function qhe(e){return Yhe(e)||Ghe(e)||Hhe(e)||Khe()}function Khe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hhe(e,t){if(e){if(typeof e=="string")return eP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eP(e,t)}}function eP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ghe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yhe(e){if(Array.isArray(e))return e}function Jhe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=qhe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){QE(a.bind(null,u),c);return}a(c),QE(a.bind(null,u));return}Fy(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function tP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tP(Object(r),!0).forEach(function(n){FR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FR(e,t,r){return t=Xhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xhe(e){var t=Zhe(e,"string");return xd(t)==="symbol"?t:String(t)}function Zhe(e,t){if(xd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qhe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},eme=function(t){return t},tme=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ju=function(t,r){return Object.keys(r).reduce(function(n,a){return rP(rP({},n),{},FR({},a,t(a,r[a])))},{})},nP=function(t,r,n){return t.map(function(a){return"".concat(tme(a)," ").concat(r,"ms ").concat(n)}).join(",")};function rme(e,t){return ame(e)||sme(e,t)||zR(e,t)||nme()}function nme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ame(e){if(Array.isArray(e))return e}function ime(e){return cme(e)||lme(e)||zR(e)||ome()}function ome(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zR(e,t){if(e){if(typeof e=="string")return zy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zy(e,t)}}function lme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cme(e){if(Array.isArray(e))return zy(e)}function zy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Um=1e-4,VR=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},WR=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},sP=function(t,r){return function(n){var a=VR(t,r);return WR(a,n)}},ume=function(t,r){return function(n){var a=VR(t,r),i=[].concat(ime(a.map(function(o,l){return o*l}).slice(1)),[0]);return WR(i,n)}},aP=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),f=rme(u,4);a=f[0],i=f[1],o=f[2],l=f[3]}}}var d=sP(a,o),h=sP(i,l),m=ume(a,o),v=function(g){return g>1?1:g<0?0:g},p=function(g){for(var y=g>1?1:g,w=y,S=0;S<8;++S){var j=d(w)-y,N=m(w);if(Math.abs(j-y)<Um||N<Um)return h(w);w=v(w-j/N)}return h(w)};return p.isStepper=!1,p},dme=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(f,d,h){var m=-(f-d)*n,v=h*i,p=h+(m-v)*l/1e3,x=h*l/1e3+f;return Math.abs(x-d)<Um&&Math.abs(p)<Um?[d,0]:[x,p]};return c.isStepper=!0,c.dt=l,c},fme=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aP(a);case"spring":return dme();default:if(a.split("(")[0]==="cubic-bezier")return aP(a)}return typeof a=="function"?a:null};function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function iP(e){return pme(e)||mme(e)||qR(e)||hme()}function hme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pme(e){if(Array.isArray(e))return Wy(e)}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){Vy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vy(e,t,r){return t=gme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gme(e){var t=vme(e,"string");return yd(t)==="symbol"?t:String(t)}function vme(e,t){if(yd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xme(e,t){return wme(e)||bme(e,t)||qR(e,t)||yme()}function yme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qR(e,t){if(e){if(typeof e=="string")return Wy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wy(e,t)}}function Wy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function wme(e){if(Array.isArray(e))return e}var Bm=function(t,r,n){return t+(r-t)*n},qy=function(t){var r=t.from,n=t.to;return r!==n},jme=function e(t,r,n){var a=ju(function(i,o){if(qy(o)){var l=t(o.from,o.to,o.velocity),c=xme(l,2),u=c[0],f=c[1];return Ht(Ht({},o),{},{from:u,velocity:f})}return o},r);return n<1?ju(function(i,o){return qy(o)?Ht(Ht({},o),{},{velocity:Bm(o.velocity,a[i].velocity,n),from:Bm(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const Nme=function(e,t,r,n,a){var i=Qhe(e,t),o=i.reduce(function(x,g){return Ht(Ht({},x),{},Vy({},g,[e[g],t[g]]))},{}),l=i.reduce(function(x,g){return Ht(Ht({},x),{},Vy({},g,{from:e[g],velocity:0,to:t[g]}))},{}),c=-1,u,f,d=function(){return null},h=function(){return ju(function(g,y){return y.from},l)},m=function(){return!Object.values(l).filter(qy).length},v=function(g){u||(u=g);var y=g-u,w=y/r.dt;l=jme(r,l,w),a(Ht(Ht(Ht({},e),t),h())),u=g,m()||(c=requestAnimationFrame(d))},p=function(g){f||(f=g);var y=(g-f)/n,w=ju(function(j,N){return Bm.apply(void 0,iP(N).concat([r(y)]))},o);if(a(Ht(Ht(Ht({},e),t),w)),y<1)c=requestAnimationFrame(d);else{var S=ju(function(j,N){return Bm.apply(void 0,iP(N).concat([r(1)]))},o);a(Ht(Ht(Ht({},e),t),S))}};return d=r.isStepper?v:p,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}var Sme=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _me(e,t){if(e==null)return{};var r=Eme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eme(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function ux(e){return Cme(e)||Ame(e)||kme(e)||Pme()}function Pme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kme(e,t){if(e){if(typeof e=="string")return Ky(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ky(e,t)}}function Ame(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cme(e){if(Array.isArray(e))return Ky(e)}function Ky(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(r),!0).forEach(function(n){nu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nu(e,t,r){return t=KR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ome(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KR(n.key),n)}}function Ime(e,t,r){return t&&Tme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KR(e){var t=$me(e,"string");return Tl(t)==="symbol"?t:String(t)}function $me(e,t){if(Tl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hy(e,t)}function Hy(e,t){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hy(e,t)}function Mme(e){var t=Dme();return function(){var n=Fm(e),a;if(t){var i=Fm(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Gy(this,a)}}function Gy(e,t){if(t&&(Tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yy(e)}function Yy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fm(e){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fm(e)}var hs=function(e){Rme(r,e);var t=Mme(r);function r(n,a){var i;Ome(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,d=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Yy(i)),i.changeStyle=i.changeStyle.bind(Yy(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:f}),Gy(i);if(d&&d.length)i.state={style:d[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Gy(i);i.state={style:c?nu({},c,u):u}}else i.state={style:{}};return i}return Ime(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,f=i.to,d=i.from,h=this.state.style;if(l){if(!o){var m={style:c?nu({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(m);return}if(!(Vhe(a.to,f)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=v||u?d:a.to;if(this.state&&h){var x={style:c?nu({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(x)}this.runAnimation(_n(_n({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,m=Nme(o,l,fme(u),c,this.changeStyle),v=function(){i.stopJSAnimation=m()};this.manager.start([h,f,v,c,d])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],f=u.style,d=u.duration,h=d===void 0?0:d,m=function(p,x,g){if(g===0)return p;var y=x.duration,w=x.easing,S=w===void 0?"ease":w,j=x.style,N=x.properties,_=x.onAnimationEnd,E=g>0?o[g-1]:x,k=N||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(ux(p),[i.runJSAnimation.bind(i,{from:E.style,to:j,duration:y,easing:S}),y]);var A=nP(k,y,S),O=_n(_n(_n({},E.style),j),{},{transition:A});return[].concat(ux(p),[O,y,_]).filter(eme)};return this.manager.start([c].concat(ux(o.reduce(m,[f,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Jhe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,m=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?nu({},l,c):c,x=nP(Object.keys(p),o,u);v.start([f,i,_n(_n({},p),{},{transition:x}),o,d])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=_me(a,Sme),u=b.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||u===0||o<=0)return i;var d=function(m){var v=m.props,p=v.style,x=p===void 0?{}:p,g=v.className,y=b.cloneElement(m,_n(_n({},c),{},{style:_n(_n({},x),f),className:g}));return y};return u===1?d(b.Children.only(i)):P.createElement("div",null,b.Children.map(i,function(h){return d(h)}))}}]),r}(b.PureComponent);hs.displayName="Animate";hs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};hs.propTypes={from:ue.oneOfType([ue.object,ue.string]),to:ue.oneOfType([ue.object,ue.string]),attributeName:ue.string,duration:ue.number,begin:ue.number,easing:ue.oneOfType([ue.string,ue.func]),steps:ue.arrayOf(ue.shape({duration:ue.number.isRequired,style:ue.object.isRequired,easing:ue.oneOfType([ue.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ue.func]),properties:ue.arrayOf("string"),onAnimationEnd:ue.func})),children:ue.oneOfType([ue.node,ue.func]),isActive:ue.bool,canBegin:ue.bool,onAnimationEnd:ue.func,shouldReAnimate:ue.bool,onAnimationStart:ue.func,onAnimationReStart:ue.func};function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zm.apply(this,arguments)}function Lme(e,t){return zme(e)||Fme(e,t)||Bme(e,t)||Ume()}function Ume(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bme(e,t){if(e){if(typeof e=="string")return cP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cP(e,t)}}function cP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zme(e){if(Array.isArray(e))return e}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){Vme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vme(e,t,r){return t=Wme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wme(e){var t=qme(e,"string");return bd(t)=="symbol"?t:t+""}function qme(e,t){if(bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fP=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,m=4;h<m;h++)d[h]=i[h]>o?o:i[h];f="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),f+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),f+="L ".concat(t+n,",").concat(r+a-l*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+a)),f+="L ".concat(t+c*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*d[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);f="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*v," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},Kme=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),f=Math.max(i,i+l),d=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=f&&a>=d&&a<=h}return!1},Hme={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},h1=function(t){var r=dP(dP({},Hme),t),n=b.useRef(),a=b.useState(-1),i=Lme(a,2),o=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,f=r.width,d=r.height,h=r.radius,m=r.className,v=r.animationEasing,p=r.animationDuration,x=r.animationBegin,g=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var w=Se("recharts-rectangle",m);return y?P.createElement(hs,{canBegin:o>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:p,animationEasing:v,isActive:y},function(S){var j=S.width,N=S.height,_=S.x,E=S.y;return P.createElement(hs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,isActive:g,easing:v},P.createElement("path",zm({},fe(r,!0),{className:w,d:fP(_,E,j,N,h),ref:n})))}):P.createElement("path",zm({},fe(r,!0),{className:w,d:fP(c,u,f,d,h)}))},Gme=["points","className","baseLinePoints","connectNulls"];function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qo.apply(this,arguments)}function Yme(e,t){if(e==null)return{};var r=Jme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hP(e){return epe(e)||Qme(e)||Zme(e)||Xme()}function Xme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zme(e,t){if(e){if(typeof e=="string")return Jy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jy(e,t)}}function Qme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function epe(e){if(Array.isArray(e))return Jy(e)}function Jy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mP=function(t){return t&&t.x===+t.x&&t.y===+t.y},tpe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){mP(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),mP(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Nu=function(t,r){var n=tpe(t);r&&(n=[n.reduce(function(i,o){return[].concat(hP(i),hP(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},rpe=function(t,r,n){var a=Nu(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Nu(r.reverse(),n).slice(1))},npe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Yme(t,Gme);if(!r||!r.length)return null;var l=Se("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=rpe(r,a,i);return P.createElement("g",{className:l},P.createElement("path",qo({},fe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?P.createElement("path",qo({},fe(o,!0),{fill:"none",d:Nu(r,i)})):null,c?P.createElement("path",qo({},fe(o,!0),{fill:"none",d:Nu(a,i)})):null)}var f=Nu(r,i);return P.createElement("path",qo({},fe(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function Xy(){return Xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xy.apply(this,arguments)}var Og=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Se("recharts-dot",i);return r===+r&&n===+n&&a===+a?b.createElement("circle",Xy({},fe(t,!1),lm(t),{className:o,cx:r,cy:n,r:a})):null};function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}var spe=["x","y","top","left","width","height","className"];function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(this,arguments)}function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ape(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(n){ipe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ipe(e,t,r){return t=ope(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ope(e){var t=lpe(e,"string");return wd(t)=="symbol"?t:t+""}function lpe(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cpe(e,t){if(e==null)return{};var r=upe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function upe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dpe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},fpe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,h=t.height,m=h===void 0?0:h,v=t.className,p=cpe(t,spe),x=ape({x:n,y:i,top:l,left:u,width:d,height:m},p);return!Z(n)||!Z(i)||!Z(d)||!Z(m)||!Z(l)||!Z(u)?null:P.createElement("path",Zy({},fe(x,!0),{className:Se("recharts-cross",v),d:dpe(n,i,d,m,l,u)}))},hpe=Eg,mpe=oR,ppe=xs;function gpe(e,t){return e&&e.length?hpe(e,ppe(t),mpe):void 0}var vpe=gpe;const xpe=ze(vpe);var ype=Eg,bpe=xs,wpe=lR;function jpe(e,t){return e&&e.length?ype(e,bpe(t),wpe):void 0}var Npe=jpe;const Spe=ze(Npe);var _pe=["cx","cy","angle","ticks","axisLine"],Epe=["ticks","tick","angle","tickFormatter","stroke"];function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Su.apply(this,arguments)}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){Tg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vP(e,t){if(e==null)return{};var r=Ppe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ppe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GR(n.key),n)}}function Ape(e,t,r){return t&&xP(e.prototype,t),r&&xP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cpe(e,t,r){return t=Vm(t),Ope(e,HR()?Reflect.construct(t,r||[],Vm(e).constructor):t.apply(e,r))}function Ope(e,t){if(t&&(Il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tpe(e)}function Tpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HR=function(){return!!e})()}function Vm(e){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(e)}function Ipe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qy(e,t)}function Qy(e,t){return Qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qy(e,t)}function Tg(e,t,r){return t=GR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GR(e){var t=$pe(e,"string");return Il(t)=="symbol"?t:t+""}function $pe(e,t){if(Il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ig=function(e){function t(){return kpe(this,t),Cpe(this,t,arguments)}return Ipe(t,e),Ape(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return tt(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=xpe(l,function(f){return f.coordinate||0}),u=Spe(l,function(f){return f.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=vP(n,_pe),f=l.reduce(function(v,p){return[Math.min(v[0],p.coordinate),Math.max(v[1],p.coordinate)]},[1/0,-1/0]),d=tt(a,i,f[0],o),h=tt(a,i,f[1],o),m=ni(ni(ni({},fe(u,!1)),{},{fill:"none"},fe(c,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return P.createElement("line",Su({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,f=vP(a,Epe),d=this.getTickTextAnchor(),h=fe(f,!1),m=fe(o,!1),v=i.map(function(p,x){var g=n.getTickValueCoord(p),y=ni(ni(ni(ni({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(g.x,", ").concat(g.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:x},g),{},{payload:p});return P.createElement(Le,Su({className:Se("recharts-polar-radius-axis-tick",MR(o)),key:"tick-".concat(p.coordinate)},Hi(n.props,p,x)),t.renderTickItem(o,y,c?c(p.value,x):p.value))});return P.createElement(Le,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:P.createElement(Le,{className:Se("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),zt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return P.isValidElement(n)?o=P.cloneElement(n,a):pe(n)?o=n(a):o=P.createElement(Gi,Su({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(b.PureComponent);Tg(Ig,"displayName","PolarRadiusAxis");Tg(Ig,"axisType","radiusAxis");Tg(Ig,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function $l(e){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(e)}function hi(){return hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hi.apply(this,arguments)}function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){$g(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JR(n.key),n)}}function Mpe(e,t,r){return t&&bP(e.prototype,t),r&&bP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dpe(e,t,r){return t=Wm(t),Lpe(e,YR()?Reflect.construct(t,r||[],Wm(e).constructor):t.apply(e,r))}function Lpe(e,t){if(t&&($l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Upe(e)}function Upe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YR=function(){return!!e})()}function Wm(e){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wm(e)}function Bpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eb(e,t)}function eb(e,t){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eb(e,t)}function $g(e,t,r){return t=JR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JR(e){var t=Fpe(e,"string");return $l(t)=="symbol"?t:t+""}function Fpe(e,t){if($l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zpe=Math.PI/180,wP=1e-5,Rg=function(e){function t(){return Rpe(this,t),Dpe(this,t,arguments)}return Bpe(t,e),Mpe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,f=u||8,d=tt(i,o,l,n.coordinate),h=tt(i,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*zpe),o;return i>wP?o=a==="outer"?"start":"end":i<-wP?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=si(si({},fe(this.props,!1)),{},{fill:"none"},fe(l,!1));if(c==="circle")return P.createElement(Og,hi({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var f=this.props.ticks,d=f.map(function(h){return tt(a,i,o,h.coordinate)});return P.createElement(npe,hi({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,f=fe(this.props,!1),d=fe(o,!1),h=si(si({},f),{},{fill:"none"},fe(l,!1)),m=i.map(function(v,p){var x=n.getTickLineCoord(v),g=n.getTickTextAnchor(v),y=si(si(si({textAnchor:g},f),{},{stroke:"none",fill:u},d),{},{index:p,payload:v,x:x.x2,y:x.y2});return P.createElement(Le,hi({className:Se("recharts-polar-angle-axis-tick",MR(o)),key:"tick-".concat(v.coordinate)},Hi(n.props,v,p)),l&&P.createElement("line",hi({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,y,c?c(v.value,p):v.value))});return P.createElement(Le,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:P.createElement(Le,{className:Se("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return P.isValidElement(n)?o=P.cloneElement(n,a):pe(n)?o=n(a):o=P.createElement(Gi,hi({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(b.PureComponent);$g(Rg,"displayName","PolarAngleAxis");$g(Rg,"axisType","angleAxis");$g(Rg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Vpe=n$,Wpe=Vpe(Object.getPrototypeOf,Object),qpe=Wpe,Kpe=Ys,Hpe=qpe,Gpe=Js,Ype="[object Object]",Jpe=Function.prototype,Xpe=Object.prototype,XR=Jpe.toString,Zpe=Xpe.hasOwnProperty,Qpe=XR.call(Object);function ege(e){if(!Gpe(e)||Kpe(e)!=Ype)return!1;var t=Hpe(e);if(t===null)return!0;var r=Zpe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&XR.call(r)==Qpe}var tge=ege;const rge=ze(tge);var nge=Ys,sge=Js,age="[object Boolean]";function ige(e){return e===!0||e===!1||sge(e)&&nge(e)==age}var oge=ige;const lge=ze(oge);function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qm.apply(this,arguments)}function cge(e,t){return hge(e)||fge(e,t)||dge(e,t)||uge()}function uge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dge(e,t){if(e){if(typeof e=="string")return jP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jP(e,t)}}function jP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function hge(e){if(Array.isArray(e))return e}function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){mge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mge(e,t,r){return t=pge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pge(e){var t=gge(e,"string");return jd(t)=="symbol"?t:t+""}function gge(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _P=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},vge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xge=function(t){var r=SP(SP({},vge),t),n=b.useRef(),a=b.useState(-1),i=cge(a,2),o=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,m=r.className,v=r.animationEasing,p=r.animationDuration,x=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var y=Se("recharts-trapezoid",m);return g?P.createElement(hs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:c,y:u},duration:p,animationEasing:v,isActive:g},function(w){var S=w.upperWidth,j=w.lowerWidth,N=w.height,_=w.x,E=w.y;return P.createElement(hs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,easing:v},P.createElement("path",qm({},fe(r,!0),{className:y,d:_P(_,E,S,j,N),ref:n})))}):P.createElement("g",null,P.createElement("path",qm({},fe(r,!0),{className:y,d:_P(c,u,f,d,h)})))},yge=["option","shapeType","propTransformer","activeClassName","isActive"];function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function bge(e,t){if(e==null)return{};var r=wge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Km(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){jge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jge(e,t,r){return t=Nge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nge(e){var t=Sge(e,"string");return Nd(t)=="symbol"?t:t+""}function Sge(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ge(e,t){return Km(Km({},t),e)}function Ege(e,t){return e==="symbols"}function PP(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return P.createElement(h1,r);case"trapezoid":return P.createElement(xge,r);case"sector":return P.createElement(UR,r);case"symbols":if(Ege(t))return P.createElement(Tj,r);break;default:return null}}function Pge(e){return b.isValidElement(e)?e.props:e}function ZR(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?_ge:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=bge(e,yge),u;if(b.isValidElement(t))u=b.cloneElement(t,Km(Km({},c),Pge(t)));else if(pe(t))u=t(c);else if(rge(t)&&!lge(t)){var f=a(t,c);u=P.createElement(PP,{shapeType:r,elementProps:f})}else{var d=c;u=P.createElement(PP,{shapeType:r,elementProps:d})}return l?P.createElement(Le,{className:o},u):u}function Mg(e,t){return t!=null&&"trapezoids"in e.props}function Dg(e,t){return t!=null&&"sectors"in e.props}function Sd(e,t){return t!=null&&"points"in e.props}function kge(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Age(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Cge(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Oge(e,t){var r;return Mg(e,t)?r=kge:Dg(e,t)?r=Age:Sd(e,t)&&(r=Cge),r}function Tge(e,t){var r;return Mg(e,t)?r="trapezoids":Dg(e,t)?r="sectors":Sd(e,t)&&(r="points"),r}function Ige(e,t){if(Mg(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Dg(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Sd(e,t)?t.payload:{}}function $ge(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Tge(r,t),i=Ige(r,t),o=n.filter(function(c,u){var f=Zd(i,c),d=r.props[a].filter(function(v){var p=Oge(r,t);return p(v,t)}),h=r.props[a].indexOf(d[d.length-1]),m=u===h;return f&&m}),l=n.indexOf(o[o.length-1]);return l}var wh;function Rl(e){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ko.apply(this,arguments)}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){an(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eM(n.key),n)}}function Mge(e,t,r){return t&&AP(e.prototype,t),r&&AP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dge(e,t,r){return t=Hm(t),Lge(e,QR()?Reflect.construct(t,r||[],Hm(e).constructor):t.apply(e,r))}function Lge(e,t){if(t&&(Rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uge(e)}function Uge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QR=function(){return!!e})()}function Hm(e){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hm(e)}function Bge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tb(e,t)}function tb(e,t){return tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tb(e,t)}function an(e,t,r){return t=eM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eM(e){var t=Fge(e,"string");return Rl(t)=="symbol"?t:t+""}function Fge(e,t){if(Rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zs=function(e){function t(r){var n;return Rge(this,t),n=Dge(this,t,[r]),an(n,"pieRef",null),an(n,"sectorRefs",[]),an(n,"id",vc("recharts-pie-")),an(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),pe(a)&&a()}),an(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),pe(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Bge(t,e),Mge(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,f=fe(this.props,!1),d=fe(o,!1),h=fe(l,!1),m=o&&o.offsetRadius||20,v=n.map(function(p,x){var g=(p.startAngle+p.endAngle)/2,y=tt(p.cx,p.cy,p.outerRadius+m,g),w=Ze(Ze(Ze(Ze({},f),p),{},{stroke:"none"},d),{},{index:x,textAnchor:t.getTextAnchor(y.x,p.cx)},y),S=Ze(Ze(Ze(Ze({},f),p),{},{fill:"none",stroke:p.fill},h),{},{index:x,points:[tt(p.cx,p.cy,p.outerRadius,g),y]}),j=c;return be(c)&&be(u)?j="value":be(c)&&(j=u),P.createElement(Le,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,S,"line"),t.renderLabelItem(o,w,Rt(p,j)))});return P.createElement(Le,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var d=a.isActiveIndex(f),h=c&&a.hasActiveIndex()?c:null,m=d?o:h,v=Ze(Ze({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return P.createElement(Le,Ko({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Hi(a.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),P.createElement(ZR,Ko({option:m,isActive:d,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,d=this.state,h=d.prevSectors,m=d.prevIsAnimationActive;return P.createElement(hs,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var p=v.t,x=[],g=i&&i[0],y=g.startAngle;return i.forEach(function(w,S){var j=h&&h[S],N=S>0?Hr(w,"paddingAngle",0):0;if(j){var _=Br(j.endAngle-j.startAngle,w.endAngle-w.startAngle),E=Ze(Ze({},w),{},{startAngle:y+N,endAngle:y+_(p)+N});x.push(E),y=E.endAngle}else{var k=w.endAngle,A=w.startAngle,O=Br(0,k-A),C=O(p),M=Ze(Ze({},w),{},{startAngle:y+N,endAngle:y+C+N});x.push(M),y=M.endAngle}}),P.createElement(Le,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Zd(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,f=a.cy,d=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!Z(u)||!Z(f)||!Z(d)||!Z(h))return null;var p=Se("recharts-pie",l);return P.createElement(Le,{tabIndex:this.props.rootTabIndex,className:p,ref:function(g){n.pieRef=g}},this.renderSectors(),c&&this.renderLabels(o),zt.renderCallByParent(this.props,null,!1),(!m||v)&&$s.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(P.isValidElement(n))return P.cloneElement(n,a);if(pe(n))return n(a);var o=Se("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return P.createElement(Lm,Ko({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(P.isValidElement(n))return P.cloneElement(n,a);var o=i;if(pe(n)&&(o=n(a),P.isValidElement(o)))return o;var l=Se("recharts-pie-label-text",typeof n!="boolean"&&!pe(n)?n.className:"");return P.createElement(Gi,Ko({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(b.PureComponent);wh=Zs;an(Zs,"displayName","Pie");an(Zs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!oo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});an(Zs,"parseDeltaAngle",function(e,t){var r=or(t-e),n=Math.min(Math.abs(t-e),360);return r*n});an(Zs,"getRealPieData",function(e){var t=e.data,r=e.children,n=fe(e,!1),a=Gr(r,yg);return t&&t.length?t.map(function(i,o){return Ze(Ze(Ze({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Ze(Ze({},n),i.props)}):[]});an(Zs,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=RR(a,i),l=n+lr(e.cx,a,a/2),c=r+lr(e.cy,i,i/2),u=lr(e.innerRadius,o,0),f=lr(e.outerRadius,o,o*.8),d=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:d}});an(Zs,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ze(Ze({},t.type.defaultProps),t.props):t.props,a=wh.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,d=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),v=wh.parseCoordinateOfPie(n,r),p=wh.parseDeltaAngle(o,l),x=Math.abs(p),g=u;be(u)&&be(d)?(Un(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):be(u)&&(Un(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=d);var y=a.filter(function(E){return Rt(E,g,0)!==0}).length,w=(x>=360?y:y-1)*c,S=x-y*m-w,j=a.reduce(function(E,k){var A=Rt(k,g,0);return E+(Z(A)?A:0)},0),N;if(j>0){var _;N=a.map(function(E,k){var A=Rt(E,g,0),O=Rt(E,f,k),C=(Z(A)?A:0)/j,M;k?M=_.endAngle+or(p)*c*(A!==0?1:0):M=o;var U=M+or(p)*((A!==0?m:0)+C*S),L=(M+U)/2,D=(v.innerRadius+v.outerRadius)/2,z=[{name:O,value:A,payload:E,dataKey:g,type:h}],T=tt(v.cx,v.cy,D,L);return _=Ze(Ze(Ze({percent:C,cornerRadius:i,name:O,tooltipPayload:z,midAngle:L,middleRadius:D,tooltipPosition:T},E),v),{},{value:Rt(E,g),startAngle:M,endAngle:U,payload:E,paddingAngle:or(p)*c}),_})}return Ze(Ze({},v),{},{sectors:N,data:a})});var zge=Math.ceil,Vge=Math.max;function Wge(e,t,r,n){for(var a=-1,i=Vge(zge((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var qge=Wge,Kge=j$,CP=1/0,Hge=17976931348623157e292;function Gge(e){if(!e)return e===0?e:0;if(e=Kge(e),e===CP||e===-CP){var t=e<0?-1:1;return t*Hge}return e===e?e:0}var tM=Gge,Yge=qge,Jge=xg,dx=tM;function Xge(e){return function(t,r,n){return n&&typeof n!="number"&&Jge(t,r,n)&&(r=n=void 0),t=dx(t),r===void 0?(r=t,t=0):r=dx(r),n=n===void 0?t<r?1:-1:dx(n),Yge(t,r,n,e)}}var Zge=Xge,Qge=Zge,eve=Qge(),tve=eve;const Gm=ze(tve);function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){rM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rM(e,t,r){return t=rve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rve(e){var t=nve(e,"string");return _d(t)=="symbol"?t:t+""}function nve(e,t){if(_d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sve=["Webkit","Moz","O","ms"],ave=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=sve.reduce(function(i,o){return TP(TP({},i),{},rM({},o+n,r))},{});return a[t]=r,a};function Ml(e){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ym.apply(this,arguments)}function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(n){Rr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ive(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sM(n.key),n)}}function ove(e,t,r){return t&&$P(e.prototype,t),r&&$P(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lve(e,t,r){return t=Jm(t),cve(e,nM()?Reflect.construct(t,r||[],Jm(e).constructor):t.apply(e,r))}function cve(e,t){if(t&&(Ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uve(e)}function uve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nM=function(){return!!e})()}function Jm(e){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jm(e)}function dve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rb(e,t)}function rb(e,t){return rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rb(e,t)}function Rr(e,t,r){return t=sM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sM(e){var t=fve(e,"string");return Ml(t)=="symbol"?t:t+""}function fve(e,t){if(Ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hve=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=bu().domain(Gm(0,c)).range([i,i+o-l]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:f}},RP=function(t){return t.changedTouches&&!!t.changedTouches.length},Dl=function(e){function t(r){var n;return ive(this,t),n=lve(this,t,[r]),Rr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Rr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Rr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Rr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Rr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Rr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Rr(n,"handleSlideDragStart",function(a){var i=RP(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return dve(t,e),ove(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,d=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,d),v=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:v===f?f:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Rt(i[n],l,n);return pe(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,h=c.startIndex,m=c.endIndex,v=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+f-d-l,u+f-d-o):p<0&&(p=Math.max(p,u-o,u-l));var x=this.getIndex({startX:o+p,endX:l+p});(x.startIndex!==h||x.endIndex!==m)&&v&&v(x),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=RP(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],f=this.props,d=f.x,h=f.width,m=f.travellerWidth,v=f.onChange,p=f.gap,x=f.data,g={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,d+h-m-u):y<0&&(y=Math.max(y,d-u)),g[o]=u+y;var w=this.getIndex(g),S=w.startIndex,j=w.endIndex,N=function(){var E=x.length-1;return o==="startX"&&(l>c?S%p===0:j%p===0)||l<c&&j===E||o==="endX"&&(l>c?j%p===0:S%p===0)||l>c&&j===E};this.setState(Rr(Rr({},o,u+y),"brushMoveStartX",n.pageX),function(){v&&N()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[a],d=l.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Rr({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return P.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,d=b.Children.only(u);return d?P.cloneElement(d,{x:a,y:i,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,m=c.ariaLabel,v=c.data,p=c.startIndex,x=c.endIndex,g=Math.max(n,this.props.x),y=fx(fx({},fe(this.props,!1)),{},{x:g,y:u,width:f,height:d}),w=m||"Min value: ".concat((i=v[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[x])===null||o===void 0?void 0:o.name);return P.createElement(Le,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,f=Math.min(n,a)+u,d=Math.max(Math.abs(a-n)-u,0);return P.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,h=f.endX,m=5,v={pointerEvents:"none",fill:u};return P.createElement(Le,{className:"recharts-brush-texts"},P.createElement(Gi,Ym({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-m,y:o+l/2},v),this.getTextOfTick(a)),P.createElement(Gi,Ym({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+m,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,f=n.height,d=n.alwaysShowText,h=this.state,m=h.startX,v=h.endX,p=h.isTextActive,x=h.isSlideMoving,g=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!Z(l)||!Z(c)||!Z(u)||!Z(f)||u<=0||f<=0)return null;var w=Se("recharts-brush",i),S=P.Children.count(o)===1,j=ave("userSelect","none");return P.createElement(Le,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(p||x||g||y||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return P.createElement(P.Fragment,null,P.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),P.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),P.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return P.isValidElement(n)?i=P.cloneElement(n,a):pe(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return fx({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?hve({data:i,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(b.PureComponent);Rr(Dl,"displayName","Brush");Rr(Dl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var mve=Uj;function pve(e,t){var r;return mve(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var gve=pve,vve=Y5,xve=xs,yve=gve,bve=Cr,wve=xg;function jve(e,t,r){var n=bve(e)?vve:yve;return r&&wve(e,t,r)&&(t=void 0),n(e,xve(t))}var Nve=jve;const Sve=ze(Nve);var ls=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},MP=v$;function _ve(e,t,r){t=="__proto__"&&MP?MP(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Eve=_ve,Pve=Eve,kve=p$,Ave=xs;function Cve(e,t){var r={};return t=Ave(t),kve(e,function(n,a,i){Pve(r,a,t(n,a,i))}),r}var Ove=Cve;const Tve=ze(Ove);function Ive(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var $ve=Ive,Rve=Uj;function Mve(e,t){var r=!0;return Rve(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var Dve=Mve,Lve=$ve,Uve=Dve,Bve=xs,Fve=Cr,zve=xg;function Vve(e,t,r){var n=Fve(e)?Lve:Uve;return r&&zve(e,t,r)&&(t=void 0),n(e,Bve(t))}var Wve=Vve;const aM=ze(Wve);var qve=["x","y"];function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nb.apply(this,arguments)}function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(n){Kve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kve(e,t,r){return t=Hve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hve(e){var t=Gve(e,"string");return Ed(t)=="symbol"?t:t+""}function Gve(e,t){if(Ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yve(e,t){if(e==null)return{};var r=Jve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xve(e,t){var r=e.x,n=e.y,a=Yve(e,qve),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),f=parseInt(u,10),d="".concat(t.width||a.width),h=parseInt(d,10);return Gc(Gc(Gc(Gc(Gc({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function LP(e){return P.createElement(ZR,nb({shapeType:"rectangle",propTransformer:Xve,activeClassName:"recharts-active-bar"},e))}var Zve=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Z(n)||PJ(n);return i?t(n,a):(i||Ji(),r)}},Qve=["value","background"],iM;function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function exe(e,t){if(e==null)return{};var r=txe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function txe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xm.apply(this,arguments)}function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(n){wa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lM(n.key),n)}}function nxe(e,t,r){return t&&BP(e.prototype,t),r&&BP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sxe(e,t,r){return t=Zm(t),axe(e,oM()?Reflect.construct(t,r||[],Zm(e).constructor):t.apply(e,r))}function axe(e,t){if(t&&(Ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ixe(e)}function ixe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oM=function(){return!!e})()}function Zm(e){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(e)}function oxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sb(e,t)}function sb(e,t){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sb(e,t)}function wa(e,t,r){return t=lM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lM(e){var t=lxe(e,"string");return Ll(t)=="symbol"?t:t+""}function lxe(e,t){if(Ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ua=function(e){function t(){var r;rxe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=sxe(this,t,[].concat(a)),wa(r,"state",{isAnimationFinished:!1}),wa(r,"id",vc("recharts-bar-")),wa(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),wa(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return oxe(t,e),nxe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,f=fe(this.props,!1);return n&&n.map(function(d,h){var m=h===c,v=m?u:o,p=Nt(Nt(Nt({},f),d),{},{isActive:m,option:v,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return P.createElement(Le,Xm({className:"recharts-bar-rectangle"},Hi(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),P.createElement(LP,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return P.createElement(hs,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,p=i.map(function(x,g){var y=h&&h[g];if(y){var w=Br(y.x,x.x),S=Br(y.y,x.y),j=Br(y.width,x.width),N=Br(y.height,x.height);return Nt(Nt({},x),{},{x:w(v),y:S(v),width:j(v),height:N(v)})}if(o==="horizontal"){var _=Br(0,x.height),E=_(v);return Nt(Nt({},x),{},{y:x.y+x.height-E,height:E})}var k=Br(0,x.width),A=k(v);return Nt(Nt({},x),{},{width:A})});return P.createElement(Le,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Zd(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=fe(this.props.background,!1);return i.map(function(u,f){u.value;var d=u.background,h=exe(u,Qve);if(!d)return null;var m=Nt(Nt(Nt(Nt(Nt({},h),{},{fill:"#eee"},d),c),Hi(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return P.createElement(LP,Xm({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,d=Gr(f,Qd);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,g){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:Rt(x,g)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return P.createElement(Le,v,d.map(function(p){return P.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,d=n.width,h=n.height,m=n.isAnimationActive,v=n.background,p=n.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,g=Se("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,S=y||w,j=be(p)?this.id:p;return P.createElement(Le,{className:g},y||w?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(j)},P.createElement("rect",{x:y?u:u-d/2,y:w?f:f-h/2,width:y?d:d*2,height:w?h:h*2}))):null,P.createElement(Le,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!m||x)&&$s.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(b.PureComponent);iM=Ua;wa(Ua,"displayName","Bar");wa(Ua,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!oo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});wa(Ua,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,m=Kde(n,r);if(!m)return null;var v=t.layout,p=r.type.defaultProps,x=p!==void 0?Nt(Nt({},p),r.props):r.props,g=x.dataKey,y=x.children,w=x.minPointSize,S=v==="horizontal"?o:i,j=u?S.scale.domain():null,N=Qde({numericAxis:S}),_=Gr(y,yg),E=d.map(function(k,A){var O,C,M,U,L,D;u?O=Hde(u[f+A],j):(O=Rt(k,g),Array.isArray(O)||(O=[N,O]));var z=Zve(w,iM.defaultProps.minPointSize)(O[1],A);if(v==="horizontal"){var T,$=[o.scale(O[0]),o.scale(O[1])],K=$[0],Y=$[1];C=AE({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:k,index:A}),M=(T=Y??K)!==null&&T!==void 0?T:void 0,U=m.size;var G=K-Y;if(L=Number.isNaN(G)?0:G,D={x:C,y:o.y,width:U,height:o.height},Math.abs(z)>0&&Math.abs(L)<Math.abs(z)){var Q=or(L||z)*(Math.abs(z)-Math.abs(L));M-=Q,L+=Q}}else{var oe=[i.scale(O[0]),i.scale(O[1])],ge=oe[0],Ie=oe[1];if(C=ge,M=AE({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:k,index:A}),U=Ie-ge,L=m.size,D={x:i.x,y:M,width:i.width,height:L},Math.abs(z)>0&&Math.abs(U)<Math.abs(z)){var te=or(U||z)*(Math.abs(z)-Math.abs(U));U+=te}}return Nt(Nt(Nt({},k),{},{x:C,y:M,width:U,height:L,value:u?O:O[1],payload:k,background:D},_&&_[A]&&_[A].props),{},{tooltipPayload:[IR(r,k)],tooltipPosition:{x:C+U/2,y:M+L/2}})});return Nt({data:E,layout:v},h)});function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function cxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cM(n.key),n)}}function uxe(e,t,r){return t&&FP(e.prototype,t),r&&FP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){Lg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lg(e,t,r){return t=cM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cM(e){var t=dxe(e,"string");return Pd(t)=="symbol"?t:t+""}function dxe(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uM=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Dr(u,Ua);return f.reduce(function(m,v){var p=r[v],x=p.orientation,g=p.domain,y=p.padding,w=y===void 0?{}:y,S=p.mirror,j=p.reversed,N="".concat(x).concat(S?"Mirror":""),_,E,k,A,O;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var C=g[1]-g[0],M=1/0,U=p.categoricalDomain.sort(CJ);if(U.forEach(function(oe,ge){ge>0&&(M=Math.min((oe||0)-(U[ge-1]||0),M))}),Number.isFinite(M)){var L=M/C,D=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(_=L*D/2),p.padding==="no-gap"){var z=lr(t.barCategoryGap,L*D),T=L*D/2;_=T-z-(T-z)/D*z}}}a==="xAxis"?E=[n.left+(w.left||0)+(_||0),n.left+n.width-(w.right||0)-(_||0)]:a==="yAxis"?E=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(_||0),n.top+n.height-(w.bottom||0)-(_||0)]:E=p.range,j&&(E=[E[1],E[0]]);var $=AR(p,i,h),K=$.scale,Y=$.realScaleType;K.domain(g).range(E),CR(K);var G=OR(K,Cn(Cn({},p),{},{realScaleType:Y}));a==="xAxis"?(O=x==="top"&&!S||x==="bottom"&&S,k=n.left,A=d[N]-O*p.height):a==="yAxis"&&(O=x==="left"&&!S||x==="right"&&S,k=d[N]-O*p.width,A=n.top);var Q=Cn(Cn(Cn({},p),G),{},{realScaleType:Y,x:k,y:A,scale:K,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return Q.bandSize=Rm(Q,G),!p.hide&&a==="xAxis"?d[N]+=(O?-1:1)*Q.height:p.hide||(d[N]+=(O?-1:1)*Q.width),Cn(Cn({},m),{},Lg({},v,Q))},{})},dM=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},fxe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return dM({x:r,y:n},{x:a,y:i})},fM=function(){function e(t){cxe(this,e),this.scale=t}return uxe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Lg(fM,"EPS",1e-4);var m1=function(t){var r=Object.keys(t).reduce(function(n,a){return Cn(Cn({},n),{},Lg({},a,fM.create(t[a])))},{});return Cn(Cn({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Tve(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return aM(a,function(i,o){return r[o].isInRange(i)})}})};function hxe(e){return(e%180+180)%180}var mxe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=hxe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},pxe=xs,gxe=Hd,vxe=gg;function xxe(e){return function(t,r,n){var a=Object(t);if(!gxe(t)){var i=pxe(r);t=vxe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var yxe=xxe,bxe=tM;function wxe(e){var t=bxe(e),r=t%1;return t===t?r?t-r:t:0}var jxe=wxe,Nxe=c$,Sxe=xs,_xe=jxe,Exe=Math.max;function Pxe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:_xe(r);return a<0&&(a=Exe(n+a,0)),Nxe(e,Sxe(t),a)}var kxe=Pxe,Axe=yxe,Cxe=kxe,Oxe=Axe(Cxe),Txe=Oxe;const Ixe=ze(Txe);var $xe=IY(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),p1=b.createContext(void 0),g1=b.createContext(void 0),hM=b.createContext(void 0),mM=b.createContext({}),pM=b.createContext(void 0),gM=b.createContext(0),vM=b.createContext(0),VP=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,f=$xe(i);return P.createElement(p1.Provider,{value:n},P.createElement(g1.Provider,{value:a},P.createElement(mM.Provider,{value:i},P.createElement(hM.Provider,{value:f},P.createElement(pM.Provider,{value:o},P.createElement(gM.Provider,{value:u},P.createElement(vM.Provider,{value:c},l)))))))},Rxe=function(){return b.useContext(pM)},xM=function(t){var r=b.useContext(p1);r==null&&Ji();var n=r[t];return n==null&&Ji(),n},Mxe=function(){var t=b.useContext(p1);return ga(t)},Dxe=function(){var t=b.useContext(g1),r=Ixe(t,function(n){return aM(n.domain,Number.isFinite)});return r||ga(t)},yM=function(t){var r=b.useContext(g1);r==null&&Ji();var n=r[t];return n==null&&Ji(),n},Lxe=function(){var t=b.useContext(hM);return t},Uxe=function(){return b.useContext(mM)},v1=function(){return b.useContext(vM)},x1=function(){return b.useContext(gM)};function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function Bxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wM(n.key),n)}}function zxe(e,t,r){return t&&Fxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vxe(e,t,r){return t=Qm(t),Wxe(e,bM()?Reflect.construct(t,r||[],Qm(e).constructor):t.apply(e,r))}function Wxe(e,t){if(t&&(Ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qxe(e)}function qxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bM=function(){return!!e})()}function Qm(e){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qm(e)}function Kxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ab(e,t)}function ab(e,t){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ab(e,t)}function WP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(r),!0).forEach(function(n){y1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y1(e,t,r){return t=wM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wM(e){var t=Hxe(e,"string");return Ul(t)=="symbol"?t:t+""}function Hxe(e,t){if(Ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gxe(e,t){return Zxe(e)||Xxe(e,t)||Jxe(e,t)||Yxe()}function Yxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jxe(e,t){if(e){if(typeof e=="string")return KP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KP(e,t)}}function KP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Zxe(e){if(Array.isArray(e))return e}function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ib.apply(this,arguments)}var Qxe=function(t,r){var n;return P.isValidElement(t)?n=P.cloneElement(t,r):pe(t)?n=t(r):n=P.createElement("line",ib({},r,{className:"recharts-reference-line-line"})),n},e0e=function(t,r,n,a,i,o,l,c,u){var f=i.x,d=i.y,h=i.width,m=i.height;if(n){var v=u.y,p=t.y.apply(v,{position:o});if(ls(u,"discard")&&!t.y.isInRange(p))return null;var x=[{x:f+h,y:p},{x:f,y:p}];return c==="left"?x.reverse():x}if(r){var g=u.x,y=t.x.apply(g,{position:o});if(ls(u,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:d+m},{x:y,y:d}];return l==="top"?w.reverse():w}if(a){var S=u.segment,j=S.map(function(N){return t.apply(N,{position:o})});return ls(u,"discard")&&Sve(j,function(N){return!t.isInRange(N)})?null:j}return null};function t0e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=Rxe(),f=xM(a),d=yM(i),h=Lxe();if(!u||!h)return null;Un(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=m1({x:f.scale,y:d.scale}),v=Dt(t),p=Dt(r),x=n&&n.length===2,g=e0e(m,v,p,x,h,e.position,f.orientation,d.orientation,e);if(!g)return null;var y=Gxe(g,2),w=y[0],S=w.x,j=w.y,N=y[1],_=N.x,E=N.y,k=ls(e,"hidden")?"url(#".concat(u,")"):void 0,A=qP(qP({clipPath:k},fe(e,!0)),{},{x1:S,y1:j,x2:_,y2:E});return P.createElement(Le,{className:Se("recharts-reference-line",l)},Qxe(o,A),zt.renderCallByParent(e,fxe({x1:S,y1:j,x2:_,y2:E})))}var b1=function(e){function t(){return Bxe(this,t),Vxe(this,t,arguments)}return Kxe(t,e),zxe(t,[{key:"render",value:function(){return P.createElement(t0e,this.props)}}])}(P.Component);y1(b1,"displayName","ReferenceLine");y1(b1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ob.apply(this,arguments)}function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(n){Ug(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NM(n.key),n)}}function s0e(e,t,r){return t&&n0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a0e(e,t,r){return t=ep(t),i0e(e,jM()?Reflect.construct(t,r||[],ep(e).constructor):t.apply(e,r))}function i0e(e,t){if(t&&(Bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o0e(e)}function o0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jM=function(){return!!e})()}function ep(e){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ep(e)}function l0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lb(e,t)}function lb(e,t){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lb(e,t)}function Ug(e,t,r){return t=NM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NM(e){var t=c0e(e,"string");return Bl(t)=="symbol"?t:t+""}function c0e(e,t){if(Bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var u0e=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=m1({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ls(t,"discard")&&!o.isInRange(l)?null:l},Bg=function(e){function t(){return r0e(this,t),a0e(this,t,arguments)}return l0e(t,e),s0e(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Dt(a),f=Dt(i);if(Un(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=u0e(this.props);if(!d)return null;var h=d.x,m=d.y,v=this.props,p=v.shape,x=v.className,g=ls(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=GP(GP({clipPath:g},fe(this.props,!0)),{},{cx:h,cy:m});return P.createElement(Le,{className:Se("recharts-reference-dot",x)},t.renderDot(p,y),zt.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(P.Component);Ug(Bg,"displayName","ReferenceDot");Ug(Bg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ug(Bg,"renderDot",function(e,t){var r;return P.isValidElement(e)?r=P.cloneElement(e,t):pe(e)?r=e(t):r=P.createElement(Og,ob({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cb.apply(this,arguments)}function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){Fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_M(n.key),n)}}function h0e(e,t,r){return t&&f0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function m0e(e,t,r){return t=tp(t),p0e(e,SM()?Reflect.construct(t,r||[],tp(e).constructor):t.apply(e,r))}function p0e(e,t){if(t&&(Fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g0e(e)}function g0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SM=function(){return!!e})()}function tp(e){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tp(e)}function v0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ub(e,t)}function ub(e,t){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ub(e,t)}function Fg(e,t,r){return t=_M(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _M(e){var t=x0e(e,"string");return Fl(t)=="symbol"?t:t+""}function x0e(e,t){if(Fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var y0e=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,f=i.xAxis,d=i.yAxis;if(!f||!d)return null;var h=m1({x:f.scale,y:d.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ls(i,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:dM(m,v)},zg=function(e){function t(){return d0e(this,t),m0e(this,t,arguments)}return v0e(t,e),h0e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;Un(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Dt(a),h=Dt(i),m=Dt(o),v=Dt(l),p=this.props.shape;if(!d&&!h&&!m&&!v&&!p)return null;var x=y0e(d,h,m,v,this.props);if(!x&&!p)return null;var g=ls(this.props,"hidden")?"url(#".concat(f,")"):void 0;return P.createElement(Le,{className:Se("recharts-reference-area",c)},t.renderRect(p,JP(JP({clipPath:g},fe(this.props,!0)),x)),zt.renderCallByParent(this.props,x))}}])}(P.Component);Fg(zg,"displayName","ReferenceArea");Fg(zg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Fg(zg,"renderRect",function(e,t){var r;return P.isValidElement(e)?r=P.cloneElement(e,t):pe(e)?r=e(t):r=P.createElement(h1,cb({},t,{className:"recharts-reference-area-rect"})),r});function EM(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function b0e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return mxe(n,r)}function w0e(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function rp(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function j0e(e,t){return EM(e,t+1)}function N0e(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,f=o,d=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:EM(n,u)};var p=c,x,g=function(){return x===void 0&&(x=r(v,p)),x},y=v.coordinate,w=c===0||rp(e,y,g,f,l);w||(c=0,f=o,u+=1),w&&(f=y+e*(g()/2+a),c+=u)},h;u<=i.length;)if(h=d(),h)return h.v;return[]}function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(n){S0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S0e(e,t,r){return t=_0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _0e(e){var t=E0e(e,"string");return kd(t)=="symbol"?t:t+""}function E0e(e,t){if(kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P0e(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],v,p=function(){return v===void 0&&(v=r(m,h)),v};if(h===o-1){var x=e*(m.coordinate+e*p()/2-c);i[h]=m=er(er({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else i[h]=m=er(er({},m),{},{tickCoord:m.coordinate});var g=rp(e,m.tickCoord,p,l,c);g&&(c=m.tickCoord-e*(p()/2+a),i[h]=er(er({},m),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return i}function k0e(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var f=n[l-1],d=r(f,l-1),h=e*(f.coordinate+e*d/2-u);o[l-1]=f=er(er({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var m=rp(e,f.tickCoord,function(){return d},c,u);m&&(u=f.tickCoord-e*(d/2+a),o[l-1]=er(er({},f),{},{isShow:!0}))}for(var v=i?l-1:l,p=function(y){var w=o[y],S,j=function(){return S===void 0&&(S=r(w,y)),S};if(y===0){var N=e*(w.coordinate-e*j()/2-c);o[y]=w=er(er({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else o[y]=w=er(er({},w),{},{tickCoord:w.coordinate});var _=rp(e,w.tickCoord,j,c,u);_&&(c=w.tickCoord+e*(j()/2+a),o[y]=er(er({},w),{},{isShow:!0}))},x=0;x<v;x++)p(x);return o}function w1(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(Z(c)||oo.isSsr)return j0e(a,typeof c=="number"&&Z(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",v=f&&m==="width"?yu(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,S){var j=pe(u)?u(w.value,S):w.value;return m==="width"?b0e(yu(j,{fontSize:t,letterSpacing:r}),v,d):yu(j,{fontSize:t,letterSpacing:r})[m]},x=a.length>=2?or(a[1].coordinate-a[0].coordinate):1,g=w0e(i,x,m);return c==="equidistantPreserveStart"?N0e(x,g,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=k0e(x,g,p,a,o,c==="preserveStartEnd"):h=P0e(x,g,p,a,o),h.filter(function(y){return y.isShow}))}var A0e=["viewBox"],C0e=["viewBox"],O0e=["ticks"];function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ho.apply(this,arguments)}function ZP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZP(Object(r),!0).forEach(function(n){j1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hx(e,t){if(e==null)return{};var r=T0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function I0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kM(n.key),n)}}function $0e(e,t,r){return t&&QP(e.prototype,t),r&&QP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function R0e(e,t,r){return t=np(t),M0e(e,PM()?Reflect.construct(t,r||[],np(e).constructor):t.apply(e,r))}function M0e(e,t){if(t&&(zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D0e(e)}function D0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PM=function(){return!!e})()}function np(e){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},np(e)}function L0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&db(e,t)}function db(e,t){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},db(e,t)}function j1(e,t,r){return t=kM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kM(e){var t=U0e(e,"string");return zl(t)=="symbol"?t:t+""}function U0e(e,t){if(zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sc=function(e){function t(r){var n;return I0e(this,t),n=R0e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return L0e(t,e),$0e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=hx(n,A0e),l=this.props,c=l.viewBox,u=hx(l,C0e);return!al(i,c)||!al(o,u)||!al(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,m,v,p,x,g,y,w=d?-1:1,S=n.tickSize||f,j=Z(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=v=n.coordinate,x=o+ +!d*c,p=x-w*S,y=p-w*h,g=j;break;case"left":p=x=n.coordinate,v=i+ +!d*l,m=v-w*S,g=m-w*h,y=j;break;case"right":p=x=n.coordinate,v=i+ +d*l,m=v+w*S,g=m+w*h,y=j;break;default:m=v=n.coordinate,x=o+ +d*c,p=x+w*S,y=p+w*h,g=j;break}return{line:{x1:m,y1:p,x2:v,y2:x},tick:{x:g,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,d=Ot(Ot(Ot({},fe(this.props,!1)),fe(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=Ot(Ot({},d),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);d=Ot(Ot({},d),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return P.createElement("line",Ho({},d,{className:Se("recharts-cartesian-axis-line",Hr(f,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,d=l.tickFormatter,h=l.unit,m=w1(Ot(Ot({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),x=fe(this.props,!1),g=fe(f,!1),y=Ot(Ot({},x),{},{fill:"none"},fe(c,!1)),w=m.map(function(S,j){var N=o.getTickLineCoord(S),_=N.line,E=N.tick,k=Ot(Ot(Ot(Ot({textAnchor:v,verticalAnchor:p},x),{},{stroke:"none",fill:u},g),E),{},{index:j,payload:S,visibleTicksCount:m.length,tickFormatter:d});return P.createElement(Le,Ho({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Hi(o.props,S,j)),c&&P.createElement("line",Ho({},y,_,{className:Se("recharts-cartesian-axis-tick-line",Hr(c,"className"))})),f&&t.renderTickItem(f,k,"".concat(pe(d)?d(S.value,j):S.value).concat(h||"")))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,m=hx(d,O0e),v=h;return pe(c)&&(v=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!v||!v.length?null:P.createElement(Le,{className:Se("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),zt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=Se(a.className,"recharts-cartesian-axis-tick-value");return P.isValidElement(n)?o=P.cloneElement(n,Ot(Ot({},a),{},{className:l})):pe(n)?o=n(Ot(Ot({},a),{},{className:l})):o=P.createElement(Gi,Ho({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(b.Component);j1(Sc,"displayName","CartesianAxis");j1(Sc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var B0e=["x1","y1","x2","y2","key"],F0e=["offset"];function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(n){z0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z0e(e,t,r){return t=V0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V0e(e){var t=W0e(e,"string");return Xi(t)=="symbol"?t:t+""}function W0e(e,t){if(Xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ei.apply(this,arguments)}function tk(e,t){if(e==null)return{};var r=q0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function q0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var K0e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return P.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function AM(e,t){var r;if(P.isValidElement(e))r=P.cloneElement(e,t);else if(pe(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=tk(t,B0e),u=fe(c,!1);u.offset;var f=tk(u,F0e);r=P.createElement("line",Ei({},f,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function H0e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=rr(rr({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return AM(a,u)});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function G0e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=rr(rr({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return AM(a,u)});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Y0e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==f[0]&&f.unshift(0);var d=f.map(function(h,m){var v=!f[m+1],p=v?a+o-h:f[m+1]-h;if(p<=0)return null;var x=m%t.length;return P.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function J0e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==f[0]&&f.unshift(0);var d=f.map(function(h,m){var v=!f[m+1],p=v?i+l-h:f[m+1]-h;if(p<=0)return null;var x=m%n.length;return P.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var X0e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return kR(w1(rr(rr(rr({},Sc.defaultProps),n),{},{ticks:Cs(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},Z0e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return kR(w1(rr(rr(rr({},Sc.defaultProps),n),{},{ticks:Cs(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Eo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function sp(e){var t,r,n,a,i,o,l=v1(),c=x1(),u=Uxe(),f=rr(rr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Eo.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Eo.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Eo.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Eo.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Eo.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Eo.verticalFill,x:Z(e.x)?e.x:u.left,y:Z(e.y)?e.y:u.top,width:Z(e.width)?e.width:u.width,height:Z(e.height)?e.height:u.height}),d=f.x,h=f.y,m=f.width,v=f.height,p=f.syncWithTicks,x=f.horizontalValues,g=f.verticalValues,y=Mxe(),w=Dxe();if(!Z(m)||m<=0||!Z(v)||v<=0||!Z(d)||d!==+d||!Z(h)||h!==+h)return null;var S=f.verticalCoordinatesGenerator||X0e,j=f.horizontalCoordinatesGenerator||Z0e,N=f.horizontalPoints,_=f.verticalPoints;if((!N||!N.length)&&pe(j)){var E=x&&x.length,k=j({yAxis:w?rr(rr({},w),{},{ticks:E?x:w.ticks}):void 0,width:l,height:c,offset:u},E?!0:p);Un(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xi(k),"]")),Array.isArray(k)&&(N=k)}if((!_||!_.length)&&pe(S)){var A=g&&g.length,O=S({xAxis:y?rr(rr({},y),{},{ticks:A?g:y.ticks}):void 0,width:l,height:c,offset:u},A?!0:p);Un(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xi(O),"]")),Array.isArray(O)&&(_=O)}return P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement(K0e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),P.createElement(H0e,Ei({},f,{offset:u,horizontalPoints:N,xAxis:y,yAxis:w})),P.createElement(G0e,Ei({},f,{offset:u,verticalPoints:_,xAxis:y,yAxis:w})),P.createElement(Y0e,Ei({},f,{horizontalPoints:N})),P.createElement(J0e,Ei({},f,{verticalPoints:_})))}sp.displayName="CartesianGrid";var Q0e=["type","layout","connectNulls","ref"],eye=["key"];function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function rk(e,t){if(e==null)return{};var r=tye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_u.apply(this,arguments)}function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(n){On(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Po(e){return aye(e)||sye(e)||nye(e)||rye()}function rye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nye(e,t){if(e){if(typeof e=="string")return fb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fb(e,t)}}function sye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aye(e){if(Array.isArray(e))return fb(e)}function fb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OM(n.key),n)}}function oye(e,t,r){return t&&sk(e.prototype,t),r&&sk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lye(e,t,r){return t=ap(t),cye(e,CM()?Reflect.construct(t,r||[],ap(e).constructor):t.apply(e,r))}function cye(e,t){if(t&&(Vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uye(e)}function uye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CM=function(){return!!e})()}function ap(e){return ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ap(e)}function dye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hb(e,t)}function hb(e,t){return hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hb(e,t)}function On(e,t,r){return t=OM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OM(e){var t=fye(e,"string");return Vl(t)=="symbol"?t:t+""}function fye(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zi=function(e){function t(){var r;iye(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=lye(this,t,[].concat(a)),On(r,"state",{isAnimationFinished:!0,totalLength:0}),On(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),On(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(g,y){return g+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),d=o%u,h=l-o,m=[],v=0,p=0;v<c.length;p+=c[v],++v)if(p+c[v]>d){m=[].concat(Po(c.slice(0,v)),[d-p]);break}var x=m.length%2===0?[0,h]:[h];return[].concat(Po(t.repeat(c,f)),Po(m),x).map(function(g){return"".concat(g,"px")}).join(", ")}),On(r,"id",vc("recharts-line-")),On(r,"pathRef",function(o){r.mainCurve=o}),On(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),On(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return dye(t,e),oye(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,d=Gr(f,Qd);if(!d)return null;var h=function(p,x){return{x:p.x,y:p.y,value:p.value,errorVal:Rt(p.payload,x)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return P.createElement(Le,m,d.map(function(v){return P.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=fe(this.props,!1),h=fe(c,!0),m=u.map(function(p,x){var g=$r($r($r({key:"dot-".concat(x),r:3},d),h),{},{index:x,cx:p.x,cy:p.y,value:p.value,dataKey:f,payload:p.payload,points:u});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return P.createElement(Le,_u({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var d=rk(l,Q0e),h=$r($r($r({},fe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:f});return P.createElement(Lm,_u({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,h=o.animationEasing,m=o.animationId,v=o.animateNewValues,p=o.width,x=o.height,g=this.state,y=g.prevPoints,w=g.totalLength;return P.createElement(hs,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var j=S.t;if(y){var N=y.length/l.length,_=l.map(function(C,M){var U=Math.floor(M*N);if(y[U]){var L=y[U],D=Br(L.x,C.x),z=Br(L.y,C.y);return $r($r({},C),{},{x:D(j),y:z(j)})}if(v){var T=Br(p*2,C.x),$=Br(x/2,C.y);return $r($r({},C),{},{x:T(j),y:$(j)})}return $r($r({},C),{},{x:C.x,y:C.y})});return i.renderCurveStatically(_,n,a)}var E=Br(0,w),k=E(j),A;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});A=i.getStrokeDasharray(k,w,O)}else A=i.generateSimpleStrokeDasharray(w,k);return i.renderCurveStatically(l,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!Zd(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,f=a.yAxis,d=a.top,h=a.left,m=a.width,v=a.height,p=a.isAnimationActive,x=a.id;if(i||!l||!l.length)return null;var g=this.state.isAnimationFinished,y=l.length===1,w=Se("recharts-line",c),S=u&&u.allowDataOverflow,j=f&&f.allowDataOverflow,N=S||j,_=be(x)?this.id:x,E=(n=fe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},k=E.r,A=k===void 0?3:k,O=E.strokeWidth,C=O===void 0?2:O,M=UJ(o)?o:{},U=M.clipDot,L=U===void 0?!0:U,D=A*2+C;return P.createElement(Le,{className:w},S||j?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(_)},P.createElement("rect",{x:S?h:h-m/2,y:j?d:d-v/2,width:S?m:m*2,height:j?v:v*2})),!L&&P.createElement("clipPath",{id:"clipPath-dots-".concat(_)},P.createElement("rect",{x:h-D/2,y:d-D/2,width:m+D,height:v+D}))):null,!y&&this.renderCurve(N,_),this.renderErrorBar(N,_),(y||o)&&this.renderDots(N,L,_),(!p||g)&&$s.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Po(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Po(o),Po(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(P.isValidElement(n))i=P.cloneElement(n,a);else if(pe(n))i=n(a);else{var o=a.key,l=rk(a,eye),c=Se("recharts-line-dot",typeof n!="boolean"?n.className:"");i=P.createElement(Og,_u({key:o},l,{className:c}))}return i}}])}(b.PureComponent);On(Zi,"displayName","Line");On(Zi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!oo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});On(Zi,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,d=c.map(function(h,m){var v=Rt(h,o);return f==="horizontal"?{x:kE({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:be(v)?null:n.scale(v),value:v,payload:h}:{x:be(v)?null:r.scale(v),y:kE({axis:n,ticks:i,bandSize:l,entry:h,index:m}),value:v,payload:h}});return $r({points:d,layout:f},u)});function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function hye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$M(n.key),n)}}function pye(e,t,r){return t&&mye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gye(e,t,r){return t=ip(t),vye(e,TM()?Reflect.construct(t,r||[],ip(e).constructor):t.apply(e,r))}function vye(e,t){if(t&&(Wl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xye(e)}function xye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TM=function(){return!!e})()}function ip(e){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ip(e)}function yye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mb(e,t)}function mb(e,t){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mb(e,t)}function IM(e,t,r){return t=$M(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $M(e){var t=bye(e,"string");return Wl(t)=="symbol"?t:t+""}function bye(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pb.apply(this,arguments)}function wye(e){var t=e.xAxisId,r=v1(),n=x1(),a=xM(t);return a==null?null:b.createElement(Sc,pb({},a,{className:Se("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Cs(o,!0)}}))}var Qi=function(e){function t(){return hye(this,t),gye(this,t,arguments)}return yye(t,e),pye(t,[{key:"render",value:function(){return b.createElement(wye,this.props)}}])}(b.Component);IM(Qi,"displayName","XAxis");IM(Qi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function jye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DM(n.key),n)}}function Sye(e,t,r){return t&&Nye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ye(e,t,r){return t=op(t),Eye(e,RM()?Reflect.construct(t,r||[],op(e).constructor):t.apply(e,r))}function Eye(e,t){if(t&&(ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pye(e)}function Pye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RM=function(){return!!e})()}function op(e){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},op(e)}function kye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gb(e,t)}function gb(e,t){return gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gb(e,t)}function MM(e,t,r){return t=DM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DM(e){var t=Aye(e,"string");return ql(t)=="symbol"?t:t+""}function Aye(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vb.apply(this,arguments)}var Cye=function(t){var r=t.yAxisId,n=v1(),a=x1(),i=yM(r);return i==null?null:b.createElement(Sc,vb({},i,{className:Se("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Cs(l,!0)}}))},eo=function(e){function t(){return jye(this,t),_ye(this,t,arguments)}return kye(t,e),Sye(t,[{key:"render",value:function(){return b.createElement(Cye,this.props)}}])}(b.Component);MM(eo,"displayName","YAxis");MM(eo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ak(e){return $ye(e)||Iye(e)||Tye(e)||Oye()}function Oye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tye(e,t){if(e){if(typeof e=="string")return xb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xb(e,t)}}function Iye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ye(e){if(Array.isArray(e))return xb(e)}function xb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yb=function(t,r,n,a,i){var o=Gr(t,b1),l=Gr(t,Bg),c=[].concat(ak(o),ak(l)),u=Gr(t,zg),f="".concat(a,"Id"),d=a[0],h=r;if(c.length&&(h=c.reduce(function(p,x){if(x.props[f]===n&&ls(x.props,"extendDomain")&&Z(x.props[d])){var g=x.props[d];return[Math.min(p[0],g),Math.max(p[1],g)]}return p},h)),u.length){var m="".concat(d,"1"),v="".concat(d,"2");h=u.reduce(function(p,x){if(x.props[f]===n&&ls(x.props,"extendDomain")&&Z(x.props[m])&&Z(x.props[v])){var g=x.props[m],y=x.props[v];return[Math.min(p[0],g,y),Math.max(p[1],g,y)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,x){return Z(x)?[Math.min(p[0],x),Math.max(p[1],x)]:p},h)),h},LM={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new a(f,d||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,v=new Array(m);h<m;h++)v[h]=d[h].fn;return v},l.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,h,m,v){var p=r?r+u:u;if(!this._events[p])return!1;var x=this._events[p],g=arguments.length,y,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),g){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,d),!0;case 4:return x.fn.call(x.context,f,d,h),!0;case 5:return x.fn.call(x.context,f,d,h,m),!0;case 6:return x.fn.call(x.context,f,d,h,m,v),!0}for(w=1,y=new Array(g-1);w<g;w++)y[w-1]=arguments[w];x.fn.apply(x.context,y)}else{var S=x.length,j;for(w=0;w<S;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),g){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,f);break;case 3:x[w].fn.call(x[w].context,f,d);break;case 4:x[w].fn.call(x[w].context,f,d,h);break;default:if(!y)for(j=1,y=new Array(g-1);j<g;j++)y[j-1]=arguments[j];x[w].fn.apply(x[w].context,y)}}return!0},l.prototype.on=function(u,f,d){return i(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return i(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,h){var m=r?r+u:u;if(!this._events[m])return this;if(!f)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===f&&(!h||v.once)&&(!d||v.context===d)&&o(this,m);else{for(var p=0,x=[],g=v.length;p<g;p++)(v[p].fn!==f||h&&!v[p].once||d&&v[p].context!==d)&&x.push(v[p]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(LM);var Rye=LM.exports;const Mye=ze(Rye);var mx=new Mye,px="recharts.syncMouseEvents";function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function Dye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UM(n.key),n)}}function Uye(e,t,r){return t&&Lye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gx(e,t,r){return t=UM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UM(e){var t=Bye(e,"string");return Ad(t)=="symbol"?t:t+""}function Bye(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fye=function(){function e(){Dye(this,e),gx(this,"activeIndex",0),gx(this,"coordinateList",[]),gx(this,"layout","horizontal")}return Uye(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+c+u,h=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function zye(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Z(n)&&Z(a))return!0}return!1}function Vye(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function BM(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=tt(t,r,n,a),l=tt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Wye(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=tt(l,c,u,d),m=tt(l,c,f,d);n=h.x,a=h.y,i=m.x,o=m.y}else return BM(t);return[{x:n,y:a},{x:i,y:o}]}function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(n){qye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qye(e,t,r){return t=Kye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kye(e){var t=Hye(e,"string");return Cd(t)=="symbol"?t:t+""}function Hye(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gye(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var v,p=Lm;if(h==="ScatterChart")v=o,p=fpe;else if(h==="BarChart")v=Vye(d,o,c,f),p=h1;else if(d==="radial"){var x=BM(o),g=x.cx,y=x.cy,w=x.radius,S=x.startAngle,j=x.endAngle;v={cx:g,cy:y,startAngle:S,endAngle:j,innerRadius:w,outerRadius:w},p=UR}else v={points:Wye(d,o,c)},p=Lm;var N=Yf(Yf(Yf(Yf({stroke:"#ccc",pointerEvents:"none"},c),v),fe(m,!1)),{},{payload:l,payloadIndex:u,className:Se("recharts-tooltip-cursor",m.className)});return b.isValidElement(m)?b.cloneElement(m,N):b.createElement(p,N)}var Yye=["item"],Jye=["children","className","width","height","style","compact","title","desc"];function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Go.apply(this,arguments)}function ok(e,t){return Qye(e)||Zye(e,t)||zM(e,t)||Xye()}function Xye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Qye(e){if(Array.isArray(e))return e}function lk(e,t){if(e==null)return{};var r=ebe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ebe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VM(n.key),n)}}function nbe(e,t,r){return t&&rbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sbe(e,t,r){return t=lp(t),abe(e,FM()?Reflect.construct(t,r||[],lp(e).constructor):t.apply(e,r))}function abe(e,t){if(t&&(Kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ibe(e)}function ibe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FM=function(){return!!e})()}function lp(e){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lp(e)}function obe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bb(e,t)}function bb(e,t){return bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bb(e,t)}function Hl(e){return ube(e)||cbe(e)||zM(e)||lbe()}function lbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zM(e,t){if(e){if(typeof e=="string")return wb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wb(e,t)}}function cbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ube(e){if(Array.isArray(e))return wb(e)}function wb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(n){he(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function he(e,t,r){return t=VM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VM(e){var t=dbe(e,"string");return Kl(t)=="symbol"?t:t+""}function dbe(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fbe={xAxis:["bottom","top"],yAxis:["left","right"]},hbe={width:"100%",height:"100%"},WM={x:0,y:0};function Jf(e){return e}var mbe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},pbe=function(t,r,n,a){var i=r.find(function(f){return f&&f.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return H(H(H({},a),tt(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return H(H(H({},a),tt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return WM},Vg=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Hl(l),Hl(u)):l},[]);return o.length>0?o:t&&t.length&&Z(a)&&Z(i)?t.slice(a,i+1):[]};function qM(e){return e==="number"?[0,"auto"]:void 0}var jb=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Vg(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=d===void 0?l:d;h=om(m,o.dataKey,a)}else h=d&&d[n]||l[n];return h?[].concat(Hl(c),[IR(u,h)]):c},[])},uk=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=mbe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=Bde(o,l,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,h=jb(t,r,f,d),m=pbe(n,l,f,i);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:m}}return null},gbe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,m=PR(f,i);return n.reduce(function(v,p){var x,g=p.type.defaultProps!==void 0?H(H({},p.type.defaultProps),p.props):p.props,y=g.type,w=g.dataKey,S=g.allowDataOverflow,j=g.allowDuplicatedCategory,N=g.scale,_=g.ticks,E=g.includeHidden,k=g[o];if(v[k])return v;var A=Vg(t.data,{graphicalItems:a.filter(function(G){var Q,oe=o in G.props?G.props[o]:(Q=G.type.defaultProps)===null||Q===void 0?void 0:Q[o];return oe===k}),dataStartIndex:c,dataEndIndex:u}),O=A.length,C,M,U;zye(g.domain,S,y)&&(C=My(g.domain,null,S),m&&(y==="number"||N!=="auto")&&(U=wu(A,w,"category")));var L=qM(y);if(!C||C.length===0){var D,z=(D=g.domain)!==null&&D!==void 0?D:L;if(w){if(C=wu(A,w,y),y==="category"&&m){var T=AJ(C);j&&T?(M=C,C=Gm(0,O)):j||(C=TE(z,C,p).reduce(function(G,Q){return G.indexOf(Q)>=0?G:[].concat(Hl(G),[Q])},[]))}else if(y==="category")j?C=C.filter(function(G){return G!==""&&!be(G)}):C=TE(z,C,p).reduce(function(G,Q){return G.indexOf(Q)>=0||Q===""||be(Q)?G:[].concat(Hl(G),[Q])},[]);else if(y==="number"){var $=qde(A,a.filter(function(G){var Q,oe,ge=o in G.props?G.props[o]:(Q=G.type.defaultProps)===null||Q===void 0?void 0:Q[o],Ie="hide"in G.props?G.props.hide:(oe=G.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return ge===k&&(E||!Ie)}),w,i,f);$&&(C=$)}m&&(y==="number"||N!=="auto")&&(U=wu(A,w,"category"))}else m?C=Gm(0,O):l&&l[k]&&l[k].hasStack&&y==="number"?C=h==="expand"?[0,1]:TR(l[k].stackGroups,c,u):C=ER(A,a.filter(function(G){var Q=o in G.props?G.props[o]:G.type.defaultProps[o],oe="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return Q===k&&(E||!oe)}),y,f,!0);if(y==="number")C=yb(d,C,k,i,_),z&&(C=My(z,C,S));else if(y==="category"&&z){var K=z,Y=C.every(function(G){return K.indexOf(G)>=0});Y&&(C=K)}}return H(H({},v),{},he({},k,H(H({},g),{},{axisType:i,domain:C,categoricalDomain:U,duplicateDomain:M,originalDomain:(x=g.domain)!==null&&x!==void 0?x:L,isCategorical:m,layout:f})))},{})},vbe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=Vg(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,v=PR(f,i),p=-1;return n.reduce(function(x,g){var y=g.type.defaultProps!==void 0?H(H({},g.type.defaultProps),g.props):g.props,w=y[o],S=qM("number");if(!x[w]){p++;var j;return v?j=Gm(0,m):l&&l[w]&&l[w].hasStack?(j=TR(l[w].stackGroups,c,u),j=yb(d,j,w,i)):(j=My(S,ER(h,n.filter(function(N){var _,E,k=o in N.props?N.props[o]:(_=N.type.defaultProps)===null||_===void 0?void 0:_[o],A="hide"in N.props?N.props.hide:(E=N.type.defaultProps)===null||E===void 0?void 0:E.hide;return k===w&&!A}),"number",f),a.defaultProps.allowDataOverflow),j=yb(d,j,w,i)),H(H({},x),{},he({},w,H(H({axisType:i},a.defaultProps),{},{hide:!0,orientation:Hr(fbe,"".concat(i,".").concat(p%2),null),domain:j,originalDomain:S,isCategorical:v,layout:f})))}return x},{})},xbe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=Gr(f,i),m={};return h&&h.length?m=gbe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=vbe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},ybe=function(t){var r=ga(t),n=Cs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Bj(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Rm(r,n)}},dk=function(t){var r=t.children,n=t.defaultShowTooltip,a=Dr(r,Dl),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},bbe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ts(r&&r.type);return n&&n.indexOf("Bar")>=0})},fk=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},wbe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,d=n.children,h=n.margin||{},m=Dr(d,Dl),v=Dr(d,il),p=Object.keys(c).reduce(function(j,N){var _=c[N],E=_.orientation;return!_.mirror&&!_.hide?H(H({},j),{},he({},E,j[E]+_.width)):j},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(j,N){var _=o[N],E=_.orientation;return!_.mirror&&!_.hide?H(H({},j),{},he({},E,Hr(j,"".concat(E))+_.height)):j},{top:h.top||0,bottom:h.bottom||0}),g=H(H({},x),p),y=g.bottom;m&&(g.bottom+=m.props.height||Dl.defaultProps.height),v&&r&&(g=Vde(g,a,n,r));var w=u-g.left-g.right,S=f-g.top-g.bottom;return H(H({brushBottom:y},g),{},{width:Math.max(w,0),height:Math.max(S,0)})},jbe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},N1=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(g,y){var w=y.graphicalItems,S=y.stackGroups,j=y.offset,N=y.updateId,_=y.dataStartIndex,E=y.dataEndIndex,k=g.barSize,A=g.layout,O=g.barGap,C=g.barCategoryGap,M=g.maxBarSize,U=fk(A),L=U.numericAxisName,D=U.cateAxisName,z=bbe(w),T=[];return w.forEach(function($,K){var Y=Vg(g.data,{graphicalItems:[$],dataStartIndex:_,dataEndIndex:E}),G=$.type.defaultProps!==void 0?H(H({},$.type.defaultProps),$.props):$.props,Q=G.dataKey,oe=G.maxBarSize,ge=G["".concat(L,"Id")],Ie=G["".concat(D,"Id")],te={},xe=c.reduce(function(Tr,Hn){var yn=y["".concat(Hn.axisType,"Map")],ef=G["".concat(Hn.axisType,"Id")];yn&&yn[ef]||Hn.axisType==="zAxis"||Ji();var tf=yn[ef];return H(H({},Tr),{},he(he({},Hn.axisType,tf),"".concat(Hn.axisType,"Ticks"),Cs(tf)))},te),J=xe[D],ae=xe["".concat(D,"Ticks")],se=S&&S[ge]&&S[ge].hasStack&&efe($,S[ge].stackGroups),q=Ts($.type).indexOf("Bar")>=0,ke=Rm(J,ae),ve=[],Ye=z&&Fde({barSize:k,stackGroups:S,totalSize:jbe(xe,D)});if(q){var qe,vt,vr=be(oe)?M:oe,Or=(qe=(vt=Rm(J,ae,!0))!==null&&vt!==void 0?vt:vr)!==null&&qe!==void 0?qe:0;ve=zde({barGap:O,barCategoryGap:C,bandSize:Or!==ke?Or:ke,sizeList:Ye[Ie],maxBarSize:vr}),Or!==ke&&(ve=ve.map(function(Tr){return H(H({},Tr),{},{position:H(H({},Tr.position),{},{offset:Tr.position.offset-Or/2})})}))}var Za=$&&$.type&&$.type.getComposedData;Za&&T.push({props:H(H({},Za(H(H({},xe),{},{displayedData:Y,props:g,dataKey:Q,item:$,bandSize:ke,barPosition:ve,offset:j,stackedData:se,layout:A,dataStartIndex:_,dataEndIndex:E}))),{},he(he(he({key:$.key||"item-".concat(K)},L,xe[L]),D,xe[D]),"animationId",N)),childIndex:zJ($,g.children),item:$})}),T},m=function(g,y){var w=g.props,S=g.dataStartIndex,j=g.dataEndIndex,N=g.updateId;if(!__({props:w}))return null;var _=w.children,E=w.layout,k=w.stackOffset,A=w.data,O=w.reverseStackOrder,C=fk(E),M=C.numericAxisName,U=C.cateAxisName,L=Gr(_,n),D=Zde(A,L,"".concat(M,"Id"),"".concat(U,"Id"),k,O),z=c.reduce(function(G,Q){var oe="".concat(Q.axisType,"Map");return H(H({},G),{},he({},oe,xbe(w,H(H({},Q),{},{graphicalItems:L,stackGroups:Q.axisType===M&&D,dataStartIndex:S,dataEndIndex:j}))))},{}),T=wbe(H(H({},z),{},{props:w,graphicalItems:L}),y==null?void 0:y.legendBBox);Object.keys(z).forEach(function(G){z[G]=f(w,z[G],T,G.replace("Map",""),r)});var $=z["".concat(U,"Map")],K=ybe($),Y=h(w,H(H({},z),{},{dataStartIndex:S,dataEndIndex:j,updateId:N,graphicalItems:L,stackGroups:D,offset:T}));return H(H({formattedGraphicalItems:Y,graphicalItems:L,offset:T,stackGroups:D},K),z)},v=function(x){function g(y){var w,S,j;return tbe(this,g),j=sbe(this,g,[y]),he(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),he(j,"accessibilityManager",new Fye),he(j,"handleLegendBBoxUpdate",function(N){if(N){var _=j.state,E=_.dataStartIndex,k=_.dataEndIndex,A=_.updateId;j.setState(H({legendBBox:N},m({props:j.props,dataStartIndex:E,dataEndIndex:k,updateId:A},H(H({},j.state),{},{legendBBox:N}))))}}),he(j,"handleReceiveSyncEvent",function(N,_,E){if(j.props.syncId===N){if(E===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(_)}}),he(j,"handleBrushChange",function(N){var _=N.startIndex,E=N.endIndex;if(_!==j.state.dataStartIndex||E!==j.state.dataEndIndex){var k=j.state.updateId;j.setState(function(){return H({dataStartIndex:_,dataEndIndex:E},m({props:j.props,dataStartIndex:_,dataEndIndex:E,updateId:k},j.state))}),j.triggerSyncEvent({dataStartIndex:_,dataEndIndex:E})}}),he(j,"handleMouseEnter",function(N){var _=j.getMouseInfo(N);if(_){var E=H(H({},_),{},{isTooltipActive:!0});j.setState(E),j.triggerSyncEvent(E);var k=j.props.onMouseEnter;pe(k)&&k(E,N)}}),he(j,"triggeredAfterMouseMove",function(N){var _=j.getMouseInfo(N),E=_?H(H({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(E),j.triggerSyncEvent(E);var k=j.props.onMouseMove;pe(k)&&k(E,N)}),he(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),he(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),he(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),he(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};j.setState(_),j.triggerSyncEvent(_);var E=j.props.onMouseLeave;pe(E)&&E(_,N)}),he(j,"handleOuterEvent",function(N){var _=FJ(N),E=Hr(j.props,"".concat(_));if(_&&pe(E)){var k,A;/.*touch.*/i.test(_)?A=j.getMouseInfo(N.changedTouches[0]):A=j.getMouseInfo(N),E((k=A)!==null&&k!==void 0?k:{},N)}}),he(j,"handleClick",function(N){var _=j.getMouseInfo(N);if(_){var E=H(H({},_),{},{isTooltipActive:!0});j.setState(E),j.triggerSyncEvent(E);var k=j.props.onClick;pe(k)&&k(E,N)}}),he(j,"handleMouseDown",function(N){var _=j.props.onMouseDown;if(pe(_)){var E=j.getMouseInfo(N);_(E,N)}}),he(j,"handleMouseUp",function(N){var _=j.props.onMouseUp;if(pe(_)){var E=j.getMouseInfo(N);_(E,N)}}),he(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),he(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),he(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),he(j,"handleDoubleClick",function(N){var _=j.props.onDoubleClick;if(pe(_)){var E=j.getMouseInfo(N);_(E,N)}}),he(j,"handleContextMenu",function(N){var _=j.props.onContextMenu;if(pe(_)){var E=j.getMouseInfo(N);_(E,N)}}),he(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&mx.emit(px,j.props.syncId,N,j.eventEmitterSymbol)}),he(j,"applySyncEvent",function(N){var _=j.props,E=_.layout,k=_.syncMethod,A=j.state.updateId,O=N.dataStartIndex,C=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(H({dataStartIndex:O,dataEndIndex:C},m({props:j.props,dataStartIndex:O,dataEndIndex:C,updateId:A},j.state)));else if(N.activeTooltipIndex!==void 0){var M=N.chartX,U=N.chartY,L=N.activeTooltipIndex,D=j.state,z=D.offset,T=D.tooltipTicks;if(!z)return;if(typeof k=="function")L=k(T,N);else if(k==="value"){L=-1;for(var $=0;$<T.length;$++)if(T[$].value===N.activeLabel){L=$;break}}var K=H(H({},z),{},{x:z.left,y:z.top}),Y=Math.min(M,K.x+K.width),G=Math.min(U,K.y+K.height),Q=T[L]&&T[L].value,oe=jb(j.state,j.props.data,L),ge=T[L]?{x:E==="horizontal"?T[L].coordinate:Y,y:E==="horizontal"?G:T[L].coordinate}:WM;j.setState(H(H({},N),{},{activeLabel:Q,activeCoordinate:ge,activePayload:oe,activeTooltipIndex:L}))}else j.setState(N)}),he(j,"renderCursor",function(N){var _,E=j.state,k=E.isTooltipActive,A=E.activeCoordinate,O=E.activePayload,C=E.offset,M=E.activeTooltipIndex,U=E.tooltipAxisBandSize,L=j.getTooltipEventType(),D=(_=N.props.active)!==null&&_!==void 0?_:k,z=j.props.layout,T=N.key||"_recharts-cursor";return P.createElement(Gye,{key:T,activeCoordinate:A,activePayload:O,activeTooltipIndex:M,chartName:r,element:N,isActive:D,layout:z,offset:C,tooltipAxisBandSize:U,tooltipEventType:L})}),he(j,"renderPolarAxis",function(N,_,E){var k=Hr(N,"type.axisType"),A=Hr(j.state,"".concat(k,"Map")),O=N.type.defaultProps,C=O!==void 0?H(H({},O),N.props):N.props,M=A&&A[C["".concat(k,"Id")]];return b.cloneElement(N,H(H({},M),{},{className:Se(k,M.className),key:N.key||"".concat(_,"-").concat(E),ticks:Cs(M,!0)}))}),he(j,"renderPolarGrid",function(N){var _=N.props,E=_.radialLines,k=_.polarAngles,A=_.polarRadius,O=j.state,C=O.radiusAxisMap,M=O.angleAxisMap,U=ga(C),L=ga(M),D=L.cx,z=L.cy,T=L.innerRadius,$=L.outerRadius;return b.cloneElement(N,{polarAngles:Array.isArray(k)?k:Cs(L,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(A)?A:Cs(U,!0).map(function(K){return K.coordinate}),cx:D,cy:z,innerRadius:T,outerRadius:$,key:N.key||"polar-grid",radialLines:E})}),he(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,_=j.props,E=_.children,k=_.width,A=_.height,O=j.props.margin||{},C=k-(O.left||0)-(O.right||0),M=SR({children:E,formattedGraphicalItems:N,legendWidth:C,legendContent:u});if(!M)return null;var U=M.item,L=lk(M,Yye);return b.cloneElement(U,H(H({},L),{},{chartWidth:k,chartHeight:A,margin:O,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),he(j,"renderTooltip",function(){var N,_=j.props,E=_.children,k=_.accessibilityLayer,A=Dr(E,Lr);if(!A)return null;var O=j.state,C=O.isTooltipActive,M=O.activeCoordinate,U=O.activePayload,L=O.activeLabel,D=O.offset,z=(N=A.props.active)!==null&&N!==void 0?N:C;return b.cloneElement(A,{viewBox:H(H({},D),{},{x:D.left,y:D.top}),active:z,label:L,payload:z?U:[],coordinate:M,accessibilityLayer:k})}),he(j,"renderBrush",function(N){var _=j.props,E=_.margin,k=_.data,A=j.state,O=A.offset,C=A.dataStartIndex,M=A.dataEndIndex,U=A.updateId;return b.cloneElement(N,{key:N.key||"_recharts-brush",onChange:qf(j.handleBrushChange,N.props.onChange),data:k,x:Z(N.props.x)?N.props.x:O.left,y:Z(N.props.y)?N.props.y:O.top+O.height+O.brushBottom-(E.bottom||0),width:Z(N.props.width)?N.props.width:O.width,startIndex:C,endIndex:M,updateId:"brush-".concat(U)})}),he(j,"renderReferenceElement",function(N,_,E){if(!N)return null;var k=j,A=k.clipPathId,O=j.state,C=O.xAxisMap,M=O.yAxisMap,U=O.offset,L=N.type.defaultProps||{},D=N.props,z=D.xAxisId,T=z===void 0?L.xAxisId:z,$=D.yAxisId,K=$===void 0?L.yAxisId:$;return b.cloneElement(N,{key:N.key||"".concat(_,"-").concat(E),xAxis:C[T],yAxis:M[K],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:A})}),he(j,"renderActivePoints",function(N){var _=N.item,E=N.activePoint,k=N.basePoint,A=N.childIndex,O=N.isRange,C=[],M=_.props.key,U=_.item.type.defaultProps!==void 0?H(H({},_.item.type.defaultProps),_.item.props):_.item.props,L=U.activeDot,D=U.dataKey,z=H(H({index:A,dataKey:D,cx:E.x,cy:E.y,r:4,fill:f1(_.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},fe(L,!1)),lm(L));return C.push(g.renderActiveDot(L,z,"".concat(M,"-activePoint-").concat(A))),k?C.push(g.renderActiveDot(L,H(H({},z),{},{cx:k.x,cy:k.y}),"".concat(M,"-basePoint-").concat(A))):O&&C.push(null),C}),he(j,"renderGraphicChild",function(N,_,E){var k=j.filterFormatItem(N,_,E);if(!k)return null;var A=j.getTooltipEventType(),O=j.state,C=O.isTooltipActive,M=O.tooltipAxis,U=O.activeTooltipIndex,L=O.activeLabel,D=j.props.children,z=Dr(D,Lr),T=k.props,$=T.points,K=T.isRange,Y=T.baseLine,G=k.item.type.defaultProps!==void 0?H(H({},k.item.type.defaultProps),k.item.props):k.item.props,Q=G.activeDot,oe=G.hide,ge=G.activeBar,Ie=G.activeShape,te=!!(!oe&&C&&z&&(Q||ge||Ie)),xe={};A!=="axis"&&z&&z.props.trigger==="click"?xe={onClick:qf(j.handleItemMouseEnter,N.props.onClick)}:A!=="axis"&&(xe={onMouseLeave:qf(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:qf(j.handleItemMouseEnter,N.props.onMouseEnter)});var J=b.cloneElement(N,H(H({},k.props),xe));function ae(Hn){return typeof M.dataKey=="function"?M.dataKey(Hn.payload):null}if(te)if(U>=0){var se,q;if(M.dataKey&&!M.allowDuplicatedCategory){var ke=typeof M.dataKey=="function"?ae:"payload.".concat(M.dataKey.toString());se=om($,ke,L),q=K&&Y&&om(Y,ke,L)}else se=$==null?void 0:$[U],q=K&&Y&&Y[U];if(Ie||ge){var ve=N.props.activeIndex!==void 0?N.props.activeIndex:U;return[b.cloneElement(N,H(H(H({},k.props),xe),{},{activeIndex:ve})),null,null]}if(!be(se))return[J].concat(Hl(j.renderActivePoints({item:k,activePoint:se,basePoint:q,childIndex:U,isRange:K})))}else{var Ye,qe=(Ye=j.getItemByXY(j.state.activeCoordinate))!==null&&Ye!==void 0?Ye:{graphicalItem:J},vt=qe.graphicalItem,vr=vt.item,Or=vr===void 0?N:vr,Za=vt.childIndex,Tr=H(H(H({},k.props),xe),{},{activeIndex:Za});return[b.cloneElement(Or,Tr),null,null]}return K?[J,null,null]:[J,null]}),he(j,"renderCustomized",function(N,_,E){return b.cloneElement(N,H(H({key:"recharts-customized-".concat(E)},j.props),j.state))}),he(j,"renderMap",{CartesianGrid:{handler:Jf,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Jf},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Jf},YAxis:{handler:Jf},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:vc("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=N$(j.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return obe(g,x),nbe(g,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,j=w.data,N=w.height,_=w.layout,E=Dr(S,Lr);if(E){var k=E.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,O=jb(this.state,j,k,A),C=this.state.tooltipTicks[k].coordinate,M=(this.state.offset.top+N)/2,U=_==="horizontal",L=U?{x:C,y:M}:{y:C,x:M},D=this.state.formattedGraphicalItems.find(function(T){var $=T.item;return $.type.name==="Scatter"});D&&(L=H(H({},L),D.props.points[k].tooltipPosition),O=D.props.points[k].tooltipPayload);var z={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:A,activePayload:O,activeCoordinate:L};this.setState(z),this.renderCursor(E),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(w){X0([Dr(w.children,Lr)],[Dr(this.props.children,Lr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Dr(this.props.children,Lr);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),N=moe(j),_={chartX:Math.round(w.pageX-N.left),chartY:Math.round(w.pageY-N.top)},E=j.width/S.offsetWidth||1,k=this.inRange(_.chartX,_.chartY,E);if(!k)return null;var A=this.state,O=A.xAxisMap,C=A.yAxisMap,M=this.getTooltipEventType(),U=uk(this.state,this.props.data,this.props.layout,k);if(M!=="axis"&&O&&C){var L=ga(O).scale,D=ga(C).scale,z=L&&L.invert?L.invert(_.chartX):null,T=D&&D.invert?D.invert(_.chartY):null;return H(H({},_),{},{xValue:z,yValue:T},U)}return U?H(H({},_),U):null}},{key:"inRange",value:function(w,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,_=w/j,E=S/j;if(N==="horizontal"||N==="vertical"){var k=this.state.offset,A=_>=k.left&&_<=k.left+k.width&&E>=k.top&&E<=k.top+k.height;return A?{x:_,y:E}:null}var O=this.state,C=O.angleAxisMap,M=O.radiusAxisMap;if(C&&M){var U=ga(C);return RE({x:_,y:E},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),j=Dr(w,Lr),N={};j&&S==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=lm(this.props,this.handleOuterEvent);return H(H({},_),N)}},{key:"addListener",value:function(){mx.on(px,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){mx.removeListener(px,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,j){for(var N=this.state.formattedGraphicalItems,_=0,E=N.length;_<E;_++){var k=N[_];if(k.item===w||k.props.key===w.key||S===Ts(k.item.type)&&j===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,j=S.left,N=S.top,_=S.height,E=S.width;return P.createElement("defs",null,P.createElement("clipPath",{id:w},P.createElement("rect",{x:j,y:N,height:_,width:E})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,j){var N=ok(j,2),_=N[0],E=N[1];return H(H({},S),{},he({},_,E.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,j){var N=ok(j,2),_=N[0],E=N[1];return H(H({},S),{},he({},_,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,j=S.formattedGraphicalItems,N=S.activeItem;if(j&&j.length)for(var _=0,E=j.length;_<E;_++){var k=j[_],A=k.props,O=k.item,C=O.type.defaultProps!==void 0?H(H({},O.type.defaultProps),O.props):O.props,M=Ts(O.type);if(M==="Bar"){var U=(A.data||[]).find(function(T){return Kme(w,T)});if(U)return{graphicalItem:k,payload:U}}else if(M==="RadialBar"){var L=(A.data||[]).find(function(T){return RE(w,T)});if(L)return{graphicalItem:k,payload:L}}else if(Mg(k,N)||Dg(k,N)||Sd(k,N)){var D=$ge({graphicalItem:k,activeTooltipItem:N,itemData:C.data}),z=C.activeIndex===void 0?D:C.activeIndex;return{graphicalItem:H(H({},k),{},{childIndex:z}),payload:Sd(k,N)?C.data[D]:k.props.data[D]}}}return null}},{key:"render",value:function(){var w=this;if(!__(this))return null;var S=this.props,j=S.children,N=S.className,_=S.width,E=S.height,k=S.style,A=S.compact,O=S.title,C=S.desc,M=lk(S,Jye),U=fe(M,!1);if(A)return P.createElement(VP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement(Q0,Go({},U,{width:_,height:E,title:O,desc:C}),this.renderClipPath(),P_(j,this.renderMap)));if(this.props.accessibilityLayer){var L,D;U.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,U.role=(D=this.props.role)!==null&&D!==void 0?D:"application",U.onKeyDown=function(T){w.accessibilityManager.keyboardEvent(T)},U.onFocus=function(){w.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return P.createElement(VP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement("div",Go({className:Se("recharts-wrapper",N),style:H({position:"relative",cursor:"default",width:_,height:E},k)},z,{ref:function($){w.container=$}}),P.createElement(Q0,Go({},U,{width:_,height:E,title:O,desc:C,style:hbe}),this.renderClipPath(),P_(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);he(v,"displayName",r),he(v,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),he(v,"getDerivedStateFromProps",function(x,g){var y=x.dataKey,w=x.data,S=x.children,j=x.width,N=x.height,_=x.layout,E=x.stackOffset,k=x.margin,A=g.dataStartIndex,O=g.dataEndIndex;if(g.updateId===void 0){var C=dk(x);return H(H(H({},C),{},{updateId:0},m(H(H({props:x},C),{},{updateId:0}),g)),{},{prevDataKey:y,prevData:w,prevWidth:j,prevHeight:N,prevLayout:_,prevStackOffset:E,prevMargin:k,prevChildren:S})}if(y!==g.prevDataKey||w!==g.prevData||j!==g.prevWidth||N!==g.prevHeight||_!==g.prevLayout||E!==g.prevStackOffset||!al(k,g.prevMargin)){var M=dk(x),U={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},L=H(H({},uk(g,w,_)),{},{updateId:g.updateId+1}),D=H(H(H({},M),U),L);return H(H(H({},D),m(H({props:x},D),g)),{},{prevDataKey:y,prevData:w,prevWidth:j,prevHeight:N,prevLayout:_,prevStackOffset:E,prevMargin:k,prevChildren:S})}if(!X0(S,g.prevChildren)){var z,T,$,K,Y=Dr(S,Dl),G=Y&&(z=(T=Y.props)===null||T===void 0?void 0:T.startIndex)!==null&&z!==void 0?z:A,Q=Y&&($=(K=Y.props)===null||K===void 0?void 0:K.endIndex)!==null&&$!==void 0?$:O,oe=G!==A||Q!==O,ge=!be(w),Ie=ge&&!oe?g.updateId:g.updateId+1;return H(H({updateId:Ie},m(H(H({props:x},g),{},{updateId:Ie,dataStartIndex:G,dataEndIndex:Q}),g)),{},{prevChildren:S,dataStartIndex:G,dataEndIndex:Q})}return null}),he(v,"renderActiveDot",function(x,g,y){var w;return b.isValidElement(x)?w=b.cloneElement(x,g):pe(x)?w=x(g):w=P.createElement(Og,g),P.createElement(Le,{className:"recharts-active-dot",key:y},w)});var p=b.forwardRef(function(g,y){return P.createElement(v,Go({},g,{ref:y}))});return p.displayName=v.displayName,p},KM=N1({chartName:"LineChart",GraphicalChild:Zi,axisComponents:[{axisType:"xAxis",AxisComp:Qi},{axisType:"yAxis",AxisComp:eo}],formatAxisMap:uM}),Nbe=N1({chartName:"BarChart",GraphicalChild:Ua,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Qi},{axisType:"yAxis",AxisComp:eo}],formatAxisMap:uM}),Sbe=N1({chartName:"PieChart",GraphicalChild:Zs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Rg},{axisType:"radiusAxis",AxisComp:Ig}],formatAxisMap:ufe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function _be({data:e,loading:t}){const[r,n]=b.useState("week"),a=u=>u.map(f=>({...f,formattedDate:new Date(f.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})),i=({active:u,payload:f,label:d})=>u&&f&&f.length?s.jsxs("div",{className:"bg-black border border-green-500 rounded-lg p-3 shadow-lg",children:[s.jsx("p",{className:"text-green-400 font-semibold",children:d}),s.jsxs("p",{className:"text-white",children:["Earnings: ",s.jsxs("span",{className:"text-green-400 font-bold",children:["$",f[0].value]})]})]}):null;if(t)return s.jsxs(R,{className:"bg-black border-green-500 shadow-lg shadow-green-500/20",children:[s.jsx(V,{children:s.jsxs(W,{className:"text-green-400 flex items-center gap-2",children:[s.jsx(us,{className:"w-5 h-5"}),"Earnings Trend"]})}),s.jsx(F,{children:s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-64 bg-gray-700 rounded"})})})]});const o=a(e),l=e.reduce((u,f)=>u+f.amount,0),c=e.length>0?l/e.length:0;return s.jsxs(R,{className:"bg-black border-green-500 shadow-lg shadow-green-500/20 hover:shadow-green-500/30 transition-all duration-300",children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs(W,{className:"text-green-400 flex items-center gap-2",children:[s.jsx(us,{className:"w-5 h-5"}),"Earnings Trend"]}),s.jsx("div",{className:"flex gap-1",children:["day","week","month","year"].map(u=>s.jsx(B,{onClick:()=>n(u),size:"sm",variant:r===u?"default":"outline",className:`text-xs ${r===u?"bg-green-600 hover:bg-green-700 text-white":"border-gray-600 text-gray-300 hover:bg-gray-800"}`,children:u.charAt(0).toUpperCase()+u.slice(1)},u))})]}),s.jsxs(F,{children:[s.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400",children:"Total Period"}),s.jsxs("p",{className:"text-xl font-bold text-green-400",children:["$",l.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400",children:"Daily Average"}),s.jsxs("p",{className:"text-xl font-bold text-white",children:["$",c.toFixed(0)]})]})]}),s.jsx("div",{className:"h-64",children:o.length>0?s.jsx(bh,{width:"100%",height:"100%",children:s.jsxs(KM,{data:o,children:[s.jsx(sp,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(Qi,{dataKey:"formattedDate",stroke:"#9CA3AF",fontSize:12,tickLine:!1}),s.jsx(eo,{stroke:"#9CA3AF",fontSize:12,tickLine:!1,tickFormatter:u=>`$${u}`}),s.jsx(Lr,{content:s.jsx(i,{})}),s.jsx(Zi,{type:"monotone",dataKey:"amount",stroke:"#10B981",strokeWidth:3,dot:{fill:"#10B981",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#10B981",strokeWidth:2,fill:"#000"}})]})}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(dr,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"No earnings data available"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Complete jobs to see your earnings trend"})]})})})]})]})}function Yc({children:e}){return s.jsx("section",{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl ring-1 ring-green-500/20 shadow-[0_0_25px_-10px_rgba(34,197,94,0.25)] p-4 sm:p-6 lg:p-8 min-h-fit",children:e})}function Ebe(){var p,x;const e=Bd(),[t,r]=b.useState([]),[n,a]=b.useState([]),[i,o]=b.useState(!0),[l,c]=b.useState("month"),u=[{id:"earning1",jobId:"job1",jobTitle:"Lawn Maintenance - Oak Street",amount:150,status:"completed",completedDate:new Date().toISOString(),client:"John Smith"},{id:"earning2",jobId:"job2",jobTitle:"Garden Design - Maple Ave",amount:250,status:"pending_payout",completedDate:new Date(Date.now()-864e5).toISOString(),client:"Sarah Johnson"},{id:"earning3",jobId:"job3",jobTitle:"Tree Trimming - Pine Street",amount:400,status:"paid_out",completedDate:new Date(Date.now()-1728e5).toISOString(),client:"Mike Davis",payoutDate:new Date(Date.now()-864e5).toISOString()}].filter(Boolean),f=[{id:"payout1",amount:400,status:"completed",processedDate:new Date(Date.now()-864e5).toISOString(),jobsCount:1,method:"direct_deposit"},{id:"payout2",amount:250,status:"pending",scheduledDate:new Date(Date.now()+864e5).toISOString(),jobsCount:1,method:"direct_deposit"}].filter(Boolean);b.useEffect(()=>{(async()=>{try{const{data:{user:y}}=await e.auth.getUser();if(y!=null&&y.id){const{data:w}=await e.from("job_earnings").select("*").eq("landscaper_id",y.id).order("completed_date",{ascending:!1})??[],{data:S}=await e.from("payouts").select("*").eq("landscaper_id",y.id).order("created_at",{ascending:!1})??[];r(w??u),a(S??f)}else r(u),a(f)}catch(y){console.error("Error loading earnings data:",y),r(u),a(f)}finally{o(!1)}})()},[e]);const d=(t==null?void 0:t.filter(g=>{if(!(g!=null&&g.completedDate))return!1;const y=new Date(g.completedDate),w=new Date;switch(l){case"week":return w.getTime()-y.getTime()<=7*24*60*60*1e3;case"month":return w.getTime()-y.getTime()<=30*24*60*60*1e3;case"year":return w.getTime()-y.getTime()<=365*24*60*60*1e3;default:return!0}}))??[],h=(d==null?void 0:d.reduce((g,y)=>g+((y==null?void 0:y.amount)??0),0))??0,m=((p=t==null?void 0:t.filter(g=>(g==null?void 0:g.status)==="pending_payout"))==null?void 0:p.reduce((g,y)=>g+((y==null?void 0:y.amount)??0),0))??0,v=(d==null?void 0:d.length)??0;return i?s.jsx("div",{className:"text-white px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:"Loading earnings..."}):s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6",children:[s.jsx(Yc,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsx("h2",{className:"text-xl font-bold text-green-300",children:"Earnings & Payouts"}),s.jsx("div",{className:"flex gap-2",children:[{key:"week",label:"This Week"},{key:"month",label:"This Month"},{key:"year",label:"This Year"}].map(g=>s.jsx("button",{onClick:()=>c(g.key),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${l===g.key?"bg-green-500/20 text-green-200 border border-green-500/50":"bg-black/40 text-green-300/70 border border-green-500/25 hover:bg-black/60"}`,children:g.label},g.key))})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-black/40 border border-green-500/25 rounded-xl",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",(h==null?void 0:h.toFixed(2))??"0.00"]}),s.jsx("div",{className:"text-sm text-green-300/70",children:"Total Earnings"})]}),s.jsxs("div",{className:"text-center p-4 bg-black/40 border border-green-500/25 rounded-xl",children:[s.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:["$",(m==null?void 0:m.toFixed(2))??"0.00"]}),s.jsx("div",{className:"text-sm text-green-300/70",children:"Pending Payouts"})]}),s.jsxs("div",{className:"text-center p-4 bg-black/40 border border-green-500/25 rounded-xl",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-400",children:v}),s.jsx("div",{className:"text-sm text-green-300/70",children:"Completed Jobs"})]})]})]})}),s.jsx(Yc,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-green-300",children:"Recent Earnings"}),(d==null?void 0:d.length)===0?s.jsx("div",{className:"text-center py-8 text-green-300/70",children:"No earnings found for the selected time period."}):s.jsx("div",{className:"space-y-3",children:((x=d==null?void 0:d.slice(0,10))==null?void 0:x.map(g=>{var y;return s.jsx("div",{className:"bg-black/40 border border-green-500/25 rounded-xl p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-green-300",children:(g==null?void 0:g.jobTitle)??"Untitled Job"}),s.jsxs("p",{className:"text-sm text-green-300/70",children:["Client: ",(g==null?void 0:g.client)??"Unknown"]}),s.jsxs("p",{className:"text-xs text-green-300/60",children:["Completed: ",g!=null&&g.completedDate?new Date(g.completedDate).toLocaleDateString():"Unknown"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-bold text-green-400",children:["$",((y=g==null?void 0:g.amount)==null?void 0:y.toFixed(2))??"0.00"]}),s.jsx("div",{className:`text-sm font-medium ${(g==null?void 0:g.status)==="paid_out"?"text-green-400":(g==null?void 0:g.status)==="pending_payout"?"text-yellow-400":"text-blue-400"}`,children:(g==null?void 0:g.status)==="paid_out"?"Paid Out":(g==null?void 0:g.status)==="pending_payout"?"Pending":"Completed"})]})]})},g==null?void 0:g.id)}))??[]})]})}),s.jsx(Yc,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-green-300",children:"Payout History"}),(n==null?void 0:n.length)===0?s.jsx("div",{className:"text-center py-8 text-green-300/70",children:"No payouts found."}):s.jsx("div",{className:"space-y-3",children:(n==null?void 0:n.map(g=>{var y,w;return s.jsx("div",{className:"bg-black/40 border border-green-500/25 rounded-xl p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-semibold text-green-300",children:["Payout #",((y=g==null?void 0:g.id)==null?void 0:y.slice(-8))??"Unknown"]}),s.jsxs("p",{className:"text-sm text-green-300/70",children:[(g==null?void 0:g.jobsCount)??0," job",((g==null?void 0:g.jobsCount)??0)!==1?"s":"","  ",(g==null?void 0:g.method)??"Unknown method"]}),s.jsx("p",{className:"text-xs text-green-300/60",children:(g==null?void 0:g.status)==="completed"?`Processed: ${g!=null&&g.processedDate?new Date(g.processedDate).toLocaleDateString():"Unknown"}`:`Scheduled: ${g!=null&&g.scheduledDate?new Date(g.scheduledDate).toLocaleDateString():"Unknown"}`})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-bold text-green-400",children:["$",((w=g==null?void 0:g.amount)==null?void 0:w.toFixed(2))??"0.00"]}),s.jsx("div",{className:`text-sm font-medium ${(g==null?void 0:g.status)==="completed"?"text-green-400":"text-yellow-400"}`,children:(g==null?void 0:g.status)==="completed"?"Completed":"Pending"})]})]})},g==null?void 0:g.id)}))??[]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(Yc,{children:s.jsx(_be,{data:(d==null?void 0:d.map(g=>({date:(g==null?void 0:g.completedDate)??"",amount:(g==null?void 0:g.amount)??0})))??[],loading:i})}),s.jsx(Yc,{children:s.jsxs("div",{className:"text-center py-8 text-green-300",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Earnings Overview"}),s.jsx("p",{className:"text-green-300/70",children:"Chart component will be added here"})]})})]})]})}function Pbe({approved:e,hasInsuranceFile:t,hasLicenseFile:r,onUploadDocuments:n}){if(e)return s.jsx("div",{className:"w-full px-4 sm:px-6",children:s.jsxs(Be,{className:"border-green-500/50 bg-green-500/10 text-green-200 backdrop-blur",children:[s.jsx($e,{className:"h-4 w-4 text-green-400"}),s.jsx(Fe,{className:"font-medium text-green-200",children:"Your account is approved! You can now accept jobs and receive payouts."})]})});const a=t&&r;return s.jsx("div",{className:"w-full px-4 sm:px-6",children:s.jsxs(Be,{className:"border-amber-500/50 bg-amber-500/10 text-amber-200 backdrop-blur",children:[s.jsx(Pr,{className:"h-4 w-4 text-amber-400"}),s.jsx(Fe,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-medium text-amber-200",children:a?"Pending Approval: Documents uploaded, awaiting admin review.":"Pending Approval: Upload required documents to get started."}),!a&&s.jsxs("p",{className:"text-sm mt-1 text-amber-300/80",children:["Missing: ",!t&&"Insurance"," ",!t&&!r&&" & "," ",!r&&"License"]})]}),!a&&s.jsxs(B,{onClick:n,size:"sm",className:"bg-amber-600/80 hover:bg-amber-600 text-white shadow-lg hover:shadow-amber-600/25 transition-all duration-200 w-full sm:w-auto",children:[s.jsx(mO,{className:"h-4 w-4 mr-2"}),"Upload Documents"]})]})})]})})}function kbe({message:e,type:t,onClose:r,duration:n=3e3}){const[a,i]=b.useState(!0);b.useEffect(()=>{const c=setTimeout(()=>{i(!1),setTimeout(r,300)},n);return()=>clearTimeout(c)},[n,r]);const o={success:"bg-emerald-600",error:"bg-red-600",info:"bg-blue-600"}[t],l={success:"border-emerald-500",error:"border-red-500",info:"border-blue-500"}[t];return s.jsx("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg border ${o} ${l} text-white shadow-lg transition-all duration-300 ${a?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:e}),s.jsx("button",{onClick:()=>{i(!1),setTimeout(r,300)},className:"ml-3 text-white/70 hover:text-white",children:""})]})})}function HM(){const[e,t]=b.useState([]),r=(i,o="info")=>{const l=Date.now().toString();t(c=>[...c,{id:l,message:i,type:o}])},n=i=>{t(o=>o.filter(l=>l.id!==i))};return{showToast:r,ToastContainer:()=>s.jsx(s.Fragment,{children:e.map(i=>s.jsx(kbe,{message:i.message,type:i.type,onClose:()=>n(i.id)},i.id))})}}function Abe({onUpload:e,uploadedDocs:t,onError:r}){const{showToast:n}=HM(),[a,i]=b.useState([]),[o,l]=b.useState(!0),[c,u]=b.useState(null),[f,d]=b.useState({}),[h,m]=b.useState(null);b.useEffect(()=>{v().catch(g=>r(g.message))},[]);const v=async()=>{try{const{data:{user:g}}=await I.auth.getUser();if(!g){console.log("DocumentUpload: No user found");return}console.log("DocumentUpload: User authenticated:",g.id);const{data:y,error:w}=await I.from("landscaper_documents").select("id, user_id, file_url, document_type, uploaded_at").eq("user_id",g.id).order("uploaded_at",{ascending:!1});if(console.log("DocumentUpload: Document query result:",{data:y,error:w}),w)throw console.error("DocumentUpload: Database error:",w),new Error(`Failed to load documents: ${w.message}`);const S=(y||[]).map(j=>({id:j.id,file_url:j.file_url,file_type:j.document_type,uploaded_at:j.uploaded_at,landscaper_id:j.user_id}));console.log("DocumentUpload: Transformed documents:",S),i(S)}catch(g){console.error("[DocumentFetch] fail",g),n("Failed to load documents","error")}finally{l(!1)}},p=async(g,y)=>{if(y.size>5*1024*1024){n("Only PDF/JPG/PNG up to 5MB","error");return}if(!["application/pdf","image/jpeg","image/png"].includes(y.type)){n("Only PDF/JPG/PNG up to 5MB","error");return}u(g),d({...f,[g]:0});try{const{data:{user:S}}=await I.auth.getUser();if(!S)throw new Error("Not authenticated");const j=setInterval(()=>{d(M=>({...M,[g]:Math.min((M[g]||0)+20,90)}))},200),N=`${S.id}/${Date.now()}_${y.name}`;console.log("Uploading to path:",N),console.log("File details:",{name:y.name,type:y.type,size:y.size});const{data:_,error:E}=await I.storage.from("landscaper-documents").upload(N,y,{upsert:!1,contentType:y.type,duplex:"half"});if(console.log("Upload result:",{uploadData:_,upErr:E}),clearInterval(j),d(M=>({...M,[g]:100})),E)throw console.error("Storage upload error:",E),new Error(`Upload failed: ${E.message}`);const{data:k}=I.storage.from("landscaper-documents").getPublicUrl(N);console.log("Public URL:",k.publicUrl);const A={user_id:S.id,document_type:g,file_name:y.name,file_url:k.publicUrl,file_size:y.size,mime_type:y.type};console.log("Inserting to database:",A);const{data:O,error:C}=await I.from("landscaper_documents").insert(A).select();if(console.log("Database insert result:",{dbData:O,insErr:C}),C)throw console.error("Database insert error:",C),new Error(`Database error: ${C.message}`);n("Document uploaded successfully","success"),await v(),e&&await e(y,g)}catch(S){console.error("Upload error:",S),n(`Upload failed: ${S.message}`,"error")}finally{u(null),d(S=>({...S,[g]:0}))}},x=[{key:"license",label:"Business License",required:!0},{key:"insurance",label:"Insurance Certificate",required:!0},{key:"certification",label:"Certifications",required:!1},{key:"portfolio",label:"Portfolio/References",required:!1}];return s.jsxs("div",{className:"rounded-xl border border-emerald-500/20 bg-black/40 shadow-[0_0_0_1px_rgba(16,185,129,0.06)] hover:border-emerald-500/30 transition-colors",children:[s.jsx("div",{className:"px-5 py-4 border-b border-emerald-900/20",children:s.jsx("h3",{className:"text-emerald-300 font-semibold tracking-wide",children:"Document Upload"})}),s.jsx("div",{className:"p-5 space-y-4",children:o?s.jsx("div",{className:"animate-pulse space-y-3",children:[1,2,3].map(g=>s.jsx("div",{className:"h-12 bg-emerald-900/10 rounded"},g))}):x.map(g=>{const y=a.filter(N=>N.file_type===g.key).slice(0,3),w=c===g.key,S=f[g.key]||0,j=y.length>0;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-emerald-100 font-medium text-sm",children:g.label}),g.required&&s.jsx("span",{className:"text-rose-400 text-xs",children:"*Required"})]}),j&&s.jsx("span",{className:"ml-auto text-[10px] px-2 py-0.5 rounded-full bg-emerald-500/15 text-emerald-300",children:"Uploaded"})]}),s.jsxs("label",{className:"cursor-pointer block mt-3",children:[s.jsxs("div",{className:"rounded-lg border border-emerald-500/25 bg-zinc-900/40 px-4 py-6 text-center hover:border-emerald-400/40 transition-colors",children:[s.jsx("svg",{className:"w-6 h-6 text-emerald-300/80 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),s.jsx("p",{className:"text-emerald-200/90 text-sm mb-1",children:w?"Uploading...":`Upload ${g.label}`}),s.jsx("p",{className:"text-xs text-emerald-300/60",children:"PDF / JPG / PNG  max 5MB"})]}),s.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",disabled:w,onChange:N=>{var E;const _=(E=N.target.files)==null?void 0:E[0];_&&p(g.key,_)}})]}),w&&s.jsx("div",{className:"mt-2 h-1 rounded bg-emerald-500/20 overflow-hidden",children:s.jsx("div",{style:{width:`${S}%`},className:"h-full bg-emerald-400 transition-all duration-300"})})]},g.key)})})]})}function Cbe(e){const[t,r]=b.useState(null);return t?s.jsxs("div",{className:"rounded-xl border border-red-500/20 bg-red-900/10 p-6 text-center",children:[s.jsx("h3",{className:"text-red-400 font-semibold mb-2",children:"Upload Error"}),s.jsx("p",{className:"text-red-300 text-sm mb-4",children:t}),s.jsx("button",{onClick:()=>r(null),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm transition-colors",children:"Try Again"})]}):s.jsx(Abe,{...e,onError:r})}function Obe({isOpen:e,onClose:t,onUploadComplete:r}){const{showToast:n}=HM(),[a,i]=b.useState([]),[o,l]=b.useState(!1),[c,u]=b.useState(!1);b.useEffect(()=>{e&&f()},[e]);const f=async()=>{l(!0);try{const{data:{user:v}}=await I.auth.getUser();if(!v)return;const{data:p,error:x}=await I.from("landscaper_documents").select("id, user_id, file_url, file_name, document_type, uploaded_at").eq("user_id",v.id);if(x)throw x;console.log("Fetched documents:",p);const g=(p||[]).map(y=>({...y,file_type:y.document_type}));console.log("Transformed documents:",g),i(g)}catch(v){console.error("Error fetching documents:",v)}finally{l(!1)}},d=()=>{const v=a.find(x=>x.file_type==="license"),p=a.find(x=>x.file_type==="insurance");return v&&p},h=async(v,p)=>{console.log("Document uploaded, refreshing modal status..."),await f()},m=async()=>{if(!d()){n("Please upload both Business License and Insurance Certificate","error");return}u(!0);try{const{data:{user:v}}=await I.auth.getUser();if(!v)throw new Error("User not authenticated");const{data:p,error:x}=await I.from("landscapers").select("id").eq("user_id",v.id).single();if(x&&x.code!=="PGRST116"&&console.error("Error fetching landscaper:",x),p!=null&&p.id){const{error:y}=await I.from("landscapers").update({updated_at:new Date().toISOString()}).eq("id",p.id);y&&console.warn("Could not update landscaper profile:",y)}const g=a.filter(y=>["license","insurance"].includes(y.file_type));if(g.length>0)for(const y of g){const{error:w}=await I.from("landscaper_documents").update({updated_at:new Date().toISOString()}).eq("id",y.id);w&&console.warn("Could not update document timestamp:",w)}n("Documents submitted successfully! They will be reviewed shortly.","success"),r==null||r(),t()}catch(v){console.error("Document submission error:",v),n(v.message||"Error submitting documents","error")}finally{u(!1)}};return s.jsx(Vd,{open:e,onOpenChange:t,children:s.jsxs(cc,{className:"max-w-2xl max-h-[80vh] overflow-y-auto bg-black/95 border-emerald-500/30",children:[s.jsx(uc,{children:s.jsx(dc,{className:"text-emerald-300 text-xl",children:"Upload Required Documents"})}),s.jsx("div",{className:"mt-4",children:s.jsx(Cbe,{onUpload:h})}),s.jsxs("div",{className:"mt-6 p-4 rounded-lg bg-emerald-900/20 border border-emerald-500/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-emerald-300 font-medium",children:"Document Status"}),s.jsx("div",{className:"text-sm",children:d()?s.jsx("span",{className:"text-emerald-400",children:" Ready to Submit"}):s.jsx("span",{className:"text-yellow-400",children:" Missing Required Documents"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:a.find(v=>v.file_type==="license")?"text-emerald-400":"text-gray-400",children:a.find(v=>v.file_type==="license")?"":""}),s.jsx("span",{className:"text-emerald-100",children:"Business License"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:a.find(v=>v.file_type==="insurance")?"text-emerald-400":"text-gray-400",children:a.find(v=>v.file_type==="insurance")?"":""}),s.jsx("span",{className:"text-emerald-100",children:"Insurance Certificate"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:a.find(v=>v.file_type==="certification")?"text-emerald-400":"text-gray-400",children:a.find(v=>v.file_type==="certification")?"":""}),s.jsx("span",{className:"text-emerald-100",children:"Certifications"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:a.find(v=>v.file_type==="portfolio")?"text-emerald-400":"text-gray-400",children:a.find(v=>v.file_type==="portfolio")?"":""}),s.jsx("span",{className:"text-emerald-100",children:"Portfolio/References"})]})]})]}),s.jsxs("div",{className:"flex justify-between mt-6 pt-4 border-t border-emerald-500/20",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:m,disabled:!d()||c,className:"px-6 py-2 bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:c?"Submitting...":"Submit Documents"})]})]})})}function hk({children:e}){return s.jsx("section",{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl ring-1 ring-green-500/20 shadow-[0_0_25px_-10px_rgba(34,197,94,0.25)] p-4 sm:p-6 lg:p-8 min-h-fit",children:e})}function Tbe(){var p,x;const e=Bd(),[t,r]=b.useState(null),[n,a]=b.useState(!0),[i,o]=b.useState(!1),[l,c]=b.useState(!1),[u,f]=b.useState({first_name:"",last_name:"",phone:"",bio:"",experience_years:"",specialties:[]});b.useEffect(()=>{(async()=>{var y;try{const{data:{user:w}}=await e.auth.getUser();if(w!=null&&w.id){const S=await yh(w.id);r(S),f({first_name:(S==null?void 0:S.first_name)??"",last_name:(S==null?void 0:S.last_name)??"",phone:(S==null?void 0:S.phone)??"",bio:(S==null?void 0:S.bio)??"",experience_years:((y=S==null?void 0:S.experience_years)==null?void 0:y.toString())??"",specialties:(S==null?void 0:S.specialties)??[]})}}catch(w){console.error("Error loading profile:",w)}finally{a(!1)}})()},[e]);const d=async()=>{try{const{data:{user:g}}=await e.auth.getUser();if(g!=null&&g.id){await e.from("landscaper_profiles").update({first_name:u.first_name,last_name:u.last_name,phone:u.phone,bio:u.bio,experience_years:u.experience_years?parseInt(u.experience_years):null,specialties:u.specialties}).eq("user_id",g.id);const y=await yh(g.id);r(y),c(!1)}}catch(g){console.error("Error saving profile:",g)}},h=(g,y)=>{f(w=>({...w,[g]:y}))},m=["Lawn Maintenance","Garden Design","Tree Services","Irrigation","Hardscaping","Seasonal Cleanup","Pest Control","Fertilization"],v=g=>{f(y=>({...y,specialties:y.specialties.includes(g)?y.specialties.filter(w=>w!==g):[...y.specialties,g]}))};return n?s.jsx("div",{className:"text-white px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:"Loading profile..."}):s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6",children:[s.jsx(hk,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsx("h2",{className:"text-xl font-bold text-green-300",children:"Profile Management"}),s.jsx("button",{onClick:()=>l?d():c(!0),className:"px-4 py-2 bg-green-500/20 text-green-200 border border-green-500/50 rounded-lg hover:bg-green-500/30 transition-all duration-200 text-sm",children:l?"Save Changes":"Edit Profile"})]}),t&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl font-bold text-green-300",children:(((p=t.first_name)==null?void 0:p[0])??"")+(((x=t.last_name)==null?void 0:x[0])??"")})}),s.jsxs("h1",{className:"text-2xl font-bold text-green-300 mb-1",children:[t.first_name??""," ",t.last_name??""]}),s.jsx("p",{className:"text-green-300/70 break-all",children:t.email??""}),t.phone&&s.jsx("p",{className:"text-green-300/70",children:t.phone})]})]})}),s.jsx(hk,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-green-300",children:"Account Details"}),l?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-green-300 mb-2",children:"First Name"}),s.jsx("input",{type:"text",value:u.first_name,onChange:g=>h("first_name",g.target.value),className:"w-full px-3 py-2 bg-black/40 border border-green-500/25 rounded-lg text-green-200 focus:border-green-500/50 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-green-300 mb-2",children:"Last Name"}),s.jsx("input",{type:"text",value:u.last_name,onChange:g=>h("last_name",g.target.value),className:"w-full px-3 py-2 bg-black/40 border border-green-500/25 rounded-lg text-green-200 focus:border-green-500/50 focus:outline-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-green-300 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",value:u.phone,onChange:g=>h("phone",g.target.value),className:"w-full px-3 py-2 bg-black/40 border border-green-500/25 rounded-lg text-green-200 focus:border-green-500/50 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-green-300 mb-2",children:"Bio"}),s.jsx("textarea",{value:u.bio,onChange:g=>h("bio",g.target.value),rows:3,className:"w-full px-3 py-2 bg-black/40 border border-green-500/25 rounded-lg text-green-200 focus:border-green-500/50 focus:outline-none",placeholder:"Tell clients about your experience and services..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-green-300 mb-2",children:"Years of Experience"}),s.jsx("input",{type:"number",value:u.experience_years,onChange:g=>h("experience_years",g.target.value),className:"w-full px-3 py-2 bg-black/40 border border-green-500/25 rounded-lg text-green-200 focus:border-green-500/50 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-green-300 mb-2",children:"Specialties"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:m.map(g=>s.jsx("button",{onClick:()=>v(g),className:`px-3 py-2 rounded-lg text-sm transition-all duration-200 ${u.specialties.includes(g)?"bg-green-500/20 text-green-200 border border-green-500/50":"bg-black/40 text-green-300/70 border border-green-500/25 hover:bg-black/60"}`,children:g},g))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:d,className:"px-4 py-2 bg-green-500/20 text-green-200 border border-green-500/50 rounded-lg hover:bg-green-500/30 transition-all duration-200",children:"Save Changes"}),s.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 bg-red-500/20 text-red-200 border border-red-500/50 rounded-lg hover:bg-red-500/30 transition-all duration-200",children:"Cancel"})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-300/70",children:"Email:"}),s.jsx("span",{className:"text-green-200",children:(t==null?void 0:t.email)??"Not set"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-300/70",children:"Phone:"}),s.jsx("span",{className:"text-green-200",children:(t==null?void 0:t.phone)??"Not set"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-300/70",children:"Experience:"}),s.jsx("span",{className:"text-green-200",children:u.experience_years?`${u.experience_years} years`:"Not set"})]}),u.bio&&s.jsxs("div",{children:[s.jsx("span",{className:"text-green-300/70",children:"Bio:"}),s.jsx("p",{className:"text-green-200 mt-1",children:u.bio})]}),u.specialties.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-green-300/70",children:"Specialties:"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:u.specialties.map(g=>s.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-200 border border-green-500/50 rounded text-sm",children:g},g))})]})]})]})}),t&&s.jsx(Pbe,{approved:t.approved||!1,hasInsuranceFile:!!t.insurance_file,hasLicenseFile:!!t.license_file,onUploadDocuments:()=>o(!0)}),s.jsx(Obe,{isOpen:i,onClose:()=>o(!1),onUploadComplete:()=>{(async()=>{const{data:{user:y}}=await e.auth.getUser();if(y!=null&&y.id){const w=await yh(y.id);r(w)}})()}})]})}function mk(){const e=Bd(),t=Te(),r=qt(),[n,a]=b.useState(null),[i,o]=b.useState(!0),[l,c]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const{data:{user:m}}=await e.auth.getUser();if(m!=null&&m.id){const v=await yh(m.id);a(v)}}catch(m){console.error("Error loading profile:",m)}finally{o(!1)}})()},[e]);const u=h=>{t(h)},f=()=>{const h=r.pathname;return h.includes("/jobs")?"jobs":h.includes("/earnings")?"earnings":h.includes("/profile")?"profile":"overview"},d=async()=>{const h=!l;c(h);try{const{data:{user:m}}=await e.auth.getUser();m!=null&&m.id&&await e.from("landscaper_profiles").update({available:h}).eq("user_id",m.id)}catch(m){console.error("Error updating availability:",m),c(!h)}};return s.jsx(MI,{children:s.jsxs(o5,{children:[s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-[#020b06] to-black text-white pb-20 md:pb-0",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("header",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-12",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsx("div",{children:i?s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-300",children:"Loading..."}):n?s.jsxs("div",{className:"space-y-1",children:[s.jsxs("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-green-300",children:[n.first_name??""," ",n.last_name??""]}),s.jsx("p",{className:"text-xs sm:text-sm text-green-300/70 break-all",children:n.email??""})]}):s.jsxs("div",{className:"space-y-1",children:[s.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-green-300",children:"Landscaper Dashboard"}),s.jsx("p",{className:"text-xs sm:text-sm text-green-300/70",children:"Profile not found"})]})}),s.jsxs("div",{className:"flex flex-row gap-3",children:[s.jsx("button",{onClick:d,className:`px-3 sm:px-4 py-2 rounded-xl font-medium transition-all duration-200 text-sm ${l?"bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 shadow-lg shadow-green-500/25":"bg-black/60 text-green-200 border border-green-500/25 hover:bg-black/80"}`,children:l?"Available":"Unavailable"}),s.jsx("button",{onClick:()=>Hw(e,"/"),className:"px-3 sm:px-4 py-2 rounded-xl bg-red-500/90 text-white hover:bg-red-500 shadow-lg hover:shadow-red-500/25 transition-all duration-200 text-sm",children:"Logout"})]})]})}),s.jsx("div",{className:"px-4 sm:px-6 lg:px-8 mb-6",children:s.jsxs("div",{className:"bg-black/40 backdrop-blur rounded-2xl p-1 border border-green-500/25",children:[s.jsx("div",{className:"hidden sm:grid sm:grid-cols-4 gap-1",children:[{key:"overview",label:"Overview",path:"/landscaper-dashboard/overview"},{key:"jobs",label:"Jobs",path:"/landscaper-dashboard/jobs"},{key:"earnings",label:"Earnings",path:"/landscaper-dashboard/earnings"},{key:"profile",label:"Profile",path:"/landscaper-dashboard/profile"}].map(h=>s.jsxs("button",{onClick:()=>u(h.path),className:`px-4 py-3 rounded-xl font-medium transition-all duration-200 text-sm lg:text-base relative ${f()===h.key?"bg-green-500/20 text-green-200 border border-green-500/50 shadow-lg shadow-green-500/25 ring-1 ring-green-500/30":"text-green-300/70 hover:text-green-200 hover:bg-black/20"}`,children:[h.label,f()===h.key&&s.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-8 h-0.5 bg-green-400 rounded-full"})]},h.key))}),s.jsx("div",{className:"sm:hidden flex overflow-x-auto gap-1 pb-1",children:[{key:"overview",label:"Overview",path:"/landscaper-dashboard/overview"},{key:"jobs",label:"Jobs",path:"/landscaper-dashboard/jobs"},{key:"earnings",label:"Earnings",path:"/landscaper-dashboard/earnings"},{key:"profile",label:"Profile",path:"/landscaper-dashboard/profile"}].map(h=>s.jsx("button",{onClick:()=>u(h.path),className:`flex-shrink-0 px-4 py-3 rounded-xl font-medium transition-all duration-200 text-sm whitespace-nowrap ${f()===h.key?"bg-green-500/20 text-green-200 border border-green-500/50 shadow-lg shadow-green-500/25":"text-green-300/70 hover:text-green-200 hover:bg-black/20"}`,children:h.label},h.key))})]})}),s.jsxs(Ew,{children:[s.jsx(ie,{path:"overview",element:s.jsx(d_,{profile:n,isAvailable:l})}),s.jsx(ie,{path:"jobs",element:s.jsx(JK,{})}),s.jsx(ie,{path:"earnings",element:s.jsx(Ebe,{})}),s.jsx(ie,{path:"profile",element:s.jsx(Tbe,{})}),s.jsx(ie,{path:"",element:s.jsx(d_,{profile:n,isAvailable:l})})]})]})}),s.jsx(F4,{})]})})}const oa={totalEarnings:15750,thisMonth:3250,lastMonth:2890,pendingPayouts:850,completedJobs:47,averageJobValue:335};function pk(){const e=((oa.thisMonth-oa.lastMonth)/oa.lastMonth*100).toFixed(1);return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(R,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200",children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium text-green-700",children:"Total Earnings"}),s.jsx(kr,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(F,{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-900",children:["$",oa.totalEarnings.toLocaleString()]}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"All-time earnings"})]})]}),s.jsxs(R,{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-blue-200",children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium text-blue-700",children:"This Month"}),s.jsx(us,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(F,{children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["$",oa.thisMonth.toLocaleString()]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsxs(ee,{variant:parseFloat(e)>0?"default":"secondary",className:"text-xs",children:[parseFloat(e)>0?"+":"",e,"%"]}),s.jsx("p",{className:"text-xs text-blue-600 ml-2",children:"vs last month"})]})]})]}),s.jsxs(R,{className:"bg-gradient-to-br from-orange-50 to-amber-50 border-orange-200",children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium text-orange-700",children:"Pending Payouts"}),s.jsx(dr,{className:"h-4 w-4 text-orange-600"})]}),s.jsxs(F,{children:[s.jsxs("div",{className:"text-2xl font-bold text-orange-900",children:["$",oa.pendingPayouts.toLocaleString()]}),s.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Next payout in 3 days"})]})]}),s.jsxs(R,{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border-purple-200",children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium text-purple-700",children:"Completed Jobs"}),s.jsx(hO,{className:"h-4 w-4 text-purple-600"})]}),s.jsxs(F,{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-900",children:oa.completedJobs}),s.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Jobs completed"})]})]}),s.jsxs(R,{className:"bg-gradient-to-br from-teal-50 to-cyan-50 border-teal-200",children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium text-teal-700",children:"Average Job Value"}),s.jsx(kr,{className:"h-4 w-4 text-teal-600"})]}),s.jsxs(F,{children:[s.jsxs("div",{className:"text-2xl font-bold text-teal-900",children:["$",oa.averageJobValue.toLocaleString()]}),s.jsx("p",{className:"text-xs text-teal-600 mt-1",children:"Per completed job"})]})]})]})}const Ibe=[{id:"1",date:"2024-01-15",amount:1250,status:"completed",jobsCount:5,method:"Bank Transfer"},{id:"2",date:"2024-01-01",amount:890.5,status:"completed",jobsCount:3,method:"Bank Transfer"},{id:"3",date:"2023-12-15",amount:1450,status:"completed",jobsCount:6,method:"Bank Transfer"},{id:"4",date:"2023-12-01",amount:750.25,status:"completed",jobsCount:2,method:"Bank Transfer"},{id:"5",date:"2023-11-15",amount:2100,status:"completed",jobsCount:8,method:"Bank Transfer"}];function gk(){const[e,t]=b.useState("all"),r=Ibe.filter(o=>e==="all"||o.status===e),n=o=>{switch(o){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},a=o=>{console.log("Downloading statement for payout:",o),alert(`Downloading statement for payout ${o}`)},i=o=>{console.log("Viewing details for payout:",o),alert(`Viewing details for payout ${o}`)};return s.jsxs(R,{children:[s.jsx(V,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(dr,{className:"h-5 w-5"}),"Payout History"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:e==="all"?"default":"outline",size:"sm",onClick:()=>t("all"),children:"All"}),s.jsx(B,{variant:e==="completed"?"default":"outline",size:"sm",onClick:()=>t("completed"),children:"Completed"}),s.jsx(B,{variant:e==="pending"?"default":"outline",size:"sm",onClick:()=>t("pending"),children:"Pending"})]})]})}),s.jsx(F,{children:s.jsx("div",{className:"space-y-4",children:r.map(o=>s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("span",{className:"font-semibold text-lg",children:["$",o.amount.toLocaleString()]}),s.jsx(ee,{className:n(o.status),children:o.status.charAt(0).toUpperCase()+o.status.slice(1)})]}),s.jsx("div",{className:"text-sm text-gray-600",children:s.jsxs("p",{children:[new Date(o.date).toLocaleDateString(),"  ",o.jobsCount," jobs  ",o.method]})})]}),s.jsxs("div",{className:"flex gap-2 mt-2 sm:mt-0",children:[s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>i(o.id),className:"flex items-center gap-1",children:[s.jsx(Cw,{className:"h-4 w-4"}),"Details"]}),s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>a(o.id),className:"flex items-center gap-1",children:[s.jsx(rc,{className:"h-4 w-4"}),"Download"]})]})]},o.id))})})]})}const Xf=[{name:"Bronze",rate:15,minJobs:0,color:"bg-amber-100 text-amber-800",benefits:["Basic commission rate","Standard support"]},{name:"Silver",rate:18,minJobs:10,color:"bg-gray-100 text-gray-800",benefits:["Higher commission rate","Priority support","Marketing materials"]},{name:"Gold",rate:22,minJobs:25,color:"bg-yellow-100 text-yellow-800",benefits:["Premium commission rate","Dedicated account manager","Featured listing"]},{name:"Platinum",rate:25,minJobs:50,color:"bg-purple-100 text-purple-800",benefits:["Maximum commission rate","VIP support","Exclusive opportunities"]}],Yn={currentTier:"Silver",currentRate:18,jobsCompleted:47,monthlyCommission:585,totalCommission:2835};function vk(){var n;const e=Xf.findIndex(a=>a.name===Yn.currentTier),t=Xf[e+1],r=t?Math.min(Yn.jobsCompleted/t.minJobs*100,100):100;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2 text-blue-800",children:[s.jsx(_8,{className:"h-5 w-5"}),"Commission Status"]})}),s.jsx(F,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[Yn.currentRate,"%"]}),s.jsx("p",{className:"text-sm text-blue-600",children:"Current Rate"}),s.jsxs(ee,{className:((n=Xf[e])==null?void 0:n.color)||"bg-gray-100",children:[Yn.currentTier," Tier"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["$",Yn.monthlyCommission]}),s.jsx("p",{className:"text-sm text-blue-600",children:"This Month"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["$",Yn.totalCommission]}),s.jsx("p",{className:"text-sm text-blue-600",children:"Total Earned"})]})]})})]}),t&&s.jsxs(R,{children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(hO,{className:"h-5 w-5"}),"Progress to ",t.name," Tier"]})}),s.jsx(F,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Jobs Completed"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[Yn.jobsCompleted," / ",t.minJobs]})]}),s.jsx(Ci,{value:r,className:"h-3"}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:[t.minJobs-Yn.jobsCompleted," more jobs to unlock ",t.rate,"% commission"]}),s.jsxs(ee,{className:t.color,children:["+",t.rate-Yn.currentRate,"% rate increase"]})]})]})})]}),s.jsxs(R,{children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(D8,{className:"h-5 w-5"}),"Commission Tiers"]})}),s.jsx(F,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Xf.map((a,i)=>s.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all ${a.name===Yn.currentTier?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx(ee,{className:a.color,children:a.name}),s.jsxs("div",{className:"text-2xl font-bold mt-1",children:[a.rate,"%"]})]}),s.jsx("div",{className:"text-sm text-gray-600",children:a.minJobs===0?"Starting tier":`${a.minJobs}+ jobs`})]}),s.jsx("ul",{className:"space-y-1",children:a.benefits.map((o,l)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-center gap-1",children:[s.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),o]},l))})]},a.name))})})]})]})}const Zf=[{month:"Jan",earnings:2890,jobs:12},{month:"Feb",earnings:3250,jobs:15},{month:"Mar",earnings:2750,jobs:11},{month:"Apr",earnings:3850,jobs:18},{month:"May",earnings:4200,jobs:21},{month:"Jun",earnings:3650,jobs:16}],$be=[{type:"Lawn Maintenance",percentage:35,earnings:5500},{type:"Landscaping",percentage:28,earnings:4400},{type:"Tree Services",percentage:20,earnings:3150},{type:"Seasonal Cleanup",percentage:17,earnings:2675}];function Rbe(){const[e,t]=b.useState("earnings"),r=Math.max(...Zf.map(l=>l.earnings)),n=Math.max(...Zf.map(l=>l.jobs)),a=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Monthly Earnings Trend"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Last 6 months"})]}),s.jsx("div",{className:"h-64 flex items-end justify-between gap-2",children:Zf.map((l,c)=>s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-t-lg relative overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-t from-green-500 to-green-400 rounded-t-lg transition-all duration-500 hover:from-green-600 hover:to-green-500",style:{height:`${l.earnings/r*200}px`}})}),s.jsxs("div",{className:"text-center mt-2",children:[s.jsxs("div",{className:"text-sm font-medium",children:["$",l.earnings.toLocaleString()]}),s.jsx("div",{className:"text-xs text-gray-600",children:l.month})]})]},c))})]}),i=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Jobs Completed Trend"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Last 6 months"})]}),s.jsx("div",{className:"h-64 flex items-end justify-between gap-2",children:Zf.map((l,c)=>s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-t-lg relative overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-t from-blue-500 to-blue-400 rounded-t-lg transition-all duration-500 hover:from-blue-600 hover:to-blue-500",style:{height:`${l.jobs/n*200}px`}})}),s.jsxs("div",{className:"text-center mt-2",children:[s.jsxs("div",{className:"text-sm font-medium",children:[l.jobs," jobs"]}),s.jsx("div",{className:"text-xs text-gray-600",children:l.month})]})]},c))})]}),o=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Earnings by Job Type"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Current period"})]}),s.jsx("div",{className:"space-y-3",children:$be.map((l,c)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:l.type}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-semibold",children:["$",l.earnings.toLocaleString()]}),s.jsxs("div",{className:"text-xs text-gray-600",children:[l.percentage,"%"]})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-400 h-2 rounded-full transition-all duration-500",style:{width:`${l.percentage}%`}})})]},c))})]});return s.jsxs(R,{children:[s.jsx(V,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(aO,{className:"h-5 w-5"}),"Financial Analytics"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{variant:e==="earnings"?"default":"outline",size:"sm",onClick:()=>t("earnings"),className:"flex items-center gap-1",children:[s.jsx(us,{className:"h-4 w-4"}),"Earnings"]}),s.jsxs(B,{variant:e==="jobs"?"default":"outline",size:"sm",onClick:()=>t("jobs"),className:"flex items-center gap-1",children:[s.jsx(dr,{className:"h-4 w-4"}),"Jobs"]}),s.jsxs(B,{variant:e==="breakdown"?"default":"outline",size:"sm",onClick:()=>t("breakdown"),className:"flex items-center gap-1",children:[s.jsx(P8,{className:"h-4 w-4"}),"Breakdown"]})]})]})}),s.jsxs(F,{children:[e==="earnings"&&a(),e==="jobs"&&i(),e==="breakdown"&&o()]})]})}function Mbe(){const e=()=>{navigate("/landscaper-dashboard")},t=()=>{console.log("Exporting earnings data...");const a=`Date,Amount,Jobs,Status
2024-01-15,1250.00,5,Completed
2024-01-01,890.50,3,Completed`,i=new Blob([a],{type:"text/csv"}),o=window.URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.download="earnings-report.csv",document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(o)},r=()=>{console.log("Opening payout settings..."),alert("Payout settings would open here - configure bank details, payout frequency, etc.")},n=()=>{console.log("Opening earnings help..."),alert("Help center would open here - FAQs about earnings, commissions, and payouts.")};return s.jsx(o5,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(B,{variant:"ghost",size:"sm",onClick:e,className:"flex items-center gap-2",children:[s.jsx(mr,{className:"h-4 w-4"}),"Back"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Earnings Dashboard"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Track your earnings, payouts, and financial performance"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(B,{variant:"outline",size:"sm",onClick:t,className:"flex items-center gap-2",children:[s.jsx(rc,{className:"h-4 w-4"}),"Export"]}),s.jsxs(B,{variant:"outline",size:"sm",onClick:r,className:"flex items-center gap-2",children:[s.jsx(ar,{className:"h-4 w-4"}),"Settings"]}),s.jsxs(B,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[s.jsx(C8,{className:"h-4 w-4"}),"Help"]})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs(ps,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(Wn,{className:"grid w-full grid-cols-4",children:[s.jsx(ye,{value:"overview",children:"Overview"}),s.jsx(ye,{value:"payouts",children:"Payouts"}),s.jsx(ye,{value:"commissions",children:"Commissions"}),s.jsx(ye,{value:"analytics",children:"Analytics"})]}),s.jsxs(Ne,{value:"overview",className:"space-y-6",children:[s.jsx(pk,{}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(gk,{}),s.jsx("div",{className:"space-y-6",children:s.jsx(vk,{})})]})]}),s.jsx(Ne,{value:"payouts",className:"space-y-6",children:s.jsx(gk,{})}),s.jsx(Ne,{value:"commissions",className:"space-y-6",children:s.jsx(vk,{})}),s.jsxs(Ne,{value:"analytics",className:"space-y-6",children:[s.jsx(Rbe,{}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.jsx(pk,{})})]})]})})]})})}function Dbe({value:e,onChange:t,onSearch:r,placeholder:n="Search...",showFilters:a=!0,onToggleFilters:i,activeFilters:o=0,suggestions:l=[],onClear:c}){const[u,f]=b.useState(!1),d=v=>{v.key==="Enter"&&(r(),f(!1))},h=v=>{t(v),f(!1),r()},m=l.filter(v=>v.toLowerCase().includes(e.toLowerCase())&&v!==e);return s.jsx("div",{className:"relative w-full max-w-2xl",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(qu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(re,{value:e,onChange:v=>t(v.target.value),onKeyPress:d,onFocus:()=>f(!0),onBlur:()=>setTimeout(()=>f(!1),200),placeholder:n,className:"pl-10 pr-10"}),e&&s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>{t(""),c==null||c()},className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",children:s.jsx(Hs,{className:"h-3 w-3"})}),u&&m.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border rounded-md shadow-lg z-50 max-h-60 overflow-y-auto",children:m.slice(0,8).map((v,p)=>s.jsx("button",{onClick:()=>h(v),className:"w-full text-left px-4 py-2 hover:bg-gray-50 border-b last:border-b-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qu,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{children:v})]})},p))})]}),s.jsx(B,{onClick:r,className:"px-6",children:"Search"}),a&&s.jsxs(B,{variant:"outline",onClick:i,className:"relative",children:[s.jsx(cO,{className:"h-4 w-4 mr-2"}),"Filters",o>0&&s.jsx(ee,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 p-0 text-xs",children:o})]})]})})}function Lbe({filters:e,onFiltersChange:t,onClose:r,categories:n=["Lawn Care","Landscaping","Tree Service","Hardscaping"],serviceTypes:a=["Mowing","Trimming","Planting","Irrigation","Cleanup"],locations:i=["Downtown","Suburbs","North Side","South Side"]}){var u;const o=(f,d)=>{t({...e,[f]:d})},l=()=>{t({})},c=Object.values(e).filter(f=>f!=null&&f!==""&&(Array.isArray(f)?f.length>0:!0)).length;return s.jsxs("div",{className:"bg-white border rounded-lg shadow-lg p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Filters"}),s.jsxs("div",{className:"flex items-center gap-2",children:[c>0&&s.jsxs(B,{variant:"ghost",size:"sm",onClick:l,children:["Clear All (",c,")"]}),s.jsx(B,{variant:"ghost",size:"sm",onClick:r,children:s.jsx(Hs,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(cs,{className:"h-4 w-4"}),"Category"]}),s.jsxs(ln,{value:e.category||"",onValueChange:f=>o("category",f||void 0),children:[s.jsx(Vr,{children:s.jsx(cn,{placeholder:"Select category"})}),s.jsxs(Wr,{children:[s.jsx(Pe,{value:"",children:"All Categories"}),n.map(f=>s.jsx(Pe,{value:f,children:f},f))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(cs,{className:"h-4 w-4"}),"Location"]}),s.jsx(re,{value:e.location||"",onChange:f=>o("location",f.target.value||void 0),placeholder:"Enter location"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(kr,{className:"h-4 w-4"}),"Price Range"]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(re,{type:"number",placeholder:"Min",value:e.priceMin||"",onChange:f=>o("priceMin",f.target.value?Number(f.target.value):void 0)}),s.jsx(re,{type:"number",placeholder:"Max",value:e.priceMax||"",onChange:f=>o("priceMax",f.target.value?Number(f.target.value):void 0)})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-4 w-4"}),"Minimum Rating"]}),s.jsxs(ln,{value:((u=e.rating)==null?void 0:u.toString())||"",onValueChange:f=>o("rating",f?Number(f):void 0),children:[s.jsx(Vr,{children:s.jsx(cn,{placeholder:"Any rating"})}),s.jsxs(Wr,{children:[s.jsx(Pe,{value:"",children:"Any Rating"}),s.jsx(Pe,{value:"4",children:"4+ Stars"}),s.jsx(Pe,{value:"3",children:"3+ Stars"}),s.jsx(Pe,{value:"2",children:"2+ Stars"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(de,{children:"Service Types"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.map(f=>{var d;return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hu,{id:f,checked:((d=e.serviceType)==null?void 0:d.includes(f))||!1,onCheckedChange:h=>{const m=e.serviceType||[],v=h?[...m,f]:m.filter(p=>p!==f);o("serviceType",v.length>0?v:void 0)}}),s.jsx(de,{htmlFor:f,className:"text-sm",children:f})]},f)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{children:"Sort By"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ln,{value:e.sortBy||"relevance",onValueChange:f=>o("sortBy",f),children:[s.jsx(Vr,{className:"flex-1",children:s.jsx(cn,{})}),s.jsxs(Wr,{children:[s.jsx(Pe,{value:"relevance",children:"Relevance"}),s.jsx(Pe,{value:"price",children:"Price"}),s.jsx(Pe,{value:"rating",children:"Rating"}),s.jsx(Pe,{value:"date",children:"Date"})]})]}),s.jsxs(ln,{value:e.sortOrder||"desc",onValueChange:f=>o("sortOrder",f),children:[s.jsx(Vr,{className:"w-24",children:s.jsx(cn,{})}),s.jsxs(Wr,{children:[s.jsx(Pe,{value:"asc",children:""}),s.jsx(Pe,{value:"desc",children:""})]})]})]})]})]})}function Ube({data:e,total:t,loading:r,error:n,query:a,renderItem:i,emptyState:o,loadMore:l,hasMore:c=!1,className:u=""}){return r&&e.length===0?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Oa,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Searching..."})]})}):n?s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md mx-auto",children:[s.jsx("h3",{className:"text-red-800 font-semibold mb-2",children:"Search Error"}),s.jsx("p",{className:"text-red-600 text-sm",children:n})]})}):e.length===0&&!r?s.jsx("div",{className:"text-center py-12",children:o||s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx(qu,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:a?"No results found":"Start your search"}),s.jsx("p",{className:"text-gray-600",children:a?`No results found for "${a}". Try adjusting your search terms or filters.`:"Enter a search term to find what you're looking for."})]})}):s.jsxs("div",{className:`space-y-6 ${u}`,children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm text-gray-600",children:t>0&&s.jsxs(s.Fragment,{children:["Showing ",e.length," of ",t," results",a&&s.jsxs("span",{children:[' for "',s.jsx("strong",{children:a}),'"']})]})}),r&&e.length>0&&s.jsx(Oa,{className:"h-4 w-4 animate-spin text-blue-600"})]})}),s.jsx("div",{className:"grid gap-4 md:gap-6",children:e.map((f,d)=>s.jsx("div",{className:"animate-in fade-in duration-200",children:i(f,d)},d))}),c&&l&&s.jsx("div",{className:"text-center pt-6",children:s.jsx(B,{onClick:l,disabled:r,variant:"outline",className:"px-8",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Oa,{className:"h-4 w-4 animate-spin mr-2"}),"Loading..."]}):"Load More"})})]})}function Bbe(e,t={},r=!0){const[n,a]=b.useState([]),[i,o]=b.useState(0),[l,c]=b.useState(!1),[u,f]=b.useState(null),[d,h]=b.useState(t),m=b.useMemo(()=>{var y;let p=I.from(e).select("*",{count:"exact"});if(d.query){const w=`%${d.query}%`;p=p.or(`title.ilike.${w},description.ilike.${w},name.ilike.${w}`)}d.category&&(p=p.eq("category",d.category)),d.location&&(p=p.ilike("location",`%${d.location}%`)),d.priceMin!==void 0&&(p=p.gte("price",d.priceMin)),d.priceMax!==void 0&&(p=p.lte("price",d.priceMax)),d.rating&&(p=p.gte("rating",d.rating)),(y=d.serviceType)!=null&&y.length&&(p=p.in("service_type",d.serviceType)),d.dateRange&&(p=p.gte("created_at",d.dateRange.start.toISOString()).lte("created_at",d.dateRange.end.toISOString()));const x=d.sortBy==="relevance"?"created_at":d.sortBy||"created_at",g=d.sortOrder==="asc";return p=p.order(x,{ascending:g}),p},[e,d]),v=async()=>{if(r){c(!0),f(null);try{const{data:p,count:x,error:g}=await m;if(g)throw g;a(p||[]),o(x||0)}catch(p){f(p instanceof Error?p.message:"Search failed"),a([]),o(0)}finally{c(!1)}}};return b.useEffect(()=>{v()},[m,r]),{data:n,total:i,loading:l,error:u,setFilters:h,clearFilters:()=>h({}),refetch:v}}class vx{static debounce(t,r){let n;return(...a)=>{clearTimeout(n),n=setTimeout(()=>t(...a),r)}}static highlightText(t,r){if(!r.trim())return t;const n=new RegExp(`(${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return t.replace(n,'<mark class="bg-yellow-200">$1</mark>')}static generateSuggestions(t=[],r=[],n=""){const a=[];return t.filter(i=>i.toLowerCase().includes(n.toLowerCase())).slice(0,3).forEach(i=>{a.push({text:i,category:"recent"})}),r.filter(i=>i.toLowerCase().includes(n.toLowerCase())&&!t.includes(i)).slice(0,5).forEach(i=>{a.push({text:i,category:"popular"})}),a}static buildSearchUrl(t,r="/search"){const n=new URLSearchParams;Object.entries(t).forEach(([i,o])=>{o!=null&&o!==""&&(Array.isArray(o)?o.length>0&&n.set(i,o.join(",")):typeof o=="object"&&o.start&&o.end?(n.set(`${i}Start`,o.start.toISOString()),n.set(`${i}End`,o.end.toISOString())):n.set(i,o.toString()))});const a=n.toString();return a?`${r}?${a}`:r}static parseSearchUrl(t){const r={},n=t.get("query");n&&(r.query=n);const a=t.get("category");a&&(r.category=a);const i=t.get("location");i&&(r.location=i);const o=t.get("priceMin");o&&(r.priceMin=Number(o));const l=t.get("priceMax");l&&(r.priceMax=Number(l));const c=t.get("rating");c&&(r.rating=Number(c));const u=t.get("serviceType");u&&(r.serviceType=u.split(","));const f=t.get("dateRangeStart"),d=t.get("dateRangeEnd");f&&d&&(r.dateRange={start:new Date(f),end:new Date(d)});const h=t.get("sortBy");h&&(r.sortBy=h);const m=t.get("sortOrder");return m&&(r.sortOrder=m),r}static formatResultsCount(t){return t===0?"No results":t===1?"1 result":t<1e3?`${t} results`:t<1e6?`${(t/1e3).toFixed(1)}K results`:`${(t/1e6).toFixed(1)}M results`}static saveRecentSearch(t,r=10){if(!t.trim())return;const n="recentSearches",i=JSON.parse(localStorage.getItem(n)||"[]").filter(l=>l!==t),o=[t,...i].slice(0,r);localStorage.setItem(n,JSON.stringify(o))}static getRecentSearches(){try{return JSON.parse(localStorage.getItem("recentSearches")||"[]")}catch{return[]}}static clearRecentSearches(){localStorage.removeItem("recentSearches")}}function xx(){const[e,t]=YC();Te();const[r,n]=b.useState(!1),[a,i]=b.useState(e.get("query")||""),o=vx.parseSearchUrl(e),[l,c]=b.useState(o),{data:u,total:f,loading:d,error:h}=Bbe("jobs",l,!0);b.useEffect(()=>{const p=vx.buildSearchUrl(l,"/search"),x=new URL(p,window.location.origin).searchParams;t(x)},[l,t]);const m=()=>{const p={...l,query:a};c(p),vx.saveRecentSearch(a)},v=p=>s.jsx(R,{className:"hover:shadow-md transition-shadow",children:s.jsxs(F,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:p.title||"Landscaping Job"}),s.jsx("p",{className:"text-gray-600 mb-3",children:p.description||"Professional landscaping service"}),s.jsx(B,{size:"sm",children:"View Details"})]})},p.id);return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Search Jobs"}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsx(Dbe,{value:a,onChange:i,onSearch:m,placeholder:"Search for landscaping jobs...",showFilters:!0,onToggleFilters:()=>n(!r),activeFilters:0,suggestions:[],onClear:()=>i("")}),r&&s.jsx(Lbe,{filters:l,onFiltersChange:c,onClose:()=>n(!1)})]}),s.jsx(Ube,{data:u,total:f,loading:d,error:h,query:a,renderItem:v})]})})}const Fbe=()=>{const[e,t]=b.useState([]),[r,n]=b.useState({rule_name:"",service_type:"lawn_mowing",base_price:0,seasonal_multiplier:1,urgency_multiplier:1,distance_rate:0,property_size_rate:0});b.useEffect(()=>{a()},[]);const a=async()=>{const{data:o}=await I.from("pricing_rules").select("*").eq("is_active",!0).order("service_type");o&&t(o)},i=async()=>{const{error:o}=await I.from("pricing_rules").insert([{...r,effective_start_date:new Date().toISOString().split("T")[0]}]);o||(a(),n({rule_name:"",service_type:"lawn_mowing",base_price:0,seasonal_multiplier:1,urgency_multiplier:1,distance_rate:0,property_size_rate:0}))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsx(V,{children:s.jsx(W,{children:"Advanced Pricing Engine"})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Rule Name"}),s.jsx(re,{value:r.rule_name,onChange:o=>n({...r,rule_name:o.target.value}),placeholder:"Summer Lawn Care"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Service Type"}),s.jsxs(ln,{value:r.service_type,onValueChange:o=>n({...r,service_type:o}),children:[s.jsx(Vr,{children:s.jsx(cn,{})}),s.jsxs(Wr,{children:[s.jsx(Pe,{value:"lawn_mowing",children:"Lawn Mowing"}),s.jsx(Pe,{value:"hedge_trimming",children:"Hedge Trimming"}),s.jsx(Pe,{value:"garden_maintenance",children:"Garden Maintenance"}),s.jsx(Pe,{value:"tree_pruning",children:"Tree Pruning"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Base Price ($)"}),s.jsx(re,{type:"number",value:r.base_price,onChange:o=>n({...r,base_price:parseFloat(o.target.value)})})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Seasonal Multiplier"}),s.jsx(re,{type:"number",step:"0.1",value:r.seasonal_multiplier,onChange:o=>n({...r,seasonal_multiplier:parseFloat(o.target.value)})})]})]}),s.jsx(B,{onClick:i,className:"w-full",children:"Create Pricing Rule"})]})]}),s.jsxs(R,{children:[s.jsx(V,{children:s.jsx(W,{children:"Active Pricing Rules"})}),s.jsx(F,{children:s.jsx("div",{className:"space-y-2",children:e.map(o=>s.jsxs("div",{className:"flex justify-between items-center p-3 border rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:o.rule_name}),s.jsx("div",{className:"text-sm text-gray-600",children:o.service_type.replace("_"," ")})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-bold",children:["$",o.base_price]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["x",o.seasonal_multiplier," seasonal"]})]})]},o.id))})})]})]})},zbe=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(""),[a,i]=b.useState(""),[o,l]=b.useState({totalReferrals:0,completedReferrals:0,totalEarnings:0});b.useEffect(()=>{u(),c()},[]);const c=()=>{const h="REF"+Math.random().toString(36).substr(2,8).toUpperCase();n(h)},u=async()=>{const{data:h}=await I.auth.getUser();if(!h.user)return;const{data:m}=await I.from("referrals").select("*").eq("referrer_id",h.user.id).order("created_at",{ascending:!1});m&&(t(m),l({totalReferrals:m.length,completedReferrals:m.filter(v=>v.status==="completed").length,totalEarnings:m.filter(v=>v.status==="completed").reduce((v,p)=>v+p.reward_amount,0)}))},f=async()=>{const{data:h}=await I.auth.getUser();if(!h.user||!a)return;const{error:m}=await I.from("referrals").insert([{referrer_id:h.user.id,referred_email:a,referral_code:r}]);m||(alert(`Referral sent to ${a}!`),i(""),c(),u())},d=()=>{const h=`${window.location.origin}/signup?ref=${r}`;navigator.clipboard.writeText(h),alert("Referral link copied to clipboard!")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(R,{children:s.jsx(F,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dd,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:o.totalReferrals}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Referrals"})]})]})})}),s.jsx(R,{children:s.jsx(F,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(I8,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:o.completedReferrals}),s.jsx("p",{className:"text-sm text-gray-600",children:"Completed"})]})]})})}),s.jsx(R,{children:s.jsx(F,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kr,{className:"h-8 w-8 text-yellow-600"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",o.totalEarnings]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Earnings"})]})]})})})]}),s.jsxs(R,{children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center space-x-2",children:[s.jsx(U8,{className:"h-5 w-5"}),s.jsx("span",{children:"Refer Friends & Earn $50"})]})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-green-800",children:"How it works:"}),s.jsxs("ol",{className:"list-decimal list-inside text-sm text-green-700 mt-2 space-y-1",children:[s.jsx("li",{children:"Share your referral code with friends"}),s.jsx("li",{children:"They sign up and complete their first job"}),s.jsx("li",{children:"You both earn $50 credit!"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Your Referral Code"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(re,{value:r,readOnly:!0}),s.jsx(B,{onClick:d,variant:"outline",children:"Copy Link"})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Send Direct Referral"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(re,{type:"email",value:a,onChange:h=>i(h.target.value),placeholder:"friend@example.com"}),s.jsx(B,{onClick:f,children:"Send Invite"})]})]})]})]})]}),s.jsxs(R,{children:[s.jsx(V,{children:s.jsx(W,{children:"Referral History"})}),s.jsx(F,{children:s.jsxs("div",{className:"space-y-3",children:[e.map(h=>s.jsxs("div",{className:"flex justify-between items-center p-3 border rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:h.referred_email}),s.jsx("div",{className:"text-sm text-gray-600",children:new Date(h.created_at).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ee,{variant:h.status==="completed"?"default":"secondary",children:h.status}),h.status==="completed"&&s.jsxs("span",{className:"text-green-600 font-semibold",children:["+$",h.reward_amount]})]})]},h.id)),e.length===0&&s.jsx("p",{className:"text-center text-gray-500 py-4",children:"No referrals yet"})]})})]})]})},Vbe=()=>{var d;const[e,t]=b.useState([]),[r,n]=b.useState(null),[a,i]=b.useState("monthly");b.useEffect(()=>{o(),l()},[]);const o=async()=>{const{data:h}=await I.from("subscription_plans").select("*").eq("is_active",!0).order("monthly_price");h&&t(h)},l=async()=>{const{data:h}=await I.auth.getUser();if(!h.user)return;const{data:m}=await I.from("user_subscriptions").select("plan_id, subscription_plans(plan_name)").eq("user_id",h.user.id).eq("status","active").single();m&&n(m.plan_id)},c=async h=>{const{data:m}=await I.auth.getUser();if(!m.user)return;const{error:v}=await I.from("user_subscriptions").upsert([{user_id:m.user.id,plan_id:h,status:"active",current_period_start:new Date().toISOString(),current_period_end:new Date(Date.now()+30*24*60*60*1e3).toISOString()}]);v||(n(h),alert("Subscription updated successfully!"))},u=h=>{switch(h){case"basic":return s.jsx(Bi,{className:"h-6 w-6 text-blue-600"});case"premium":return s.jsx(Aw,{className:"h-6 w-6 text-purple-600"});case"enterprise":return s.jsx(Fn,{className:"h-6 w-6 text-yellow-600"});default:return s.jsx(Bi,{className:"h-6 w-6"})}},f=h=>a==="monthly"?h.monthly_price:h.annual_price;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold",children:"Choose Your Plan"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Upgrade your landscaping business with premium features"}),s.jsx("div",{className:"flex justify-center mt-4",children:s.jsxs("div",{className:"bg-gray-100 p-1 rounded-lg",children:[s.jsx("button",{onClick:()=>i("monthly"),className:`px-4 py-2 rounded ${a==="monthly"?"bg-white shadow":""}`,children:"Monthly"}),s.jsx("button",{onClick:()=>i("annual"),className:`px-4 py-2 rounded ${a==="annual"?"bg-white shadow":""}`,children:"Annual (Save 20%)"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(h=>s.jsxs(R,{className:`relative ${r===h.id?"ring-2 ring-blue-500":""}`,children:[h.plan_type==="premium"&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsx(ee,{className:"bg-purple-600",children:"Most Popular"})}),s.jsxs(V,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-2",children:u(h.plan_type)}),s.jsx(W,{className:"text-xl",children:h.plan_name}),s.jsxs("div",{className:"text-3xl font-bold",children:["$",f(h),s.jsxs("span",{className:"text-sm font-normal text-gray-600",children:["/",a==="monthly"?"month":"year"]})]})]}),s.jsxs(F,{className:"space-y-4",children:[s.jsx("ul",{className:"space-y-2",children:h.features.features.map((m,v)=>s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(tc,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:m})]},v))}),s.jsx(B,{onClick:()=>c(h.id),className:"w-full",variant:r===h.id?"secondary":"default",disabled:r===h.id,children:r===h.id?"Current Plan":"Subscribe"})]})]},h.id))}),r&&s.jsxs(R,{children:[s.jsx(V,{children:s.jsx(W,{children:"Current Subscription"})}),s.jsx(F,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(d=e.find(h=>h.id===r))==null?void 0:d.plan_name}),s.jsx("p",{className:"text-sm text-gray-600",children:"Active subscription"})]}),s.jsx(B,{variant:"outline",children:"Manage Subscription"})]})})]})]})},Wbe=()=>{const[e,t]=b.useState({totalAssignments:0,autoAssignments:0,avgResponseTime:"2.3 hours"}),r=async()=>{try{const{data:a,error:i}=await I.functions.invoke("auto-job-assignment",{body:{jobId:"test-job-id"}});if(i)throw i;alert(`Auto-assignment completed! ${a.assignmentsCreated} landscapers notified.`)}catch(a){console.error("Auto-assignment failed:",a),alert("Auto-assignment failed. Please try again.")}},n=async()=>{try{const{data:a,error:i}=await I.functions.invoke("marketing-automation",{body:{campaignType:"email",targetAudience:{userType:"customer"},content:{name:"Spring Promotion",subject:"Spring Landscaping Special - 20% Off!",html:"<h1>Spring is here!</h1><p>Get 20% off your next landscaping service.</p>"}}});if(i)throw i;alert(`Campaign sent to ${a.sentCount} users!`)}catch(a){console.error("Campaign failed:",a),alert("Campaign failed. Please try again.")}};return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center space-x-2",children:[s.jsx(ar,{className:"h-8 w-8"}),s.jsx("span",{children:"Business Automation"})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage automated systems, pricing, referrals, and subscriptions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(R,{children:s.jsx(F,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Bi,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold",children:e.totalAssignments}),s.jsx("p",{className:"text-xs text-gray-600",children:"Auto Assignments"})]})]})})}),s.jsx(R,{children:s.jsx(F,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(us,{className:"h-6 w-6 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold",children:"94%"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Success Rate"})]})]})})}),s.jsx(R,{children:s.jsx(F,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dd,{className:"h-6 w-6 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold",children:"156"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Referrals"})]})]})})}),s.jsx(R,{children:s.jsx(F,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Aw,{className:"h-6 w-6 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold",children:"89"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Subscribers"})]})]})})})]}),s.jsxs(ps,{defaultValue:"assignments",className:"space-y-6",children:[s.jsxs(Wn,{className:"grid w-full grid-cols-5",children:[s.jsx(ye,{value:"assignments",children:"Auto Assignment"}),s.jsx(ye,{value:"pricing",children:"Pricing Engine"}),s.jsx(ye,{value:"referrals",children:"Referrals"}),s.jsx(ye,{value:"subscriptions",children:"Subscriptions"}),s.jsx(ye,{value:"marketing",children:"Marketing"})]}),s.jsx(Ne,{value:"assignments",children:s.jsxs(R,{children:[s.jsx(V,{children:s.jsx(W,{children:"Automated Job Assignment"})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-blue-800",children:"How it works:"}),s.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-700 mt-2 space-y-1",children:[s.jsx("li",{children:"Jobs are automatically scored based on landscaper ratings, distance, and availability"}),s.jsx("li",{children:"Top 3 best-matched landscapers receive instant notifications"}),s.jsx("li",{children:"First to accept gets the job, others are notified"}),s.jsxs("li",{children:["Average response time: ",e.avgResponseTime]})]})]}),s.jsx(B,{onClick:r,className:"w-full",children:"Test Auto Assignment"})]})]})}),s.jsx(Ne,{value:"pricing",children:s.jsx(Fbe,{})}),s.jsx(Ne,{value:"referrals",children:s.jsx(zbe,{})}),s.jsx(Ne,{value:"subscriptions",children:s.jsx(Vbe,{})}),s.jsx(Ne,{value:"marketing",children:s.jsxs(R,{children:[s.jsx(V,{children:s.jsx(W,{children:"Marketing Automation"})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-green-800",children:"Campaign Features:"}),s.jsxs("ul",{className:"list-disc list-inside text-sm text-green-700 mt-2 space-y-1",children:[s.jsx("li",{children:"Targeted email campaigns to customers and landscapers"}),s.jsx("li",{children:"Automated seasonal promotions"}),s.jsx("li",{children:"Push notifications for mobile users"}),s.jsx("li",{children:"Performance tracking and analytics"})]})]}),s.jsx(B,{onClick:n,className:"w-full",children:"Send Test Campaign"})]})]})})]})]})};function qbe(){const e=Te();return s.jsxs("div",{className:"min-h-screen bg-black relative overflow-hidden",children:[s.jsx(pn,{}),s.jsx(Gw,{}),s.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:s.jsxs("div",{className:"w-full max-w-4xl",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold bg-gradient-to-r from-emerald-400 via-emerald-300 to-emerald-400 bg-clip-text text-transparent mb-4 drop-shadow-[0_0_20px_rgba(16,185,129,0.5)]",children:"Get Started"}),s.jsx("p",{className:"text-gray-300 text-xl",children:"Choose how you'd like to join GreenScape Lux"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[s.jsxs(R,{className:"group bg-black/60 backdrop-blur-xl border border-emerald-500/30 hover:border-emerald-400 rounded-2xl p-8 transition-all duration-300 hover:shadow-2xl hover:shadow-emerald-500/40 transform hover:scale-[1.02] relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent rounded-2xl"}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-6 relative z-10",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 shadow-2xl shadow-emerald-500/50 group-hover:animate-pulse",children:s.jsx(Ar,{className:"w-10 h-10 text-black"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-4 group-hover:text-emerald-300 transition-colors",children:"Client Portal"}),s.jsx("p",{className:"text-lg text-gray-300 group-hover:text-emerald-200 transition-colors mb-6",children:"Request luxury landscaping services"}),s.jsx("div",{className:"space-y-4",children:s.jsxs(B,{onClick:()=>e("/client-login"),className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-black font-bold py-4 px-6 rounded-xl transition-all duration-300 transform hover:scale-[1.02] hover:shadow-[0_0_30px_rgba(16,185,129,0.6)] shadow-lg shadow-emerald-500/50 flex items-center justify-center",children:[s.jsx(Ar,{className:"w-5 h-5 mr-2"}),"Access Portal"]})})]})]})]}),s.jsxs(R,{className:"group bg-black/60 backdrop-blur-xl border border-emerald-500/30 hover:border-emerald-400 rounded-2xl p-8 transition-all duration-300 hover:shadow-2xl hover:shadow-emerald-500/40 transform hover:scale-[1.02] relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent rounded-2xl"}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-6 relative z-10",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 shadow-2xl shadow-emerald-500/50 group-hover:animate-pulse",children:s.jsx(Li,{className:"w-10 h-10 text-black"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-4 group-hover:text-emerald-300 transition-colors",children:"Professional Portal"}),s.jsx("p",{className:"text-lg text-gray-300 group-hover:text-emerald-200 transition-colors mb-6",children:"Join our network of elite landscaping professionals"}),s.jsx("div",{className:"space-y-4",children:s.jsxs(B,{onClick:()=>e("/pro-login"),className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-black font-bold py-4 px-6 rounded-xl transition-all duration-300 transform hover:scale-[1.02] hover:shadow-[0_0_30px_rgba(16,185,129,0.6)] shadow-lg shadow-emerald-500/50 flex items-center justify-center",children:[s.jsx(Li,{className:"w-5 h-5 mr-2"}),"Access Portal"]})})]})]})]})]}),s.jsx("div",{className:"text-center mt-12",children:s.jsx("p",{className:"text-gray-500 text-sm",children:"Need help choosing? Contact our support team"})})]})})]})}function Kbe({channelStats:e}){const{isConnected:t,connectionStatus:r,subscribe:n}=Yp(),[a,i]=b.useState(e),[o,l]=b.useState(!1);b.useEffect(()=>n("channel_stats_update",m=>{i(v=>({...v,[m.channel]:{...v==null?void 0:v[m.channel],...m.stats}})),l(!0),setTimeout(()=>l(!1),300)}),[n]);const c=a||{slack:{status:"healthy",successRate:98.5,lastSent:new Date,avgDeliveryTime:1.2,totalSent:1250,failures:18},email:{status:"healthy",successRate:99.1,lastSent:new Date,avgDeliveryTime:2.8,totalSent:892,failures:8},sms:{status:"degraded",successRate:94.2,lastSent:new Date,avgDeliveryTime:5.1,totalSent:156,failures:9}},u=h=>{switch(h){case"healthy":return s.jsx($e,{className:"h-5 w-5 text-green-600"});case"degraded":return s.jsx(fr,{className:"h-5 w-5 text-yellow-600"});case"down":return s.jsx(fr,{className:"h-5 w-5 text-red-600"});default:return s.jsx(fr,{className:"h-5 w-5 text-gray-600"})}},f=h=>{switch(h){case"healthy":return"bg-green-100 text-green-800";case"degraded":return"bg-yellow-100 text-yellow-800";case"down":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=[{name:"Slack",icon:s.jsx(Ui,{className:"h-6 w-6"}),stats:c.slack,description:"Real-time team notifications"},{name:"Email",icon:s.jsx(Ln,{className:"h-6 w-6"}),stats:c.email,description:"SMTP fallback notifications"},{name:"SMS",icon:s.jsx(Tw,{className:"h-6 w-6"}),stats:c.sms,description:"Critical alert notifications"}];return s.jsxs("div",{className:"space-y-4",children:[s.jsx(R,{className:`transition-all duration-300 ${o?"ring-2 ring-blue-500":""}`,children:s.jsx(V,{className:"pb-3",children:s.jsxs(W,{className:"flex items-center gap-2",children:[t?s.jsx(Ap,{className:"h-4 w-4 text-green-500"}):s.jsx(pO,{className:"h-4 w-4 text-red-500"}),"Real-time Status",s.jsx(ee,{variant:t?"default":"destructive",children:r})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:d.map(h=>s.jsxs(R,{className:"transition-all duration-300 hover:shadow-lg",children:[s.jsxs(V,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[h.icon,s.jsx(W,{className:"text-lg",children:h.name})]}),u(h.stats.status)]}),s.jsx("p",{className:"text-sm text-gray-600",children:h.description})]}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Status"}),s.jsx(ee,{className:f(h.stats.status),children:h.stats.status.charAt(0).toUpperCase()+h.stats.status.slice(1)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Success Rate"}),s.jsxs("span",{className:"text-sm font-bold text-green-600",children:[h.stats.successRate,"%"]})]}),s.jsx(Ci,{value:h.stats.successRate,className:"h-2"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Avg Delivery"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[h.stats.avgDeliveryTime,"s"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Last Sent"}),s.jsx("span",{className:"text-sm text-gray-600",children:h.stats.lastSent.toLocaleTimeString()})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 text-xs",children:[s.jsxs("div",{className:"text-center p-2 bg-green-50 rounded",children:[s.jsx("div",{className:"font-bold text-green-600",children:h.stats.totalSent}),s.jsx("div",{className:"text-green-600",children:"Sent"})]}),s.jsxs("div",{className:"text-center p-2 bg-red-50 rounded",children:[s.jsx("div",{className:"font-bold text-red-600",children:h.stats.failures}),s.jsx("div",{className:"text-red-600",children:"Failed"})]})]}),s.jsx("div",{className:"flex gap-2 pt-2",children:s.jsxs(B,{variant:"outline",size:"sm",className:"flex-1",children:[s.jsx(Yt,{className:"h-3 w-3 mr-1"}),"Test"]})})]})]},h.name))})]})}function Hbe(){const{isConnected:e,subscribe:t}=Yp(),[r,n]=b.useState({channelPerformance:[{channel:"Slack",sent:1250,delivered:1232,failed:18,avgDeliveryTime:1.2},{channel:"Email",sent:892,delivered:884,failed:8,avgDeliveryTime:2.8},{channel:"SMS",sent:156,delivered:147,failed:9,avgDeliveryTime:5.1}],hourlyTrends:[{hour:"12:00",sent:45,success:43,failed:2},{hour:"13:00",sent:52,success:51,failed:1},{hour:"14:00",sent:38,success:37,failed:1},{hour:"15:00",sent:61,success:58,failed:3},{hour:"16:00",sent:73,success:70,failed:3},{hour:"17:00",sent:89,success:85,failed:4},{hour:"18:00",sent:67,success:65,failed:2}],failureReasons:[{reason:"Network Timeout",count:15,percentage:45},{reason:"Invalid Recipient",count:8,percentage:24},{reason:"Rate Limit",count:6,percentage:18},{reason:"Service Unavailable",count:4,percentage:13}]}),[a,i]=b.useState({totalSent:2298,totalDelivered:2263,totalFailed:35,avgDeliveryTime:2.4,uptime:99.2});b.useEffect(()=>{const l=t("metrics_update",u=>{n(f=>({...f,...u}))}),c=t("live_metrics",u=>{i(f=>({...f,...u}))});return()=>{l(),c()}},[t]);const o=["#10B981","#F59E0B","#EF4444","#8B5CF6"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsx(R,{children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.totalSent}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Sent"})]})}),s.jsx(R,{children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.totalDelivered}),s.jsx("div",{className:"text-sm text-gray-600",children:"Delivered"})]})}),s.jsx(R,{children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.totalFailed}),s.jsx("div",{className:"text-sm text-gray-600",children:"Failed"})]})}),s.jsx(R,{children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[a.avgDeliveryTime,"s"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Avg Delivery"})]})}),s.jsx(R,{children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[a.uptime,"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Uptime"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(R,{children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(vl,{className:"h-5 w-5"}),"Channel Performance",e&&s.jsx(ee,{variant:"outline",className:"text-xs",children:"Live"})]})}),s.jsx(F,{children:s.jsx(bh,{width:"100%",height:300,children:s.jsxs(Nbe,{data:r.channelPerformance,children:[s.jsx(sp,{strokeDasharray:"3 3"}),s.jsx(Qi,{dataKey:"channel"}),s.jsx(eo,{}),s.jsx(Lr,{}),s.jsx(Ua,{dataKey:"delivered",fill:"#10B981",name:"Delivered"}),s.jsx(Ua,{dataKey:"failed",fill:"#EF4444",name:"Failed"})]})})})]}),s.jsxs(R,{children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-5 w-5"}),"Failure Analysis"]})}),s.jsx(F,{children:s.jsx(bh,{width:"100%",height:300,children:s.jsxs(Sbe,{children:[s.jsx(Zs,{data:r.failureReasons,cx:"50%",cy:"50%",labelLine:!1,label:({reason:l,percentage:c})=>`${l}: ${c}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:r.failureReasons.map((l,c)=>s.jsx(yg,{fill:o[c%o.length]},`cell-${c}`))}),s.jsx(Lr,{})]})})})]})]}),s.jsxs(R,{children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(Pr,{className:"h-5 w-5"}),"Hourly Delivery Trends"]})}),s.jsx(F,{children:s.jsx(bh,{width:"100%",height:300,children:s.jsxs(KM,{data:r.hourlyTrends,children:[s.jsx(sp,{strokeDasharray:"3 3"}),s.jsx(Qi,{dataKey:"hour"}),s.jsx(eo,{}),s.jsx(Lr,{}),s.jsx(Zi,{type:"monotone",dataKey:"success",stroke:"#10B981",strokeWidth:2,name:"Success"}),s.jsx(Zi,{type:"monotone",dataKey:"failed",stroke:"#EF4444",strokeWidth:2,name:"Failed"})]})})})]}),s.jsxs(R,{children:[s.jsx(V,{children:s.jsx(W,{children:"Detailed Channel Metrics"})}),s.jsx(F,{children:s.jsx("div",{className:"space-y-4",children:r.channelPerformance.map(l=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-medium",children:l.channel}),s.jsxs(ee,{variant:"outline",children:[(l.delivered/l.sent*100).toFixed(1),"% success"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-600",children:"Sent"}),s.jsx("div",{className:"font-bold",children:l.sent})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-600",children:"Delivered"}),s.jsx("div",{className:"font-bold text-green-600",children:l.delivered})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-600",children:"Failed"}),s.jsx("div",{className:"font-bold text-red-600",children:l.failed})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-600",children:"Avg Time"}),s.jsxs("div",{className:"font-bold",children:[l.avgDeliveryTime,"s"]})]})]})]},l.channel))})})]})]})}function Gbe(){const[e,t]=b.useState(""),[r,n]=b.useState("all"),[a,i]=b.useState("all"),o=[{id:"1",channel:"slack",type:"deployment_success",recipient:"#deployments",status:"delivered",timestamp:new Date(Date.now()-3e5),deliveryTime:1.2},{id:"2",channel:"email",type:"validation_failed",recipient:"dev-team@company.com",status:"delivered",timestamp:new Date(Date.now()-9e5),deliveryTime:2.8},{id:"3",channel:"sms",type:"critical_alert",recipient:"+1234567890",status:"failed",timestamp:new Date(Date.now()-18e5),deliveryTime:0,errorMessage:"Network timeout after 30s"}],l=d=>{switch(d){case"slack":return s.jsx(Ui,{className:"h-4 w-4"});case"email":return s.jsx(Ln,{className:"h-4 w-4"});case"sms":return s.jsx(Tw,{className:"h-4 w-4"});default:return null}},c=d=>{switch(d){case"delivered":return s.jsx($e,{className:"h-4 w-4 text-green-600"});case"failed":return s.jsx(Vt,{className:"h-4 w-4 text-red-600"});case"pending":return s.jsx(Pr,{className:"h-4 w-4 text-yellow-600"});default:return null}},u=d=>{switch(d){case"delivered":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},f=o.filter(d=>{const h=d.type.toLowerCase().includes(e.toLowerCase())||d.recipient.toLowerCase().includes(e.toLowerCase()),m=r==="all"||d.channel===r,v=a==="all"||d.status===a;return h&&m&&v});return s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsx(W,{children:"Notification History"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(qu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(re,{placeholder:"Search notifications...",value:e,onChange:d=>t(d.target.value),className:"pl-10"})]}),s.jsxs(ln,{value:r,onValueChange:n,children:[s.jsx(Vr,{className:"w-full sm:w-40",children:s.jsx(cn,{placeholder:"Channel"})}),s.jsxs(Wr,{children:[s.jsx(Pe,{value:"all",children:"All Channels"}),s.jsx(Pe,{value:"slack",children:"Slack"}),s.jsx(Pe,{value:"email",children:"Email"}),s.jsx(Pe,{value:"sms",children:"SMS"})]})]}),s.jsxs(ln,{value:a,onValueChange:i,children:[s.jsx(Vr,{className:"w-full sm:w-40",children:s.jsx(cn,{placeholder:"Status"})}),s.jsxs(Wr,{children:[s.jsx(Pe,{value:"all",children:"All Status"}),s.jsx(Pe,{value:"delivered",children:"Delivered"}),s.jsx(Pe,{value:"failed",children:"Failed"}),s.jsx(Pe,{value:"pending",children:"Pending"})]})]}),s.jsxs(B,{variant:"outline",children:[s.jsx(rc,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),s.jsx(F,{children:s.jsx("div",{className:"space-y-3",children:f.map(d=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[l(d.channel),s.jsx("span",{className:"font-medium capitalize",children:d.channel})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:d.type.replace("_"," ")}),s.jsx("div",{className:"text-sm text-gray-600",children:d.recipient})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm",children:d.timestamp.toLocaleTimeString()}),d.status==="delivered"&&s.jsxs("div",{className:"text-xs text-gray-500",children:[d.deliveryTime,"s"]}),d.errorMessage&&s.jsx("div",{className:"text-xs text-red-600 max-w-40 truncate",title:d.errorMessage,children:d.errorMessage})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[c(d.status),s.jsx(ee,{className:u(d.status),children:d.status})]})]})]},d.id))})})]})}function Ybe(){var g;const[e,t]=b.useState("slack"),[r,n]=b.useState(""),[a,i]=b.useState(""),[o,l]=b.useState("custom"),[c,u]=b.useState(!1),[f,d]=b.useState([]),h={deployment_success:{title:"Deployment Success",message:` Deployment completed successfully!

Commit: abc123
Branch: main
Duration: 2m 34s`},validation_failed:{title:"Validation Failed",message:` Environment validation failed!

Error: Missing STRIPE_SECRET_KEY
Action: Update environment variables`},critical_alert:{title:"Critical Alert",message:` CRITICAL: System experiencing high error rates

Error Rate: 15%
Affected Services: Payment Processing`}},m=async()=>{u(!0);const y=Date.now();await new Promise(N=>setTimeout(N,Math.random()*2e3+500));const w=Date.now()-y,S=Math.random()>.2,j={channel:e,status:S?"success":"failed",timestamp:new Date,responseTime:w,errorMessage:S?void 0:"Connection timeout after 30 seconds"};d(N=>[j,...N.slice(0,9)]),u(!1)},v=async()=>{const y=["slack","email","sms"];for(const w of y){u(!0);const S=Date.now();await new Promise(E=>setTimeout(E,Math.random()*1500+500));const j=Date.now()-S,N=Math.random()>.15,_={channel:w,status:N?"success":"failed",timestamp:new Date,responseTime:j,errorMessage:N?void 0:`${w} service unavailable`};d(E=>[_,...E])}u(!1)},p=y=>{switch(y){case"slack":return s.jsx(Ui,{className:"h-4 w-4"});case"email":return s.jsx(Ln,{className:"h-4 w-4"});case"sms":return s.jsx(Tw,{className:"h-4 w-4"});default:return null}},x=y=>{switch(y){case"success":return s.jsx($e,{className:"h-4 w-4 text-green-600"});case"failed":return s.jsx(Vt,{className:"h-4 w-4 text-red-600"});case"pending":return s.jsx(Pr,{className:"h-4 w-4 text-yellow-600"});default:return null}};return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(R,{children:[s.jsx(V,{children:s.jsx(W,{children:"Manual Test"})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Channel"}),s.jsxs(ln,{value:e,onValueChange:t,children:[s.jsx(Vr,{children:s.jsx(cn,{})}),s.jsxs(Wr,{children:[s.jsx(Pe,{value:"slack",children:"Slack"}),s.jsx(Pe,{value:"email",children:"Email"}),s.jsx(Pe,{value:"sms",children:"SMS"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Template"}),s.jsxs(ln,{value:o,onValueChange:l,children:[s.jsx(Vr,{children:s.jsx(cn,{})}),s.jsxs(Wr,{children:[s.jsx(Pe,{value:"custom",children:"Custom Message"}),s.jsx(Pe,{value:"deployment_success",children:"Deployment Success"}),s.jsx(Pe,{value:"validation_failed",children:"Validation Failed"}),s.jsx(Pe,{value:"critical_alert",children:"Critical Alert"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Recipient"}),s.jsx(re,{placeholder:e==="slack"?"#channel or @user":e==="email"?"email@example.com":"+1234567890",value:r,onChange:y=>n(y.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Message"}),s.jsx(ao,{placeholder:"Enter your test message...",rows:4,value:o==="custom"?a:((g=h[o])==null?void 0:g.message)||"",onChange:y=>i(y.target.value),disabled:o!=="custom"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{onClick:m,disabled:c||!r,className:"flex-1",children:[s.jsx(fO,{className:"h-4 w-4 mr-2"}),c?"Sending...":"Send Test"]}),s.jsxs(B,{variant:"outline",onClick:v,disabled:c,children:[s.jsx(uO,{className:"h-4 w-4 mr-2"}),"Test All"]})]})]})]}),s.jsxs(R,{children:[s.jsx(V,{children:s.jsx(W,{children:"Test Results"})}),s.jsx(F,{children:s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:f.length===0?s.jsx("div",{className:"text-center text-gray-500 py-8",children:"No test results yet. Run a test to see results here."}):f.map((y,w)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[p(y.channel),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium capitalize",children:y.channel}),s.jsx("div",{className:"text-sm text-gray-600",children:y.timestamp.toLocaleTimeString()})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm",children:[y.responseTime,"ms"]}),y.errorMessage&&s.jsx("div",{className:"text-xs text-red-600 max-w-32 truncate",title:y.errorMessage,children:y.errorMessage})]}),x(y.status)]})]},w))})})]})]})}const Jbe=()=>s.jsx(MI,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notification Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Real-time monitoring and management of all notification channels"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(ee,{variant:"outline",className:"text-green-600",children:[s.jsx(Ap,{className:"w-3 h-3 mr-1"}),"Live Monitoring Active"]})})]}),s.jsxs(ps,{defaultValue:"live",className:"space-y-6",children:[s.jsxs(Wn,{className:"grid w-full grid-cols-6",children:[s.jsxs(ye,{value:"live",className:"flex items-center gap-2",children:[s.jsx(vl,{className:"h-4 w-4"}),"Live Feed"]}),s.jsxs(ye,{value:"channels",className:"flex items-center gap-2",children:[s.jsx(Rn,{className:"h-4 w-4"}),"Channels"]}),s.jsxs(ye,{value:"metrics",className:"flex items-center gap-2",children:[s.jsx(Bi,{className:"h-4 w-4"}),"Metrics"]}),s.jsxs(ye,{value:"history",className:"flex items-center gap-2",children:[s.jsx($8,{className:"h-4 w-4"}),"History"]}),s.jsxs(ye,{value:"testing",className:"flex items-center gap-2",children:[s.jsx(mn,{className:"h-4 w-4"}),"Testing"]}),s.jsxs(ye,{value:"preferences",className:"flex items-center gap-2",children:[s.jsx(ar,{className:"h-4 w-4"}),"Push Settings"]})]}),s.jsx(Ne,{value:"live",children:s.jsx(gj,{})}),s.jsx(Ne,{value:"channels",children:s.jsx(Kbe,{})}),s.jsx(Ne,{value:"metrics",children:s.jsx(Hbe,{})}),s.jsx(Ne,{value:"history",children:s.jsx(Gbe,{})}),s.jsx(Ne,{value:"testing",children:s.jsx(Ybe,{})}),s.jsx(Ne,{value:"preferences",children:s.jsx(n5,{})})]})]})})});class Xbe{constructor(){Me(this,"cache",new Map);Me(this,"historicalData",[])}async generateQuote(t){try{const r=this.getCacheKey(t);if(this.cache.has(r))return De.info("Returning cached quote estimate"),this.cache.get(r);De.info("Generating new AI quote estimate");const{data:n,error:a}=await I.functions.invoke("ai-quote-analyzer",{body:t});if(a)throw De.error("AI quote generation failed:",a),new Error("Failed to generate quote estimate");const i=n;return this.cache.set(r,i),await this.storeQuoteData(t,i),De.info("AI quote generated successfully",{confidence:i.confidence}),i}catch(r){throw De.error("Quote generation error:",r),r}}async getHistoricalAccuracy(){try{const{data:t,error:r}=await I.from("quotes").select("estimated_price, final_price, created_at").not("final_price","is",null).limit(100);if(r)throw r;if(!t||t.length===0)return .85;const n=t.map(a=>{const i=1-Math.abs(a.final_price-a.estimated_price)/a.final_price;return Math.max(0,Math.min(1,i))});return n.reduce((a,i)=>a+i,0)/n.length}catch(t){return De.error("Failed to calculate historical accuracy:",t),.85}}async updateModelWithActual(t,r){try{await I.from("quotes").update({final_price:r,updated_at:new Date().toISOString()}).eq("id",t),De.info("Updated quote with actual price for ML training",{quoteId:t,actualPrice:r})}catch(n){De.error("Failed to update quote with actual price:",n)}}getCacheKey(t){return`${t.address}_${t.squareFootage}_${t.services.sort().join("_")}`}async storeQuoteData(t,r){try{await I.from("quotes").insert({address:t.address,square_footage:t.squareFootage,services:t.services,property_type:t.propertyType,estimated_price:r.estimatedPrice,confidence_score:r.confidence,breakdown:r.breakdown,recommendations:r.recommendations,created_at:new Date().toISOString()})}catch(n){De.warn("Failed to store quote data:",n)}}}const GM=new Xbe,Zbe=[{id:"lawn-mowing",label:"Lawn Mowing",price:"$0.15/sqft"},{id:"hedge-trimming",label:"Hedge Trimming",price:"$25/hour"},{id:"garden-maintenance",label:"Garden Maintenance",price:"$0.25/sqft"},{id:"tree-pruning",label:"Tree Pruning",price:"$75/tree"},{id:"landscape-design",label:"Landscape Design",price:"$2.50/sqft"}],Qbe=()=>{const[e,t]=b.useState({address:"",squareFootage:"",propertyType:"residential",services:[]}),[r,n]=b.useState([]),[a,i]=b.useState(null),[o,l]=b.useState(!1),[c,u]=b.useState(null),f=v=>{const p=v.target.files;p&&Array.from(p).forEach(x=>{const g=new FileReader;g.onload=y=>{var w;(w=y.target)!=null&&w.result&&n(S=>[...S,y.target.result])},g.readAsDataURL(x)})},d=v=>{t(p=>({...p,services:p.services.includes(v)?p.services.filter(x=>x!==v):[...p.services,v]}))},h=async()=>{if(!e.address||!e.squareFootage||e.services.length===0){De.warn("Incomplete quote form data");return}l(!0);try{const v={images:r,address:e.address,squareFootage:parseInt(e.squareFootage),services:e.services,propertyType:e.propertyType},p=await GM.generateQuote(v);i(p),De.info("Quote generated successfully")}catch(v){De.error("Quote generation failed:",v)}finally{l(!1)}},m=()=>{c&&a&&(i({...a,estimatedPrice:c,confidence:.9}),u(null))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(sO,{className:"h-5 w-5 text-blue-600"}),"AI-Powered Quote Estimation"]})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"address",children:"Property Address"}),s.jsxs("div",{className:"flex",children:[s.jsx(cs,{className:"h-4 w-4 mt-3 mr-2 text-gray-400"}),s.jsx(re,{id:"address",placeholder:"123 Main St, City, State",value:e.address,onChange:v=>t(p=>({...p,address:v.target.value}))})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"squareFootage",children:"Square Footage"}),s.jsx(re,{id:"squareFootage",type:"number",placeholder:"5000",value:e.squareFootage,onChange:v=>t(p=>({...p,squareFootage:v.target.value}))})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Services Required"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:Zbe.map(v=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hu,{id:v.id,checked:e.services.includes(v.id),onCheckedChange:()=>d(v.id)}),s.jsxs(de,{htmlFor:v.id,className:"text-sm",children:[v.label," ",s.jsxs("span",{className:"text-gray-500",children:["(",v.price,")"]})]})]},v.id))})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"images",children:"Property Images"}),s.jsxs("div",{className:"mt-2",children:[s.jsx("input",{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:f,className:"hidden"}),s.jsxs(B,{type:"button",variant:"outline",onClick:()=>{var v;return(v=document.getElementById("images"))==null?void 0:v.click()},className:"w-full",children:[s.jsx(mO,{className:"h-4 w-4 mr-2"}),"Upload Property Images (",r.length," selected)"]})]})]}),s.jsx(B,{onClick:h,disabled:o,className:"w-full",children:o?"Analyzing...":"Generate AI Quote"})]})]}),a&&s.jsxs(R,{children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(kr,{className:"h-5 w-5 text-green-600"}),"Quote Estimate"]}),s.jsxs(ee,{variant:a.confidence>.8?"default":"secondary",children:[Math.round(a.confidence*100),"% Confidence"]})]})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["$",a.estimatedPrice.toFixed(2)]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Price Breakdown"}),Object.entries(a.breakdown).map(([v,p])=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"capitalize",children:v.replace("-"," ")}),s.jsxs("span",{children:["$",p.toFixed(2)]})]},v))]}),a.recommendations.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"AI Recommendations"}),s.jsx("ul",{className:"list-disc list-inside space-y-1",children:a.recommendations.map((v,p)=>s.jsx("li",{className:"text-sm text-gray-600",children:v},p))})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Manual Override"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(re,{type:"number",placeholder:"Enter custom price",value:c||"",onChange:v=>u(parseFloat(v.target.value))}),s.jsx(B,{onClick:m,variant:"outline",children:"Apply"})]})]})]})]})]})},ewe=[{season:"spring",multiplier:1.2,description:"High demand season"},{season:"summer",multiplier:1,description:"Standard pricing"},{season:"fall",multiplier:1.1,description:"Cleanup season"},{season:"winter",multiplier:.8,description:"Low demand season"}],twe=()=>{const[e,t]=b.useState(ewe),[r,n]=b.useState(""),[a,i]=b.useState(0),[o,l]=b.useState(!1);b.useEffect(()=>{const m=new Date().getMonth();let v="summer";m>=2&&m<=4?v="spring":m>=8&&m<=10?v="fall":(m===11||m<=1)&&(v="winter"),n(v),c()},[]);const c=async()=>{try{const m=await GM.getHistoricalAccuracy();i(m)}catch(m){De.error("Failed to load historical accuracy:",m)}},u=(m,v)=>{t(p=>p.map(x=>x.season===m?{...x,multiplier:v}:x))},f=()=>{localStorage.setItem("seasonalMultipliers",JSON.stringify(e)),l(!1),De.info("Seasonal multipliers updated")},d=()=>{var m;return((m=e.find(v=>v.season===r))==null?void 0:m.multiplier)||1},h=m=>({spring:"",summer:"",fall:"",winter:""})[m]||"";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(dr,{className:"h-5 w-5 text-blue-600"}),"Seasonal Pricing Engine"]})}),s.jsxs(F,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl mb-2",children:[h(r)," ",r.charAt(0).toUpperCase()+r.slice(1)]}),s.jsx(ee,{variant:"outline",children:"Current Season"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600 mb-2",children:[(d()*100).toFixed(0),"%"]}),s.jsx(ee,{variant:"outline",children:"Price Multiplier"})]})]}),s.jsx("div",{className:"space-y-3",children:e.map(({season:m,multiplier:v,description:p})=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xl",children:h(m)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium capitalize",children:m}),s.jsx("div",{className:"text-sm text-gray-500",children:p})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:o?s.jsx(re,{type:"number",step:"0.1",min:"0.1",max:"2.0",value:v,onChange:x=>u(m,parseFloat(x.target.value)),className:"w-20"}):s.jsxs(ee,{variant:m===r?"default":"secondary",children:[v,"x"]})})]},m))}),s.jsx("div",{className:"flex gap-2 mt-4",children:o?s.jsxs(s.Fragment,{children:[s.jsx(B,{onClick:f,className:"flex-1",children:"Save Changes"}),s.jsx(B,{onClick:()=>l(!1),variant:"outline",children:"Cancel"})]}):s.jsxs(B,{onClick:()=>l(!0),variant:"outline",className:"flex-1",children:[s.jsx(ar,{className:"h-4 w-4 mr-2"}),"Edit Multipliers"]})})]})]}),s.jsxs(R,{children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(us,{className:"h-5 w-5 text-green-600"}),"Model Performance"]})}),s.jsxs(F,{children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[(a*100).toFixed(1),"%"]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Historical Accuracy"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[d()>1?"+":"",((d()-1)*100).toFixed(0),"%"]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Current Adjustment"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"AI + Seasonal"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Pricing Model"})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Current Season Impact:"})," ",r==="spring"?"Prices increased due to high demand":r==="summer"?"Standard pricing in effect":r==="fall"?"Slight increase for cleanup services":"Reduced pricing for winter season"]})})]})]})]})},rwe=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"AI Quote Estimation Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Leverage machine learning and computer vision for accurate landscaping quotes"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[s.jsxs(R,{children:[s.jsx(V,{className:"pb-2",children:s.jsxs(W,{className:"flex items-center gap-2 text-lg",children:[s.jsx(sO,{className:"h-5 w-5 text-blue-600"}),"AI Analysis"]})}),s.jsxs(F,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:"GPT-4 Vision"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Advanced image analysis for property assessment"})]})]}),s.jsxs(R,{children:[s.jsx(V,{className:"pb-2",children:s.jsxs(W,{className:"flex items-center gap-2 text-lg",children:[s.jsx(aO,{className:"h-5 w-5 text-green-600"}),"ML Training"]})}),s.jsxs(F,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:"Historical Data"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Continuous learning from completed jobs"})]})]}),s.jsxs(R,{children:[s.jsx(V,{className:"pb-2",children:s.jsxs(W,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Bi,{className:"h-5 w-5 text-purple-600"}),"Instant Quotes"]})}),s.jsxs(F,{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:"Real-time"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Generate accurate quotes in seconds"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[s.jsx("div",{children:s.jsx(Qbe,{})}),s.jsx("div",{children:s.jsx(twe,{})})]}),s.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"How AI Quote Estimation Works"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl",children:""})}),s.jsx("h4",{className:"font-medium mb-2",children:"Image Analysis"}),s.jsx("p",{className:"text-sm text-gray-600",children:"AI analyzes property photos to identify lawn area, landscaping complexity, and maintenance needs"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl",children:""})}),s.jsx("h4",{className:"font-medium mb-2",children:"Location Data"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Google Maps integration provides climate data, accessibility, and regional pricing factors"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl",children:""})}),s.jsx("h4",{className:"font-medium mb-2",children:"Smart Pricing"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Machine learning models trained on historical data provide accurate, competitive quotes"})]})]})]})]})});function to({children:e,activeTab:t="overview"}){const r=Te();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs(B,{variant:"ghost",onClick:()=>r("/client-dashboard"),className:"text-white hover:text-green-400 hover:bg-slate-800",children:[s.jsx(mr,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Payment Management"}),s.jsx("p",{className:"text-lg text-gray-300",children:"Manage your payment methods, subscriptions, and billing"})]}),s.jsx("div",{className:"w-24"})," "]}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"inline-flex bg-slate-800 border border-slate-700 rounded-lg p-1",children:[s.jsxs("button",{onClick:()=>r("/payments/overview"),className:`flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-all ${t==="overview"?"bg-green-600 text-white shadow-md":"text-gray-300 hover:text-white hover:bg-slate-700"}`,children:[s.jsx(us,{className:"h-4 w-4"}),"Overview"]}),s.jsxs("button",{onClick:()=>r("/payments/methods"),className:`flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-all ${t==="methods"?"bg-green-600 text-white shadow-md":"text-gray-300 hover:text-white hover:bg-slate-700"}`,children:[s.jsx(Et,{className:"h-4 w-4"}),"Methods"]}),s.jsxs("button",{onClick:()=>r("/payments/subscriptions"),className:`flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-all ${t==="subscriptions"?"bg-green-600 text-white shadow-md":"text-gray-300 hover:text-white hover:bg-slate-700"}`,children:[s.jsx(Yh,{className:"h-4 w-4"}),"Subscriptions"]}),s.jsxs("button",{onClick:()=>r("/payments/security"),className:`flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-all ${t==="security"?"bg-green-600 text-white shadow-md":"text-gray-300 hover:text-white hover:bg-slate-700"}`,children:[s.jsx(mn,{className:"h-4 w-4"}),"Security"]})]})})}),s.jsx("div",{className:"max-w-6xl mx-auto",children:e})]})})}function nwe(){var g;const{user:e}=Kw(),[t,r]=b.useState({totalRevenue:0,pendingPayments:0,completedPayments:0,refundedAmount:0,monthlyRevenue:0,subscriptionRevenue:0}),[n,a]=b.useState([]),[i,o]=b.useState(!0),[l,c]=b.useState(!1),{toast:u}=Gs(),f=(e==null?void 0:e.id)||"demo-user-123",d=((g=e==null?void 0:e.user_metadata)==null?void 0:g.role)||"client";b.useEffect(()=>{h()},[f,d]);const h=async()=>{try{o(!0);let y=I.from("payments").select("*");d==="client"?y=y.eq("client_id",f):d==="landscaper"&&(y=y.eq("landscaper_id",f));const{data:w,error:S}=await y.order("created_at",{ascending:!1});if(S&&S.code!=="PGRST116")throw S;const j=w||[];a(j);const N=new Date().getMonth(),_=new Date().getFullYear(),E={totalRevenue:j.filter(k=>k.status==="succeeded").reduce((k,A)=>k+(A.amount||0),0),pendingPayments:j.filter(k=>k.status==="pending").length,completedPayments:j.filter(k=>k.status==="succeeded").length,refundedAmount:j.filter(k=>k.status==="refunded").reduce((k,A)=>k+(A.amount||0),0),monthlyRevenue:j.filter(k=>{const A=new Date(k.created_at);return k.status==="succeeded"&&A.getMonth()===N&&A.getFullYear()===_}).reduce((k,A)=>k+(A.amount||0),0),subscriptionRevenue:j.filter(k=>k.status==="succeeded"&&k.subscription_id).reduce((k,A)=>k+(A.amount||0),0)};r(E)}catch(y){console.error("Error fetching payment data:",y),u({title:"Error",description:"Failed to load payment data",variant:"destructive"})}finally{o(!1)}},m=async()=>{c(!0),await h(),c(!1),u({title:"Refreshed",description:"Payment data has been updated"})},v=async y=>{try{const{data:w,error:S}=await I.functions.invoke("generate-invoice",{body:{transactionId:y,userId:f}});if(S)throw S;const j=new Blob([w],{type:"application/pdf"}),N=window.URL.createObjectURL(j),_=document.createElement("a");_.href=N,_.download=`invoice-${y}.pdf`,_.click(),u({title:"Success",description:"Invoice downloaded successfully"})}catch{u({title:"Error",description:"Failed to download invoice",variant:"destructive"})}},p=y=>{const w={succeeded:{label:"Completed",color:"bg-green-100 text-green-800"},pending:{label:"Pending",color:"bg-yellow-100 text-yellow-800"},failed:{label:"Failed",color:"bg-red-100 text-red-800"},refunded:{label:"Refunded",color:"bg-gray-100 text-gray-800"}},S=w[y]||w.pending;return s.jsx(ee,{className:S.color,children:S.label})},x=({title:y,value:w,icon:S,color:j,trend:N})=>s.jsx(R,{className:"bg-slate-800 border-slate-700 hover:bg-slate-750 transition-colors",children:s.jsx(F,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-300",children:y}),s.jsx("p",{className:"text-2xl font-bold text-white",children:w}),N&&s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:N})]}),s.jsx(S,{className:`h-8 w-8 ${j}`})]})})});return i?s.jsx(to,{activeTab:"overview",children:s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(y=>s.jsx(R,{className:"bg-slate-800 border-slate-700",children:s.jsx(F,{className:"p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-slate-600 rounded mb-2"}),s.jsx("div",{className:"h-8 bg-slate-600 rounded"})]})})},y))})})}):s.jsx(to,{activeTab:"overview",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Payment Overview"}),s.jsxs(B,{variant:"outline",onClick:m,disabled:l,className:"border-slate-600 text-white hover:bg-slate-700",children:[s.jsx(Yt,{className:`h-4 w-4 mr-2 ${l?"animate-spin":""}`}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(x,{title:d==="client"?"Total Spent":"Total Revenue",value:`$${(t.totalRevenue/100).toFixed(2)}`,icon:kr,color:"text-green-400",trend:"+12% from last month"}),s.jsx(x,{title:"This Month",value:`$${(t.monthlyRevenue/100).toFixed(2)}`,icon:us,color:"text-blue-400"}),s.jsx(x,{title:"Pending Payments",value:t.pendingPayments,icon:Pr,color:"text-yellow-400"}),s.jsx(x,{title:"Completed",value:t.completedPayments,icon:$e,color:"text-green-400"}),s.jsx(x,{title:"Subscriptions",value:`$${(t.subscriptionRevenue/100).toFixed(2)}`,icon:Yh,color:"text-purple-400"}),s.jsx(x,{title:"Refunded",value:`$${(t.refundedAmount/100).toFixed(2)}`,icon:fr,color:"text-red-400"})]}),s.jsxs(R,{className:"bg-slate-800 border-slate-700",children:[s.jsx(V,{children:s.jsxs(W,{className:"text-white flex items-center gap-2",children:[s.jsx(Et,{className:"h-5 w-5"}),"Recent Transactions"]})}),s.jsx(F,{children:n.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Yh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No transactions yet"}),s.jsx("p",{className:"text-gray-400",children:"Your payment history will appear here"})]}):s.jsx("div",{className:"space-y-4",children:n.slice(0,10).map(y=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[s.jsx("p",{className:"font-medium text-white truncate",children:y.description||"Payment"}),s.jsx("p",{className:"text-sm text-gray-400",children:new Date(y.created_at).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"font-semibold text-white",children:["$",(y.amount/100).toFixed(2)]}),p(y.status),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>v(y.id),className:"border-slate-600 text-white hover:bg-slate-600",children:s.jsx(rc,{className:"h-4 w-4"})})]})]},y.id))})})]})]})})}function swe(){const{user:e}=Kw(),[t,r]=b.useState([]),[n,a]=b.useState(!0),[i,o]=b.useState(!1),[l,c]=b.useState(!1),[u,f]=b.useState(!1),[d,h]=b.useState({number:"",expiry:"",cvc:"",name:""}),{toast:m}=Gs(),v=(e==null?void 0:e.id)||"demo-user-123";b.useEffect(()=>{p()},[v]);const p=async()=>{try{a(!0);const{data:N,error:_}=await I.functions.invoke("get-payment-methods",{body:{userId:v}});if(_)throw _;r((N==null?void 0:N.paymentMethods)||[])}catch(N){console.error("Error fetching payment methods:",N),m({title:"Error",description:"Failed to load payment methods",variant:"destructive"})}finally{a(!1)}},x=async()=>{f(!0),await p(),f(!1),m({title:"Refreshed",description:"Payment methods updated"})},g=async()=>{try{o(!0);const{data:N,error:_}=await I.functions.invoke("attach-payment-method",{body:{userId:v,cardData:d}});if(_)throw _;m({title:"Success",description:"Payment method added successfully"}),h({number:"",expiry:"",cvc:"",name:""}),c(!1),p()}catch{m({title:"Error",description:"Failed to add payment method",variant:"destructive"})}finally{o(!1)}},y=async N=>{try{const{error:_}=await I.functions.invoke("set-default-payment-method",{body:{userId:v,paymentMethodId:N}});if(_)throw _;m({title:"Success",description:"Default payment method updated"}),p()}catch{m({title:"Error",description:"Failed to update default payment method",variant:"destructive"})}},w=async N=>{try{const{error:_}=await I.functions.invoke("delete-payment-method",{body:{userId:v,paymentMethodId:N}});if(_)throw _;m({title:"Success",description:"Payment method removed"}),p()}catch{m({title:"Error",description:"Failed to remove payment method",variant:"destructive"})}},S=N=>s.jsx(Et,{className:"h-5 w-5 text-blue-400"}),j=(N,_,E)=>N==="expired"||_&&E&&new Date>new Date(E,_-1)?s.jsx(ee,{className:"bg-red-100 text-red-800",children:"Expired"}):N==="requires_action"?s.jsx(ee,{className:"bg-yellow-100 text-yellow-800",children:"Requires Action"}):s.jsx(ee,{className:"bg-green-100 text-green-800",children:"Active"});return n?s.jsx(to,{activeTab:"methods",children:s.jsxs(R,{className:"bg-slate-800 border-slate-700",children:[s.jsx(V,{children:s.jsx(W,{className:"text-white",children:"Payment Methods"})}),s.jsx(F,{children:s.jsx("div",{className:"space-y-4",children:[1,2].map(N=>s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-16 bg-slate-600 rounded-lg"})},N))})})]})}):s.jsx(to,{activeTab:"methods",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Payment Methods"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{variant:"outline",onClick:x,disabled:u,className:"border-slate-600 text-white hover:bg-slate-700",children:[s.jsx(Yt,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),"Refresh"]}),s.jsxs(Vd,{open:l,onOpenChange:c,children:[s.jsx(fW,{asChild:!0,children:s.jsxs(B,{className:"bg-green-600 hover:bg-green-700",children:[s.jsx(xl,{className:"h-4 w-4 mr-2"}),"Add Method"]})}),s.jsxs(cc,{className:"bg-slate-800 border-slate-700",children:[s.jsx(uc,{children:s.jsx(dc,{className:"text-white",children:"Add Payment Method"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"cardName",className:"text-gray-300",children:"Cardholder Name"}),s.jsx(re,{id:"cardName",value:d.name,onChange:N=>h(_=>({..._,name:N.target.value})),placeholder:"John Doe",className:"bg-slate-700 border-slate-600 text-white"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"cardNumber",className:"text-gray-300",children:"Card Number"}),s.jsx(re,{id:"cardNumber",value:d.number,onChange:N=>h(_=>({..._,number:N.target.value})),placeholder:"1234 5678 9012 3456",maxLength:19,className:"bg-slate-700 border-slate-600 text-white"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"expiry",className:"text-gray-300",children:"Expiry"}),s.jsx(re,{id:"expiry",value:d.expiry,onChange:N=>h(_=>({..._,expiry:N.target.value})),placeholder:"MM/YY",maxLength:5,className:"bg-slate-700 border-slate-600 text-white"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"cvc",className:"text-gray-300",children:"CVC"}),s.jsx(re,{id:"cvc",value:d.cvc,onChange:N=>h(_=>({..._,cvc:N.target.value})),placeholder:"123",maxLength:4,className:"bg-slate-700 border-slate-600 text-white"})]})]}),s.jsx(B,{onClick:g,disabled:i,className:"w-full bg-green-600 hover:bg-green-700",children:i?"Adding...":"Add Payment Method"})]})]})]})]})]}),s.jsxs(R,{className:"bg-slate-800 border-slate-700",children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2 text-white",children:[s.jsx(mn,{className:"h-5 w-5 text-green-400"}),"Stored Payment Methods"]})}),s.jsxs(F,{children:[t.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Et,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No payment methods"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"Add a payment method to get started"})]}):s.jsx("div",{className:"space-y-4",children:t.map(N=>{var _;return s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-700 rounded-lg hover:bg-slate-600 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[S(N.brand),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-medium text-white",children:[(_=N.brand)==null?void 0:_.toUpperCase(),"  ",N.last4]}),N.is_default&&s.jsxs(ee,{className:"bg-yellow-100 text-yellow-800 text-xs",children:[s.jsx(Fn,{className:"h-3 w-3 mr-1"}),"Default"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[N.exp_month&&N.exp_year&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(dr,{className:"h-3 w-3"}),N.exp_month.toString().padStart(2,"0"),"/",N.exp_year]}),j(N.status,N.exp_month,N.exp_year)]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!N.is_default&&s.jsx(B,{variant:"outline",size:"sm",onClick:()=>y(N.id),className:"border-slate-600 text-white hover:bg-slate-600",children:"Set Default"}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>w(N.id),className:"border-red-600 text-red-400 hover:bg-red-600 hover:text-white",children:s.jsx(Iw,{className:"h-4 w-4"})})]})]},N.id)})}),s.jsx("div",{className:"mt-6 p-4 bg-blue-900/30 rounded-lg border border-blue-500/30",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(mn,{className:"h-5 w-5 text-blue-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-300",children:"Secure Payment Processing"}),s.jsx("p",{className:"text-sm text-blue-200 mt-1",children:"Your payment information is encrypted and securely processed by Stripe. We never store your full card details on our servers."})]})]})})]})]})]})})}const awe=[{id:"basic_monthly",name:"Basic",amount:999,interval:"month",features:["Up to 3 requests/month","Email support","Mobile access"]},{id:"premium_monthly",name:"Premium",amount:2999,interval:"month",popular:!0,features:["Unlimited requests","Priority support","Advanced scheduling"]}];function iwe(){const{user:e}=Kw(),[t,r]=b.useState(null),[n,a]=b.useState(!0),{toast:i}=Gs(),o=(e==null?void 0:e.id)||"demo-user-123";b.useEffect(()=>{l()},[o]);const l=async()=>{try{const{data:u,error:f}=await I.from("subscriptions").select("*").eq("user_id",o).single();if(f&&f.code!=="PGRST116")throw f;r(u)}catch(u){console.error("Error:",u)}finally{a(!1)}},c=async u=>{try{const{data:f,error:d}=await I.functions.invoke("create-subscription",{body:{userId:o,planId:u}});if(d)throw d;f.checkoutUrl&&(window.location.href=f.checkoutUrl)}catch{i({title:"Error",description:"Failed to create subscription",variant:"destructive"})}};return n?s.jsx(to,{activeTab:"subscriptions",children:s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-32 bg-slate-700 rounded-lg"})})}):s.jsx(to,{activeTab:"subscriptions",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Subscriptions"}),t?s.jsxs(R,{className:"bg-slate-800 border-slate-700",children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2 text-white",children:[s.jsx(Aw,{className:"h-5 w-5 text-yellow-400"}),"Current Subscription"]})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg text-white",children:t.plan_name}),s.jsxs("p",{className:"text-gray-300",children:["$",(t.amount/100).toFixed(2),"/",t.interval]})]}),s.jsx(ee,{className:"bg-green-100 text-green-800",children:t.status})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[s.jsx(dr,{className:"h-4 w-4"}),"Next billing: ",new Date(t.current_period_end).toLocaleDateString()]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(B,{variant:"outline",className:"border-slate-600 text-white",children:[s.jsx(Et,{className:"h-4 w-4 mr-2"}),"Manage Billing"]}),s.jsx(B,{variant:"destructive",children:"Cancel Subscription"})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Choose Your Plan"}),s.jsx("p",{className:"text-gray-400",children:"Select the perfect plan for your needs"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:awe.map(u=>s.jsxs(R,{className:`bg-slate-800 border-slate-700 ${u.popular?"ring-2 ring-blue-500":""}`,children:[u.popular&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsxs(ee,{className:"bg-blue-500 text-white",children:[s.jsx(Fn,{className:"h-3 w-3 mr-1"}),"Popular"]})}),s.jsxs(V,{children:[s.jsx(W,{className:"text-white",children:u.name}),s.jsxs("div",{className:"text-3xl font-bold text-white",children:["$",(u.amount/100).toFixed(2),s.jsxs("span",{className:"text-lg font-normal text-gray-400",children:["/",u.interval]})]})]}),s.jsxs(F,{className:"space-y-4",children:[s.jsx("ul",{className:"space-y-2",children:u.features.map((f,d)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-300",children:[s.jsx(tc,{className:"h-4 w-4 text-green-400"}),f]},d))}),s.jsx(B,{className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>c(u.id),children:"Choose Plan"})]})]},u.id))})]})]})})}function owe(){return s.jsx(to,{activeTab:"security",children:s.jsxs(R,{className:"bg-slate-800 border-slate-700",children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2 text-white",children:[s.jsx(mn,{className:"h-5 w-5 text-green-400"}),"Security & Compliance"]})}),s.jsxs(F,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg text-white",children:"Payment Security"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"PCI DSS Level 1 Compliant"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"256-bit SSL Encryption"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Tokenized Card Storage"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"3D Secure Authentication"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg text-white",children:"Compliance"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"GDPR Compliant"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"SOC 2 Type II"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"CCPA Compliant"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"Regular Security Audits"]})]})]})]}),s.jsxs("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-500/30",children:[s.jsx("h4",{className:"font-medium text-blue-300 mb-2",children:"Data Protection"}),s.jsx("p",{className:"text-sm text-blue-200",children:"We never store your complete payment information on our servers. All sensitive data is securely processed and stored by Stripe, our PCI-compliant payment processor."})]})]})]})})}const lwe=({className:e="",size:t=16})=>s.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),s.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),gi=class gi{static getInstance(){return gi.instance||(gi.instance=new gi),gi.instance}checkLocalStorage(){const t={};try{const r=localStorage.getItem("GSL_SUPABASE_URL")||localStorage.getItem("supabaseUrl"),n=localStorage.getItem("GSL_SUPABASE_ANON")||localStorage.getItem("supabaseAnonKey");r&&(t.VITE_SUPABASE_URL=r),n&&(t.VITE_SUPABASE_ANON_KEY=n);const a=localStorage.getItem("STRIPE_PUBLISHABLE_KEY")||localStorage.getItem("GSL_STRIPE_KEY"),i=localStorage.getItem("GOOGLE_MAPS_API_KEY")||localStorage.getItem("GSL_MAPS_KEY"),o=localStorage.getItem("RESEND_API_KEY")||localStorage.getItem("GSL_RESEND_KEY");a&&(t.VITE_STRIPE_PUBLISHABLE_KEY=a),i&&(t.VITE_GOOGLE_MAPS_API_KEY=i),o&&(t.VITE_RESEND_API_KEY=o)}catch(r){console.error("Error checking localStorage:",r)}return{name:"localStorage",keys:t,source:"localStorage"}}checkQueryParams(){const t={};try{const r=new URLSearchParams(window.location.search),n=r.get("sb");if(n)try{const c=atob(n),[u,f]=c.split("|");u&&(t.VITE_SUPABASE_URL=u),f&&(t.VITE_SUPABASE_ANON_KEY=f)}catch{console.warn("Failed to decode sb parameter")}const a=r.get("supabase_url"),i=r.get("supabase_anon"),o=r.get("stripe_key"),l=r.get("maps_key");a&&(t.VITE_SUPABASE_URL=a),i&&(t.VITE_SUPABASE_ANON_KEY=i),o&&(t.VITE_STRIPE_PUBLISHABLE_KEY=o),l&&(t.VITE_GOOGLE_MAPS_API_KEY=l)}catch(r){console.error("Error checking query params:",r)}return{name:"queryParams",keys:t,source:"queryParams"}}getAllSources(){return[this.checkLocalStorage(),this.checkQueryParams()]}generateEnvContent(){const t=this.getAllSources(),r={};return t.forEach(a=>{Object.assign(r,a.keys)}),`# Supabase Configuration
# For Vercel deployment, add these exact values as environment variables:
VITE_SUPABASE_URL=${r.VITE_SUPABASE_URL||"https://mwvcbedvnimabfwubazz.supabase.co"}
VITE_SUPABASE_ANON_KEY=${r.VITE_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY"}
VITE_SUPABASE_FUNCTIONS_URL=https://mwvcbedvnimabfwubazz.functions.supabase.co
VITE_SITE_URL=https://greenscapelux.com

# Admin Email Configuration
VITE_ADMIN_EMAIL=cmatthews@greenscapelux.com

# Development Settings
VITE_APP_ENV=development


# Stripe Configuration (Required for payments)
# Get these from https://dashboard.stripe.com/apikeys
VITE_STRIPE_PUBLISHABLE_KEY=${r.VITE_STRIPE_PUBLISHABLE_KEY||"pk_test_your_publishable_key_here"}
VITE_STRIPE_SECRET_KEY=${r.VITE_STRIPE_SECRET_KEY||"sk_test_your_secret_key_here"}
VITE_STRIPE_WEBHOOK_SECRET=${r.VITE_STRIPE_WEBHOOK_SECRET||"whsec_your_webhook_secret_here"}

# Google Maps API (Required for location services)
# Get from https://console.cloud.google.com/apis/credentials
VITE_GOOGLE_MAPS_API_KEY=${r.VITE_GOOGLE_MAPS_API_KEY||"your-google-maps-api-key-here"}

# Resend Email API (Optional for notifications)
# Get from https://resend.com/api-keys
VITE_RESEND_API_KEY=${r.VITE_RESEND_API_KEY||"re_your_resend_api_key_here"}`}generateReport(){const t=this.getAllSources();let r=` API Key Discovery Report
`;return r+="=".repeat(50)+`

`,t.forEach(n=>{const a=Object.keys(n.keys).length;r+=` ${n.name} (${a} keys found):
`,a===0?r+=`  No API keys found

`:(Object.entries(n.keys).forEach(([i,o])=>{const l=o.length>10?`${o.slice(0,6)}...${o.slice(-4)}`:o;r+=`   ${i}: ${l}
`}),r+=`
`)}),r}};Me(gi,"instance");let cp=gi;const xk={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GOOGLE_MAPS_API_KEY:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY",VITE_SUPABASE_URL:"https://mwvcbedvnimabfwubazz.supabase.co"},vi=class vi{constructor(){Me(this,"updateQueue",[]);Me(this,"isProcessing",!1)}static getInstance(){return vi.instance||(vi.instance=new vi),vi.instance}queueUpdate(t,r){const n={key:t,value:r,timestamp:new Date};this.updateQueue=this.updateQueue.filter(a=>a.key!==t),this.updateQueue.push(n),console.log(` Queued env update: ${t}`),this.isProcessing||this.processQueue()}async processQueue(){if(!(this.updateQueue.length===0||this.isProcessing)){this.isProcessing=!0;try{const t=[...this.updateQueue];this.updateQueue=[],await this.applyUpdates(t),console.log(` Applied ${t.length} environment updates`)}catch(t){console.error(" Failed to process env updates:",t),this.updateQueue.unshift(...this.updateQueue)}finally{this.isProcessing=!1,this.updateQueue.length>0&&setTimeout(()=>this.processQueue(),1e3)}}}async applyUpdates(t){t.forEach(n=>{localStorage.setItem(`GSL_${n.key}`,n.value),localStorage.setItem(n.key,n.value),typeof window<"u"&&window.ENV&&(window.ENV[n.key]=n.value)});const r=new CustomEvent("env-file-updated",{detail:{updates:t}});window.dispatchEvent(r)}logEnvFileContent(t){console.group(" .env.local file content:");const n={...this.getCurrentEnvVars()};t.forEach(a=>{n[a.key]=a.value}),Object.entries(n).forEach(([a,i])=>{console.log(`${a}=${i}`)}),console.groupEnd()}getCurrentEnvVars(){const t={};typeof window<"u"&&xk&&Object.entries(xk).forEach(([r,n])=>{typeof n=="string"&&(t[r]=n)});for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);if(n!=null&&n.startsWith("GSL_")||n!=null&&n.startsWith("VITE_")){const a=n.startsWith("GSL_")?n.slice(4):n;t[a]=localStorage.getItem(n)||""}}return t}generateEnvFileContent(){const t=this.getCurrentEnvVars();return`# Auto-generated .env.local file
# Last updated: ${new Date().toISOString()}

# Supabase Configuration
VITE_SUPABASE_URL=${t.VITE_SUPABASE_URL||"https://mwvcbedvnimabfwubazz.supabase.co"}
VITE_SUPABASE_ANON_KEY=${t.VITE_SUPABASE_ANON_KEY||"your-supabase-anon-key"}
VITE_SUPABASE_FUNCTIONS_URL=https://mwvcbedvnimabfwubazz.functions.supabase.co
VITE_SITE_URL=https://greenscapelux.com

# Admin Configuration
VITE_ADMIN_EMAIL=cmatthews@greenscapelux.com

# Development Settings
VITE_APP_ENV=development

# API Keys
VITE_STRIPE_PUBLISHABLE_KEY=${t.VITE_STRIPE_PUBLISHABLE_KEY||"pk_test_your_stripe_key"}
VITE_GOOGLE_MAPS_API_KEY=${t.VITE_GOOGLE_MAPS_API_KEY||"your-google-maps-key"}
VITE_RESEND_API_KEY=${t.VITE_RESEND_API_KEY||"re_your_resend_key"}
`}getPendingUpdatesCount(){return this.updateQueue.length}isProcessingUpdates(){return this.isProcessing}};Me(vi,"instance");let Nb=vi;const xi=class xi{constructor(){Me(this,"intervalId",null);Me(this,"status",{isRunning:!1,lastSync:null,syncCount:0,errors:[],discoveredKeys:{}});Me(this,"SYNC_INTERVAL",3e4);Me(this,"MAX_ERRORS",10)}static getInstance(){return xi.instance||(xi.instance=new xi),xi.instance}start(){if(typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1")){console.log(" Production environment detected - skipping AutoSync service");return}if(this.status.isRunning){console.log(" AutoSync already running");return}console.log(" Starting AutoSync service..."),this.status.isRunning=!0,this.performSync(),this.intervalId=window.setInterval(()=>{this.performSync()},this.SYNC_INTERVAL)}stop(){this.status.isRunning&&(console.log(" Stopping AutoSync service..."),this.status.isRunning=!1,this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null))}async performSync(){try{const r=cp.getInstance().getAllSources(),n={};r.forEach(a=>{Object.entries(a.keys).forEach(([i,o])=>{(!this.status.discoveredKeys[i]||this.status.discoveredKeys[i]!==o)&&(n[i]=o)})}),Object.keys(n).length>0&&(console.log(" New API keys discovered:",Object.keys(n)),this.status.discoveredKeys={...this.status.discoveredKeys,...n},await this.updateEnvironment(n),this.notifyEnvironmentChange(n)),this.status.lastSync=new Date,this.status.syncCount++}catch(t){const r=t instanceof Error?t.message:"Unknown sync error";this.status.errors.push(`${new Date().toISOString()}: ${r}`),this.status.errors.length>this.MAX_ERRORS&&(this.status.errors=this.status.errors.slice(-this.MAX_ERRORS)),console.error(" AutoSync error:",t)}}async updateEnvironment(t){try{if(!(typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1")))try{const n=Nb.getInstance();Object.entries(t).forEach(([a,i])=>{n.queueUpdate(a,i)})}catch(n){console.warn("Failed to update .env file:",n)}Object.entries(t).forEach(([n,a])=>{localStorage.setItem(`GSL_${n}`,a)}),Object.entries(t).forEach(([n,a])=>{window.ENV&&(window.ENV[n]=a)}),console.log(" Environment updated with new keys")}catch(r){throw console.error(" Failed to update environment:",r),r}}notifyEnvironmentChange(t){const r=new CustomEvent("env-keys-updated",{detail:{newKeys:t,allKeys:this.status.discoveredKeys}});window.dispatchEvent(r)}getStatus(){return{...this.status}}async forcSync(){console.log(" Force sync requested..."),await this.performSync()}clearErrors(){this.status.errors=[]}};Me(xi,"instance");let Sb=xi;class Pi{static getStatus(){return{...this.syncStatus}}static discoverKeys(){const t={};try{const r=localStorage.getItem("famous_setup");if(r){const a=JSON.parse(r);t.supabaseUrl=a.supabaseUrl,t.supabaseAnonKey=a.supabaseAnonKey,t.stripePublishableKey=a.stripePublishableKey,t.stripeSecretKey=a.stripeSecretKey,t.googleMapsApiKey=a.googleMapsApiKey,t.resendApiKey=a.resendApiKey}["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY","VITE_STRIPE_PUBLISHABLE_KEY","VITE_STRIPE_SECRET_KEY","VITE_GOOGLE_MAPS_API_KEY","VITE_RESEND_API_KEY"].forEach(a=>{const i=localStorage.getItem(a);if(i){const o=a.replace(/^VITE_/,"").toLowerCase().replace(/_([a-z])/g,(l,c)=>c.toUpperCase());t[o]=i}}),this.syncStatus.keysFound=Object.keys(t).filter(a=>t[a])}catch(r){this.syncStatus.errors.push(`Discovery error: ${r}`)}return t}static async syncToProduction(){if(typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1"))return console.info(" Production environment detected - using build-time environment variables"),!0;try{this.syncStatus.isRunning=!0,this.syncStatus.errors=[];const r=this.discoverKeys(),n=Object.keys(r).length;return n>0?(console.info(` Discovered ${n} API keys from Famous setup`),this.syncStatus.lastSync=new Date,!0):!1}catch(r){return this.syncStatus.errors.push(`Sync error: ${r}`),!1}finally{this.syncStatus.isRunning=!1}}static validateProductionConfig(){return typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1")?typeof import.meta<"u"&&"https://mwvcbedvnimabfwubazz.supabase.co"&&(typeof import.meta<"u"&&"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY")?{isValid:!0,message:"Production environment variables detected"}:{isValid:!1,message:"Production deployment missing environment variables. Using fallback configuration."}:{isValid:!0,message:"Development environment"}}}Me(Pi,"syncStatus",{isRunning:!1,lastSync:null,keysFound:[],errors:[]});function cwe(){const[e,t]=b.useState(Pi.getStatus()),[r,n]=b.useState(Pi.validateProductionConfig());b.useEffect(()=>{const o=setInterval(()=>{t(Pi.getStatus()),n(Pi.validateProductionConfig())},5e3);return()=>clearInterval(o)},[]);const a=o=>o?s.jsx($e,{className:"h-4 w-4 text-green-600"}):s.jsx(Vt,{className:"h-4 w-4 text-red-600"}),i=o=>o?s.jsx(ee,{className:"bg-green-100 text-green-800",children:"Ready"}):s.jsx(ee,{variant:"destructive",children:"Issues"});return s.jsx("div",{className:"space-y-4",children:s.jsxs(R,{children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Production Environment Status"}),i(r.isValid)]})}),s.jsxs(F,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a(r.isValid),s.jsx("span",{className:"text-sm",children:r.message})]}),!r.isValid&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Pt,{className:"h-4 w-4 text-yellow-600"}),s.jsx("span",{className:"font-medium text-yellow-800",children:"Action Required"})]}),s.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"Your production deployment is missing environment variables. The app is running with fallback values."}),s.jsxs("div",{className:"text-xs text-yellow-600 space-y-1",children:[s.jsx("p",{children:" Go to Vercel Dashboard  Settings  Environment Variables"}),s.jsx("p",{children:" Add VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY"}),s.jsx("p",{children:" Set for Production, Preview, and Development"}),s.jsx("p",{children:" Redeploy your application"})]})]})]})]})})}const uwe=["your-key","your_key_here","your-project","your_publishable_key_here","your_secret_key_here","your_webhook_secret_here","your_resend_api_key_here","example-key","test-key","placeholder","pk_test_your_publishable_key_here","sk_test_your_secret_key_here","sk_live_your_secret_key_here"];class In{static validateSupabaseUrl(t){const r="Supabase URL";return!t||t.trim()===""?{isValid:!1,error:"Supabase URL is required",service:r,key:t}:this.isPlaceholder(t)?{isValid:!1,error:"Supabase URL contains placeholder value",service:r,key:t,isPlaceholder:!0}:t.includes(".supabase.co")?{isValid:!0,service:r,key:t}:{isValid:!1,error:"Invalid Supabase URL format (must contain .supabase.co)",service:r,key:t}}static validateSupabaseAnonKey(t){const r="Supabase Anon Key";return!t||t.trim()===""?{isValid:!1,error:"Supabase anon key is required",service:r,key:t}:this.isPlaceholder(t)?{isValid:!1,error:"Supabase anon key contains placeholder value",service:r,key:t,isPlaceholder:!0}:t.startsWith("eyJ")?{isValid:!0,service:r,key:t}:{isValid:!1,error:"Invalid Supabase anon key format (must be JWT)",service:r,key:t}}static validateStripePublishableKey(t){const r="Stripe Publishable Key";return!t||t.trim()===""?{isValid:!0,service:r,key:t}:this.isPlaceholder(t)?{isValid:!1,error:"Stripe publishable key contains placeholder value",service:r,key:t,isPlaceholder:!0}:t.startsWith("pk_")?{isValid:!0,service:r,key:t}:{isValid:!1,error:"Invalid Stripe publishable key format (must start with pk_)",service:r,key:t}}static validateGoogleMapsKey(t){const r="Google Maps API Key";return!t||t.trim()===""?{isValid:!1,error:"Google Maps API key is required for location services",service:r,key:t}:this.isPlaceholder(t)?{isValid:!1,error:"Google Maps API key contains placeholder value",service:r,key:t,isPlaceholder:!0}:t.startsWith("AIza")?{isValid:!0,service:r,key:t}:{isValid:!1,error:"Invalid Google Maps API key format (must start with AIza)",service:r,key:t}}static validateResendKey(t){const r="Resend API Key";return!t||t.trim()===""?{isValid:!0,service:r,key:t}:this.isPlaceholder(t)?{isValid:!1,error:"Resend API key contains placeholder value",service:r,key:t,isPlaceholder:!0}:t.startsWith("re_")?{isValid:!0,service:r,key:t}:{isValid:!1,error:"Invalid Resend API key format (must start with re_)",service:r,key:t}}static isPlaceholder(t){if(!t||t.trim()==="")return!1;const r=t.toLowerCase();return uwe.some(n=>r.includes(n.toLowerCase()))}static validateAllKeys(t){var l,c,u,f,d,h;const r=[this.validateSupabaseUrl((l=t.supabase)==null?void 0:l.url),this.validateSupabaseAnonKey((c=t.supabase)==null?void 0:c.anonKey),this.validateStripePublishableKey((u=t.stripe)==null?void 0:u.publishableKey),this.validateGoogleMapsKey((f=t.googleMaps)==null?void 0:f.apiKey),this.validateResendKey((d=t.resend)==null?void 0:d.apiKey)],n=r.filter(m=>!m.isValid).map(m=>`${m.service}: ${m.error}`),a=[],i=r.filter(m=>!m.isValid&&(!m.key||m.key.trim()==="")&&m.service!=="Resend API Key").map(m=>m.service),o=r.filter(m=>m.isPlaceholder).map(m=>m.service);return(!((h=t.resend)!=null&&h.apiKey)||t.resend.apiKey.trim()==="")&&a.push("Resend API key not configured - email notifications will be limited"),{allValid:n.length===0,errors:n,warnings:a,criticalMissing:i,placeholderKeys:o}}}const yk={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GOOGLE_MAPS_API_KEY:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY",VITE_SUPABASE_URL:"https://mwvcbedvnimabfwubazz.supabase.co"};function Jc(e){var t,r;if(typeof import.meta<"u"&&yk){const n=yk[e];if(n&&n.trim()!=="")return n.trim()}if(typeof window<"u"&&((r=(t=window.import)==null?void 0:t.meta)!=null&&r.env)){const n=window.import.meta.env[e];if(n&&n.trim()!=="")return n.trim()}}function dwe(){return!1}function fwe(){return!0}const _s={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GOOGLE_MAPS_API_KEY:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY",VITE_SUPABASE_URL:"https://mwvcbedvnimabfwubazz.supabase.co"},Qf={supabase:{url:"https://mwvcbedvnimabfwubazz.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY"},stripe:{publishableKey:"pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK"},googleMaps:{apiKey:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4"}};function eh(e){const t=_s==null?void 0:_s[e];if(t&&t!==""&&!t.includes("placeholder"))return t;switch(e){case"VITE_SUPABASE_URL":return console.warn(" Using fallback Supabase URL"),Qf.supabase.url;case"VITE_SUPABASE_ANON_KEY":return console.warn(" Using fallback Supabase anon key"),Qf.supabase.anonKey;case"VITE_STRIPE_PUBLISHABLE_KEY":return console.warn(" Using fallback Stripe publishable key"),Qf.stripe.publishableKey;case"VITE_GOOGLE_MAPS_API_KEY":return console.warn(" Using fallback Google Maps API key"),Qf.googleMaps.apiKey;default:return console.warn(` No fallback available for ${e}`),""}}function hwe(){const e=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY"],t=["VITE_STRIPE_PUBLISHABLE_KEY","VITE_GOOGLE_MAPS_API_KEY"],r=[],n=[];for(const a of e){const i=_s==null?void 0:_s[a];(!i||i===""||i.includes("placeholder"))&&n.push(a)}for(const a of t){const i=_s==null?void 0:_s[a];(!i||i===""||i.includes("placeholder"))&&n.push(a)}return{isValid:r.length===0,missingKeys:r,usingFallbacks:n}}function bk(){const e=hwe();return e.usingFallbacks.length>0&&(console.warn(" Environment Fallback System Active"),console.warn("Using fallbacks for:",e.usingFallbacks),console.warn("Please configure proper environment variables for production")),{supabase:{url:eh("VITE_SUPABASE_URL"),anonKey:eh("VITE_SUPABASE_ANON_KEY")},stripe:{publishableKey:eh("VITE_STRIPE_PUBLISHABLE_KEY")},googleMaps:{apiKey:eh("VITE_GOOGLE_MAPS_API_KEY")},app:{name:"GreenScape Lux",version:"1.0.0",environment:"production"}}}console.log(" Vercel Env Check (Build Time):",{supabaseUrl:"https://mwvcbedvnimabfwubazz.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY",stripeKey:"pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK",googleMapsKey:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4",mode:"production",prod:!0,dev:!1});function mwe(){try{const e={supabase:{url:Jc("VITE_SUPABASE_URL")||"",anonKey:Jc("VITE_SUPABASE_ANON_KEY")||""},stripe:{publishableKey:Jc("VITE_STRIPE_PUBLISHABLE_KEY")||""},googleMaps:{apiKey:Jc("VITE_GOOGLE_MAPS_API_KEY")||""},resend:{apiKey:Jc("VITE_RESEND_API_KEY")||""},app:{name:"GreenScape Lux",version:"1.0.0",environment:fwe()?"production":dwe()?"development":"unknown"}};if(e.supabase.url&&e.supabase.anonKey&&!e.supabase.url.includes("placeholder")&&!e.supabase.anonKey.includes("placeholder"))return console.log(" Using standard environment configuration"),e;{console.warn(" Critical environment variables missing, using fallback configuration");const r=bk();return{...e,...r}}}catch(e){return console.error(" Configuration error, using emergency fallback:",e),bk()}}const bt=mwe(),pwe=()=>{const[e,t]=b.useState(!1),[r,n]=b.useState([]),a=async()=>{const d=[],h=In.validateSupabaseUrl(bt.supabase.url),m=In.validateSupabaseAnonKey(bt.supabase.anonKey);d.push({service:"Supabase URL",success:h.isValid,message:h.error||"Configuration valid",isPlaceholder:h.isPlaceholder}),d.push({service:"Supabase Anon Key",success:m.isValid,message:m.error||"Configuration valid",isPlaceholder:m.isPlaceholder});const v=In.validateStripePublishableKey(bt.stripe.publishableKey);d.push({service:"Stripe",success:v.isValid,message:v.error||"Configuration valid",details:v.isValid?"Publishable key format correct":void 0,isPlaceholder:v.isPlaceholder});const p=In.validateGoogleMapsKey(bt.googleMaps.apiKey);d.push({service:"Google Maps",success:p.isValid,message:p.error||"Configuration valid",details:p.isValid?"API key format correct":void 0,isPlaceholder:p.isPlaceholder});const x=In.validateResendKey(bt.resend.apiKey);return d.push({service:"Resend",success:x.isValid,message:x.error||(bt.resend.apiKey?"Configuration valid":"Optional service - not configured"),details:x.isValid?"API key format correct":"Email notifications will be limited",isPlaceholder:x.isPlaceholder}),d},i=async()=>{t(!0),n([]);try{const d=await a();n(d)}catch(d){console.error("API testing failed:",d),n([{service:"System",success:!1,message:"Failed to run API tests",details:d instanceof Error?d.message:"Unknown error"}])}finally{t(!1)}},o=d=>d.isPlaceholder?s.jsx(Pt,{className:"h-4 w-4 text-yellow-500"}):d.success?s.jsx($e,{className:"h-4 w-4 text-green-500"}):s.jsx(Vt,{className:"h-4 w-4 text-red-500"}),l=d=>d.isPlaceholder?s.jsx(ee,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Placeholder"}):s.jsx(ee,{variant:d.success?"default":"destructive",children:d.success?"Valid":"Invalid"}),c=d=>d.isPlaceholder?"border-yellow-500 bg-yellow-50":d.success?"border-green-500 bg-green-50":"border-red-500 bg-red-50",u=r.some(d=>d.isPlaceholder),f=r.some(d=>!d.success&&!d.isPlaceholder&&d.service!=="Resend");return s.jsxs(R,{children:[s.jsx(V,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(x0,{className:"h-5 w-5"}),"API Configuration Validator"]})}),s.jsx(F,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(B,{onClick:i,disabled:e,className:"w-full",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Oa,{className:"h-4 w-4 mr-2 animate-spin"}),"Validating Configuration..."]}):"Validate All API Keys"}),r.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-3 rounded-lg border bg-gray-50",children:s.jsxs("div",{className:"text-sm",children:[f&&s.jsx("p",{className:"text-red-700 font-medium",children:" Critical configuration errors detected"}),u&&s.jsx("p",{className:"text-yellow-700 font-medium",children:" Placeholder values need replacement"}),!f&&!u&&s.jsx("p",{className:"text-green-700 font-medium",children:" All API keys properly configured"})]})}),s.jsx("div",{className:"space-y-3",children:r.map((d,h)=>s.jsx(Be,{className:c(d),children:s.jsxs("div",{className:"flex items-center gap-2",children:[o(d),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:d.service}),l(d)]}),s.jsxs(Fe,{className:"mt-1",children:[d.message,d.details&&s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:d.details})]})]})]})},h))}),(u||f)&&s.jsxs(Be,{className:"border-red-200 bg-red-50",children:[s.jsx(Pt,{className:"h-4 w-4 text-red-600"}),s.jsxs(Fe,{children:[s.jsx("strong",{children:"Production Deployment Blocked:"})," Fix the above issues before deploying to production. Replace placeholder values with real API keys from your service providers."]})]})]})]})})]})},gwe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GOOGLE_MAPS_API_KEY:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY",VITE_SUPABASE_URL:"https://mwvcbedvnimabfwubazz.supabase.co"};var wk={};class _b{constructor(){Me(this,"requiredEnvVars",[{key:"VITE_SUPABASE_URL",required:!0,validator:t=>t.startsWith("https://")&&t.includes(".supabase.co"),error:"Must be a valid Supabase URL"},{key:"VITE_SUPABASE_ANON_KEY",required:!0,validator:t=>t.startsWith("eyJ")&&t.length>100,error:"Must be a valid Supabase anon key (JWT token)"},{key:"VITE_STRIPE_PUBLISHABLE_KEY",required:!0,validator:t=>t.startsWith("pk_"),error:"Must be a valid Stripe publishable key (starts with pk_)",warning:t=>t.startsWith("pk_live_")?"Using LIVE Stripe key":void 0},{key:"VITE_GOOGLE_MAPS_API_KEY",required:!0,validator:t=>t.length>20,error:"Must be a valid Google Maps API key"}]);Me(this,"supabaseSecrets",[{key:"RESEND_API_KEY",required:!0,validator:t=>t.startsWith("re_"),error:"Must be a valid Resend API key"},{key:"STRIPE_SECRET_KEY",required:!0,validator:t=>t.startsWith("sk_"),error:"Must be a valid Stripe secret key"},{key:"STRIPE_WEBHOOK_SECRET",required:!0,validator:t=>t.startsWith("whsec_"),error:"Must be a valid Stripe webhook secret"}])}validateLocal(){const t=[],r=[],n=[],a=[];for(const l of this.requiredEnvVars){const c=gwe[l.key],u={key:l.key,value:c?this.maskValue(c):void 0,required:l.required,valid:!1,source:"local"};if(!c)r.push(l.key),u.error="Missing required environment variable";else if(!l.validator(c))n.push(l.key),u.error=l.error;else if(u.valid=!0,l.warning){const f=l.warning(c);f&&(a.push(`${l.key}: ${f}`),u.warning=f)}t.push(u)}const i=r.length===0&&n.length===0,o=this.calculateScore(t);return{valid:i,checks:t,missing:r,invalid:n,warnings:a,score:o}}async validateVercel(){const t=[],r=[],n=[],a=[],i=wk.VERCEL_TOKEN,o=wk.VERCEL_PROJECT_ID;if(!i||!o)return{valid:!1,checks:[{key:"VERCEL_CONFIG",required:!0,valid:!1,error:"VERCEL_TOKEN or VERCEL_PROJECT_ID not configured",source:"vercel"}],missing:["VERCEL_TOKEN","VERCEL_PROJECT_ID"],invalid:[],warnings:[],score:0};try{const u=await fetch(`https://api.vercel.com/v9/projects/${o}/env`,{headers:{Authorization:`Bearer ${i}`}});if(!u.ok)throw new Error(`Vercel API error: ${u.status}`);const d=(await u.json()).envs||[];for(const h of this.requiredEnvVars){const m=d.find(p=>p.key===h.key),v={key:h.key,required:h.required,valid:!1,source:"vercel"};if(!m)r.push(h.key),v.error="Missing in Vercel environment";else if(v.value=this.maskValue(m.value),!h.validator(m.value))n.push(h.key),v.error=h.error;else if(v.valid=!0,h.warning){const p=h.warning(m.value);p&&(a.push(`${h.key}: ${p}`),v.warning=p)}t.push(v)}}catch(u){return{valid:!1,checks:[{key:"VERCEL_API",required:!0,valid:!1,error:u instanceof Error?u.message:"Unknown error",source:"vercel"}],missing:[],invalid:[],warnings:[],score:0}}const l=r.length===0&&n.length===0,c=this.calculateScore(t);return{valid:l,checks:t,missing:r,invalid:n,warnings:a,score:c}}async validateSupabase(){const t=[],r=[],n=[],a=[];for(const i of this.supabaseSecrets)t.push({key:i.key,required:i.required,valid:!0,source:"supabase",warning:"Cannot validate Supabase secrets directly - manual verification required"}),a.push(`${i.key}: Manual verification required`);return{valid:!0,checks:t,missing:r,invalid:n,warnings:a,score:75}}async compareEnvironments(){const t=this.validateLocal(),r=await this.validateVercel(),n=[],a=[];for(const i of t.checks){const o=r.checks.find(l=>l.key===i.key);i.valid&&(o!=null&&o.valid)?i.value!==o.value&&n.push({key:i.key,local:i.value,vercel:o.value}):i.valid&&!(o!=null&&o.valid)?a.push(`Sync ${i.key} to Vercel`):!i.valid&&(o!=null&&o.valid)&&a.push(`Update local ${i.key} from Vercel`)}return{mismatches:n,recommendations:a}}maskValue(t){return t.length<=8?t:t.substring(0,8)+"..."}calculateScore(t){if(t.length===0)return 0;const r=t.filter(n=>n.valid).length;return Math.round(r/t.length*100)}generateReport(){const t=this.validateLocal();let r=`# Environment Validation Report

`;return r+=`**Overall Score:** ${t.score}/100
`,r+=`**Status:** ${t.valid?" VALID":" INVALID"}

`,t.missing.length>0&&(r+=`## Missing Variables
`,t.missing.forEach(n=>{r+=`-  ${n}
`}),r+=`
`),t.invalid.length>0&&(r+=`## Invalid Variables
`,t.invalid.forEach(n=>{const a=t.checks.find(i=>i.key===n);r+=`-  ${n}: ${a==null?void 0:a.error}
`}),r+=`
`),t.warnings.length>0&&(r+=`## Warnings
`,t.warnings.forEach(n=>{r+=`-  ${n}
`}),r+=`
`),r+=`## All Variables
`,t.checks.forEach(n=>{const a=n.valid?"":"";r+=`- ${a} ${n.key}: ${n.value||"Not set"}
`,n.error&&(r+=`  - Error: ${n.error}
`),n.warning&&(r+=`  - Warning: ${n.warning}
`)}),r}}function vwe({onComplete:e}){const[t,r]=b.useState(0),[n,a]=b.useState({stripe:"",googleMaps:"",resend:""}),[i,o]=b.useState(null),[l,c]=b.useState(!1),[u,f]=b.useState(null);b.useEffect(()=>{if(Pi.validateProductionConfig().isValid){console.log(" Production environment detected with valid config");return}if(Pi.syncToProduction().then(w=>{w&&console.log(" Famous API keys synced successfully")}).catch(w=>{console.warn("API key sync failed:",w)}),!(typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1")))try{const w=cp.getInstance(),S=w.getAllSources();f(S),S.some(j=>Object.keys(j.keys).length>0)&&(c(!0),console.log(" Discovered API keys from Famous setup:",w.generateReport()),Sb.getInstance().start(),c(!1))}catch(w){console.warn("Key discovery failed:",w)}o(_b.validateAll())},[]);const d=()=>!u||u.every(g=>Object.keys(g.keys).length===0)?null:s.jsxs(R,{className:"mb-6 border-blue-200 bg-blue-50",children:[s.jsx(V,{children:s.jsxs(W,{className:"text-lg text-blue-800 flex items-center gap-2",children:[s.jsx(Yt,{className:"h-5 w-5"}),"API Keys Discovered from Famous Setup"]})}),s.jsx(F,{children:s.jsxs("div",{className:"space-y-3",children:[u.map((g,y)=>{const w=Object.keys(g.keys).length;return w===0?null:s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsxs("h4",{className:"font-medium text-gray-800 mb-2",children:["Found in ",g.name," (",w," keys)"]}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.entries(g.keys).map(([S,j])=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-mono text-gray-600",children:S}),s.jsx(ee,{variant:"outline",className:"text-xs",children:j.length>10?`${j.slice(0,6)}...${j.slice(-4)}`:j})]},S))})]},y)}),s.jsx("div",{className:"bg-green-50 border border-green-200 p-3 rounded",children:s.jsx("p",{className:"text-sm text-green-800",children:" These keys have been automatically synced to your .env.local file. Restart your development server to apply changes."})})]})})]}),h=[{title:"Supabase Configuration",description:"Database and authentication backend",validation:i==null?void 0:i.supabase,instructions:["1. Go to https://supabase.com and create a new project","2. In your project settings, copy the Project URL","3. Copy the anon/public API key","4. Add to .env.local: VITE_SUPABASE_URL=your-url","5. Add to .env.local: VITE_SUPABASE_ANON_KEY=your-key"]},{title:"Stripe Payment Setup",description:"Payment processing for landscaping services",validation:i==null?void 0:i.stripe,instructions:["1. Create account at https://stripe.com","2. Go to Developers > API Keys in your dashboard","3. Copy the Publishable key (starts with pk_)","4. Copy the Secret key (starts with sk_)","5. Add to .env.local: VITE_STRIPE_PUBLISHABLE_KEY=pk_...","6. Add to .env.local: VITE_STRIPE_SECRET_KEY=sk_..."]},{title:"Google Maps API",description:"Location services and mapping",validation:i==null?void 0:i.googleMaps,instructions:["1. Go to https://console.cloud.google.com","2. Create a new project or select existing","3. Enable Maps JavaScript API","4. Create credentials > API Key","5. Restrict the key to your domain","6. Add to .env.local: VITE_GOOGLE_MAPS_API_KEY=your-key"]},{title:"Resend Email API",description:"Email notifications and communications",validation:i==null?void 0:i.resend,instructions:["1. Sign up at https://resend.com","2. Go to API Keys in your dashboard","3. Create a new API key","4. Copy the key (starts with re_)","5. Add to .env.local: VITE_RESEND_API_KEY=re_..."]}],m=g=>g?g.isValid?s.jsx($e,{className:"h-5 w-5 text-green-500"}):s.jsx(Vt,{className:"h-5 w-5 text-red-500"}):s.jsx(lwe,{className:"h-5 w-5 text-yellow-500"}),v=g=>g?g.isValid?s.jsx(ee,{variant:"default",className:"bg-green-500",children:"Valid"}):s.jsx(ee,{variant:"destructive",children:"Invalid"}):s.jsx(ee,{variant:"secondary",children:"Not Checked"}),p=()=>{o(_b.validateAll())},x=i==null?void 0:i.overall.isValid;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"GreenScape Lux Setup Wizard"}),s.jsx("p",{className:"text-gray-600",children:"Configure your API keys to enable all features"})]}),(i==null?void 0:i.overall)&&!i.overall.isValid&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded",children:s.jsx("p",{className:"text-red-800",children:i.overall.message})}),d(),s.jsx("div",{className:"grid gap-6",children:h.map((g,y)=>s.jsxs(R,{className:"relative",children:[s.jsx(V,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[m(g.validation),s.jsxs("div",{children:[s.jsx(W,{className:"text-lg",children:g.title}),s.jsx("p",{className:"text-sm text-gray-600",children:g.description})]})]}),v(g.validation)]})}),s.jsxs(F,{children:[g.validation&&!g.validation.isValid&&s.jsx(Be,{className:"mb-4",children:s.jsx(Fe,{children:g.validation.message})}),s.jsx("div",{className:"space-y-2",children:g.instructions.map((w,S)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600 min-w-0 flex-1",children:w}),w.includes("https://")&&s.jsx(lO,{className:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"})]},S))})]})]},y))}),s.jsx("div",{className:"mt-6",children:s.jsx(cwe,{})}),s.jsx("div",{className:"mt-6",children:s.jsx(pwe,{})}),s.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[s.jsx(B,{onClick:p,variant:"outline",children:"Refresh Status"}),x?s.jsx(B,{onClick:e,className:"bg-green-600 hover:bg-green-700",children:"Complete Setup"}):s.jsx(B,{disabled:!0,children:"Complete Setup (Fix Issues First)"})]}),s.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Environment File Location"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Create a ",s.jsx("code",{className:"bg-gray-200 px-1 rounded",children:".env.local"})," file in your project root directory and add the API keys as shown above."]})]})]})})}function xwe(){const e=_b.validateAll(),t=(n,a)=>n?s.jsx($e,{className:"h-5 w-5 text-green-600"}):s.jsx(Vt,{className:"h-5 w-5 text-red-600"}),r=(n,a)=>n?s.jsx(ee,{variant:"default",className:"bg-green-100 text-green-800",children:"Valid"}):s.jsx(ee,{variant:"destructive",children:"Invalid"});return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Production Status"}),s.jsx("p",{className:"text-gray-600",children:"System configuration and API key validation status"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(R,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs(W,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(oO,{className:"h-4 w-4"}),"Supabase"]}),r(e.supabase.isValid)]}),s.jsx(F,{children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t(e.supabase.isValid),s.jsx("span",{className:"text-sm",children:e.supabase.message})]})})]}),s.jsxs(R,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs(W,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Et,{className:"h-4 w-4"}),"Stripe"]}),r(e.stripe.isValid)]}),s.jsx(F,{children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t(e.stripe.isValid),s.jsx("span",{className:"text-sm",children:e.stripe.message})]})})]}),s.jsxs(R,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs(W,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(cs,{className:"h-4 w-4"}),"Google Maps"]}),r(e.googleMaps.isValid)]}),s.jsx(F,{children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t(e.googleMaps.isValid),s.jsx("span",{className:"text-sm",children:e.googleMaps.message})]})})]}),s.jsxs(R,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs(W,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ln,{className:"h-4 w-4"}),"Resend"]}),r(e.resend.isValid)]}),s.jsx(F,{children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t(e.resend.isValid),s.jsx("span",{className:"text-sm",children:e.resend.message})]})})]})]}),s.jsxs(R,{className:"mt-6",children:[s.jsx(V,{children:s.jsx(W,{children:"Overall System Status"})}),s.jsx(F,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Critical Services"}),s.jsxs("div",{className:"flex items-center gap-2",children:[e.supabase.isValid?s.jsx($e,{className:"h-4 w-4 text-green-600"}):s.jsx(Vt,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{className:"text-sm",children:e.supabase.isValid?"Operational":"Issues Detected"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Payment Processing"}),s.jsxs("div",{className:"flex items-center gap-2",children:[e.stripe.isValid?s.jsx($e,{className:"h-4 w-4 text-green-600"}):s.jsx(Vt,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{className:"text-sm",children:e.stripe.isValid?"Ready":"Configuration Required"})]})]})]})})]})]})})}const yx=()=>{var n,a;const t=((a=(n=qt().state)==null?void 0:n.from)==null?void 0:a.pathname)||"/",r=i=>{const o=i==="client"?"/client-login":"/pro-login";window.location.href=`${o}?redirect=${encodeURIComponent(t)}`};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to GreenScape Lux"}),s.jsx("p",{className:"text-gray-600",children:"Choose your account type to continue"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:()=>r("client"),className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-4 px-6 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-3",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"I'm a Property Owner"})]}),s.jsxs("button",{onClick:()=>r("landscaper"),className:"w-full bg-teal-600 hover:bg-teal-700 text-white font-semibold py-4 px-6 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-3",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"I'm a Landscaping Professional"})]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Need help? ",s.jsx("a",{href:"mailto:support@greenscapelux.com",className:"text-emerald-600 hover:underline",children:"Contact us"})]})})]})})},jk=({children:e,fallbackRoute:t="/login",showLoadingMessage:r=!0})=>{const n=Te(),a=qt(),[i,o]=b.useState(!0),[l,c]=b.useState(null);return b.useEffect(()=>{(async()=>{try{o(!0),c(null),await xu.handleGenericDashboardRedirect(a.pathname,n);const f=await xu.getUserRoleInfo();if(!f.isAuthenticated){console.log(" User not authenticated, redirecting to:",t),n(t,{replace:!0});return}f.error&&c(f.error),await xu.navigateToRoleDashboard(n,{fallbackRoute:t,onError:c})}catch(f){console.error(" Error in IntelligentDashboardRedirect:",f),c(String(f))}finally{o(!1)}})()},[n,a.pathname,t]),i?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(Wd,{size:"lg"}),r&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Setting up your dashboard..."}),s.jsx("p",{className:"text-gray-600",children:"Detecting your account type and preparing your personalized experience"})]})]})}):l?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"max-w-md w-full",children:s.jsxs(Be,{className:"border-red-200 bg-red-50",children:[s.jsx(fr,{className:"h-4 w-4 text-red-600"}),s.jsxs(Fe,{className:"text-red-800",children:[s.jsx("strong",{children:"Dashboard Setup Error:"})," ",l,s.jsx("br",{}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 text-red-600 underline hover:text-red-800",children:"Try again"})]})]})})}):s.jsx(s.Fragment,{children:e})};typeof window<"u"&&!window.__GSL_ONERROR&&(window.__GSL_ONERROR=!0,window.addEventListener("error",e=>{var r;const t=String(((r=e==null?void 0:e.error)==null?void 0:r.message)||(e==null?void 0:e.message)||"Unknown error");console.error("Global error",t,(e==null?void 0:e.error)||e)}),window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection",e==null?void 0:e.reason)}));const ywe=()=>s.jsx(W8,{children:s.jsx(hF,{children:s.jsx(mF,{children:s.jsx(O6,{children:s.jsxs(yF,{children:[s.jsx(R6,{}),s.jsxs(Ew,{children:[s.jsx(ie,{path:"/",element:s.jsx(az,{})}),s.jsx(ie,{path:"/about",element:s.jsx(tz,{})}),s.jsx(ie,{path:"/professionals",element:s.jsx(iz,{})}),s.jsx(ie,{path:"/terms",element:s.jsx(oz,{})}),s.jsx(ie,{path:"/privacy",element:s.jsx(lz,{})}),s.jsx(ie,{path:"/get-started",element:s.jsx(qbe,{})}),s.jsx(ie,{path:"/get-quote",element:s.jsx(Nz,{})}),s.jsx(ie,{path:"/get-quote-enhanced",element:s.jsx(Ao,{to:"/get-quote",replace:!0})}),s.jsx(ie,{path:"/get-a-quote",element:s.jsx(Ao,{to:"/get-quote",replace:!0})}),s.jsx(ie,{path:"/instant-quote",element:s.jsx(Ao,{to:"/get-quote",replace:!0})}),s.jsx(ie,{path:"/quote-form",element:s.jsx(Ao,{to:"/get-quote",replace:!0})}),s.jsx(ie,{path:"/thank-you",element:s.jsx(_z,{})}),s.jsx(ie,{path:"/search",element:s.jsx(xx,{})}),s.jsx(ie,{path:"/search-jobs",element:s.jsx(xx,{})}),s.jsx(ie,{path:"/find-landscapers",element:s.jsx(xx,{})}),s.jsx(ie,{path:"/client-login",element:s.jsx(aq,{})}),s.jsx(ie,{path:"/pro-login",element:s.jsx(ZS,{})}),s.jsx(ie,{path:"/client-signup",element:s.jsx(cq,{})}),s.jsx(ie,{path:"/pro-signup",element:s.jsx(QS,{})}),s.jsx(ie,{path:"/login",element:s.jsx(yx,{})}),s.jsx(ie,{path:"/signup",element:s.jsx(yx,{})}),s.jsx(ie,{path:"/auth/select-role",element:s.jsx(yx,{})}),s.jsx(ie,{path:"/landscaper-login",element:s.jsx(ZS,{})}),s.jsx(ie,{path:"/landscaper-signup",element:s.jsx(QS,{})}),s.jsx(ie,{path:"/auth",element:s.jsx(e_,{})}),s.jsx(ie,{path:"/admin-login",element:s.jsx(e_,{userType:"admin"})}),s.jsx(ie,{path:"/forgot-password",element:s.jsx($7,{})}),s.jsx(ie,{path:"/reset-password",element:s.jsx(R7,{})}),s.jsx(ie,{path:"/client-dashboard/*",element:s.jsx(ct,{requiredRole:"client",children:s.jsx(LK,{})})}),s.jsx(ie,{path:"/dashboard/*",element:s.jsx(jk,{})}),s.jsx(ie,{path:"/dashboard",element:s.jsx(jk,{})}),s.jsx(ie,{path:"/landscaper-dashboard/*",element:s.jsx(ct,{requiredRole:"landscaper",children:s.jsx(mk,{})})}),s.jsx(ie,{path:"/pro-dashboard/*",element:s.jsx(ct,{requiredRole:"landscaper",children:s.jsx(mk,{})})}),s.jsx(ie,{path:"/landscaper-jobs",element:s.jsx(ct,{requiredRole:"landscaper",children:s.jsx(H7,{})})}),s.jsx(ie,{path:"/new-requests",element:s.jsx(ct,{requiredRole:"landscaper",children:s.jsx(Y7,{})})}),s.jsx(ie,{path:"/job-complete/:jobId",element:s.jsx(ct,{requiredRole:"landscaper",children:s.jsx(J7,{})})}),s.jsx(ie,{path:"/landscaper-onboarding",element:s.jsx(ct,{requiredRole:"landscaper",children:s.jsx(X7,{})})}),s.jsx(ie,{path:"/landscaper-profile",element:s.jsx(ct,{requiredRole:"landscaper",children:s.jsx(IW,{})})}),s.jsx(ie,{path:"/landscaper-earnings",element:s.jsx(ct,{requiredRole:"landscaper",children:s.jsx(Mbe,{})})}),s.jsx(ie,{path:"/client-quote",element:s.jsx(ct,{requiredRole:"client",children:s.jsx(MW,{})})}),s.jsx(ie,{path:"/admin-dashboard",element:s.jsx(ct,{requiredRole:"admin",children:s.jsx(nq,{})})}),s.jsx(ie,{path:"/admin",element:s.jsx(ct,{requiredRole:"admin",children:s.jsx(T7,{})})}),s.jsx(ie,{path:"/business-automation",element:s.jsx(ct,{requiredRole:"admin",children:s.jsx(Wbe,{})})}),s.jsx(ie,{path:"/notifications",element:s.jsx(ct,{requiredRole:"admin",children:s.jsx(Jbe,{})})}),s.jsx(ie,{path:"/ai-quotes",element:s.jsx(ct,{requiredRole:"admin",children:s.jsx(rwe,{})})}),s.jsx(ie,{path:"/setup",element:s.jsx(vwe,{onComplete:()=>window.location.href="/"})}),s.jsx(ie,{path:"/status",element:s.jsx(xwe,{})}),s.jsx(ie,{path:"/profile",element:s.jsx(ct,{requiredRole:"client",children:s.jsx(zK,{})})}),s.jsx(ie,{path:"/billing/history",element:s.jsx(ct,{requiredRole:"client",children:s.jsx(VK,{})})}),s.jsx(ie,{path:"/subscriptions",element:s.jsx(ct,{requiredRole:"client",children:s.jsx(HK,{})})}),s.jsx(ie,{path:"/client-history",element:s.jsx(ct,{requiredRole:"client",children:s.jsx(FK,{})})}),s.jsx(ie,{path:"/chat",element:s.jsx(ct,{requiredRole:"client",children:s.jsx(GK,{})})}),s.jsx(ie,{path:"/payments/overview",element:s.jsx(ct,{requiredRole:"client",children:s.jsx(nwe,{})})}),s.jsx(ie,{path:"/payments/methods",element:s.jsx(ct,{requiredRole:"client",children:s.jsx(swe,{})})}),s.jsx(ie,{path:"/payments/subscriptions",element:s.jsx(ct,{requiredRole:"client",children:s.jsx(iwe,{})})}),s.jsx(ie,{path:"/payments/security",element:s.jsx(ct,{requiredRole:"client",children:s.jsx(owe,{})})}),s.jsx(ie,{path:"/payments",element:s.jsx(Ao,{to:"/payments/overview",replace:!0})}),s.jsx(ie,{path:"*",element:s.jsx(Pz,{})})]})]})})})})}),bwe=()=>{var r;const e=typeof window<"u"&&((r=window.import)==null?void 0:r.meta),t=(e==null?void 0:e.env)||{};return console.log("import.meta.env available:",!!e),console.log("VITE_SUPABASE_URL:",t.VITE_SUPABASE_URL||"UNDEFINED"),console.log("VITE_SUPABASE_ANON_KEY:",t.VITE_SUPABASE_ANON_KEY?"SET":"UNDEFINED"),console.log("DEV mode:",t.DEV),console.log("Environment object keys:",Object.keys(t)),{hasImportMeta:!!e,env:t,supabaseUrl:t.VITE_SUPABASE_URL,supabaseKey:t.VITE_SUPABASE_ANON_KEY,isDev:t.DEV}};var Nk,Sk;const wwe=typeof window<"u"&&((Sk=(Nk=window.import)==null?void 0:Nk.meta)==null?void 0:Sk.env)||{};wwe.DEV&&bwe();class jh{static sanitizeEmail(t){return!t||typeof t!="string"?"":t.trim().toLowerCase().replace(/[<>'"]/g,"")}static sanitizePhone(t){return!t||typeof t!="string"?"":t.replace(/[^\d\-\+\(\)\s]/g,"").trim()}static sanitizeName(t){return!t||typeof t!="string"?"":t.replace(/[<>'"&]/g,"").replace(/[^\w\s\-']/g,"").trim().slice(0,100)}static sanitizeAddress(t){return!t||typeof t!="string"?"":t.replace(/[<>'"]/g,"").trim().slice(0,200)}static sanitizeText(t,r=1e3){return!t||typeof t!="string"?"":t.replace(/[<>]/g,"").trim().slice(0,r)}static sanitizeUrl(t){if(!t||typeof t!="string")return"";try{const r=new URL(t);return r.protocol!=="http:"&&r.protocol!=="https:"?"":r.toString()}catch{return""}}static sanitizeFormData(t){const r={};for(const[n,a]of Object.entries(t))if(typeof a=="string")switch(n){case"email":r[n]=this.sanitizeEmail(a);break;case"phone":r[n]=this.sanitizePhone(a);break;case"firstName":case"lastName":case"name":r[n]=this.sanitizeName(a);break;case"address":case"street":case"city":case"state":r[n]=this.sanitizeAddress(a);break;case"website":case"url":r[n]=this.sanitizeUrl(a);break;default:r[n]=this.sanitizeText(a)}else r[n]=a;return r}static createRateLimiter(t,r){const n=new Map;return{isLimited:a=>{const i=Date.now(),o=n.get(a);return!o||i>o.resetTime?(n.set(a,{count:1,resetTime:i+r}),!1):o.count>=t?!0:(o.count++,!1)},reset:a=>{n.delete(a)}}}}const jwe={"Content-Security-Policy":["default-src 'self'","script-src 'self' 'unsafe-inline' 'unsafe-eval' https://js.stripe.com https://maps.googleapis.com","style-src 'self' 'unsafe-inline' https://fonts.googleapis.com","font-src 'self' https://fonts.gstatic.com","img-src 'self' data: https: blob:","connect-src 'self' https://mwvcbedvnimabfwubazz.supabase.co https://api.stripe.com https://maps.googleapis.com","frame-src https://js.stripe.com https://hooks.stripe.com","object-src 'none'","base-uri 'self'"].join("; ")},Nwe={...jwe,"X-Content-Type-Options":"nosniff","X-Frame-Options":"DENY","X-XSS-Protection":"1; mode=block","Referrer-Policy":"strict-origin-when-cross-origin","Permissions-Policy":"camera=(), microphone=(), geolocation=(self)"},ko={auth:{maxAttempts:5,windowMs:15*60*1e3},api:{maxAttempts:100,windowMs:60*1e3},upload:{maxAttempts:10,windowMs:60*1e3}},Swe={auth:jh.createRateLimiter(ko.auth.maxAttempts,ko.auth.windowMs),api:jh.createRateLimiter(ko.api.maxAttempts,ko.api.windowMs),upload:jh.createRateLimiter(ko.upload.maxAttempts,ko.upload.windowMs)};function _we(e){const t=[],r=jh.sanitizeFormData(e);return e.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)&&t.push("Invalid email format"),e.password&&e.password.length<8&&t.push("Password must be at least 8 characters"),e.phone&&r.phone&&!/^[\d\-\+\(\)\s]{10,}$/.test(r.phone)&&t.push("Invalid phone number format"),{isValid:t.length===0,errors:t,sanitized:r}}function Ewe(){const e=[];if(typeof window<"u"){const t=window.location.hostname!=="localhost",r=window.location.protocol==="https:";t&&!r&&e.push("Application should run over HTTPS in production")}return typeof window<"u"&&window.location.hostname!=="localhost"&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&e.push("React DevTools detected in production build"),{isSecure:e.length===0,warnings:e}}class YM{constructor(t={}){Me(this,"options");this.options={enableRateLimit:!0,enableCSP:!0,enableXSSProtection:!0,...t}}applySecurityHeaders(t){if(!this.options.enableCSP)return t;const r=new Headers(t.headers);return Object.entries(Nwe).forEach(([n,a])=>{r.set(n,a)}),this.options.customHeaders&&Object.entries(this.options.customHeaders).forEach(([n,a])=>{r.set(n,a)}),new Response(t.body,{status:t.status,statusText:t.statusText,headers:r})}checkRateLimit(t,r="api"){return this.options.enableRateLimit?!Swe[r].isLimited(t):!0}validateRequest(t){return _we(t)}createSecureFetch(){return async(t,r={})=>{if(!this.checkRateLimit("global-api"))throw new Error("Rate limit exceeded");const n={...r,headers:{"X-Requested-With":"XMLHttpRequest",...r.headers}};return fetch(t,n)}}}new YM;const Pwe=b.createContext(null);function kwe({children:e,enableRateLimit:t=!0,enableCSP:r=!0}){const[n]=b.useState(()=>new YM({enableRateLimit:t,enableCSP:r,enableXSSProtection:!0})),[a,i]=b.useState({isSecure:!0,warnings:[]});b.useEffect(()=>{const c=Ewe();i(c),c.warnings.length>0},[]);const o=()=>{if(typeof document<"u"){const c=document.createElement("meta");c.httpEquiv="Content-Security-Policy",c.content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://js.stripe.com https://maps.googleapis.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' data: https: blob:; connect-src 'self' https://mwvcbedvnimabfwubazz.supabase.co https://api.stripe.com https://maps.googleapis.com;",document.head.appendChild(c)}},l={middleware:n,isSecure:a.isSecure,warnings:a.warnings,enforceCSP:o};return s.jsx(Pwe.Provider,{value:l,children:e})}const Qn=e=>{var t,r;try{return typeof globalThis<"u"&&((r=(t=globalThis.import)==null?void 0:t.meta)!=null&&r.env)?globalThis.import.meta.env[e]:void 0}catch{return}},Awe=!!(Qn("VITE_SUPABASE_URL")&&Qn("VITE_SUPABASE_ANON_KEY")),Cwe=()=>{(Qn("DEV")||Qn("MODE")==="development")&&(console.log(" Environment Variables Check:"),console.log("VITE_SUPABASE_URL:",Qn("VITE_SUPABASE_URL")?" Set":" Missing"),console.log("VITE_SUPABASE_ANON_KEY:",Qn("VITE_SUPABASE_ANON_KEY")?" Set":" Missing"),console.log("VITE_SUPABASE_FUNCTIONS_URL:",Qn("VITE_SUPABASE_FUNCTIONS_URL")?" Set":" Missing"),console.log("VITE_ADMIN_EMAIL:",Qn("VITE_ADMIN_EMAIL")?" Set":" Missing"),console.log(" Raw values:"),console.log("  URL:",Qn("VITE_SUPABASE_URL")||"undefined"),console.log("  Key:",Qn("VITE_SUPABASE_ANON_KEY")?"[PRESENT]":"undefined"),Awe?console.log(" All required environment variables are properly set"):(console.warn(" Missing environment variables detected!"),console.log(" Quick fixes:"),console.log("  1. Create .env.local file: cp .env.local.template .env.local"),console.log("  2. Restart dev server: npm run dev"),console.log("  3. For production: Set Vercel environment variables")))},yi=class yi{constructor(){Me(this,"validation",null);Me(this,"isInitialized",!1)}static getInstance(){return yi.instance||(yi.instance=new yi),yi.instance}async initializeForRoute(t,r){const n=this.determineRouteType(t),i={...{strictMode:n==="admin"&&bt.app.environment==="production",allowPlaceholders:bt.app.environment==="development",requiredServices:this.getRequiredServicesForRoute(n),routeType:n},...r};console.log(` EnvironmentGuard: Initializing for ${n} route with config:`,i);try{if(this.validation=In.validateAllKeys(bt),this.logValidationResults(this.validation,i),n==="admin"){if(!this.validation.allValid){const o=this.validation.errors.filter(l=>i.requiredServices.some(c=>l.includes(c)));if(o.length>0&&(console.error(" Admin route - Critical services missing:",o),i.strictMode))throw new Error(`Admin dashboard requires: ${o.join(", ")}`)}}else if(!this.validation.allValid){const o=this.validation.errors.filter(l=>i.requiredServices.some(c=>l.includes(c)));o.length>0&&(console.warn(` ${n} route - Some services unavailable:`,o),console.warn(" App will continue with limited functionality"))}if(!i.allowPlaceholders&&this.validation.placeholderKeys.length>0){const o=this.validation.placeholderKeys.filter(l=>i.requiredServices.includes(l));if(o.length>0&&n==="admin")throw new Error(`Admin dashboard - Placeholder values detected: ${o.join(", ")}`);o.length>0&&console.warn(` ${n} route - Placeholder values found:`,o)}return this.isInitialized=!0,this.validation}catch(o){if(n==="admin")throw console.error(" EnvironmentGuard: Admin validation failed:",o),o;return console.warn(" EnvironmentGuard: Non-admin validation issues (non-blocking):",o),this.validation||{allValid:!1,errors:[],warnings:[],placeholderKeys:[]}}}async initialize(t){return this.initializeForRoute(void 0,t)}determineRouteType(t){return t||typeof window<"u"&&(t=window.location.pathname),t?t.includes("/admin")?"admin":t.includes("/client")||t.includes("/dashboard")?"client":t.includes("/landscaper")||t.includes("/pro")?"landscaper":"public":"public"}getRequiredServicesForRoute(t){switch(t){case"admin":return["Supabase URL","Supabase Anon Key","Stripe Publishable Key","Google Maps API Key","Resend API Key"];case"client":case"landscaper":return["Supabase URL","Supabase Anon Key"];case"public":default:return["Supabase URL","Supabase Anon Key"]}}logValidationResults(t,r){const n=r.routeType?`[${r.routeType.toUpperCase()}]`:"";if(t.allValid)console.log(` EnvironmentGuard ${n}: All environment variables validated successfully`);else{const a=r.routeType==="admin"?"error":"warn";console[a](` EnvironmentGuard ${n}: Environment validation issues detected`),t.errors.length>0&&console[a](" Errors:",t.errors),t.warnings.length>0&&console.warn(" Warnings:",t.warnings),t.placeholderKeys.length>0&&console.warn(" Placeholder keys found:",t.placeholderKeys)}}getValidation(){return this.validation}isValid(){var t;return((t=this.validation)==null?void 0:t.allValid)??!1}getErrors(){var t;return((t=this.validation)==null?void 0:t.errors)??[]}getWarnings(){var t;return((t=this.validation)==null?void 0:t.warnings)??[]}hasPlaceholders(){var t;return(((t=this.validation)==null?void 0:t.placeholderKeys.length)??0)>0}isServiceConfigured(t){return this.validation?this.validation.errors.filter(n=>n.toLowerCase().includes(t.toLowerCase())).length===0:!1}validateService(t){switch(t){case"supabase":return In.validateSupabaseUrl(bt.supabase.url).isValid&&In.validateSupabaseAnonKey(bt.supabase.anonKey).isValid;case"stripe":return In.validateStripePublishableKey(bt.stripe.publishableKey).isValid;case"googleMaps":return In.validateGoogleMapsKey(bt.googleMaps.apiKey).isValid;case"resend":return In.validateResendKey(bt.resend.apiKey).isValid;default:return!1}}debugConfiguration(){if(bt.app.environment!=="development"){console.warn(" Debug configuration only available in development mode");return}console.group(" Environment Configuration Debug"),console.log("Environment:",bt.app.environment),console.log("Supabase URL:",bt.supabase.url?" Configured":" Missing"),console.log("Supabase Key:",bt.supabase.anonKey?" Configured":" Missing"),console.log("Stripe Key:",bt.stripe.publishableKey?" Configured":" Missing"),console.log("Google Maps Key:",bt.googleMaps.apiKey?" Configured":" Missing"),console.log("Resend Key:",bt.resend.apiKey?" Configured":" Missing"),this.validation&&(console.log("Validation Status:",this.validation.allValid?" Valid":" Invalid"),this.validation.allValid||(console.log("Errors:",this.validation.errors),console.log("Warnings:",this.validation.warnings))),console.groupEnd()}};Me(yi,"instance");let Eb=yi;const Owe=Eb.getInstance();console.group(" Vercel Environment Variables Debug");console.log("Build Mode:","production");console.log("Is Production:",!0);console.log("Is Development:",!1);console.log(`
 Environment Variables (injected at build time):`);console.log("VITE_SUPABASE_URL:","https://mwvcbedvnimabfwubazz.supabase.co");console.log("VITE_SUPABASE_ANON_KEY:",` SET (${"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY".substring(0,20)}...)`);console.log("VITE_STRIPE_PUBLISHABLE_KEY:",` SET (${"pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK".substring(0,20)}...)`);console.log("VITE_GOOGLE_MAPS_API_KEY:"," SET");console.log(`
 If all show  UNDEFINED, environment variables are NOT configured in Vercel Dashboard`);console.log(" Action Required: Add VITE_* variables to Vercel  Settings  Environment Variables");console.groupEnd();Owe.initializeForRoute(window.location.pathname,{strictMode:!0,allowPlaceholders:!1}).catch(e=>{qs(async()=>{const{logger:t}=await Promise.resolve().then(()=>I7);return{logger:t}},void 0).then(({logger:t})=>{if(t.error("Environment validation failed",e,"MainApp"),window.location.pathname.includes("/admin"))throw e;console.warn(" Environment validation issues detected but continuing for non-admin route")})});Cwe();pF();LC(document.getElementById("root")).render(s.jsx(b.StrictMode,{children:s.jsx(kwe,{enableCSP:!0,enableRateLimit:!0,children:s.jsx(Sz,{children:s.jsx(ywe,{})})})}));
