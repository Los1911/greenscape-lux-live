function lF(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function ys(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var aC={exports:{}},jp={},iC={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd=Symbol.for("react.element"),cF=Symbol.for("react.portal"),uF=Symbol.for("react.fragment"),dF=Symbol.for("react.strict_mode"),fF=Symbol.for("react.profiler"),hF=Symbol.for("react.provider"),mF=Symbol.for("react.context"),pF=Symbol.for("react.forward_ref"),gF=Symbol.for("react.suspense"),vF=Symbol.for("react.memo"),xF=Symbol.for("react.lazy"),UN=Symbol.iterator;function yF(e){return e===null||typeof e!="object"?null:(e=UN&&e[UN]||e["@@iterator"],typeof e=="function"?e:null)}var oC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lC=Object.assign,cC={};function yc(e,t,r){this.props=e,this.context=t,this.refs=cC,this.updater=r||oC}yc.prototype.isReactComponent={};yc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uC(){}uC.prototype=yc.prototype;function wb(e,t,r){this.props=e,this.context=t,this.refs=cC,this.updater=r||oC}var jb=wb.prototype=new uC;jb.constructor=wb;lC(jb,yc.prototype);jb.isPureReactComponent=!0;var VN=Array.isArray,dC=Object.prototype.hasOwnProperty,Sb={current:null},fC={key:!0,ref:!0,__self:!0,__source:!0};function hC(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)dC.call(t,n)&&!fC.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:kd,type:e,key:i,ref:o,props:a,_owner:Sb.current}}function bF(e,t){return{$$typeof:kd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Nb(e){return typeof e=="object"&&e!==null&&e.$$typeof===kd}function wF(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var zN=/\/+/g;function wv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wF(""+e.key):t.toString(36)}function jh(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case kd:case cF:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+wv(o,0):n,VN(a)?(r="",e!=null&&(r=e.replace(zN,"$&/")+"/"),jh(a,t,r,"",function(u){return u})):a!=null&&(Nb(a)&&(a=bF(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(zN,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",VN(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+wv(i,l);o+=jh(i,t,r,c,a)}else if(c=yF(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+wv(i,l++),o+=jh(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function df(e,t,r){if(e==null)return e;var n=[],a=0;return jh(e,n,"","",function(i){return t.call(r,i,a++)}),n}function jF(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Lr={current:null},Sh={transition:null},SF={ReactCurrentDispatcher:Lr,ReactCurrentBatchConfig:Sh,ReactCurrentOwner:Sb};function mC(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:df,forEach:function(e,t,r){df(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return df(e,function(){t++}),t},toArray:function(e){return df(e,function(t){return t})||[]},only:function(e){if(!Nb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=yc;Ce.Fragment=uF;Ce.Profiler=fF;Ce.PureComponent=wb;Ce.StrictMode=dF;Ce.Suspense=gF;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SF;Ce.act=mC;Ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=lC({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Sb.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)dC.call(t,c)&&!fC.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:kd,type:e.type,key:a,ref:i,props:n,_owner:o}};Ce.createContext=function(e){return e={$$typeof:mF,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hF,_context:e},e.Consumer=e};Ce.createElement=hC;Ce.createFactory=function(e){var t=hC.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:pF,render:e}};Ce.isValidElement=Nb;Ce.lazy=function(e){return{$$typeof:xF,_payload:{_status:-1,_result:e},_init:jF}};Ce.memo=function(e,t){return{$$typeof:vF,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=Sh.transition;Sh.transition={};try{e()}finally{Sh.transition=t}};Ce.unstable_act=mC;Ce.useCallback=function(e,t){return Lr.current.useCallback(e,t)};Ce.useContext=function(e){return Lr.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return Lr.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return Lr.current.useEffect(e,t)};Ce.useId=function(){return Lr.current.useId()};Ce.useImperativeHandle=function(e,t,r){return Lr.current.useImperativeHandle(e,t,r)};Ce.useInsertionEffect=function(e,t){return Lr.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return Lr.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return Lr.current.useMemo(e,t)};Ce.useReducer=function(e,t,r){return Lr.current.useReducer(e,t,r)};Ce.useRef=function(e){return Lr.current.useRef(e)};Ce.useState=function(e){return Lr.current.useState(e)};Ce.useSyncExternalStore=function(e,t,r){return Lr.current.useSyncExternalStore(e,t,r)};Ce.useTransition=function(){return Lr.current.useTransition()};Ce.version="18.3.1";iC.exports=Ce;var m=iC.exports;const z=ys(m),Sp=lF({__proto__:null,default:z},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NF=m,_F=Symbol.for("react.element"),EF=Symbol.for("react.fragment"),kF=Object.prototype.hasOwnProperty,PF=NF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CF={key:!0,ref:!0,__self:!0,__source:!0};function pC(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)kF.call(t,n)&&!CF.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:_F,type:e,key:i,ref:o,props:a,_owner:PF.current}}jp.Fragment=EF;jp.jsx=pC;jp.jsxs=pC;aC.exports=jp;var s=aC.exports,gC={exports:{}},yn={},vC={exports:{}},xC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,V){var J=O.length;O.push(V);e:for(;0<J;){var he=J-1>>>1,be=O[he];if(0<a(be,V))O[he]=V,O[J]=be,J=he;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var V=O[0],J=O.pop();if(J!==V){O[0]=J;e:for(var he=0,be=O.length,_e=be>>>1;he<_e;){var je=2*(he+1)-1,Oe=O[je],ot=je+1,Q=O[ot];if(0>a(Oe,J))ot<be&&0>a(Q,Oe)?(O[he]=Q,O[ot]=J,he=ot):(O[he]=Oe,O[je]=J,he=je);else if(ot<be&&0>a(Q,J))O[he]=Q,O[ot]=J,he=ot;else break e}}return V}function a(O,V){var J=O.sortIndex-V.sortIndex;return J!==0?J:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var V=r(u);V!==null;){if(V.callback===null)n(u);else if(V.startTime<=O)n(u),V.sortIndex=V.expirationTime,t(c,V);else break;V=r(u)}}function j(O){if(v=!1,w(O),!g)if(r(c)!==null)g=!0,H(S);else{var V=r(u);V!==null&&q(j,V.startTime-O)}}function S(O,V){g=!1,v&&(v=!1,y(E),E=-1),p=!0;var J=h;try{for(w(V),f=r(c);f!==null&&(!(f.expirationTime>V)||O&&!R());){var he=f.callback;if(typeof he=="function"){f.callback=null,h=f.priorityLevel;var be=he(f.expirationTime<=V);V=e.unstable_now(),typeof be=="function"?f.callback=be:f===r(c)&&n(c),w(V)}else n(c);f=r(c)}if(f!==null)var _e=!0;else{var je=r(u);je!==null&&q(j,je.startTime-V),_e=!1}return _e}finally{f=null,h=J,p=!1}}var N=!1,_=null,E=-1,k=5,A=-1;function R(){return!(e.unstable_now()-A<k)}function D(){if(_!==null){var O=e.unstable_now();A=O;var V=!0;try{V=_(!0,O)}finally{V?F():(N=!1,_=null)}}else N=!1}var F;if(typeof b=="function")F=function(){b(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,K=W.port2;W.port1.onmessage=D,F=function(){K.postMessage(null)}}else F=function(){x(D,0)};function H(O){_=O,N||(N=!0,F())}function q(O,V){E=x(function(){O(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,H(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var J=h;h=V;try{return O()}finally{h=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var J=h;h=O;try{return V()}finally{h=J}},e.unstable_scheduleCallback=function(O,V,J){var he=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?he+J:he):J=he,O){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=J+be,O={id:d++,callback:V,priorityLevel:O,startTime:J,expirationTime:be,sortIndex:-1},J>he?(O.sortIndex=J,t(u,O),r(c)===null&&O===r(u)&&(v?(y(E),E=-1):v=!0,q(j,J-he))):(O.sortIndex=be,t(c,O),g||p||(g=!0,H(S))),O},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(O){var V=h;return function(){var J=h;h=V;try{return O.apply(this,arguments)}finally{h=J}}}})(xC);vC.exports=xC;var AF=vC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OF=m,mn=AF;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yC=new Set,Fu={};function qo(e,t){Yl(e,t),Yl(e+"Capture",t)}function Yl(e,t){for(Fu[e]=t,e=0;e<t.length;e++)yC.add(t[e])}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qx=Object.prototype.hasOwnProperty,TF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,WN={},qN={};function IF(e){return qx.call(qN,e)?!0:qx.call(WN,e)?!1:TF.test(e)?qN[e]=!0:(WN[e]=!0,!1)}function RF(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function MF(e,t,r,n){if(t===null||typeof t>"u"||RF(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $r(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var xr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xr[e]=new $r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xr[t]=new $r(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xr[e]=new $r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xr[e]=new $r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xr[e]=new $r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xr[e]=new $r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xr[e]=new $r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xr[e]=new $r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xr[e]=new $r(e,5,!1,e.toLowerCase(),null,!1,!1)});var _b=/[\-:]([a-z])/g;function Eb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_b,Eb);xr[t]=new $r(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_b,Eb);xr[t]=new $r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_b,Eb);xr[t]=new $r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xr[e]=new $r(e,1,!1,e.toLowerCase(),null,!1,!1)});xr.xlinkHref=new $r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xr[e]=new $r(e,1,!1,e.toLowerCase(),null,!0,!0)});function kb(e,t,r,n){var a=xr.hasOwnProperty(t)?xr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(MF(t,r,a,n)&&(r=null),n||a===null?IF(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ea=OF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ff=Symbol.for("react.element"),vl=Symbol.for("react.portal"),xl=Symbol.for("react.fragment"),Pb=Symbol.for("react.strict_mode"),Kx=Symbol.for("react.profiler"),bC=Symbol.for("react.provider"),wC=Symbol.for("react.context"),Cb=Symbol.for("react.forward_ref"),Hx=Symbol.for("react.suspense"),Yx=Symbol.for("react.suspense_list"),Ab=Symbol.for("react.memo"),Va=Symbol.for("react.lazy"),jC=Symbol.for("react.offscreen"),KN=Symbol.iterator;function qc(e){return e===null||typeof e!="object"?null:(e=KN&&e[KN]||e["@@iterator"],typeof e=="function"?e:null)}var Et=Object.assign,jv;function pu(e){if(jv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);jv=t&&t[1]||""}return`
`+jv+e}var Sv=!1;function Nv(e,t){if(!e||Sv)return"";Sv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Sv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?pu(e):""}function DF(e){switch(e.tag){case 5:return pu(e.type);case 16:return pu("Lazy");case 13:return pu("Suspense");case 19:return pu("SuspenseList");case 0:case 2:case 15:return e=Nv(e.type,!1),e;case 11:return e=Nv(e.type.render,!1),e;case 1:return e=Nv(e.type,!0),e;default:return""}}function Gx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xl:return"Fragment";case vl:return"Portal";case Kx:return"Profiler";case Pb:return"StrictMode";case Hx:return"Suspense";case Yx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wC:return(e.displayName||"Context")+".Consumer";case bC:return(e._context.displayName||"Context")+".Provider";case Cb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ab:return t=e.displayName||null,t!==null?t:Gx(e.type)||"Memo";case Va:t=e._payload,e=e._init;try{return Gx(e(t))}catch{}}return null}function LF(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gx(t);case 8:return t===Pb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function SC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $F(e){var t=SC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hf(e){e._valueTracker||(e._valueTracker=$F(e))}function NC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=SC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Kh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jx(e,t){var r=t.checked;return Et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function HN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=pi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _C(e,t){t=t.checked,t!=null&&kb(e,"checked",t,!1)}function Xx(e,t){_C(e,t);var r=pi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qx(e,t.type,r):t.hasOwnProperty("defaultValue")&&Qx(e,t.type,pi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function YN(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qx(e,t,r){(t!=="number"||Kh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var gu=Array.isArray;function Dl(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+pi(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Zx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function GN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(gu(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:pi(r)}}function EC(e,t){var r=pi(t.value),n=pi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function JN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mf,PC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(mf=mf||document.createElement("div"),mf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=mf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FF=["Webkit","ms","Moz","O"];Object.keys(Nu).forEach(function(e){FF.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nu[t]=Nu[e]})});function CC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Nu.hasOwnProperty(e)&&Nu[e]?(""+t).trim():t+"px"}function AC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=CC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var BF=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t0(e,t){if(t){if(BF[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function r0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n0=null;function Ob(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var s0=null,Ll=null,$l=null;function XN(e){if(e=Ad(e)){if(typeof s0!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Pp(t),s0(e.stateNode,e.type,t))}}function OC(e){Ll?$l?$l.push(e):$l=[e]:Ll=e}function TC(){if(Ll){var e=Ll,t=$l;if($l=Ll=null,XN(e),t)for(e=0;e<t.length;e++)XN(t[e])}}function IC(e,t){return e(t)}function RC(){}var _v=!1;function MC(e,t,r){if(_v)return e(t,r);_v=!0;try{return IC(e,t,r)}finally{_v=!1,(Ll!==null||$l!==null)&&(RC(),TC())}}function Uu(e,t){var r=e.stateNode;if(r===null)return null;var n=Pp(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var a0=!1;if(ma)try{var Kc={};Object.defineProperty(Kc,"passive",{get:function(){a0=!0}}),window.addEventListener("test",Kc,Kc),window.removeEventListener("test",Kc,Kc)}catch{a0=!1}function UF(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var _u=!1,Hh=null,Yh=!1,i0=null,VF={onError:function(e){_u=!0,Hh=e}};function zF(e,t,r,n,a,i,o,l,c){_u=!1,Hh=null,UF.apply(VF,arguments)}function WF(e,t,r,n,a,i,o,l,c){if(zF.apply(this,arguments),_u){if(_u){var u=Hh;_u=!1,Hh=null}else throw Error(G(198));Yh||(Yh=!0,i0=u)}}function Ko(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function DC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function QN(e){if(Ko(e)!==e)throw Error(G(188))}function qF(e){var t=e.alternate;if(!t){if(t=Ko(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return QN(a),e;if(i===n)return QN(a),t;i=i.sibling}throw Error(G(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function LC(e){return e=qF(e),e!==null?$C(e):null}function $C(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$C(e);if(t!==null)return t;e=e.sibling}return null}var FC=mn.unstable_scheduleCallback,ZN=mn.unstable_cancelCallback,KF=mn.unstable_shouldYield,HF=mn.unstable_requestPaint,Rt=mn.unstable_now,YF=mn.unstable_getCurrentPriorityLevel,Tb=mn.unstable_ImmediatePriority,BC=mn.unstable_UserBlockingPriority,Gh=mn.unstable_NormalPriority,GF=mn.unstable_LowPriority,UC=mn.unstable_IdlePriority,Np=null,Ds=null;function JF(e){if(Ds&&typeof Ds.onCommitFiberRoot=="function")try{Ds.onCommitFiberRoot(Np,e,void 0,(e.current.flags&128)===128)}catch{}}var fs=Math.clz32?Math.clz32:ZF,XF=Math.log,QF=Math.LN2;function ZF(e){return e>>>=0,e===0?32:31-(XF(e)/QF|0)|0}var pf=64,gf=4194304;function vu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jh(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=vu(l):(i&=o,i!==0&&(n=vu(i)))}else o=r&~a,o!==0?n=vu(o):i!==0&&(n=vu(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-fs(t),a=1<<r,n|=e[r],t&=~a;return n}function eB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tB(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-fs(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=eB(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function o0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function VC(){var e=pf;return pf<<=1,!(pf&4194240)&&(pf=64),e}function Ev(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fs(t),e[t]=r}function rB(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-fs(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Ib(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fs(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ke=0;function zC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var WC,Rb,qC,KC,HC,l0=!1,vf=[],ti=null,ri=null,ni=null,Vu=new Map,zu=new Map,Ka=[],nB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e1(e,t){switch(e){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":Vu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(t.pointerId)}}function Hc(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ad(t),t!==null&&Rb(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function sB(e,t,r,n,a){switch(t){case"focusin":return ti=Hc(ti,e,t,r,n,a),!0;case"dragenter":return ri=Hc(ri,e,t,r,n,a),!0;case"mouseover":return ni=Hc(ni,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Vu.set(i,Hc(Vu.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,zu.set(i,Hc(zu.get(i)||null,e,t,r,n,a)),!0}return!1}function YC(e){var t=oo(e.target);if(t!==null){var r=Ko(t);if(r!==null){if(t=r.tag,t===13){if(t=DC(r),t!==null){e.blockedOn=t,HC(e.priority,function(){qC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=c0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);n0=n,r.target.dispatchEvent(n),n0=null}else return t=Ad(r),t!==null&&Rb(t),e.blockedOn=r,!1;t.shift()}return!0}function t1(e,t,r){Nh(e)&&r.delete(t)}function aB(){l0=!1,ti!==null&&Nh(ti)&&(ti=null),ri!==null&&Nh(ri)&&(ri=null),ni!==null&&Nh(ni)&&(ni=null),Vu.forEach(t1),zu.forEach(t1)}function Yc(e,t){e.blockedOn===t&&(e.blockedOn=null,l0||(l0=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,aB)))}function Wu(e){function t(a){return Yc(a,e)}if(0<vf.length){Yc(vf[0],e);for(var r=1;r<vf.length;r++){var n=vf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ti!==null&&Yc(ti,e),ri!==null&&Yc(ri,e),ni!==null&&Yc(ni,e),Vu.forEach(t),zu.forEach(t),r=0;r<Ka.length;r++)n=Ka[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ka.length&&(r=Ka[0],r.blockedOn===null);)YC(r),r.blockedOn===null&&Ka.shift()}var Fl=Ea.ReactCurrentBatchConfig,Xh=!0;function iB(e,t,r,n){var a=Ke,i=Fl.transition;Fl.transition=null;try{Ke=1,Mb(e,t,r,n)}finally{Ke=a,Fl.transition=i}}function oB(e,t,r,n){var a=Ke,i=Fl.transition;Fl.transition=null;try{Ke=4,Mb(e,t,r,n)}finally{Ke=a,Fl.transition=i}}function Mb(e,t,r,n){if(Xh){var a=c0(e,t,r,n);if(a===null)Dv(e,t,n,Qh,r),e1(e,n);else if(sB(a,e,t,r,n))n.stopPropagation();else if(e1(e,n),t&4&&-1<nB.indexOf(e)){for(;a!==null;){var i=Ad(a);if(i!==null&&WC(i),i=c0(e,t,r,n),i===null&&Dv(e,t,n,Qh,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Dv(e,t,n,null,r)}}var Qh=null;function c0(e,t,r,n){if(Qh=null,e=Ob(n),e=oo(e),e!==null)if(t=Ko(e),t===null)e=null;else if(r=t.tag,r===13){if(e=DC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qh=e,null}function GC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YF()){case Tb:return 1;case BC:return 4;case Gh:case GF:return 16;case UC:return 536870912;default:return 16}default:return 16}}var Xa=null,Db=null,_h=null;function JC(){if(_h)return _h;var e,t=Db,r=t.length,n,a="value"in Xa?Xa.value:Xa.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return _h=a.slice(e,1<n?1-n:void 0)}function Eh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xf(){return!0}function r1(){return!1}function bn(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xf:r1,this.isPropagationStopped=r1,this}return Et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xf)},persist:function(){},isPersistent:xf}),t}var bc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lb=bn(bc),Cd=Et({},bc,{view:0,detail:0}),lB=bn(Cd),kv,Pv,Gc,_p=Et({},Cd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$b,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gc&&(Gc&&e.type==="mousemove"?(kv=e.screenX-Gc.screenX,Pv=e.screenY-Gc.screenY):Pv=kv=0,Gc=e),kv)},movementY:function(e){return"movementY"in e?e.movementY:Pv}}),n1=bn(_p),cB=Et({},_p,{dataTransfer:0}),uB=bn(cB),dB=Et({},Cd,{relatedTarget:0}),Cv=bn(dB),fB=Et({},bc,{animationName:0,elapsedTime:0,pseudoElement:0}),hB=bn(fB),mB=Et({},bc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pB=bn(mB),gB=Et({},bc,{data:0}),s1=bn(gB),vB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yB[e])?!!t[e]:!1}function $b(){return bB}var wB=Et({},Cd,{key:function(e){if(e.key){var t=vB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Eh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$b,charCode:function(e){return e.type==="keypress"?Eh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Eh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jB=bn(wB),SB=Et({},_p,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a1=bn(SB),NB=Et({},Cd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$b}),_B=bn(NB),EB=Et({},bc,{propertyName:0,elapsedTime:0,pseudoElement:0}),kB=bn(EB),PB=Et({},_p,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CB=bn(PB),AB=[9,13,27,32],Fb=ma&&"CompositionEvent"in window,Eu=null;ma&&"documentMode"in document&&(Eu=document.documentMode);var OB=ma&&"TextEvent"in window&&!Eu,XC=ma&&(!Fb||Eu&&8<Eu&&11>=Eu),i1=" ",o1=!1;function QC(e,t){switch(e){case"keyup":return AB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yl=!1;function TB(e,t){switch(e){case"compositionend":return ZC(t);case"keypress":return t.which!==32?null:(o1=!0,i1);case"textInput":return e=t.data,e===i1&&o1?null:e;default:return null}}function IB(e,t){if(yl)return e==="compositionend"||!Fb&&QC(e,t)?(e=JC(),_h=Db=Xa=null,yl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return XC&&t.locale!=="ko"?null:t.data;default:return null}}var RB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RB[e.type]:t==="textarea"}function eA(e,t,r,n){OC(n),t=Zh(t,"onChange"),0<t.length&&(r=new Lb("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ku=null,qu=null;function MB(e){dA(e,0)}function Ep(e){var t=jl(e);if(NC(t))return e}function DB(e,t){if(e==="change")return t}var tA=!1;if(ma){var Av;if(ma){var Ov="oninput"in document;if(!Ov){var c1=document.createElement("div");c1.setAttribute("oninput","return;"),Ov=typeof c1.oninput=="function"}Av=Ov}else Av=!1;tA=Av&&(!document.documentMode||9<document.documentMode)}function u1(){ku&&(ku.detachEvent("onpropertychange",rA),qu=ku=null)}function rA(e){if(e.propertyName==="value"&&Ep(qu)){var t=[];eA(t,qu,e,Ob(e)),MC(MB,t)}}function LB(e,t,r){e==="focusin"?(u1(),ku=t,qu=r,ku.attachEvent("onpropertychange",rA)):e==="focusout"&&u1()}function $B(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ep(qu)}function FB(e,t){if(e==="click")return Ep(t)}function BB(e,t){if(e==="input"||e==="change")return Ep(t)}function UB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ms=typeof Object.is=="function"?Object.is:UB;function Ku(e,t){if(ms(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!qx.call(t,a)||!ms(e[a],t[a]))return!1}return!0}function d1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f1(e,t){var r=d1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=d1(r)}}function nA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sA(){for(var e=window,t=Kh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Kh(e.document)}return t}function Bb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VB(e){var t=sA(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&nA(r.ownerDocument.documentElement,r)){if(n!==null&&Bb(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=f1(r,i);var o=f1(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zB=ma&&"documentMode"in document&&11>=document.documentMode,bl=null,u0=null,Pu=null,d0=!1;function h1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;d0||bl==null||bl!==Kh(n)||(n=bl,"selectionStart"in n&&Bb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pu&&Ku(Pu,n)||(Pu=n,n=Zh(u0,"onSelect"),0<n.length&&(t=new Lb("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=bl)))}function yf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wl={animationend:yf("Animation","AnimationEnd"),animationiteration:yf("Animation","AnimationIteration"),animationstart:yf("Animation","AnimationStart"),transitionend:yf("Transition","TransitionEnd")},Tv={},aA={};ma&&(aA=document.createElement("div").style,"AnimationEvent"in window||(delete wl.animationend.animation,delete wl.animationiteration.animation,delete wl.animationstart.animation),"TransitionEvent"in window||delete wl.transitionend.transition);function kp(e){if(Tv[e])return Tv[e];if(!wl[e])return e;var t=wl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in aA)return Tv[e]=t[r];return e}var iA=kp("animationend"),oA=kp("animationiteration"),lA=kp("animationstart"),cA=kp("transitionend"),uA=new Map,m1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(e,t){uA.set(e,t),qo(t,[e])}for(var Iv=0;Iv<m1.length;Iv++){var Rv=m1[Iv],WB=Rv.toLowerCase(),qB=Rv[0].toUpperCase()+Rv.slice(1);Pi(WB,"on"+qB)}Pi(iA,"onAnimationEnd");Pi(oA,"onAnimationIteration");Pi(lA,"onAnimationStart");Pi("dblclick","onDoubleClick");Pi("focusin","onFocus");Pi("focusout","onBlur");Pi(cA,"onTransitionEnd");Yl("onMouseEnter",["mouseout","mouseover"]);Yl("onMouseLeave",["mouseout","mouseover"]);Yl("onPointerEnter",["pointerout","pointerover"]);Yl("onPointerLeave",["pointerout","pointerover"]);qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KB=new Set("cancel close invalid load scroll toggle".split(" ").concat(xu));function p1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,WF(n,t,void 0,e),e.currentTarget=null}function dA(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;p1(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;p1(a,l,u),i=c}}}if(Yh)throw e=i0,Yh=!1,i0=null,e}function lt(e,t){var r=t[g0];r===void 0&&(r=t[g0]=new Set);var n=e+"__bubble";r.has(n)||(fA(t,e,2,!1),r.add(n))}function Mv(e,t,r){var n=0;t&&(n|=4),fA(r,e,n,t)}var bf="_reactListening"+Math.random().toString(36).slice(2);function Hu(e){if(!e[bf]){e[bf]=!0,yC.forEach(function(r){r!=="selectionchange"&&(KB.has(r)||Mv(r,!1,e),Mv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bf]||(t[bf]=!0,Mv("selectionchange",!1,t))}}function fA(e,t,r,n){switch(GC(t)){case 1:var a=iB;break;case 4:a=oB;break;default:a=Mb}r=a.bind(null,t,r,e),a=void 0,!a0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Dv(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=oo(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}MC(function(){var u=i,d=Ob(r),f=[];e:{var h=uA.get(e);if(h!==void 0){var p=Lb,g=e;switch(e){case"keypress":if(Eh(r)===0)break e;case"keydown":case"keyup":p=jB;break;case"focusin":g="focus",p=Cv;break;case"focusout":g="blur",p=Cv;break;case"beforeblur":case"afterblur":p=Cv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=n1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=uB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=_B;break;case iA:case oA:case lA:p=hB;break;case cA:p=kB;break;case"scroll":p=lB;break;case"wheel":p=CB;break;case"copy":case"cut":case"paste":p=pB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=a1}var v=(t&4)!==0,x=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var b=u,w;b!==null;){w=b;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,y!==null&&(j=Uu(b,y),j!=null&&v.push(Yu(b,j,w)))),x)break;b=b.return}0<v.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==n0&&(g=r.relatedTarget||r.fromElement)&&(oo(g)||g[pa]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?oo(g):null,g!==null&&(x=Ko(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=n1,j="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=a1,j="onPointerLeave",y="onPointerEnter",b="pointer"),x=p==null?h:jl(p),w=g==null?h:jl(g),h=new v(j,b+"leave",p,r,d),h.target=x,h.relatedTarget=w,j=null,oo(d)===u&&(v=new v(y,b+"enter",g,r,d),v.target=w,v.relatedTarget=x,j=v),x=j,p&&g)t:{for(v=p,y=g,b=0,w=v;w;w=el(w))b++;for(w=0,j=y;j;j=el(j))w++;for(;0<b-w;)v=el(v),b--;for(;0<w-b;)y=el(y),w--;for(;b--;){if(v===y||y!==null&&v===y.alternate)break t;v=el(v),y=el(y)}v=null}else v=null;p!==null&&g1(f,h,p,v,!1),g!==null&&x!==null&&g1(f,x,g,v,!0)}}e:{if(h=u?jl(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=DB;else if(l1(h))if(tA)S=BB;else{S=$B;var N=LB}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=FB);if(S&&(S=S(e,u))){eA(f,S,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Qx(h,"number",h.value)}switch(N=u?jl(u):window,e){case"focusin":(l1(N)||N.contentEditable==="true")&&(bl=N,u0=u,Pu=null);break;case"focusout":Pu=u0=bl=null;break;case"mousedown":d0=!0;break;case"contextmenu":case"mouseup":case"dragend":d0=!1,h1(f,r,d);break;case"selectionchange":if(zB)break;case"keydown":case"keyup":h1(f,r,d)}var _;if(Fb)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else yl?QC(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(XC&&r.locale!=="ko"&&(yl||E!=="onCompositionStart"?E==="onCompositionEnd"&&yl&&(_=JC()):(Xa=d,Db="value"in Xa?Xa.value:Xa.textContent,yl=!0)),N=Zh(u,E),0<N.length&&(E=new s1(E,e,null,r,d),f.push({event:E,listeners:N}),_?E.data=_:(_=ZC(r),_!==null&&(E.data=_)))),(_=OB?TB(e,r):IB(e,r))&&(u=Zh(u,"onBeforeInput"),0<u.length&&(d=new s1("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}dA(f,t)})}function Yu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zh(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Uu(e,r),i!=null&&n.unshift(Yu(e,i,a)),i=Uu(e,t),i!=null&&n.push(Yu(e,i,a))),e=e.return}return n}function el(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function g1(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Uu(r,i),c!=null&&o.unshift(Yu(r,c,l))):a||(c=Uu(r,i),c!=null&&o.push(Yu(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var HB=/\r\n?/g,YB=/\u0000|\uFFFD/g;function v1(e){return(typeof e=="string"?e:""+e).replace(HB,`
`).replace(YB,"")}function wf(e,t,r){if(t=v1(t),v1(e)!==t&&r)throw Error(G(425))}function em(){}var f0=null,h0=null;function m0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var p0=typeof setTimeout=="function"?setTimeout:void 0,GB=typeof clearTimeout=="function"?clearTimeout:void 0,x1=typeof Promise=="function"?Promise:void 0,JB=typeof queueMicrotask=="function"?queueMicrotask:typeof x1<"u"?function(e){return x1.resolve(null).then(e).catch(XB)}:p0;function XB(e){setTimeout(function(){throw e})}function Lv(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Wu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Wu(t)}function si(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function y1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wc=Math.random().toString(36).slice(2),As="__reactFiber$"+wc,Gu="__reactProps$"+wc,pa="__reactContainer$"+wc,g0="__reactEvents$"+wc,QB="__reactListeners$"+wc,ZB="__reactHandles$"+wc;function oo(e){var t=e[As];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pa]||r[As]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=y1(e);e!==null;){if(r=e[As])return r;e=y1(e)}return t}e=r,r=e.parentNode}return null}function Ad(e){return e=e[As]||e[pa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Pp(e){return e[Gu]||null}var v0=[],Sl=-1;function Ci(e){return{current:e}}function ut(e){0>Sl||(e.current=v0[Sl],v0[Sl]=null,Sl--)}function rt(e,t){Sl++,v0[Sl]=e.current,e.current=t}var gi={},Cr=Ci(gi),qr=Ci(!1),No=gi;function Gl(e,t){var r=e.type.contextTypes;if(!r)return gi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Kr(e){return e=e.childContextTypes,e!=null}function tm(){ut(qr),ut(Cr)}function b1(e,t,r){if(Cr.current!==gi)throw Error(G(168));rt(Cr,t),rt(qr,r)}function hA(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(G(108,LF(e)||"Unknown",a));return Et({},r,n)}function rm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gi,No=Cr.current,rt(Cr,e),rt(qr,qr.current),!0}function w1(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=hA(e,t,No),n.__reactInternalMemoizedMergedChildContext=e,ut(qr),ut(Cr),rt(Cr,e)):ut(qr),rt(qr,r)}var ea=null,Cp=!1,$v=!1;function mA(e){ea===null?ea=[e]:ea.push(e)}function eU(e){Cp=!0,mA(e)}function Ai(){if(!$v&&ea!==null){$v=!0;var e=0,t=Ke;try{var r=ea;for(Ke=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ea=null,Cp=!1}catch(a){throw ea!==null&&(ea=ea.slice(e+1)),FC(Tb,Ai),a}finally{Ke=t,$v=!1}}return null}var Nl=[],_l=0,nm=null,sm=0,An=[],On=0,_o=null,na=1,sa="";function Xi(e,t){Nl[_l++]=sm,Nl[_l++]=nm,nm=e,sm=t}function pA(e,t,r){An[On++]=na,An[On++]=sa,An[On++]=_o,_o=e;var n=na;e=sa;var a=32-fs(n)-1;n&=~(1<<a),r+=1;var i=32-fs(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,na=1<<32-fs(t)+a|r<<a|n,sa=i+e}else na=1<<i|r<<a|n,sa=e}function Ub(e){e.return!==null&&(Xi(e,1),pA(e,1,0))}function Vb(e){for(;e===nm;)nm=Nl[--_l],Nl[_l]=null,sm=Nl[--_l],Nl[_l]=null;for(;e===_o;)_o=An[--On],An[On]=null,sa=An[--On],An[On]=null,na=An[--On],An[On]=null}var dn=null,un=null,mt=!1,os=null;function gA(e,t){var r=Rn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function j1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dn=e,un=si(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dn=e,un=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_o!==null?{id:na,overflow:sa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Rn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,dn=e,un=null,!0):!1;default:return!1}}function x0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function y0(e){if(mt){var t=un;if(t){var r=t;if(!j1(e,t)){if(x0(e))throw Error(G(418));t=si(r.nextSibling);var n=dn;t&&j1(e,t)?gA(n,r):(e.flags=e.flags&-4097|2,mt=!1,dn=e)}}else{if(x0(e))throw Error(G(418));e.flags=e.flags&-4097|2,mt=!1,dn=e}}}function S1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dn=e}function jf(e){if(e!==dn)return!1;if(!mt)return S1(e),mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!m0(e.type,e.memoizedProps)),t&&(t=un)){if(x0(e))throw vA(),Error(G(418));for(;t;)gA(e,t),t=si(t.nextSibling)}if(S1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){un=si(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}un=null}}else un=dn?si(e.stateNode.nextSibling):null;return!0}function vA(){for(var e=un;e;)e=si(e.nextSibling)}function Jl(){un=dn=null,mt=!1}function zb(e){os===null?os=[e]:os.push(e)}var tU=Ea.ReactCurrentBatchConfig;function Jc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function Sf(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function N1(e){var t=e._init;return t(e._payload)}function xA(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=li(y,b),y.index=0,y.sibling=null,y}function i(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,w,j){return b===null||b.tag!==6?(b=qv(w,y.mode,j),b.return=y,b):(b=a(b,w),b.return=y,b)}function c(y,b,w,j){var S=w.type;return S===xl?d(y,b,w.props.children,j,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Va&&N1(S)===b.type)?(j=a(b,w.props),j.ref=Jc(y,b,w),j.return=y,j):(j=Ih(w.type,w.key,w.props,null,y.mode,j),j.ref=Jc(y,b,w),j.return=y,j)}function u(y,b,w,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Kv(w,y.mode,j),b.return=y,b):(b=a(b,w.children||[]),b.return=y,b)}function d(y,b,w,j,S){return b===null||b.tag!==7?(b=xo(w,y.mode,j,S),b.return=y,b):(b=a(b,w),b.return=y,b)}function f(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=qv(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ff:return w=Ih(b.type,b.key,b.props,null,y.mode,w),w.ref=Jc(y,null,b),w.return=y,w;case vl:return b=Kv(b,y.mode,w),b.return=y,b;case Va:var j=b._init;return f(y,j(b._payload),w)}if(gu(b)||qc(b))return b=xo(b,y.mode,w,null),b.return=y,b;Sf(y,b)}return null}function h(y,b,w,j){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(y,b,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ff:return w.key===S?c(y,b,w,j):null;case vl:return w.key===S?u(y,b,w,j):null;case Va:return S=w._init,h(y,b,S(w._payload),j)}if(gu(w)||qc(w))return S!==null?null:d(y,b,w,j,null);Sf(y,w)}return null}function p(y,b,w,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(w)||null,l(b,y,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ff:return y=y.get(j.key===null?w:j.key)||null,c(b,y,j,S);case vl:return y=y.get(j.key===null?w:j.key)||null,u(b,y,j,S);case Va:var N=j._init;return p(y,b,w,N(j._payload),S)}if(gu(j)||qc(j))return y=y.get(w)||null,d(b,y,j,S,null);Sf(b,j)}return null}function g(y,b,w,j){for(var S=null,N=null,_=b,E=b=0,k=null;_!==null&&E<w.length;E++){_.index>E?(k=_,_=null):k=_.sibling;var A=h(y,_,w[E],j);if(A===null){_===null&&(_=k);break}e&&_&&A.alternate===null&&t(y,_),b=i(A,b,E),N===null?S=A:N.sibling=A,N=A,_=k}if(E===w.length)return r(y,_),mt&&Xi(y,E),S;if(_===null){for(;E<w.length;E++)_=f(y,w[E],j),_!==null&&(b=i(_,b,E),N===null?S=_:N.sibling=_,N=_);return mt&&Xi(y,E),S}for(_=n(y,_);E<w.length;E++)k=p(_,y,E,w[E],j),k!==null&&(e&&k.alternate!==null&&_.delete(k.key===null?E:k.key),b=i(k,b,E),N===null?S=k:N.sibling=k,N=k);return e&&_.forEach(function(R){return t(y,R)}),mt&&Xi(y,E),S}function v(y,b,w,j){var S=qc(w);if(typeof S!="function")throw Error(G(150));if(w=S.call(w),w==null)throw Error(G(151));for(var N=S=null,_=b,E=b=0,k=null,A=w.next();_!==null&&!A.done;E++,A=w.next()){_.index>E?(k=_,_=null):k=_.sibling;var R=h(y,_,A.value,j);if(R===null){_===null&&(_=k);break}e&&_&&R.alternate===null&&t(y,_),b=i(R,b,E),N===null?S=R:N.sibling=R,N=R,_=k}if(A.done)return r(y,_),mt&&Xi(y,E),S;if(_===null){for(;!A.done;E++,A=w.next())A=f(y,A.value,j),A!==null&&(b=i(A,b,E),N===null?S=A:N.sibling=A,N=A);return mt&&Xi(y,E),S}for(_=n(y,_);!A.done;E++,A=w.next())A=p(_,y,E,A.value,j),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?E:A.key),b=i(A,b,E),N===null?S=A:N.sibling=A,N=A);return e&&_.forEach(function(D){return t(y,D)}),mt&&Xi(y,E),S}function x(y,b,w,j){if(typeof w=="object"&&w!==null&&w.type===xl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ff:e:{for(var S=w.key,N=b;N!==null;){if(N.key===S){if(S=w.type,S===xl){if(N.tag===7){r(y,N.sibling),b=a(N,w.props.children),b.return=y,y=b;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Va&&N1(S)===N.type){r(y,N.sibling),b=a(N,w.props),b.ref=Jc(y,N,w),b.return=y,y=b;break e}r(y,N);break}else t(y,N);N=N.sibling}w.type===xl?(b=xo(w.props.children,y.mode,j,w.key),b.return=y,y=b):(j=Ih(w.type,w.key,w.props,null,y.mode,j),j.ref=Jc(y,b,w),j.return=y,y=j)}return o(y);case vl:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(y,b.sibling),b=a(b,w.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=Kv(w,y.mode,j),b.return=y,y=b}return o(y);case Va:return N=w._init,x(y,b,N(w._payload),j)}if(gu(w))return g(y,b,w,j);if(qc(w))return v(y,b,w,j);Sf(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,w),b.return=y,y=b):(r(y,b),b=qv(w,y.mode,j),b.return=y,y=b),o(y)):r(y,b)}return x}var Xl=xA(!0),yA=xA(!1),am=Ci(null),im=null,El=null,Wb=null;function qb(){Wb=El=im=null}function Kb(e){var t=am.current;ut(am),e._currentValue=t}function b0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Bl(e,t){im=e,Wb=El=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zr=!0),e.firstContext=null)}function Vn(e){var t=e._currentValue;if(Wb!==e)if(e={context:e,memoizedValue:t,next:null},El===null){if(im===null)throw Error(G(308));El=e,im.dependencies={lanes:0,firstContext:e}}else El=El.next=e;return t}var lo=null;function Hb(e){lo===null?lo=[e]:lo.push(e)}function bA(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Hb(t)):(r.next=a.next,a.next=r),t.interleaved=r,ga(e,n)}function ga(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var za=!1;function Yb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ai(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Me&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ga(e,r)}return a=n.interleaved,a===null?(t.next=t,Hb(n)):(t.next=a.next,a.next=t),n.interleaved=t,ga(e,r)}function kh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ib(e,r)}}function _1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function om(e,t,r,n){var a=e.updateQueue;za=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(h=t,p=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Et({},f,h);break e;case 2:za=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ko|=o,e.lanes=o,e.memoizedState=f}}function E1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(G(191,a));a.call(n)}}}var Od={},Ls=Ci(Od),Ju=Ci(Od),Xu=Ci(Od);function co(e){if(e===Od)throw Error(G(174));return e}function Gb(e,t){switch(rt(Xu,t),rt(Ju,e),rt(Ls,Od),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:e0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=e0(t,e)}ut(Ls),rt(Ls,t)}function Ql(){ut(Ls),ut(Ju),ut(Xu)}function jA(e){co(Xu.current);var t=co(Ls.current),r=e0(t,e.type);t!==r&&(rt(Ju,e),rt(Ls,r))}function Jb(e){Ju.current===e&&(ut(Ls),ut(Ju))}var St=Ci(0);function lm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fv=[];function Xb(){for(var e=0;e<Fv.length;e++)Fv[e]._workInProgressVersionPrimary=null;Fv.length=0}var Ph=Ea.ReactCurrentDispatcher,Bv=Ea.ReactCurrentBatchConfig,Eo=0,_t=null,Gt=null,nr=null,cm=!1,Cu=!1,Qu=0,rU=0;function wr(){throw Error(G(321))}function Qb(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ms(e[r],t[r]))return!1;return!0}function Zb(e,t,r,n,a,i){if(Eo=i,_t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ph.current=e===null||e.memoizedState===null?iU:oU,e=r(n,a),Cu){i=0;do{if(Cu=!1,Qu=0,25<=i)throw Error(G(301));i+=1,nr=Gt=null,t.updateQueue=null,Ph.current=lU,e=r(n,a)}while(Cu)}if(Ph.current=um,t=Gt!==null&&Gt.next!==null,Eo=0,nr=Gt=_t=null,cm=!1,t)throw Error(G(300));return e}function ew(){var e=Qu!==0;return Qu=0,e}function _s(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?_t.memoizedState=nr=e:nr=nr.next=e,nr}function zn(){if(Gt===null){var e=_t.alternate;e=e!==null?e.memoizedState:null}else e=Gt.next;var t=nr===null?_t.memoizedState:nr.next;if(t!==null)nr=t,Gt=e;else{if(e===null)throw Error(G(310));Gt=e,e={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},nr===null?_t.memoizedState=nr=e:nr=nr.next=e}return nr}function Zu(e,t){return typeof t=="function"?t(e):t}function Uv(e){var t=zn(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=Gt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Eo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,_t.lanes|=d,ko|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,ms(n,t.memoizedState)||(zr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,_t.lanes|=i,ko|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Vv(e){var t=zn(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ms(i,t.memoizedState)||(zr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function SA(){}function NA(e,t){var r=_t,n=zn(),a=t(),i=!ms(n.memoizedState,a);if(i&&(n.memoizedState=a,zr=!0),n=n.queue,tw(kA.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||nr!==null&&nr.memoizedState.tag&1){if(r.flags|=2048,ed(9,EA.bind(null,r,n,a,t),void 0,null),lr===null)throw Error(G(349));Eo&30||_A(r,t,a)}return a}function _A(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function EA(e,t,r,n){t.value=r,t.getSnapshot=n,PA(t)&&CA(e)}function kA(e,t,r){return r(function(){PA(t)&&CA(e)})}function PA(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ms(e,r)}catch{return!0}}function CA(e){var t=ga(e,1);t!==null&&hs(t,e,1,-1)}function k1(e){var t=_s();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zu,lastRenderedState:e},t.queue=e,e=e.dispatch=aU.bind(null,_t,e),[t.memoizedState,e]}function ed(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function AA(){return zn().memoizedState}function Ch(e,t,r,n){var a=_s();_t.flags|=e,a.memoizedState=ed(1|t,r,void 0,n===void 0?null:n)}function Ap(e,t,r,n){var a=zn();n=n===void 0?null:n;var i=void 0;if(Gt!==null){var o=Gt.memoizedState;if(i=o.destroy,n!==null&&Qb(n,o.deps)){a.memoizedState=ed(t,r,i,n);return}}_t.flags|=e,a.memoizedState=ed(1|t,r,i,n)}function P1(e,t){return Ch(8390656,8,e,t)}function tw(e,t){return Ap(2048,8,e,t)}function OA(e,t){return Ap(4,2,e,t)}function TA(e,t){return Ap(4,4,e,t)}function IA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function RA(e,t,r){return r=r!=null?r.concat([e]):null,Ap(4,4,IA.bind(null,t,e),r)}function rw(){}function MA(e,t){var r=zn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Qb(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function DA(e,t){var r=zn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Qb(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function LA(e,t,r){return Eo&21?(ms(r,t)||(r=VC(),_t.lanes|=r,ko|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zr=!0),e.memoizedState=r)}function nU(e,t){var r=Ke;Ke=r!==0&&4>r?r:4,e(!0);var n=Bv.transition;Bv.transition={};try{e(!1),t()}finally{Ke=r,Bv.transition=n}}function $A(){return zn().memoizedState}function sU(e,t,r){var n=oi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},FA(e))BA(t,r);else if(r=bA(e,t,r,n),r!==null){var a=Mr();hs(r,e,n,a),UA(r,t,n)}}function aU(e,t,r){var n=oi(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(FA(e))BA(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,ms(l,o)){var c=t.interleaved;c===null?(a.next=a,Hb(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=bA(e,t,a,n),r!==null&&(a=Mr(),hs(r,e,n,a),UA(r,t,n))}}function FA(e){var t=e.alternate;return e===_t||t!==null&&t===_t}function BA(e,t){Cu=cm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function UA(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ib(e,r)}}var um={readContext:Vn,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},iU={readContext:Vn,useCallback:function(e,t){return _s().memoizedState=[e,t===void 0?null:t],e},useContext:Vn,useEffect:P1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ch(4194308,4,IA.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ch(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ch(4,2,e,t)},useMemo:function(e,t){var r=_s();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=_s();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=sU.bind(null,_t,e),[n.memoizedState,e]},useRef:function(e){var t=_s();return e={current:e},t.memoizedState=e},useState:k1,useDebugValue:rw,useDeferredValue:function(e){return _s().memoizedState=e},useTransition:function(){var e=k1(!1),t=e[0];return e=nU.bind(null,e[1]),_s().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=_t,a=_s();if(mt){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),lr===null)throw Error(G(349));Eo&30||_A(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,P1(kA.bind(null,n,i,e),[e]),n.flags|=2048,ed(9,EA.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=_s(),t=lr.identifierPrefix;if(mt){var r=sa,n=na;r=(n&~(1<<32-fs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Qu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=rU++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oU={readContext:Vn,useCallback:MA,useContext:Vn,useEffect:tw,useImperativeHandle:RA,useInsertionEffect:OA,useLayoutEffect:TA,useMemo:DA,useReducer:Uv,useRef:AA,useState:function(){return Uv(Zu)},useDebugValue:rw,useDeferredValue:function(e){var t=zn();return LA(t,Gt.memoizedState,e)},useTransition:function(){var e=Uv(Zu)[0],t=zn().memoizedState;return[e,t]},useMutableSource:SA,useSyncExternalStore:NA,useId:$A,unstable_isNewReconciler:!1},lU={readContext:Vn,useCallback:MA,useContext:Vn,useEffect:tw,useImperativeHandle:RA,useInsertionEffect:OA,useLayoutEffect:TA,useMemo:DA,useReducer:Vv,useRef:AA,useState:function(){return Vv(Zu)},useDebugValue:rw,useDeferredValue:function(e){var t=zn();return Gt===null?t.memoizedState=e:LA(t,Gt.memoizedState,e)},useTransition:function(){var e=Vv(Zu)[0],t=zn().memoizedState;return[e,t]},useMutableSource:SA,useSyncExternalStore:NA,useId:$A,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){t=Et({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function w0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Et({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Op={isMounted:function(e){return(e=e._reactInternals)?Ko(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mr(),a=oi(e),i=ua(n,a);i.payload=t,r!=null&&(i.callback=r),t=ai(e,i,a),t!==null&&(hs(t,e,a,n),kh(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mr(),a=oi(e),i=ua(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ai(e,i,a),t!==null&&(hs(t,e,a,n),kh(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mr(),n=oi(e),a=ua(r,n);a.tag=2,t!=null&&(a.callback=t),t=ai(e,a,n),t!==null&&(hs(t,e,n,r),kh(t,e,n))}};function C1(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ku(r,n)||!Ku(a,i):!0}function VA(e,t,r){var n=!1,a=gi,i=t.contextType;return typeof i=="object"&&i!==null?i=Vn(i):(a=Kr(t)?No:Cr.current,n=t.contextTypes,i=(n=n!=null)?Gl(e,a):gi),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Op,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function A1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Op.enqueueReplaceState(t,t.state,null)}function j0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Yb(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Vn(i):(i=Kr(t)?No:Cr.current,a.context=Gl(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(w0(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Op.enqueueReplaceState(a,a.state,null),om(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Zl(e,t){try{var r="",n=t;do r+=DF(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function zv(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function S0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var cU=typeof WeakMap=="function"?WeakMap:Map;function zA(e,t,r){r=ua(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){fm||(fm=!0,I0=n),S0(e,t)},r}function WA(e,t,r){r=ua(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){S0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){S0(e,t),typeof n!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function O1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new cU;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=SU.bind(null,e,t,r),t.then(e,e))}function T1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function I1(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ua(-1,1),t.tag=2,ai(r,t,1))),r.lanes|=1),e)}var uU=Ea.ReactCurrentOwner,zr=!1;function Or(e,t,r,n){t.child=e===null?yA(t,null,r,n):Xl(t,e.child,r,n)}function R1(e,t,r,n,a){r=r.render;var i=t.ref;return Bl(t,a),n=Zb(e,t,r,n,i,a),r=ew(),e!==null&&!zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,va(e,t,a)):(mt&&r&&Ub(t),t.flags|=1,Or(e,t,n,a),t.child)}function M1(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!uw(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,qA(e,t,i,n,a)):(e=Ih(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ku,r(o,n)&&e.ref===t.ref)return va(e,t,a)}return t.flags|=1,e=li(i,n),e.ref=t.ref,e.return=t,t.child=e}function qA(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Ku(i,n)&&e.ref===t.ref)if(zr=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(zr=!0);else return t.lanes=e.lanes,va(e,t,a)}return N0(e,t,r,n,a)}function KA(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Pl,tn),tn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rt(Pl,tn),tn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,rt(Pl,tn),tn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,rt(Pl,tn),tn|=n;return Or(e,t,a,r),t.child}function HA(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function N0(e,t,r,n,a){var i=Kr(r)?No:Cr.current;return i=Gl(t,i),Bl(t,a),r=Zb(e,t,r,n,i,a),n=ew(),e!==null&&!zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,va(e,t,a)):(mt&&n&&Ub(t),t.flags|=1,Or(e,t,r,a),t.child)}function D1(e,t,r,n,a){if(Kr(r)){var i=!0;rm(t)}else i=!1;if(Bl(t,a),t.stateNode===null)Ah(e,t),VA(t,r,n),j0(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Vn(u):(u=Kr(r)?No:Cr.current,u=Gl(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&A1(t,o,n,u),za=!1;var h=t.memoizedState;o.state=h,om(t,n,o,a),c=t.memoizedState,l!==n||h!==c||qr.current||za?(typeof d=="function"&&(w0(t,r,d,n),c=t.memoizedState),(l=za||C1(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,wA(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ns(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Vn(c):(c=Kr(r)?No:Cr.current,c=Gl(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&A1(t,o,n,c),za=!1,h=t.memoizedState,o.state=h,om(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||qr.current||za?(typeof p=="function"&&(w0(t,r,p,n),g=t.memoizedState),(u=za||C1(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return _0(e,t,r,n,i,a)}function _0(e,t,r,n,a,i){HA(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&w1(t,r,!1),va(e,t,i);n=t.stateNode,uU.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Xl(t,e.child,null,i),t.child=Xl(t,null,l,i)):Or(e,t,l,i),t.memoizedState=n.state,a&&w1(t,r,!0),t.child}function YA(e){var t=e.stateNode;t.pendingContext?b1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b1(e,t.context,!1),Gb(e,t.containerInfo)}function L1(e,t,r,n,a){return Jl(),zb(a),t.flags|=256,Or(e,t,r,n),t.child}var E0={dehydrated:null,treeContext:null,retryLane:0};function k0(e){return{baseLanes:e,cachePool:null,transitions:null}}function GA(e,t,r){var n=t.pendingProps,a=St.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),rt(St,a&1),e===null)return y0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Rp(o,n,0,null),e=xo(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=k0(r),t.memoizedState=E0,e):nw(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return dU(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=li(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=li(l,i):(i=xo(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?k0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=E0,n}return i=e.child,e=i.sibling,n=li(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function nw(e,t){return t=Rp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nf(e,t,r,n){return n!==null&&zb(n),Xl(t,e.child,null,r),e=nw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dU(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=zv(Error(G(422))),Nf(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Rp({mode:"visible",children:n.children},a,0,null),i=xo(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Xl(t,e.child,null,o),t.child.memoizedState=k0(o),t.memoizedState=E0,i);if(!(t.mode&1))return Nf(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(G(419)),n=zv(i,n,void 0),Nf(e,t,o,n)}if(l=(o&e.childLanes)!==0,zr||l){if(n=lr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ga(e,a),hs(n,e,a,-1))}return cw(),n=zv(Error(G(421))),Nf(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=NU.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,un=si(a.nextSibling),dn=t,mt=!0,os=null,e!==null&&(An[On++]=na,An[On++]=sa,An[On++]=_o,na=e.id,sa=e.overflow,_o=t),t=nw(t,n.children),t.flags|=4096,t)}function $1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),b0(e.return,t,r)}function Wv(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function JA(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Or(e,t,n.children,r),n=St.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$1(e,r,t);else if(e.tag===19)$1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(rt(St,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&lm(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Wv(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&lm(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Wv(t,!0,r,null,i);break;case"together":Wv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ah(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function va(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ko|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=li(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=li(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function fU(e,t,r){switch(t.tag){case 3:YA(t),Jl();break;case 5:jA(t);break;case 1:Kr(t.type)&&rm(t);break;case 4:Gb(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;rt(am,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(rt(St,St.current&1),t.flags|=128,null):r&t.child.childLanes?GA(e,t,r):(rt(St,St.current&1),e=va(e,t,r),e!==null?e.sibling:null);rt(St,St.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return JA(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),rt(St,St.current),n)break;return null;case 22:case 23:return t.lanes=0,KA(e,t,r)}return va(e,t,r)}var XA,P0,QA,ZA;XA=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};P0=function(){};QA=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,co(Ls.current);var i=null;switch(r){case"input":a=Jx(e,a),n=Jx(e,n),i=[];break;case"select":a=Et({},a,{value:void 0}),n=Et({},n,{value:void 0}),i=[];break;case"textarea":a=Zx(e,a),n=Zx(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=em)}t0(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a?.[u],n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&lt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ZA=function(e,t,r,n){r!==n&&(t.flags|=4)};function Xc(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function jr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function hU(e,t,r){var n=t.pendingProps;switch(Vb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(t),null;case 1:return Kr(t.type)&&tm(),jr(t),null;case 3:return n=t.stateNode,Ql(),ut(qr),ut(Cr),Xb(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(jf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,os!==null&&(D0(os),os=null))),P0(e,t),jr(t),null;case 5:Jb(t);var a=co(Xu.current);if(r=t.type,e!==null&&t.stateNode!=null)QA(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return jr(t),null}if(e=co(Ls.current),jf(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[As]=t,n[Gu]=i,e=(t.mode&1)!==0,r){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(a=0;a<xu.length;a++)lt(xu[a],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":HN(n,i),lt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},lt("invalid",n);break;case"textarea":GN(n,i),lt("invalid",n)}t0(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&wf(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&wf(n.textContent,l,e),a=["children",""+l]):Fu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&lt("scroll",n)}switch(r){case"input":hf(n),YN(n,i,!0);break;case"textarea":hf(n),JN(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=em)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[As]=t,e[Gu]=n,XA(e,t,!1,!1),t.stateNode=e;e:{switch(o=r0(r,n),r){case"dialog":lt("cancel",e),lt("close",e),a=n;break;case"iframe":case"object":case"embed":lt("load",e),a=n;break;case"video":case"audio":for(a=0;a<xu.length;a++)lt(xu[a],e);a=n;break;case"source":lt("error",e),a=n;break;case"img":case"image":case"link":lt("error",e),lt("load",e),a=n;break;case"details":lt("toggle",e),a=n;break;case"input":HN(e,n),a=Jx(e,n),lt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Et({},n,{value:void 0}),lt("invalid",e);break;case"textarea":GN(e,n),a=Zx(e,n),lt("invalid",e);break;default:a=n}t0(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?AC(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&PC(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Bu(e,c):typeof c=="number"&&Bu(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&lt("scroll",e):c!=null&&kb(e,i,c,o))}switch(r){case"input":hf(e),YN(e,n,!1);break;case"textarea":hf(e),JN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+pi(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Dl(e,!!n.multiple,i,!1):n.defaultValue!=null&&Dl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=em)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jr(t),null;case 6:if(e&&t.stateNode!=null)ZA(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=co(Xu.current),co(Ls.current),jf(t)){if(n=t.stateNode,r=t.memoizedProps,n[As]=t,(i=n.nodeValue!==r)&&(e=dn,e!==null))switch(e.tag){case 3:wf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wf(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[As]=t,t.stateNode=n}return jr(t),null;case 13:if(ut(St),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mt&&un!==null&&t.mode&1&&!(t.flags&128))vA(),Jl(),t.flags|=98560,i=!1;else if(i=jf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[As]=t}else Jl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jr(t),i=!1}else os!==null&&(D0(os),os=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||St.current&1?Xt===0&&(Xt=3):cw())),t.updateQueue!==null&&(t.flags|=4),jr(t),null);case 4:return Ql(),P0(e,t),e===null&&Hu(t.stateNode.containerInfo),jr(t),null;case 10:return Kb(t.type._context),jr(t),null;case 17:return Kr(t.type)&&tm(),jr(t),null;case 19:if(ut(St),i=t.memoizedState,i===null)return jr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Xc(i,!1);else{if(Xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=lm(e),o!==null){for(t.flags|=128,Xc(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return rt(St,St.current&1|2),t.child}e=e.sibling}i.tail!==null&&Rt()>ec&&(t.flags|=128,n=!0,Xc(i,!1),t.lanes=4194304)}else{if(!n)if(e=lm(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!mt)return jr(t),null}else 2*Rt()-i.renderingStartTime>ec&&r!==1073741824&&(t.flags|=128,n=!0,Xc(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Rt(),t.sibling=null,r=St.current,rt(St,n?r&1|2:r&1),t):(jr(t),null);case 22:case 23:return lw(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?tn&1073741824&&(jr(t),t.subtreeFlags&6&&(t.flags|=8192)):jr(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function mU(e,t){switch(Vb(t),t.tag){case 1:return Kr(t.type)&&tm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ql(),ut(qr),ut(Cr),Xb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jb(t),null;case 13:if(ut(St),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Jl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ut(St),null;case 4:return Ql(),null;case 10:return Kb(t.type._context),null;case 22:case 23:return lw(),null;case 24:return null;default:return null}}var _f=!1,_r=!1,pU=typeof WeakSet=="function"?WeakSet:Set,te=null;function kl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ct(e,t,n)}else r.current=null}function C0(e,t,r){try{r()}catch(n){Ct(e,t,n)}}var F1=!1;function gU(e,t){if(f0=Xh,e=sA(),Bb(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(h0={focusedElem:e,selectionRange:r},Xh=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,x=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ns(t.type,v),x);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){Ct(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return g=F1,F1=!1,g}function Au(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&C0(t,r,i)}a=a.next}while(a!==n)}}function Tp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function A0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function eO(e){var t=e.alternate;t!==null&&(e.alternate=null,eO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[As],delete t[Gu],delete t[g0],delete t[QB],delete t[ZB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tO(e){return e.tag===5||e.tag===3||e.tag===4}function B1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function O0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=em));else if(n!==4&&(e=e.child,e!==null))for(O0(e,t,r),e=e.sibling;e!==null;)O0(e,t,r),e=e.sibling}function T0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(T0(e,t,r),e=e.sibling;e!==null;)T0(e,t,r),e=e.sibling}var fr=null,as=!1;function Ra(e,t,r){for(r=r.child;r!==null;)rO(e,t,r),r=r.sibling}function rO(e,t,r){if(Ds&&typeof Ds.onCommitFiberUnmount=="function")try{Ds.onCommitFiberUnmount(Np,r)}catch{}switch(r.tag){case 5:_r||kl(r,t);case 6:var n=fr,a=as;fr=null,Ra(e,t,r),fr=n,as=a,fr!==null&&(as?(e=fr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):fr.removeChild(r.stateNode));break;case 18:fr!==null&&(as?(e=fr,r=r.stateNode,e.nodeType===8?Lv(e.parentNode,r):e.nodeType===1&&Lv(e,r),Wu(e)):Lv(fr,r.stateNode));break;case 4:n=fr,a=as,fr=r.stateNode.containerInfo,as=!0,Ra(e,t,r),fr=n,as=a;break;case 0:case 11:case 14:case 15:if(!_r&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&C0(r,t,o),a=a.next}while(a!==n)}Ra(e,t,r);break;case 1:if(!_r&&(kl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ct(r,t,l)}Ra(e,t,r);break;case 21:Ra(e,t,r);break;case 22:r.mode&1?(_r=(n=_r)||r.memoizedState!==null,Ra(e,t,r),_r=n):Ra(e,t,r);break;default:Ra(e,t,r)}}function U1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new pU),t.forEach(function(n){var a=_U.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function es(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:fr=l.stateNode,as=!1;break e;case 3:fr=l.stateNode.containerInfo,as=!0;break e;case 4:fr=l.stateNode.containerInfo,as=!0;break e}l=l.return}if(fr===null)throw Error(G(160));rO(i,o,a),fr=null,as=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Ct(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nO(t,e),t=t.sibling}function nO(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(es(t,e),Ss(e),n&4){try{Au(3,e,e.return),Tp(3,e)}catch(v){Ct(e,e.return,v)}try{Au(5,e,e.return)}catch(v){Ct(e,e.return,v)}}break;case 1:es(t,e),Ss(e),n&512&&r!==null&&kl(r,r.return);break;case 5:if(es(t,e),Ss(e),n&512&&r!==null&&kl(r,r.return),e.flags&32){var a=e.stateNode;try{Bu(a,"")}catch(v){Ct(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&_C(a,i),r0(l,o);var u=r0(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?AC(a,f):d==="dangerouslySetInnerHTML"?PC(a,f):d==="children"?Bu(a,f):kb(a,d,f,u)}switch(l){case"input":Xx(a,i);break;case"textarea":EC(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Dl(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Dl(a,!!i.multiple,i.defaultValue,!0):Dl(a,!!i.multiple,i.multiple?[]:"",!1))}a[Gu]=i}catch(v){Ct(e,e.return,v)}}break;case 6:if(es(t,e),Ss(e),n&4){if(e.stateNode===null)throw Error(G(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){Ct(e,e.return,v)}}break;case 3:if(es(t,e),Ss(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wu(t.containerInfo)}catch(v){Ct(e,e.return,v)}break;case 4:es(t,e),Ss(e);break;case 13:es(t,e),Ss(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(iw=Rt())),n&4&&U1(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(_r=(u=_r)||d,es(t,e),_r=u):es(t,e),Ss(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(te=e,d=e.child;d!==null;){for(f=te=d;te!==null;){switch(h=te,p=h.child,h.tag){case 0:case 11:case 14:case 15:Au(4,h,h.return);break;case 1:kl(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Ct(n,r,v)}}break;case 5:kl(h,h.return);break;case 22:if(h.memoizedState!==null){z1(f);continue}}p!==null?(p.return=h,te=p):z1(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=CC("display",o))}catch(v){Ct(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ct(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:es(t,e),Ss(e),n&4&&U1(e);break;case 21:break;default:es(t,e),Ss(e)}}function Ss(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(tO(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Bu(a,""),n.flags&=-33);var i=B1(e);T0(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=B1(e);O0(e,l,o);break;default:throw Error(G(161))}}catch(c){Ct(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vU(e,t,r){te=e,sO(e)}function sO(e,t,r){for(var n=(e.mode&1)!==0;te!==null;){var a=te,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||_f;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||_r;l=_f;var u=_r;if(_f=o,(_r=c)&&!u)for(te=a;te!==null;)o=te,c=o.child,o.tag===22&&o.memoizedState!==null?W1(a):c!==null?(c.return=o,te=c):W1(a);for(;i!==null;)te=i,sO(i),i=i.sibling;te=a,_f=l,_r=u}V1(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,te=i):V1(e)}}function V1(e){for(;te!==null;){var t=te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_r||Tp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!_r)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ns(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&E1(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}E1(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Wu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}_r||t.flags&512&&A0(t)}catch(h){Ct(t,t.return,h)}}if(t===e){te=null;break}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}}function z1(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,te=r;break}te=t.return}}function W1(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Tp(4,t)}catch(c){Ct(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Ct(t,a,c)}}var i=t.return;try{A0(t)}catch(c){Ct(t,i,c)}break;case 5:var o=t.return;try{A0(t)}catch(c){Ct(t,o,c)}}}catch(c){Ct(t,t.return,c)}if(t===e){te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,te=l;break}te=t.return}}var xU=Math.ceil,dm=Ea.ReactCurrentDispatcher,sw=Ea.ReactCurrentOwner,Fn=Ea.ReactCurrentBatchConfig,Me=0,lr=null,Lt=null,vr=0,tn=0,Pl=Ci(0),Xt=0,td=null,ko=0,Ip=0,aw=0,Ou=null,Ur=null,iw=0,ec=1/0,Qs=null,fm=!1,I0=null,ii=null,Ef=!1,Qa=null,hm=0,Tu=0,R0=null,Oh=-1,Th=0;function Mr(){return Me&6?Rt():Oh!==-1?Oh:Oh=Rt()}function oi(e){return e.mode&1?Me&2&&vr!==0?vr&-vr:tU.transition!==null?(Th===0&&(Th=VC()),Th):(e=Ke,e!==0||(e=window.event,e=e===void 0?16:GC(e.type)),e):1}function hs(e,t,r,n){if(50<Tu)throw Tu=0,R0=null,Error(G(185));Pd(e,r,n),(!(Me&2)||e!==lr)&&(e===lr&&(!(Me&2)&&(Ip|=r),Xt===4&&Ha(e,vr)),Hr(e,n),r===1&&Me===0&&!(t.mode&1)&&(ec=Rt()+500,Cp&&Ai()))}function Hr(e,t){var r=e.callbackNode;tB(e,t);var n=Jh(e,e===lr?vr:0);if(n===0)r!==null&&ZN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ZN(r),t===1)e.tag===0?eU(q1.bind(null,e)):mA(q1.bind(null,e)),JB(function(){!(Me&6)&&Ai()}),r=null;else{switch(zC(n)){case 1:r=Tb;break;case 4:r=BC;break;case 16:r=Gh;break;case 536870912:r=UC;break;default:r=Gh}r=fO(r,aO.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function aO(e,t){if(Oh=-1,Th=0,Me&6)throw Error(G(327));var r=e.callbackNode;if(Ul()&&e.callbackNode!==r)return null;var n=Jh(e,e===lr?vr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=mm(e,n);else{t=n;var a=Me;Me|=2;var i=oO();(lr!==e||vr!==t)&&(Qs=null,ec=Rt()+500,vo(e,t));do try{wU();break}catch(l){iO(e,l)}while(!0);qb(),dm.current=i,Me=a,Lt!==null?t=0:(lr=null,vr=0,t=Xt)}if(t!==0){if(t===2&&(a=o0(e),a!==0&&(n=a,t=M0(e,a))),t===1)throw r=td,vo(e,0),Ha(e,n),Hr(e,Rt()),r;if(t===6)Ha(e,n);else{if(a=e.current.alternate,!(n&30)&&!yU(a)&&(t=mm(e,n),t===2&&(i=o0(e),i!==0&&(n=i,t=M0(e,i))),t===1))throw r=td,vo(e,0),Ha(e,n),Hr(e,Rt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:Qi(e,Ur,Qs);break;case 3:if(Ha(e,n),(n&130023424)===n&&(t=iw+500-Rt(),10<t)){if(Jh(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Mr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=p0(Qi.bind(null,e,Ur,Qs),t);break}Qi(e,Ur,Qs);break;case 4:if(Ha(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-fs(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Rt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xU(n/1960))-n,10<n){e.timeoutHandle=p0(Qi.bind(null,e,Ur,Qs),n);break}Qi(e,Ur,Qs);break;case 5:Qi(e,Ur,Qs);break;default:throw Error(G(329))}}}return Hr(e,Rt()),e.callbackNode===r?aO.bind(null,e):null}function M0(e,t){var r=Ou;return e.current.memoizedState.isDehydrated&&(vo(e,t).flags|=256),e=mm(e,t),e!==2&&(t=Ur,Ur=r,t!==null&&D0(t)),e}function D0(e){Ur===null?Ur=e:Ur.push.apply(Ur,e)}function yU(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!ms(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ha(e,t){for(t&=~aw,t&=~Ip,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-fs(t),n=1<<r;e[r]=-1,t&=~n}}function q1(e){if(Me&6)throw Error(G(327));Ul();var t=Jh(e,0);if(!(t&1))return Hr(e,Rt()),null;var r=mm(e,t);if(e.tag!==0&&r===2){var n=o0(e);n!==0&&(t=n,r=M0(e,n))}if(r===1)throw r=td,vo(e,0),Ha(e,t),Hr(e,Rt()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qi(e,Ur,Qs),Hr(e,Rt()),null}function ow(e,t){var r=Me;Me|=1;try{return e(t)}finally{Me=r,Me===0&&(ec=Rt()+500,Cp&&Ai())}}function Po(e){Qa!==null&&Qa.tag===0&&!(Me&6)&&Ul();var t=Me;Me|=1;var r=Fn.transition,n=Ke;try{if(Fn.transition=null,Ke=1,e)return e()}finally{Ke=n,Fn.transition=r,Me=t,!(Me&6)&&Ai()}}function lw(){tn=Pl.current,ut(Pl)}function vo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,GB(r)),Lt!==null)for(r=Lt.return;r!==null;){var n=r;switch(Vb(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&tm();break;case 3:Ql(),ut(qr),ut(Cr),Xb();break;case 5:Jb(n);break;case 4:Ql();break;case 13:ut(St);break;case 19:ut(St);break;case 10:Kb(n.type._context);break;case 22:case 23:lw()}r=r.return}if(lr=e,Lt=e=li(e.current,null),vr=tn=t,Xt=0,td=null,aw=Ip=ko=0,Ur=Ou=null,lo!==null){for(t=0;t<lo.length;t++)if(r=lo[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}lo=null}return e}function iO(e,t){do{var r=Lt;try{if(qb(),Ph.current=um,cm){for(var n=_t.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}cm=!1}if(Eo=0,nr=Gt=_t=null,Cu=!1,Qu=0,sw.current=null,r===null||r.return===null){Xt=1,td=t,Lt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=vr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=T1(o);if(p!==null){p.flags&=-257,I1(p,o,l,i,t),p.mode&1&&O1(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){O1(i,u,t),cw();break e}c=Error(G(426))}}else if(mt&&l.mode&1){var x=T1(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),I1(x,o,l,i,t),zb(Zl(c,l));break e}}i=c=Zl(c,l),Xt!==4&&(Xt=2),Ou===null?Ou=[i]:Ou.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=zA(i,c,t);_1(i,y);break e;case 1:l=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ii===null||!ii.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=WA(i,l,t);_1(i,j);break e}}i=i.return}while(i!==null)}cO(r)}catch(S){t=S,Lt===r&&r!==null&&(Lt=r=r.return);continue}break}while(!0)}function oO(){var e=dm.current;return dm.current=um,e===null?um:e}function cw(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),lr===null||!(ko&268435455)&&!(Ip&268435455)||Ha(lr,vr)}function mm(e,t){var r=Me;Me|=2;var n=oO();(lr!==e||vr!==t)&&(Qs=null,vo(e,t));do try{bU();break}catch(a){iO(e,a)}while(!0);if(qb(),Me=r,dm.current=n,Lt!==null)throw Error(G(261));return lr=null,vr=0,Xt}function bU(){for(;Lt!==null;)lO(Lt)}function wU(){for(;Lt!==null&&!KF();)lO(Lt)}function lO(e){var t=dO(e.alternate,e,tn);e.memoizedProps=e.pendingProps,t===null?cO(e):Lt=t,sw.current=null}function cO(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=mU(r,t),r!==null){r.flags&=32767,Lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xt=6,Lt=null;return}}else if(r=hU(r,t,tn),r!==null){Lt=r;return}if(t=t.sibling,t!==null){Lt=t;return}Lt=t=e}while(t!==null);Xt===0&&(Xt=5)}function Qi(e,t,r){var n=Ke,a=Fn.transition;try{Fn.transition=null,Ke=1,jU(e,t,r,n)}finally{Fn.transition=a,Ke=n}return null}function jU(e,t,r,n){do Ul();while(Qa!==null);if(Me&6)throw Error(G(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(rB(e,i),e===lr&&(Lt=lr=null,vr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ef||(Ef=!0,fO(Gh,function(){return Ul(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Fn.transition,Fn.transition=null;var o=Ke;Ke=1;var l=Me;Me|=4,sw.current=null,gU(e,r),nO(r,e),VB(h0),Xh=!!f0,h0=f0=null,e.current=r,vU(r),HF(),Me=l,Ke=o,Fn.transition=i}else e.current=r;if(Ef&&(Ef=!1,Qa=e,hm=a),i=e.pendingLanes,i===0&&(ii=null),JF(r.stateNode),Hr(e,Rt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(fm)throw fm=!1,e=I0,I0=null,e;return hm&1&&e.tag!==0&&Ul(),i=e.pendingLanes,i&1?e===R0?Tu++:(Tu=0,R0=e):Tu=0,Ai(),null}function Ul(){if(Qa!==null){var e=zC(hm),t=Fn.transition,r=Ke;try{if(Fn.transition=null,Ke=16>e?16:e,Qa===null)var n=!1;else{if(e=Qa,Qa=null,hm=0,Me&6)throw Error(G(331));var a=Me;for(Me|=4,te=e.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(te=u;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:Au(8,d,i)}var f=d.child;if(f!==null)f.return=d,te=f;else for(;te!==null;){d=te;var h=d.sibling,p=d.return;if(eO(d),d===u){te=null;break}if(h!==null){h.return=p,te=h;break}te=p}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Au(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,te=y;break e}te=i.return}}var b=e.current;for(te=b;te!==null;){o=te;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,te=w;else e:for(o=b;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Tp(9,l)}}catch(S){Ct(l,l.return,S)}if(l===o){te=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,te=j;break e}te=l.return}}if(Me=a,Ai(),Ds&&typeof Ds.onPostCommitFiberRoot=="function")try{Ds.onPostCommitFiberRoot(Np,e)}catch{}n=!0}return n}finally{Ke=r,Fn.transition=t}}return!1}function K1(e,t,r){t=Zl(r,t),t=zA(e,t,1),e=ai(e,t,1),t=Mr(),e!==null&&(Pd(e,1,t),Hr(e,t))}function Ct(e,t,r){if(e.tag===3)K1(e,e,r);else for(;t!==null;){if(t.tag===3){K1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ii===null||!ii.has(n))){e=Zl(r,e),e=WA(t,e,1),t=ai(t,e,1),e=Mr(),t!==null&&(Pd(t,1,e),Hr(t,e));break}}t=t.return}}function SU(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Mr(),e.pingedLanes|=e.suspendedLanes&r,lr===e&&(vr&r)===r&&(Xt===4||Xt===3&&(vr&130023424)===vr&&500>Rt()-iw?vo(e,0):aw|=r),Hr(e,t)}function uO(e,t){t===0&&(e.mode&1?(t=gf,gf<<=1,!(gf&130023424)&&(gf=4194304)):t=1);var r=Mr();e=ga(e,t),e!==null&&(Pd(e,t,r),Hr(e,r))}function NU(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),uO(e,r)}function _U(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),uO(e,r)}var dO;dO=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qr.current)zr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return zr=!1,fU(e,t,r);zr=!!(e.flags&131072)}else zr=!1,mt&&t.flags&1048576&&pA(t,sm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ah(e,t),e=t.pendingProps;var a=Gl(t,Cr.current);Bl(t,r),a=Zb(null,t,n,e,a,r);var i=ew();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kr(n)?(i=!0,rm(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Yb(t),a.updater=Op,t.stateNode=a,a._reactInternals=t,j0(t,n,e,r),t=_0(null,t,n,!0,i,r)):(t.tag=0,mt&&i&&Ub(t),Or(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ah(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=kU(n),e=ns(n,e),a){case 0:t=N0(null,t,n,e,r);break e;case 1:t=D1(null,t,n,e,r);break e;case 11:t=R1(null,t,n,e,r);break e;case 14:t=M1(null,t,n,ns(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ns(n,a),N0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ns(n,a),D1(e,t,n,a,r);case 3:e:{if(YA(t),e===null)throw Error(G(387));n=t.pendingProps,i=t.memoizedState,a=i.element,wA(e,t),om(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Zl(Error(G(423)),t),t=L1(e,t,n,r,a);break e}else if(n!==a){a=Zl(Error(G(424)),t),t=L1(e,t,n,r,a);break e}else for(un=si(t.stateNode.containerInfo.firstChild),dn=t,mt=!0,os=null,r=yA(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jl(),n===a){t=va(e,t,r);break e}Or(e,t,n,r)}t=t.child}return t;case 5:return jA(t),e===null&&y0(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,m0(n,a)?o=null:i!==null&&m0(n,i)&&(t.flags|=32),HA(e,t),Or(e,t,o,r),t.child;case 6:return e===null&&y0(t),null;case 13:return GA(e,t,r);case 4:return Gb(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Xl(t,null,n,r):Or(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ns(n,a),R1(e,t,n,a,r);case 7:return Or(e,t,t.pendingProps,r),t.child;case 8:return Or(e,t,t.pendingProps.children,r),t.child;case 12:return Or(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,rt(am,n._currentValue),n._currentValue=o,i!==null)if(ms(i.value,o)){if(i.children===a.children&&!qr.current){t=va(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ua(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),b0(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),b0(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Or(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Bl(t,r),a=Vn(a),n=n(a),t.flags|=1,Or(e,t,n,r),t.child;case 14:return n=t.type,a=ns(n,t.pendingProps),a=ns(n.type,a),M1(e,t,n,a,r);case 15:return qA(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ns(n,a),Ah(e,t),t.tag=1,Kr(n)?(e=!0,rm(t)):e=!1,Bl(t,r),VA(t,n,a),j0(t,n,a,r),_0(null,t,n,!0,e,r);case 19:return JA(e,t,r);case 22:return KA(e,t,r)}throw Error(G(156,t.tag))};function fO(e,t){return FC(e,t)}function EU(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,t,r,n){return new EU(e,t,r,n)}function uw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kU(e){if(typeof e=="function")return uw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cb)return 11;if(e===Ab)return 14}return 2}function li(e,t){var r=e.alternate;return r===null?(r=Rn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ih(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")uw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case xl:return xo(r.children,a,i,t);case Pb:o=8,a|=8;break;case Kx:return e=Rn(12,r,t,a|2),e.elementType=Kx,e.lanes=i,e;case Hx:return e=Rn(13,r,t,a),e.elementType=Hx,e.lanes=i,e;case Yx:return e=Rn(19,r,t,a),e.elementType=Yx,e.lanes=i,e;case jC:return Rp(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bC:o=10;break e;case wC:o=9;break e;case Cb:o=11;break e;case Ab:o=14;break e;case Va:o=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Rn(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function xo(e,t,r,n){return e=Rn(7,e,n,t),e.lanes=r,e}function Rp(e,t,r,n){return e=Rn(22,e,n,t),e.elementType=jC,e.lanes=r,e.stateNode={isHidden:!1},e}function qv(e,t,r){return e=Rn(6,e,null,t),e.lanes=r,e}function Kv(e,t,r){return t=Rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PU(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ev(0),this.expirationTimes=Ev(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ev(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function dw(e,t,r,n,a,i,o,l,c){return e=new PU(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Rn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yb(i),e}function CU(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function hO(e){if(!e)return gi;e=e._reactInternals;e:{if(Ko(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(Kr(r))return hA(e,r,t)}return t}function mO(e,t,r,n,a,i,o,l,c){return e=dw(r,n,!0,e,a,i,o,l,c),e.context=hO(null),r=e.current,n=Mr(),a=oi(r),i=ua(n,a),i.callback=t??null,ai(r,i,a),e.current.lanes=a,Pd(e,a,n),Hr(e,n),e}function Mp(e,t,r,n){var a=t.current,i=Mr(),o=oi(a);return r=hO(r),t.context===null?t.context=r:t.pendingContext=r,t=ua(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ai(a,t,o),e!==null&&(hs(e,a,o,i),kh(e,a,o)),o}function pm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function H1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function fw(e,t){H1(e,t),(e=e.alternate)&&H1(e,t)}function AU(){return null}var pO=typeof reportError=="function"?reportError:function(e){console.error(e)};function hw(e){this._internalRoot=e}Dp.prototype.render=hw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Mp(e,t,null,null)};Dp.prototype.unmount=hw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Po(function(){Mp(null,e,null,null)}),t[pa]=null}};function Dp(e){this._internalRoot=e}Dp.prototype.unstable_scheduleHydration=function(e){if(e){var t=KC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ka.length&&t!==0&&t<Ka[r].priority;r++);Ka.splice(r,0,e),r===0&&YC(e)}};function mw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Y1(){}function OU(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=pm(o);i.call(u)}}var o=mO(t,n,e,0,null,!1,!1,"",Y1);return e._reactRootContainer=o,e[pa]=o.current,Hu(e.nodeType===8?e.parentNode:e),Po(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=pm(c);l.call(u)}}var c=dw(e,0,!1,null,null,!1,!1,"",Y1);return e._reactRootContainer=c,e[pa]=c.current,Hu(e.nodeType===8?e.parentNode:e),Po(function(){Mp(t,c,r,n)}),c}function $p(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=pm(o);l.call(c)}}Mp(t,o,e,a)}else o=OU(r,t,e,a,n);return pm(o)}WC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=vu(t.pendingLanes);r!==0&&(Ib(t,r|1),Hr(t,Rt()),!(Me&6)&&(ec=Rt()+500,Ai()))}break;case 13:Po(function(){var n=ga(e,1);if(n!==null){var a=Mr();hs(n,e,1,a)}}),fw(e,1)}};Rb=function(e){if(e.tag===13){var t=ga(e,134217728);if(t!==null){var r=Mr();hs(t,e,134217728,r)}fw(e,134217728)}};qC=function(e){if(e.tag===13){var t=oi(e),r=ga(e,t);if(r!==null){var n=Mr();hs(r,e,t,n)}fw(e,t)}};KC=function(){return Ke};HC=function(e,t){var r=Ke;try{return Ke=e,t()}finally{Ke=r}};s0=function(e,t,r){switch(t){case"input":if(Xx(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Pp(n);if(!a)throw Error(G(90));NC(n),Xx(n,a)}}}break;case"textarea":EC(e,r);break;case"select":t=r.value,t!=null&&Dl(e,!!r.multiple,t,!1)}};IC=ow;RC=Po;var TU={usingClientEntryPoint:!1,Events:[Ad,jl,Pp,OC,TC,ow]},Qc={findFiberByHostInstance:oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IU={bundleType:Qc.bundleType,version:Qc.version,rendererPackageName:Qc.rendererPackageName,rendererConfig:Qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ea.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=LC(e),e===null?null:e.stateNode},findFiberByHostInstance:Qc.findFiberByHostInstance||AU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kf.isDisabled&&kf.supportsFiber)try{Np=kf.inject(IU),Ds=kf}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TU;yn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mw(t))throw Error(G(200));return CU(e,t,null,r)};yn.createRoot=function(e,t){if(!mw(e))throw Error(G(299));var r=!1,n="",a=pO;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=dw(e,1,!1,null,null,r,!1,n,a),e[pa]=t.current,Hu(e.nodeType===8?e.parentNode:e),new hw(t)};yn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=LC(t),e=e===null?null:e.stateNode,e};yn.flushSync=function(e){return Po(e)};yn.hydrate=function(e,t,r){if(!Lp(t))throw Error(G(200));return $p(null,e,t,!0,r)};yn.hydrateRoot=function(e,t,r){if(!mw(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=pO;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=mO(t,null,e,1,r??null,a,!1,i,o),e[pa]=t.current,Hu(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Dp(t)};yn.render=function(e,t,r){if(!Lp(t))throw Error(G(200));return $p(null,e,t,!1,r)};yn.unmountComponentAtNode=function(e){if(!Lp(e))throw Error(G(40));return e._reactRootContainer?(Po(function(){$p(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0):!1};yn.unstable_batchedUpdates=ow;yn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Lp(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return $p(e,t,r,!1,n)};yn.version="18.3.1-next-f1338f8080-20240426";function gO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gO)}catch(e){console.error(e)}}gO(),gC.exports=yn;var Oi=gC.exports;const RU=ys(Oi);var vO,G1=Oi;vO=G1.createRoot,G1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rd.apply(this,arguments)}var Za;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Za||(Za={}));const J1="popstate";function MU(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return L0("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:gm(a)}return LU(t,r,null,e)}function Mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xO(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DU(){return Math.random().toString(36).substr(2,8)}function X1(e,t){return{usr:e.state,key:e.key,idx:t}}function L0(e,t,r,n){return r===void 0&&(r=null),rd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?jc(t):t,{state:r,key:t&&t.key||n||DU()})}function gm(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function LU(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Za.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(rd({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Za.Pop;let x=d(),y=x==null?null:x-u;u=x,c&&c({action:l,location:v.location,delta:y})}function h(x,y){l=Za.Push;let b=L0(v.location,x,y);u=d()+1;let w=X1(b,u),j=v.createHref(b);try{o.pushState(w,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function p(x,y){l=Za.Replace;let b=L0(v.location,x,y);u=d();let w=X1(b,u),j=v.createHref(b);o.replaceState(w,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function g(x){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof x=="string"?x:gm(x);return b=b.replace(/ $/,"%20"),Mt(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let v={get action(){return l},get location(){return e(a,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(J1,f),c=x,()=>{a.removeEventListener(J1,f),c=null}},createHref(x){return t(a,x)},createURL:g,encodeLocation(x){let y=g(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(x){return o.go(x)}};return v}var Q1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Q1||(Q1={}));function $U(e,t,r){return r===void 0&&(r="/"),FU(e,t,r)}function FU(e,t,r,n){let a=typeof t=="string"?jc(t):t,i=pw(a.pathname||"/",r);if(i==null)return null;let o=yO(e);BU(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=QU(i);l=GU(o[c],u)}return l}function yO(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Mt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ci([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Mt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),yO(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:HU(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of bO(i.path))a(i,o,c)}),t}function bO(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=bO(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function BU(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:YU(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const UU=/^:[\w-]+$/,VU=3,zU=2,WU=1,qU=10,KU=-2,Z1=e=>e==="*";function HU(e,t){let r=e.split("/"),n=r.length;return r.some(Z1)&&(n+=KU),t&&(n+=zU),r.filter(a=>!Z1(a)).reduce((a,i)=>a+(UU.test(i)?VU:i===""?WU:qU),n)}function YU(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function GU(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=JU({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:ci([i,f.pathname]),pathnameBase:r8(ci([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ci([i,f.pathnameBase]))}return o}function JU(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=XU(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let v=l[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function XU(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),xO(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function QU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xO(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function pw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ZU(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?jc(e):e;return{pathname:r?r.startsWith("/")?r:e8(r,t):t,search:n8(n),hash:s8(a)}}function e8(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Hv(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function t8(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function gw(e,t){let r=t8(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function vw(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=jc(e):(a=rd({},e),Mt(!a.pathname||!a.pathname.includes("?"),Hv("?","pathname","search",a)),Mt(!a.pathname||!a.pathname.includes("#"),Hv("#","pathname","hash",a)),Mt(!a.search||!a.search.includes("#"),Hv("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=ZU(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ci=e=>e.join("/").replace(/\/\/+/g,"/"),r8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),n8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,s8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function a8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wO=["post","put","patch","delete"];new Set(wO);const i8=["get",...wO];new Set(i8);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nd.apply(this,arguments)}const xw=m.createContext(null),o8=m.createContext(null),Ti=m.createContext(null),Fp=m.createContext(null),Ii=m.createContext({outlet:null,matches:[],isDataRoute:!1}),jO=m.createContext(null);function l8(e,t){let{relative:r}=t===void 0?{}:t;Sc()||Mt(!1);let{basename:n,navigator:a}=m.useContext(Ti),{hash:i,pathname:o,search:l}=NO(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ci([n,o])),a.createHref({pathname:c,search:l,hash:i})}function Sc(){return m.useContext(Fp)!=null}function Vt(){return Sc()||Mt(!1),m.useContext(Fp).location}function SO(e){m.useContext(Ti).static||m.useLayoutEffect(e)}function Ae(){let{isDataRoute:e}=m.useContext(Ii);return e?w8():c8()}function c8(){Sc()||Mt(!1);let e=m.useContext(xw),{basename:t,future:r,navigator:n}=m.useContext(Ti),{matches:a}=m.useContext(Ii),{pathname:i}=Vt(),o=JSON.stringify(gw(a,r.v7_relativeSplatPath)),l=m.useRef(!1);return SO(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=vw(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ci([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function NO(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(Ti),{matches:a}=m.useContext(Ii),{pathname:i}=Vt(),o=JSON.stringify(gw(a,n.v7_relativeSplatPath));return m.useMemo(()=>vw(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function u8(e,t){return d8(e,t)}function d8(e,t,r,n){Sc()||Mt(!1);let{navigator:a}=m.useContext(Ti),{matches:i}=m.useContext(Ii),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Vt(),d;if(t){var f;let x=typeof t=="string"?jc(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Mt(!1),d=x}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=$U(e,{pathname:p}),v=g8(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:ci([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:ci([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&v?m.createElement(Fp.Provider,{value:{location:nd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Za.Pop}},v):v}function f8(){let e=b8(),t=a8(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:a},r):null,null)}const h8=m.createElement(f8,null);class m8 extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(Ii.Provider,{value:this.props.routeContext},m.createElement(jO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function p8(e){let{routeContext:t,match:r,children:n}=e,a=m.useContext(xw);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Ii.Provider,{value:t},n)}function g8(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);d>=0||Mt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,g=!1,v=null,x=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||h8,c&&(u<0&&h===0?(j8("route-fallback"),g=!0,x=null):u===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),b=()=>{let w;return p?w=v:g?w=x:f.route.Component?w=m.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,m.createElement(p8,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(m8,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var _O=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_O||{}),EO=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(EO||{});function v8(e){let t=m.useContext(xw);return t||Mt(!1),t}function x8(e){let t=m.useContext(o8);return t||Mt(!1),t}function y8(e){let t=m.useContext(Ii);return t||Mt(!1),t}function kO(e){let t=y8(),r=t.matches[t.matches.length-1];return r.route.id||Mt(!1),r.route.id}function b8(){var e;let t=m.useContext(jO),r=x8(),n=kO();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function w8(){let{router:e}=v8(_O.UseNavigateStable),t=kO(EO.UseNavigateStable),r=m.useRef(!1);return SO(()=>{r.current=!0}),m.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,nd({fromRouteId:t},i)))},[e,t])}const e_={};function j8(e,t,r){e_[e]||(e_[e]=!0)}function S8(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Xs(e){let{to:t,replace:r,state:n,relative:a}=e;Sc()||Mt(!1);let{future:i,static:o}=m.useContext(Ti),{matches:l}=m.useContext(Ii),{pathname:c}=Vt(),u=Ae(),d=vw(t,gw(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Z(e){Mt(!1)}function N8(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Za.Pop,navigator:i,static:o=!1,future:l}=e;Sc()&&Mt(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:i,static:o,future:nd({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=jc(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,v=m.useMemo(()=>{let x=pw(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:g},navigationType:a}},[c,d,f,h,p,g,a]);return v==null?null:m.createElement(Ti.Provider,{value:u},m.createElement(Fp.Provider,{children:r,value:v}))}function yw(e){let{children:t,location:r}=e;return u8($0(t),r)}new Promise(()=>{});function $0(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,a)=>{if(!m.isValidElement(n))return;let i=[...t,a];if(n.type===m.Fragment){r.push.apply(r,$0(n.props.children,i));return}n.type!==Z&&Mt(!1),!n.props.index||!n.props.children||Mt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=$0(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F0.apply(this,arguments)}function _8(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function E8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function k8(e,t){return e.button===0&&(!t||t==="_self")&&!E8(e)}function B0(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function P8(e,t){let r=B0(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const C8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],A8="6";try{window.__reactRouterVersion=A8}catch{}const O8="startTransition",t_=Sp[O8];function T8(e){let{basename:t,children:r,future:n,window:a}=e,i=m.useRef();i.current==null&&(i.current=MU({window:a,v5Compat:!0}));let o=i.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=m.useCallback(f=>{u&&t_?t_(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.useEffect(()=>S8(n),[n]),m.createElement(N8,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const I8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mn=m.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=_8(t,C8),{basename:p}=m.useContext(Ti),g,v=!1;if(typeof u=="string"&&R8.test(u)&&(g=u,I8))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=pw(j.pathname,p);j.origin===w.origin&&S!=null?u=S+j.search+j.hash:v=!0}catch{}let x=l8(u,{relative:a}),y=M8(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||y(w)}return m.createElement("a",F0({},h,{href:g||x,onClick:v||i?n:b,ref:r,target:c}))});var r_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(r_||(r_={}));var n_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(n_||(n_={}));function M8(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ae(),u=Vt(),d=NO(e,{relative:o});return m.useCallback(f=>{if(k8(f,r)){f.preventDefault();let h=n!==void 0?n:gm(u)===gm(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function Bp(e){let t=m.useRef(B0(e)),r=m.useRef(!1),n=Vt(),a=m.useMemo(()=>P8(n.search,r.current?null:t.current),[n.search]),i=Ae(),o=m.useCallback((l,c)=>{const u=B0(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}const D8=()=>{const{pathname:e}=Vt();return m.useEffect(()=>{window.scrollTo(0,0)},[e]),null};function s_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function PO(...e){return t=>{let r=!1;const n=e.map(a=>{const i=s_(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():s_(e[a],null)}}}}function Te(...e){return m.useCallback(PO(...e),e)}function Co(e){const t=$8(e),r=m.forwardRef((n,a)=>{const{children:i,...o}=n,l=m.Children.toArray(i),c=l.find(B8);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var L8=Co("Slot");function $8(e){const t=m.forwardRef((r,n)=>{const{children:a,...i}=r;if(m.isValidElement(a)){const o=V8(a),l=U8(i,a.props);return a.type!==m.Fragment&&(l.ref=n?PO(n,o):o),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var F8=Symbol("radix.slottable");function B8(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===F8}function U8(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function V8(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function CO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=CO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ie(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=CO(e))&&(n&&(n+=" "),n+=t);return n}const a_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,i_=Ie,Up=(e,t)=>r=>{var n;if(t?.variants==null)return i_(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r?.[u],f=i?.[u];if(d===null)return null;const h=a_(d)||a_(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[v,x]=g;return Array.isArray(x)?x.includes({...i,...l}[v]):{...i,...l}[v]===x})?[...u,f,h]:u},[]);return i_(e,o,c,r?.class,r?.className)},bw="-",z8=e=>{const t=q8(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(bw);return l[0]===""&&l.length!==1&&l.shift(),AO(l,t)||W8(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},AO=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?AO(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(bw);return t.validators.find(({validator:o})=>o(i))?.classGroupId},o_=/^\[(.+)\]$/,W8=e=>{if(o_.test(e)){const t=o_.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},q8=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)U0(r[a],n,a,t);return n},U0=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:l_(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(K8(a)){U0(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{U0(o,l_(t,i),r,n)})})},l_=(e,t)=>{let r=e;return t.split(bw).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},K8=e=>e.isThemeGetter,H8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},V0="!",z0=":",Y8=z0.length,G8=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,l=0,c=0,u;for(let g=0;g<a.length;g++){let v=a[g];if(o===0&&l===0){if(v===z0){i.push(a.slice(c,g)),c=g+Y8;continue}if(v==="/"){u=g;continue}}v==="["?o++:v==="]"?o--:v==="("?l++:v===")"&&l--}const d=i.length===0?a:a.substring(c),f=J8(d),h=f!==d,p=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}};if(t){const a=t+z0,i=n;n=o=>o.startsWith(a)?i(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},J8=e=>e.endsWith(V0)?e.substring(0,e.length-1):e.startsWith(V0)?e.substring(1):e,X8=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(o=>{o[0]==="["||t[o]?(a.push(...i.sort(),o),i=[]):i.push(o)}),a.push(...i.sort()),a}},Q8=e=>({cache:H8(e.cacheSize),parseClassName:G8(e),sortModifiers:X8(e),...z8(e)}),Z8=/\s+/,eV=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(Z8);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let x=!!v,y=n(x?g.substring(0,v):g);if(!y){if(!x){c=d+(c.length>0?" "+c:c);continue}if(y=n(g),!y){c=d+(c.length>0?" "+c:c);continue}x=!1}const b=i(h).join(":"),w=p?b+V0:b,j=w+y;if(o.includes(j))continue;o.push(j);const S=a(y,x);for(let N=0;N<S.length;++N){const _=S[N];o.push(w+_)}c=d+(c.length>0?" "+c:c)}return c};function tV(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=OO(t))&&(n&&(n+=" "),n+=r);return n}const OO=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=OO(e[n]))&&(r&&(r+=" "),r+=t);return r};function rV(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=Q8(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=eV(c,r);return a(c,d),d}return function(){return i(tV.apply(null,arguments))}}const Ht=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},TO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,IO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,nV=/^\d+\/\d+$/,sV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,oV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tl=e=>nV.test(e),Ee=e=>!!e&&!Number.isNaN(Number(e)),Ma=e=>!!e&&Number.isInteger(Number(e)),Yv=e=>e.endsWith("%")&&Ee(e.slice(0,-1)),Js=e=>sV.test(e),cV=()=>!0,uV=e=>aV.test(e)&&!iV.test(e),RO=()=>!1,dV=e=>oV.test(e),fV=e=>lV.test(e),hV=e=>!ne(e)&&!se(e),mV=e=>Nc(e,LO,RO),ne=e=>TO.test(e),Yi=e=>Nc(e,$O,uV),Gv=e=>Nc(e,yV,Ee),c_=e=>Nc(e,MO,RO),pV=e=>Nc(e,DO,fV),Pf=e=>Nc(e,FO,dV),se=e=>IO.test(e),Zc=e=>_c(e,$O),gV=e=>_c(e,bV),u_=e=>_c(e,MO),vV=e=>_c(e,LO),xV=e=>_c(e,DO),Cf=e=>_c(e,FO,!0),Nc=(e,t,r)=>{const n=TO.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},_c=(e,t,r=!1)=>{const n=IO.exec(e);return n?n[1]?t(n[1]):r:!1},MO=e=>e==="position"||e==="percentage",DO=e=>e==="image"||e==="url",LO=e=>e==="length"||e==="size"||e==="bg-size",$O=e=>e==="length",yV=e=>e==="number",bV=e=>e==="family-name",FO=e=>e==="shadow",wV=()=>{const e=Ht("color"),t=Ht("font"),r=Ht("text"),n=Ht("font-weight"),a=Ht("tracking"),i=Ht("leading"),o=Ht("breakpoint"),l=Ht("container"),c=Ht("spacing"),u=Ht("radius"),d=Ht("shadow"),f=Ht("inset-shadow"),h=Ht("text-shadow"),p=Ht("drop-shadow"),g=Ht("blur"),v=Ht("perspective"),x=Ht("aspect"),y=Ht("ease"),b=Ht("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...j(),se,ne],N=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],E=()=>[se,ne,c],k=()=>[tl,"full","auto",...E()],A=()=>[Ma,"none","subgrid",se,ne],R=()=>["auto",{span:["full",Ma,se,ne]},Ma,se,ne],D=()=>[Ma,"auto",se,ne],F=()=>["auto","min","max","fr",se,ne],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...E()],q=()=>[tl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],O=()=>[e,se,ne],V=()=>[...j(),u_,c_,{position:[se,ne]}],J=()=>["no-repeat",{repeat:["","x","y","space","round"]}],he=()=>["auto","cover","contain",vV,mV,{size:[se,ne]}],be=()=>[Yv,Zc,Yi],_e=()=>["","none","full",u,se,ne],je=()=>["",Ee,Zc,Yi],Oe=()=>["solid","dashed","dotted","double"],ot=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[Ee,Yv,u_,c_],De=()=>["","none",g,se,ne],B=()=>["none",Ee,se,ne],ee=()=>["none",Ee,se,ne],oe=()=>[Ee,se,ne],U=()=>[tl,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Js],breakpoint:[Js],color:[cV],container:[Js],"drop-shadow":[Js],ease:["in","out","in-out"],font:[hV],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Js],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Js],shadow:[Js],spacing:["px",Ee],text:[Js],"text-shadow":[Js],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",tl,ne,se,x]}],container:["container"],columns:[{columns:[Ee,ne,se,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Ma,"auto",se,ne]}],basis:[{basis:[tl,"full","auto",l,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ee,tl,"auto","initial","none",ne]}],grow:[{grow:["",Ee,se,ne]}],shrink:[{shrink:["",Ee,se,ne]}],order:[{order:[Ma,"first","last","none",se,ne]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[l,"screen",...q()]}],"min-w":[{"min-w":[l,"screen","none",...q()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",r,Zc,Yi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,se,Gv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Yv,ne]}],"font-family":[{font:[gV,ne,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,se,ne]}],"line-clamp":[{"line-clamp":[Ee,"none",se,Gv]}],leading:[{leading:[i,...E()]}],"list-image":[{"list-image":["none",se,ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",se,ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ee,"from-font","auto",se,Yi]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[Ee,"auto",se,ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se,ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se,ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:V()}],"bg-repeat":[{bg:J()}],"bg-size":[{bg:he()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ma,se,ne],radial:["",se,ne],conic:[Ma,se,ne]},xV,pV]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:be()}],"gradient-via-pos":[{via:be()}],"gradient-to-pos":[{to:be()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:_e()}],"rounded-s":[{"rounded-s":_e()}],"rounded-e":[{"rounded-e":_e()}],"rounded-t":[{"rounded-t":_e()}],"rounded-r":[{"rounded-r":_e()}],"rounded-b":[{"rounded-b":_e()}],"rounded-l":[{"rounded-l":_e()}],"rounded-ss":[{"rounded-ss":_e()}],"rounded-se":[{"rounded-se":_e()}],"rounded-ee":[{"rounded-ee":_e()}],"rounded-es":[{"rounded-es":_e()}],"rounded-tl":[{"rounded-tl":_e()}],"rounded-tr":[{"rounded-tr":_e()}],"rounded-br":[{"rounded-br":_e()}],"rounded-bl":[{"rounded-bl":_e()}],"border-w":[{border:je()}],"border-w-x":[{"border-x":je()}],"border-w-y":[{"border-y":je()}],"border-w-s":[{"border-s":je()}],"border-w-e":[{"border-e":je()}],"border-w-t":[{"border-t":je()}],"border-w-r":[{"border-r":je()}],"border-w-b":[{"border-b":je()}],"border-w-l":[{"border-l":je()}],"divide-x":[{"divide-x":je()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":je()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Oe(),"hidden","none"]}],"divide-style":[{divide:[...Oe(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...Oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ee,se,ne]}],"outline-w":[{outline:["",Ee,Zc,Yi]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",d,Cf,Pf]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",f,Cf,Pf]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:je()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[Ee,Yi]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":je()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",h,Cf,Pf]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[Ee,se,ne]}],"mix-blend":[{"mix-blend":[...ot(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ot()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ee]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[se,ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[Ee]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:V()}],"mask-repeat":[{mask:J()}],"mask-size":[{mask:he()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",se,ne]}],filter:[{filter:["","none",se,ne]}],blur:[{blur:De()}],brightness:[{brightness:[Ee,se,ne]}],contrast:[{contrast:[Ee,se,ne]}],"drop-shadow":[{"drop-shadow":["","none",p,Cf,Pf]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",Ee,se,ne]}],"hue-rotate":[{"hue-rotate":[Ee,se,ne]}],invert:[{invert:["",Ee,se,ne]}],saturate:[{saturate:[Ee,se,ne]}],sepia:[{sepia:["",Ee,se,ne]}],"backdrop-filter":[{"backdrop-filter":["","none",se,ne]}],"backdrop-blur":[{"backdrop-blur":De()}],"backdrop-brightness":[{"backdrop-brightness":[Ee,se,ne]}],"backdrop-contrast":[{"backdrop-contrast":[Ee,se,ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ee,se,ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ee,se,ne]}],"backdrop-invert":[{"backdrop-invert":["",Ee,se,ne]}],"backdrop-opacity":[{"backdrop-opacity":[Ee,se,ne]}],"backdrop-saturate":[{"backdrop-saturate":[Ee,se,ne]}],"backdrop-sepia":[{"backdrop-sepia":["",Ee,se,ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",se,ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ee,"initial",se,ne]}],ease:[{ease:["linear","initial",y,se,ne]}],delay:[{delay:[Ee,se,ne]}],animate:[{animate:["none",b,se,ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,se,ne]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:B()}],"rotate-x":[{"rotate-x":B()}],"rotate-y":[{"rotate-y":B()}],"rotate-z":[{"rotate-z":B()}],scale:[{scale:ee()}],"scale-x":[{"scale-x":ee()}],"scale-y":[{"scale-y":ee()}],"scale-z":[{"scale-z":ee()}],"scale-3d":["scale-3d"],skew:[{skew:oe()}],"skew-x":[{"skew-x":oe()}],"skew-y":[{"skew-y":oe()}],transform:[{transform:[se,ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:U()}],"translate-x":[{"translate-x":U()}],"translate-y":[{"translate-y":U()}],"translate-z":[{"translate-z":U()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se,ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se,ne]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[Ee,Zc,Yi,Gv]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},jV=rV(wV);function ue(...e){return jV(Ie(e))}const W0=Up("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:scale-[1.02] active:scale-[0.98] touch-manipulation",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 sm:h-10 px-4 sm:px-6 py-2 text-base sm:text-sm",sm:"h-10 sm:h-9 px-3 sm:px-4 text-sm",lg:"h-12 px-6 sm:px-8 text-base",icon:"h-11 w-11 sm:h-10 sm:w-10"}},defaultVariants:{variant:"default",size:"default"}}),I=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?L8:"button";return s.jsx(o,{className:ue(W0({variant:t,size:r,className:e})),ref:i,...a})});I.displayName="Button";const C=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ue("rounded-3xl border border-border/40 bg-card shadow-sm transition-all duration-200 hover:shadow-lg",e),...t}));C.displayName="Card";const M=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ue("flex flex-col space-y-1.5 p-6",e),...t}));M.displayName="CardHeader";const L=m.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ue("text-2xl font-semibold leading-none tracking-tight text-foreground",e),...t}));L.displayName="CardTitle";const Le=m.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:ue("text-sm text-muted-foreground",e),...t}));Le.displayName="CardDescription";const T=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ue("p-6 pt-0",e),...t}));T.displayName="CardContent";const SV=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ue("flex items-center p-6 pt-0",e),...t}));SV.displayName="CardFooter";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BO=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _V={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,..._V,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:BO("lucide",a),...l},[...o.map(([u,d])=>m.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(e,t)=>{const r=m.forwardRef(({className:n,...a},i)=>m.createElement(EV,{ref:i,iconNode:t,className:BO(`lucide-${NV(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=X("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=X("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=X("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=X("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=X("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=X("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=X("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=X("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=X("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=X("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=X("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=X("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=X("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=X("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=X("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=X("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=X("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=X("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=X("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=X("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=X("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=X("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=X("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=X("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=X("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=X("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=X("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=X("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=X("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=X("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=X("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=X("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=X("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=X("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=X("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=X("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=X("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=X("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=X("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=X("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=X("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=X("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=X("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=X("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=X("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=X("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=X("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=X("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=X("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=X("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=X("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=X("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=X("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=X("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=X("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=X("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=X("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=X("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=X("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=X("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=X("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=X("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=X("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=X("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);class qV extends m.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r),this.props.onError?.(t,r)}handleRetry=()=>{this.setState({hasError:!1,error:void 0})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs(C,{className:"w-full max-w-md",children:[s.jsxs(M,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(it,{className:"w-6 h-6 text-red-600"})}),s.jsx(L,{children:"Something went wrong"}),s.jsx(Le,{children:"We encountered an unexpected error. Please try refreshing the page."})]}),s.jsxs(T,{className:"space-y-4",children:[!1,s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(I,{onClick:this.handleRetry,className:"flex-1",children:[s.jsx(sr,{className:"w-4 h-4 mr-2"}),"Try Again"]}),s.jsx(I,{variant:"outline",onClick:()=>window.location.reload(),className:"flex-1",children:"Reload Page"})]})]})]})}):this.props.children}}var H0=function(e,t){return H0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},H0(e,t)};function eT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");H0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var In=function(){return In=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},In.apply(this,arguments)};function Mi(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function tT(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function rT(e,t){return function(r,n){t(r,n,e)}}function nT(e,t,r,n,a,i){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var g={};for(var v in n)g[v]=v==="access"?{}:n[v];for(var v in n.access)g.access[v]=n.access[v];g.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(y||null))};var x=(0,r[p])(l==="accessor"?{get:d.get,set:d.set}:d[c],g);if(l==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(f=o(x.get))&&(d.get=f),(f=o(x.set))&&(d.set=f),(f=o(x.init))&&a.unshift(f)}else(f=o(x))&&(l==="field"?a.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function sT(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function aT(e){return typeof e=="symbol"?e:"".concat(e)}function iT(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function oT(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function de(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function lT(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Wp=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function cT(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Wp(t,e,r)}function ym(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ew(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function uT(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ew(arguments[t]));return e}function dT(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,a++)n[a]=i[o];return n}function kw(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function rc(e){return this instanceof rc?(this.v=e,this):new rc(e)}function fT(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(p){return function(g){return Promise.resolve(g).then(p,f)}}function l(p,g){n[p]&&(a[p]=function(v){return new Promise(function(x,y){i.push([p,v,x,y])>1||c(p,v)})},g&&(a[p]=g(a[p])))}function c(p,g){try{u(n[p](g))}catch(v){h(i[0][3],v)}}function u(p){p.value instanceof rc?Promise.resolve(p.value.v).then(d,f):h(i[0][2],p)}function d(p){c("next",p)}function f(p){c("throw",p)}function h(p,g){p(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function hT(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:rc(e[a](o)),done:!1}:i?i(o):o}:i}}function mT(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ym=="function"?ym(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(l,c){o=e[i](o),a(l,c,o.done,o.value)})}}function a(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}function pT(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var KV=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Y0=function(e){return Y0=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Y0(e)};function gT(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Y0(e),n=0;n<r.length;n++)r[n]!=="default"&&Wp(t,e,r[n]);return KV(t,e),t}function vT(e){return e&&e.__esModule?e:{default:e}}function xT(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function yT(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function bT(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function wT(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var HV=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function jT(e){function t(i){e.error=e.hasError?new HV(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function ST(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const YV={__extends:eT,__assign:In,__rest:Mi,__decorate:tT,__param:rT,__esDecorate:nT,__runInitializers:sT,__propKey:aT,__setFunctionName:iT,__metadata:oT,__awaiter:de,__generator:lT,__createBinding:Wp,__exportStar:cT,__values:ym,__read:Ew,__spread:uT,__spreadArrays:dT,__spreadArray:kw,__await:rc,__asyncGenerator:fT,__asyncDelegator:hT,__asyncValues:mT,__makeTemplateObject:pT,__importStar:gT,__importDefault:vT,__classPrivateFieldGet:xT,__classPrivateFieldSet:yT,__classPrivateFieldIn:bT,__addDisposableResource:wT,__disposeResources:jT,__rewriteRelativeImportExtension:ST},GV=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:wT,get __assign(){return In},__asyncDelegator:hT,__asyncGenerator:fT,__asyncValues:mT,__await:rc,__awaiter:de,__classPrivateFieldGet:xT,__classPrivateFieldIn:bT,__classPrivateFieldSet:yT,__createBinding:Wp,__decorate:tT,__disposeResources:jT,__esDecorate:nT,__exportStar:cT,__extends:eT,__generator:lT,__importDefault:vT,__importStar:gT,__makeTemplateObject:pT,__metadata:oT,__param:rT,__propKey:aT,__read:Ew,__rest:Mi,__rewriteRelativeImportExtension:ST,__runInitializers:sT,__setFunctionName:iT,__spread:uT,__spreadArray:kw,__spreadArrays:dT,__values:ym,default:YV},Symbol.toStringTag,{value:"Module"})),JV=function(){const t=typeof document<"u"&&document.createElement("link").relList;return t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}(),XV=function(e,t){return new URL(e,t).href},m_={},Yo=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");a=Promise.allSettled(r.map(u=>{if(u=XV(u,n),u in m_)return;m_[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!n)for(let g=o.length-1;g>=0;g--){const v=o[g];if(v.href===u&&(!d||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":JV,d||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((g,v)=>{p.addEventListener("load",g),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},QV=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Yo(async()=>{const{default:n}=await Promise.resolve().then(()=>Go);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Pw extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class p_ extends Pw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class g_ extends Pw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class v_ extends Pw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var G0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(G0||(G0={}));class ZV{constructor(t,{headers:r={},customFetch:n,region:a=G0.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=QV(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return de(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const p=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new p_(y)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new g_(p);if(!p.ok)throw new v_(p);let v=((a=p.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),x;return v==="application/json"?x=yield p.json():v==="application/octet-stream"||v==="application/pdf"?x=yield p.blob():v==="text/event-stream"?x=p:v==="multipart/form-data"?x=yield p.formData():x=yield p.text(),{data:x,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new p_(i)}:{data:null,error:i,response:i instanceof v_||i instanceof g_?i.context:void 0}}})}}var Vr={};const kc=sC(GV);var Af={},Of={},Tf={},If={},Rf={},ez=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},nc=ez();const tz=nc.fetch,NT=nc.fetch.bind(nc),_T=nc.Headers,rz=nc.Request,nz=nc.Response,Go=Object.freeze(Object.defineProperty({__proto__:null,Headers:_T,Request:rz,Response:nz,default:NT,fetch:tz},Symbol.toStringTag,{value:"Module"})),sz=sC(Go);var Mf={},x_;function ET(){if(x_)return Mf;x_=1,Object.defineProperty(Mf,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Mf.default=e,Mf}var y_;function kT(){if(y_)return Rf;y_=1,Object.defineProperty(Rf,"__esModule",{value:!0});const e=kc,t=e.__importDefault(sz),r=e.__importDefault(ET());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,p;let g=null,v=null,x=null,y=u.status,b=u.statusText;if(u.ok){if(this.method!=="HEAD"){const N=await u.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?v=N:v=JSON.parse(N))}const j=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");j&&S&&S.length>1&&(x=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(g={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,x=null,y=406,b="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const j=await u.text();try{g=JSON.parse(j),Array.isArray(g)&&u.status===404&&(v=[],g=null,y=200,b="OK")}catch{u.status===404&&j===""?(y=204,b="No Content"):g={message:j}}if(g&&this.isMaybeSingle&&(!((p=g?.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,y=200,b="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:v,count:x,status:y,statusText:b}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,h;return{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:`${(f=u?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u?.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return Rf.default=n,Rf}var b_;function PT(){if(b_)return If;b_=1,Object.defineProperty(If,"__esModule",{value:!0});const t=kc.__importDefault(kT());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return If.default=r,If}var w_;function Cw(){if(w_)return Tf;w_=1,Object.defineProperty(Tf,"__esModule",{value:!0});const t=kc.__importDefault(PT());class r extends t.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${u}.${i}`),this}match(a){return Object.entries(a).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(a,i,o){return this.url.searchParams.append(a,`not.${i}.${o}`),this}or(a,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,i,o){return this.url.searchParams.append(a,`${i}.${o}`),this}}return Tf.default=r,Tf}var j_;function CT(){if(j_)return Of;j_=1,Object.defineProperty(Of,"__esModule",{value:!0});const t=kc.__importDefault(Cw());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Of.default=r,Of}var S_;function az(){if(S_)return Af;S_=1,Object.defineProperty(Af,"__esModule",{value:!0});const e=kc,t=e.__importDefault(CT()),r=e.__importDefault(Cw());class n{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let p;l||c?(f=l?"HEAD":"GET",Object.entries(o).filter(([v,x])=>x!==void 0).map(([v,x])=>[v,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([v,x])=>{h.searchParams.append(v,x)})):(f="POST",p=o);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:g,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Af.default=n,Af}Object.defineProperty(Vr,"__esModule",{value:!0});Vr.PostgrestError=Vr.PostgrestBuilder=Vr.PostgrestTransformBuilder=Vr.PostgrestFilterBuilder=Vr.PostgrestQueryBuilder=Vr.PostgrestClient=void 0;const Pc=kc,AT=Pc.__importDefault(az());Vr.PostgrestClient=AT.default;const OT=Pc.__importDefault(CT());Vr.PostgrestQueryBuilder=OT.default;const TT=Pc.__importDefault(Cw());Vr.PostgrestFilterBuilder=TT.default;const IT=Pc.__importDefault(PT());Vr.PostgrestTransformBuilder=IT.default;const RT=Pc.__importDefault(kT());Vr.PostgrestBuilder=RT.default;const MT=Pc.__importDefault(ET());Vr.PostgrestError=MT.default;var iz=Vr.default={PostgrestClient:AT.default,PostgrestQueryBuilder:OT.default,PostgrestFilterBuilder:TT.default,PostgrestTransformBuilder:IT.default,PostgrestBuilder:RT.default,PostgrestError:MT.default};const{PostgrestClient:oz,PostgrestQueryBuilder:X0e,PostgrestFilterBuilder:Q0e,PostgrestTransformBuilder:Z0e,PostgrestBuilder:eye,PostgrestError:tye}=iz;class lz{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const cz="2.76.1",uz=`realtime-js/${cz}`,dz="1.0.0",J0=1e4,fz=1e3,hz=100;var Ru;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ru||(Ru={}));var Yt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Yt||(Yt={}));var is;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(is||(is={}));var X0;(function(e){e.websocket="websocket"})(X0||(X0={}));var ao;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ao||(ao={}));class mz{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class DT{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(et||(et={}));const N_=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=pz(o,e,t,a),i),{}):{}},pz=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a?.type,o=r[e];return i&&!n.includes(i)?LT(i,o):Q0(o)},LT=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return yz(t,r)}switch(e){case et.bool:return gz(t);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return vz(t);case et.json:case et.jsonb:return xz(t);case et.timestamp:return bz(t);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return Q0(t);default:return Q0(t)}},Q0=e=>e,gz=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vz=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},xz=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},yz=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>LT(t,l))}return e},bz=e=>typeof e=="string"?e.replace(" ","T"):e,$T=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Xv{constructor(t,r,n={},a=J0){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var __;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(__||(__={}));class Mu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mu.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Mu.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Mu.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),g=d.filter(x=>p.indexOf(x.presence_ref)<0),v=f.filter(x=>h.indexOf(x.presence_ref)<0);g.length>0&&(l[u]=g),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var E_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(E_||(E_={}));var Du;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Du||(Du={}));var Zs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Zs||(Zs={}));class Aw{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xv(this,is.join,this.params,this.timeout),this.rejoinTimer=new DT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(is.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Mu(this),this.broadcastEndpointURL=$T(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Yt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Du.PRESENCE]&&this.bindings[Du.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t?.(Zs.CHANNEL_ERROR,p)),this._onClose(()=>t?.(Zs.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){t?.(Zs.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(g=v?.length)!==null&&g!==void 0?g:0,y=[];for(let b=0;b<x;b++){const w=v[b],{filter:{event:j,schema:S,table:N,filter:_}}=w,E=p&&p[b];if(E&&E.event===j&&E.schema===S&&E.table===N&&E.filter===_)y.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=Yt.errored,t?.(Zs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Zs.SUBSCRIBED);return}}).receive("error",p=>{this.state=Yt.errored,t?.(Zs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t?.(Zs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Yt.joined&&t===Du.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Yt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(is.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Xv(this,is.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Yt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Xv(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>hz){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=is;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var g,v,x;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(v=p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,v,x,y,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,S=(g=p.filter)===null||g===void 0?void 0:g.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(S==="*"||S?.toLocaleLowerCase()===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(b=(y=p?.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((w=r?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:v,table:x,commit_timestamp:y,type:b,errors:w}=g;h=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:y,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===Yt.closed}_isJoined(){return this.state===Yt.joined}_isJoining(){return this.state===Yt.joining}_isLeaving(){return this.state===Yt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Aw.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(is.close,{},t)}_onError(t){this._on(is.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=N_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=N_(t.columns,t.old_record)),r}}const Qv=()=>{},Df={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wz=[1e3,2e3,5e3,1e4],jz=1e4,Sz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Nz{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=J0,this.transport=null,this.heartbeatIntervalMs=Df.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qv,this.ref=0,this.reconnectTimer=null,this.logger=Qv,this.conn=null,this.sendBuffer=[],this.serializer=new mz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Yo(async()=>{const{default:l}=await Promise.resolve().then(()=>Go);return{default:l}},void 0,import.meta.url).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${X0.websocket}`,this.httpEndpoint=$T(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lz.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:dz}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ru.connecting:return ao.Connecting;case Ru.open:return ao.Open;case Ru.closing:return ao.Closing;default:return ao.Closed}}isConnected(){return this.connectionState()===ao.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Aw(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(fz,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Df.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(is.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Sz],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:uz};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(is.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new DT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Df.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:J0,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:Df.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:Qv,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:f=>wz[f-1]||jz,this.encode=(u=t?.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Ow extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function wt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _z extends Ow{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Z0 extends Ow{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Tw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Yo(async()=>{const{default:n}=await Promise.resolve().then(()=>Go);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Ez=()=>de(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yo(()=>Promise.resolve().then(()=>Go),void 0,import.meta.url)).Response:Response}),ey=e=>{if(Array.isArray(e))return e.map(r=>ey(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=ey(n)}),t},kz=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Zv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Pz=(e,t,r)=>de(void 0,void 0,void 0,function*(){const n=yield Ez();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const i=e.status||500,o=a?.statusCode||i+"";t(new _z(Zv(a),i,o))}).catch(a=>{t(new Z0(Zv(a),a))}):t(new Z0(Zv(e),e))}),Cz=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(kz(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Id(e,t,r,n,a,i){return de(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Cz(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Pz(c,l,n))})})}function ad(e,t,r,n){return de(this,void 0,void 0,function*(){return Id(e,"GET",t,r,n)})}function ss(e,t,r,n,a){return de(this,void 0,void 0,function*(){return Id(e,"POST",t,n,a,r)})}function ty(e,t,r,n,a){return de(this,void 0,void 0,function*(){return Id(e,"PUT",t,n,a,r)})}function Az(e,t,r,n){return de(this,void 0,void 0,function*(){return Id(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Iw(e,t,r,n,a){return de(this,void 0,void 0,function*(){return Id(e,"DELETE",t,n,a,r)})}class Oz{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return de(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wt(t))return{data:null,error:t};throw t}})}}var FT;class Tz{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[FT]="BlobDownloadBuilder",this.promise=null}asStream(){return new Oz(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return de(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wt(t))return{data:null,error:t};throw t}})}}FT=Symbol.toStringTag;const Iz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Rz{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Tw(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return de(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},k_),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a?.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?ty:ss)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return de(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return de(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:k_.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield ty(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(wt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return de(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield ss(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Ow("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}update(t,r,n){return de(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return de(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(wt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return de(this,void 0,void 0,function*(){try{return{data:{path:(yield ss(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(wt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return de(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield ss(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(wt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return de(this,void 0,void 0,function*(){try{const a=yield ss(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(wt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>ad(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new Tz(c,this.shouldThrowOnError)}info(t){return de(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ad(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ey(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}exists(t){return de(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Az(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n)&&n instanceof Z0){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return de(this,void 0,void 0,function*(){try{return{data:yield Iw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}list(t,r,n){return de(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Iz),r),{prefix:t||""});return{data:yield ss(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(wt(a))return{data:null,error:a};throw a}})}listV2(t,r){return de(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ss(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const BT="2.76.1",UT={"X-Client-Info":`storage-js/${BT}`};class Mz{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},UT),r),this.fetch=Tw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return de(this,void 0,void 0,function*(){try{return{data:yield ad(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wt(t))return{data:null,error:t};throw t}})}getBucket(t){return de(this,void 0,void 0,function*(){try{return{data:yield ad(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}createBucket(t){return de(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield ss(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(wt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return de(this,void 0,void 0,function*(){try{return{data:yield ty(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return de(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return de(this,void 0,void 0,function*(){try{return{data:yield Iw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}}class Dz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},UT),r),this.fetch=Tw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return de(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}listBuckets(t){return de(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,i=yield ad(this.fetch,a,{headers:this.headers});return{data:Array.isArray(i)?i.filter(l=>l.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return de(this,void 0,void 0,function*(){try{return{data:yield Iw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}}const Rw={"X-Client-Info":`storage-js/${BT}`,"Content-Type":"application/json"};class VT extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function on(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class ex extends VT{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Lz extends VT{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var P_;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(P_||(P_={}));const Mw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Yo(async()=>{const{default:n}=await Promise.resolve().then(()=>Go);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},$z=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},C_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Fz=(e,t,r)=>de(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=o?.statusCode||o?.code||a+"";t(new ex(C_(o),a,l))}).catch(()=>{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new ex(l,a,o))});else{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new ex(l,a,o))}}else t(new Lz(C_(e),e))}),Bz=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return n?($z(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function Uz(e,t,r,n,a,i){return de(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Bz(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n?.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>Fz(c,l,n))})})}function ln(e,t,r,n,a){return de(this,void 0,void 0,function*(){return Uz(e,"POST",t,n,a,r)})}class Vz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rw),r),this.fetch=Mw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return de(this,void 0,void 0,function*(){try{return{data:(yield ln(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}getIndex(t,r){return de(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}listIndexes(t){return de(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return de(this,void 0,void 0,function*(){try{return{data:(yield ln(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}}class zz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rw),r),this.fetch=Mw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return de(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ln(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}getVectors(t){return de(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}listVectors(t){return de(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ln(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}queryVectors(t){return de(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}deleteVectors(t){return de(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ln(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}}class Wz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rw),r),this.fetch=Mw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return de(this,void 0,void 0,function*(){try{return{data:(yield ln(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}getBucket(t){return de(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}listBuckets(){return de(this,arguments,void 0,function*(t={}){try{return{data:yield ln(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}deleteBucket(t){return de(this,void 0,void 0,function*(){try{return{data:(yield ln(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}}class qz extends Wz{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Kz(this.url,this.headers,t,this.fetch)}}class Kz extends Vz{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return de(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return de(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return de(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return de(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Hz(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Hz extends zz{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return de(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return de(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return de(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return de(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return de(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Yz extends Mz{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new Rz(this.url,this.headers,t,this.fetch)}get vectors(){return new qz(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Dz(this.url+"/iceberg",this.headers,this.fetch)}}const Gz="2.76.1";let yu="";typeof Deno<"u"?yu="deno":typeof document<"u"?yu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yu="react-native":yu="node";const Jz={"X-Client-Info":`supabase-js-${yu}/${Gz}`},Xz={headers:Jz},Qz={schema:"public"},Zz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eW={},tW=e=>{let t;return e?t=e:typeof fetch>"u"?t=NT:t=fetch,(...r)=>t(...r)},rW=()=>typeof Headers>"u"?_T:Headers,nW=(e,t,r)=>{const n=tW(r),a=rW();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function sW(e){return e.endsWith("/")?e:e+"/"}function aW(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function iW(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(sW(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const zT="2.76.1",pl=30*1e3,ry=3,tx=ry*pl,oW="http://localhost:9999",lW="supabase.auth.token",cW={"X-Client-Info":`gotrue-js/${zT}`},ny="X-Supabase-Api-Version",WT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},uW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dW=10*60*1e3;class id extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class fW extends id{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function hW(e){return ve(e)&&e.name==="AuthApiError"}class io extends id{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Di extends id{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Ba extends Di{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mW(e){return ve(e)&&e.name==="AuthSessionMissingError"}class rl extends Di{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Lf extends Di{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class $f extends Di{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pW(e){return ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class A_ extends Di{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sy extends Di{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function rx(e){return ve(e)&&e.name==="AuthRetryableFetchError"}class O_ extends Di{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ay extends Di{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),T_=` 	
\r=`.split(""),gW=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<T_.length;t+=1)e[T_[t].charCodeAt(0)]=-2;for(let t=0;t<bm.length;t+=1)e[bm[t].charCodeAt(0)]=t;return e})();function I_(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bm[n]),t.queuedBits-=6}}function qT(e,t,r){const n=gW[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function R_(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{yW(o,n,r)};for(let o=0;o<e.length;o+=1)qT(e.charCodeAt(o),a,i);return t.join("")}function vW(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function xW(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}vW(n,t)}}function yW(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Vl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)qT(e.charCodeAt(a),r,n);return new Uint8Array(t)}function bW(e){const t=[];return xW(e,r=>t.push(r)),new Uint8Array(t)}function uo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>I_(a,r,n)),I_(null,r,n),t.join("")}function wW(e){return Math.round(Date.now()/1e3)+e}function jW(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Qr=()=>typeof window<"u"&&typeof document<"u",Gi={tested:!1,writable:!1},KT=()=>{if(!Qr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gi.tested)return Gi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Gi.tested=!0,Gi.writable=!0}catch{Gi.tested=!0,Gi.writable=!1}return Gi.writable};function SW(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const HT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Yo(async()=>{const{default:n}=await Promise.resolve().then(()=>Go);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},NW=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",gl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ji=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Da=async(e,t)=>{await e.removeItem(t)};class qp{constructor(){this.promise=new qp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}qp.promiseConstructor=Promise;function nx(e){const t=e.split(".");if(t.length!==3)throw new ay("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!uW.test(t[n]))throw new ay("JWT not in base64url format");return{header:JSON.parse(R_(t[0])),payload:JSON.parse(R_(t[1])),signature:Vl(t[2]),raw:{header:t[0],payload:t[1]}}}async function _W(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function EW(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function kW(e){return("0"+e.toString(16)).substr(-2)}function PW(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,kW).join("")}async function CW(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function AW(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await CW(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nl(e,t,r=!1){const n=PW();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await gl(e,`${t}-code-verifier`,a);const i=await AW(n);return[i,n===i?"plain":"s256"]}const OW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function TW(e){const t=e.headers.get(ny);if(!t||!t.match(OW))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function IW(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function RW(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const MW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sl(e){if(!MW.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sx(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function M_(e){return JSON.parse(JSON.stringify(e))}const Zi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DW=[502,503,504];async function D_(e){var t;if(!NW(e))throw new sy(Zi(e),0);if(DW.includes(e.status))throw new sy(Zi(e),e.status);let r;try{r=await e.json()}catch(i){throw new io(Zi(i),i)}let n;const a=TW(e);if(a&&a.getTime()>=WT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new O_(Zi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ba}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new O_(Zi(r),e.status,r.weak_password.reasons);throw new fW(Zi(r),e.status||500,n)}const LW=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function we(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[ny]||(i[ny]=WT["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await $W(e,t,r+l,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function $W(e,t,r,n,a,i){const o=LW(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new sy(Zi(c),0)}if(l.ok||await D_(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await D_(c)}}function ts(e){var t;let r=null;UW(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=wW(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function L_(e){const t=ts(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ya(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function FW(e){return{data:e,error:null}}function BW(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Mi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function $_(e){return e}function UW(e){return e.access_token&&e.refresh_token&&e.expires_in}const ax=["global","local","others"];class VW{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=HT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=ax[0]){if(ax.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ax.join(", ")}`);try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ya})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Mi(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:BW,redirectTo:r?.redirectTo})}catch(r){if(ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ya})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:$_});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ve(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){sl(t);try{return await we(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ya})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){sl(t);try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ya})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){sl(t);try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ya})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){sl(t.userId);try{const{data:r,error:n}=await we(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _deleteFactor(t){sl(t.userId),sl(t.id);try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await we(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:$_});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ve(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await we(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await we(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}}function F_(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const al={debug:!!(globalThis&&KT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class YT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class zW extends YT{}async function WW(e,t,r){al.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),al.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){al.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{al.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw al.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zW(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(al.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function qW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function GT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function KW(e){return parseInt(e,16)}function HW(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function YW(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=GT(e.address),g=d?`${d}://${n}`:n,v=e.statement?`${e.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${p}

${v}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}y+=b}return`${x}
${y}`}class Dt extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class wm extends Dt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function GW({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(JT(o)){if(i.rp.id!==o)return new Dt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function JW({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(JT(n)){if(r.rpId!==n)return new Dt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class XW{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const QW=new XW;function ZW(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Mi(e,["challenge","user","excludeCredentials"]),i=Vl(t).buffer,o=Object.assign(Object.assign({},r),{id:Vl(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Vl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function e9(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Mi(e,["challenge","allowCredentials"]),a=Vl(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Vl(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function t9(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:uo(new Uint8Array(e.response.attestationObject)),clientDataJSON:uo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function r9(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:uo(new Uint8Array(a.authenticatorData)),clientDataJSON:uo(new Uint8Array(a.clientDataJSON)),signature:uo(new Uint8Array(a.signature)),userHandle:a.userHandle?uo(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function JT(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function B_(){var e,t;return!!(Qr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function n9(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wm("Browser returned unexpected credential type",t)}:{data:null,error:new wm("Empty credential response",t)}}catch(t){return{data:null,error:GW({error:t,options:e})}}}async function s9(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wm("Browser returned unexpected credential type",t)}:{data:null,error:new wm("Empty credential response",t)}}catch(t){return{data:null,error:JW({error:t,options:e})}}}const a9={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},i9={userVerification:"preferred",hints:["security-key"]};function jm(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=jm(l,o):n[i]=jm(o)}else n[i]=o}return n}function o9(e,t){return jm(a9,e,t||{})}function l9(e,t){return jm(i9,e,t||{})}class c9{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??QW.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=o9(o.webauthn.credential_options.publicKey,i?.create),{data:d,error:f}=await n9({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=l9(o.webauthn.credential_options.publicKey,i?.request),{data:d,error:f}=await s9(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return ve(o)?{data:null,error:o}:{data:null,error:new io("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new id("rpId is required for WebAuthn authentication")};try{if(!B_())return{data:null,error:new io("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return ve(o)?{data:null,error:o}:{data:null,error:new io("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new id("rpId is required for WebAuthn registration")};try{if(!B_())return{data:null,error:new io("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ve(o)?{data:null,error:o}:{data:null,error:new io("Unexpected error in register",o)}}}}qW();const u9={url:oW,storageKey:lW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function U_(e,t,r){return await r()}const il={};class od{get jwks(){var t,r;return(r=(t=il[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){il[this.storageKey]=Object.assign(Object.assign({},il[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=il[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){il[this.storageKey]=Object.assign(Object.assign({},il[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=od.nextInstanceID,od.nextInstanceID+=1,this.instanceID>0&&Qr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},u9),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new VW({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=HT(a.fetch),this.lock=a.lock||U_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Qr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=WW:this.lock=U_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new c9(this)},this.persistSession?(a.storage?this.storage=a.storage:KT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=F_(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=F_(this.memoryStorage)),Qr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zT}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=SW(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Qr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),pW(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ve(r)?{error:r}:{error:new io("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:ts}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await nl(this.storage,this.storageKey)),i=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:f,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:g},xform:ts})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h?.data)!==null&&n!==void 0?n:{},channel:(a=h?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:ts})}else throw new Lf("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:L_})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:L_})}else throw new Lf("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new rl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:v,wallet:x,statement:y,options:b}=t;let w;if(Qr())if(typeof x=="object")w=x;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")w=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const j=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=GT(S[0]);let _=(n=b?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const k=await w.request({method:"eth_chainId"});_=KW(k)}const E={domain:j.host,address:N,statement:y,uri:j.href,version:"1",chainId:_,nonce:(a=b?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=b?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=b?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=YW(E),g=await w.request({method:"personal_sign",params:[HW(p),N]})}try{const{data:v,error:x}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ts});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new rl}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(ve(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,p;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:x,wallet:y,statement:b,options:w}=t;let j;if(Qr())if(typeof y=="object")j=y;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const S=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let _;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")_=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)_=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)g=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),v=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=w?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=N}}try{const{data:x,error:y}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:uo(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ts});if(y)throw y;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new rl}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:y})}catch(x){if(ve(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await Ji(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ts});if(await Da(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new rl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(ve(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ts}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new rl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await nl(this.storage,this.storageKey));const{error:f}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c?.data)!==null&&a!==void 0?a:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Lf("You must provide either an email or phone number.")}catch(l){if(ve(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ts});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ve(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await nl(this.storage,this.storageKey)),await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:FW})}catch(i){if(ve(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ba;const{error:a}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await we(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await we(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new Lf("You must provide either an email or phone number and a type")}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ji(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<tx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ji(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=sx()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ya}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ba}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ya})})}catch(r){if(ve(r))return mW(r)&&(await this._removeSession(),await Da(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ba;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await nl(this.storage,this.storageKey));const{data:u,error:d}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ya});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ba;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=nx(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ve(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Ba;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Qr())throw new $f("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $f(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new A_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $f("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new A_("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new $f("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=pl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:v,error:x}=await this._getUser(i);if(x)throw x;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(ve(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ji(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(hW(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Da(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=jW(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await nl(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ve(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Qr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(ve(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:ts}),{data:h,error:p}=f;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new rl}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:p})}catch(a){if(ve(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await EW(async a=>(a>0&&await _W(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ts})),(a,i)=>{const o=200*Math.pow(2,a);return i&&rx(i)&&Date.now()+o-n<pl})}catch(n){if(this._debug(r,"error",n),ve(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Qr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ji(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ji(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await gl(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o?.user)!==null&&t!==void 0?t:sx()}else if(a&&!a.user&&!a.user){const o=await Ji(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await Da(this.storage,this.storageKey+"-user"),await gl(this.storage,this.storageKey,a)):a.user=sx()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<tx;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${tx}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),rx(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ba;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new qp;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ba;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),ve(i)){const o={data:null,error:i};return rx(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await gl(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=M_(a);await gl(this.storage,this.storageKey,i)}else{const a=M_(r);await gl(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Da(this.storage,this.storageKey),await Da(this.storage,this.storageKey+"-code-verifier"),await Da(this.storage,this.storageKey+"-user"),this.userStorage&&await Da(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),pl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/pl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${pl}ms, refresh threshold is ${ry} ticks`),a<=ry&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof YT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await nl(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await we(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await we(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c?.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?t9(t.webauthn.credential_response):r9(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await we(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await we(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ZW(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:e9(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=nx(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+dW>a)return n;const{data:i,error:o}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=nx(n);r?.allowExpired||IW(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=RW(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,bW(`${l}.${c}`)))throw new ay("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}}od.nextInstanceID=0;const d9=od;class f9 extends d9{constructor(t){super(t)}}class h9{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=iW(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Qz,realtime:eW,auth:Object.assign(Object.assign({},Zz),{storageKey:c}),global:Xz},d=aW(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=nW(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new oz(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Yz(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new ZV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f9({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Nz(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const m9=(e,t,r)=>new h9(e,t,r);function p9(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}p9()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const XT="https://mwvcbedvnimabfwubazz.supabase.co",QT="sb_publishable_test_placeholder",g9="pk_test_your_publishable_key_here";{if(!/^https:\/\/[a-z0-9-]+\.supabase\.co$/.test(XT))throw new Error("❌ Invalid or missing VITE_SUPABASE_URL in production");if(QT.split(".").length<3)throw new Error("❌ Invalid or missing VITE_SUPABASE_PUBLISHABLE_KEY in production");if(!/^pk_live_[A-Za-z0-9]+$/.test(g9))throw new Error("❌ Invalid or missing VITE_STRIPE_PUBLISHABLE_KEY in production")}const P=m9(XT,QT,{auth:{persistSession:!0,autoRefreshToken:!0},global:{headers:{"x-application-name":"greenscape-lux"}}}),v9=m.createContext(null);function x9({children:e}){const t=m.useMemo(()=>({url:null,anon:null,setConfigOpen:()=>{}}),[]);return s.jsx(v9.Provider,{value:t,children:e})}function Cc(){return P}const V_={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"",VITE_APP_ENV:"production",VITE_GOOGLE_MAPS_API_KEY:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4",VITE_RESEND_API_KEY:"re_your_resend_api_key_here",VITE_SITE_URL:"",VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_your_publishable_key_here",VITE_SUPABASE_ANON_KEY:"sb_publishable_EPF-r4VsfAE13EBn6SNwTQ_QS-5h6ex",VITE_SUPABASE_FUNCTIONS_URL:"https://mwvcbedvnimabfwubazz.functions.supabase.co",VITE_SUPABASE_PUBLISHABLE_KEY:"sb_publishable_test_placeholder",VITE_SUPABASE_URL:"https://mwvcbedvnimabfwubazz.supabase.co"},iy=()=>{const e=a=>{if(typeof import.meta<"u"&&V_)return V_[a];if(typeof window<"u"&&window.import?.meta?.env)return window.import.meta.env[a]},t=e("VITE_SUPABASE_URL")||"https://mwvcbedvnimabfwubazz.supabase.co",r=e("VITE_SUPABASE_PUBLISHABLE_KEY")||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY",n=!!e("VITE_SUPABASE_URL");return{supabase:{url:t,anonKey:r,isConfigured:!0},url:t,anon:r,source:n?"environment":"fallback",domain:typeof window<"u"?window.location.hostname:"unknown"}};function y9({children:e}){const[t,r]=m.useState(null),[n,a]=m.useState(!1);return m.useEffect(()=>{(async()=>{try{const o=iy();if(typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1")){console.info("✅ Production mode: Using configuration fallbacks"),a(!0);return}if(!o.url||!o.anon||o.url==="undefined"||o.anon==="undefined")throw new Error("Development environment requires proper configuration");console.info("✅ Configuration validated:",{url:o.url.replace(/https?:\/\//,"").split(".")[0]+"...",source:o.source}),a(!0)}catch(o){const l=o instanceof Error?o.message:"Configuration error";console.error("❌ Config validation failed:",l),r(l),a(!0)}})()},[]),t?typeof window<"u"&&!window.location.pathname.includes("/setup")?(window.location.href="/setup",null):s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f9fafb",fontFamily:"system-ui, -apple-system, sans-serif",zIndex:9999,padding:"1rem"},children:s.jsx("div",{style:{maxWidth:"32rem",width:"100%",padding:"2rem",backgroundColor:"white",borderRadius:"0.75rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"🚨"}),s.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#dc2626",marginBottom:"1rem",lineHeight:"1.2"},children:"Environment Configuration Required"}),s.jsx("p",{style:{color:"#374151",marginBottom:"1.5rem",lineHeight:"1.6",fontSize:"1rem"},children:t}),s.jsxs("div",{style:{fontSize:"0.875rem",color:"#6b7280",backgroundColor:"#f9fafb",padding:"1rem",borderRadius:"0.5rem",marginTop:"1rem",textAlign:"left",lineHeight:"1.5"},children:[s.jsx("strong",{style:{color:"#374151"},children:"Setup Instructions:"}),s.jsx("br",{}),s.jsx("br",{}),"1. Go to ",s.jsx("strong",{children:"Vercel Dashboard"}),s.jsx("br",{}),"2. Select your project → ",s.jsx("strong",{children:"Settings"})," → ",s.jsx("strong",{children:"Environment Variables"}),s.jsx("br",{}),"3. Add these variables:",s.jsx("br",{}),"  • ",s.jsx("code",{children:"VITE_SUPABASE_URL"}),s.jsx("br",{}),"  • ",s.jsx("code",{children:"VITE_SUPABASE_PUBLISHABLE_KEY"}),s.jsx("br",{}),"4. Set for ",s.jsx("strong",{children:"Production, Preview, and Development"}),s.jsx("br",{}),"5. ",s.jsx("strong",{children:"Redeploy"})," your application"]})]})})}):n?s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"fixed inset-0 min-h-screen flex items-center justify-center bg-gray-900 text-white z-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4 animate-spin",children:"🌿"}),s.jsx("div",{className:"text-xl",children:"Loading GreenScape Lux..."})]})})}const b9=()=>{if(!(typeof window>"u")){console.warn("⚠️ Google Analytics not initialized: Invalid or placeholder tracking ID");return}},w9=(e,t)=>{},j9=(e,t)=>{},S9=({children:e})=>{const t=Vt();return m.useEffect(()=>{w9(t.pathname+t.search)},[t]),s.jsx(s.Fragment,{children:e})},N9=Up("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground shadow-sm",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-600 dark:text-green-400 [&>svg]:text-green-600 dark:[&>svg]:text-green-400 bg-green-50 dark:bg-green-950/20",warning:"border-yellow-500/50 text-yellow-600 dark:text-yellow-400 [&>svg]:text-yellow-600 dark:[&>svg]:text-yellow-400 bg-yellow-50 dark:bg-yellow-950/20",info:"border-primary/50 text-primary dark:text-primary-foreground [&>svg]:text-primary bg-primary/10 dark:bg-primary/20"}},defaultVariants:{variant:"default"}}),Be=m.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ue(N9({variant:t}),e),...r}));Be.displayName="Alert";const ZT=m.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ue("mb-1 font-medium leading-none tracking-tight",e),...t}));ZT.displayName="AlertTitle";const Ue=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ue("text-sm [&_p]:leading-relaxed opacity-90",e),...t}));Ue.displayName="AlertDescription";function _9(){const[e,t]=m.useState(null),[r,n]=m.useState(!1);return m.useEffect(()=>{const a=async()=>{try{const o=await fetch(`/version.json?t=${Date.now()}`);if(!o.ok)return;const l=await o.json();if(l.commitHash==="PLACEHOLDER"||!l.commitHash)return;t(l);const c=localStorage.getItem("app_version");c&&c!==l.commitHash?(n(!0),setTimeout(()=>{localStorage.setItem("app_version",l.commitHash),window.location.reload()},3e3)):c||localStorage.setItem("app_version",l.commitHash)}catch(o){console.error("❌ Version check failed:",o)}};a();const i=setInterval(a,3e5);return()=>clearInterval(i)},[]),r?s.jsx(Be,{className:"fixed bottom-4 right-4 w-auto z-50 bg-green-600 text-white border-green-700 shadow-lg",children:s.jsx(Ue,{children:"New version available. Reloading..."})}):null}const Dw=({size:e="medium",className:t=""})=>{const r={small:"w-16 h-16",medium:"w-32 h-32 md:w-40 md:h-40",large:"w-40 h-40 md:w-48 md:h-48"};return s.jsx("img",{src:"https://d64gsuwffb70l.cloudfront.net/68366206d4e44998c9b3046b_1753842719826_a8c02e0b.png",alt:"GreenScape Lux Logo",className:`${r[e]} drop-shadow-[0_0_20px_rgba(34,197,94,0.5)] hover:drop-shadow-[0_0_30px_rgba(34,197,94,0.7)] transition-all duration-300 ${t}`})};async function Rd(e,t="/client-login"){try{console.log("Starting logout process..."),document.cookie.split(";").forEach(n=>{const a=n.split("=")[0].trim();(a.includes("supabase")||a.includes("auth")||a.includes("sb-"))&&(document.cookie=`${a}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=${window.location.hostname}`,document.cookie=`${a}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`)});const{error:r}=await e.auth.signOut();r?console.error("Supabase signOut error:",r):console.log("Supabase signOut successful");try{sessionStorage.clear(),console.log("Session storage cleared")}catch(n){console.error("Session storage clear failed:",n)}try{localStorage.clear(),console.log("Local storage cleared")}catch(n){console.error("Local storage clear failed:",n)}console.log("Redirecting to:",t),window.location.href=t}catch(r){console.error("Logout process failed:",r),window.location.href=t}}const e4=m.createContext({user:null,session:null,loading:!0,role:null,signOut:async()=>{},refreshUserRole:async()=>{}}),kt=()=>{const e=m.useContext(e4);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Lw=kt,E9=({children:e})=>{const[t,r]=m.useState(null),[n,a]=m.useState(null),[i,o]=m.useState(!0),[l,c]=m.useState(null),u=async g=>{try{console.log("🔍 Looking up role for user ID:",g.id);const v=g.user_metadata?.role;if(v)return console.log("✅ Got role from metadata:",v),v;console.log("🔍 No role in metadata, querying database...");const{data:x,error:y}=await P.from("users").select("role").eq("id",g.id).single();return y?(console.error("❌ Database role lookup error:",y),"client"):x?.role?(console.log("✅ Got role from database:",x.role),x.role):(console.log("🔍 No role found, defaulting to client"),"client")}catch(v){return console.error("❌ Exception in getUserRole:",v),"client"}},d=async g=>{try{if(!g.id||!g.email)return;const{data:v}=await P.from("users").select("id").eq("id",g.id).single();if(v)return;const{error:x}=await P.from("users").upsert({id:g.id,email:g.email,role:g.user_metadata?.role||"client",first_name:g.user_metadata?.first_name||null,last_name:g.user_metadata?.last_name||null},{onConflict:"id"});x?console.error("❌ Error creating or updating user record:",x):console.log("✅ Created or updated user record for:",g.email)}catch(v){console.error("❌ Exception in ensureUserRecord:",v)}},f=async()=>{if(!t)return;console.log("🔄 Refreshing user role for:",t.email);const g=await u(t);c(g)},h=async()=>{try{console.log("🔄 AuthContext signOut called"),r(null),a(null),c(null),await P.auth.signOut(),window.location.href="/"}catch(g){console.error("❌ Exception during sign out:",g),window.location.href="/"}};m.useEffect(()=>{let g=!0;const v=async(y,b)=>{if(g){if(console.log("🔄 Auth state change:",y,b?.user?.email||"no user"),a(b),r(b?.user||null),b?.user?.email){await d(b.user);const w=await u(b.user);if(g&&(c(w),y==="SIGNED_IN"&&w)){console.log("✅ Login successful, redirecting based on role:",w);const j=w==="admin"?"/admin-dashboard":w==="landscaper"?"/landscaper-dashboard":"/client-dashboard";console.log("🔀 Redirecting to:",j),setTimeout(()=>{window.location.href=j},100)}}else g&&c(null);g&&o(!1)}};P.auth.getSession().then(({data:{session:y}})=>{g&&v("INITIAL_SESSION",y)});const{data:{subscription:x}}=P.auth.onAuthStateChange(v);return()=>{g=!1,x.unsubscribe()}},[]);const p={user:t,session:n,loading:i,role:l,signOut:h,refreshUserRole:f};return s.jsx(e4.Provider,{value:p,children:e})};function k9(){const[e,t]=m.useState(!1),[r,n]=m.useState(!1),[a,i]=m.useState(!1),o=Ae(),l=m.useRef(null),{user:c,role:u}=kt();m.useEffect(()=>{c&&u?(n(u==="client"||u==="admin"),i(u==="landscaper"||u==="admin")):(n(!1),i(!1))},[c,u]),m.useEffect(()=>{const h=p=>{l.current&&!l.current.contains(p.target)&&t(!1)};return e&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[e]);const d=async()=>{t(!1),await Rd(P,"/client-login")};if(!c?.email)return null;const f=r&&a;return s.jsxs("div",{className:"relative",ref:l,children:[s.jsxs("button",{className:"px-3 py-2 rounded-2xl bg-emerald-500/15 hover:bg-emerald-500/25 text-emerald-300 shadow-[0_0_20px_rgba(52,211,153,0.15)] ring-1 ring-emerald-500/30 transition-all duration-200 hover:shadow-[0_0_30px_rgba(52,211,153,0.25)] max-w-[200px] sm:max-w-none",onClick:()=>t(h=>!h),"aria-haspopup":"menu","aria-expanded":e,children:[s.jsx("span",{className:"hidden sm:inline",children:c.email}),s.jsx("span",{className:"sm:hidden",children:c.email.length>15?`${c.email.substring(0,12)}...`:c.email})]}),e&&s.jsxs("div",{className:"absolute right-0 mt-2 w-64 rounded-2xl bg-[#0B0F0D] ring-1 ring-emerald-500/30 shadow-xl shadow-emerald-500/10 p-2 z-50",role:"menu",children:[f&&s.jsx("div",{className:"px-4 py-2 text-emerald-400 text-sm font-medium",children:"Switch Portal"}),r&&s.jsx("button",{className:"w-full text-left px-4 py-3 rounded-xl text-emerald-300 hover:bg-emerald-500/10 hover:shadow-[0_0_15px_rgba(52,211,153,0.1)] transition-all duration-200",onClick:()=>{t(!1),o("/client-dashboard")},role:"menuitem",children:"Client Dashboard"}),a&&s.jsx("button",{className:"w-full text-left px-4 py-3 rounded-xl text-emerald-300 hover:bg-emerald-500/10 hover:shadow-[0_0_15px_rgba(52,211,153,0.1)] transition-all duration-200",onClick:()=>{t(!1),o("/landscaper-dashboard")},role:"menuitem",children:"Pro Dashboard"}),(r||a)&&s.jsx("div",{className:"my-2 h-px bg-emerald-500/20"}),s.jsx("button",{className:"w-full text-left px-4 py-3 rounded-xl text-red-300 hover:bg-red-500/10 hover:text-red-200 transition-all duration-200",onClick:d,role:"menuitem",children:"Logout"})]})]})}const $w=({showNavigation:e=!0})=>{Ae();const[t,r]=m.useState(!1),{user:n}=kt();return s.jsx("header",{className:"relative z-20 bg-black border-b border-emerald-400/20",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Mn,{to:"/",className:"flex items-center min-w-0 flex-shrink",children:[s.jsx(Dw,{size:"small",className:"w-12 h-12 flex-shrink-0"}),s.jsx("span",{className:"ml-3 text-xl font-bold text-white hidden sm:block",children:"GreenScape Lux"}),s.jsx("span",{className:"ml-2 text-lg font-bold text-white sm:hidden",children:"GreenScape"})]}),s.jsx("div",{className:"flex items-center space-x-4 flex-shrink-0",children:n&&s.jsx(k9,{})})]})})})},Fw=()=>{const e=Ae(),t=Vt(),r=t.pathname.startsWith("/landscaper-dashboard")||t.pathname.startsWith("/pro-dashboard");return s.jsx("footer",{className:"bg-black py-12 px-6 border-t border-emerald-500/10",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 mb-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-emerald-400 flex items-center justify-center shadow-lg shadow-emerald-400/25",children:s.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z"})})})}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed max-w-xs",children:"Elevated outdoor living through premium landscaping services. Transform your space with luxury design and expert craftsmanship."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold text-sm mb-4",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Mn,{to:"/",className:"text-gray-300 hover:text-emerald-400 transition-colors text-sm",children:"Home"})}),s.jsx("li",{children:s.jsx(Mn,{to:"/about",className:"text-gray-300 hover:text-emerald-400 transition-colors text-sm",children:"About Us"})}),s.jsx("li",{children:s.jsx(Mn,{to:"/terms",className:"text-gray-300 hover:text-emerald-400 transition-colors text-sm",children:"Terms of Service"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold text-sm mb-4",children:"Support"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("a",{href:"mailto:support@greenscapelux.com",className:"text-gray-300 hover:text-emerald-400 transition-colors text-sm",children:"📧 Email Support"})}),s.jsx("li",{children:s.jsx(Mn,{to:"/privacy",className:"text-gray-300 hover:text-emerald-400 transition-colors text-sm",children:"Privacy Policy"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold text-sm mb-4",children:"Contact"}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsx("p",{className:"text-gray-300 text-sm",children:"✉️ info@greenscapelux.com"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"🎧 support@greenscapelux.com"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("a",{href:"https://www.facebook.com/GreenScapeLux",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),s.jsx("a",{href:"https://www.instagram.com/greenscape_lux/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]})]}),s.jsx("div",{className:"border-t border-gray-800 pt-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("p",{className:"text-gray-400 text-sm text-center sm:text-left",children:"© 2025 GreenScape Lux. All rights reserved."}),!r&&s.jsx("button",{onClick:()=>e("/get-quote-enhanced"),className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-xl font-semibold text-sm hover:from-emerald-600 hover:to-emerald-700 transition-all duration-300 shadow-lg shadow-emerald-500/25 hover:shadow-emerald-500/40 hover:scale-105",children:"Request a Quote"})]})})]})})},Md=({children:e})=>s.jsxs("div",{className:"min-h-screen bg-[#050b08] flex flex-col",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-emerald-500/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-emerald-400/15 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-900/5 via-transparent to-emerald-800/5"})]}),s.jsx($w,{}),s.jsx("main",{className:"flex-1 relative z-10",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:e})}),s.jsx(Fw,{})]}),Wn=()=>s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute inset-0",children:Array.from({length:20},(e,t)=>s.jsx("div",{className:"absolute rounded-full bg-emerald-500/10 animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,width:`${Math.random()*100+50}px`,height:`${Math.random()*100+50}px`,animationDelay:`${Math.random()*2}s`,animationDuration:`${Math.random()*3+2}s`}},t))}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-900/5 via-transparent to-emerald-800/5"})]}),P9=()=>(m.useEffect(()=>{window.scrollTo(0,0)},[]),s.jsx(Md,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Wn,{}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("section",{className:"container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["About ",s.jsx("span",{className:"text-green-400 drop-shadow-[0_0_20px_rgba(74,222,128,0.5)]",children:"GreenScape Lux"})]}),s.jsx("h2",{className:"text-xl md:text-2xl text-green-400 mb-8 drop-shadow-[0_0_15px_rgba(74,222,128,0.3)]",children:"Elevated Outdoor Living. Backed by Decades of Experience"}),s.jsxs("div",{className:"space-y-6 text-gray-300 text-lg leading-relaxed",children:[s.jsx("p",{children:"At GreenScape Lux, luxury begins outdoors. We transform everyday lawns into high end landscapes that speak to style, comfort, and craftsmanship."}),s.jsx("p",{children:"Co-founded by Carlos Matthews and Bradley Green, GreenScape Lux is the result of over 25 combined years of professionalism across customer service, operations, and elite landscaping."}),s.jsx("p",{className:"text-green-400 font-semibold",children:"We are not just building beautiful yards. We are building a legacy of elevated outdoor living."})]})]})}),s.jsxs("section",{className:"container mx-auto px-4 py-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-16",children:s.jsx("span",{className:"text-green-400 drop-shadow-[0_0_20px_rgba(74,222,128,0.5)]",children:"👔 Meet the Founders"})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-2xl p-8 border border-green-400/20",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Carlos Matthews"}),s.jsx("p",{className:"text-green-400 mb-6 font-semibold",children:"Co-Founder • Director of Customer Relations"}),s.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"With over a decade in leadership and client experience, Carlos is the strategic force behind our white glove service. He brings an unmatched passion for people and process, ensuring every GreenScape Lux client feels informed, cared for, and confident throughout their journey."}),s.jsx("p",{className:"text-green-400 font-medium",children:"Carlos sets the tone for luxury level communication and professionalism from the first click to the final walkthrough."})]}),s.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-2xl p-8 border border-green-400/20",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Bradley Green"}),s.jsx("p",{className:"text-green-400 mb-6 font-semibold",children:"Co-Founder • Director of Field Operations"}),s.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Bradley has spent more than 15 years mastering the art of landscaping. As the owner of BeGreen Landscaping and now the co-founder of GreenScape Lux, his expertise spans everything from residential lawn care to premium outdoor installations."}),s.jsx("p",{className:"text-green-400 font-medium",children:"Bradley leads every project with integrity, excellence, and a reputation that speaks for itself — because he has built it yard by yard."})]})]})]})]})]})})),C9=()=>{const e=Ae();return s.jsxs("section",{className:"min-h-screen flex flex-col items-center justify-center text-center px-4 relative z-10 pb-4",children:[s.jsxs("div",{className:"mb-8 relative",children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-emerald-500/30 blur-3xl animate-pulse scale-150"}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-emerald-400/20 blur-2xl animate-pulse scale-125 animation-delay-500"}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-emerald-300/10 blur-xl animate-pulse scale-110 animation-delay-1000"}),s.jsx("img",{src:"https://d64gsuwffb70l.cloudfront.net/68366206d4e44998c9b3046b_1753839626505_2eaea86f.png",alt:"GreenScape Lux Logo",className:"relative z-10 mx-auto w-32 h-32 md:w-40 md:h-40 drop-shadow-[0_0_20px_rgba(34,197,94,0.5)] hover:drop-shadow-[0_0_30px_rgba(34,197,94,0.7)] transition-all duration-300"})]}),s.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold text-emerald-400 mb-4",children:"GreenScape Lux"}),s.jsx("h2",{className:"text-xl md:text-2xl text-white mb-4 font-semibold",children:"Your Lawn. Our Luxury."}),s.jsx("p",{className:"text-lg md:text-xl text-gray-300 mb-8 max-w-2xl leading-relaxed",children:"Charlotte's elite landscaping service offering instant booking and luxury-level care all at your fingertips."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[s.jsx(I,{onClick:()=>e("/get-started"),className:"bg-emerald-500 hover:bg-emerald-600 text-black px-8 py-4 font-bold rounded-full shadow-md hover:shadow-emerald-500/50 transition-all duration-300 text-lg glow-emerald hover:glow-emerald-strong",children:"Get Started"}),s.jsx(I,{onClick:()=>{console.log("🚀 Get a Quote button triggered from Hero Section"),e("/get-a-quote")},variant:"outline",className:"bg-transparent border-2 border-emerald-500 text-emerald-500 hover:bg-emerald-500 hover:text-black px-8 py-4 font-bold rounded-full shadow-md hover:shadow-emerald-500/50 transition-all duration-300 text-lg",children:"Get a Quote"})]})]})},A9=[{icon:"🏡",title:"Lawn Care",description:"Premium mowing, edging, and maintenance"},{icon:"🌺",title:"Garden Design",description:"Custom landscape design and installation"},{icon:"🌳",title:"Tree Services",description:"Professional pruning and arborist care"},{icon:"💧",title:"Irrigation Systems",description:"Smart sprinkler and water management"}],O9=()=>{const e=Ae(),[t,r]=m.useState(null),n=a=>{r(t===a?null:a)};return s.jsx("section",{className:"py-8 px-4 relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-center mb-6 md:mb-8 bg-gradient-to-r from-green-400 to-green-600 bg-clip-text text-transparent",children:"Luxury Services"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4 mb-8 md:mb-10",children:A9.map((a,i)=>s.jsx(C,{className:"bg-gray-900/60 border border-green-500/30 hover:border-green-400 hover:shadow-lg hover:shadow-green-500/20 transition-all duration-300 group rounded-2xl",children:s.jsxs(T,{className:"p-4 md:p-6 text-center h-full flex flex-col justify-center",children:[s.jsx("div",{className:"text-xl md:text-2xl mb-2 group-hover:scale-110 transition-transform",children:a.icon}),s.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-1",children:a.title}),s.jsx("p",{className:"text-gray-300 text-xs md:text-sm leading-tight",children:a.description})]})},i))}),s.jsxs("div",{className:"space-y-3 md:space-y-4 mb-8 md:mb-10",children:[s.jsx(C,{className:"bg-gray-900/60 border border-green-500/30 rounded-2xl",children:s.jsxs(T,{className:"p-0",children:[s.jsx("button",{onClick:()=>n("core"),className:"w-full p-4 md:p-6 text-left hover:bg-gray-800/50 transition-colors",children:s.jsxs("div",{className:"flex justify-between items-start md:items-center",children:[s.jsxs("div",{className:"flex-1 pr-4",children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-1 md:mb-2",children:"🌿 Core Year-Round Services"}),s.jsx("p",{className:"text-green-400 font-bold text-sm md:text-base shadow-lg shadow-green-500/20 bg-green-500/10 px-2 py-1 rounded-2xl inline-block",children:"Available in NC & FL"})]}),s.jsx("span",{className:"text-green-400 text-xl md:text-2xl flex-shrink-0 font-bold",children:t==="core"?"−":"+"})]})}),t==="core"&&s.jsx("div",{className:"px-4 md:px-6 pb-4 md:pb-6",children:s.jsxs("ul",{className:"space-y-2 md:space-y-2.5 text-gray-300 text-sm md:text-base",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Lawn mowing & edging"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Leaf blowing & cleanup"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Mulch installation"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Bush trimming & hedge shaping"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Weed removal & prevention"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Sod installation"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Flower bed maintenance"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Basic to premium landscape design"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Gravel & rock placement"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Pressure washing (driveways, walkways)"]})]})})]})}),s.jsx(C,{className:"bg-gray-900/60 border border-green-500/30 rounded-2xl",children:s.jsxs(T,{className:"p-0",children:[s.jsx("button",{onClick:()=>n("seasonal"),className:"w-full p-4 md:p-6 text-left hover:bg-gray-800/50 transition-colors",children:s.jsxs("div",{className:"flex justify-between items-start md:items-center",children:[s.jsxs("div",{className:"flex-1 pr-4",children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-1 md:mb-2",children:"❄️ Seasonal & Winter Services"}),s.jsx("p",{className:"text-green-400 font-bold text-sm md:text-base shadow-lg shadow-green-500/20 bg-green-500/10 px-2 py-1 rounded-2xl inline-block",children:"NC Only"})]}),s.jsx("span",{className:"text-green-400 text-xl md:text-2xl flex-shrink-0 font-bold",children:t==="seasonal"?"−":"+"})]})}),t==="seasonal"&&s.jsx("div",{className:"px-4 md:px-6 pb-4 md:pb-6",children:s.jsxs("ul",{className:"space-y-2 md:space-y-2.5 text-gray-300 text-sm md:text-base",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Leaf removal"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Gutter cleaning"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Winter pruning (shrubs, small trees)"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Holiday lighting installation/removal"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Snow removal (driveways, walkways)"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Ice salting and de-icing"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Seasonal plant protection and dormancy prep"]})]})})]})})]}),s.jsx("div",{className:"text-center",children:s.jsx("button",{onClick:()=>e("/get-quote-enhanced"),className:"bg-emerald-500 hover:bg-emerald-600 text-black font-semibold px-8 py-3 rounded-lg transition-all duration-200 hover:shadow-lg hover:shadow-emerald-500/25 text-lg",children:"Get Your Quote Today"})})]})})},T9=()=>{const e=Ae();return m.useEffect(()=>{new URLSearchParams(window.location.hash.substring(1)).get("type")==="recovery"&&e("/reset-password")},[e]),s.jsxs("div",{className:"relative bg-black min-h-screen",children:[s.jsx(Wn,{}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("section",{className:"mb-4",children:s.jsx(C9,{})}),s.jsx("section",{className:"mb-4",children:s.jsx(O9,{})})]}),s.jsx(Fw,{})]})},I9=Up("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border-border",success:"border-transparent bg-green-500/20 text-green-700 dark:text-green-300 border-green-500/30",warning:"border-transparent bg-yellow-500/20 text-yellow-700 dark:text-yellow-300 border-yellow-500/30",info:"border-transparent bg-primary/10 text-primary border-primary/30"},size:{default:"px-2.5 py-0.5 text-xs",sm:"px-2 py-0.5 text-[10px]",lg:"px-3 py-0.5 text-sm"}},defaultVariants:{variant:"default",size:"default"}});function Y({className:e,variant:t,size:r,...n}){return s.jsx("div",{className:ue(I9({variant:t,size:r}),e),...n})}function ye(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function R9(e,t){const r=m.createContext(t),n=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Yn(e,t=[]){let r=[];function n(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];const u=f=>{const{scope:h,children:p,...g}=f,v=h?.[e]?.[c]||l,x=m.useMemo(()=>g,Object.values(g));return s.jsx(v.Provider,{value:x,children:p})};u.displayName=i+"Provider";function d(f,h){const p=h?.[e]?.[c]||l,g=m.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=l?.[e]||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,M9(a,...t)]}function M9(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function t4(e){const t=e+"CollectionProvider",[r,n]=Yn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:x,children:y}=v,b=z.useRef(null),w=z.useRef(new Map).current;return s.jsx(a,{scope:x,itemMap:w,collectionRef:b,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Co(l),u=z.forwardRef((v,x)=>{const{scope:y,children:b}=v,w=i(l,y),j=Te(x,w.collectionRef);return s.jsx(c,{ref:j,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Co(d),p=z.forwardRef((v,x)=>{const{scope:y,children:b,...w}=v,j=z.useRef(null),S=Te(x,j),N=i(d,y);return z.useEffect(()=>(N.itemMap.set(j,{ref:j,...w}),()=>void N.itemMap.delete(j))),s.jsx(h,{[f]:"",ref:S,children:b})});p.displayName=d;function g(v){const x=i(e+"CollectionConsumer",v);return z.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((N,_)=>w.indexOf(N.ref.current)-w.indexOf(_.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},g,n]}var Bt=globalThis?.document?m.useLayoutEffect:()=>{},D9=Sp[" useId ".trim().toString()]||(()=>{}),L9=0;function da(e){const[t,r]=m.useState(D9());return Bt(()=>{r(n=>n??String(L9++))},[e]),t?`radix-${t}`:""}var $9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xe=$9.reduce((e,t)=>{const r=Co(`Primitive.${t}`),n=m.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function F9(e,t){e&&Oi.flushSync(()=>e.dispatchEvent(t))}function kr(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>t.current?.(...r),[])}var B9=Sp[" useInsertionEffect ".trim().toString()]||Bt;function yi({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=U9({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=m.useCallback(d=>{if(l){const f=V9(d)?d(e):d;f!==e&&o.current?.(f)}else i(d)},[l,e,i,o]);return[c,u]}function U9({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),a=m.useRef(r),i=m.useRef(t);return B9(()=>{i.current=t},[t]),m.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function V9(e){return typeof e=="function"}var z9=m.createContext(void 0);function Kp(e){const t=m.useContext(z9);return e||t||"ltr"}var ix="rovingFocusGroup.onEntryFocus",W9={bubbles:!1,cancelable:!0},Dd="RovingFocusGroup",[oy,r4,q9]=t4(Dd),[K9,n4]=Yn(Dd,[q9]),[H9,Y9]=K9(Dd),s4=m.forwardRef((e,t)=>s.jsx(oy.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(oy.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(G9,{...e,ref:t})})}));s4.displayName=Dd;var G9=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),p=Te(t,h),g=Kp(i),[v,x]=yi({prop:o,defaultProp:l??null,onChange:c,caller:Dd}),[y,b]=m.useState(!1),w=kr(u),j=r4(r),S=m.useRef(!1),[N,_]=m.useState(0);return m.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(ix,w),()=>E.removeEventListener(ix,w)},[w]),s.jsx(H9,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:v,onItemFocus:m.useCallback(E=>x(E),[x]),onItemShiftTab:m.useCallback(()=>b(!0),[]),onFocusableItemAdd:m.useCallback(()=>_(E=>E+1),[]),onFocusableItemRemove:m.useCallback(()=>_(E=>E-1),[]),children:s.jsx(xe.div,{tabIndex:y||N===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ye(e.onMouseDown,()=>{S.current=!0}),onFocus:ye(e.onFocus,E=>{const k=!S.current;if(E.target===E.currentTarget&&k&&!y){const A=new CustomEvent(ix,W9);if(E.currentTarget.dispatchEvent(A),!A.defaultPrevented){const R=j().filter(H=>H.focusable),D=R.find(H=>H.active),F=R.find(H=>H.id===v),K=[D,F,...R].filter(Boolean).map(H=>H.ref.current);o4(K,d)}}S.current=!1}),onBlur:ye(e.onBlur,()=>b(!1))})})}),a4="RovingFocusGroupItem",i4=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=da(),u=i||c,d=Y9(a4,r),f=d.currentTabStopId===u,h=r4(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:v}=d;return m.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),s.jsx(oy.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(xe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ye(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:ye(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ye(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=Q9(x,d.orientation,d.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=h().filter(j=>j.focusable).map(j=>j.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const j=w.indexOf(x.currentTarget);w=d.loop?Z9(w,j+1):w.slice(j+1)}setTimeout(()=>o4(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});i4.displayName=a4;var J9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function X9(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Q9(e,t,r){const n=X9(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return J9[n]}function o4(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Z9(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var eq=s4,tq=i4;function rq(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Gn=e=>{const{present:t,children:r}=e,n=nq(t),a=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=Te(n.ref,sq(a));return typeof r=="function"||n.isPresent?m.cloneElement(a,{ref:i}):null};Gn.displayName="Presence";function nq(e){const[t,r]=m.useState(),n=m.useRef(null),a=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=rq(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Ff(n.current);i.current=l==="mounted"?u:"none"},[l]),Bt(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=Ff(u);e?c("MOUNT"):p==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Bt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const v=Ff(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&v&&(c("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(i.current=Ff(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Ff(e){return e?.animationName||"none"}function sq(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Hp="Tabs",[aq]=Yn(Hp,[n4]),l4=n4(),[iq,Bw]=aq(Hp),c4=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Kp(l),[f,h]=yi({prop:n,onChange:a,defaultProp:i??"",caller:Hp});return s.jsx(iq,{scope:r,baseId:da(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(xe.div,{dir:d,"data-orientation":o,...u,ref:t})})});c4.displayName=Hp;var u4="TabsList",d4=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=Bw(u4,r),o=l4(r);return s.jsx(eq,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(xe.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});d4.displayName=u4;var f4="TabsTrigger",h4=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=Bw(f4,r),l=l4(r),c=g4(o.baseId,n),u=v4(o.baseId,n),d=n===o.value;return s.jsx(tq,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(xe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:ye(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ye(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ye(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});h4.displayName=f4;var m4="TabsContent",p4=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=Bw(m4,r),c=g4(l.baseId,n),u=v4(l.baseId,n),d=n===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(Gn,{present:a||d,children:({present:h})=>s.jsx(xe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});p4.displayName=m4;function g4(e,t){return`${e}-trigger-${t}`}function v4(e,t){return`${e}-content-${t}`}var oq=c4,x4=d4,y4=h4,b4=p4;const wn=oq,Yr=m.forwardRef(({className:e,...t},r)=>s.jsx(x4,{ref:r,className:ue("inline-flex h-10 items-center justify-center rounded-md bg-muted/50 p-1 text-muted-foreground",e),...t}));Yr.displayName=x4.displayName;const fe=m.forwardRef(({className:e,...t},r)=>s.jsx(y4,{ref:r,className:ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm hover:text-foreground",e),...t}));fe.displayName=y4.displayName;const ge=m.forwardRef(({className:e,...t},r)=>s.jsx(b4,{ref:r,className:ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 animate-in fade-in-0 data-[state=inactive]:animate-out data-[state=inactive]:fade-out-0 duration-200",e),...t}));ge.displayName=b4.displayName;const z_={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"",VITE_APP_ENV:"production",VITE_GOOGLE_MAPS_API_KEY:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4",VITE_RESEND_API_KEY:"re_your_resend_api_key_here",VITE_SITE_URL:"",VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_your_publishable_key_here",VITE_SUPABASE_ANON_KEY:"sb_publishable_EPF-r4VsfAE13EBn6SNwTQ_QS-5h6ex",VITE_SUPABASE_FUNCTIONS_URL:"https://mwvcbedvnimabfwubazz.functions.supabase.co",VITE_SUPABASE_PUBLISHABLE_KEY:"sb_publishable_test_placeholder",VITE_SUPABASE_URL:"https://mwvcbedvnimabfwubazz.supabase.co"},lq={development:{required:["VITE_SUPABASE_URL","VITE_SUPABASE_PUBLISHABLE_KEY"],optional:["VITE_STRIPE_PUBLISHABLE_KEY","VITE_GOOGLE_MAPS_API_KEY","VITE_RESEND_API_KEY"],validationRules:{VITE_SUPABASE_URL:e=>e.startsWith("https://")&&e.includes("supabase"),VITE_SUPABASE_PUBLISHABLE_KEY:e=>e.length>100,VITE_STRIPE_PUBLISHABLE_KEY:e=>e.startsWith("pk_test_")||e==="",VITE_GOOGLE_MAPS_API_KEY:e=>e.length>20||e===""},errorMessages:{VITE_SUPABASE_URL:"Must be a valid Supabase URL starting with https://",VITE_SUPABASE_PUBLISHABLE_KEY:"Must be a valid Supabase anonymous key (100+ chars)",VITE_STRIPE_PUBLISHABLE_KEY:"Must be a test key starting with pk_test_ in development",VITE_GOOGLE_MAPS_API_KEY:"Must be a valid Google Maps API key"},placeholderPatterns:["your_","YOUR_","placeholder","PLACEHOLDER","replace_me","REPLACE_ME","sk_test_123","pk_test_123","example.com","localhost:3000"]},staging:{required:["VITE_SUPABASE_URL","VITE_SUPABASE_PUBLISHABLE_KEY","VITE_STRIPE_PUBLISHABLE_KEY"],optional:["VITE_GOOGLE_MAPS_API_KEY","VITE_RESEND_API_KEY"],validationRules:{VITE_SUPABASE_URL:e=>e.startsWith("https://")&&e.includes("supabase"),VITE_SUPABASE_PUBLISHABLE_KEY:e=>e.length>100,VITE_STRIPE_PUBLISHABLE_KEY:e=>e.startsWith("pk_test_"),VITE_GOOGLE_MAPS_API_KEY:e=>e.length>20},errorMessages:{VITE_SUPABASE_URL:"Must be a valid Supabase URL for staging environment",VITE_SUPABASE_PUBLISHABLE_KEY:"Must be a valid Supabase anonymous key for staging",VITE_STRIPE_PUBLISHABLE_KEY:"Must be a Stripe test key for staging (pk_test_)",VITE_GOOGLE_MAPS_API_KEY:"Google Maps API key required for staging"},placeholderPatterns:["your_","YOUR_","placeholder","PLACEHOLDER","replace_me","REPLACE_ME","sk_test_123","pk_test_123","example.com"]},production:{required:["VITE_SUPABASE_URL","VITE_SUPABASE_PUBLISHABLE_KEY","VITE_STRIPE_PUBLISHABLE_KEY","VITE_GOOGLE_MAPS_API_KEY"],optional:["VITE_RESEND_API_KEY"],validationRules:{VITE_SUPABASE_URL:e=>e.startsWith("https://")&&e.includes("supabase"),VITE_SUPABASE_PUBLISHABLE_KEY:e=>e.length>100,VITE_STRIPE_PUBLISHABLE_KEY:e=>e.startsWith("pk_live_"),VITE_GOOGLE_MAPS_API_KEY:e=>e.length>20},errorMessages:{VITE_SUPABASE_URL:"Must be a valid production Supabase URL",VITE_SUPABASE_PUBLISHABLE_KEY:"Must be a valid production Supabase anonymous key",VITE_STRIPE_PUBLISHABLE_KEY:"Must be a live Stripe key for production (pk_live_)",VITE_GOOGLE_MAPS_API_KEY:"Google Maps API key is required in production"},placeholderPatterns:["your_","YOUR_","placeholder","PLACEHOLDER","replace_me","REPLACE_ME","sk_test_","pk_test_","example.com","localhost","staging"]}};class cq{environment;config;constructor(){this.environment=this.detectEnvironment(),this.config=lq[this.environment]}detectEnvironment(){return"production"}getCurrentEnvironment(){return this.environment}validateEnvironment(){const t={isValid:!0,environment:this.environment,errors:[],warnings:[],missingRequired:[],invalidValues:{},placeholderValues:{}};for(const r of this.config.required){const n=z_[r];if(!n){t.missingRequired.push(r),t.errors.push(`Missing required variable: ${r}`),t.isValid=!1;continue}if(this.isPlaceholderValue(n)){t.placeholderValues[r]=n,t.errors.push(`${r} contains placeholder value: ${n}`),t.isValid=!1;continue}const a=this.config.validationRules[r];a&&!a(n)&&(t.invalidValues[r]=this.config.errorMessages[r]||"Invalid value",t.errors.push(`${r}: ${this.config.errorMessages[r]}`),t.isValid=!1)}for(const r of this.config.optional){const n=z_[r];if(n)if(this.isPlaceholderValue(n))t.placeholderValues[r]=n,t.warnings.push(`${r} contains placeholder value: ${n}`);else{const a=this.config.validationRules[r];a&&!a(n)&&(t.invalidValues[r]=this.config.errorMessages[r]||"Invalid value",t.warnings.push(`${r}: ${this.config.errorMessages[r]}`))}}return t}isPlaceholderValue(t){return this.config.placeholderPatterns.some(r=>t.toLowerCase().includes(r.toLowerCase()))}getEnvironmentRequirements(){return{...this.config}}getValidationSummary(){const t=this.validateEnvironment(),r=[`Environment: ${t.environment.toUpperCase()}`,`Status: ${t.isValid?"✅ Valid":"❌ Invalid"}`,""];return t.errors.length>0&&(r.push("ERRORS:"),t.errors.forEach(n=>r.push(`  ❌ ${n}`)),r.push("")),t.warnings.length>0&&(r.push("WARNINGS:"),t.warnings.forEach(n=>r.push(`  ⚠️  ${n}`)),r.push("")),t.isValid&&r.push("All environment variables are properly configured! 🎉"),r.join(`
`)}}const zl=new cq,W_={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"",VITE_APP_ENV:"production",VITE_GOOGLE_MAPS_API_KEY:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4",VITE_RESEND_API_KEY:"re_your_resend_api_key_here",VITE_SITE_URL:"",VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_your_publishable_key_here",VITE_SUPABASE_ANON_KEY:"sb_publishable_EPF-r4VsfAE13EBn6SNwTQ_QS-5h6ex",VITE_SUPABASE_FUNCTIONS_URL:"https://mwvcbedvnimabfwubazz.functions.supabase.co",VITE_SUPABASE_PUBLISHABLE_KEY:"sb_publishable_test_placeholder",VITE_SUPABASE_URL:"https://mwvcbedvnimabfwubazz.supabase.co"},uq=()=>{const[e,t]=m.useState(null),[r,n]=m.useState(!0),a=()=>{n(!0),setTimeout(()=>{const l=zl.validateEnvironment();t(l),n(!1)},500)};m.useEffect(()=>{a()},[]);const i=l=>{switch(l){case"production":return"destructive";case"staging":return"secondary";case"development":return"default"}},o=l=>r?s.jsx(sr,{className:"h-4 w-4 animate-spin"}):l?s.jsx(Ne,{className:"h-4 w-4 text-green-500"}):s.jsx(dt,{className:"h-4 w-4 text-red-500"});return r?s.jsx(C,{className:"w-full max-w-4xl mx-auto",children:s.jsxs(M,{children:[s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-5 w-5"}),"Environment Validation",s.jsx(sr,{className:"h-4 w-4 animate-spin"})]}),s.jsx(Le,{children:"Validating environment configuration..."})]})}):e?s.jsx("div",{className:"w-full max-w-6xl mx-auto space-y-6",children:s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsxs(L,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-5 w-5"}),"Environment Configuration Status",o(e.isValid)]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Y,{variant:i(e.environment),children:e.environment.toUpperCase()}),s.jsxs(I,{onClick:a,variant:"outline",size:"sm",children:[s.jsx(sr,{className:"h-4 w-4 mr-2"}),"Revalidate"]})]})]}),s.jsxs(Le,{children:["Multi-environment validation for ",e.environment," environment"]})]}),s.jsxs(T,{children:[!e.isValid&&s.jsxs(Be,{className:"mb-4",children:[s.jsx(dt,{className:"h-4 w-4"}),s.jsx(Ue,{children:"Environment validation failed. Please fix the issues below before proceeding."})]}),e.isValid&&s.jsxs(Be,{className:"mb-4 border-green-200 bg-green-50",children:[s.jsx(Ne,{className:"h-4 w-4 text-green-600"}),s.jsxs(Ue,{className:"text-green-800",children:["All environment variables are properly configured for ",e.environment,"!"]})]}),s.jsxs(wn,{defaultValue:"overview",className:"w-full",children:[s.jsxs(Yr,{className:"grid w-full grid-cols-4",children:[s.jsx(fe,{value:"overview",children:"Overview"}),s.jsxs(fe,{value:"errors",children:["Errors (",e.errors.length,")"]}),s.jsxs(fe,{value:"warnings",children:["Warnings (",e.warnings.length,")"]}),s.jsx(fe,{value:"requirements",children:"Requirements"})]}),s.jsx(ge,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(C,{children:[s.jsx(M,{className:"pb-2",children:s.jsx(L,{className:"text-sm font-medium",children:"Environment"})}),s.jsx(T,{children:s.jsx(Y,{variant:i(e.environment),className:"text-lg",children:e.environment.toUpperCase()})})]}),s.jsxs(C,{children:[s.jsx(M,{className:"pb-2",children:s.jsx(L,{className:"text-sm font-medium",children:"Status"})}),s.jsx(T,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[o(e.isValid),s.jsx("span",{className:e.isValid?"text-green-600":"text-red-600",children:e.isValid?"Valid":"Invalid"})]})})]}),s.jsxs(C,{children:[s.jsx(M,{className:"pb-2",children:s.jsx(L,{className:"text-sm font-medium",children:"Issues"})}),s.jsxs(T,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.errors.length+e.warnings.length}),s.jsxs("div",{className:"text-sm text-gray-500",children:[e.errors.length," errors, ",e.warnings.length," warnings"]})]})]})]})}),s.jsxs(ge,{value:"errors",className:"space-y-4",children:[e.errors.length===0?s.jsxs(Be,{className:"border-green-200 bg-green-50",children:[s.jsx(Ne,{className:"h-4 w-4 text-green-600"}),s.jsx(Ue,{className:"text-green-800",children:"No errors found! All required environment variables are properly configured."})]}):s.jsx("div",{className:"space-y-2",children:e.errors.map((l,c)=>s.jsxs(Be,{variant:"destructive",children:[s.jsx(dt,{className:"h-4 w-4"}),s.jsx(Ue,{children:l})]},c))}),e.missingRequired.length>0&&s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{className:"text-red-600",children:"Missing Required Variables"})}),s.jsx(T,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:e.missingRequired.map(l=>s.jsx(Y,{variant:"destructive",children:l},l))})})]}),Object.keys(e.placeholderValues).length>0&&s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{className:"text-orange-600",children:"Placeholder Values Detected"})}),s.jsx(T,{children:s.jsx("div",{className:"space-y-2",children:Object.entries(e.placeholderValues).map(([l,c])=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-orange-50 rounded",children:[s.jsx(Y,{variant:"secondary",children:l}),s.jsx("code",{className:"text-sm text-orange-700",children:c})]},l))})})]})]}),s.jsx(ge,{value:"warnings",className:"space-y-4",children:e.warnings.length===0?s.jsxs(Be,{className:"border-green-200 bg-green-50",children:[s.jsx(Ne,{className:"h-4 w-4 text-green-600"}),s.jsx(Ue,{className:"text-green-800",children:"No warnings! Optional environment variables are properly configured."})]}):s.jsx("div",{className:"space-y-2",children:e.warnings.map((l,c)=>s.jsxs(Be,{className:"border-yellow-200 bg-yellow-50",children:[s.jsx(it,{className:"h-4 w-4 text-yellow-600"}),s.jsx(Ue,{className:"text-yellow-800",children:l})]},c))})}),s.jsx(ge,{value:"requirements",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsx(L,{className:"text-red-600",children:"Required Variables"}),s.jsxs(Le,{children:["These variables must be set for ",e.environment," environment"]})]}),s.jsx(T,{children:s.jsx("div",{className:"space-y-2",children:zl.getEnvironmentRequirements().required.map(l=>{const c=W_[l];return s.jsxs("div",{className:"flex items-center justify-between p-2 rounded border",children:[s.jsx("code",{className:"text-sm",children:l}),c?s.jsx(Ne,{className:"h-4 w-4 text-green-500"}):s.jsx(dt,{className:"h-4 w-4 text-red-500"})]},l)})})})]}),s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsx(L,{className:"text-blue-600",children:"Optional Variables"}),s.jsxs(Le,{children:["These variables are optional but recommended for ",e.environment]})]}),s.jsx(T,{children:s.jsx("div",{className:"space-y-2",children:zl.getEnvironmentRequirements().optional.map(l=>{const c=W_[l];return s.jsxs("div",{className:"flex items-center justify-between p-2 rounded border",children:[s.jsx("code",{className:"text-sm",children:l}),c?s.jsx(Ne,{className:"h-4 w-4 text-green-500"}):s.jsx(it,{className:"h-4 w-4 text-yellow-500"})]},l)})})})]})]})})]})]})]})}):null};function dq(){const[e,t]=m.useState([{name:"Supabase URL",key:"VITE_SUPABASE_URL",configured:!"https://mwvcbedvnimabfwubazz.supabase.co".includes("your-project")},{name:"Supabase Anon Key",key:"VITE_SUPABASE_PUBLISHABLE_KEY",configured:!"sb_publishable_test_placeholder".includes("your-anon-key")},{name:"Stripe Publishable Key",key:"VITE_STRIPE_PUBLISHABLE_KEY",configured:!"pk_test_your_publishable_key_here".includes("pk_test_placeholder")}]),r=e.every(a=>a.configured),n=async()=>{const a=[...e],i=a.find(l=>l.key==="VITE_SUPABASE_URL");if(i){i.testing=!0,t([...a]);try{const{error:l}=await P.from("profiles").select("count").limit(1);i.valid=!l,i.error=l?.message}catch(l){i.valid=!1,i.error=l.message}i.testing=!1}const o=a.find(l=>l.key==="VITE_STRIPE_PUBLISHABLE_KEY");if(o){o.testing=!0,t([...a]);const l="pk_test_your_publishable_key_here";o.valid=l?.startsWith("pk_"),o.error=o.valid?void 0:"Invalid Stripe key format",o.testing=!1}t([...a])};return r?null:s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs(C,{className:"max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs(M,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(it,{className:"h-6 w-6 text-yellow-500"}),s.jsx(L,{children:"Environment Configuration Required"})]}),s.jsx(Le,{children:"Your application is using fallback values. Configure environment variables in Vercel."})]}),s.jsxs(T,{className:"space-y-6",children:[s.jsx("div",{className:"grid gap-3",children:e.map(a=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:a.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:a.key}),a.error&&s.jsx("div",{className:"text-sm text-red-500 mt-1",children:a.error})]}),a.testing?s.jsx(Bn,{className:"h-5 w-5 animate-spin text-blue-500"}):a.valid===!0?s.jsx(Ne,{className:"h-5 w-5 text-green-500"}):a.valid===!1?s.jsx(dt,{className:"h-5 w-5 text-red-500"}):a.configured?null:s.jsx(dt,{className:"h-5 w-5 text-yellow-500"})]},a.key))}),s.jsx(I,{onClick:n,className:"w-full",children:"Test Connections"}),s.jsxs(Be,{children:[s.jsx(ZT,{children:"Configuration Steps"}),s.jsxs(Ue,{className:"mt-2 space-y-2 text-sm",children:[s.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[s.jsx("li",{children:"Go to your Vercel project dashboard"}),s.jsx("li",{children:"Navigate to Settings → Environment Variables"}),s.jsxs("li",{children:["Add these variables:",s.jsxs("ul",{className:"list-disc list-inside ml-4 mt-1 space-y-1",children:[s.jsx("li",{children:s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"VITE_SUPABASE_URL"})}),s.jsx("li",{children:s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"VITE_SUPABASE_PUBLISHABLE_KEY"})}),s.jsx("li",{children:s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"VITE_STRIPE_PUBLISHABLE_KEY"})})]})]}),s.jsx("li",{children:"Redeploy your application"})]}),s.jsxs("a",{href:"https://vercel.com/docs/projects/environment-variables",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-500 hover:underline mt-2",children:["View Vercel Documentation ",s.jsx(Td,{className:"h-3 w-3"})]})]})]})]})]})})}const fq=()=>{const[e,t]=m.useState(null),[r,n]=m.useState(!0),a=m.useCallback(()=>{n(!0),setTimeout(()=>{try{const h=zl.validateEnvironment();t(h)}catch(h){console.error("Environment validation failed:",h),t({isValid:!1,environment:zl.getCurrentEnvironment(),errors:["Environment validation failed"],warnings:[],missingRequired:[],invalidValues:{},placeholderValues:{}})}finally{n(!1)}},100)},[]),i=m.useCallback(()=>{a()},[a]);m.useEffect(()=>{a()},[a]);const o=zl.getCurrentEnvironment(),l=e?.isValid??!1,c=(e?.errors?.length??0)>0,u=(e?.warnings?.length??0)>0,d=e?.errors?.length??0,f=e?.warnings?.length??0;return{validationResult:e,isLoading:r,environment:o,revalidate:i,isValid:l,hasErrors:c,hasWarnings:u,errorCount:d,warningCount:f}},Un=()=>{const{environment:e,isValid:t,errorCount:r,warningCount:n}=fq(),a=i=>{switch(i){case"production":return"text-red-600 bg-red-100";case"staging":return"text-yellow-600 bg-yellow-100";case"development":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(dq,{}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[s.jsx("div",{className:"p-3 bg-blue-600 rounded-xl",children:s.jsx(xi,{className:"h-8 w-8 text-white"})}),s.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Multi-Environment Config Manager"})]}),s.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto leading-relaxed",children:"Advanced configuration management system that handles different sets of environment variables for development, staging, and production environments with validation rules specific to each environment type."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[s.jsx(C,{className:"border-0 shadow-lg bg-white/70 backdrop-blur-sm",children:s.jsxs(T,{className:"p-6 text-center",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 ${e==="production"?"bg-red-100":e==="staging"?"bg-yellow-100":"bg-green-100"}`,children:s.jsx(Ot,{className:`h-8 w-8 ${e==="production"?"text-red-600":e==="staging"?"text-yellow-600":"text-green-600"}`})}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:e.toUpperCase()}),s.jsx("div",{className:"text-sm text-gray-600",children:"Current Environment"})]})}),s.jsx(C,{className:"border-0 shadow-lg bg-white/70 backdrop-blur-sm",children:s.jsxs(T,{className:"p-6 text-center",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 ${t?"bg-green-100":"bg-red-100"}`,children:t?s.jsx(Ne,{className:"h-8 w-8 text-green-600"}):s.jsx(dt,{className:"h-8 w-8 text-red-600"})}),s.jsx("div",{className:`text-2xl font-bold mb-1 ${t?"text-green-600":"text-red-600"}`,children:t?"VALID":"INVALID"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Validation Status"})]})}),s.jsx(C,{className:"border-0 shadow-lg bg-white/70 backdrop-blur-sm",children:s.jsxs(T,{className:"p-6 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 mb-4",children:s.jsx(dt,{className:"h-8 w-8 text-red-600"})}),s.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:r}),s.jsx("div",{className:"text-sm text-gray-600",children:"Critical Errors"})]})}),s.jsx(C,{className:"border-0 shadow-lg bg-white/70 backdrop-blur-sm",children:s.jsxs(T,{className:"p-6 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-yellow-100 mb-4",children:s.jsx(it,{className:"h-8 w-8 text-yellow-600"})}),s.jsx("div",{className:"text-2xl font-bold text-yellow-600 mb-1",children:n}),s.jsx("div",{className:"text-sm text-gray-600",children:"Warnings"})]})})]}),s.jsxs(C,{className:"border-0 shadow-lg bg-white/70 backdrop-blur-sm mb-8",children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${a(e)}`,children:s.jsx(Ot,{className:"h-5 w-5"})}),e.charAt(0).toUpperCase()+e.slice(1)," Environment Configuration"]})}),s.jsx(T,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Environment Type"}),s.jsx(Y,{className:`${a(e)} border-0 text-lg px-4 py-2`,children:e.toUpperCase()})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Security Level"}),s.jsx(Y,{variant:e==="production"?"destructive":"secondary",className:"text-lg px-4 py-2",children:e==="production"?"MAXIMUM":e==="staging"?"HIGH":"STANDARD"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Key Requirements"}),s.jsx(Y,{variant:"outline",className:"text-lg px-4 py-2",children:e==="production"?"LIVE KEYS":"TEST KEYS"})]})]})})]}),s.jsx(uq,{}),s.jsx("div",{className:"mt-12 text-center",children:s.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-white/70 backdrop-blur-sm rounded-full border shadow-lg",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Multi-Environment Configuration System Active"})]})})]})]})},hq=()=>s.jsx(Un,{children:s.jsx("div",{className:"min-h-screen bg-black text-white py-12 pb-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("h1",{className:"text-3xl md:text-5xl font-bold mb-6",children:["🔍 ",s.jsx("span",{className:"text-white",children:"Find a"})," ",s.jsx("span",{className:"text-green-400 glow-text",children:"Landscaping Professional"})," ",s.jsx("br",{}),s.jsx("span",{className:"text-white",children:"You Can Trust"})]}),s.jsx("h2",{className:"text-lg md:text-xl text-white mb-6",children:"Connecting You With Charlotte's Most Trusted Landscape Experts"}),s.jsx("p",{className:"text-gray-300 text-base max-w-3xl mx-auto leading-relaxed",children:"GreenScape Lux partners with certified, vetted landscapers who take pride in delivering premium outdoor results. Whether you need a one time service or a full landscape renovation, our platform connects you with professionals ready to exceed your expectations."})]}),s.jsxs("div",{className:"mb-16",children:[s.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-12",children:["💼 ",s.jsx("span",{className:"text-green-400 glow-text",children:"How It Works"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs(C,{className:"bg-gray-900/50 border-green-500/30 p-8 text-center hover:border-green-400/50 transition-all duration-300 hover:shadow-[0_0_15px_rgba(74,222,128,0.2)] h-full flex flex-col",children:[s.jsx("div",{className:"text-green-400 text-4xl mb-4",children:"1️⃣"}),s.jsx("h3",{className:"text-white font-bold text-xl mb-4",children:"Request a Quote"}),s.jsx("p",{className:"text-gray-300 text-sm flex-1",children:"Fill out our Instant Quote form with a few simple details about your yard, needs, and timeline."})]}),s.jsxs(C,{className:"bg-gray-900/50 border-green-500/30 p-8 text-center hover:border-green-400/50 transition-all duration-300 hover:shadow-[0_0_15px_rgba(74,222,128,0.2)] h-full flex flex-col",children:[s.jsx("div",{className:"text-green-400 text-4xl mb-4",children:"2️⃣"}),s.jsx("h3",{className:"text-white font-bold text-xl mb-4",children:"Get Matched"}),s.jsx("p",{className:"text-gray-300 text-sm flex-1",children:"We assign your request to a top-rated landscaper in our network based on location, availability, and service type."})]}),s.jsxs(C,{className:"bg-gray-900/50 border-green-500/30 p-8 text-center hover:border-green-400/50 transition-all duration-300 hover:shadow-[0_0_15px_rgba(74,222,128,0.2)] h-full flex flex-col",children:[s.jsx("div",{className:"text-green-400 text-4xl mb-4",children:"3️⃣"}),s.jsx("h3",{className:"text-white font-bold text-xl mb-4",children:"Review and Approve"}),s.jsx("p",{className:"text-gray-300 text-sm flex-1",children:"You receive a detailed quote, schedule a consultation, and approve the job when ready."})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-6",children:[s.jsxs(C,{className:"bg-gray-900/50 border-green-500/30 p-8 hover:border-green-400/50 transition-all duration-300 h-full",children:[s.jsxs("h3",{className:"text-xl font-bold mb-6",children:["🛠️ ",s.jsx("span",{className:"text-green-400 glow-text",children:"Services Offered"})]}),s.jsxs("ul",{className:"space-y-3 text-gray-300",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Lawn Care and Maintenance"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Mulch and Rock Installation"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Edging and Borders"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Seasonal Cleanups"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Hardscaping and Custom Features"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Tree and Shrub Care"})]})]})]}),s.jsxs(C,{className:"bg-gray-900/50 border-green-500/30 p-8 hover:border-green-400/50 transition-all duration-300 h-full",children:[s.jsxs("h3",{className:"text-xl font-bold mb-6",children:["🌟 ",s.jsx("span",{className:"text-green-400 glow-text",children:"Why Choose Our Professionals?"})]}),s.jsxs("ul",{className:"space-y-3 text-gray-300",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Verified skills and local reputation"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Licensed and insured"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Fast response times"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"High-end results with no stress"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Competitive pricing"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Quality guarantee on all work"})]})]})]})]})]})})}),mq=()=>s.jsx(Md,{children:s.jsx("div",{className:"py-12 px-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl font-bold text-green-400 mb-4",children:"Terms of Service"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Effective Date: January 2025"})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"1."}),"Introduction"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Welcome to GreenScape Lux. By accessing our website or using our services, you agree to be bound by these Terms of Service."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"2."}),"Services Provided"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"GreenScape Lux offers landscaping services, including but not limited to design, maintenance, and consultation."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"3."}),"User Accounts"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed space-y-3",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-white",children:"Registration:"})," Users may need to create an account to access certain features."]}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-white",children:"Responsibility:"})," Users are responsible for maintaining the confidentiality of their account information."]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"4."}),"Payments and Refunds"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed space-y-3",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-white",children:"Pricing:"})," All prices are listed on our website and are subject to change."]}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-white",children:"Refunds:"})," Refund policies are outlined in our Refund Policy."]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"5."}),"User Conduct"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[s.jsx("p",{className:"mb-3",children:"Users agree not to:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"Violate any laws or regulations."}),s.jsx("li",{children:"Infringe upon the rights of others."}),s.jsx("li",{children:"Post harmful or offensive content."})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"6."}),"Intellectual Property"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"All content on this site is the property of GreenScape Lux and is protected by intellectual property laws."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"7."}),"Disclaimers and Limitation of Liability"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:'Services are provided "as is" without warranties of any kind. GreenScape Lux is not liable for any damages arising from the use of our services.'})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"8."}),"Termination"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"We reserve the right to terminate or suspend access to our services at our discretion, without prior notice."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"9."}),"Changes to Terms"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"We may modify these Terms of Service at any time. Continued use of our services constitutes acceptance of the new terms."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"10."}),"Contact Information"]}),s.jsxs("p",{className:"text-gray-300 leading-relaxed",children:["For any questions regarding these Terms, please contact us at"," ",s.jsx("a",{href:"mailto:contact@greenscapelux.com",className:"text-green-400 hover:text-green-300 underline",children:"contact@greenscapelux.com"})]})]})]})]})})}),pq=()=>s.jsx(Md,{children:s.jsx("div",{className:"py-12 px-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl font-bold text-green-400 mb-4",children:"Privacy Policy"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Effective Date: January 1, 2024"})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"1."}),"Information We Collect"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-white mb-2",children:"Personal Information:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[s.jsx("li",{children:"Full name"}),s.jsx("li",{children:"Email address"}),s.jsx("li",{children:"Phone number"}),s.jsx("li",{children:"Property address"}),s.jsx("li",{children:"Any details submitted through forms or service requests"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-white mb-2",children:"Technical Information:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[s.jsx("li",{children:"Browser type and version"}),s.jsx("li",{children:"Device and operating system"}),s.jsx("li",{children:"IP address"}),s.jsx("li",{children:"Pages visited and time spent on site"})]})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"2."}),"How We Use Your Information"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[s.jsx("p",{className:"mb-3",children:"We use your information to:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"Respond to service inquiries and process quotes"}),s.jsx("li",{children:"Schedule and confirm landscaping appointments"}),s.jsx("li",{children:"Communicate updates or promotions"}),s.jsx("li",{children:"Improve our website performance and content"}),s.jsx("li",{children:"Comply with legal obligations"})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"3."}),"Sharing Your Information"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[s.jsx("p",{className:"mb-3",children:"We do not sell your information. We may share it with:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"Verified GreenScape Lux landscapers or subcontractors"}),s.jsx("li",{children:"Website and communication service providers"}),s.jsx("li",{children:"Legal authorities if required by law"})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"4."}),"Cookies and Tracking"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"We use cookies to improve user experience and track site usage. You can disable cookies in your browser settings."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"5."}),"How We Protect Your Information"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4 text-gray-300",children:[s.jsx("li",{children:"Data is encrypted in transit"}),s.jsx("li",{children:"Access is restricted to authorized team members"}),s.jsx("li",{children:"Secure platforms are used for storage"})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"6."}),"Your Rights"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[s.jsx("p",{className:"mb-3",children:"You may:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"Request access to your data"}),s.jsx("li",{children:"Update or delete your information"}),s.jsx("li",{children:"Unsubscribe from emails"}),s.jsxs("li",{children:["Contact us at"," ",s.jsx("a",{href:"mailto:privacy@greenscapelux.com",className:"text-green-400 hover:text-green-300 underline",children:"privacy@greenscapelux.com"})," ","for requests"]})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"7."}),"Policy Updates"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"We may update this policy. The new version will be posted with a revised effective date."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"8."}),"Contact Us"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed space-y-2",children:[s.jsxs("p",{children:["📧"," ",s.jsx("a",{href:"mailto:privacy@greenscapelux.com",className:"text-green-400 hover:text-green-300 underline",children:"privacy@greenscapelux.com"})]}),s.jsx("p",{children:"📍 GreenScape Lux – Charlotte, NC"})]})]})]})]})})});function gq({children:e}){return s.jsx("div",{className:"bg-black text-white min-h-screen",children:s.jsx("main",{className:"px-4 py-8 sm:px-6 lg:px-8",children:e})})}function Uw(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Vw(e){const[t,r]=m.useState(void 0);return Bt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Yp="Checkbox",[vq]=Yn(Yp),[xq,zw]=vq(Yp);function yq(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=yi({prop:r,defaultProp:a??!1,onChange:c,caller:Yp}),[g,v]=m.useState(null),[x,y]=m.useState(null),b=m.useRef(!1),w=g?!!o||!!g.closest("form"):!0,j={checked:h,disabled:i,setChecked:p,control:g,setControl:v,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:ui(a)?!1:a,isFormControl:w,bubbleInput:x,setBubbleInput:y};return s.jsx(xq,{scope:t,...j,children:bq(f)?f(j):n})}var w4="CheckboxTrigger",j4=m.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:g}=zw(w4,e),v=Te(a,d),x=m.useRef(c);return m.useEffect(()=>{const y=i?.form;if(y){const b=()=>f(x.current);return y.addEventListener("reset",b),()=>y.removeEventListener("reset",b)}},[i,f]),s.jsx(xe.button,{type:"button",role:"checkbox","aria-checked":ui(c)?"mixed":c,"aria-required":u,"data-state":k4(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:v,onKeyDown:ye(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:ye(r,y=>{f(b=>ui(b)?!0:!b),g&&p&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});j4.displayName=w4;var Ww=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(yq,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(j4,{...f,ref:t,__scopeCheckbox:r}),h&&s.jsx(E4,{__scopeCheckbox:r})]})})});Ww.displayName=Yp;var S4="CheckboxIndicator",N4=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=zw(S4,r);return s.jsx(Gn,{present:n||ui(i.checked)||i.checked===!0,children:s.jsx(xe.span,{"data-state":k4(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});N4.displayName=S4;var _4="CheckboxBubbleInput",E4=m.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=zw(_4,e),g=Te(r,p),v=Uw(i),x=Vw(n);m.useEffect(()=>{const b=h;if(!b)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,N=!a.current;if(v!==i&&S){const _=new Event("click",{bubbles:N});b.indeterminate=ui(i),S.call(b,ui(i)?!1:i),b.dispatchEvent(_)}},[h,v,i,a]);const y=m.useRef(ui(i)?!1:i);return s.jsx(xe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});E4.displayName=_4;function bq(e){return typeof e=="function"}function ui(e){return e==="indeterminate"}function k4(e){return ui(e)?"indeterminate":e?"checked":"unchecked"}const ld=m.forwardRef(({className:e,...t},r)=>s.jsx(Ww,{ref:r,className:ue("peer h-4 w-4 shrink-0 rounded-sm border border-primary/60 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground transition-colors duration-200",e),...t,children:s.jsx(N4,{className:ue("flex items-center justify-center text-current"),children:s.jsx(Ho,{className:"h-3.5 w-3.5 transition-transform duration-200"})})}));ld.displayName=Ww.displayName;var wq="Label",P4=m.forwardRef((e,t)=>s.jsx(xe.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));P4.displayName=wq;var C4=P4;const jq=Up("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",{variants:{variant:{default:"text-foreground",muted:"text-muted-foreground",accent:"text-primary"},size:{default:"text-sm",xs:"text-xs",sm:"text-sm",lg:"text-base"}},defaultVariants:{variant:"default",size:"default"}}),ie=m.forwardRef(({className:e,variant:t,size:r,...n},a)=>s.jsx(C4,{ref:a,className:ue(jq({variant:t,size:r}),e),...n}));ie.displayName=C4.displayName;const le=m.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ue("flex h-11 sm:h-12 w-full rounded-full border border-border/60 bg-background px-3 sm:px-4 py-2.5 sm:py-3 text-base sm:text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200 touch-manipulation",e),ref:n,...r}));le.displayName="Input";const Sq={"CORE LANDSCAPING SERVICES":["Lawn Mowing","Lawn Care and Maintenance","Hedge and Shrub Trimming","Edging and Borders","Mulch Installation","Rock Installation","Sod Installation","Seasonal Cleanups (Fall/Spring)","Hardscaping and Custom Features","Flower Bed Installation and Design","Weed Control"],"WINTER SERVICES":["Snow Removal","Salting / De-icing","Winter Yard Prep"],"ADD-ON / PARTNERED SERVICES":["Pressure Washing","Gutter Cleaning","Pest Control (via partners)","Leaf Removal","Yard Waste Disposal"],"PREMIUM SERVICES":["Full Landscape Renovation","Weekly or Biweekly Recurring Maintenance","Property Flip Cleanups (Real Estate Ready)","Airbnb / Rental Property Lawn Services","HOA or Multi-Property Contracts"]};function A4({selectedServices:e,otherService:t,onServiceChange:r,onOtherServiceChange:n}){return s.jsxs("div",{className:"space-y-6",children:[Object.entries(Sq).map(([a,i])=>s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-green-400 font-bold text-sm uppercase tracking-wide",children:a}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 pl-2",children:i.map(o=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ld,{id:o,checked:e.includes(o),onCheckedChange:l=>r(o,l),className:"border-green-500 data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),s.jsx(ie,{htmlFor:o,className:"text-sm text-gray-300 hover:text-green-400 cursor-pointer transition-colors",children:o})]},o))})]},a)),s.jsxs("div",{className:"space-y-3 pt-2 border-t border-gray-700",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ld,{id:"other",checked:t.length>0,onCheckedChange:a=>{a||n("")},className:"border-green-500 data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),s.jsx(ie,{htmlFor:"other",className:"text-sm text-gray-300 font-semibold",children:"Other"})]}),t.length>0&&s.jsx(le,{placeholder:"Please specify...",value:t,onChange:a=>n(a.target.value),className:"bg-gray-900 border-green-500 text-white text-sm ml-6"})]})]})}function qw({variant:e="primary",size:t="md",label:r,description:n,className:a,onClick:i,disabled:o,loading:l=!1,type:c="button",icon:u,...d}){const f=()=>{switch(e){case"primary":return"bg-emerald-600 hover:bg-emerald-700 text-white border-emerald-600 glow-emerald hover:glow-emerald-strong focus-visible:ring-2 focus-visible:ring-emerald-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black";case"secondary":return"bg-gray-700 hover:bg-gray-600 text-white border-gray-700 focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black";case"outline":return"border-emerald-500/25 text-emerald-300 hover:bg-emerald-500/20 bg-transparent focus-visible:ring-2 focus-visible:ring-emerald-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black";case"ghost":return"text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10 bg-transparent border-transparent focus-visible:ring-2 focus-visible:ring-emerald-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black";case"danger":return"bg-red-600 hover:bg-red-700 text-white border-red-600 focus-visible:ring-2 focus-visible:ring-red-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black";default:return"bg-emerald-600 hover:bg-emerald-700 text-white border-emerald-600 glow-emerald hover:glow-emerald-strong focus-visible:ring-2 focus-visible:ring-emerald-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black"}},h=()=>{switch(t){case"sm":return"px-3 py-1.5 text-sm h-8";case"lg":return"px-6 py-3 text-lg h-12";default:return"px-4 py-2 text-base h-10"}},p=o||l;return s.jsxs(I,{type:c,onClick:i,disabled:p,"aria-label":r,className:ue("font-medium rounded-lg transition-all duration-200 flex items-center gap-2 focus-visible:outline-none","whitespace-nowrap truncate leading-tight",f(),h(),p&&"opacity-50 cursor-not-allowed transform-none shadow-none",l&&"pointer-events-none",a),...d,children:[l?s.jsx(Bn,{className:"h-4 w-4 animate-spin"}):u&&u,s.jsx("span",{className:"whitespace-nowrap truncate leading-tight",children:r})]})}const ka=m.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 transition-colors resize-none",e),ref:r,...t}));ka.displayName="Textarea";async function O4(){try{const{data:{user:e}}=await P.auth.getUser();if(!e)return{hasClient:!1,hasPro:!1,role:null,loading:!1};const{data:t,error:r}=await P.from("users").select("id,email,role").eq("email",e.email).single();if(r)return console.error("❌ Database error fetching role in useRole:",r),console.error("Error code:",r.code),console.error("Error message:",r.message),{hasClient:!1,hasPro:!1,role:null,loading:!0};if(!t)return console.warn("⚠️ No user data found in users table for authenticated user"),{hasClient:!1,hasPro:!1,role:null,loading:!0};let n=t.role;return e.email==="admin.1@greenscapelux.com"&&(console.log("🔐 USE_ROLE ADMIN OVERRIDE: Forcing admin role for admin.1@greenscapelux.com"),n="admin"),{hasClient:n==="client",hasPro:n==="landscaper",role:n,loading:!1}}catch(e){return console.error("❌ Exception in getUserRoles:",e),{hasClient:!1,hasPro:!1,role:null,loading:!0}}}const q_={"/get-quote":"/","/get-a-quote":"/","/instant-quote":"/","/thank-you":"/get-quote","/login":"/","/signup":"/","/client-login":"/","/client-signup":"/","/landscaper-login":"/","/landscaper-signup":"/","/pro-login":"/","/pro-signup":"/","/get-started":"/","/forgot-password":"/client-login","/reset-password":"/client-login","/client/dashboard":"/","/client/profile":"/client/dashboard","/landscaper/dashboard":"/","/landscaper-dashboard":"/","/landscaper/profile":"/landscaper/dashboard","/landscaper-profile":"/landscaper-dashboard","/landscaper/jobs":"/landscaper/dashboard","/landscaper-jobs":"/landscaper-dashboard","/admin":"/","/admin/profile":"/admin","/admin/notifications":"/admin","/about":"/","/professionals":"/","/privacy":"/","/terms":"/","/search":"/"},T4=async(e,t)=>{const{role:r,loading:n}=await O4();if(n){const o=q_[t]||"/";e(o);return}const a=Nq(r||void 0);if(t.includes("/profile")||t.includes("/jobs")||t.includes("/earnings")||t.includes("/chat")||t.includes("/notifications")){e(a);return}if(t===a){e("/");return}const i=q_[t]||a;e(i)},Nq=e=>{switch(e){case"admin":return"/admin-dashboard";case"landscaper":return"/landscaper-dashboard";case"client":return"/client-dashboard";default:return"/"}},_q=({showBack:e=!0,showHome:t=!0,showClose:r=!1,customBackPath:n,onClose:a,className:i=""})=>{const o=Ae(),l=Vt(),c=async()=>{if(n){o(n);return}await T4(o,l.pathname)},u=()=>{o("/")},d=()=>{a?a():o("/")};return l.pathname==="/"?null:s.jsxs("div",{className:`flex items-center space-x-2 ${i}`,children:[e&&s.jsxs(I,{variant:"ghost",onClick:c,className:"text-white/80 hover:text-white hover:bg-white/10 transition-colors",children:[s.jsx(ps,{className:"w-4 h-4 mr-1"}),"Back"]}),t&&s.jsxs(I,{variant:"ghost",size:"sm",onClick:u,className:"text-white/80 hover:text-white hover:bg-white/10 transition-colors",children:[s.jsx(aa,{className:"w-4 h-4 mr-1"}),"Home"]}),r&&s.jsxs(I,{variant:"ghost",size:"sm",onClick:d,className:"text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:[s.jsx(bs,{className:"w-4 h-4 mr-1"}),"Close"]})]})},Eq=({items:e,className:t=""})=>{const r=Vt(),a=e||(()=>{const i=r.pathname.split("/").filter(Boolean),o=[{label:"Home",path:"/"}];let l="";return i.forEach((c,u)=>{l+=`/${c}`;const d=u===i.length-1,f=c.split("-").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" ");o.push({label:f,path:l,isActive:d})}),o})();return a.length<=1?null:s.jsx("nav",{className:`flex items-center space-x-1 text-sm ${t}`,"aria-label":"Breadcrumb",children:a.map((i,o)=>s.jsxs("div",{className:"flex items-center",children:[o>0&&s.jsx(WO,{className:"w-4 h-4 text-gray-400 mx-1"}),i.isActive?s.jsx("span",{className:"text-gray-900 font-medium",children:i.label}):s.jsx(Mn,{to:i.path,className:"text-gray-500 hover:text-gray-700 transition-colors",children:o===0?s.jsx(aa,{className:"w-4 h-4"}):i.label})]},i.path))})},Bf=(e,t)=>t.required&&!e.trim()?t.message||"This field is required":t.pattern&&e&&!t.pattern.test(e)?t.message||"Invalid format":null,kq={required:!0,message:"Please enter your full name"},Pq={required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email address"},Cq={pattern:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,message:"Please enter a valid phone number"},Aq={required:!0,message:"Please enter your property address"},Uf=({error:e})=>s.jsx("div",{className:"text-red-400 text-sm mt-1",children:e});function Oq(){const e=Ae(),[t,r]=m.useState({name:"",email:"",phone:"",propertyAddress:"",selectedServices:[],otherService:"",date:"",comments:""}),[n,a]=m.useState(!1),[i,o]=m.useState({}),[l,c]=m.useState({});m.useEffect(()=>{},[]);const u=()=>{const p={},g=Bf(t.name,kq);g&&(p.name=g);const v=Bf(t.email,Pq);if(v&&(p.email=v),t.phone){const y=Bf(t.phone,Cq);y&&(p.phone=y)}const x=Bf(t.propertyAddress,Aq);return x&&(p.propertyAddress=x),t.selectedServices.length===0&&!t.otherService&&(p.services="Please select at least one service"),o(p),Object.keys(p).length===0},d=(p,g)=>{if(r(v=>({...v,[p]:g})),c(v=>({...v,[p]:!0})),l[p]){const v={...i};delete v[p],o(v)}},f=(p,g)=>{const v=g?[...t.selectedServices,p]:t.selectedServices.filter(x=>x!==p);if(r(x=>({...x,selectedServices:v})),c(x=>({...x,services:!0})),v.length>0||t.otherService){const x={...i};delete x.services,o(x)}},h=async p=>{if(p.preventDefault(),n){console.log("⚠️ Submission already in progress, ignoring...");return}if(c(["name","email","phone","propertyAddress","services"].reduce((v,x)=>({...v,[x]:!0}),{})),!u()){console.log("❌ Form validation failed");return}console.log("🚀 Starting quote submission..."),a(!0);try{const v=[...t.selectedServices];t.otherService&&v.push(t.otherService),console.log("📝 Submitting quote to database...",{name:t.name,email:t.email,services:v});const{data:x,error:y}=await P.from("quote_requests").insert({name:t.name,email:t.email,phone:t.phone||null,property_address:t.propertyAddress,services:v,preferred_date:t.date||null,comments:t.comments||null,status:"pending"}).select().single();if(y)throw console.error("❌ Database error:",y),new Error(`Failed to save quote: ${y.message}`);console.log("✅ Quote saved to database:",x.id),console.log("📧 Preparing to send email notification via unified-email...");const b="https://mwvcbedvnimabfwubazz.supabase.co",w="sb_publishable_test_placeholder",j={type:"quote_confirmation",to:t.email,data:{name:t.name,email:t.email,phone:t.phone||"",propertyAddress:t.propertyAddress,services:v,date:t.date||"",comments:t.comments||""}};console.log("📨 Sending unified-email payload:",{type:"quote_confirmation",to:t.email,hasData:!!t}),console.log("📤 Full email payload:",JSON.stringify(j,null,2)),fetch(`${b}/functions/v1/unified-email`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`,apikey:w},body:JSON.stringify(j)}).then(async S=>{console.log("📬 Email response received:",{status:S.status,statusText:S.statusText,ok:S.ok});const N=await S.json();console.log("📧 Email response data:",N),S.ok&&N.success?console.log("✅ Email sent successfully via unified-email"):console.error("⚠️ Email failed (quote still saved):",{status:S.status,data:N})}).catch(S=>{console.error("❌ Email request failed (quote still saved):",{message:S.message,stack:S.stack})}),j9(v),console.log("✅ Analytics tracked"),r({name:"",email:"",phone:"",propertyAddress:"",selectedServices:[],otherService:"",date:"",comments:""}),console.log("✅ Form cleared, navigating to thank you page..."),e("/thank-you")}catch(v){console.error("❌ Quote submission error:",v),o({submit:v.message||"Failed to submit quote request. Please try again."})}finally{console.log("🔄 Resetting loading state"),a(!1)}};return s.jsxs(gq,{children:[s.jsx(Wn,{}),s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[s.jsxs("div",{className:"w-full max-w-4xl mb-8",children:[s.jsx(_q,{}),s.jsx(Eq,{items:[{label:"Home",path:"/"},{label:"Get Quote",path:"/get-quote",isActive:!0}],className:"mt-2"})]}),s.jsx("div",{className:"mb-8",children:s.jsx(Dw,{size:"large"})}),s.jsxs(C,{className:"w-full max-w-4xl bg-black/95 border-2 border-green-500 shadow-2xl shadow-green-500/30 backdrop-blur-sm",children:[s.jsxs(M,{className:"text-center",children:[s.jsx(L,{className:"text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-green-600 mb-2",children:"Instant Landscaping Quote"}),s.jsx("p",{className:"text-gray-300 text-lg",children:"Tell us about your property — we'll provide a detailed quote within 24 hours."})]}),s.jsxs(T,{children:[i.submit&&s.jsx("div",{className:"mb-6 p-4 bg-red-900/30 border-2 border-red-500 rounded-lg text-red-300 shadow-lg shadow-red-500/20",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-3"}),i.submit]})}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"name",className:"text-green-400 font-semibold",children:"Full Name *"}),s.jsx(le,{id:"name",type:"text",value:t.name,onChange:p=>d("name",p.target.value),className:`bg-gray-900/80 text-white ${i.name?"border-red-500":"border-green-500"}`,placeholder:"Enter your full name"}),i.name&&s.jsx("div",{className:"text-red-400 text-sm mt-1",children:i.name})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"email",className:"text-green-400 font-semibold",children:"Email Address *"}),s.jsx(le,{id:"email",type:"email",value:t.email,onChange:p=>d("email",p.target.value),className:`bg-gray-900/80 text-white ${i.email?"border-red-500":"border-green-500"}`,placeholder:"you@example.com"}),i.email&&s.jsx(Uf,{error:i.email})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"phone",className:"text-green-400 font-semibold",children:"Phone Number"}),s.jsx(le,{id:"phone",type:"tel",value:t.phone,onChange:p=>d("phone",p.target.value),className:`bg-gray-900/80 text-white ${i.phone?"border-red-500":"border-green-500"}`,placeholder:"(123) 456-7890"}),i.phone&&s.jsx(Uf,{error:i.phone})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"date",className:"text-green-400 font-semibold",children:"Preferred Start Date"}),s.jsx(le,{id:"date",type:"date",value:t.date,onChange:p=>d("date",p.target.value),className:"bg-gray-900/80 border-green-500 text-white",min:new Date().toISOString().split("T")[0]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"propertyAddress",className:"text-green-400 font-semibold",children:"Property Address *"}),s.jsx(le,{id:"propertyAddress",type:"text",value:t.propertyAddress,onChange:p=>d("propertyAddress",p.target.value),className:`bg-gray-900/80 text-white ${i.propertyAddress?"border-red-500":"border-green-500"}`,placeholder:"123 Main Street, City, State, ZIP"}),i.propertyAddress&&s.jsx(Uf,{error:i.propertyAddress})]}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-green-400 font-semibold mb-4 block text-lg",children:"Services Needed *"}),s.jsx("div",{className:`bg-gray-900/50 rounded-lg p-6 ${i.services?"border border-red-500":"border border-green-500/50"}`,children:s.jsx(A4,{selectedServices:t.selectedServices,otherService:t.otherService,onServiceChange:f,onOtherServiceChange:p=>d("otherService",p)})}),i.services&&s.jsx(Uf,{error:i.services})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"comments",className:"text-green-400 font-semibold",children:"Project Details & Special Requests"}),s.jsx(ka,{id:"comments",value:t.comments,onChange:p=>d("comments",p.target.value),className:"bg-gray-900/80 border-green-500 text-white min-h-[120px]",placeholder:"Tell us about your vision, property size, timeline, budget range, or any special requirements..."})]}),s.jsx(qw,{type:"submit",disabled:n,label:n?"Submitting Quote Request...":"Get a Quote",className:"w-full bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-500 hover:to-emerald-600 text-white font-bold py-4 px-8 rounded-lg shadow-lg shadow-emerald-500/30 hover:shadow-emerald-500/50 transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed text-lg border border-emerald-400/20 hover:border-emerald-400/40",loading:n}),s.jsx("p",{className:"text-center text-gray-400 text-sm",children:"* Required fields. We'll respond within 24 hours with your personalized quote."})]})]})]})]})]})}function Tq(){const{user:e}=kt(),[t,r]=m.useState(8),[n,a]=m.useState(!1),i=Ae();m.useEffect(()=>{if(e){a(!0);const l=setInterval(()=>{r(u=>u<=1?(clearInterval(l),i("/client-dashboard"),0):u-1)},1e3),c=setTimeout(()=>{a(!1)},6e3);return()=>{clearInterval(l),clearTimeout(c)}}},[e,i]);const o=!!e;return s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:s.jsx("div",{className:"max-w-2xl w-full",children:s.jsx("div",{className:"bg-black/90 backdrop-blur-sm rounded-2xl border border-green-500/20 p-8 md:p-12 shadow-2xl shadow-green-500/10",children:s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-green-400 mb-6 animate-pulse",children:"Thank You!"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-white text-lg md:text-xl leading-relaxed",children:"Your quote request has been received."}),s.jsx("p",{className:"text-gray-300 text-base md:text-lg",children:"We'll follow up with your personalized estimate shortly."})]}),o&&n&&s.jsx("div",{className:`transition-opacity duration-1000 ${n?"opacity-100":"opacity-0"}`,children:s.jsxs("p",{className:"text-green-300 text-sm",children:["Redirecting to your dashboard in ",t," seconds..."]})}),s.jsxs("div",{className:"pt-8 space-y-4",children:[o&&s.jsx("div",{className:"animate-fade-in",children:s.jsx(Mn,{to:"/client-dashboard",children:s.jsx(I,{className:"w-full sm:w-auto bg-gradient-to-r from-green-500 to-green-600 hover:from-green-400 hover:to-green-500 text-white px-8 py-3 rounded-xl text-lg font-semibold transition-all duration-300 shadow-lg shadow-green-500/40 hover:shadow-green-400/60 hover:scale-105 border border-green-400/30 hover:border-green-300/50 glow-green mb-4",children:"Back to Dashboard"})})}),s.jsx("div",{className:"animate-fade-in-delayed",children:s.jsx(Mn,{to:"/",children:s.jsx(I,{className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg text-lg font-semibold transition-all duration-300 shadow-lg shadow-green-500/25 hover:shadow-green-500/40 hover:scale-105",children:"Return to Home"})})})]})]})})})})}const Iq=()=>{const e=Vt();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsxs("div",{className:"min-h-screen bg-black text-white",children:[s.jsx($w,{}),s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:s.jsxs("div",{className:"text-center max-w-lg mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-8xl font-bold text-emerald-400 mb-4 drop-shadow-[0_0_20px_rgba(34,197,94,0.6)]",children:"404"}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Page Not Found"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"The page you're looking for doesn't exist or has been moved."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(I,{onClick:()=>navigate("/"),variant:"outline",className:"border-emerald-500 text-emerald-400 hover:bg-emerald-500/10 px-6 py-3",children:[s.jsx(ps,{className:"w-4 h-4 mr-2"}),"Go Back"]}),s.jsx(Mn,{to:"/",children:s.jsxs(I,{className:"bg-emerald-500 hover:bg-emerald-600 text-black px-6 py-3",children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),"Return Home"]})})]})]})}),s.jsx(Fw,{})]})};function ly(e,[t,r]){return Math.min(r,Math.max(t,e))}function Rq(e,t=globalThis?.document){const r=kr(e);m.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Mq="DismissableLayer",cy="dismissableLayer.update",Dq="dismissableLayer.pointerDownOutside",Lq="dismissableLayer.focusOutside",K_,I4=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gp=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=m.useContext(I4),[d,f]=m.useState(null),h=d?.ownerDocument??globalThis?.document,[,p]=m.useState({}),g=Te(t,_=>f(_)),v=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(x),b=d?v.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=b>=y,S=Bq(_=>{const E=_.target,k=[...u.branches].some(A=>A.contains(E));!j||k||(a?.(_),o?.(_),_.defaultPrevented||l?.())},h),N=Uq(_=>{const E=_.target;[...u.branches].some(A=>A.contains(E))||(i?.(_),o?.(_),_.defaultPrevented||l?.())},h);return Rq(_=>{b===u.layers.size-1&&(n?.(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(K_=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),H_(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=K_)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),H_())},[d,u]),m.useEffect(()=>{const _=()=>p({});return document.addEventListener(cy,_),()=>document.removeEventListener(cy,_)},[]),s.jsx(xe.div,{...c,ref:g,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:ye(e.onFocusCapture,N.onFocusCapture),onBlurCapture:ye(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:ye(e.onPointerDownCapture,S.onPointerDownCapture)})});Gp.displayName=Mq;var $q="DismissableLayerBranch",Fq=m.forwardRef((e,t)=>{const r=m.useContext(I4),n=m.useRef(null),a=Te(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(xe.div,{...e,ref:a})});Fq.displayName=$q;function Bq(e,t=globalThis?.document){const r=kr(e),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){R4(Dq,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Uq(e,t=globalThis?.document){const r=kr(e),n=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!n.current&&R4(Lq,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function H_(){const e=new CustomEvent(cy);document.dispatchEvent(e)}function R4(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?F9(a,i):a.dispatchEvent(i)}var ox=0;function Kw(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Y_()),document.body.insertAdjacentElement("beforeend",e[1]??Y_()),ox++,()=>{ox===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ox--}},[])}function Y_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var lx="focusScope.autoFocusOnMount",cx="focusScope.autoFocusOnUnmount",G_={bubbles:!1,cancelable:!0},Vq="FocusScope",Jp=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),u=kr(a),d=kr(i),f=m.useRef(null),h=Te(t,v=>c(v)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(w){if(p.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:Ua(f.current,{select:!0})},x=function(w){if(p.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Ua(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Ua(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),b.disconnect()}}},[n,l,p.paused]),m.useEffect(()=>{if(l){X_.add(p);const v=document.activeElement;if(!l.contains(v)){const y=new CustomEvent(lx,G_);l.addEventListener(lx,u),l.dispatchEvent(y),y.defaultPrevented||(zq(Yq(M4(l)),{select:!0}),document.activeElement===v&&Ua(l))}return()=>{l.removeEventListener(lx,u),setTimeout(()=>{const y=new CustomEvent(cx,G_);l.addEventListener(cx,d),l.dispatchEvent(y),y.defaultPrevented||Ua(v??document.body,{select:!0}),l.removeEventListener(cx,d),X_.remove(p)},0)}}},[l,u,d,p]);const g=m.useCallback(v=>{if(!r&&!n||p.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(x&&y){const b=v.currentTarget,[w,j]=Wq(b);w&&j?!v.shiftKey&&y===j?(v.preventDefault(),r&&Ua(w,{select:!0})):v.shiftKey&&y===w&&(v.preventDefault(),r&&Ua(j,{select:!0})):y===b&&v.preventDefault()}},[r,n,p.paused]);return s.jsx(xe.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Jp.displayName=Vq;function zq(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ua(n,{select:t}),document.activeElement!==r)return}function Wq(e){const t=M4(e),r=J_(t,e),n=J_(t.reverse(),e);return[r,n]}function M4(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function J_(e,t){for(const r of e)if(!qq(r,{upTo:t}))return r}function qq(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Kq(e){return e instanceof HTMLInputElement&&"select"in e}function Ua(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Kq(e)&&t&&e.select()}}var X_=Hq();function Hq(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=Q_(e,t),e.unshift(t)},remove(t){e=Q_(e,t),e[0]?.resume()}}}function Q_(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Yq(e){return e.filter(t=>t.tagName!=="A")}const Gq=["top","right","bottom","left"],bi=Math.min,sn=Math.max,Sm=Math.round,Vf=Math.floor,Fs=e=>({x:e,y:e}),Jq={left:"right",right:"left",bottom:"top",top:"bottom"},Xq={start:"end",end:"start"};function uy(e,t,r){return sn(e,bi(t,r))}function ya(e,t){return typeof e=="function"?e(t):e}function ba(e){return e.split("-")[0]}function Ac(e){return e.split("-")[1]}function Hw(e){return e==="x"?"y":"x"}function Yw(e){return e==="y"?"height":"width"}const Qq=new Set(["top","bottom"]);function Os(e){return Qq.has(ba(e))?"y":"x"}function Gw(e){return Hw(Os(e))}function Zq(e,t,r){r===void 0&&(r=!1);const n=Ac(e),a=Gw(e),i=Yw(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Nm(o)),[o,Nm(o)]}function e7(e){const t=Nm(e);return[dy(e),t,dy(t)]}function dy(e){return e.replace(/start|end/g,t=>Xq[t])}const Z_=["left","right"],eE=["right","left"],t7=["top","bottom"],r7=["bottom","top"];function n7(e,t,r){switch(e){case"top":case"bottom":return r?t?eE:Z_:t?Z_:eE;case"left":case"right":return t?t7:r7;default:return[]}}function s7(e,t,r,n){const a=Ac(e);let i=n7(ba(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(dy)))),i}function Nm(e){return e.replace(/left|right|bottom|top/g,t=>Jq[t])}function a7(e){return{top:0,right:0,bottom:0,left:0,...e}}function D4(e){return typeof e!="number"?a7(e):{top:e,right:e,bottom:e,left:e}}function _m(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function tE(e,t,r){let{reference:n,floating:a}=e;const i=Os(t),o=Gw(t),l=Yw(o),c=ba(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Ac(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const i7=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=tE(u,n,c),h=n,p={},g=0;for(let v=0;v<l.length;v++){const{name:x,fn:y}=l[v],{x:b,y:w,data:j,reset:S}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=w??f,p={...p,[x]:{...p[x],...j}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=tE(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function cd(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=ya(t,e),g=D4(p),x=l[h?f==="floating"?"reference":"floating":f],y=_m(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=_m(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(y.top-S.top+g.top)/j.y,bottom:(S.bottom-y.bottom+g.bottom)/j.y,left:(y.left-S.left+g.left)/j.x,right:(S.right-y.right+g.right)/j.x}}const o7=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=ya(e,t)||{};if(u==null)return{};const f=D4(d),h={x:r,y:n},p=Gw(a),g=Yw(p),v=await o.getDimensions(u),x=p==="y",y=x?"top":"left",b=x?"bottom":"right",w=x?"clientHeight":"clientWidth",j=i.reference[g]+i.reference[p]-h[p]-i.floating[g],S=h[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=N?N[w]:0;(!_||!await(o.isElement==null?void 0:o.isElement(N)))&&(_=l.floating[w]||i.floating[g]);const E=j/2-S/2,k=_/2-v[g]/2-1,A=bi(f[y],k),R=bi(f[b],k),D=A,F=_-v[g]-R,W=_/2-v[g]/2+E,K=uy(D,W,F),H=!c.arrow&&Ac(a)!=null&&W!==K&&i.reference[g]/2-(W<D?A:R)-v[g]/2<0,q=H?W<D?W-D:W-F:0;return{[p]:h[p]+q,data:{[p]:K,centerOffset:W-K-q,...H&&{alignmentOffset:q}},reset:H}}}),l7=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...x}=ya(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=ba(a),b=Os(l),w=ba(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(w||!v?[Nm(l)]:e7(l)),N=g!=="none";!h&&N&&S.push(...s7(l,v,g,j));const _=[l,...S],E=await cd(t,x),k=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&k.push(E[y]),f){const W=Zq(a,o,j);k.push(E[W[0]],E[W[1]])}if(A=[...A,{placement:a,overflows:k}],!k.every(W=>W<=0)){var R,D;const W=(((R=i.flip)==null?void 0:R.index)||0)+1,K=_[W];if(K&&(!(f==="alignment"?b!==Os(K):!1)||A.every(O=>Os(O.placement)===b?O.overflows[0]>0:!0)))return{data:{index:W,overflows:A},reset:{placement:K}};let H=(D=A.filter(q=>q.overflows[0]<=0).sort((q,O)=>q.overflows[1]-O.overflows[1])[0])==null?void 0:D.placement;if(!H)switch(p){case"bestFit":{var F;const q=(F=A.filter(O=>{if(N){const V=Os(O.placement);return V===b||V==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(V=>V>0).reduce((V,J)=>V+J,0)]).sort((O,V)=>O[1]-V[1])[0])==null?void 0:F[0];q&&(H=q);break}case"initialPlacement":H=l;break}if(a!==H)return{reset:{placement:H}}}return{}}}};function rE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function nE(e){return Gq.some(t=>e[t]>=0)}const c7=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=ya(e,t);switch(n){case"referenceHidden":{const i=await cd(t,{...a,elementContext:"reference"}),o=rE(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:nE(o)}}}case"escaped":{const i=await cd(t,{...a,altBoundary:!0}),o=rE(i,r.floating);return{data:{escapedOffsets:o,escaped:nE(o)}}}default:return{}}}}},L4=new Set(["left","top"]);async function u7(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=ba(r),l=Ac(r),c=Os(r)==="y",u=L4.has(o)?-1:1,d=i&&c?-1:1,f=ya(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const d7=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await u7(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},f7=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:y,y:b}=x;return{x:y,y:b}}},...c}=ya(e,t),u={x:r,y:n},d=await cd(t,c),f=Os(ba(a)),h=Hw(f);let p=u[h],g=u[f];if(i){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=p+d[x],w=p-d[y];p=uy(b,p,w)}if(o){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=g+d[x],w=g-d[y];g=uy(b,g,w)}const v=l.fn({...t,[h]:p,[f]:g});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[h]:i,[f]:o}}}}}},h7=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ya(e,t),d={x:r,y:n},f=Os(a),h=Hw(f);let p=d[h],g=d[f];const v=ya(l,t),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=h==="y"?"height":"width",j=i.reference[h]-i.floating[w]+x.mainAxis,S=i.reference[h]+i.reference[w]-x.mainAxis;p<j?p=j:p>S&&(p=S)}if(u){var y,b;const w=h==="y"?"width":"height",j=L4.has(ba(a)),S=i.reference[f]-i.floating[w]+(j&&((y=o.offset)==null?void 0:y[f])||0)+(j?0:x.crossAxis),N=i.reference[f]+i.reference[w]+(j?0:((b=o.offset)==null?void 0:b[f])||0)-(j?x.crossAxis:0);g<S?g=S:g>N&&(g=N)}return{[h]:p,[f]:g}}}},m7=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=ya(e,t),d=await cd(t,u),f=ba(a),h=Ac(a),p=Os(a)==="y",{width:g,height:v}=i.floating;let x,y;f==="top"||f==="bottom"?(x=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,x=h==="end"?"top":"bottom");const b=v-d.top-d.bottom,w=g-d.left-d.right,j=bi(v-d[x],b),S=bi(g-d[y],w),N=!t.middlewareData.shift;let _=j,E=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=b),N&&!h){const A=sn(d.left,0),R=sn(d.right,0),D=sn(d.top,0),F=sn(d.bottom,0);p?E=g-2*(A!==0||R!==0?A+R:sn(d.left,d.right)):_=v-2*(D!==0||F!==0?D+F:sn(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:_});const k=await o.getDimensions(l.floating);return g!==k.width||v!==k.height?{reset:{rects:!0}}:{}}}};function Xp(){return typeof window<"u"}function Oc(e){return $4(e)?(e.nodeName||"").toLowerCase():"#document"}function fn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Hs(e){var t;return(t=($4(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $4(e){return Xp()?e instanceof Node||e instanceof fn(e).Node:!1}function vs(e){return Xp()?e instanceof Element||e instanceof fn(e).Element:!1}function zs(e){return Xp()?e instanceof HTMLElement||e instanceof fn(e).HTMLElement:!1}function sE(e){return!Xp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fn(e).ShadowRoot}const p7=new Set(["inline","contents"]);function Ld(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=xs(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!p7.has(a)}const g7=new Set(["table","td","th"]);function v7(e){return g7.has(Oc(e))}const x7=[":popover-open",":modal"];function Qp(e){return x7.some(t=>{try{return e.matches(t)}catch{return!1}})}const y7=["transform","translate","scale","rotate","perspective"],b7=["transform","translate","scale","rotate","perspective","filter"],w7=["paint","layout","strict","content"];function Jw(e){const t=Xw(),r=vs(e)?xs(e):e;return y7.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||b7.some(n=>(r.willChange||"").includes(n))||w7.some(n=>(r.contain||"").includes(n))}function j7(e){let t=wi(e);for(;zs(t)&&!sc(t);){if(Jw(t))return t;if(Qp(t))return null;t=wi(t)}return null}function Xw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const S7=new Set(["html","body","#document"]);function sc(e){return S7.has(Oc(e))}function xs(e){return fn(e).getComputedStyle(e)}function Zp(e){return vs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function wi(e){if(Oc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||sE(e)&&e.host||Hs(e);return sE(t)?t.host:t}function F4(e){const t=wi(e);return sc(t)?e.ownerDocument?e.ownerDocument.body:e.body:zs(t)&&Ld(t)?t:F4(t)}function ud(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=F4(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=fn(a);if(i){const l=fy(o);return t.concat(o,o.visualViewport||[],Ld(a)?a:[],l&&r?ud(l):[])}return t.concat(a,ud(a,[],r))}function fy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function B4(e){const t=xs(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=zs(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Sm(r)!==i||Sm(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Qw(e){return vs(e)?e:e.contextElement}function Wl(e){const t=Qw(e);if(!zs(t))return Fs(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=B4(t);let o=(i?Sm(r.width):r.width)/n,l=(i?Sm(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const N7=Fs(0);function U4(e){const t=fn(e);return!Xw()||!t.visualViewport?N7:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _7(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==fn(e)?!1:t}function Oo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Qw(e);let o=Fs(1);t&&(n?vs(n)&&(o=Wl(n)):o=Wl(e));const l=_7(i,r,n)?U4(i):Fs(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=fn(i),p=n&&vs(n)?fn(n):n;let g=h,v=fy(g);for(;v&&n&&p!==g;){const x=Wl(v),y=v.getBoundingClientRect(),b=xs(v),w=y.left+(v.clientLeft+parseFloat(b.paddingLeft))*x.x,j=y.top+(v.clientTop+parseFloat(b.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=w,u+=j,g=fn(v),v=fy(g)}}return _m({width:d,height:f,x:c,y:u})}function eg(e,t){const r=Zp(e).scrollLeft;return t?t.left+r:Oo(Hs(e)).left+r}function V4(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-eg(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function E7(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Hs(n),l=t?Qp(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Fs(1);const d=Fs(0),f=zs(n);if((f||!f&&!i)&&((Oc(n)!=="body"||Ld(o))&&(c=Zp(n)),zs(n))){const p=Oo(n);u=Wl(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?V4(o,c):Fs(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function k7(e){return Array.from(e.getClientRects())}function P7(e){const t=Hs(e),r=Zp(e),n=e.ownerDocument.body,a=sn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=sn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+eg(e);const l=-r.scrollTop;return xs(n).direction==="rtl"&&(o+=sn(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const aE=25;function C7(e,t){const r=fn(e),n=Hs(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Xw();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=eg(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-p);g<=aE&&(i-=g)}else u<=aE&&(i+=u);return{width:i,height:o,x:l,y:c}}const A7=new Set(["absolute","fixed"]);function O7(e,t){const r=Oo(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=zs(e)?Wl(e):Fs(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function iE(e,t,r){let n;if(t==="viewport")n=C7(e,r);else if(t==="document")n=P7(Hs(e));else if(vs(t))n=O7(t,r);else{const a=U4(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return _m(n)}function z4(e,t){const r=wi(e);return r===t||!vs(r)||sc(r)?!1:xs(r).position==="fixed"||z4(r,t)}function T7(e,t){const r=t.get(e);if(r)return r;let n=ud(e,[],!1).filter(l=>vs(l)&&Oc(l)!=="body"),a=null;const i=xs(e).position==="fixed";let o=i?wi(e):e;for(;vs(o)&&!sc(o);){const l=xs(o),c=Jw(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&A7.has(a.position)||Ld(o)&&!c&&z4(e,o))?n=n.filter(d=>d!==o):a=l,o=wi(o)}return t.set(e,n),n}function I7(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Qp(t)?[]:T7(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=iE(t,d,a);return u.top=sn(f.top,u.top),u.right=bi(f.right,u.right),u.bottom=bi(f.bottom,u.bottom),u.left=sn(f.left,u.left),u},iE(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function R7(e){const{width:t,height:r}=B4(e);return{width:t,height:r}}function M7(e,t,r){const n=zs(t),a=Hs(t),i=r==="fixed",o=Oo(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Fs(0);function u(){c.x=eg(a)}if(n||!n&&!i)if((Oc(t)!=="body"||Ld(a))&&(l=Zp(t)),n){const p=Oo(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?V4(a,l):Fs(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function ux(e){return xs(e).position==="static"}function oE(e,t){if(!zs(e)||xs(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Hs(e)===r&&(r=r.ownerDocument.body),r}function W4(e,t){const r=fn(e);if(Qp(e))return r;if(!zs(e)){let a=wi(e);for(;a&&!sc(a);){if(vs(a)&&!ux(a))return a;a=wi(a)}return r}let n=oE(e,t);for(;n&&v7(n)&&ux(n);)n=oE(n,t);return n&&sc(n)&&ux(n)&&!Jw(n)?r:n||j7(e)||r}const D7=async function(e){const t=this.getOffsetParent||W4,r=this.getDimensions,n=await r(e.floating);return{reference:M7(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function L7(e){return xs(e).direction==="rtl"}const $7={convertOffsetParentRelativeRectToViewportRelativeRect:E7,getDocumentElement:Hs,getClippingRect:I7,getOffsetParent:W4,getElementRects:D7,getClientRects:k7,getDimensions:R7,getScale:Wl,isElement:vs,isRTL:L7};function q4(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function F7(e,t){let r=null,n;const a=Hs(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const g=Vf(f),v=Vf(a.clientWidth-(d+h)),x=Vf(a.clientHeight-(f+p)),y=Vf(d),w={rootMargin:-g+"px "+-v+"px "+-x+"px "+-y+"px",threshold:sn(0,bi(1,c))||1};let j=!0;function S(N){const _=N[0].intersectionRatio;if(_!==c){if(!j)return o();_?o(!1,_):n=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!q4(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(S,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return o(!0),i}function B7(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Qw(e),d=a||i?[...u?ud(u):[],...ud(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=u&&l?F7(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let g,v=c?Oo(e):null;c&&x();function x(){const y=Oo(e);v&&!q4(v,y)&&r(),v=y,g=requestAnimationFrame(x)}return r(),()=>{var y;d.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f?.(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const U7=d7,V7=f7,z7=l7,W7=m7,q7=c7,lE=o7,K7=h7,H7=(e,t,r)=>{const n=new Map,a={platform:$7,...r},i={...a.platform,_c:n};return i7(e,t,{...a,platform:i})};var Y7=typeof document<"u",G7=function(){},Rh=Y7?m.useLayoutEffect:G7;function Em(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Em(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Em(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function K4(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cE(e,t){const r=K4(e);return Math.round(t*r)/r}function dx(e){const t=m.useRef(e);return Rh(()=>{t.current=e}),t}function J7(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(n);Em(h,n)||p(n);const[g,v]=m.useState(null),[x,y]=m.useState(null),b=m.useCallback(O=>{O!==N.current&&(N.current=O,v(O))},[]),w=m.useCallback(O=>{O!==_.current&&(_.current=O,y(O))},[]),j=i||g,S=o||x,N=m.useRef(null),_=m.useRef(null),E=m.useRef(d),k=c!=null,A=dx(c),R=dx(a),D=dx(u),F=m.useCallback(()=>{if(!N.current||!_.current)return;const O={placement:t,strategy:r,middleware:h};R.current&&(O.platform=R.current),H7(N.current,_.current,O).then(V=>{const J={...V,isPositioned:D.current!==!1};W.current&&!Em(E.current,J)&&(E.current=J,Oi.flushSync(()=>{f(J)}))})},[h,t,r,R,D]);Rh(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[u]);const W=m.useRef(!1);Rh(()=>(W.current=!0,()=>{W.current=!1}),[]),Rh(()=>{if(j&&(N.current=j),S&&(_.current=S),j&&S){if(A.current)return A.current(j,S,F);F()}},[j,S,F,A,k]);const K=m.useMemo(()=>({reference:N,floating:_,setReference:b,setFloating:w}),[b,w]),H=m.useMemo(()=>({reference:j,floating:S}),[j,S]),q=m.useMemo(()=>{const O={position:r,left:0,top:0};if(!H.floating)return O;const V=cE(H.floating,d.x),J=cE(H.floating,d.y);return l?{...O,transform:"translate("+V+"px, "+J+"px)",...K4(H.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:V,top:J}},[r,l,H.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:F,refs:K,elements:H,floatingStyles:q}),[d,F,K,H,q])}const X7=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?lE({element:n.current,padding:a}).fn(r):{}:n?lE({element:n,padding:a}).fn(r):{}}}},Q7=(e,t)=>({...U7(e),options:[e,t]}),Z7=(e,t)=>({...V7(e),options:[e,t]}),eK=(e,t)=>({...K7(e),options:[e,t]}),tK=(e,t)=>({...z7(e),options:[e,t]}),rK=(e,t)=>({...W7(e),options:[e,t]}),nK=(e,t)=>({...q7(e),options:[e,t]}),sK=(e,t)=>({...X7(e),options:[e,t]});var aK="Arrow",H4=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(xe.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});H4.displayName=aK;var iK=H4,Zw="Popper",[Y4,tg]=Yn(Zw),[oK,G4]=Y4(Zw),J4=e=>{const{__scopePopper:t,children:r}=e,[n,a]=m.useState(null);return s.jsx(oK,{scope:t,anchor:n,onAnchorChange:a,children:r})};J4.displayName=Zw;var X4="PopperAnchor",Q4=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=G4(X4,r),o=m.useRef(null),l=Te(t,o),c=m.useRef(null);return m.useEffect(()=>{const u=c.current;c.current=n?.current||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(xe.div,{...a,ref:l})});Q4.displayName=X4;var ej="PopperContent",[lK,cK]=Y4(ej),Z4=m.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...v}=e,x=G4(ej,r),[y,b]=m.useState(null),w=Te(t,Q=>b(Q)),[j,S]=m.useState(null),N=Vw(j),_=N?.width??0,E=N?.height??0,k=n+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],D=R.length>0,F={padding:A,boundary:R.filter(dK),altBoundary:D},{refs:W,floatingStyles:K,placement:H,isPositioned:q,middlewareData:O}=J7({strategy:"fixed",placement:k,whileElementsMounted:(...Q)=>B7(...Q,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[Q7({mainAxis:a+E,alignmentAxis:o}),c&&Z7({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?eK():void 0,...F}),c&&tK({...F}),rK({...F,apply:({elements:Q,rects:De,availableWidth:B,availableHeight:ee})=>{const{width:oe,height:U}=De.reference,Ve=Q.floating.style;Ve.setProperty("--radix-popper-available-width",`${B}px`),Ve.setProperty("--radix-popper-available-height",`${ee}px`),Ve.setProperty("--radix-popper-anchor-width",`${oe}px`),Ve.setProperty("--radix-popper-anchor-height",`${U}px`)}}),j&&sK({element:j,padding:l}),fK({arrowWidth:_,arrowHeight:E}),h&&nK({strategy:"referenceHidden",...F})]}),[V,J]=rI(H),he=kr(g);Bt(()=>{q&&he?.()},[q,he]);const be=O.arrow?.x,_e=O.arrow?.y,je=O.arrow?.centerOffset!==0,[Oe,ot]=m.useState();return Bt(()=>{y&&ot(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:q?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(lK,{scope:r,placedSide:V,onArrowChange:S,arrowX:be,arrowY:_e,shouldHideArrow:je,children:s.jsx(xe.div,{"data-side":V,"data-align":J,...v,ref:w,style:{...v.style,animation:q?void 0:"none"}})})})});Z4.displayName=ej;var eI="PopperArrow",uK={top:"bottom",right:"left",bottom:"top",left:"right"},tI=m.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=cK(eI,n),o=uK[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(iK,{...a,ref:r,style:{...a.style,display:"block"}})})});tI.displayName=eI;function dK(e){return e!==null}var fK=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=rI(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(a.arrow?.x??0)+l/2,p=(a.arrow?.y??0)+c/2;let g="",v="";return u==="bottom"?(g=o?f:`${h}px`,v=`${-c}px`):u==="top"?(g=o?f:`${h}px`,v=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,v=o?f:`${p}px`):u==="left"&&(g=`${n.floating.width+c}px`,v=o?f:`${p}px`),{data:{x:g,y:v}}}});function rI(e){const[t,r="center"]=e.split("-");return[t,r]}var nI=J4,tj=Q4,sI=Z4,aI=tI,hK="Portal",rg=m.forwardRef((e,t)=>{const{container:r,...n}=e,[a,i]=m.useState(!1);Bt(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?RU.createPortal(s.jsx(xe.div,{...n,ref:t}),o):null});rg.displayName=hK;var iI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mK="VisuallyHidden",pK=m.forwardRef((e,t)=>s.jsx(xe.span,{...e,ref:t,style:{...iI,...e.style}}));pK.displayName=mK;var gK=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ol=new WeakMap,zf=new WeakMap,Wf={},fx=0,oI=function(e){return e&&(e.host||oI(e.parentNode))},vK=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=oI(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},xK=function(e,t,r,n){var a=vK(t,Array.isArray(e)?e:[e]);Wf[r]||(Wf[r]=new WeakMap);var i=Wf[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",v=(ol.get(h)||0)+1,x=(i.get(h)||0)+1;ol.set(h,v),i.set(h,x),o.push(h),v===1&&g&&zf.set(h,!0),x===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),fx++,function(){o.forEach(function(f){var h=ol.get(f)-1,p=i.get(f)-1;ol.set(f,h),i.set(f,p),h||(zf.has(f)||f.removeAttribute(n),zf.delete(f)),p||f.removeAttribute(r)}),fx--,fx||(ol=new WeakMap,ol=new WeakMap,zf=new WeakMap,Wf={})}},rj=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=gK(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),xK(n,a,r,"aria-hidden")):function(){return null}},Mh="right-scroll-bar-position",Dh="width-before-scroll-bar",yK="with-scroll-bars-hidden",bK="--removed-body-scroll-bar-size";function hx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function wK(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var jK=typeof window<"u"?m.useLayoutEffect:m.useEffect,uE=new WeakMap;function SK(e,t){var r=wK(null,function(n){return e.forEach(function(a){return hx(a,n)})});return jK(function(){var n=uE.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||hx(l,null)}),i.forEach(function(l){a.has(l)||hx(l,o)})}uE.set(r,e)},[e]),r}function NK(e){return e}function _K(e,t){t===void 0&&(t=NK);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function EK(e){e===void 0&&(e={});var t=_K(null);return t.options=In({async:!0,ssr:!1},e),t}var lI=function(e){var t=e.sideCar,r=Mi(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,In({},r))};lI.isSideCarExport=!0;function kK(e,t){return e.useMedium(t),lI}var cI=EK(),mx=function(){},ng=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:mx,onWheelCapture:mx,onTouchMoveCapture:mx}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,g=e.noIsolation,v=e.inert,x=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,w=e.gapMode,j=Mi(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,N=SK([r,t]),_=In(In({},j),a);return m.createElement(m.Fragment,null,d&&m.createElement(S,{sideCar:cI,removeScrollBar:u,shards:f,noRelative:p,noIsolation:g,inert:v,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:w}),o?m.cloneElement(m.Children.only(l),In(In({},_),{ref:N})):m.createElement(b,In({},_,{className:c,ref:N}),l))});ng.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ng.classNames={fullWidth:Dh,zeroRight:Mh};var PK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function CK(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=PK();return t&&e.setAttribute("nonce",t),e}function AK(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function OK(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var TK=function(){var e=0,t=null;return{add:function(r){e==0&&(t=CK())&&(AK(t,r),OK(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},IK=function(){var e=TK();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},uI=function(){var e=IK(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},RK={left:0,top:0,right:0,gap:0},px=function(e){return parseInt(e||"",10)||0},MK=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[px(r),px(n),px(a)]},DK=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return RK;var t=MK(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},LK=uI(),ql="data-scroll-locked",$K=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(yK,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(ql,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mh,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Dh,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Mh," .").concat(Mh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Dh," .").concat(Dh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ql,`] {
    `).concat(bK,": ").concat(l,`px;
  }
`)},dE=function(){var e=parseInt(document.body.getAttribute(ql)||"0",10);return isFinite(e)?e:0},FK=function(){m.useEffect(function(){return document.body.setAttribute(ql,(dE()+1).toString()),function(){var e=dE()-1;e<=0?document.body.removeAttribute(ql):document.body.setAttribute(ql,e.toString())}},[])},BK=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;FK();var i=m.useMemo(function(){return DK(a)},[a]);return m.createElement(LK,{styles:$K(i,!t,a,r?"":"!important")})},hy=!1;if(typeof window<"u")try{var qf=Object.defineProperty({},"passive",{get:function(){return hy=!0,!0}});window.addEventListener("test",qf,qf),window.removeEventListener("test",qf,qf)}catch{hy=!1}var ll=hy?{passive:!1}:!1,UK=function(e){return e.tagName==="TEXTAREA"},dI=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!UK(e)&&r[t]==="visible")},VK=function(e){return dI(e,"overflowY")},zK=function(e){return dI(e,"overflowX")},fE=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=fI(e,n);if(a){var i=hI(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},WK=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},qK=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},fI=function(e,t){return e==="v"?VK(t):zK(t)},hI=function(e,t){return e==="v"?WK(t):qK(t)},KK=function(e,t){return e==="h"&&t==="rtl"?-1:1},HK=function(e,t,r,n,a){var i=KK(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=hI(e,l),g=p[0],v=p[1],x=p[2],y=v-x-i*g;(g||y)&&fI(e,l)&&(f+=y,h+=g);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Kf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hE=function(e){return[e.deltaX,e.deltaY]},mE=function(e){return e&&"current"in e?e.current:e},YK=function(e,t){return e[0]===t[0]&&e[1]===t[1]},GK=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},JK=0,cl=[];function XK(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),a=m.useState(JK++)[0],i=m.useState(uI)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=kw([e.lockRef.current],(e.shards||[]).map(mE),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var y=Kf(v),b=r.current,w="deltaX"in v?v.deltaX:b[0]-y[0],j="deltaY"in v?v.deltaY:b[1]-y[1],S,N=v.target,_=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in v&&_==="h"&&N.type==="range")return!1;var E=fE(_,N);if(!E)return!0;if(E?S=_:(S=_==="v"?"h":"v",E=fE(_,N)),!E)return!1;if(!n.current&&"changedTouches"in v&&(w||j)&&(n.current=S),!S)return!0;var k=n.current||S;return HK(k,x,v,k==="h"?w:j)},[]),c=m.useCallback(function(v){var x=v;if(!(!cl.length||cl[cl.length-1]!==i)){var y="deltaY"in x?hE(x):Kf(x),b=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&YK(S.delta,y)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(mE).filter(Boolean).filter(function(S){return S.contains(x.target)}),j=w.length>0?l(x,w[0]):!o.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),u=m.useCallback(function(v,x,y,b){var w={name:v,delta:x,target:y,should:b,shadowParent:QK(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=m.useCallback(function(v){r.current=Kf(v),n.current=void 0},[]),f=m.useCallback(function(v){u(v.type,hE(v),v.target,l(v,e.lockRef.current))},[]),h=m.useCallback(function(v){u(v.type,Kf(v),v.target,l(v,e.lockRef.current))},[]);m.useEffect(function(){return cl.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ll),document.addEventListener("touchmove",c,ll),document.addEventListener("touchstart",d,ll),function(){cl=cl.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,ll),document.removeEventListener("touchmove",c,ll),document.removeEventListener("touchstart",d,ll)}},[]);var p=e.removeScrollBar,g=e.inert;return m.createElement(m.Fragment,null,g?m.createElement(i,{styles:GK(a)}):null,p?m.createElement(BK,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function QK(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ZK=kK(cI,XK);var sg=m.forwardRef(function(e,t){return m.createElement(ng,In({},e,{ref:t,sideCar:ZK}))});sg.classNames=ng.classNames;var eH=[" ","Enter","ArrowUp","ArrowDown"],tH=[" ","Enter"],To="Select",[ag,ig,rH]=t4(To),[Tc]=Yn(To,[rH,tg]),og=tg(),[nH,Li]=Tc(To),[sH,aH]=Tc(To),mI=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=e,v=og(t),[x,y]=m.useState(null),[b,w]=m.useState(null),[j,S]=m.useState(!1),N=Kp(u),[_,E]=yi({prop:n,defaultProp:a??!1,onChange:i,caller:To}),[k,A]=yi({prop:o,defaultProp:l,onChange:c,caller:To}),R=m.useRef(null),D=x?g||!!x.closest("form"):!0,[F,W]=m.useState(new Set),K=Array.from(F).map(H=>H.props.value).join(";");return s.jsx(nI,{...v,children:s.jsxs(nH,{required:p,scope:t,trigger:x,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:da(),value:k,onValueChange:A,open:_,onOpenChange:E,dir:N,triggerPointerDownPosRef:R,disabled:h,children:[s.jsx(ag.Provider,{scope:t,children:s.jsx(sH,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(H=>{W(q=>new Set(q).add(H))},[]),onNativeOptionRemove:m.useCallback(H=>{W(q=>{const O=new Set(q);return O.delete(H),O})},[]),children:r})}),D?s.jsxs($I,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:H=>A(H.target.value),disabled:h,form:g,children:[k===void 0?s.jsx("option",{value:""}):null,Array.from(F)]},K):null]})})};mI.displayName=To;var pI="SelectTrigger",gI=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=og(r),o=Li(pI,r),l=o.disabled||n,c=Te(t,o.onTriggerChange),u=ig(r),d=m.useRef("touch"),[f,h,p]=BI(v=>{const x=u().filter(w=>!w.disabled),y=x.find(w=>w.value===o.value),b=UI(x,v,y);b!==void 0&&o.onValueChange(b.value)}),g=v=>{l||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return s.jsx(tj,{asChild:!0,...i,children:s.jsx(xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":FI(o.value)?"":void 0,...a,ref:c,onClick:ye(a.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&g(v)}),onPointerDown:ye(a.onPointerDown,v=>{d.current=v.pointerType;const x=v.target;x.hasPointerCapture(v.pointerId)&&x.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:ye(a.onKeyDown,v=>{const x=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(x&&v.key===" ")&&eH.includes(v.key)&&(g(),v.preventDefault())})})})});gI.displayName=pI;var vI="SelectValue",xI=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Li(vI,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Te(t,c.onValueNodeChange);return Bt(()=>{u(d)},[u,d]),s.jsx(xe.span,{...l,ref:f,style:{pointerEvents:"none"},children:FI(c.value)?s.jsx(s.Fragment,{children:o}):i})});xI.displayName=vI;var iH="SelectIcon",yI=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(xe.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});yI.displayName=iH;var oH="SelectPortal",bI=e=>s.jsx(rg,{asChild:!0,...e});bI.displayName=oH;var Io="SelectContent",wI=m.forwardRef((e,t)=>{const r=Li(Io,e.__scopeSelect),[n,a]=m.useState();if(Bt(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Oi.createPortal(s.jsx(jI,{scope:e.__scopeSelect,children:s.jsx(ag.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(SI,{...e,ref:t})});wI.displayName=Io;var rs=10,[jI,$i]=Tc(Io),lH="SelectContentImpl",cH=Co("SelectContent.RemoveScroll"),SI=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:x,...y}=e,b=Li(Io,r),[w,j]=m.useState(null),[S,N]=m.useState(null),_=Te(t,Q=>j(Q)),[E,k]=m.useState(null),[A,R]=m.useState(null),D=ig(r),[F,W]=m.useState(!1),K=m.useRef(!1);m.useEffect(()=>{if(w)return rj(w)},[w]),Kw();const H=m.useCallback(Q=>{const[De,...B]=D().map(U=>U.ref.current),[ee]=B.slice(-1),oe=document.activeElement;for(const U of Q)if(U===oe||(U?.scrollIntoView({block:"nearest"}),U===De&&S&&(S.scrollTop=0),U===ee&&S&&(S.scrollTop=S.scrollHeight),U?.focus(),document.activeElement!==oe))return},[D,S]),q=m.useCallback(()=>H([E,w]),[H,E,w]);m.useEffect(()=>{F&&q()},[F,q]);const{onOpenChange:O,triggerPointerDownPosRef:V}=b;m.useEffect(()=>{if(w){let Q={x:0,y:0};const De=ee=>{Q={x:Math.abs(Math.round(ee.pageX)-(V.current?.x??0)),y:Math.abs(Math.round(ee.pageY)-(V.current?.y??0))}},B=ee=>{Q.x<=10&&Q.y<=10?ee.preventDefault():w.contains(ee.target)||O(!1),document.removeEventListener("pointermove",De),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",De),document.addEventListener("pointerup",B,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",De),document.removeEventListener("pointerup",B,{capture:!0})}}},[w,O,V]),m.useEffect(()=>{const Q=()=>O(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[O]);const[J,he]=BI(Q=>{const De=D().filter(oe=>!oe.disabled),B=De.find(oe=>oe.ref.current===document.activeElement),ee=UI(De,Q,B);ee&&setTimeout(()=>ee.ref.current.focus())}),be=m.useCallback((Q,De,B)=>{const ee=!K.current&&!B;(b.value!==void 0&&b.value===De||ee)&&(k(Q),ee&&(K.current=!0))},[b.value]),_e=m.useCallback(()=>w?.focus(),[w]),je=m.useCallback((Q,De,B)=>{const ee=!K.current&&!B;(b.value!==void 0&&b.value===De||ee)&&R(Q)},[b.value]),Oe=n==="popper"?my:NI,ot=Oe===my?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:x}:{};return s.jsx(jI,{scope:r,content:w,viewport:S,onViewportChange:N,itemRefCallback:be,selectedItem:E,onItemLeave:_e,itemTextRefCallback:je,focusSelectedItem:q,selectedItemText:A,position:n,isPositioned:F,searchRef:J,children:s.jsx(sg,{as:cH,allowPinchZoom:!0,children:s.jsx(Jp,{asChild:!0,trapped:b.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:ye(a,Q=>{b.trigger?.focus({preventScroll:!0}),Q.preventDefault()}),children:s.jsx(Gp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(Oe,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:Q=>Q.preventDefault(),...y,...ot,onPlaced:()=>W(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ye(y.onKeyDown,Q=>{const De=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!De&&Q.key.length===1&&he(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let ee=D().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const oe=Q.target,U=ee.indexOf(oe);ee=ee.slice(U+1)}setTimeout(()=>H(ee)),Q.preventDefault()}})})})})})})});SI.displayName=lH;var uH="SelectItemAlignedPosition",NI=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Li(Io,r),o=$i(Io,r),[l,c]=m.useState(null),[u,d]=m.useState(null),f=Te(t,_=>d(_)),h=ig(r),p=m.useRef(!1),g=m.useRef(!0),{viewport:v,selectedItem:x,selectedItemText:y,focusSelectedItem:b}=o,w=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&v&&x&&y){const _=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(i.dir!=="rtl"){const oe=A.left-E.left,U=k.left-oe,Ve=_.left-U,ke=_.width+Ve,qt=Math.max(ke,E.width),Kt=window.innerWidth-rs,Gr=ly(U,[rs,Math.max(rs,Kt-qt)]);l.style.minWidth=ke+"px",l.style.left=Gr+"px"}else{const oe=E.right-A.right,U=window.innerWidth-k.right-oe,Ve=window.innerWidth-_.right-U,ke=_.width+Ve,qt=Math.max(ke,E.width),Kt=window.innerWidth-rs,Gr=ly(U,[rs,Math.max(rs,Kt-qt)]);l.style.minWidth=ke+"px",l.style.right=Gr+"px"}const R=h(),D=window.innerHeight-rs*2,F=v.scrollHeight,W=window.getComputedStyle(u),K=parseInt(W.borderTopWidth,10),H=parseInt(W.paddingTop,10),q=parseInt(W.borderBottomWidth,10),O=parseInt(W.paddingBottom,10),V=K+H+F+O+q,J=Math.min(x.offsetHeight*5,V),he=window.getComputedStyle(v),be=parseInt(he.paddingTop,10),_e=parseInt(he.paddingBottom,10),je=_.top+_.height/2-rs,Oe=D-je,ot=x.offsetHeight/2,Q=x.offsetTop+ot,De=K+H+Q,B=V-De;if(De<=je){const oe=R.length>0&&x===R[R.length-1].ref.current;l.style.bottom="0px";const U=u.clientHeight-v.offsetTop-v.offsetHeight,Ve=Math.max(Oe,ot+(oe?_e:0)+U+q),ke=De+Ve;l.style.height=ke+"px"}else{const oe=R.length>0&&x===R[0].ref.current;l.style.top="0px";const Ve=Math.max(je,K+v.offsetTop+(oe?be:0)+ot)+B;l.style.height=Ve+"px",v.scrollTop=De-je+v.offsetTop}l.style.margin=`${rs}px 0`,l.style.minHeight=J+"px",l.style.maxHeight=D+"px",n?.(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,v,x,y,i.dir,n]);Bt(()=>w(),[w]);const[j,S]=m.useState();Bt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const N=m.useCallback(_=>{_&&g.current===!0&&(w(),b?.(),g.current=!1)},[w,b]);return s.jsx(fH,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(xe.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});NI.displayName=uH;var dH="SelectPopperPosition",my=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=rs,...i}=e,o=og(r);return s.jsx(sI,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});my.displayName=dH;var[fH,nj]=Tc(Io,{}),py="SelectViewport",_I=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=$i(py,r),o=nj(py,r),l=Te(t,i.onViewportChange),c=m.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(ag.Slot,{scope:r,children:s.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ye(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h?.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-rs*2,v=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),y=Math.max(v,x);if(y<g){const b=y+p,w=Math.min(g,b),j=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});_I.displayName=py;var EI="SelectGroup",[hH,mH]=Tc(EI),pH=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=da();return s.jsx(hH,{scope:r,id:a,children:s.jsx(xe.div,{role:"group","aria-labelledby":a,...n,ref:t})})});pH.displayName=EI;var kI="SelectLabel",PI=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=mH(kI,r);return s.jsx(xe.div,{id:a.id,...n,ref:t})});PI.displayName=kI;var km="SelectItem",[gH,CI]=Tc(km),AI=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Li(km,r),c=$i(km,r),u=l.value===n,[d,f]=m.useState(i??""),[h,p]=m.useState(!1),g=Te(t,b=>c.itemRefCallback?.(b,n,a)),v=da(),x=m.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(gH,{scope:r,value:n,disabled:a,textId:v,isSelected:u,onItemTextChange:m.useCallback(b=>{f(w=>w||(b?.textContent??"").trim())},[]),children:s.jsx(ag.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(xe.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:ye(o.onFocus,()=>p(!0)),onBlur:ye(o.onBlur,()=>p(!1)),onClick:ye(o.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:ye(o.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:ye(o.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:ye(o.onPointerMove,b=>{x.current=b.pointerType,a?c.onItemLeave?.():x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(o.onPointerLeave,b=>{b.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:ye(o.onKeyDown,b=>{c.searchRef?.current!==""&&b.key===" "||(tH.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});AI.displayName=km;var bu="SelectItemText",OI=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Li(bu,r),l=$i(bu,r),c=CI(bu,r),u=aH(bu,r),[d,f]=m.useState(null),h=Te(t,y=>f(y),c.onItemTextChange,y=>l.itemTextRefCallback?.(y,c.value,c.disabled)),p=d?.textContent,g=m.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:x}=u;return Bt(()=>(v(g),()=>x(g)),[v,x,g]),s.jsxs(s.Fragment,{children:[s.jsx(xe.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Oi.createPortal(i.children,o.valueNode):null]})});OI.displayName=bu;var TI="SelectItemIndicator",II=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return CI(TI,r).isSelected?s.jsx(xe.span,{"aria-hidden":!0,...n,ref:t}):null});II.displayName=TI;var gy="SelectScrollUpButton",RI=m.forwardRef((e,t)=>{const r=$i(gy,e.__scopeSelect),n=nj(gy,e.__scopeSelect),[a,i]=m.useState(!1),o=Te(t,n.onScrollButtonChange);return Bt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(DI,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});RI.displayName=gy;var vy="SelectScrollDownButton",MI=m.forwardRef((e,t)=>{const r=$i(vy,e.__scopeSelect),n=nj(vy,e.__scopeSelect),[a,i]=m.useState(!1),o=Te(t,n.onScrollButtonChange);return Bt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(DI,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});MI.displayName=vy;var DI=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=$i("SelectScrollButton",r),o=m.useRef(null),l=ig(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Bt(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(xe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ye(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ye(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ye(a.onPointerLeave,()=>{c()})})}),vH="SelectSeparator",LI=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(xe.div,{"aria-hidden":!0,...n,ref:t})});LI.displayName=vH;var xy="SelectArrow",xH=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=og(r),i=Li(xy,r),o=$i(xy,r);return i.open&&o.position==="popper"?s.jsx(aI,{...a,...n,ref:t}):null});xH.displayName=xy;var yH="SelectBubbleInput",$I=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=m.useRef(null),i=Te(n,a),o=Uw(t);return m.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(xe.select,{...r,style:{...iI,...r.style},ref:i,defaultValue:t})});$I.displayName=yH;function FI(e){return e===""||e===void 0}function BI(e){const t=kr(e),r=m.useRef(""),n=m.useRef(0),a=m.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function UI(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=bH(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function bH(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var wH=mI,VI=gI,jH=xI,SH=yI,NH=bI,zI=wI,_H=_I,WI=PI,qI=AI,EH=OI,kH=II,KI=RI,HI=MI,YI=LI;const pr=wH,gr=jH,ar=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(VI,{ref:n,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-colors",e),...r,children:[t,s.jsx(SH,{asChild:!0,children:s.jsx(zO,{className:"h-4 w-4 opacity-50 transition-transform duration-200 ease-in-out group-data-[state=open]:rotate-180"})})]}));ar.displayName=VI.displayName;const GI=m.forwardRef(({className:e,...t},r)=>s.jsx(KI,{ref:r,className:ue("flex cursor-default items-center justify-center py-1 text-muted-foreground",e),...t,children:s.jsx(TV,{className:"h-4 w-4"})}));GI.displayName=KI.displayName;const JI=m.forwardRef(({className:e,...t},r)=>s.jsx(HI,{ref:r,className:ue("flex cursor-default items-center justify-center py-1 text-muted-foreground",e),...t,children:s.jsx(zO,{className:"h-4 w-4"})}));JI.displayName=HI.displayName;const ir=m.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(NH,{children:s.jsxs(zI,{ref:a,className:ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border/40 bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 duration-200",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(GI,{}),s.jsx(_H,{className:ue("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(JI,{})]})}));ir.displayName=zI.displayName;const PH=m.forwardRef(({className:e,...t},r)=>s.jsx(WI,{ref:r,className:ue("py-1.5 pl-8 pr-2 text-sm font-medium text-muted-foreground",e),...t}));PH.displayName=WI.displayName;const ae=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(qI,{ref:n,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent/50 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(kH,{children:s.jsx(Ho,{className:"h-4 w-4 text-primary"})})}),s.jsx(EH,{children:t})]}));ae.displayName=qI.displayName;const CH=m.forwardRef(({className:e,...t},r)=>s.jsx(YI,{ref:r,className:ue("-mx-1 my-1 h-px bg-muted",e),...t}));CH.displayName=YI.displayName;const AH=["profile_confirmation","job_assignment","job_completion","appointment_reminder","welcome_email","password_reset"],OH=[{key:"user.name",label:"User Name"},{key:"user.email",label:"User Email"},{key:"job.title",label:"Job Title"},{key:"job.date",label:"Job Date"},{key:"job.address",label:"Job Address"},{key:"landscaper.name",label:"Landscaper Name"},{key:"company.name",label:"Company Name"},{key:"company.phone",label:"Company Phone"}];function TH(){const[e,t]=m.useState([]),[r,n]=m.useState(null),[a,i]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState(""),[d,f]=m.useState(""),[h,p]=m.useState(!1),[g,v]=m.useState(!1),x=m.useCallback(async()=>{try{const{data:N,error:_}=await P.from("email_templates").select("*").order("updated_at",{ascending:!1});if(_)throw _;t(N||[])}catch(N){console.error("Error loading templates:",N)}},[]);z.useEffect(()=>{x()},[x]);const y=async()=>{if(!(!a||!o||!c)){p(!0);try{const N={name:a,type:o,subject:c,html_content:d,version:r?r.version+1:1};if(r){const{error:_}=await P.from("email_templates").update(N).eq("id",r.id);if(_)throw _}else{const{error:_}=await P.from("email_templates").insert([N]);if(_)throw _}await x()}catch(N){console.error("Error saving template:",N)}finally{p(!1)}}},b=N=>{n(N),i(N.name),l(N.type),u(N.subject),f(N.html_content)},w=()=>{n(null),i(""),l(""),u(""),f(S())},j=N=>{f(_=>_+`{{${N}}}`)},S=()=>`
<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
  <h1 style="color: #16a34a;">{{company.name}}</h1>
  <p>Hello {{user.name}},</p>
  <p>This is a notification email.</p>
  <p>Best regards,<br>The {{company.name}} Team</p>
</div>`;return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Email Template Builder"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Create and manage email templates"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsx(L,{children:"Templates"}),s.jsxs(I,{onClick:w,size:"sm",children:[s.jsx(tc,{className:"h-4 w-4 mr-2"}),"New Template"]})]}),s.jsx(T,{className:"space-y-2 max-h-96 overflow-y-auto",children:e.map(N=>s.jsxs("div",{className:"p-3 border rounded cursor-pointer hover:bg-gray-50",onClick:()=>b(N),children:[s.jsx("div",{className:"font-medium",children:N.name}),s.jsx("div",{className:"text-sm text-gray-500",children:N.type}),s.jsxs(Y,{variant:"outline",className:"text-xs",children:["v",N.version]})]},N.id))})]}),s.jsxs(C,{className:"lg:col-span-2",children:[s.jsx(M,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(L,{children:"Template Editor"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(I,{variant:"outline",onClick:()=>v(!g),children:[s.jsx(Vp,{className:"h-4 w-4 mr-2"}),g?"Edit":"Preview"]}),s.jsxs(I,{onClick:y,disabled:h,children:[s.jsx(Sw,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})}),s.jsx(T,{className:"space-y-4",children:g?s.jsx("div",{className:"border rounded-lg p-4 bg-white min-h-96",children:s.jsx("div",{dangerouslySetInnerHTML:{__html:d}})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(le,{placeholder:"Template Name",value:a,onChange:N=>i(N.target.value)}),s.jsxs(pr,{value:o,onValueChange:l,children:[s.jsx(ar,{children:s.jsx(gr,{placeholder:"Template Type"})}),s.jsx(ir,{children:AH.map(N=>s.jsx(ae,{value:N,children:N.replace("_"," ").toUpperCase()},N))})]})]}),s.jsx(le,{placeholder:"Email Subject",value:c,onChange:N=>u(N.target.value)}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Variables"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:OH.map(N=>s.jsx(Y,{variant:"outline",className:"cursor-pointer hover:bg-gray-100",onClick:()=>j(N.key),children:N.label},N.key))})]}),s.jsx(ka,{placeholder:"HTML Content",value:d,onChange:N=>f(N.target.value),rows:15,className:"font-mono text-sm"})]})})]})]})]})})}function IH(){const[e,t]=m.useState([]),[r,n]=m.useState(!0);m.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:l,error:c}=await P.from("contacts").select("*").order("created_at",{ascending:!1});if(c)throw c;t(l||[])}catch(l){console.error("Error fetching contacts:",l)}finally{n(!1)}},i=async l=>{try{const{error:c}=await P.from("contacts").delete().eq("id",l);if(c)throw c;t(e.filter(u=>u.id!==l))}catch(c){console.error("Error deleting contact:",c)}},o=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading contacts..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Panel"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage system settings and content"})]}),s.jsxs(wn,{defaultValue:"contacts",className:"space-y-6",children:[s.jsxs(Yr,{className:"grid w-full grid-cols-2",children:[s.jsxs(fe,{value:"contacts",className:"flex items-center space-x-2",children:[s.jsx($s,{className:"h-4 w-4"}),s.jsx("span",{children:"Contact Management"})]}),s.jsxs(fe,{value:"templates",className:"flex items-center space-x-2",children:[s.jsx(Us,{className:"h-4 w-4"}),s.jsx("span",{children:"Email Templates"})]})]}),s.jsx(ge,{value:"contacts",className:"space-y-6",children:s.jsx("div",{className:"grid gap-6",children:e.length===0?s.jsx(C,{children:s.jsxs(T,{className:"text-center py-12",children:[s.jsx($s,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No contacts yet"}),s.jsx("p",{className:"text-gray-600",children:"Contact form submissions will appear here."})]})}):e.map(l=>s.jsxs(C,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsx(L,{className:"text-xl font-semibold text-gray-900",children:l.name}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Y,{variant:"secondary",children:l.service_type}),s.jsx(I,{variant:"outline",size:"sm",onClick:()=>i(l.id),className:"text-red-600 hover:text-red-700",children:s.jsx(_w,{className:"h-4 w-4"})})]})]}),s.jsxs(T,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx($s,{className:"h-4 w-4"}),s.jsx("span",{children:l.email})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(jw,{className:"h-4 w-4"}),s.jsx("span",{children:l.phone})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(Vs,{className:"h-4 w-4"}),s.jsx("span",{children:l.address})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(cr,{className:"h-4 w-4"}),s.jsx("span",{children:o(l.created_at)})]})]}),l.message&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Message:"}),s.jsx("p",{className:"text-gray-700",children:l.message})]})]})]},l.id))})}),s.jsx(ge,{value:"templates",children:s.jsx(TH,{})})]})]})})}function RH(){const e=Ae(),{user:t,role:r}=kt(),[n,a]=m.useState(!1),[i,o]=m.useState(!1),[l,c]=m.useState(""),[u,d]=m.useState({email:"",password:""});m.useEffect(()=>{t&&r==="admin"&&e("/admin-dashboard",{replace:!0})},[t,r,e]);const f=async h=>{h.preventDefault(),o(!0),c("");try{const{data:p,error:g}=await P.auth.signInWithPassword({email:u.email,password:u.password});if(g)throw g;if(p.user?.user_metadata?.role!=="admin")throw await P.auth.signOut(),new Error("Access denied. Admin credentials required.");await P.from("admin_login_logs").insert({admin_id:p.user.id,email:p.user.email,ip_address:"browser",user_agent:navigator.userAgent}),e("/admin-dashboard",{replace:!0})}catch(p){c(p.message||"Login failed")}finally{o(!1)}};return s.jsxs("div",{className:"min-h-screen bg-black relative overflow-hidden",children:[s.jsx(Wn,{}),s.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8 animate-fade-in",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-red-500/30 blur-xl rounded-full animate-pulse"}),s.jsx("div",{className:"relative p-5 rounded-full bg-gradient-to-br from-red-500/20 to-red-600/20 border-2 border-red-500/40 shadow-[0_0_30px_rgba(239,68,68,0.4)]",children:s.jsx(pn,{className:"w-10 h-10 text-red-400","aria-hidden":"true"})})]})}),s.jsx("h1",{className:"text-4xl sm:text-5xl font-bold bg-gradient-to-r from-red-400 via-red-500 to-red-400 bg-clip-text text-transparent mb-3",children:"Admin Portal"}),s.jsxs("p",{className:"text-gray-300 flex items-center justify-center gap-2 text-sm sm:text-base",children:[s.jsx(h_,{className:"w-4 h-4 text-red-400","aria-hidden":"true"}),"Secure System Administration"]})]}),s.jsxs(C,{className:"relative bg-black/80 border-2 border-red-500/30 backdrop-blur-xl shadow-[0_0_40px_rgba(239,68,68,0.3)] hover:shadow-[0_0_50px_rgba(239,68,68,0.4)] hover:border-red-500/50 transition-all duration-500",children:[s.jsxs(M,{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-red-500/10 to-red-600/10 border-2 border-red-500/40 rounded-xl p-4 shadow-[0_0_20px_rgba(239,68,68,0.2)]",role:"alert","aria-live":"polite",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(it,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5","aria-hidden":"true"}),s.jsx("p",{className:"text-sm text-red-200 leading-relaxed",children:"This portal is restricted to authorized administrators only. All login attempts are logged and monitored."})]})}),s.jsxs("form",{onSubmit:f,className:"space-y-5",noValidate:!0,children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"admin-email",className:"sr-only",children:"Admin Email Address"}),s.jsx(le,{id:"admin-email",type:"email",name:"email",placeholder:"Admin Email",value:u.email,onChange:h=>d(p=>({...p,email:h.target.value})),required:!0,autoComplete:"email","aria-required":"true","aria-invalid":l?"true":"false",className:"bg-black/60 border-2 border-red-500/30 text-white placeholder:text-gray-500 focus:border-red-500/60 focus:ring-4 focus:ring-red-500/20 transition-all duration-300 h-12"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"admin-password",className:"sr-only",children:"Admin Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"admin-password",type:n?"text":"password",name:"password",placeholder:"Admin Password",value:u.password,onChange:h=>d(p=>({...p,password:h.target.value})),required:!0,autoComplete:"current-password","aria-required":"true","aria-invalid":l?"true":"false",className:"bg-black/60 border-2 border-red-500/30 text-white placeholder:text-gray-500 focus:border-red-500/60 focus:ring-4 focus:ring-red-500/20 transition-all duration-300 h-12 pr-12"}),s.jsx("button",{type:"button",onClick:()=>a(!n),"aria-label":n?"Hide password":"Show password","aria-pressed":n,className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-400 hover:text-red-300 focus:outline-none focus:ring-2 focus:ring-red-500/50 rounded-md p-1 transition-colors duration-200",children:n?s.jsx(KO,{className:"w-5 h-5","aria-hidden":"true"}):s.jsx(Vp,{className:"w-5 h-5","aria-hidden":"true"})})]})]}),s.jsx(I,{type:"submit",disabled:i,className:"w-full h-12 bg-gradient-to-r from-red-600 via-red-500 to-red-600 text-white font-bold text-base hover:from-red-700 hover:via-red-600 hover:to-red-700 hover:shadow-[0_0_30px_rgba(239,68,68,0.5)] hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 focus:ring-4 focus:ring-red-500/50","aria-busy":i,children:i?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin","aria-hidden":"true"}),"Authenticating..."]}):"Admin Sign In"})]})]}),l&&s.jsx(T,{children:s.jsx("div",{className:"bg-red-500/10 border-2 border-red-500/40 rounded-lg p-4 shadow-[0_0_15px_rgba(239,68,68,0.2)]",role:"alert","aria-live":"assertive",children:s.jsx("p",{className:"text-sm text-red-300 font-medium",children:l})})})]}),s.jsxs("p",{className:"text-center text-gray-500 text-sm mt-6 flex items-center justify-center gap-2",children:[s.jsx(h_,{className:"w-3 h-3","aria-hidden":"true"}),"Protected by enterprise-grade security"]})]})})]})}var XI=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(XI||{});class Cl{static instance;logLevel;isDevelopment;constructor(){this.isDevelopment=!1,this.logLevel=this.isDevelopment?0:2}static getInstance(){return Cl.instance||(Cl.instance=new Cl),Cl.instance}shouldLog(t){return t>=this.logLevel}formatMessage(t,r,n){const a=new Date().toISOString(),i=XI[t],o=n?`[${n}]`:"";return`${a} ${i} ${o} ${r}`}log(t,r,n,a){if(!this.shouldLog(t))return;const i=this.formatMessage(t,r,a);if(this.isDevelopment)switch(t){case 0:console.debug(i,n||"");break;case 1:console.info(i,n||"");break;case 2:console.warn(i,n||"");break;case 3:console.error(i,n||"");break}else t>=3&&this.sendToExternalService({level:t,message:r,data:n,timestamp:new Date().toISOString(),component:a})}sendToExternalService(t){try{const r=JSON.parse(sessionStorage.getItem("app_logs")||"[]");r.push(t),r.length>100&&r.splice(0,r.length-100),sessionStorage.setItem("app_logs",JSON.stringify(r))}catch{}}debug(t,r,n){this.log(0,t,r,n)}info(t,r,n){this.log(1,t,r,n)}warn(t,r,n){this.log(2,t,r,n)}error(t,r,n){this.log(3,t,r,n)}}const He=Cl.getInstance(),MH=()=>{const e=Ae(),[t,r]=m.useState(""),[n,a]=m.useState(""),[i,o]=m.useState(""),[l,c]=m.useState(!1),[u,d]=m.useState(!1),[f,h]=m.useState(!0);m.useEffect(()=>{(async()=>{try{He.debug("Processing password reset token",{hasHash:!!window.location.hash},"ResetPassword");const v=window.location.hash;if(!v){He.warn("No reset token found in URL",{},"ResetPassword"),o("No reset token found in URL"),h(!1);return}He.debug("Attempting token exchange",{},"ResetPassword");const{data:x,error:y}=await P.auth.exchangeCodeForSession(v);if(y){He.error("Token exchange failed",{error:y.message},"ResetPassword"),o("Invalid or expired reset link. Please request a new one."),h(!1);return}x.session?(He.info("Password reset session established successfully",{},"ResetPassword"),d(!0),window.history.replaceState({},document.title,window.location.pathname)):(He.warn("Failed to establish reset session",{},"ResetPassword"),o("Failed to establish session"))}catch(v){He.error("Token exchange unexpected error",{error:v.message},"ResetPassword"),o("Failed to process reset link")}finally{h(!1)}})()},[]);const p=async g=>{if(g.preventDefault(),o(""),t!==n){o("Passwords do not match");return}if(t.length<6){o("Password must be at least 6 characters");return}try{c(!0);const{error:v}=await P.auth.updateUser({password:t});if(v){He.error("Password update failed",{error:v.message},"ResetPassword"),o(v.message);return}const{data:{user:x}}=await P.auth.getUser();if(!x){o("Failed to get user information");return}const{data:y,error:b}=await P.from("profiles").select("role").eq("id",x.id).single();if(b||!y){He.warn("Profile fetch failed, redirecting to login",{error:b?.message},"ResetPassword"),alert("Password updated successfully! Please sign in with your new password."),e("/unified-login");return}switch(He.info("Password updated successfully, redirecting user",{role:y.role},"ResetPassword"),alert("Password updated successfully!"),y.role){case"client":e("/dashboard/client");break;case"landscaper":e("/dashboard/landscaper");break;case"admin":e("/dashboard/admin");break;default:e("/unified-login");break}}catch(v){He.error("Password update process failed",{error:v.message},"ResetPassword"),o("Failed to update password. Please try again.")}finally{c(!1)}};return f?s.jsx(Un,{children:s.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-300",children:"Processing reset link..."})]})})}):u?s.jsx(Un,{children:s.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:s.jsx("div",{className:"max-w-md mx-auto p-8",children:s.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-green-500/30 rounded-2xl p-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:s.jsx("span",{className:"bg-gradient-to-r from-green-400 to-green-600 bg-clip-text text-transparent",children:"Set New Password"})}),i&&s.jsx("div",{className:"text-red-400 text-sm text-center bg-red-900/20 p-3 rounded-lg border border-red-500/30 mb-6",children:i}),s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"password",className:"text-white font-medium",children:"New Password"}),s.jsx(le,{id:"password",type:"password",value:t,onChange:g=>r(g.target.value),className:"mt-2 bg-gray-800/50 border border-green-500/30 text-white h-12 rounded-lg focus:border-green-400",required:!0,minLength:6,disabled:l,placeholder:"Enter your new password"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"confirmPassword",className:"text-white font-medium",children:"Confirm Password"}),s.jsx(le,{id:"confirmPassword",type:"password",value:n,onChange:g=>a(g.target.value),className:"mt-2 bg-gray-800/50 border border-green-500/30 text-white h-12 rounded-lg focus:border-green-400",required:!0,minLength:6,disabled:l,placeholder:"Confirm your new password"})]}),s.jsx(I,{type:"submit",disabled:l,className:"w-full h-12 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold rounded-lg transition-all duration-300 disabled:opacity-50",children:l?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Updating Password..."]}):"Update Password"})]})]})})})}):s.jsx(Un,{children:s.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md mx-auto text-center p-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-red-400 mb-4",children:"Invalid Reset Link"}),s.jsx("p",{className:"text-gray-300 mb-6",children:i}),s.jsx(I,{onClick:()=>e("/forgot-password"),className:"bg-green-600 hover:bg-green-700",children:"Request New Reset Link"})]})})})};function DH({title:e,icon:t,children:r}){return s.jsxs("div",{className:"rounded-2xl border border-emerald-800/40 bg-emerald-900/10 p-4 md:p-5 backdrop-blur",children:[s.jsxs("div",{className:"mb-2 md:mb-3 flex items-center gap-2",children:[t,s.jsx("div",{className:"text-base md:text-lg font-semibold text-emerald-100",children:e})]}),r]})}function LH({status:e}){const t=String(e).toLowerCase();let r="bg-gray-500/20 text-gray-300";return t==="scheduled"?r="bg-emerald-500/20 text-emerald-300":(t==="in_progress"||t==="in progress")&&(r="bg-yellow-500/20 text-yellow-300"),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${r}`,children:t==="in_progress"?"In Progress":t.charAt(0).toUpperCase()+t.slice(1)})}function $H(){return s.jsxs("div",{className:"mt-4 md:mt-5 flex items-center gap-3 md:gap-4 text-xs md:text-sm",children:[s.jsxs("span",{className:"flex items-center gap-2 text-emerald-200/80",children:[s.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-emerald-500"})," Scheduled"]}),s.jsxs("span",{className:"flex items-center gap-2 text-emerald-200/80",children:[s.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-yellow-400"})," In Progress"]}),s.jsxs("span",{className:"flex items-center gap-2 text-emerald-200/80",children:[s.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-gray-400"})," Completed"]})]})}function QI(e){return e?new Date(e).toLocaleString(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"TBA"}function ZI(e){try{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e||0)}catch{return`$${(e||0).toFixed(2)}`}}const FH=1,BH=1e6;let gx=0;function UH(){return gx=(gx+1)%Number.MAX_SAFE_INTEGER,gx.toString()}const vx=new Map,pE=e=>{if(vx.has(e))return;const t=setTimeout(()=>{vx.delete(e),Lu({type:"REMOVE_TOAST",toastId:e})},BH);vx.set(e,t)},VH=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,FH)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?pE(r):e.toasts.forEach(n=>{pE(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Lh=[];let $h={toasts:[]};function Lu(e){$h=VH($h,e),Lh.forEach(t=>{t($h)})}function zH({...e}){const t=UH(),r=a=>Lu({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Lu({type:"DISMISS_TOAST",toastId:t});return Lu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Jn(){const[e,t]=m.useState($h);return m.useEffect(()=>(Lh.push(t),()=>{const r=Lh.indexOf(t);r>-1&&Lh.splice(r,1)}),[e]),{...e,toast:zH,dismiss:r=>Lu({type:"DISMISS_TOAST",toastId:r})}}function WH({job:e,isOpen:t,onClose:r,onUpdate:n}){const{toast:a}=Jn(),[i,o]=m.useState(e.notes||""),[l,c]=m.useState(null),[u,d]=m.useState(!1),f=async()=>{d(!0);try{const{error:p}=await P.from("jobs").update({status:"in_progress",started_at:new Date().toISOString()}).eq("id",e.id).select().single();if(p)throw p;a({title:"Job started successfully"}),n()}catch{a({title:"Failed to start job",variant:"destructive"})}finally{d(!1)}},h=async()=>{d(!0);try{const{error:p}=await P.from("jobs").update({status:"completed",completed_at:new Date().toISOString()}).eq("id",e.id).select().single();if(p)throw p;a({title:"Job completed successfully"}),n()}catch{a({title:"Failed to complete job",variant:"destructive"})}finally{d(!1)}};return t?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center md:items-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:r}),s.jsxs("div",{className:"relative w-full max-w-md rounded-t-2xl md:rounded-2xl border border-emerald-800/40 bg-emerald-900/20 p-4 md:p-5 backdrop-blur animate-in slide-in-from-bottom-full md:slide-in-from-bottom-0 duration-200",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-emerald-100",children:"Job Details"}),s.jsx(I,{onClick:r,variant:"ghost",size:"sm",children:"Close"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-emerald-100 truncate",title:e.service_name||"",children:e.service_name||"Untitled Job"}),s.jsx(LH,{status:e.status||"scheduled"})]}),s.jsxs("div",{className:"text-sm text-emerald-200/70 truncate",title:e.service_address||"",children:["📍 ",e.service_address||"Address TBA"]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-emerald-200/70",children:QI(e.preferred_date)}),s.jsx("div",{className:"text-emerald-400 font-semibold",children:ZI(e.price||0)})]}),s.jsxs("div",{className:"flex gap-2",children:[e.status!=="in_progress"&&e.status!=="completed"&&s.jsx(I,{onClick:f,disabled:u,className:"flex-1 bg-emerald-600 hover:bg-emerald-500",children:"Start Job"}),e.status!=="completed"&&s.jsx(I,{onClick:h,disabled:u,className:"flex-1 bg-emerald-600 hover:bg-emerald-500",children:"Mark Complete"})]})]})]})]}):null}const eR=()=>{const e=Vt(),[t,r]=m.useState("overview"),n=[{id:"overview",label:"Overview",icon:aa,path:"/landscaper-dashboard/overview"},{id:"jobs",label:"Jobs",icon:Ln,path:"/landscaper-dashboard/jobs",badge:3},{id:"earnings",label:"Earnings",icon:Nt,path:"/landscaper-dashboard/earnings"},{id:"profile",label:"Profile",icon:mr,path:"/landscaper-dashboard/profile"}];m.useEffect(()=>{const i=e.pathname,o=n.find(l=>l.path===i);o&&r(o.id)},[e.pathname]);const a=i=>{"vibrate"in navigator&&navigator.vibrate(50),r(i)};return s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-black/95 backdrop-blur-xl border-t border-emerald-500/20 z-50 md:hidden shadow-[0_-4px_20px_rgba(52,211,153,0.15)]",children:s.jsx("div",{className:"flex justify-around items-center py-2 px-1",children:n.map(i=>{const o=i.icon,l=t===i.id;return s.jsxs(Mn,{to:i.path,className:`flex flex-col items-center justify-center min-w-0 flex-1 py-2 px-1 rounded-lg transition-all duration-300 ${l?"text-emerald-400":"text-emerald-200/50 hover:text-emerald-300 active:bg-emerald-500/10"}`,onTouchStart:()=>a(i.id),onClick:()=>a(i.id),children:[s.jsxs("div",{className:"relative",children:[s.jsx(o,{size:24,className:`transition-all duration-300 ${l?"scale-110 drop-shadow-[0_0_8px_rgba(52,211,153,0.8)]":"scale-100"}`}),i.badge&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center shadow-lg shadow-red-500/50",children:i.badge})]}),s.jsx("span",{className:`text-xs mt-1 font-medium truncate transition-all duration-300 ${l?"text-emerald-300 drop-shadow-[0_0_4px_rgba(52,211,153,0.6)]":"text-emerald-200/50"}`,children:i.label})]},i.id)})})})};async function qH(){const{data:e}=await P.auth.getUser();return{email:e.user?.email??null,uid:e.user?.id??null}}function KH(e,t){const r=[];return e&&(r.push(`landscaper_id.eq.${e}`),r.push(`assigned_to.eq.${e}`)),t&&(r.push(`landscaper_email.eq.${t}`),r.push(`assigned_email.eq.${t}`)),r.join(",")}async function gE(){const{email:e,uid:t}=await qH(),r=KH(t,e),{data:n,error:a}=await P.from("jobs").select("id,service_name,service_type,service_address,scheduled_at,completed_at,status,price,landscaper_id,landscaper_email,assigned_to,assigned_email").or(r).order("scheduled_at",{ascending:!0});return a?[]:n||[]}function vE(){const e=new Date(Date.now()+36e5).toISOString(),t=new Date(Date.now()+3*60*60*1e3).toISOString(),r=new Date(Date.now()-24*60*60*1e3).toISOString();return[{id:"d1",title:"Weekly Lawn Care",service:"Mow Edge Blow",address:"742 Evergreen Ter",scheduled_at:e,status:"scheduled",price:85},{id:"d2",title:"Hedge Trim",service:"Shrub shaping set of 10",address:"19 Parkway Dr",scheduled_at:t,status:"scheduled",price:120},{id:"d3",title:"Mulch Install",service:"Red mulch 8 bags",address:"1215 Ivy Ridge",scheduled_at:r,status:"completed",price:260}]}function HH(){const[e,t]=Bp(),[r,n]=m.useState(!0),[a,i]=m.useState([]),[o,l]=m.useState(()=>localStorage.getItem("landscaperJobsActiveTab")||"upcoming"),[c,u]=m.useState(""),[d,f]=m.useState(()=>localStorage.getItem("landscaperJobsSortOption")||"date_asc"),[h,p]=m.useState(null),[g,v]=m.useState(!1),{toast:x}=Jn();m.useEffect(()=>{let j=!0;async function S(){n(!0);const N=await gE();j&&(i(N.length?N:vE()),n(!1))}return S(),()=>{j=!1}},[]),m.useEffect(()=>{const j=e.get("id");if(j&&a.length>0){const S=a.find(N=>N.id===j);if(S){p(S),v(!0);const N=String(S.status).toLowerCase();l(N==="completed"?"completed":"upcoming"),t({})}else x({title:"Job not found",description:"The requested job could not be found.",variant:"destructive"})}},[e,a,t,x]),m.useEffect(()=>{localStorage.setItem("landscaperJobsActiveTab",o)},[o]),m.useEffect(()=>{localStorage.setItem("landscaperJobsSortOption",d)},[d]);const y=m.useMemo(()=>{let j=a;if(o==="upcoming"?j=j.filter(S=>String(S.status).toLowerCase()!=="completed"):o==="completed"&&(j=j.filter(S=>String(S.status).toLowerCase()==="completed")),c.trim()){const S=c.toLowerCase();j=j.filter(N=>String(N.service_name||N.title||"").toLowerCase().includes(S)||String(N.service_address||N.address||"").toLowerCase().includes(S))}return j.sort((S,N)=>d==="date_asc"?(S.scheduled_at||"").localeCompare(N.scheduled_at||""):d==="date_desc"?(N.scheduled_at||"").localeCompare(S.scheduled_at||""):d==="price_desc"?(N.price||0)-(S.price||0):d==="price_asc"?(S.price||0)-(N.price||0):0),j},[a,o,c,d]),b=j=>{p(j),v(!0)},w=async()=>{const j=await gE();i(j.length?j:vE())};return s.jsxs("div",{className:"min-h-screen bg-black text-white pb-20 md:pb-0",children:[s.jsxs("div",{className:"mx-auto w-full max-w-4xl px-3 md:px-4 py-5 md:py-6",children:[s.jsxs("section",{className:"mb-4 md:mb-6",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-emerald-100",children:"Jobs"}),s.jsx("p",{className:"mt-1 text-emerald-200/70",children:"Manage and track your work"})]}),s.jsxs("section",{className:"sticky top-0 z-40 bg-black/95 backdrop-blur pb-3 mb-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:["upcoming","completed","all"].map(j=>s.jsx("button",{onClick:()=>l(j),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${o===j?"bg-emerald-600 text-white":"bg-emerald-900/20 text-emerald-200 hover:bg-emerald-800/30"}`,children:j.charAt(0).toUpperCase()+j.slice(1)},j))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{placeholder:"Search jobs...",value:c,onChange:j=>u(j.target.value),className:"flex-1 bg-emerald-900/20 border-emerald-800/40 text-white placeholder:text-emerald-200/50"}),s.jsxs(pr,{value:d,onValueChange:f,children:[s.jsx(ar,{className:"w-48 bg-emerald-900/20 border-emerald-800/40 text-white",children:s.jsx(gr,{})}),s.jsxs(ir,{className:"bg-emerald-900/90 border-emerald-800/40",children:[s.jsx(ae,{value:"date_asc",children:"Date: Soonest first"}),s.jsx(ae,{value:"date_desc",children:"Date: Latest first"}),s.jsx(ae,{value:"price_desc",children:"Price: High to low"}),s.jsx(ae,{value:"price_asc",children:"Price: Low to high"})]})]})]})]}),s.jsx("section",{className:"mb-6",children:s.jsxs(DH,{title:`${o.charAt(0).toUpperCase()+o.slice(1)} Jobs`,children:[r?s.jsx("div",{className:"py-8 text-center text-emerald-200/70",children:"Loading..."}):y.length===0?s.jsxs("div",{className:"py-8 text-center",children:[s.jsx("div",{className:"text-emerald-200/70 mb-3",children:o==="all"?"No jobs found":`No ${o} jobs`}),o!=="all"&&s.jsx(I,{onClick:()=>l("all"),variant:"secondary",size:"sm",children:"View All"})]}):s.jsx("div",{className:"divide-y divide-emerald-900/50",children:y.map(j=>s.jsxs("div",{onClick:()=>b(j),className:"flex items-center justify-between py-3 md:py-4 cursor-pointer hover:bg-emerald-900/10 rounded transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[s.jsx("div",{className:`w-2 h-2 rounded-full shrink-0 ${String(j.status).toLowerCase()==="completed"?"bg-gray-400":String(j.status).toLowerCase()==="in_progress"?"bg-yellow-400":"bg-emerald-500"}`}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"font-medium text-sm md:text-base truncate",title:j.service_name||j.title||j.service_type||"",children:j.service_name||j.title||j.service_type||"Untitled Job"}),s.jsx("div",{className:"text-xs md:text-sm text-emerald-200/70 truncate",title:j.service_address||j.address||"",children:j.service_address||j.address||"Address TBA"})]})]}),s.jsxs("div",{className:"text-right shrink-0",children:[s.jsx("div",{className:"text-xs md:text-sm text-emerald-200/70",children:QI(j.scheduled_at)}),s.jsx("div",{className:"text-emerald-400 font-semibold",children:ZI(j.price||0)})]})]},j.id))}),s.jsx($H,{})]})})]}),s.jsx(WH,{job:h,isOpen:g,onClose:()=>v(!1),onUpdate:w}),s.jsx(eR,{})]})}const YH=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(!0),[a,i]=m.useState(null),[o,l]=m.useState(null);m.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const{data:d,error:f}=await P.from("jobs").select(`
          id, customer_name, service_address, service_type, 
          preferred_date, price, selected_services, notes, status
        `).eq("status","pending").is("landscaper_id",null).order("created_at",{ascending:!1});if(f)throw f;t(d||[])}catch(d){i(d.message)}finally{n(!1)}},u=async d=>{try{l(d);const{data:{user:f}}=await P.auth.getUser();if(!f)throw new Error("Not authenticated");const{role:h}=await O4();if(h!=="landscaper")throw new Error("Only landscapers can accept jobs");const{error:p}=await P.from("jobs").update({landscaper_id:f.id,status:"accepted",updated_at:new Date().toISOString()}).eq("id",d);if(p)throw p;try{await P.functions.invoke("job-acceptance-notification",{body:{jobId:d,landscaperId:f.id}})}catch(g){console.warn("Failed to send notification:",g)}t(e.filter(g=>g.id!==d))}catch(f){i(f.message)}finally{l(null)}};return r?s.jsx(Un,{children:s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:s.jsx(Bn,{className:"h-8 w-8 animate-spin text-green-400"})})}):s.jsx(Un,{children:s.jsx("div",{className:"min-h-screen bg-black text-white py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center mb-12 text-green-400 animate-pulse",children:"New Job Requests"}),a&&s.jsxs(Be,{className:"mb-6 bg-red-900/20 border-red-500",children:[s.jsx(gt,{className:"h-4 w-4"}),s.jsx(Ue,{className:"text-red-400",children:a})]}),e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-400 text-lg",children:"No new job requests available"}),s.jsx(I,{onClick:c,className:"mt-4 bg-green-500 hover:bg-green-600 text-black",children:"Refresh"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(d=>s.jsxs(C,{className:"bg-black/80 border-2 border-green-500/30 hover:border-green-400 transition-all duration-300 hover:shadow-lg hover:shadow-green-400/20",children:[s.jsx(M,{className:"pb-4",children:s.jsx(L,{className:"text-green-400 text-xl font-bold",children:d.service_type||"General Service"})}),s.jsxs(T,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Customer:"}),s.jsx("p",{className:"text-white",children:d.customer_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Address:"}),s.jsx("p",{className:"text-white",children:d.service_address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Preferred Date:"}),s.jsx("p",{className:"text-white",children:new Date(d.preferred_date).toLocaleDateString()})]}),d.selected_services&&d.selected_services.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Services:"}),s.jsx("p",{className:"text-white text-sm",children:d.selected_services.join(", ")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Price:"}),s.jsxs("p",{className:"text-green-400 font-bold text-lg",children:["$",d.price]})]}),d.notes&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Notes:"}),s.jsx("p",{className:"text-white text-sm",children:d.notes})]}),s.jsx(I,{onClick:()=>u(d.id),disabled:o===d.id,className:"w-full bg-green-500 hover:bg-green-600 text-black font-bold py-2 px-4 rounded-lg transition-all duration-300 hover:shadow-[0_0_15px_rgba(34,197,94,0.5)] hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:o===d.id?s.jsxs(s.Fragment,{children:[s.jsx(Bn,{className:"mr-2 h-4 w-4 animate-spin"}),"Accepting..."]}):"Accept Job"})]})]},d.id))})]})})})},GH=()=>s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-2xl",children:s.jsxs("div",{className:"bg-black/60 backdrop-blur-lg border border-green-500/30 rounded-2xl p-8 shadow-2xl shadow-green-500/20",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Ne,{className:"h-16 w-16 text-green-400 animate-bounce"})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white text-center mb-6 animate-pulse",children:"Job Marked as Complete!"}),s.jsx("p",{className:"text-xl text-green-400 text-center mb-8",children:"Your update has been submitted and is now under review."}),s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx(Mn,{to:"/landscaper-dashboard",children:s.jsx(I,{className:"bg-green-500 hover:bg-green-600 text-black font-semibold px-8 py-3 rounded-xl shadow-lg shadow-green-500/30 hover:shadow-green-500/50 hover:scale-105 transition-all duration-300 text-lg",children:"Return to Dashboard"})})}),s.jsx("p",{className:"text-gray-400 text-center text-sm",children:"Thanks for helping us maintain quality landscaping experiences."})]})})});function JH({landscaperId:e,email:t,businessName:r,onComplete:n}){const[a,i]=m.useState(!1),[o,l]=m.useState(""),c=async()=>{i(!0),l("");try{const{data:u}=await P.auth.getUser(),{data:d,error:f}=await P.functions.invoke("create-stripe-connect-account",{body:{email:t,businessName:r,userId:u?.user?.id}});if(f||!d?.success)throw new Error(d?.error||"Failed to create Connect account");await P.from("landscapers").update({stripe_connect_id:d.accountId,connect_account_status:"pending"}).eq("id",e),window.location.href=d.onboardingUrl}catch(u){l(u.message),i(!1)}};return s.jsxs(C,{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Payment Setup"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Connect your bank account to receive payments for completed jobs."}),o&&s.jsxs(Be,{variant:"destructive",className:"mb-4",children:[s.jsx(gt,{className:"h-4 w-4"}),s.jsx(Ue,{children:o})]}),s.jsx(I,{onClick:c,disabled:a,className:"w-full",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Bn,{className:"mr-2 h-4 w-4 animate-spin"}),"Setting up..."]}):s.jsxs(s.Fragment,{children:[s.jsx(xa,{className:"mr-2 h-4 w-4"}),"Connect Bank Account"]})})]})}function XH(){const e=Ae(),[t]=Bp(),[r,n]=m.useState(!1),[a,i]=m.useState(""),[o,l]=m.useState(null),[c,u]=m.useState(""),[d,f]=m.useState(!1),[h,p]=m.useState({firstName:"",lastName:"",businessName:"",serviceArea:"",experience:""}),g=t.get("success")==="true";t.get("refresh"),m.useEffect(()=>{(async()=>{const{data:{user:b},error:w}=await P.auth.getUser();if(b){l(b),b.user_metadata&&p(S=>({...S,firstName:b.user_metadata.first_name||"",lastName:b.user_metadata.last_name||""}));const{data:j}=await P.from("landscapers").select("id, stripe_connect_id").eq("user_id",b.id).single();j&&(u(j.id),f(!j.stripe_connect_id))}})(),g&&setTimeout(()=>e("/landscaper-dashboard"),2e3)},[g]);const v=(y,b)=>{p(w=>({...w,[y]:b}))},x=async y=>{y.preventDefault(),n(!0),i("");try{const{data:{user:b},error:w}=await P.auth.getUser();if(w||!b)throw new Error("User not authenticated");const{data:j,error:S}=await P.from("landscapers").select("id").eq("user_id",b.id).maybeSingle();if(!j&&S&&S.code!=="PGRST116")throw S;if(j){const{error:N}=await P.from("landscapers").update({first_name:h.firstName,last_name:h.lastName,business_name:h.businessName,service_area:h.serviceArea,years_experience:h.experience}).eq("user_id",b.id);if(N)throw N}else{const{error:N}=await P.from("landscapers").insert([{user_id:b.id,first_name:h.firstName,last_name:h.lastName,business_name:h.businessName,service_area:h.serviceArea,years_experience:h.experience}]);if(N)throw N}e("/landscaper-dashboard")}catch(b){i(b.message||"An error occurred")}finally{n(!1)}};return s.jsxs(Un,{children:[s.jsx(Wn,{}),s.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 pt-24",children:s.jsxs(C,{className:"w-full max-w-2xl bg-black/90 border-2 border-green-500 shadow-2xl shadow-green-500/20",children:[s.jsxs(M,{children:[s.jsx(L,{className:"text-3xl font-bold text-green-400 text-center",children:"Complete Your Profile"}),s.jsx("p",{className:"text-gray-300 text-center",children:"Professional landscaper setup"})]}),s.jsxs(T,{children:[g&&s.jsxs(Be,{className:"mb-4 bg-green-900/50 border-green-500",children:[s.jsx(xa,{className:"h-4 w-4 text-green-400"}),s.jsx(Ue,{className:"text-green-300",children:"Payment setup complete! Redirecting to dashboard..."})]}),a&&s.jsx("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 rounded text-red-300",children:a}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"firstName",className:"text-green-400",children:"First Name"}),s.jsx(le,{id:"firstName",value:h.firstName,onChange:y=>v("firstName",y.target.value),className:"bg-gray-900 border-green-500 text-white",placeholder:"First name",required:!0})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"lastName",className:"text-green-400",children:"Last Name"}),s.jsx(le,{id:"lastName",value:h.lastName,onChange:y=>v("lastName",y.target.value),className:"bg-gray-900 border-green-500 text-white",placeholder:"Last name",required:!0})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"businessName",className:"text-green-400",children:"Business Name"}),s.jsx(le,{id:"businessName",value:h.businessName,onChange:y=>v("businessName",y.target.value),className:"bg-gray-900 border-green-500 text-white",placeholder:"Your landscaping business name",required:!0})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"serviceArea",className:"text-green-400",children:"Service Area"}),s.jsx(le,{id:"serviceArea",value:h.serviceArea,onChange:y=>v("serviceArea",y.target.value),className:"bg-gray-900 border-green-500 text-white",placeholder:"ZIP codes or areas you serve",required:!0})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"experience",className:"text-green-400",children:"Years of Experience"}),s.jsxs(pr,{onValueChange:y=>v("experience",y),required:!0,children:[s.jsx(ar,{className:"bg-gray-900 border-green-500 text-white",children:s.jsx(gr,{placeholder:"Select experience level"})}),s.jsxs(ir,{children:[s.jsx(ae,{value:"1-2",children:"1-2 years"}),s.jsx(ae,{value:"3-5",children:"3-5 years"}),s.jsx(ae,{value:"6-10",children:"6-10 years"}),s.jsx(ae,{value:"10+",children:"10+ years"})]})]})]}),d&&c&&o?.email&&s.jsx(JH,{landscaperId:c,email:o.email,businessName:h.businessName}),!d&&c&&s.jsxs("div",{className:"bg-green-900/50 border border-green-500 rounded-lg p-4",children:[s.jsx("h3",{className:"text-green-400 font-semibold mb-2",children:"✓ Payment Setup Complete"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Your bank account is connected and ready to receive payments."})]}),s.jsx(I,{type:"submit",disabled:r,className:"w-full bg-green-600 hover:bg-green-700 text-white",children:r?"Saving...":"Complete Profile Setup"})]})]})]})})]})}const QH=({jobId:e,status:t,beforeUrl:r,afterUrl:n})=>{const a=Ae(),i=t==="Completed",[o,l]=m.useState(null),[c,u]=m.useState(null),[d,f]=m.useState(!1),[h,p]=m.useState(""),[g,v]=m.useState(!1),x=async(b,w)=>{const j=`${e}/${w}/${Date.now()}-${b.name}`,{error:S}=await P.storage.from("job-photos").upload(j,b,{cacheControl:"3600",upsert:!1});if(S)throw S;const{data:N}=P.storage.from("job-photos").getPublicUrl(j);return N.publicUrl},y=async b=>{b.preventDefault(),p(""),f(!0);try{if(!o||!c)throw new Error("Please select both before and after photos");const w=await x(o,"before"),j=await x(c,"after"),{error:S}=await P.from("jobs").update({before_photo_url:w,after_photo_url:j,status:"Completed"}).eq("id",e);if(S)throw S;v(!0),a("/job-complete")}catch(w){p(w.message),v(!1)}finally{f(!1)}};return s.jsxs("div",{className:"bg-gray-900 border border-green-500/30 rounded-lg p-6 shadow-lg",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Complete Job"}),i&&s.jsxs("div",{className:"mb-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-400 font-medium",children:"Before Photo"}),r?s.jsx("img",{src:r,alt:"Before",className:"mt-2 rounded border border-green-600 w-full max-w-xs"}):s.jsx("p",{className:"text-gray-400",children:"No photo available"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-green-400 font-medium",children:"After Photo"}),n?s.jsx("img",{src:n,alt:"After",className:"mt-2 rounded border border-green-600 w-full max-w-xs"}):s.jsx("p",{className:"text-gray-400",children:"No photo available"})]})]}),!i&&s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-green-400 font-medium mb-2",children:"Before Photo *"}),s.jsx(le,{type:"file",accept:"image/*",onChange:b=>l(b.target.files?.[0]||null),className:"bg-gray-800 border-gray-700 text-white file:bg-green-500 file:text-black file:border-0 file:rounded file:px-3 file:py-1",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-green-400 font-medium mb-2",children:"After Photo *"}),s.jsx(le,{type:"file",accept:"image/*",onChange:b=>u(b.target.files?.[0]||null),className:"bg-gray-800 border-gray-700 text-white file:bg-green-500 file:text-black file:border-0 file:rounded file:px-3 file:py-1",required:!0})]}),h&&s.jsx("div",{className:`p-3 rounded ${g?"bg-green-900/30 border border-green-500/30":"bg-red-900/30 border border-red-500/30"}`,children:s.jsx("p",{className:g?"text-green-400":"text-red-400",children:h})}),s.jsx(I,{type:"submit",disabled:d||!o||!c,className:"w-full bg-green-500 hover:bg-green-400 text-black font-semibold py-3",children:d?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-black mr-2"}),"Uploading..."]}):"Submit Photos"})]})]})};var lg="Dialog",[tR]=Yn(lg),[ZH,ws]=tR(lg),rR=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=yi({prop:n,defaultProp:a??!1,onChange:i,caller:lg});return s.jsx(ZH,{scope:t,triggerRef:l,contentRef:c,contentId:da(),titleId:da(),descriptionId:da(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};rR.displayName=lg;var nR="DialogTrigger",sR=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ws(nR,r),i=Te(t,a.triggerRef);return s.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ij(a.open),...n,ref:i,onClick:ye(e.onClick,a.onOpenToggle)})});sR.displayName=nR;var sj="DialogPortal",[eY,aR]=tR(sj,{forceMount:void 0}),iR=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=ws(sj,t);return s.jsx(eY,{scope:t,forceMount:r,children:m.Children.map(n,o=>s.jsx(Gn,{present:r||i.open,children:s.jsx(rg,{asChild:!0,container:a,children:o})}))})};iR.displayName=sj;var Pm="DialogOverlay",oR=m.forwardRef((e,t)=>{const r=aR(Pm,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ws(Pm,e.__scopeDialog);return i.modal?s.jsx(Gn,{present:n||i.open,children:s.jsx(rY,{...a,ref:t})}):null});oR.displayName=Pm;var tY=Co("DialogOverlay.RemoveScroll"),rY=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ws(Pm,r);return s.jsx(sg,{as:tY,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(xe.div,{"data-state":ij(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ro="DialogContent",lR=m.forwardRef((e,t)=>{const r=aR(Ro,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ws(Ro,e.__scopeDialog);return s.jsx(Gn,{present:n||i.open,children:i.modal?s.jsx(nY,{...a,ref:t}):s.jsx(sY,{...a,ref:t})})});lR.displayName=Ro;var nY=m.forwardRef((e,t)=>{const r=ws(Ro,e.__scopeDialog),n=m.useRef(null),a=Te(t,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return rj(i)},[]),s.jsx(cR,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ye(e.onFocusOutside,i=>i.preventDefault())})}),sY=m.forwardRef((e,t)=>{const r=ws(Ro,e.__scopeDialog),n=m.useRef(!1),a=m.useRef(!1);return s.jsx(cR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),cR=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ws(Ro,r),c=m.useRef(null),u=Te(t,c);return Kw(),s.jsxs(s.Fragment,{children:[s.jsx(Jp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Gp,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ij(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(aY,{titleId:l.titleId}),s.jsx(oY,{contentRef:c,descriptionId:l.descriptionId})]})]})}),aj="DialogTitle",uR=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ws(aj,r);return s.jsx(xe.h2,{id:a.titleId,...n,ref:t})});uR.displayName=aj;var dR="DialogDescription",fR=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ws(dR,r);return s.jsx(xe.p,{id:a.descriptionId,...n,ref:t})});fR.displayName=dR;var hR="DialogClose",mR=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ws(hR,r);return s.jsx(xe.button,{type:"button",...n,ref:t,onClick:ye(e.onClick,()=>a.onOpenChange(!1))})});mR.displayName=hR;function ij(e){return e?"open":"closed"}var pR="DialogTitleWarning",[rye,gR]=R9(pR,{contentName:Ro,titleName:aj,docsSlug:"dialog"}),aY=({titleId:e})=>{const t=gR(pR),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},iY="DialogDescriptionWarning",oY=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gR(iY).contentName}}.`;return m.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},lY=rR,cY=sR,uY=iR,vR=oR,xR=lR,yR=uR,bR=fR,dY=mR;const Jo=lY,wR=cY,fY=uY,jR=m.forwardRef(({className:e,...t},r)=>s.jsx(vR,{ref:r,className:ue("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));jR.displayName=vR.displayName;const Fi=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(fY,{children:[s.jsx(jR,{}),s.jsxs(xR,{ref:n,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border/40 bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(dY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(bs,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fi.displayName=xR.displayName;const Bi=({className:e,...t})=>s.jsx("div",{className:ue("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Bi.displayName="DialogHeader";const Ui=m.forwardRef(({className:e,...t},r)=>s.jsx(yR,{ref:r,className:ue("text-lg font-semibold leading-none tracking-tight text-foreground",e),...t}));Ui.displayName=yR.displayName;const hY=m.forwardRef(({className:e,...t},r)=>s.jsx(bR,{ref:r,className:ue("text-sm text-muted-foreground",e),...t}));hY.displayName=bR.displayName;const oj=({rating:e,maxRating:t=5,size:r="md",interactive:n=!1,onRatingChange:a,className:i})=>{const o={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l=c=>{n&&a&&a(c)};return s.jsx("div",{className:ue("flex items-center gap-1",i),children:Array.from({length:t},(c,u)=>{const d=u+1,f=d<=e,h=e>u&&e<d;return s.jsx("button",{type:"button",onClick:()=>l(d),disabled:!n,className:ue(o[r],n&&"cursor-pointer hover:scale-110 transition-transform",!n&&"cursor-default"),children:s.jsx(gs,{className:ue("transition-colors",f||h?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200")})},u)})})};var SR={exports:{}},NR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac=m;function mY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pY=typeof Object.is=="function"?Object.is:mY,gY=ac.useState,vY=ac.useEffect,xY=ac.useLayoutEffect,yY=ac.useDebugValue;function bY(e,t){var r=t(),n=gY({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return xY(function(){a.value=r,a.getSnapshot=t,xx(a)&&i({inst:a})},[e,r,t]),vY(function(){return xx(a)&&i({inst:a}),e(function(){xx(a)&&i({inst:a})})},[e]),yY(r),r}function xx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pY(e,r)}catch{return!0}}function wY(e,t){return t()}var jY=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wY:bY;NR.useSyncExternalStore=ac.useSyncExternalStore!==void 0?ac.useSyncExternalStore:jY;SR.exports=NR;var _R=SR.exports;function SY(){return _R.useSyncExternalStore(NY,()=>!0,()=>!1)}function NY(){return()=>{}}var lj="Avatar",[_Y]=Yn(lj),[EY,ER]=_Y(lj),kR=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=m.useState("idle");return s.jsx(EY,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(xe.span,{...n,ref:t})})});kR.displayName=lj;var PR="AvatarImage",CR=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=ER(PR,r),l=kY(n,i),c=kr(u=>{a(u),o.onImageLoadingStatusChange(u)});return Bt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(xe.img,{...i,ref:t,src:n}):null});CR.displayName=PR;var AR="AvatarFallback",OR=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=ER(AR,r),[o,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(xe.span,{...a,ref:t}):null});OR.displayName=AR;function xE(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function kY(e,{referrerPolicy:t,crossOrigin:r}){const n=SY(),a=m.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=m.useState(()=>xE(i,e));return Bt(()=>{l(xE(i,e))},[i,e]),Bt(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var TR=kR,IR=CR,RR=OR;const MR=m.forwardRef(({className:e,size:t="md",...r},n)=>s.jsx(TR,{ref:n,className:ue("relative flex shrink-0 overflow-hidden rounded-full border border-border/30 ring-offset-background",t==="sm"&&"h-8 w-8",t==="md"&&"h-10 w-10",t==="lg"&&"h-12 w-12",t==="xl"&&"h-16 w-16",e),...r}));MR.displayName=TR.displayName;const DR=m.forwardRef(({className:e,...t},r)=>s.jsx(IR,{ref:r,className:ue("aspect-square h-full w-full object-cover",e),...t}));DR.displayName=IR.displayName;const LR=m.forwardRef(({className:e,...t},r)=>s.jsx(RR,{ref:r,className:ue("flex h-full w-full items-center justify-center rounded-full bg-muted text-muted-foreground",e),...t}));LR.displayName=RR.displayName;const PY=({review:e,canRespond:t=!1,landscaperId:r})=>{const[n,a]=m.useState(!1),[i,o]=m.useState(""),[l,c]=m.useState(!1),u=async()=>{if(!(!i.trim()||!r)){c(!0);try{const{error:f}=await P.from("reviews").update({response:i.trim(),response_date:new Date().toISOString()}).eq("id",e.id).eq("landscaper_id",r);if(f)throw f;a(!1),o(""),window.location.reload()}catch(f){console.error("Error submitting response:",f)}finally{c(!1)}}},d=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return s.jsx(C,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs(MR,{className:"w-12 h-12",children:[s.jsx(DR,{src:e.customer.avatar_url}),s.jsxs(LR,{children:[e.customer.first_name[0],e.customer.last_name[0]]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("h4",{className:"font-semibold",children:[e.customer.first_name," ",e.customer.last_name[0],"."]}),e.is_verified&&s.jsxs(Y,{variant:"secondary",className:"text-xs",children:[s.jsx(Ne,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(oj,{rating:e.rating,size:"sm"}),s.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[s.jsx(cr,{className:"w-4 h-4"}),d(e.created_at)]})]}),e.title&&s.jsx("h5",{className:"font-medium mb-2",children:e.title}),e.comment&&s.jsx("p",{className:"text-gray-700 mb-4",children:e.comment}),e.photos&&e.photos.length>0&&s.jsx("div",{className:"flex gap-2 mb-4",children:e.photos.map((f,h)=>s.jsx("img",{src:f,alt:`Review photo ${h+1}`,className:"w-20 h-20 object-cover rounded-lg cursor-pointer hover:opacity-80",onClick:()=>window.open(f,"_blank")},h))}),e.response&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ao,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Response from landscaper"}),e.response_date&&s.jsx("span",{className:"text-xs text-gray-500",children:d(e.response_date)})]}),s.jsx("p",{className:"text-sm text-gray-700",children:e.response})]}),t&&!e.response&&!n&&s.jsxs(I,{variant:"outline",size:"sm",onClick:()=>a(!0),className:"mt-3",children:[s.jsx(Ao,{className:"w-4 h-4 mr-2"}),"Respond to review"]}),n&&s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx(ka,{value:i,onChange:f=>o(f.target.value),placeholder:"Thank your customer and address any concerns...",rows:3,maxLength:500}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(I,{size:"sm",onClick:u,disabled:!i.trim()||l,children:l?"Submitting...":"Submit Response"}),s.jsx(I,{variant:"outline",size:"sm",onClick:()=>{a(!1),o("")},disabled:l,children:"Cancel"})]})]})]})]})})},CY=({jobId:e,landscaperId:t,customerId:r,onSubmit:n,onCancel:a})=>{const[i,o]=m.useState(0),[l,c]=m.useState(""),[u,d]=m.useState(""),[f,h]=m.useState([]),[p,g]=m.useState(!1),v=b=>{const w=Array.from(b.target.files||[]);h(j=>[...j,...w].slice(0,5))},x=b=>{h(w=>w.filter((j,S)=>S!==b))},y=async b=>{if(b.preventDefault(),i!==0){g(!0);try{const w=[];for(const S of f){const N=`review-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,{data:_,error:E}=await P.storage.from("job-photos").upload(`reviews/${N}`,S);if(!E&&_){const{data:{publicUrl:k}}=P.storage.from("job-photos").getPublicUrl(_.path);w.push(k)}}const{error:j}=await P.from("reviews").insert({customer_id:r,landscaper_id:t,job_id:e,rating:i,title:l.trim()||null,comment:u.trim()||null,photos:w.length>0?w:null});if(j)throw j;n()}catch(w){console.error("Error submitting review:",w)}finally{g(!1)}}};return s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Rate your experience *"}),s.jsx(oj,{rating:i,interactive:!0,onRatingChange:o,size:"lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Review title (optional)"}),s.jsx(le,{value:l,onChange:b=>c(b.target.value),placeholder:"Great work on my lawn!",maxLength:100})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tell us about your experience"}),s.jsx(ka,{value:u,onChange:b=>d(b.target.value),placeholder:"Share details about the quality of work, professionalism, timeliness...",rows:4,maxLength:1e3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add photos (optional)"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((b,w)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:URL.createObjectURL(b),alt:`Upload ${w+1}`,className:"w-20 h-20 object-cover rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>x(w),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:s.jsx(bs,{className:"w-3 h-3"})})]},w))}),f.length<5&&s.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2 border border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx(CV,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Add photos"}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:v,className:"hidden"})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(I,{type:"submit",disabled:i===0||p,className:"flex-1",children:p?"Submitting...":"Submit Review"}),s.jsx(I,{type:"button",variant:"outline",onClick:a,disabled:p,children:"Cancel"})]})]})},AY=({landscaperId:e,canWriteReview:t=!1,jobId:r,customerId:n,showAddReview:a=!1})=>{const[i,o]=m.useState([]),[l,c]=m.useState({averageRating:0,totalReviews:0,ratingBreakdown:{}}),[u,d]=m.useState(!1),[f,h]=m.useState(!0);m.useEffect(()=>{p()},[e]);const p=async()=>{try{const{data:x,error:y}=await P.from("reviews").select(`
          *,
          customer:customers(first_name, last_name, avatar_url)
        `).eq("landscaper_id",e).eq("is_approved",!0).order("created_at",{ascending:!1});if(y)throw y;o(x||[]),g(x||[])}catch(x){console.error("Error fetching reviews:",x)}finally{h(!1)}},g=x=>{if(x.length===0){c({averageRating:0,totalReviews:0,ratingBreakdown:{}});return}const y=x.length,w=x.reduce((S,N)=>S+N.rating,0)/y,j=x.reduce((S,N)=>(S[N.rating]=(S[N.rating]||0)+1,S),{});c({averageRating:w,totalReviews:y,ratingBreakdown:j})},v=()=>{d(!1),p()};return f?s.jsx("div",{className:"animate-pulse",children:"Loading reviews..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(C,{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(gs,{className:"w-8 h-8 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-3xl font-bold",children:l.averageRating.toFixed(1)})]}),s.jsx(oj,{rating:Math.round(l.averageRating)}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Based on ",l.totalReviews," reviews"]})]}),s.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(x=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"w-3",children:x}),s.jsx(gs,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${(l.ratingBreakdown[x]||0)/l.totalReviews*100}%`}})}),s.jsx("span",{className:"w-8 text-right",children:l.ratingBreakdown[x]||0})]},x))}),s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(Ks,{className:"w-8 h-8 text-green-600 mb-2"}),s.jsxs("p",{className:"text-sm text-center text-gray-600",children:[l.averageRating>=4.5?"Excellent":l.averageRating>=4?"Very Good":l.averageRating>=3.5?"Good":l.averageRating>=3?"Average":"Below Average"," rating"]})]})]}),t&&a&&s.jsx("div",{className:"mt-6 pt-6 border-t",children:s.jsxs(I,{onClick:()=>d(!0),className:"w-full",children:[s.jsx(Ao,{className:"w-4 h-4 mr-2"}),"Write a Review"]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-xl font-semibold",children:["Customer Reviews (",l.totalReviews,")"]}),i.length===0?s.jsxs(C,{className:"p-8 text-center",children:[s.jsx(Ao,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No reviews yet"})]}):i.map(x=>s.jsx(PY,{review:x},x.id))]}),s.jsx(Jo,{open:u,onOpenChange:d,children:s.jsxs(Fi,{className:"max-w-2xl",children:[s.jsx(Bi,{children:s.jsx(Ui,{children:"Write a Review"})}),r&&n&&s.jsx(CY,{jobId:r,landscaperId:e,customerId:n,onSubmit:v,onCancel:()=>d(!1)})]})})]})};function OY(){const e=Ae(),[t,r]=m.useState(null),[n,a]=m.useState([]),[i,o]=m.useState(null),[l,c]=m.useState(null),u=["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],d=5,f=g=>{const v=g.target.files?.[0];if(v){if(!u.includes(v.type)){alert("Upload must be a PDF, JPG, PNG, or Word document.");return}if(v.size>d*1024*1024){alert("File must be less than 5MB");return}o(v)}},h=g=>{const v=g.target.files?.[0];if(v){if(!u.includes(v.type)){alert("Upload must be a PDF, JPG, PNG, or Word document.");return}if(v.size>d*1024*1024){alert("File must be less than 5MB");return}c(v)}},p=async()=>{const{data:{user:g},error:v}=await P.auth.getUser();if(!g){alert("User not logged in");return}if(!i||!l){alert("Please upload both insurance and license files.");return}const x=Date.now(),y=`insurance/${g.id}-${x}-${i.name}`,b=`license/${g.id}-${x}-${l.name}`,{error:w}=await P.storage.from("landscaper-uploads").upload(y,i,{upsert:!0});if(w){alert("Error uploading insurance file."),console.error(w.message);return}const{error:j}=await P.storage.from("landscaper-uploads").upload(b,l,{upsert:!0});if(j){alert("Error uploading license file."),console.error(j.message);return}const{error:S}=await P.from("landscapers").update({insurance_file:y,license_file:b,profile_complete:!0}).eq("user_id",g.id);S?(alert("Error updating profile."),console.error(S.message)):(alert("Documents uploaded successfully. You can now access the dashboard."),e("/landscaper-dashboard",{replace:!0}))};return m.useEffect(()=>{(async()=>{const{data:{user:v},error:x}=await P.auth.getUser();if(x){console.error("Error getting user:",x.message);return}const{data:y,error:b}=await P.from("landscapers").select("*").eq("email",v.email).maybeSingle();if(!y){console.warn("No landscaper profile found for this user yet."),r(null);return}b?console.error("Error fetching landscaper:",b.message):r(y);const{data:w,error:j}=await P.from("jobs").select("*").eq("assigned_email",v.email).order("date",{ascending:!0});j?console.error("Error fetching jobs:",j.message):a(w)})()},[]),s.jsxs(Un,{children:[s.jsx(Wn,{}),s.jsxs("div",{className:"flex flex-col items-center justify-start min-h-screen px-4 pt-24",children:[s.jsxs("div",{className:"w-full max-w-3xl bg-black/80 border border-green-500 rounded-lg p-8 shadow-lg",children:[s.jsx("h1",{className:"text-3xl font-bold text-green-400 mb-6 text-center",children:"Landscaper Profile"}),t?s.jsxs("div",{className:"text-white space-y-4",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Full Name:"})," ",t.full_name]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Email:"})," ",t.email]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Business Name:"})," ",t.business_name]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Service Area:"})," ",t.service_area]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Experience:"})," ",t.years_experience," years"]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-green-400",children:"Upload Insurance File"}),s.jsx("br",{}),s.jsx("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf,.doc,.docx",onChange:f}),i&&s.jsxs("p",{className:"text-green-400 mt-1",children:["Selected: ",i.name]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-green-400",children:"Upload License File"}),s.jsx("br",{}),s.jsx("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf,.doc,.docx",onChange:h}),l&&s.jsxs("p",{className:"text-green-400 mt-1",children:["Selected: ",l.name]})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx("button",{className:"bg-green-500 text-black font-semibold px-4 py-2 rounded hover:bg-green-600 transition",onClick:p,children:"Submit Documents & Complete Profile"})}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Insurance:"})," ",t.insurance_file?s.jsx("a",{href:`${iy().url}/storage/v1/object/public/landscaper-uploads/${t.insurance_file}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 underline",children:"View Insurance File 📄"}):"❌ Not uploaded"]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"License:"})," ",t.license_file?s.jsx("a",{href:`${iy().url}/storage/v1/object/public/landscaper-uploads/${t.license_file}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 underline",children:"View License File 📄"}):"❌ Not uploaded"]})]}):s.jsx("p",{className:"text-gray-400 text-center",children:"Loading profile..."})]}),t&&s.jsxs("div",{className:"mt-8 w-full max-w-3xl bg-black/80 border border-green-500 rounded-lg p-6 shadow-lg",children:[s.jsx("h2",{className:"text-2xl text-green-400 font-semibold mb-4 text-center",children:"Upcoming Jobs"}),n.length>0?s.jsx("ul",{className:"divide-y divide-green-700",children:n.map((g,v)=>s.jsxs("li",{className:"py-6 text-white",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Date:"})," ",g.date]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Time:"})," ",g.time]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Address:"})," ",g.address]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Price:"})," $",g.price]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Status:"})," ",g.status]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upload Job Photos"}),s.jsx(QH,{jobId:g.id,status:g.status,beforeUrl:g.before_photo_url,afterUrl:g.after_photo_url})]})]},v))}):s.jsx("p",{className:"text-gray-400 text-center",children:"No upcoming jobs assigned yet."})]}),t&&s.jsx("div",{className:"mt-8 w-full max-w-3xl bg-black/80 border border-green-500 rounded-lg p-6 shadow-lg",children:s.jsx(AY,{landscaperId:t.id,canRespond:!0})})]})]})}function TY(){console.log("🏁 ClientQuoteForm component mounted/rendered");const e=Ae(),[t,r]=m.useState({name:"",email:"",phone:"",propertyAddress:"",propertySize:"",budget:"",selectedServices:[],otherService:"",date:"",comments:""}),[n,a]=m.useState(!1),[i,o]=m.useState(""),[l,c]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const{data:{user:p},error:g}=await P.auth.getUser();if(g||!p){e("/client-login");return}const{data:v}=await P.from("profiles").select("first_name, last_name, email, phone, address").eq("id",p.id).maybeSingle();r(x=>({...x,name:v?`${v.first_name||""} ${v.last_name||""}`.trim():p.user_metadata?.name||"",email:v?.email||p.email||"",phone:v?.phone||"",propertyAddress:v?.address||""}))}catch(p){console.error("Error fetching client data:",p),o("Failed to load your information. Please try again.")}finally{c(!1)}})()},[e]);const u=(h,p)=>{r(g=>({...g,[h]:p}))},d=(h,p)=>{r(g=>({...g,selectedServices:p?[...g.selectedServices,h]:g.selectedServices.filter(v=>v!==h)}))},f=async h=>{if(h.preventDefault(),console.log("🎯 STEP 1: Form submit event fired - preventDefault() called"),n){console.log("⚠️ STEP 1 BLOCKED: Submission already in progress");return}a(!0),o(""),console.log("🎯 STEP 2: Loading state set to TRUE");const p=setTimeout(()=>{console.error("🚨 FAILSAFE TRIGGERED: Resetting loading state after 15s"),a(!1),o("Request timed out. Please try again or contact support.")},15e3);if(t.selectedServices.length===0&&!t.otherService){console.log("❌ STEP 2 FAILED: No services selected"),o("Please select at least one service."),a(!1),clearTimeout(p);return}console.log("🎯 STEP 3: Validation passed - starting submission"),console.log("🔍 Environment check:",{mode:"production",supabaseUrl:"https://mwvcbedvnimabfwubazz.supabase.co",hasAnonKey:!0,urlLength:40});try{const g=[...t.selectedServices];t.otherService&&g.push(t.otherService),console.log("🎯 STEP 4: Inserting quote to database...");const v=Date.now(),x=P.from("quote_requests").insert({name:t.name,email:t.email,phone:t.phone||null,property_address:t.propertyAddress,services:g,preferred_date:t.date||null,comments:t.comments||null,status:"pending"}).select().single(),y=new Promise((_,E)=>setTimeout(()=>E(new Error("Database timeout after 8s")),8e3)),{data:b,error:w}=await Promise.race([x,y]),j=Date.now()-v;if(console.log(`🎯 STEP 5: Database operation completed in ${j}ms`),w)throw console.error("❌ STEP 5 FAILED: Database error:",w),new Error(`Failed to save quote: ${w.message}`);if(!b)throw console.error("❌ STEP 5 FAILED: No data returned from database"),new Error("Failed to save quote: No data returned");console.log("✅ STEP 5 SUCCESS: Quote saved with ID:",b.id);const S="https://mwvcbedvnimabfwubazz.supabase.co",N="sb_publishable_test_placeholder";if(console.log("🎯 STEP 6: Checking environment variables for email..."),console.log("📋 Environment variables status:",{supabaseUrl:S||"MISSING",supabaseUrlType:typeof S,anonKeyPresent:!!N,anonKeyType:typeof N}),!(!S||!N)){console.log("✅ STEP 6: Environment variables present - proceeding with email");try{console.log("🎯 STEP 7: Preparing to send email via unified-email...");const _=Date.now(),E=`${S}/functions/v1/unified-email`;console.log("📧 Email endpoint:",E),console.log("📦 Email payload:",{type:"quote_confirmation",dataKeys:Object.keys({name:t.name,email:t.email,phone:t.phone,propertyAddress:t.propertyAddress,propertySize:t.propertySize,budget:t.budget,services:g,date:t.date,comments:t.comments})}),console.log("🚀 STEP 8: Executing fetch() call to unified-email...");const k=await fetch(E,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`,apikey:N},body:JSON.stringify({type:"quote_confirmation",data:{name:t.name,email:t.email,phone:t.phone,propertyAddress:t.propertyAddress,propertySize:t.propertySize,budget:t.budget,services:g,date:t.date,comments:t.comments}})}),A=Date.now()-_;console.log(`✅ STEP 8 SUCCESS: fetch() completed in ${A}ms`),console.log("📬 Email response status:",k.status),console.log("📬 Email response ok:",k.ok);const R=await k.json();console.log("📬 Email response data:",R),k.ok?console.log("✅ STEP 9: Email sent successfully"):console.warn("⚠️ STEP 9: Email failed but continuing (non-critical):",R)}catch(_){console.error("❌ STEP 8 FAILED: Email error (non-critical):",_),console.error("📋 Email error details:",{message:_ instanceof Error?_.message:"Unknown error",stack:_ instanceof Error?_.stack:void 0})}}clearTimeout(p),console.log("✅ STEP 10: Failsafe timeout cleared"),console.log("🎯 STEP 11: Navigating to /thank-you page..."),e("/thank-you"),console.log("✅ STEP 11 SUCCESS: navigate() called")}catch(g){console.error("❌ SUBMISSION FAILED - Error caught in catch block:",g),console.error("📋 Error details:",{message:g.message,stack:g.stack,name:g.name}),clearTimeout(p),o(g.message||"Failed to submit quote. Please try again or contact support.")}finally{setTimeout(()=>{a(!1),console.log("✅ FINALLY BLOCK FIRED: Loading state reset complete.")},100)}};return console.log("🔍 RENDER CHECK: handleSubmit function exists:",typeof f=="function"),console.log("🔍 RENDER CHECK: loading state:",n),console.log("🔍 RENDER CHECK: Component rendering at:",new Date().toISOString()),l?s.jsxs(Un,{children:[s.jsx(Wn,{}),s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-green-400 text-xl",children:"Loading..."})})]}):s.jsxs(Un,{children:[s.jsx(Wn,{}),s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen px-4 pt-24 pb-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx(Dw,{size:"large"})}),s.jsxs(C,{className:"w-full max-w-4xl bg-black/95 border-2 border-green-500 shadow-2xl shadow-green-500/30",children:[s.jsxs(M,{className:"text-center",children:[s.jsx(L,{className:"text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-green-600 mb-2",children:"Instant Landscaping Quote"}),s.jsx("p",{className:"text-gray-300 text-lg",children:"Tell us about your property — we'll provide a detailed quote within 24 hours."})]}),s.jsxs(T,{children:[i&&s.jsx("div",{className:"mb-6 p-4 bg-red-900/30 border-2 border-red-500 rounded-lg text-red-300",children:i}),s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"name",className:"text-green-400 font-semibold",children:"Full Name *"}),s.jsx(le,{id:"name",type:"text",required:!0,value:t.name,onChange:h=>u("name",h.target.value),className:"bg-gray-900/80 border-green-500 text-white"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"email",className:"text-green-400 font-semibold",children:"Email Address *"}),s.jsx(le,{id:"email",type:"email",required:!0,value:t.email,onChange:h=>u("email",h.target.value),className:"bg-gray-900/80 border-green-500 text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"phone",className:"text-green-400 font-semibold",children:"Phone Number"}),s.jsx(le,{id:"phone",type:"tel",value:t.phone,onChange:h=>u("phone",h.target.value),className:"bg-gray-900/80 border-green-500 text-white",placeholder:"(123) 456-7890"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"date",className:"text-green-400 font-semibold",children:"Preferred Start Date"}),s.jsx(le,{id:"date",type:"date",value:t.date,onChange:h=>u("date",h.target.value),className:"bg-gray-900/80 border-green-500 text-white"})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"propertyAddress",className:"text-green-400 font-semibold",children:"Property Address *"}),s.jsx(le,{id:"propertyAddress",type:"text",required:!0,value:t.propertyAddress,onChange:h=>u("propertyAddress",h.target.value),className:"bg-gray-900/80 border-green-500 text-white",placeholder:"606 NC Music Factory Blvd"})]}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-green-400 font-semibold mb-4 block text-lg",children:"Services Needed *"}),s.jsx("div",{className:"bg-gray-900/50 border border-green-500/50 rounded-lg p-6",children:s.jsx(A4,{selectedServices:t.selectedServices,otherService:t.otherService,onServiceChange:d,onOtherServiceChange:h=>u("otherService",h)})})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"comments",className:"text-green-400 font-semibold",children:"Project Details & Special Requests"}),s.jsx(ka,{id:"comments",value:t.comments,onChange:h=>u("comments",h.target.value),className:"bg-gray-900/80 border-green-500 text-white min-h-[100px]",placeholder:"Tell us about your vision, property size, timeline, budget range, or any special requirements..."})]}),s.jsx(I,{type:"submit",disabled:n,onClick:h=>{console.log("🖱️ BUTTON CLICKED - Direct onClick handler fired"),console.log("🖱️ Button type:",h.currentTarget.type),console.log("🖱️ Loading state at click:",n),console.log("🖱️ Form element:",h.currentTarget.form)},className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 text-white font-bold py-4 px-8 rounded-lg shadow-lg shadow-green-500/30 hover:shadow-green-500/50 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:n?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-3"}),"Submitting Quote Request..."]}):"Get My Free Quote"}),s.jsx("p",{className:"text-center text-gray-400 text-sm mt-4",children:"* Required fields. We'll respond with your personalized quote within 24 hours."})]})]})]})]})]})}var IY={};class RY{config={failureThreshold:100,ipThreshold:15,rateLimitThreshold:10,checkInterval:5};monitoringActive=!1;intervalId=null;async startMonitoring(){if(this.monitoringActive){console.log("Monitoring already active");return}this.monitoringActive=!0,console.log("Starting Stripe key monitoring..."),this.intervalId=setInterval(async()=>{await this.performSecurityCheck()},this.config.checkInterval*60*1e3),await this.performSecurityCheck()}stopMonitoring(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.monitoringActive=!1,console.log("Stripe key monitoring stopped")}async performSecurityCheck(){try{const t=await this.detectCompromiseIndicators();t.length>0&&await this.handleSecurityIncident(t),await this.logMonitoringActivity(t)}catch(t){console.error("Security check failed:",t)}}async detectCompromiseIndicators(){const t=[],r=new Date(Date.now()-864e5).toISOString();try{const{data:n}=await P.from("stripe_api_logs").select("*").gte("created_at",r);if(!n)return t;const a=n.filter(u=>u.status>=400);a.length>this.config.failureThreshold&&t.push({type:"high_failure_rate",severity:a.length>this.config.failureThreshold*2?"critical":"high",count:a.length,details:{threshold:this.config.failureThreshold,timeframe:"24 hours"}});const i=new Set(n.map(u=>u.ip_address)).size;i>this.config.ipThreshold&&t.push({type:"unusual_ip_activity",severity:i>this.config.ipThreshold*2?"high":"medium",count:i,details:{threshold:this.config.ipThreshold,timeframe:"24 hours"}});const o=n.filter(u=>u.status===429);o.length>this.config.rateLimitThreshold&&t.push({type:"rate_limit_exceeded",severity:"medium",count:o.length,details:{threshold:this.config.rateLimitThreshold,timeframe:"24 hours"}});const l=n.map(u=>u.ip_location).filter(Boolean),c=new Set(l.map(u=>u.split(",").pop()?.trim())).size;c>5&&t.push({type:"geographic_anomaly",severity:c>10?"high":"medium",count:c,details:{countries:Array.from(new Set(l.map(u=>u.split(",").pop()?.trim()))),timeframe:"24 hours"}})}catch(n){console.error("Error detecting compromise indicators:",n)}return t}async handleSecurityIncident(t){const r=t.filter(a=>a.severity==="critical"),n=t.filter(a=>a.severity==="high");for(const a of t)await P.from("stripe_compromise_alerts").insert({alert_type:a.type,severity:a.severity,details:a,resolved:!1});r.length>0?(console.log("Critical security incident detected, initiating automatic key rotation"),await this.initiateKeyRotation("Automated: Critical security incident detected")):n.length>=2&&(console.log("Multiple high-severity incidents detected, initiating automatic key rotation"),await this.initiateKeyRotation("Automated: Multiple high-severity security incidents")),await this.sendSecurityAlert(t)}async initiateKeyRotation(t){try{const{data:r,error:n}=await P.functions.invoke("stripe-key-rotation-manager",{body:{action:"rotate_keys",reason:t,environment:"production"}});n?(console.error("Key rotation failed:",n),await this.logRotationFailure(t,n.message)):console.log("Key rotation successful:",r)}catch(r){console.error("Key rotation error:",r),await this.logRotationFailure(t,String(r))}}async sendSecurityAlert(t){const r=t.filter(a=>a.severity==="critical").length,n=t.filter(a=>a.severity==="high").length;await P.functions.invoke("send-admin-notification",{body:{type:"security_alert",subject:`Stripe Security Alert - ${r} Critical, ${n} High Severity`,message:"Suspicious activity detected on Stripe API keys",details:{indicators:t,total_alerts:t.length,critical_count:r,high_count:n,timestamp:new Date().toISOString()}}})}async logMonitoringActivity(t){console.log(`Security check completed: ${t.length} indicators found`)}async logRotationFailure(t,r){await P.from("stripe_key_rotation_logs").insert({event_type:"rotation_failed",old_key_hint:IY.STRIPE_SECRET_KEY?.substring(0,8)+"***"||"unknown",new_key_hint:"",reason:`${t} - Failed: ${r}`,environment:"production"})}updateConfig(t){this.config={...this.config,...t},console.log("Monitoring configuration updated:",this.config)}getConfig(){return{...this.config}}isMonitoring(){return this.monitoringActive}}const yE=new RY;function MY(){const[e,t]=m.useState([]),[r,n]=m.useState([]),[a,i]=m.useState(!1),[o,l]=m.useState(null);m.useEffect(()=>{c(),u(),d()},[]);const c=async()=>{const{data:v}=await P.from("stripe_key_rotation_logs").select("*").order("timestamp",{ascending:!1}).limit(10);v&&t(v)},u=async()=>{const{data:v}=await P.from("stripe_compromise_alerts").select("*").eq("resolved",!1).order("created_at",{ascending:!1});v&&n(v)},d=()=>{const v=setInterval(async()=>{await f(),l(new Date)},3e5);return()=>clearInterval(v)},f=async()=>{try{const{data:v}=await P.functions.invoke("stripe-key-rotation-manager",{body:{action:"check_compromise"}});if(v?.compromise_detected){for(const x of v.indicators)await P.from("stripe_compromise_alerts").insert({alert_type:x.type,severity:x.severity,details:x});u(),v.indicators.some(x=>x.severity==="critical")&&await h("Automated: Critical compromise detected")}}catch(v){console.error("Error checking for compromise:",v)}},h=async v=>{i(!0);try{const{data:x}=await P.functions.invoke("stripe-key-rotation-manager",{body:{action:"rotate_keys",reason:v,environment:"production"}});x?.success&&(c(),alert("Keys rotated successfully! Please update your environment variables."))}catch(x){console.error("Key rotation failed:",x),alert("Key rotation failed. Please check logs.")}finally{i(!1)}},p=async v=>{await P.from("stripe_compromise_alerts").update({resolved:!0,resolved_at:new Date().toISOString()}).eq("id",v),u()},g=v=>{switch(v){case"critical":return"destructive";case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"secondary"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Stripe Key Security"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage API key security"})]}),s.jsxs(I,{onClick:()=>h("Manual rotation"),disabled:a,className:"flex items-center gap-2",children:[s.jsx(Iu,{className:"h-4 w-4"}),a?"Rotating...":"Rotate Keys"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Security Status"}),s.jsx(pn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(T,{children:s.jsx("div",{className:"flex items-center gap-2",children:r.length===0?s.jsxs(s.Fragment,{children:[s.jsx(Ne,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm text-green-600",children:"Secure"})]}):s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"h-4 w-4 text-red-500"}),s.jsxs("span",{className:"text-sm text-red-600",children:[r.length," Alert",r.length!==1?"s":""]})]})})})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Last Rotation"}),s.jsx(vm,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(T,{children:s.jsx("div",{className:"text-sm",children:e[0]?new Date(e[0].timestamp).toLocaleDateString():"Never"})})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Last Check"}),s.jsx(it,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(T,{children:s.jsx("div",{className:"text-sm",children:o?o.toLocaleTimeString():"Starting..."})})]})]}),r.length>0&&s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(it,{className:"h-5 w-5 text-red-500"}),"Security Alerts"]}),s.jsx(Le,{children:"Active security alerts requiring attention"})]}),s.jsx(T,{className:"space-y-4",children:r.map(v=>s.jsx(Be,{children:s.jsxs(Ue,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Y,{variant:g(v.severity),children:v.severity}),s.jsx("span",{children:v.alert_type.replace("_"," ")}),v.details?.count&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",v.details.count," incidents)"]})]}),s.jsx(I,{size:"sm",variant:"outline",onClick:()=>p(v.id),children:"Resolve"})]})},v.id))})]}),s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsx(L,{children:"Rotation History"}),s.jsx(Le,{children:"Recent key rotation events"})]}),s.jsx(T,{children:s.jsxs("div",{className:"space-y-4",children:[e.map(v=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:v.reason}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(v.timestamp).toLocaleString()," • ",v.environment]})]}),s.jsx(Y,{variant:v.event_type==="rotation"?"default":"destructive",children:v.event_type})]},v.id)),e.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No rotation history available"})]})})]})]})}function DY(){const[e,t]=m.useState([]),[r,n]=m.useState("greenscape-lux.vercel.app"),[a,i]=m.useState(!1),[o,l]=m.useState("idle"),[c,u]=m.useState(""),d=async()=>{i(!0),l("idle");try{const p=await(await fetch("/api/supabase/functions/stripe-production-webhook-setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({domain:r})})).json();if(p.success)t(p.webhooks),l("success"),u("Production webhooks configured successfully!");else throw new Error(p.error)}catch(h){l("error"),u(h instanceof Error?h.message:"Configuration failed")}finally{i(!1)}},f=["payment_intent.succeeded","customer.subscription.updated","invoice.payment_succeeded"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-5 w-5"}),"Stripe Production Configuration"]}),s.jsx(Le,{children:"Configure live Stripe webhooks for production payment processing"})]}),s.jsxs(T,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"domain",children:"Production Domain"}),s.jsx(le,{id:"domain",value:r,onChange:h=>n(h.target.value),placeholder:"your-domain.vercel.app"})]}),s.jsx(I,{onClick:d,disabled:a,className:"w-full",children:a?"Configuring...":"Configure Production Webhooks"}),o!=="idle"&&s.jsxs(Be,{className:o==="success"?"border-green-200":"border-red-200",children:[s.jsx(it,{className:"h-4 w-4"}),s.jsx(Ue,{children:c})]})]})]}),s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(WV,{className:"h-5 w-5"}),"Webhook Endpoints"]}),s.jsx(Le,{children:"Production webhook endpoints for payment processing"})]}),s.jsx(T,{children:s.jsx("div",{className:"space-y-4",children:e.length>0?e.map(h=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:h.url}),s.jsx(Y,{variant:h.status==="active"?"default":"secondary",children:h.status})]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:h.events.map(p=>s.jsx(Y,{variant:"outline",className:"text-xs",children:p},p))})]},h.id)):s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No webhooks configured yet"})})})]}),s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsx(L,{children:"Required Events"}),s.jsx(Le,{children:"Essential webhook events for payment processing"})]}),s.jsx(T,{children:s.jsx("div",{className:"space-y-2",children:f.map(h=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ne,{className:"h-4 w-4 text-green-500"}),s.jsx("code",{className:"text-sm",children:h})]},h))})})]})]})}var cj="Progress",uj=100,[LY]=Yn(cj),[$Y,FY]=LY(cj),$R=m.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=BY,...o}=e;(a||a===0)&&!bE(a)&&console.error(UY(`${a}`,"Progress"));const l=bE(a)?a:uj;n!==null&&!wE(n,l)&&console.error(VY(`${n}`,"Progress"));const c=wE(n,l)?n:null,u=Cm(c)?i(c,l):void 0;return s.jsx($Y,{scope:r,value:c,max:l,children:s.jsx(xe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Cm(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":UR(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});$R.displayName=cj;var FR="ProgressIndicator",BR=m.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=FY(FR,r);return s.jsx(xe.div,{"data-state":UR(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});BR.displayName=FR;function BY(e,t){return`${Math.round(e/t*100)}%`}function UR(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Cm(e){return typeof e=="number"}function bE(e){return Cm(e)&&!isNaN(e)&&e>0}function wE(e,t){return Cm(e)&&!isNaN(e)&&e<=t&&e>=0}function UY(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${uj}\`.`}function VY(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${uj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var VR=$R,zY=BR;const yo=m.forwardRef(({className:e,value:t,variant:r="default",...n},a)=>s.jsx(VR,{ref:a,className:ue("relative h-2 w-full overflow-hidden rounded-full bg-secondary/40",e),...n,children:s.jsx(zY,{className:ue("h-full w-full flex-1 transition-all duration-300 ease-in-out",r==="default"&&"bg-primary",r==="success"&&"bg-green-500",r==="warning"&&"bg-yellow-500",r==="error"&&"bg-destructive"),style:{transform:`translateX(-${100-(t||0)}%)`}})}));yo.displayName=VR.displayName;const yy=()=>{const[e,t]=m.useState({database:"healthy",webhooks:"healthy",stripe:"healthy",edgeFunctions:"healthy",uptime:99.9,responseTime:150,errorRate:.1}),[r,n]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(new Date);m.useEffect(()=>{c();const f=setInterval(c,6e4);return()=>clearInterval(f)},[]);const c=async()=>{try{i(!0);const f=Date.now(),{error:h}=await P.from("payments").select("count").limit(1),p=Date.now()-f,{data:g}=await P.from("webhook_logs").select("*").gte("created_at",new Date(Date.now()-24*60*60*1e3).toISOString()),{data:v}=await P.from("edge_function_errors").select("*").gte("created_at",new Date(Date.now()-24*60*60*1e3).toISOString()),x=g?.filter(N=>N.status==="error").length||0,y=g?.length||1,b=x/y*100,w=v?.length||0;t({database:h?"critical":p>1e3?"warning":"healthy",webhooks:b>10?"critical":b>5?"warning":"healthy",stripe:"healthy",edgeFunctions:w>10?"critical":w>5?"warning":"healthy",uptime:99.9-w*.1,responseTime:p,errorRate:b});const S=["stripe-webhook","payment-notifications","subscription-updates"].map(N=>({endpoint:N,status:Math.random()>.1?"active":"error",lastSuccess:new Date(Date.now()-Math.random()*36e5).toISOString(),errorCount:Math.floor(Math.random()*5)}));n(S),l(new Date)}catch(f){console.error("Error checking system health:",f)}finally{i(!1)}},u=f=>{switch(f){case"healthy":return"text-green-600 bg-green-50";case"warning":return"text-yellow-600 bg-yellow-50";case"critical":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},d=f=>{switch(f){case"healthy":return s.jsx(Ne,{className:"h-4 w-4 text-green-500"});case"warning":return s.jsx(it,{className:"h-4 w-4 text-yellow-500"});case"critical":return s.jsx(it,{className:"h-4 w-4 text-red-500"});default:return s.jsx(vi,{className:"h-4 w-4 text-gray-500"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Database"}),s.jsx(qO,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(T,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[d(e.database),s.jsx(Y,{className:u(e.database),children:e.database})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Response: ",e.responseTime,"ms"]})]})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Webhooks"}),s.jsx(xi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(T,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[d(e.webhooks),s.jsx(Y,{className:u(e.webhooks),children:e.webhooks})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Error rate: ",e.errorRate.toFixed(1),"%"]})]})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Stripe API"}),s.jsx(BV,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(T,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[d(e.stripe),s.jsx(Y,{className:u(e.stripe),children:e.stripe})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"All systems operational"})]})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Edge Functions"}),s.jsx(vi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(T,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[d(e.edgeFunctions),s.jsx(Y,{className:u(e.edgeFunctions),children:e.edgeFunctions})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Uptime: ",e.uptime.toFixed(1),"%"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"System Metrics"})}),s.jsxs(T,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{children:"Uptime"}),s.jsxs("span",{children:[e.uptime.toFixed(1),"%"]})]}),s.jsx(yo,{value:e.uptime,className:"h-2"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{children:"Response Time"}),s.jsxs("span",{children:[e.responseTime,"ms"]})]}),s.jsx(yo,{value:Math.max(0,100-e.responseTime/10),className:"h-2"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{children:"Error Rate"}),s.jsxs("span",{children:[e.errorRate.toFixed(1),"%"]})]}),s.jsx(yo,{value:Math.max(0,100-e.errorRate*10),className:"h-2"})]})]})]}),s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(L,{children:"Webhook Endpoints"}),s.jsx(I,{size:"sm",onClick:c,disabled:a,children:a?"Checking...":"Refresh"})]})}),s.jsxs(T,{children:[s.jsx("div",{className:"space-y-3",children:r.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:f.endpoint}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last success: ",new Date(f.lastSuccess).toLocaleTimeString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Y,{className:f.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:f.status}),f.errorCount>0&&s.jsxs("span",{className:"text-xs text-red-600",children:[f.errorCount," errors"]})]})]},f.endpoint))}),s.jsxs("div",{className:"mt-4 text-xs text-muted-foreground",children:["Last checked: ",o.toLocaleTimeString()]})]})]})]})]})};function jE({clients:e,landscapers:t}){const[r,n]=m.useState("clients"),[a,i]=m.useState(""),[o,l]=m.useState("all"),[c,u]=m.useState("all"),[d,f]=m.useState(null),[h,p]=m.useState(!1),{toast:g}=Jn(),v=[...e.map(N=>({...N,role:"client"})),...t.map(N=>({...N,role:"landscaper"}))],y=(o==="all"?v:o==="client"?e.map(N=>({...N,role:"client"})):t.map(N=>({...N,role:"landscaper"}))).filter(N=>{const _=N.name.toLowerCase().includes(a.toLowerCase())||N.email.toLowerCase().includes(a.toLowerCase()),E=c==="all"||N.status===c;return _&&E}),b=async N=>{f(N),p(!0)},w=async N=>{try{const{error:_}=await P.functions.invoke("unified-email",{body:{type:"password_reset",to:N.email,data:{user_email:N.email,reset_link:`${window.location.origin}/reset-password`}}});if(_)throw _;g({title:"Password Reset Sent",description:`Reset email sent to ${N.email}`})}catch(_){g({title:"Error",description:_.message||"Failed to send reset email",variant:"destructive"})}},j=async N=>{try{const{error:_}=await P.from("users").update({is_active:!1}).eq("id",N.id);if(_)throw _;g({title:"User Suspended",description:`${N.name} has been suspended`})}catch(_){g({title:"Error",description:_.message||"Failed to suspend user",variant:"destructive"})}},S=N=>({active:"bg-green-500/20 text-green-300 border-green-500/30",suspended:"bg-red-500/20 text-red-300 border-red-500/30",pending:"bg-yellow-500/20 text-yellow-300 border-yellow-500/30"})[N]||"bg-gray-500/20 text-gray-300 border-gray-500/30";return s.jsxs(s.Fragment,{children:[s.jsx(C,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl ring-1 ring-green-500/20 shadow-[0_0_25px_-10px_rgba(34,197,94,0.25)] hover:shadow-[0_0_35px_-5px_rgba(34,197,94,0.35)] transition-all duration-300 col-span-2",children:s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ec,{className:"w-5 h-5 text-green-400"}),s.jsx("h2",{className:"text-lg font-semibold text-green-300",children:"User Management"})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(I,{onClick:()=>n("clients"),className:`flex-1 rounded-full text-xs ${r==="clients"?"bg-blue-600/30 border-blue-500/50 text-blue-300":"bg-blue-600/10 hover:bg-blue-600/20 border-blue-500/20 text-blue-400"}`,children:["Clients (",e.length,")"]}),s.jsxs(I,{onClick:()=>n("landscapers"),className:`flex-1 rounded-full text-xs ${r==="landscapers"?"bg-purple-600/30 border-purple-500/50 text-purple-300":"bg-purple-600/10 hover:bg-purple-600/20 border-purple-500/20 text-purple-400"}`,children:["Landscapers (",t.length,")"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(sd,{className:"w-3 h-3 absolute left-2 top-2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:N=>i(N.target.value),className:"w-full pl-7 pr-3 py-1.5 text-xs bg-black/40 border border-gray-600 rounded-lg text-white placeholder-gray-400"})]}),s.jsxs("select",{value:o,onChange:N=>l(N.target.value),className:"text-xs bg-black/40 border border-gray-600 rounded-lg px-2 py-1 text-green-300",children:[s.jsx("option",{value:"all",children:"All Roles"}),s.jsx("option",{value:"client",children:"Clients"}),s.jsx("option",{value:"landscaper",children:"Landscapers"})]}),s.jsxs("select",{value:c,onChange:N=>u(N.target.value),className:"text-xs bg-black/40 border border-gray-600 rounded-lg px-2 py-1 text-green-300",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"suspended",children:"Suspended"}),s.jsx("option",{value:"pending",children:"Pending"})]})]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto mb-4",children:y.slice(0,4).map(N=>s.jsxs("div",{className:"rounded-xl bg-black/40 border border-gray-700/50 p-3 hover:bg-black/60 hover:border-green-500/30 transition-all duration-200 hover:shadow-[0_0_10px_rgba(34,197,94,0.2)]",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-sm font-medium text-green-300",children:N.name}),"role"in N&&s.jsx(Y,{className:`text-xs ${N.role==="client"?"bg-blue-500/20 text-blue-300 border-blue-500/30":"bg-purple-500/20 text-purple-300 border-purple-500/30"}`,children:N.role})]}),s.jsx(Y,{className:`text-xs ${S(N.status)}`,children:N.status})]}),s.jsx("div",{className:"text-xs text-gray-400",children:N.email}),s.jsx("div",{className:"text-xs text-gray-500",children:N.city||"Charlotte, NC"})]},N.id))}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[s.jsxs(I,{onClick:()=>y[0]&&b(y[0]),disabled:y.length===0,className:"rounded-full bg-green-600/20 hover:bg-green-600/30 border border-green-500/40 text-green-300 text-xs",children:[s.jsx(VV,{className:"w-3 h-3 mr-1"}),"View"]}),s.jsxs(I,{onClick:()=>y[0]&&w(y[0]),disabled:y.length===0,className:"rounded-full bg-yellow-600/20 hover:bg-yellow-600/30 border border-yellow-500/40 text-yellow-300 text-xs",children:[s.jsx(Iu,{className:"w-3 h-3 mr-1"}),"Reset"]}),s.jsxs(I,{onClick:()=>y[0]&&j(y[0]),disabled:y.length===0,className:"rounded-full bg-red-600/20 hover:bg-red-600/30 border border-red-500/40 text-red-300 text-xs",children:[s.jsx(zV,{className:"w-3 h-3 mr-1"}),"Suspend"]})]}),s.jsxs(I,{className:"w-full rounded-full bg-green-600/20 hover:bg-green-600/30 border border-green-500/40 text-green-300 text-sm hover:shadow-[0_0_15px_rgba(34,197,94,0.3)]",children:[s.jsx(Ot,{className:"w-4 h-4 mr-2"}),"Manage All Users"]})]})}),s.jsx(Jo,{open:h,onOpenChange:p,children:s.jsxs(Fi,{children:[s.jsx(Bi,{children:s.jsx(Ui,{children:"User Details"})}),d&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Name"}),s.jsx("p",{className:"text-lg",children:d.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Email"}),s.jsx("p",{children:d.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Role"}),s.jsx(Y,{children:d.role})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsx(Y,{className:S(d.status),children:d.status})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Location"}),s.jsx("p",{children:d.city||"Charlotte, NC"})]})]})]})})]})}var cg="Switch",[WY]=Yn(cg),[qY,KY]=WY(cg),zR=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=m.useState(null),g=Te(t,w=>p(w)),v=m.useRef(!1),x=h?d||!!h.closest("form"):!0,[y,b]=yi({prop:a,defaultProp:i??!1,onChange:u,caller:cg});return s.jsxs(qY,{scope:r,checked:y,disabled:l,children:[s.jsx(xe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":HR(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:ye(e.onClick,w=>{b(j=>!j),x&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),x&&s.jsx(KR,{control:h,bubbles:!v.current,name:n,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});zR.displayName=cg;var WR="SwitchThumb",qR=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=KY(WR,r);return s.jsx(xe.span,{"data-state":HR(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});qR.displayName=WR;var HY="SwitchBubbleInput",KR=m.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=m.useRef(null),l=Te(o,i),c=Uw(r),u=Vw(t);return m.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const g=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(g)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});KR.displayName=HY;function HR(e){return e?"checked":"unchecked"}var YR=zR,YY=qR;const Ga=m.forwardRef(({className:e,...t},r)=>s.jsx(YR,{className:ue("peer inline-flex h-5 w-10 shrink-0 cursor-pointer items-center rounded-full border border-transparent transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(YY,{className:ue("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-md ring-0 transition-transform duration-200 ease-in-out data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0.5 data-[state=checked]:bg-white")})}));Ga.displayName=YR.displayName;function GY({landscaper:e,onApprovalChange:t}){const[r,n]=m.useState(!1),a=e.insurance_file&&e.license_file;a&&e.approved;const i=async()=>{if(a){n(!0);try{const o=!e.approved,{error:l}=await P.from("landscapers").update({approved:o,approval_date:o?new Date().toISOString():null}).eq("id",e.id);if(l)throw l;await P.from("approval_logs").insert({landscaper_id:e.id,action:o?"approved":"revoked",timestamp:new Date().toISOString()}),t(e.id,o)}catch(o){console.error("Error updating approval status:",o)}finally{n(!1)}}};return s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium",children:[e.first_name," ",e.last_name]}),s.jsx("p",{className:"text-sm text-gray-600",children:e.email})]}),s.jsx("div",{className:"flex items-center space-x-2",children:e.approved?s.jsxs(Y,{className:"bg-green-100 text-green-800",children:[s.jsx(Ne,{className:"h-3 w-3 mr-1"}),"Approved"]}):s.jsxs(Y,{variant:"secondary",children:[s.jsx(nt,{className:"h-3 w-3 mr-1"}),"Pending"]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex space-x-4 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Us,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{className:e.insurance_file?"text-green-600":"text-red-600",children:["Insurance: ",e.insurance_file?"✓":"✗"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Us,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{className:e.license_file?"text-green-600":"text-red-600",children:["License: ",e.license_file?"✓":"✗"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[!a&&s.jsxs("div",{className:"flex items-center text-amber-600 text-sm",children:[s.jsx(gt,{className:"h-4 w-4 mr-1"}),"Missing docs"]}),s.jsx(Ga,{checked:e.approved,onCheckedChange:i,disabled:!a||r})]})]})]})}function JY(){const[e,t]=m.useState([]),[r,n]=m.useState(!0);m.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:o,error:l}=await P.from("landscapers").select("id, name, email, phone, approved, created_at, business_name, experience_years").order("created_at",{ascending:!1});if(l)throw l;t(o||[])}catch(o){console.error("Error fetching landscapers:",o)}finally{n(!1)}},i=(o,l)=>{t(c=>c.map(u=>u.id===o?{...u,approved:l,approval_date:l?new Date().toISOString():null}:u))};return r?s.jsx("div",{className:"p-4 text-white",children:"Loading landscapers..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pn,{className:"h-6 w-6 text-green-400"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Landscaper Approval System"})]}),s.jsxs("div",{className:"grid gap-4",children:[e.map(o=>s.jsx(GY,{landscaper:{id:o.id,first_name:o.first_name,last_name:o.last_name,email:o.email,approved:o.approved,insurance_file:o.insurance_file,license_file:o.license_file,documents_uploaded:o.documents_uploaded},onApprovalChange:i},o.id)),e.length===0&&s.jsx(C,{className:"bg-black/40 border-green-500/25 p-6",children:s.jsx("div",{className:"text-center text-gray-400",children:"No landscapers found. New signups will appear here for approval."})})]})]})}const dj=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ue("w-full caption-bottom text-sm",e),...t})}));dj.displayName="Table";const fj=m.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ue("[&_tr]:border-b",e),...t}));fj.displayName="TableHeader";const hj=m.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ue("[&_tr:last-child]:border-0",e),...t}));hj.displayName="TableBody";const XY=m.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ue("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));XY.displayName="TableFooter";const dd=m.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ue("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));dd.displayName="TableRow";const Ps=m.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ue("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ps.displayName="TableHead";const Cs=m.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ue("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Cs.displayName="TableCell";const QY=m.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ue("mt-4 text-sm text-muted-foreground",e),...t}));QY.displayName="TableCaption";async function ZY(e,t=100){try{let r=P.from("system_audit_logs").select("*").order("created_at",{ascending:!1}).limit(t);e?.type&&(r=r.eq("type",e.type)),e?.userId&&(r=r.eq("user_id",e.userId)),e?.startDate&&(r=r.gte("created_at",e.startDate.toISOString())),e?.endDate&&(r=r.lte("created_at",e.endDate.toISOString()));const{data:n,error:a}=await r;return a?(console.error("Failed to retrieve audit logs:",a),[]):n||[]}catch(r){return console.error("Error retrieving audit logs:",r),[]}}function eG(){const[e,t]=m.useState([]),[r,n]=m.useState(!0),[a,i]=m.useState(null);m.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0),i(null);const u=await ZY({limit:100});t(u)}catch(u){console.error("Error loading audit logs:",u),i("Failed to load system logs")}finally{n(!1)}},l=u=>new Date(u).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),c=u=>u.includes("success")||u.includes("approved")?"bg-green-500/20 text-green-300 border-green-500/30":u.includes("failed")||u.includes("error")?"bg-red-500/20 text-red-300 border-red-500/30":u.includes("logout")?"bg-yellow-500/20 text-yellow-300 border-yellow-500/30":"bg-blue-500/20 text-blue-300 border-blue-500/30";return s.jsxs(C,{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl",children:[s.jsx(M,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Us,{className:"h-6 w-6 text-emerald-400"}),s.jsxs("div",{children:[s.jsx(L,{className:"text-white",children:"System Logs"}),s.jsx(Le,{className:"text-emerald-300/70",children:"Last 100 audit events"})]})]})}),s.jsx(T,{children:r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Bn,{className:"h-8 w-8 text-emerald-400 animate-spin"})}):a?s.jsxs("div",{className:"flex items-center gap-3 text-red-400 py-8 justify-center",children:[s.jsx(gt,{className:"h-5 w-5"}),s.jsx("span",{children:a})]}):e.length===0?s.jsx("div",{className:"text-center py-12 text-gray-400",children:"No audit logs found"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(dj,{children:[s.jsx(fj,{children:s.jsxs(dd,{className:"border-emerald-500/20 hover:bg-transparent",children:[s.jsx(Ps,{className:"text-emerald-300",children:"Event Type"}),s.jsx(Ps,{className:"text-emerald-300",children:"User ID"}),s.jsx(Ps,{className:"text-emerald-300",children:"Timestamp"})]})}),s.jsx(hj,{children:e.map(u=>s.jsxs(dd,{className:"border-emerald-500/10 hover:bg-emerald-500/5",children:[s.jsx(Cs,{children:s.jsx(Y,{className:c(u.type),children:u.type})}),s.jsx(Cs,{className:"text-gray-300 font-mono text-sm",children:u.user_id||"N/A"}),s.jsx(Cs,{className:"text-gray-400 text-sm",children:l(u.created_at)})]},u.id))})]})})})]})}class mj{static instance;static getInstance(){return this.instance||(this.instance=new mj),this.instance}async validateStripeKey(t){const r={isValid:!1,keyType:"unknown",environment:"unknown",errors:[]};if(!t||typeof t!="string")return r.errors.push("Key is required and must be a string"),r;if(t.startsWith("pk_test_"))r.keyType="publishable",r.environment="test";else if(t.startsWith("pk_live_"))r.keyType="publishable",r.environment="live";else if(t.startsWith("sk_test_"))r.keyType="secret",r.environment="test";else if(t.startsWith("sk_live_"))r.keyType="secret",r.environment="live";else if(t.startsWith("whsec_"))r.keyType="webhook",r.environment="both";else return r.errors.push("Invalid Stripe key format"),r;try{const n=await P.functions.invoke("validate-stripe-key",{body:{key:t,keyType:r.keyType}});n.error?r.errors.push("Key validation failed: "+n.error.message):r.isValid=!0}catch{r.errors.push("Failed to validate key with Stripe API")}return r}async syncEnvironmentVariables(t,r){try{const{data:n,error:a}=await P.functions.invoke("sync-environment-variables",{body:{sourceEnv:t,targetEnv:r}});if(a)throw a;return n.success}catch(n){return console.error("Environment sync failed:",n),!1}}async rotateStripeKeys(t){try{const{data:r,error:n}=await P.functions.invoke("rotate-stripe-keys",{body:{environment:t}});if(n)throw n;return await this.logKeyRotation(t,"stripe_keys","success"),!0}catch(r){return await this.logKeyRotation(t,"stripe_keys","failed"),console.error("Key rotation failed:",r),!1}}async logKeyRotation(t,r,n){await P.from("stripe_key_rotation_logs").insert({environment:t,key_type:r,status:n,rotated_at:new Date().toISOString()})}async getEnvironmentStatus(t){try{const{data:r,error:n}=await P.functions.invoke("get-environment-status",{body:{environment:t}});if(n)throw n;return r}catch(r){return console.error("Failed to get environment status:",r),null}}}function tG(){const[e,t]=m.useState([]),[r,n]=m.useState(!0),[a,i]=m.useState(!1),[o,l]=m.useState(null),c=mj.getInstance();m.useEffect(()=>{u()},[]);const u=async()=>{n(!0);try{const g=["development","staging","production"],v=await Promise.all(g.map(async x=>{const y=await c.getEnvironmentStatus(x);return{environment:x,keys:y?.keys||{publishable:{status:"unknown"},secret:{status:"unknown"},webhook:{status:"unknown"}},lastSync:y?.lastSync}}));t(v)}catch(g){console.error("Failed to load environment statuses:",g)}finally{n(!1)}},d=async(g,v)=>{i(!0);try{await c.syncEnvironmentVariables(g,v)&&await u()}catch(x){console.error("Sync failed:",x)}finally{i(!1)}},f=async g=>{l(g);try{await c.rotateStripeKeys(g)&&await u()}catch(v){console.error("Rotation failed:",v)}finally{l(null)}},h=g=>{switch(g){case"valid":return"bg-green-500";case"invalid":return"bg-red-500";case"expired":return"bg-yellow-500";default:return"bg-gray-500"}},p=g=>{switch(g){case"valid":return s.jsx(Ne,{className:"h-4 w-4"});case"invalid":return s.jsx(it,{className:"h-4 w-4"});default:return s.jsx(pn,{className:"h-4 w-4"})}};return r?s.jsx(C,{children:s.jsx(T,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx(sr,{className:"h-6 w-6 animate-spin mr-2"}),"Loading environment statuses..."]})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(C,{children:s.jsxs(M,{children:[s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(vm,{className:"h-5 w-5"}),"Environment Variables Management"]}),s.jsx(Le,{children:"Manage and sync Stripe API keys across development, staging, and production environments"})]})}),s.jsxs(wn,{defaultValue:"overview",className:"space-y-4",children:[s.jsxs(Yr,{children:[s.jsx(fe,{value:"overview",children:"Overview"}),s.jsx(fe,{value:"sync",children:"Environment Sync"}),s.jsx(fe,{value:"rotation",children:"Key Rotation"})]}),s.jsx(ge,{value:"overview",className:"space-y-4",children:s.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:e.map(g=>s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs(L,{className:"capitalize flex items-center justify-between",children:[g.environment,s.jsx(Y,{variant:g.environment==="production"?"destructive":"secondary",children:g.environment==="production"?"LIVE":"TEST"})]})}),s.jsxs(T,{className:"space-y-3",children:[Object.entries(g.keys).map(([v,x])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm capitalize",children:v.replace("_"," ")}),s.jsxs("div",{className:"flex items-center gap-2",children:[p(x.status),s.jsx(Y,{className:h(x.status),children:x.status})]})]},v)),g.lastSync&&s.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Last sync: ",new Date(g.lastSync).toLocaleString()]})]})]},g.environment))})}),s.jsxs(ge,{value:"sync",className:"space-y-4",children:[s.jsxs(Be,{children:[s.jsx(Iu,{className:"h-4 w-4"}),s.jsx(Ue,{children:"Sync environment variables between environments. Always test in staging before production."})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsx(L,{children:"Development → Staging"}),s.jsx(Le,{children:"Sync test keys to staging environment"})]}),s.jsx(T,{children:s.jsxs(I,{onClick:()=>d("development","staging"),disabled:a,className:"w-full",children:[a?s.jsx(sr,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(Iu,{className:"h-4 w-4 mr-2"}),"Sync to Staging"]})})]}),s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsx(L,{children:"Staging → Production"}),s.jsx(Le,{children:"Deploy validated keys to production"})]}),s.jsx(T,{children:s.jsxs(I,{onClick:()=>d("staging","production"),disabled:a,variant:"destructive",className:"w-full",children:[a?s.jsx(sr,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(Iu,{className:"h-4 w-4 mr-2"}),"Deploy to Production"]})})]})]})]}),s.jsxs(ge,{value:"rotation",className:"space-y-4",children:[s.jsxs(Be,{children:[s.jsx(pn,{className:"h-4 w-4"}),s.jsx(Ue,{children:"Rotate API keys for security. This will generate new keys and update all environments."})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:e.map(g=>s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsx(L,{className:"capitalize",children:g.environment}),s.jsx(Le,{children:"Rotate all Stripe keys for this environment"})]}),s.jsx(T,{children:s.jsxs(I,{onClick:()=>f(g.environment),disabled:o===g.environment,variant:g.environment==="production"?"destructive":"default",className:"w-full",children:[o===g.environment?s.jsx(sr,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(vm,{className:"h-4 w-4 mr-2"}),"Rotate Keys"]})})]},g.environment))})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(I,{onClick:u,variant:"outline",children:[s.jsx(sr,{className:"h-4 w-4 mr-2"}),"Refresh Status"]})})]})}function rG(){const[e,t]=m.useState(null),[r,n]=m.useState(!1),[a,i]=m.useState([]),[o,l]=m.useState(null),c=async()=>{n(!0);try{const{data:f,error:h}=await P.functions.invoke("vercel-credentials-detector");if(h)throw h;t(f)}catch(f){console.error("Failed to detect credentials:",f)}finally{n(!1)}},u=async f=>{n(!0);try{const{data:h,error:p}=await P.functions.invoke("sync-environment-variables",{body:{environment:f,variables:{STRIPE_SECRET_KEY:"sk_test_...",VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_..."}}});if(p)throw p;l(h)}catch(h){console.error("Sync failed:",h)}finally{n(!1)}},d=async()=>{n(!0);try{const f=await P.functions.invoke("validate-stripe-key",{body:{key:"sk_test_...",type:"secret",blockDeployment:!0}}),h=await P.functions.invoke("validate-stripe-key",{body:{key:"pk_test_...",type:"publishable",blockDeployment:!0}});console.log("Validation results:",{secretValidation:f,publishableValidation:h})}catch(f){console.error("Validation failed:",f)}finally{n(!1)}};return m.useEffect(()=>{c()},[]),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Vercel Integration"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage environment variables and deployments across all environments"})]}),s.jsxs(I,{onClick:c,disabled:r,children:[s.jsx(sr,{className:`mr-2 h-4 w-4 ${r?"animate-spin":""}`}),"Refresh"]})]}),s.jsxs(wn,{defaultValue:"setup",className:"space-y-4",children:[s.jsxs(Yr,{children:[s.jsx(fe,{value:"setup",children:"Setup"}),s.jsx(fe,{value:"sync",children:"Environment Sync"}),s.jsx(fe,{value:"deployments",children:"Deployments"}),s.jsx(fe,{value:"validation",children:"Key Validation"})]}),s.jsx(ge,{value:"setup",className:"space-y-4",children:s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsx(L,{children:"Vercel Credentials Status"}),s.jsx(Le,{children:"Configure your Vercel integration credentials"})]}),s.jsx(T,{className:"space-y-4",children:e?.user?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ne,{className:"h-5 w-5 text-green-500"}),s.jsxs("span",{children:["Connected as ",e.user.name||e.user.email]})]}),e.teams&&e.teams.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Available Teams:"}),s.jsx("div",{className:"space-y-2",children:e.teams.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsx("span",{children:f.name}),s.jsx(Y,{variant:"outline",children:f.id})]},f.id))})]}),e.projects&&e.projects.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Available Projects:"}),s.jsx("div",{className:"space-y-2",children:e.projects.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsx("span",{children:f.name}),s.jsx(Y,{variant:"outline",children:f.id})]},f.id))})]})]}):s.jsxs(Be,{children:[s.jsx(it,{className:"h-4 w-4"}),s.jsx(Ue,{children:"Vercel credentials not configured. Please add VERCEL_TOKEN, VERCEL_ORG_ID, and VERCEL_PROJECT_ID to your Supabase secrets."})]})})]})}),s.jsxs(ge,{value:"sync",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsx(L,{children:"Development"}),s.jsx(Le,{children:"Sync to development environment"})]}),s.jsx(T,{children:s.jsx(I,{onClick:()=>u("development"),disabled:r,className:"w-full",children:"Sync Development"})})]}),s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsx(L,{children:"Staging"}),s.jsx(Le,{children:"Sync to staging environment"})]}),s.jsx(T,{children:s.jsx(I,{onClick:()=>u("preview"),disabled:r,className:"w-full",children:"Sync Staging"})})]}),s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsx(L,{children:"Production"}),s.jsx(Le,{children:"Sync to production environment"})]}),s.jsx(T,{children:s.jsx(I,{onClick:()=>u("production"),disabled:r,className:"w-full",variant:"destructive",children:"Sync Production"})})]})]}),o&&s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Last Sync Result"})}),s.jsx(T,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[o.success?s.jsx(Ne,{className:"h-5 w-5 text-green-500"}):s.jsx(dt,{className:"h-5 w-5 text-red-500"}),s.jsxs("span",{children:["Environment: ",o.environment]})]}),o.syncedVariables&&s.jsx("div",{children:s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Synced: ",o.syncedVariables.join(", ")]})}),o.deployment&&s.jsx("div",{children:s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Deployment: ",o.deployment.id]})})]})})]})]}),s.jsx(ge,{value:"validation",className:"space-y-4",children:s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsx(L,{children:"Stripe Key Validation"}),s.jsx(Le,{children:"Validate Stripe keys and block deployments if invalid"})]}),s.jsx(T,{children:s.jsx(I,{onClick:d,disabled:r,children:"Validate Keys"})})]})})]})]})}function nG({dispute:e,onClose:t,onUpdate:r}){const[n,a]=m.useState(""),[i,o]=m.useState(!1),l=async c=>{o(!0);try{const{error:u}=await P.from("payout_disputes").update({status:c,resolution_notes:n,resolved_at:c==="resolved"||c==="rejected"?new Date().toISOString():null}).eq("id",e.id);if(u)throw u;await P.functions.invoke("unified-email",{body:{type:"payout_dispute_status_update",to:e.landscaper.email,data:{disputeId:e.id,status:c,notes:n}}}),r(),t()}catch(u){console.error("Error updating dispute:",u)}finally{o(!1)}};return s.jsx(Jo,{open:!0,onOpenChange:t,children:s.jsxs(Fi,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Bi,{children:s.jsx(Ui,{children:"Review Dispute"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Landscaper"}),s.jsx("p",{className:"font-semibold",children:e.landscaper?.business_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.landscaper?.email})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Payout Amount"}),s.jsxs("p",{className:"font-semibold",children:["$",e.payout?.amount]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stripe ID: ",e.payout?.stripe_payout_id]})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Dispute Reason"}),s.jsx(Y,{children:e.dispute_reason.replace(/_/g," ")})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Details"}),s.jsx("p",{className:"text-sm",children:e.dispute_details})]}),e.evidence_urls?.length>0&&s.jsxs("div",{children:[s.jsx(ie,{children:"Evidence"}),s.jsx("div",{className:"space-y-2",children:e.evidence_urls.map((c,u)=>s.jsxs("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-blue-600 hover:underline",children:[s.jsx(Td,{className:"h-4 w-4"}),"Evidence ",u+1]},u))})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Resolution Notes"}),s.jsx(ka,{value:n,onChange:c=>a(c.target.value),placeholder:"Add notes about the resolution...",rows:4})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(I,{onClick:()=>l("under_review"),disabled:i,variant:"outline",children:"Mark Under Review"}),s.jsx(I,{onClick:()=>l("resolved"),disabled:i,className:"bg-green-600 hover:bg-green-700",children:"Resolve"}),s.jsx(I,{onClick:()=>l("rejected"),disabled:i,variant:"destructive",children:"Reject"})]})]})]})})}function sG(){const[e,t]=m.useState([]),[r,n]=m.useState(!0),[a,i]=m.useState(null),[o,l]=m.useState("pending");m.useEffect(()=>{c()},[o]);const c=async()=>{n(!0);const{data:d,error:f}=await P.from("payout_disputes").select(`
        *,
        landscaper:landscapers(business_name, email),
        payout:payouts(amount, stripe_payout_id)
      `).eq("status",o).order("created_at",{ascending:!1});!f&&d&&t(d),n(!1)},u=d=>({pending:"bg-yellow-500",under_review:"bg-blue-500",resolved:"bg-green-500",rejected:"bg-red-500"})[d]||"bg-gray-500";return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Payout Dispute Queue"})}),s.jsx(T,{children:s.jsxs(wn,{value:o,onValueChange:l,children:[s.jsxs(Yr,{children:[s.jsx(fe,{value:"pending",children:"Pending"}),s.jsx(fe,{value:"under_review",children:"Under Review"}),s.jsx(fe,{value:"resolved",children:"Resolved"}),s.jsx(fe,{value:"rejected",children:"Rejected"})]}),s.jsx(ge,{value:o,className:"space-y-4 mt-4",children:r?s.jsx("p",{children:"Loading disputes..."}):e.length===0?s.jsxs("p",{className:"text-muted-foreground",children:["No ",o," disputes"]}):e.map(d=>s.jsx(C,{children:s.jsx(T,{className:"pt-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Y,{className:u(d.status),children:d.status}),s.jsx("span",{className:"font-semibold",children:d.landscaper?.business_name})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Reason: ",d.dispute_reason.replace(/_/g," ")]}),s.jsxs("p",{className:"text-sm",children:["Amount: $",d.payout?.amount]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(d.created_at).toLocaleDateString()})]}),s.jsx(I,{onClick:()=>i(d),children:"Review"})]})})},d.id))})]})})]}),a&&s.jsx(nG,{dispute:a,onClose:()=>i(null),onUpdate:c})]})}function Ge(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ji(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const GR=6048e5,aG=864e5,Hf=43200,SE=1440;let iG={};function $d(){return iG}function fd(e,t){const r=$d(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Ge(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Am(e){return fd(e,{weekStartsOn:1})}function JR(e){const t=Ge(e),r=t.getFullYear(),n=ji(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Am(n),i=ji(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Am(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function NE(e){const t=Ge(e);return t.setHours(0,0,0,0),t}function Om(e){const t=Ge(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function oG(e,t){const r=NE(e),n=NE(t),a=+r-Om(r),i=+n-Om(n);return Math.round((a-i)/aG)}function lG(e){const t=JR(e),r=ji(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Am(r)}function Fh(e,t){const r=Ge(e),n=Ge(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function cG(e){return ji(e,Date.now())}function uG(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function dG(e){if(!uG(e)&&typeof e!="number")return!1;const t=Ge(e);return!isNaN(Number(t))}function fG(e,t){const r=Ge(e),n=Ge(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function hG(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function mG(e,t){return+Ge(e)-+Ge(t)}function pG(e){const t=Ge(e);return t.setHours(23,59,59,999),t}function gG(e){const t=Ge(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function vG(e){const t=Ge(e);return+pG(t)==+gG(t)}function xG(e,t){const r=Ge(e),n=Ge(t),a=Fh(r,n),i=Math.abs(fG(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Fh(r,n)===-a;vG(Ge(e))&&i===1&&Fh(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function yG(e,t,r){const n=mG(e,t)/1e3;return hG(r?.roundingMethod)(n)}function bG(e){const t=Ge(e),r=ji(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const wG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jG=(e,t,r)=>{let n;const a=wG[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function yx(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const SG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},NG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_G={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EG={date:yx({formats:SG,defaultWidth:"full"}),time:yx({formats:NG,defaultWidth:"full"}),dateTime:yx({formats:_G,defaultWidth:"full"})},kG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PG=(e,t,r,n)=>kG[e];function eu(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const CG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},AG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},OG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},TG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},IG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},RG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},MG=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},DG={ordinalNumber:MG,era:eu({values:CG,defaultWidth:"wide"}),quarter:eu({values:AG,defaultWidth:"wide",argumentCallback:e=>e-1}),month:eu({values:OG,defaultWidth:"wide"}),day:eu({values:TG,defaultWidth:"wide"}),dayPeriod:eu({values:IG,defaultWidth:"wide",formattingValues:RG,defaultFormattingWidth:"wide"})};function tu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?$G(l,f=>f.test(o)):LG(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function LG(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function $G(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function FG(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const BG=/^(\d+)(th|st|nd|rd)?/i,UG=/\d+/i,VG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zG={any:[/^b/i,/^(a|c)/i]},WG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qG={any:[/1/i,/2/i,/3/i,/4/i]},KG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},HG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},YG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},GG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},JG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},XG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},QG={ordinalNumber:FG({matchPattern:BG,parsePattern:UG,valueCallback:e=>parseInt(e,10)}),era:tu({matchPatterns:VG,defaultMatchWidth:"wide",parsePatterns:zG,defaultParseWidth:"any"}),quarter:tu({matchPatterns:WG,defaultMatchWidth:"wide",parsePatterns:qG,defaultParseWidth:"any",valueCallback:e=>e+1}),month:tu({matchPatterns:KG,defaultMatchWidth:"wide",parsePatterns:HG,defaultParseWidth:"any"}),day:tu({matchPatterns:YG,defaultMatchWidth:"wide",parsePatterns:GG,defaultParseWidth:"any"}),dayPeriod:tu({matchPatterns:JG,defaultMatchWidth:"any",parsePatterns:XG,defaultParseWidth:"any"})},XR={code:"en-US",formatDistance:jG,formatLong:EG,formatRelative:PG,localize:DG,match:QG,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ZG(e){const t=Ge(e);return oG(t,bG(t))+1}function eJ(e){const t=Ge(e),r=+Am(t)-+lG(t);return Math.round(r/GR)+1}function QR(e,t){const r=Ge(e),n=r.getFullYear(),a=$d(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=ji(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=fd(o,t),c=ji(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=fd(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function tJ(e,t){const r=$d(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=QR(e,t),i=ji(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),fd(i,t)}function rJ(e,t){const r=Ge(e),n=+fd(r,t)-+tJ(r,t);return Math.round(n/GR)+1}function ze(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const La={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ze(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ze(r+1,2)},d(e,t){return ze(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ze(e.getHours()%12||12,t.length)},H(e,t){return ze(e.getHours(),t.length)},m(e,t){return ze(e.getMinutes(),t.length)},s(e,t){return ze(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return ze(a,t.length)}},ul={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_E={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return La.y(e,t)},Y:function(e,t,r,n){const a=QR(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return ze(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):ze(i,t.length)},R:function(e,t){const r=JR(e);return ze(r,t.length)},u:function(e,t){const r=e.getFullYear();return ze(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ze(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ze(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return La.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ze(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=rJ(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):ze(a,t.length)},I:function(e,t,r){const n=eJ(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ze(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):La.d(e,t)},D:function(e,t,r){const n=ZG(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ze(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ze(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ze(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return ze(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=ul.noon:n===0?a=ul.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=ul.evening:n>=12?a=ul.afternoon:n>=4?a=ul.morning:a=ul.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return La.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):La.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ze(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ze(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):La.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):La.s(e,t)},S:function(e,t){return La.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return kE(n);case"XXXX":case"XX":return eo(n);case"XXXXX":case"XXX":default:return eo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return kE(n);case"xxxx":case"xx":return eo(n);case"xxxxx":case"xxx":default:return eo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+EE(n,":");case"OOOO":default:return"GMT"+eo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+EE(n,":");case"zzzz":default:return"GMT"+eo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ze(n,t.length)},T:function(e,t,r){const n=e.getTime();return ze(n,t.length)}};function EE(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+ze(i,2)}function kE(e,t){return e%60===0?(e>0?"-":"+")+ze(Math.abs(e)/60,2):eo(e,t)}function eo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=ze(Math.trunc(n/60),2),i=ze(n%60,2);return r+a+t+i}const PE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ZR=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},nJ=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return PE(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",PE(n,t)).replace("{{time}}",ZR(a,t))},sJ={p:ZR,P:nJ},aJ=/^D+$/,iJ=/^Y+$/,oJ=["D","DD","YY","YYYY"];function lJ(e){return aJ.test(e)}function cJ(e){return iJ.test(e)}function uJ(e,t,r){const n=dJ(e,t,r);if(console.warn(n),oJ.includes(e))throw new RangeError(n)}function dJ(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mJ=/^'([^]*?)'?$/,pJ=/''/g,gJ=/[a-zA-Z]/;function Cn(e,t,r){const n=$d(),a=n.locale??XR,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Ge(e);if(!dG(l))throw new RangeError("Invalid time value");let c=t.match(hJ).map(d=>{const f=d[0];if(f==="p"||f==="P"){const h=sJ[f];return h(d,a.formatLong)}return d}).join("").match(fJ).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:vJ(d)};if(_E[f])return{isToken:!0,value:d};if(f.match(gJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(cJ(f)||lJ(f))&&uJ(f,t,String(e));const h=_E[f[0]];return h(l,f,a.localize,u)}).join("")}function vJ(e){const t=e.match(mJ);return t?t[1].replace(pJ,"'"):e}function xJ(e,t,r){const n=$d(),a=r?.locale??n.locale??XR,i=2520,o=Fh(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o});let c,u;o>0?(c=Ge(t),u=Ge(e)):(c=Ge(e),u=Ge(t));const d=yG(u,c),f=(Om(u)-Om(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r?.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<SE){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<Hf){const g=Math.round(h/SE);return a.formatDistance("xDays",g,l)}else if(h<Hf*2)return p=Math.round(h/Hf),a.formatDistance("aboutXMonths",p,l)}if(p=xG(u,c),p<12){const g=Math.round(h/Hf);return a.formatDistance("xMonths",g,l)}else{const g=p%12,v=Math.trunc(p/12);return g<3?a.formatDistance("aboutXYears",v,l):g<9?a.formatDistance("overXYears",v,l):a.formatDistance("almostXYears",v+1,l)}}function Tm(e,t){return xJ(e,cG(e),t)}var yJ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function pj(e){if(typeof e!="string")return!1;var t=yJ;return t.includes(e)}var bJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function eM(e){if(typeof e!="string")return!1;var t=bJ;return t.includes(e)}function tM(e){return typeof e=="string"&&e.startsWith("data-")}function gn(e){var t=Object.entries(e).filter(r=>{var[n]=r;return eM(n)||tM(n)});return Object.fromEntries(t)}function Mo(e){if(e==null)return null;if(m.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return gn(t)}return typeof e=="object"&&!Array.isArray(e)?gn(e):null}function Dr(e){var t=Object.entries(e).filter(r=>{var[n]=r;return eM(n)||tM(n)||pj(n)});return Object.fromEntries(t)}function wJ(e){return e==null?null:m.isValidElement(e)?Dr(e.props):typeof e=="object"&&!Array.isArray(e)?Dr(e):null}var jJ=["children","width","height","viewBox","className","style","title","desc"];function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},by.apply(null,arguments)}function SJ(e,t){if(e==null)return{};var r,n,a=NJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gj=m.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:c,desc:u}=e,d=SJ(e,jJ),f=i||{width:n,height:a,x:0,y:0},h=Ie("recharts-surface",o);return m.createElement("svg",by({},Dr(d),{className:h,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),m.createElement("title",null,c),m.createElement("desc",null,u),r)}),_J=["children","className"];function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(null,arguments)}function EJ(e,t){if(e==null)return{};var r,n,a=kJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yr=m.forwardRef((e,t)=>{var{children:r,className:n}=e,a=EJ(e,_J),i=Ie("recharts-layer",n);return m.createElement("g",wy({className:i},Dr(a),{ref:t}),r)}),rM=m.createContext(null),PJ=()=>m.useContext(rM);function tt(e){return function(){return e}}const nM=Math.cos,Im=Math.sin,js=Math.sqrt,Rm=Math.PI,ug=2*Rm,jy=Math.PI,Sy=2*jy,to=1e-6,CJ=Sy-to;function sM(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function AJ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return sM;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class OJ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?sM:AJ(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>to)if(!(Math.abs(f*c-u*d)>to)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=a-l,v=c*c+u*u,x=p*p+g*g,y=Math.sqrt(v),b=Math.sqrt(h),w=i*Math.tan((jy-Math.acos((v+h-x)/(2*y*b)))/2),j=w/b,S=w/y;Math.abs(j-1)>to&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>to||Math.abs(this._y1-d)>to)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Sy+Sy),h>CJ?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>to&&this._append`A${n},${n},0,${+(h>=jy)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function vj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new OJ(t)}function xj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function aM(e){this._context=e}aM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function dg(e){return new aM(e)}function iM(e){return e[0]}function oM(e){return e[1]}function lM(e,t){var r=tt(!0),n=null,a=dg,i=null,o=vj(l);e=typeof e=="function"?e:e===void 0?iM:tt(e),t=typeof t=="function"?t:t===void 0?oM:tt(t);function l(c){var u,d=(c=xj(c)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:tt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:tt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:tt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Yf(e,t,r){var n=null,a=tt(!0),i=null,o=dg,l=null,c=vj(u);e=typeof e=="function"?e:e===void 0?iM:tt(+e),t=typeof t=="function"?t:tt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?oM:tt(+r);function u(f){var h,p,g,v=(f=xj(f)).length,x,y=!1,b,w=new Array(v),j=new Array(v);for(i==null&&(l=o(b=c())),h=0;h<=v;++h){if(!(h<v&&a(x=f[h],h,f))===y)if(y=!y)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(w[g],j[g]);l.lineEnd(),l.areaEnd()}y&&(w[h]=+e(x,h,f),j[h]=+t(x,h,f),l.point(n?+n(x,h,f):w[h],r?+r(x,h,f):j[h]))}if(b)return l=null,b+""||null}function d(){return lM().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:tt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:tt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:tt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:tt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:tt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:tt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:tt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class cM{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function TJ(e){return new cM(e,!0)}function IJ(e){return new cM(e,!1)}const yj={draw(e,t){const r=js(t/Rm);e.moveTo(r,0),e.arc(0,0,r,0,ug)}},RJ={draw(e,t){const r=js(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},uM=js(1/3),MJ=uM*2,DJ={draw(e,t){const r=js(t/MJ),n=r*uM;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},LJ={draw(e,t){const r=js(t),n=-r/2;e.rect(n,n,r,r)}},$J=.8908130915292852,dM=Im(Rm/10)/Im(7*Rm/10),FJ=Im(ug/10)*dM,BJ=-nM(ug/10)*dM,UJ={draw(e,t){const r=js(t*$J),n=FJ*r,a=BJ*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=ug*i/5,l=nM(o),c=Im(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},bx=js(3),VJ={draw(e,t){const r=-js(t/(bx*3));e.moveTo(0,r*2),e.lineTo(-bx*r,-r),e.lineTo(bx*r,-r),e.closePath()}},Sn=-.5,Nn=js(3)/2,Ny=1/js(12),zJ=(Ny/2+1)*3,WJ={draw(e,t){const r=js(t/zJ),n=r/2,a=r*Ny,i=n,o=r*Ny+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Sn*n-Nn*a,Nn*n+Sn*a),e.lineTo(Sn*i-Nn*o,Nn*i+Sn*o),e.lineTo(Sn*l-Nn*c,Nn*l+Sn*c),e.lineTo(Sn*n+Nn*a,Sn*a-Nn*n),e.lineTo(Sn*i+Nn*o,Sn*o-Nn*i),e.lineTo(Sn*l+Nn*c,Sn*c-Nn*l),e.closePath()}};function qJ(e,t){let r=null,n=vj(a);e=typeof e=="function"?e:tt(e||yj),t=typeof t=="function"?t:tt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:tt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:tt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Mm(){}function Dm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function fM(e){this._context=e}fM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KJ(e){return new fM(e)}function hM(e){this._context=e}hM.prototype={areaStart:Mm,areaEnd:Mm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Dm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HJ(e){return new hM(e)}function mM(e){this._context=e}mM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Dm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YJ(e){return new mM(e)}function pM(e){this._context=e}pM.prototype={areaStart:Mm,areaEnd:Mm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function GJ(e){return new pM(e)}function CE(e){return e<0?-1:1}function AE(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(CE(i)+CE(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function OE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function wx(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Lm(e){this._context=e}Lm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wx(this,this._t0,OE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,wx(this,OE(this,r=AE(this,e,t)),r);break;default:wx(this,this._t0,r=AE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function gM(e){this._context=new vM(e)}(gM.prototype=Object.create(Lm.prototype)).point=function(e,t){Lm.prototype.point.call(this,t,e)};function vM(e){this._context=e}vM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function JJ(e){return new Lm(e)}function XJ(e){return new gM(e)}function xM(e){this._context=e}xM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=TE(e),a=TE(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function TE(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function QJ(e){return new xM(e)}function fg(e,t){this._context=e,this._t=t}fg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function ZJ(e){return new fg(e,.5)}function eX(e){return new fg(e,0)}function tX(e){return new fg(e,1)}function ic(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function _y(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function rX(e,t){return e[t]}function nX(e){const t=[];return t.key=e,t}function sX(){var e=tt([]),t=_y,r=ic,n=rX;function a(i){var o=Array.from(e.apply(this,arguments),nX),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=xj(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:tt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:tt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?_y:typeof i=="function"?i:tt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??ic,a):r},a}function aX(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}ic(e,t)}}function iX(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ic(e,t)}}function oX(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var v=e[t[g]],x=v[n][1]||0,y=v[n-1][1]||0;p+=x-y}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,ic(e,t)}}var hg={},yM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(yM);var bj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(bj);var mg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(mg);var pg={},bM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(bM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bM,r=mg;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const f=a[l];u?f==="\\"&&l+1<o?(l++,c+=a[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(c),c=""):c+=f:f==="["?(d=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,l++}return c&&i.push(c),i}e.toPath=n})(pg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yM,r=bj,n=mg,a=pg;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(hg);var lX=hg.get;const Do=ys(lX);var or=e=>e===0?0:e>0?1:-1,qn=e=>typeof e=="number"&&e!=+e,wa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,me=e=>(typeof e=="number"||e instanceof Number)&&!qn(e),Ws=e=>me(e)||typeof e=="string",cX=0,hd=e=>{var t=++cX;return"".concat(e||"").concat(t)},Pr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!me(t)&&typeof t!="string")return n;var i;if(wa(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return qn(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},wM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function At(e,t,r){return me(e)&&me(t)?e+r*(t-e):t}function jM(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Do(n,t))===r)}var vt=e=>e===null||typeof e>"u",Fd=e=>vt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),uX=["type","size","sizeType"];function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(null,arguments)}function IE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(r),!0).forEach(function(n){dX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dX(e,t,r){return(t=fX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fX(e){var t=hX(e,"string");return typeof t=="symbol"?t:t+""}function hX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mX(e,t){if(e==null)return{};var r,n,a=pX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SM={symbolCircle:yj,symbolCross:RJ,symbolDiamond:DJ,symbolSquare:LJ,symbolStar:UJ,symbolTriangle:VJ,symbolWye:WJ},gX=Math.PI/180,vX=e=>{var t="symbol".concat(Fd(e));return SM[t]||yj},xX=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*gX;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},yX=(e,t)=>{SM["symbol".concat(Fd(e))]=t},wj=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=mX(e,uX),i=RE(RE({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=vX(o),p=qJ().type(h).size(xX(r,n,o)),g=p();if(g!==null)return g},{className:c,cx:u,cy:d}=i,f=Dr(i);return u===+u&&d===+d&&r===+r?m.createElement("path",Ey({},f,{className:Ie("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};wj.registerSymbol=yX;var jj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(m.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{pj(a)&&(n[a]=i=>r[a](r,i))}),n},bX=(e,t,r)=>n=>(e(t,r,n),null),Bd=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];pj(a)&&typeof i=="function"&&(n||(n={}),n[a]=bX(i,t,r))}),n};function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ky.apply(null,arguments)}function ME(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ME(Object(r),!0).forEach(function(n){Sj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sj(e,t,r){return(t=jX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jX(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _n=32;class Nj extends m.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=_n/2,i=_n/6,o=_n/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return m.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:_n,y2:a,className:"recharts-legend-icon"});if(c==="line")return m.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(_n,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return m.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(_n/8,"h").concat(_n,"v").concat(_n*3/4,"h").concat(-_n,"z"),className:"recharts-legend-icon"});if(m.isValidElement(t.legendIcon)){var u=wX({},t);return delete u.legendIcon,m.cloneElement(t.legendIcon,u)}return m.createElement(wj,{fill:l,cx:a,cy:a,size:_n,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:_n,height:_n},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,p=Ie({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var g=d.inactive?i:d.color,v=h?h(d.value,d,f):d.value;return m.createElement("li",ky({className:p,style:c,key:"legend-item-".concat(f)},Bd(this.props,d,f)),m.createElement(gj,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(v," legend icon")},this.renderIcon(d,o)),m.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return m.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}Sj(Nj,"displayName","Legend");Sj(Nj,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var NM={},_M={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(_M);var _j={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(_j);var EM={},gg={},kM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(kM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kM;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(gg);var PM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(PM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gg,r=PM;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(EM);var CM={},AM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hg;function r(n){return function(a){return t.get(a,n)}}e.property=r})(AM);var OM={},Ej={},TM={},kj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(kj);var Pj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Pj);var Cj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Cj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kj,r=Pj,n=Cj;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):i(d,f,function p(g,v,x,y,b,w){const j=h(g,v,x,y,b,w);return j!==void 0?!!j:i(g,v,p,w)},new Map)}function i(d,f,h,p){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,h,p);case"function":return Object.keys(f).length>0?i(d,{...f},h,p):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function o(d,f,h,p){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,p);if(f instanceof Map)return l(d,f,h,p);if(f instanceof Set)return u(d,f,h,p);const g=Object.keys(f);if(d==null)return g.length===0;if(g.length===0)return!0;if(p?.has(f))return p.get(f)===d;p?.set(f,d);try{for(let v=0;v<g.length;v++){const x=g[v];if(!r.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!h(d[x],f[x],x,d,f,p))return!1}return!0}finally{p?.delete(f)}}function l(d,f,h,p){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,v]of f.entries()){const x=d.get(g);if(h(x,v,g,d,f,p)===!1)return!1}return!0}function c(d,f,h,p){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let v=0;v<f.length;v++){const x=f[v];let y=!1;for(let b=0;b<d.length;b++){if(g.has(b))continue;const w=d[b];let j=!1;if(h(w,x,v,d,f,p)&&(j=!0),j){g.add(b),y=!0;break}}if(!y)return!1}return!0}function u(d,f,h,p){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,p):!1}e.isMatchWith=a,e.isSetMatch=u})(TM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TM;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Ej);var IM={},Aj={},RM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(RM);var Oj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Oj);var Tj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",g="[object Error]",v="[object DataView]",x="[object Uint8Array]",y="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",j="[object BigUint64Array]",S="[object Int8Array]",N="[object Int16Array]",_="[object Int32Array]",E="[object BigInt64Array]",k="[object Float32Array]",A="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=v,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=k,e.float64ArrayTag=A,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=_,e.int8ArrayTag=S,e.mapTag=c,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=y})(Tj);var MM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(MM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RM,r=Oj,n=Tj,a=Pj,i=MM;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,p=new Map,g=void 0){const v=g?.(d,f,h,p);if(v!==void 0)return v;if(a.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const x=new Array(d.length);p.set(d,x);for(let y=0;y<d.length;y++)x[y]=l(d[y],y,h,p,g);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;p.set(d,x);for(const[y,b]of d)x.set(y,l(b,y,h,p,g));return x}if(d instanceof Set){const x=new Set;p.set(d,x);for(const y of d)x.add(l(y,void 0,h,p,g));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,x);for(let y=0;y<d.length;y++)x[y]=l(d[y],y,h,p,g);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,x),c(x,d,h,p,g),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return p.set(d,x),c(x,d,h,p,g),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return p.set(d,x),c(x,d,h,p,g),x}if(d instanceof Error){const x=new d.constructor;return p.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,c(x,d,h,p,g),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return p.set(d,x),c(x,d,h,p,g),x}if(d instanceof Number){const x=new Number(d.valueOf());return p.set(d,x),c(x,d,h,p,g),x}if(d instanceof String){const x=new String(d.valueOf());return p.set(d,x),c(x,d,h,p,g),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return p.set(d,x),c(x,d,h,p,g),x}return d}function c(d,f,h=d,p,g){const v=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<v.length;x++){const y=v[x],b=Object.getOwnPropertyDescriptor(d,y);(b==null||b.writable)&&(d[y]=l(f[y],y,h,p,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(Aj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Aj;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(IM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ej,r=IM;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(OM);var DM={},LM={},$M={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Aj,r=Tj;function n(a,i){return t.cloneDeepWith(a,(o,l,c,u)=>{const d=i?.(o,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a?.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})($M);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$M;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(LM);var FM={},Ij={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Ij);var BM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oj;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(BM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bj,r=Ij,n=BM,a=pg;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(FM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ej,r=mg,n=LM,a=hg,i=FM;function o(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(DM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_j,r=AM,n=OM,a=DM;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(CM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_M,r=_j,n=EM,a=CM;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=i})(NM);var NX=NM.uniqBy;const DE=ys(NX);function UM(e,t,r){return t===!0?DE(e,r):typeof t=="function"?DE(e,t):e}var VM={exports:{}},zM={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg=m,_X=_R;function EX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kX=typeof Object.is=="function"?Object.is:EX,PX=_X.useSyncExternalStore,CX=vg.useRef,AX=vg.useEffect,OX=vg.useMemo,TX=vg.useDebugValue;zM.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=CX(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=OX(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&o.hasValue){var g=o.value;if(a(g,p))return f=g}return f=p}if(g=f,kX(d,p))return g;var v=n(p);return a!==void 0&&a(g,v)?(d=p,g):(d=p,f=v)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=PX(e,i[0],i[1]);return AX(function(){o.hasValue=!0,o.value=l},[l]),TX(l),l};VM.exports=zM;var IX=VM.exports,Rj=m.createContext(null),RX=e=>e,xt=()=>{var e=m.useContext(Rj);return e?e.store.dispatch:RX},Bh=()=>{},MX=()=>Bh,DX=(e,t)=>e===t;function ce(e){var t=m.useContext(Rj);return IX.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:MX,t?t.store.getState:Bh,t?t.store.getState:Bh,t?e:Bh,DX)}function LX(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function $X(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function FX(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var LE=e=>Array.isArray(e)?e:[e];function BX(e){const t=Array.isArray(e[0])?e[0]:e;return FX(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function UX(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var VX=class{constructor(e){this.value=e}deref(){return this.value}},zX=typeof WeakRef<"u"?WeakRef:VX,WX=0,$E=1;function Gf(){return{s:WX,v:void 0,o:null,p:null}}function WM(e,t={}){let r=Gf();const{resultEqualityCheck:n}=t;let a,i=0;function o(){let l=r;const{length:c}=arguments;for(let f=0,h=c;f<h;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const v=g.get(p);v===void 0?(l=Gf(),g.set(p,l)):l=v}else{let g=l.p;g===null&&(l.p=g=new Map);const v=g.get(p);v===void 0?(l=Gf(),g.set(p,l)):l=v}}const u=l;let d;if(l.s===$E)d=l.v;else if(d=e.apply(null,arguments),i++,n){const f=a?.deref?.()??a;f!=null&&n(f,d)&&(d=f,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new zX(d):d}return u.s=$E,u.v=d,d}return o.clearCache=()=>{r=Gf(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function qX(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),LX(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:p=WM,argsMemoizeOptions:g=[]}=d,v=LE(h),x=LE(g),y=BX(a),b=f(function(){return i++,u.apply(null,arguments)},...v),w=p(function(){o++;const S=UX(y,arguments);return l=b.apply(null,S),l},...x);return Object.assign(w,{resultFunc:u,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var $=qX(WM),KX=Object.assign((e,t=$)=>{$X(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>KX}),qM={},KM={},HM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(HM);var YM={},Mj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Mj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mj,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(YM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HM,r=YM,n=pg;function a(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(p=>String(p));const u=(p,g)=>{let v=p;for(let x=0;x<g.length&&v!=null;++x)v=v[g[x]];return v},d=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(g=>d(g,p))})).slice().sort((p,g)=>{for(let v=0;v<f.length;v++){const x=t.compareValues(p.criteria[v],g.criteria[v],l[v]);if(x!==0)return x}return 0}).map(p=>p.original)}e.orderBy=a})(KM);var GM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?o(d,c+1):a.push(d)}};return o(r,0),a}e.flatten=t})(GM);var Dj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ij,r=gg,n=kj,a=Cj;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],o):!1}e.isIterateeCall=i})(Dj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KM,r=GM,n=Dj;function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(qM);var HX=qM.sortBy;const xg=ys(HX);var JM=e=>e.legend.settings,YX=e=>e.legend.size,GX=e=>e.legend.payload,JX=$([GX,JM],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?xg(n,r):n});function XX(){return ce(JX)}var Jf=1;function XM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=m.useState({height:0,left:0,top:0,width:0}),n=m.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Jf||Math.abs(o.left-t.left)>Jf||Math.abs(o.top-t.top)>Jf||Math.abs(o.width-t.width)>Jf)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function dr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var QX=typeof Symbol=="function"&&Symbol.observable||"@@observable",FE=QX,jx=()=>Math.random().toString(36).substring(7).split("").join("."),ZX={INIT:`@@redux/INIT${jx()}`,REPLACE:`@@redux/REPLACE${jx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${jx()}`},$m=ZX;function Lj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function QM(e,t,r){if(typeof e!="function")throw new Error(dr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(dr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(dr(1));return r(QM)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((x,y)=>{o.set(y,x)}))}function d(){if(c)throw new Error(dr(3));return a}function f(x){if(typeof x!="function")throw new Error(dr(4));if(c)throw new Error(dr(5));let y=!0;u();const b=l++;return o.set(b,x),function(){if(y){if(c)throw new Error(dr(6));y=!1,u(),o.delete(b),i=null}}}function h(x){if(!Lj(x))throw new Error(dr(7));if(typeof x.type>"u")throw new Error(dr(8));if(typeof x.type!="string")throw new Error(dr(17));if(c)throw new Error(dr(9));try{c=!0,a=n(a,x)}finally{c=!1}return(i=o).forEach(b=>{b()}),x}function p(x){if(typeof x!="function")throw new Error(dr(10));n=x,h({type:$m.REPLACE})}function g(){const x=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(dr(11));function b(){const j=y;j.next&&j.next(d())}return b(),{unsubscribe:x(b)}},[FE](){return this}}}return h({type:$m.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[FE]:g}}function eQ(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:$m.INIT})>"u")throw new Error(dr(12));if(typeof r(void 0,{type:$m.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(dr(13))})}function ZM(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{eQ(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],p=o[f],g=h(p,l);if(typeof g>"u")throw l&&l.type,new Error(dr(14));u[f]=g,c=c||g!==p}return c=c||n.length!==Object.keys(o).length,c?u:o}}function Fm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function tQ(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(dr(15))};const o={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(o));return i=Fm(...l)(a.dispatch),{...a,dispatch:i}}}function eD(e){return Lj(e)&&"type"in e&&typeof e.type=="string"}var tD=Symbol.for("immer-nothing"),BE=Symbol.for("immer-draftable"),vn=Symbol.for("immer-state");function cs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var md=Object.getPrototypeOf;function Lo(e){return!!e&&!!e[vn]}function ja(e){return e?rD(e)||Array.isArray(e)||!!e[BE]||!!e.constructor?.[BE]||Ud(e)||bg(e):!1}var rQ=Object.prototype.constructor.toString(),UE=new WeakMap;function rD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=UE.get(r);return n===void 0&&(n=Function.toString.call(r),UE.set(r,n)),n===rQ}function Bm(e,t,r=!0){yg(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function yg(e){const t=e[vn];return t?t.type_:Array.isArray(e)?1:Ud(e)?2:bg(e)?3:0}function Py(e,t){return yg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function nD(e,t,r){const n=yg(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function nQ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ud(e){return e instanceof Map}function bg(e){return e instanceof Set}function ro(e){return e.copy_||e.base_}function Cy(e,t){if(Ud(e))return new Map(e);if(bg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=rD(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[vn];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(md(e),n)}else{const n=md(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function $j(e,t=!1){return wg(e)||Lo(e)||!ja(e)||(yg(e)>1&&Object.defineProperties(e,{set:Xf,add:Xf,clear:Xf,delete:Xf}),Object.freeze(e),t&&Object.values(e).forEach(r=>$j(r,!0))),e}function sQ(){cs(2)}var Xf={value:sQ};function wg(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var aQ={};function $o(e){const t=aQ[e];return t||cs(0,e),t}var pd;function sD(){return pd}function iQ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function VE(e,t){t&&($o("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ay(e){Oy(e),e.drafts_.forEach(oQ),e.drafts_=null}function Oy(e){e===pd&&(pd=e.parent_)}function zE(e){return pd=iQ(pd,e)}function oQ(e){const t=e[vn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function WE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[vn].modified_&&(Ay(t),cs(4)),ja(e)&&(e=Um(t,e),t.parent_||Vm(t,e)),t.patches_&&$o("Patches").generateReplacementPatches_(r[vn].base_,e,t.patches_,t.inversePatches_)):e=Um(t,r,[]),Ay(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==tD?e:void 0}function Um(e,t,r){if(wg(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[vn];if(!a)return Bm(t,(i,o)=>qE(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Vm(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,l=!1;a.type_===3&&(o=new Set(i),i.clear(),l=!0),Bm(o,(c,u)=>qE(e,a,i,c,u,r,l),n),Vm(e,i,!1),r&&e.patches_&&$o("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function qE(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const l=wg(a);if(!(l&&!o)){if(Lo(a)){const c=i&&t&&t.type_!==3&&!Py(t.assigned_,n)?i.concat(n):void 0,u=Um(e,a,c);if(nD(r,n,u),Lo(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(ja(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;Um(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ud(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Vm(e,a)}}}function Vm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&$j(t,r)}function lQ(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:sD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Fj;r&&(a=[n],i=gd);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var Fj={get(e,t){if(t===vn)return e;const r=ro(e);if(!Py(r,t))return cQ(e,r,t);const n=r[t];return e.finalized_||!ja(n)?n:n===Sx(e.base_,t)?(Nx(e),e.copy_[t]=Iy(n,e)):n},has(e,t){return t in ro(e)},ownKeys(e){return Reflect.ownKeys(ro(e))},set(e,t,r){const n=aD(ro(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Sx(ro(e),t),i=a?.[vn];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(nQ(r,a)&&(r!==void 0||Py(e.base_,t)))return!0;Nx(e),Ty(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Sx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Nx(e),Ty(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ro(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){cs(11)},getPrototypeOf(e){return md(e.base_)},setPrototypeOf(){cs(12)}},gd={};Bm(Fj,(e,t)=>{gd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});gd.deleteProperty=function(e,t){return gd.set.call(this,e,t,void 0)};gd.set=function(e,t,r){return Fj.set.call(this,e[0],t,r,e[0])};function Sx(e,t){const r=e[vn];return(r?ro(r):e)[t]}function cQ(e,t,r){const n=aD(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function aD(e,t){if(!(t in e))return;let r=md(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=md(r)}}function Ty(e){e.modified_||(e.modified_=!0,e.parent_&&Ty(e.parent_))}function Nx(e){e.copy_||(e.copy_=Cy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var uQ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&cs(6),n!==void 0&&typeof n!="function"&&cs(7);let a;if(ja(t)){const i=zE(this),o=Iy(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Ay(i):Oy(i)}return VE(i,n),WE(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===tD&&(a=void 0),this.autoFreeze_&&$j(a,!0),n){const i=[],o=[];$o("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else cs(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ja(e)||cs(8),Lo(e)&&(e=fa(e));const t=zE(this),r=Iy(e,void 0);return r[vn].isManual_=!0,Oy(t),r}finishDraft(e,t){const r=e&&e[vn];(!r||!r.isManual_)&&cs(9);const{scope_:n}=r;return VE(n,t),WE(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=$o("Patches").applyPatches_;return Lo(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Iy(e,t){const r=Ud(e)?$o("MapSet").proxyMap_(e,t):bg(e)?$o("MapSet").proxySet_(e,t):lQ(e,t);return(t?t.scope_:sD()).drafts_.push(r),r}function fa(e){return Lo(e)||cs(10,e),iD(e)}function iD(e){if(!ja(e)||wg(e))return e;const t=e[vn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Cy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Cy(e,!0);return Bm(r,(a,i)=>{nD(r,a,iD(i))},n),t&&(t.finalized_=!1),r}var dQ=new uQ,oD=dQ.produce;function lD(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var fQ=lD(),hQ=lD,mQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Fm:Fm.apply(null,arguments)};function Kn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(hn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>eD(n)&&n.type===e,r}var cD=class wu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,wu.prototype)}static get[Symbol.species](){return wu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new wu(...t[0].concat(this)):new wu(...t.concat(this))}};function KE(e){return ja(e)?oD(e,()=>{}):e}function Qf(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function pQ(e){return typeof e=="boolean"}var gQ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new cD;return r&&(pQ(r)?o.push(fQ):o.push(hQ(r.extraArgument))),o},uD="RTK_autoBatch",Tr=()=>e=>({payload:e,meta:{[uD]:!0}}),HE=e=>t=>{setTimeout(t,e)},dD=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:HE(10):e.type==="callback"?e.queueNotification:HE(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){try{return a=!d?.meta?.[uD],i=!a,i&&(o||(o=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},vQ=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new cD(e);return n&&a.push(dD(typeof n=="object"?n:void 0)),a};function xQ(e){const t=gQ(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Lj(r))l=ZM(r);else throw new Error(hn(1));let c;typeof n=="function"?c=n(t):c=t();let u=Fm;a&&(u=mQ({trace:!1,...typeof a=="object"&&a}));const d=tQ(...c),f=vQ(d);let h=typeof o=="function"?o(f):f();const p=u(...h);return QM(l,i,p)}function fD(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(hn(28));if(l in t)throw new Error(hn(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function yQ(e){return typeof e=="function"}function bQ(e,t){let[r,n,a]=fD(t),i;if(yQ(e))i=()=>KE(e());else{const l=KE(e);i=()=>l}function o(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Lo(d)){const p=f(d,c);return p===void 0?d:p}else{if(ja(d))return oD(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return o.getInitialState=i,o}var wQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",jQ=(e=21)=>{let t="",r=e;for(;r--;)t+=wQ[Math.random()*64|0];return t},SQ=Symbol.for("rtk-slice-createasyncthunk");function NQ(e,t){return`${e}/${t}`}function _Q({creators:e}={}){const t=e?.asyncThunk?.[SQ];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(hn(11));const o=(typeof n.reducers=="function"?n.reducers(kQ()):n.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,j){const S=typeof w=="string"?w:w.type;if(!S)throw new Error(hn(12));if(S in c.sliceCaseReducersByType)throw new Error(hn(13));return c.sliceCaseReducersByType[S]=j,u},addMatcher(w,j){return c.sliceMatchers.push({matcher:w,reducer:j}),u},exposeAction(w,j){return c.actionCreators[w]=j,u},exposeCaseReducer(w,j){return c.sliceCaseReducersByName[w]=j,u}};l.forEach(w=>{const j=o[w],S={reducerName:w,type:NQ(a,w),createNotation:typeof n.reducers=="function"};CQ(j)?OQ(S,j,u,t):PQ(S,j,u)});function d(){const[w={},j=[],S=void 0]=typeof n.extraReducers=="function"?fD(n.extraReducers):[n.extraReducers],N={...w,...c.sliceCaseReducersByType};return bQ(n.initialState,_=>{for(let E in N)_.addCase(E,N[E]);for(let E of c.sliceMatchers)_.addMatcher(E.matcher,E.reducer);for(let E of j)_.addMatcher(E.matcher,E.reducer);S&&_.addDefaultCase(S)})}const f=w=>w,h=new Map,p=new WeakMap;let g;function v(w,j){return g||(g=d()),g(w,j)}function x(){return g||(g=d()),g.getInitialState()}function y(w,j=!1){function S(_){let E=_[w];return typeof E>"u"&&j&&(E=Qf(p,S,x)),E}function N(_=f){const E=Qf(h,j,()=>new WeakMap);return Qf(E,_,()=>{const k={};for(const[A,R]of Object.entries(n.selectors??{}))k[A]=EQ(R,_,()=>Qf(p,_,x),j);return k})}return{reducerPath:w,getSelectors:N,get selectors(){return N(S)},selectSlice:S}}const b={name:a,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...y(i),injectInto(w,{reducerPath:j,...S}={}){const N=j??i;return w.inject({reducerPath:N,reducer:v},S),{...b,...y(N,!0)}}};return b}}function EQ(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var jn=_Q();function kQ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function PQ({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!AQ(n))throw new Error(hn(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Kn(e,o):Kn(e))}function CQ(e){return e._reducerDefinitionType==="asyncThunk"}function AQ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function OQ({type:e,reducerName:t},r,n,a){if(!a)throw new Error(hn(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||Zf,pending:l||Zf,rejected:c||Zf,settled:u||Zf})}function Zf(){}var TQ="task",hD="listener",mD="completed",Bj="cancelled",IQ=`task-${Bj}`,RQ=`task-${mD}`,Ry=`${hD}-${Bj}`,MQ=`${hD}-${mD}`,jg=class{constructor(e){this.code=e,this.message=`${TQ} ${Bj} (reason: ${e})`}name="TaskAbortError";message},Uj=(e,t)=>{if(typeof e!="function")throw new TypeError(hn(32))},zm=()=>{},pD=(e,t=zm)=>(e.catch(t),e),gD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),bo=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},wo=e=>{if(e.aborted){const{reason:t}=e;throw new jg(t)}};function vD(e,t){let r=zm;return new Promise((n,a)=>{const i=()=>a(new jg(e.reason));if(e.aborted){i();return}r=gD(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=zm})}var DQ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof jg?"cancelled":"rejected",error:r}}finally{t?.()}},Wm=e=>t=>pD(vD(e,t).then(r=>(wo(e),r))),xD=e=>{const t=Wm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Kl}=Object,YE={},Sg="listenerMiddleware",LQ=(e,t)=>{const r=n=>gD(e,()=>bo(n,e.reason));return(n,a)=>{Uj(n);const i=new AbortController;r(i);const o=DQ(async()=>{wo(e),wo(i.signal);const l=await n({pause:Wm(i.signal),delay:xD(i.signal),signal:i.signal});return wo(i.signal),l},()=>bo(i,RQ));return a?.autoJoin&&t.push(o.catch(zm)),{result:Wm(e)(o),cancel(){bo(i,IQ)}}}},$Q=(e,t)=>{const r=async(n,a)=>{wo(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await vD(t,Promise.race(l));return wo(t),c}finally{i()}};return(n,a)=>pD(r(n,a))},yD=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Kn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(hn(21));return Uj(i),{predicate:a,type:t,effect:i}},bD=Kl(e=>{const{type:t,predicate:r,effect:n}=yD(e);return{id:jQ(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(hn(22))}}},{withTypes:()=>bD}),GE=(e,t)=>{const{type:r,effect:n,predicate:a}=yD(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},My=e=>{e.pending.forEach(t=>{bo(t,Ry)})},FQ=(e,t)=>()=>{for(const r of t.keys())My(r);e.clear()},JE=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},wD=Kl(Kn(`${Sg}/add`),{withTypes:()=>wD}),BQ=Kn(`${Sg}/removeAll`),jD=Kl(Kn(`${Sg}/remove`),{withTypes:()=>jD}),UQ=(...e)=>{console.error(`${Sg}/error`,...e)},Vd=(e={})=>{const t=new Map,r=new Map,n=p=>{const g=r.get(p)??0;r.set(p,g+1)},a=p=>{const g=r.get(p)??1;g===1?r.delete(p):r.set(p,g-1)},{extra:i,onError:o=UQ}=e;Uj(o);const l=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g?.cancelActive&&My(p)}),c=p=>{const g=GE(t,p)??bD(p);return l(g)};Kl(c,{withTypes:()=>c});const u=p=>{const g=GE(t,p);return g&&(g.unsubscribe(),p.cancelActive&&My(g)),!!g};Kl(u,{withTypes:()=>u});const d=async(p,g,v,x)=>{const y=new AbortController,b=$Q(c,y.signal),w=[];try{p.pending.add(y),n(p),await Promise.resolve(p.effect(g,Kl({},v,{getOriginalState:x,condition:(j,S)=>b(j,S).then(Boolean),take:b,delay:xD(y.signal),pause:Wm(y.signal),extra:i,signal:y.signal,fork:LQ(y.signal,w),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((j,S,N)=>{j!==y&&(bo(j,Ry),N.delete(j))})},cancel:()=>{bo(y,Ry),p.pending.delete(y)},throwIfCancelled:()=>{wo(y.signal)}})))}catch(j){j instanceof jg||JE(o,j,{raisedBy:"effect"})}finally{await Promise.all(w),bo(y,MQ),a(p),p.pending.delete(y)}},f=FQ(t,r);return{middleware:p=>g=>v=>{if(!eD(v))return g(v);if(wD.match(v))return c(v.payload);if(BQ.match(v)){f();return}if(jD.match(v))return u(v.payload);let x=p.getState();const y=()=>{if(x===YE)throw new Error(hn(23));return x};let b;try{if(b=g(v),t.size>0){const w=p.getState(),j=Array.from(t.values());for(const S of j){let N=!1;try{N=S.predicate(v,w,x)}catch(_){N=!1,JE(o,_,{raisedBy:"predicate"})}N&&d(S,v,p,y)}}}finally{x=YE}return b},startListening:c,stopListening:u,clearListeners:f}};function hn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var VQ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},SD=jn({name:"chartLayout",initialState:VQ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:zQ,setLayout:WQ,setChartSize:qQ,setScale:KQ}=SD.actions,HQ=SD.reducer;function XE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(r),!0).forEach(function(n){YQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YQ(e,t,r){return(t=GQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GQ(e){var t=JQ(e,"string");return typeof t=="symbol"?t:t+""}function JQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qm=Math.PI/180,XQ=e=>e*180/Math.PI,$t=(e,t,r,n)=>({x:e+Math.cos(-qm*n)*r,y:t+Math.sin(-qm*n)*r}),ND=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},QQ=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},ZQ=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=QQ({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:XQ(c),angleInRadian:c}},eZ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},tZ=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},rZ=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=ZQ({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:u}=eZ(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?QE(QE({},t),{},{radius:a,angle:tZ(d,t)}):null};function _D(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ZE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(r),!0).forEach(function(n){nZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nZ(e,t,r){return(t=sZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sZ(e){var t=aZ(e,"string");return typeof t=="symbol"?t:t+""}function aZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function at(e,t,r){return vt(e)||vt(t)?r:Ws(t)?Do(e,t,r):typeof t=="function"?t(e):r}var iZ=(e,t,r,n,a)=>{var i,o=-1,l=(i=t?.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(or(d-u)!==or(f-d)){var p=[];if(or(f-d)===or(a[1]-a[0])){h=f;var g=d+a[1]-a[0];p[0]=Math.min(g,(g+u)/2),p[1]=Math.max(g,(g+u)/2)}else{h=u;var v=f+a[1]-a[0];p[0]=Math.min(d,(v+d)/2),p[1]=Math.max(d,(v+d)/2)}var x=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>x[0]&&e<=x[1]||e>=p[0]&&e<=p[1]){({index:o}=r[c]);break}}else{var y=Math.min(u,f),b=Math.max(u,f);if(e>(y+d)/2&&e<=(b+d)/2){({index:o}=r[c]);break}}}else if(t){for(var w=0;w<l;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},oZ=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&me(e[i]))return Tn(Tn({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&me(e[o]))return Tn(Tn({},e),{},{[o]:e[o]+(a||0)})}return e},Vi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",ED=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},kD=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:p}=e;if(!o)return null;var g=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=a==="category"&&o.bandwidth?o.bandwidth()/g:0;if(v=p==="angleAxis"&&i&&i.length>=2?or(i[0]-i[1])*2*v:v,f||h){var x=(f||h||[]).map((y,b)=>{var w=n?n.indexOf(y):y;return{coordinate:o(w)+v,value:y,offset:v,index:b}});return x.filter(y=>!qn(y.coordinate))}return c&&u?u.map((y,b)=>({coordinate:o(y)+v,value:y,index:b,offset:v})):o.ticks&&d!=null?o.ticks(d).map((y,b)=>({coordinate:o(y)+v,value:y,offset:v,index:b})):o.domain().map((y,b)=>({coordinate:o(y)+v,value:n?n[y]:y,index:b,offset:v}))},ek=1e-4,lZ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-ek,i=Math.max(n[0],n[1])+ek,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},cZ=(e,t)=>{if(!t||t.length!==2||!me(t[0])||!me(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!me(e[0])||e[0]<r)&&(a[0]=r),(!me(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},uZ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var l=qn(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},dZ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=qn(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},fZ={sign:uZ,expand:aX,none:ic,silhouette:iX,wiggle:oX,positive:dZ},hZ=(e,t,r)=>{var n=fZ[r],a=sX().keys(t).value((i,o)=>+at(i,o,0)).order(_y).offset(n);return a(e)};function mZ(e){return e==null?void 0:String(e)}function tk(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!vt(a[t.dataKey])){var l=jM(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=at(a,vt(o)?t.dataKey:o);return vt(c)?null:t.scale(c)}var rk=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=at(i,t.dataKey,t.scale.domain()[o]);return vt(l)?null:t.scale(l)-a/2+n},pZ=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},gZ=e=>{var t=e.flat(2).filter(me);return[Math.min(...t),Math.max(...t)]},vZ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],xZ=(e,t,r)=>{if(e!=null)return vZ(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:o}=i,l=o.reduce((c,u)=>{var d=_D(u,t,r),f=gZ(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},nk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vd=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=xg(t,d=>d.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function ak(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Tn(Tn({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Ic(e,t){if(e)return String(e);if(typeof t=="string")return t}function yZ(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?rZ({x:e,y:t},n):null}var bZ=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=n;return Tn(Tn(Tn({},n),$t(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:c}=n;return Tn(Tn(Tn({},n),$t(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},wZ=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Pa=e=>e.layout.width,Ca=e=>e.layout.height,jZ=e=>e.layout.scale,PD=e=>e.layout.margin,Ng=$(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),_g=$(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),CD="data-recharts-item-index",AD="data-recharts-item-data-key",zd=60;function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(n){SZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SZ(e,t,r){return(t=NZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NZ(e){var t=_Z(e,"string");return typeof t=="symbol"?t:t+""}function _Z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EZ=e=>e.brush.height;function kZ(e){var t=_g(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:zd;return r+a}return r},0)}function PZ(e){var t=_g(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:zd;return r+a}return r},0)}function CZ(e){var t=Ng(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function AZ(e){var t=Ng(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Qt=$([Pa,Ca,PD,EZ,kZ,PZ,CZ,AZ,JM,YX],(e,t,r,n,a,i,o,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},h=eh(eh({},f),d),p=h.bottom;h.bottom+=n,h=oZ(h,c,u);var g=e-h.left-h.right,v=t-h.top-h.bottom;return eh(eh({brushBottom:p},h),{},{width:Math.max(g,0),height:Math.max(v,0)})}),OZ=$(Qt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Vj=$(Pa,Ca,(e,t)=>({x:0,y:0,width:e,height:t})),TZ=m.createContext(null),Fr=()=>m.useContext(TZ)!=null,Eg=e=>e.brush,kg=$([Eg,Qt,PD],(e,t,r)=>({height:e.height,x:me(e.x)?e.x:t.left,y:me(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:me(e.width)?e.width:t.width})),OD={},TD={},ID={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{u&&d(),v()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{g(),o=void 0,l=null},x=()=>{d()},y=function(...b){if(a?.aborted)return;o=this,l=b;const w=h==null;p(),c&&w&&d()};return y.schedule=p,y.cancel=v,y.flush=x,a?.addEventListener("abort",v,{once:!0}),y}e.debounce=t})(ID);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ID;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...v){d=n.apply(this,v),f=null},a,{edges:u}),p=function(...v){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,v),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,v),d)},g=()=>(h.flush(),d);return p.cancel=h.cancel,p.flush=g,p}e.debounce=r})(TD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TD;function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(OD);var IZ=OD.throttle;const RZ=ys(IZ);var Km=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},RD=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,l=wa(n)?e:Number(n),c=wa(a)?t:Number(a);return i&&i>0&&(l?c=l/i:c&&(l=c*i),o&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},MZ={width:0,height:0,overflow:"visible"},DZ={width:0,overflowX:"visible"},LZ={height:0,overflowY:"visible"},$Z={},FZ=e=>{var{width:t,height:r}=e,n=wa(t),a=wa(r);return n&&a?MZ:n?DZ:a?LZ:$Z};function BZ(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Ar(e){return Number.isFinite(e)}function oc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(null,arguments)}function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(n){UZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UZ(e,t,r){return(t=VZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VZ(e){var t=zZ(e,"string");return typeof t=="symbol"?t:t+""}function zZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MD=m.createContext({width:-1,height:-1});function DD(e){var{children:t,width:r,height:n}=e,a=m.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:m.createElement(MD.Provider,{value:a},t)}var zj=()=>m.useContext(MD),WZ=m.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:p,style:g={}}=e,v=m.useRef(null),x=m.useRef();x.current=p,m.useImperativeHandle(t,()=>v.current);var[y,b]=m.useState({containerWidth:n.width,containerHeight:n.height}),w=m.useCallback((E,k)=>{b(A=>{var R=Math.round(E),D=Math.round(k);return A.containerWidth===R&&A.containerHeight===D?A:{containerWidth:R,containerHeight:D}})},[]);m.useEffect(()=>{var E=D=>{var F,{width:W,height:K}=D[0].contentRect;w(W,K),(F=x.current)===null||F===void 0||F.call(x,W,K)};d>0&&(E=RZ(E,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(E),{width:A,height:R}=v.current.getBoundingClientRect();return w(A,R),k.observe(v.current),()=>{k.disconnect()}},[w,d]);var{containerWidth:j,containerHeight:S}=y;Km(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:N,calculatedHeight:_}=RD(j,S,{width:a,height:i,aspect:r,maxHeight:c});return Km(N>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,_,a,i,o,l,r),m.createElement("div",{id:f?"".concat(f):void 0,className:Ie("recharts-responsive-container",h),style:lk(lk({},g),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:v},m.createElement("div",{style:FZ({width:a,height:i})},m.createElement(DD,{width:N,height:_},u)))}),Ts=m.forwardRef((e,t)=>{var r=zj();if(oc(r.width)&&oc(r.height))return e.children;var{width:n,height:a}=BZ({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=RD(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return me(i)&&me(o)?m.createElement(DD,{width:i,height:o},e.children):m.createElement(WZ,Dy({},e,{width:n,height:a,ref:t}))}),Pg=()=>{var e,t=Fr(),r=ce(OZ),n=ce(kg),a=(e=ce(Eg))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},qZ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},LD=()=>{var e;return(e=ce(Qt))!==null&&e!==void 0?e:qZ},Wj=()=>ce(Pa),qj=()=>ce(Ca),KZ=()=>ce(e=>e.layout.margin),Re=e=>e.layout.layoutType,Cg=()=>ce(Re),Ag=e=>{var t=xt(),r=Fr(),{width:n,height:a}=e,i=zj(),o=n,l=a;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:a),m.useEffect(()=>{!r&&oc(o)&&oc(l)&&t(qQ({width:o,height:l}))},[t,r,o,l]),null},HZ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},$D=jn({name:"legend",initialState:HZ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Tr()},removeLegendPayload:{reducer(e,t){var r=fa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Tr()}}}),{setLegendSize:ck,setLegendSettings:YZ,addLegendPayload:FD,removeLegendPayload:BD}=$D.actions,GZ=$D.reducer,JZ=["contextPayload"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(null,arguments)}function uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(r),!0).forEach(function(n){Kj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kj(e,t,r){return(t=XZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XZ(e){var t=QZ(e,"string");return typeof t=="symbol"?t:t+""}function QZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZZ(e,t){if(e==null)return{};var r,n,a=eee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tee(e){return e.value}function ree(e){var{contextPayload:t}=e,r=ZZ(e,JZ),n=UM(t,e.payloadUniqBy,tee),a=lc(lc({},r),{},{payload:n});return m.isValidElement(e.content)?m.cloneElement(e.content,a):typeof e.content=="function"?m.createElement(e.content,a):m.createElement(Nj,a)}function nee(e,t,r,n,a,i){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((n||0)-i.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-i.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),lc(lc({},u),d)}function see(e){var t=xt();return m.useEffect(()=>{t(YZ(e))},[t,e]),null}function aee(e){var t=xt();return m.useEffect(()=>(t(ck(e)),()=>{t(ck({width:0,height:0}))}),[t,e]),null}function iee(e){var t=XX(),r=PJ(),n=KZ(),{width:a,height:i,wrapperStyle:o,portal:l}=e,[c,u]=XM([t]),d=Wj(),f=qj();if(d==null||f==null)return null;var h=d-(n.left||0)-(n.right||0),p=Og.getWidthOrHeight(e.layout,i,a,h),g=l?o:lc(lc({position:"absolute",width:p?.width||a||"auto",height:p?.height||i||"auto"},nee(o,e,n,d,f,c)),o),v=l??r;if(v==null)return null;var x=m.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},m.createElement(see,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),m.createElement(aee,{width:c.width,height:c.height}),m.createElement(ree,Ly({},e,p,{margin:n,chartWidth:d,chartHeight:f,contextPayload:t})));return Oi.createPortal(x,v)}class Og extends m.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&me(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return m.createElement(iee,this.props)}}Kj(Og,"displayName","Legend");Kj(Og,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(null,arguments)}function dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _x(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(r),!0).forEach(function(n){oee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oee(e,t,r){return(t=lee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lee(e){var t=cee(e,"string");return typeof t=="symbol"?t:t+""}function cee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uee(e){return Array.isArray(e)&&Ws(e[0])&&Ws(e[1])?e.join(" ~ "):e}var dee=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(i&&i.length){var S={padding:0,margin:0},N=(l?xg(i,l):i).map((_,E)=>{if(_.type==="none")return null;var k=_.formatter||o||uee,{value:A,name:R}=_,D=A,F=R;if(k){var W=k(A,R,_,E,i);if(Array.isArray(W))[D,F]=W;else if(W!=null)D=W;else return null}var K=_x({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},n);return m.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:K},Ws(F)?m.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Ws(F)?m.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,m.createElement("span",{className:"recharts-tooltip-item-value"},D),m.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return m.createElement("ul",{className:"recharts-tooltip-item-list",style:S},N)}return null},g=_x({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=_x({margin:0},a),x=!vt(d),y=x?d:"",b=Ie("recharts-default-tooltip",c),w=Ie("recharts-tooltip-label",u);x&&f&&i!==void 0&&i!==null&&(y=f(d,i));var j=h?{role:"status","aria-live":"assertive"}:{};return m.createElement("div",$y({className:b,style:g},j),m.createElement("p",{className:w,style:v},m.isValidElement(y)?y:"".concat(y)),p())},ru="recharts-tooltip-wrapper",fee={visibility:"hidden"};function hee(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ie(ru,{["".concat(ru,"-right")]:me(r)&&t&&me(t.x)&&r>=t.x,["".concat(ru,"-left")]:me(r)&&t&&me(t.x)&&r<t.x,["".concat(ru,"-bottom")]:me(n)&&t&&me(t.y)&&n>=t.y,["".concat(ru,"-top")]:me(n)&&t&&me(t.y)&&n<t.y})}function fk(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&me(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var h=c[n];if(h==null)return 0;if(o[n]){var p=d,g=h;return p<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var v=f+l,x=h+u;return v>x?Math.max(d,h):Math.max(f,h)}function mee(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function pee(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,f;return o.height>0&&o.width>0&&r?(d=fk({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=fk({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=mee({translateX:d,translateY:f,useTranslate3d:l})):u=fee,{cssProperties:u,cssClasses:hee({translateX:d,translateY:f,coordinate:r})}}function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function th(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(n){Fy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fy(e,t,r){return(t=gee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gee(e){var t=vee(e,"string");return typeof t=="symbol"?t:t+""}function vee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xee extends m.PureComponent{constructor(){super(...arguments),Fy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Fy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:g,lastBoundingBox:v,innerRef:x,hasPortalFromProps:y}=this.props,{cssClasses:b,cssProperties:w}=pee({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:p}),j=y?{}:th(th({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),S=th(th({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return m.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:S,ref:x},i)}}var yee=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),zi={devToolsEnabled:!1,isSsr:yee()},UD=()=>ce(e=>e.rootProps.accessibilityLayer);function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(null,arguments)}function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(n){bee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bee(e,t,r){return(t=wee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wee(e){var t=jee(e,"string");return typeof t=="symbol"?t:t+""}function jee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gk={curveBasisClosed:HJ,curveBasisOpen:YJ,curveBasis:KJ,curveBumpX:TJ,curveBumpY:IJ,curveLinearClosed:GJ,curveLinear:dg,curveMonotoneX:JJ,curveMonotoneY:XJ,curveNatural:QJ,curveStep:ZJ,curveStepAfter:tX,curveStepBefore:eX},rh=e=>Ar(e.x)&&Ar(e.y),nu=e=>e.x,su=e=>e.y,See=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Fd(e));return(r==="curveMonotone"||r==="curveBump")&&t?gk["".concat(r).concat(t==="vertical"?"Y":"X")]:gk[r]||dg},Nee=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=See(t,a),l=i?r.filter(rh):r,c;if(Array.isArray(n)){var u=i?n.filter(f=>rh(f)):n,d=l.map((f,h)=>pk(pk({},f),{},{base:u[h]}));return a==="vertical"?c=Yf().y(su).x1(nu).x0(f=>f.base.x):c=Yf().x(nu).y1(su).y0(f=>f.base.y),c.defined(rh).curve(o),c(d)}return a==="vertical"&&me(n)?c=Yf().y(su).x1(nu).x0(n):me(n)?c=Yf().x(nu).y1(su).y0(n):c=lM().x(nu).y(su),c.defined(rh).curve(o),c(l)},Hj=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?Nee(e):n;return m.createElement("path",By({},gn(e),jj(e),{className:Ie("recharts-curve",t),d:i===null?void 0:i,ref:a}))},_ee=["x","y","top","left","width","height","className"];function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(null,arguments)}function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(n){kee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kee(e,t,r){return(t=Pee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pee(e){var t=Cee(e,"string");return typeof t=="symbol"?t:t+""}function Cee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aee(e,t){if(e==null)return{};var r,n,a=Oee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Oee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tee=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),Iee=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,c=Aee(e,_ee),u=Eee({x:t,y:r,top:n,left:a,width:i,height:o},c);return!me(t)||!me(r)||!me(i)||!me(o)||!me(n)||!me(a)?null:m.createElement("path",Uy({},Dr(u),{className:Ie("recharts-cross",l),d:Tee(t,r,i,o,n,a)}))};function Ree(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(r),!0).forEach(function(n){Dee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dee(e,t,r){return(t=Lee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lee(e){var t=$ee(e,"string");return typeof t=="symbol"?t:t+""}function $ee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function br(e,t){var r=Mee({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function Fee(){}function Bee(e){return e!=null}function yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(r),!0).forEach(function(n){Uee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uee(e,t,r){return(t=Vee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vee(e){var t=zee(e,"string");return typeof t=="symbol"?t:t+""}function zee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wee=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),VD=(e,t,r)=>e.map(n=>"".concat(Wee(n)," ").concat(t,"ms ").concat(r)).join(","),qee=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),xd=(e,t)=>Object.keys(t).reduce((r,n)=>bk(bk({},r),{},{[n]:e(n,t[n])}),{});function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(n){Kee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kee(e,t,r){return(t=Hee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hee(e){var t=Yee(e,"string");return typeof t=="symbol"?t:t+""}function Yee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hm=(e,t,r)=>e+(t-e)*r,Vy=e=>{var{from:t,to:r}=e;return t!==r},zD=(e,t,r)=>{var n=xd((a,i)=>{if(Vy(i)){var[o,l]=e(i.from,i.to,i.velocity);return hr(hr({},i),{},{from:o,velocity:l})}return i},t);return r<1?xd((a,i)=>Vy(i)?hr(hr({},i),{},{velocity:Hm(i.velocity,n[a].velocity,r),from:Hm(i.from,n[a].from,r)}):i,t):zD(e,n,r-1)};function Gee(e,t,r,n,a,i){var o,l=n.reduce((h,p)=>hr(hr({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>xd((h,p)=>p.from,l),u=()=>!Object.values(l).filter(Vy).length,d=null,f=h=>{o||(o=h);var p=h-o,g=p/r.dt;l=zD(r,l,g),a(hr(hr(hr({},e),t),c())),o=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{d()})}function Jee(e,t,r,n,a,i,o){var l=null,c=a.reduce((f,h)=>hr(hr({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,p=xd((v,x)=>Hm(...x,r(h)),c);if(i(hr(hr(hr({},e),t),p)),h<1)l=o.setTimeout(d);else{var g=xd((v,x)=>Hm(...x,r(1)),c);i(hr(hr(hr({},e),t),g))}};return()=>(l=o.setTimeout(d),()=>{l()})}const Xee=(e,t,r,n,a,i)=>{var o=qee(e,t);return r.isStepper===!0?Gee(e,t,r,o,a,i):Jee(e,t,r,n,o,a,i)};var Ym=1e-4,WD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],qD=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),jk=(e,t)=>r=>{var n=WD(e,t);return qD(n,r)},Qee=(e,t)=>r=>{var n=WD(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return qD(a,r)},Sk=function(){for(var t,r,n,a,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else o.length===4&&([t,n,r,a]=o);var u=jk(t,r),d=jk(n,a),f=Qee(t,r),h=g=>g>1?1:g<0?0:g,p=g=>{for(var v=g>1?1:g,x=v,y=0;y<8;++y){var b=u(x)-v,w=f(x);if(Math.abs(b-v)<Ym||w<Ym)return d(x);x=h(x-b/w)}return d(x)};return p.isStepper=!1,p},Zee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,c)=>{var u=-(o-l)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+o;return Math.abs(h-l)<Ym&&Math.abs(f)<Ym?[l,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},ete=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Sk(e);case"spring":return Zee();default:if(e.split("(")[0]==="cubic-bezier")return Sk(e)}return typeof e=="function"?e:null};function tte(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class rte{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function nte(){return tte(new rte)}var ste=m.createContext(nte);function ate(e,t){var r=m.useContext(ste);return m.useMemo(()=>t??r(e),[e,t,r])}var ite={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Nk={t:0},Ex={t:1};function Wd(e){var t=br(e,ite),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=ate(t.animationId,t.animationManager),[f,h]=m.useState(r?Nk:Ex),p=m.useRef(null);return m.useEffect(()=>{r||h(Ex)},[r]),m.useEffect(()=>{if(!r||!n)return Fee;var g=Xee(Nk,Ex,ete(i),a,h,d.getTimeoutController()),v=()=>{p.current=g()};return d.start([c,o,v,a,l]),()=>{d.stop(),p.current&&p.current(),l()}},[r,n,a,i,o,c,l,d]),u(f.t)}function qd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=m.useRef(hd(t)),n=m.useRef(e);return n.current!==e&&(r.current=hd(t),n.current=e),r.current}var ote=["radius"],lte=["radius"];function _k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ek(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(r),!0).forEach(function(n){cte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cte(e,t,r){return(t=ute(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ute(e){var t=dte(e,"string");return typeof t=="symbol"?t:t+""}function dte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gm(){return Gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gm.apply(null,arguments)}function kk(e,t){if(e==null)return{};var r,n,a=fte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Pk=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>i?i:a[f];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*d[1])),u+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var p=Math.min(i,a);u="M ".concat(e,",").concat(t+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+l*p,",").concat(t,`
            L `).concat(e+r-l*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*p,`
            L `).concat(e+r,",").concat(t+n-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-l*p,",").concat(t+n,`
            L `).concat(e+l*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},hte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KD=e=>{var t=br(e,hte),r=m.useRef(null),[n,a]=m.useState(-1);m.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var q=r.current.getTotalLength();q&&a(q)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:v}=t,x=m.useRef(l),y=m.useRef(c),b=m.useRef(i),w=m.useRef(o),j=m.useMemo(()=>({x:i,y:o,width:l,height:c,radius:u}),[i,o,l,c,u]),S=qd(j,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var N=Ie("recharts-rectangle",d);if(!v){var _=Dr(t),{radius:E}=_,k=kk(_,ote);return m.createElement("path",Gm({},k,{radius:typeof u=="number"?u:void 0,className:N,d:Pk(i,o,l,c,u)}))}var A=x.current,R=y.current,D=b.current,F=w.current,W="0px ".concat(n===-1?1:n,"px"),K="".concat(n,"px 0px"),H=VD(["strokeDasharray"],h,typeof f=="string"?f:void 0);return m.createElement(Wd,{animationId:S,key:S,canBegin:n>0,duration:h,easing:f,isActive:v,begin:p},q=>{var O=At(A,l,q),V=At(R,c,q),J=At(D,i,q),he=At(F,o,q);r.current&&(x.current=O,y.current=V,b.current=J,w.current=he);var be;g?q>0?be={transition:H,strokeDasharray:K}:be={strokeDasharray:W}:be={strokeDasharray:K};var _e=Dr(t),{radius:je}=_e,Oe=kk(_e,lte);return m.createElement("path",Gm({},Oe,{radius:typeof u=="number"?u:void 0,className:N,d:Pk(J,he,O,V,u),ref:r,style:Ek(Ek({},be),t.style)}))})};function HD(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=$t(t,r,n,a),l=$t(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(null,arguments)}var mte=(e,t)=>{var r=or(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},nh=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/qm,f=c?a:a+i*d,h=$t(t,r,u,f),p=$t(t,r,n,f),g=c?a-i*d:a,v=$t(t,r,u*Math.cos(d*qm),g);return{center:h,circleTangency:p,lineTangency:v,theta:d}},YD=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=mte(i,o),c=i+l,u=$t(t,r,a,i),d=$t(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=$t(t,r,n,i),p=$t(t,r,n,c);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},pte=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=or(u-c),{circleTangency:f,lineTangency:h,theta:p}=nh({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:g,lineTangency:v,theta:x}=nh({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),y=l?Math.abs(c-u):Math.abs(c-u)-p-x;if(y<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):YD({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:j,theta:S}=nh({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:N,lineTangency:_,theta:E}=nh({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),k=l?Math.abs(c-u):Math.abs(c-u)-S-E;if(k<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(k>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},gte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GD=e=>{var t=br(e,gte),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=Ie("recharts-sector",f),p=i-a,g=Pr(o,p,0,!0),v;return g>0&&Math.abs(u-d)<360?v=pte({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=YD({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),m.createElement("path",zy({},Dr(t),{className:h,d:v}))};function vte(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=$t(l,c,u,f),p=$t(l,c,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return HD(t);return[{x:n,y:a},{x:i,y:o}]}var JD={},XD={},QD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mj;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(QD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QD;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(XD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dj,r=XD;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=o;return c}e.range=n})(JD);var xte=JD.range;const ZD=ys(xte);function di(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yte(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yj(e){let t,r,n;e.length!==2?(t=di,r=(l,c)=>di(e(l),c),n=(l,c)=>e(l)-c):(t=e===di||e===yte?e:bte,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function bte(){return 0}function e5(e){return e===null?NaN:+e}function*wte(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const jte=Yj(di),Kd=jte.right;Yj(e5).center;class Ck extends Map{constructor(t,r=_te){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Ak(this,t))}has(t){return super.has(Ak(this,t))}set(t,r){return super.set(Ste(this,t),r)}delete(t){return super.delete(Nte(this,t))}}function Ak({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Ste({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Nte({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function _te(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ete(e=di){if(e===di)return t5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function t5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const kte=Math.sqrt(50),Pte=Math.sqrt(10),Cte=Math.sqrt(2);function Jm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=kte?10:i>=Pte?5:i>=Cte?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Jm(e,t,r*2):[l,c,u]}function Wy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Jm(t,e,r):Jm(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function qy(e,t,r){return t=+t,e=+e,r=+r,Jm(e,t,r)[2]}function Ky(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?qy(t,e,r):qy(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Ok(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Tk(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function r5(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?t5:Ete(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));r5(e,t,p,g,a)}const i=e[t];let o=r,l=n;for(au(e,r,t),a(e[n],i)>0&&au(e,r,n);o<l;){for(au(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?au(e,r,l):(++l,au(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function au(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Ate(e,t,r){if(e=Float64Array.from(wte(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Tk(e);if(t>=1)return Ok(e);var n,a=(n-1)*t,i=Math.floor(a),o=Ok(r5(e,i).subarray(0,i+1)),l=Tk(e.subarray(i+1));return o+(l-o)*(a-i)}}function Ote(e,t,r=e5){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Tte(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Xn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Aa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Hy=Symbol("implicit");function Gj(){var e=new Ck,t=[],r=[],n=Hy;function a(i){let o=e.get(i);if(o===void 0){if(n!==Hy)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Ck;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Gj(t,r).unknown(n)},Xn.apply(a,arguments),a}function Jj(){var e=Gj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,v=p?n:a;i=(v-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(v-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=Tte(h).map(function(y){return g+i*y});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Jj(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Xn.apply(f(),arguments)}function n5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return n5(t())},e}function Ite(){return n5(Jj.apply(null,arguments).paddingInner(1))}function Xj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function s5(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Hd(){}var yd=.7,Xm=1/yd,Hl="\\s*([+-]?\\d+)\\s*",bd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rte=/^#([0-9a-f]{3,8})$/,Mte=new RegExp(`^rgb\\(${Hl},${Hl},${Hl}\\)$`),Dte=new RegExp(`^rgb\\(${Bs},${Bs},${Bs}\\)$`),Lte=new RegExp(`^rgba\\(${Hl},${Hl},${Hl},${bd}\\)$`),$te=new RegExp(`^rgba\\(${Bs},${Bs},${Bs},${bd}\\)$`),Fte=new RegExp(`^hsl\\(${bd},${Bs},${Bs}\\)$`),Bte=new RegExp(`^hsla\\(${bd},${Bs},${Bs},${bd}\\)$`),Ik={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xj(Hd,wd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Rk,formatHex:Rk,formatHex8:Ute,formatHsl:Vte,formatRgb:Mk,toString:Mk});function Rk(){return this.rgb().formatHex()}function Ute(){return this.rgb().formatHex8()}function Vte(){return a5(this).formatHsl()}function Mk(){return this.rgb().formatRgb()}function wd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Rte.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Dk(t):r===3?new Wr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?sh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?sh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Mte.exec(e))?new Wr(t[1],t[2],t[3],1):(t=Dte.exec(e))?new Wr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Lte.exec(e))?sh(t[1],t[2],t[3],t[4]):(t=$te.exec(e))?sh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Fte.exec(e))?Fk(t[1],t[2]/100,t[3]/100,1):(t=Bte.exec(e))?Fk(t[1],t[2]/100,t[3]/100,t[4]):Ik.hasOwnProperty(e)?Dk(Ik[e]):e==="transparent"?new Wr(NaN,NaN,NaN,0):null}function Dk(e){return new Wr(e>>16&255,e>>8&255,e&255,1)}function sh(e,t,r,n){return n<=0&&(e=t=r=NaN),new Wr(e,t,r,n)}function zte(e){return e instanceof Hd||(e=wd(e)),e?(e=e.rgb(),new Wr(e.r,e.g,e.b,e.opacity)):new Wr}function Yy(e,t,r,n){return arguments.length===1?zte(e):new Wr(e,t,r,n??1)}function Wr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Xj(Wr,Yy,s5(Hd,{brighter(e){return e=e==null?Xm:Math.pow(Xm,e),new Wr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yd:Math.pow(yd,e),new Wr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wr(jo(this.r),jo(this.g),jo(this.b),Qm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Lk,formatHex:Lk,formatHex8:Wte,formatRgb:$k,toString:$k}));function Lk(){return`#${fo(this.r)}${fo(this.g)}${fo(this.b)}`}function Wte(){return`#${fo(this.r)}${fo(this.g)}${fo(this.b)}${fo((isNaN(this.opacity)?1:this.opacity)*255)}`}function $k(){const e=Qm(this.opacity);return`${e===1?"rgb(":"rgba("}${jo(this.r)}, ${jo(this.g)}, ${jo(this.b)}${e===1?")":`, ${e})`}`}function Qm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function jo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fo(e){return e=jo(e),(e<16?"0":"")+e.toString(16)}function Fk(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new us(e,t,r,n)}function a5(e){if(e instanceof us)return new us(e.h,e.s,e.l,e.opacity);if(e instanceof Hd||(e=wd(e)),!e)return new us;if(e instanceof us)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new us(o,l,c,e.opacity)}function qte(e,t,r,n){return arguments.length===1?a5(e):new us(e,t,r,n??1)}function us(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Xj(us,qte,s5(Hd,{brighter(e){return e=e==null?Xm:Math.pow(Xm,e),new us(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yd:Math.pow(yd,e),new us(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Wr(kx(e>=240?e-240:e+120,a,n),kx(e,a,n),kx(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new us(Bk(this.h),ah(this.s),ah(this.l),Qm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qm(this.opacity);return`${e===1?"hsl(":"hsla("}${Bk(this.h)}, ${ah(this.s)*100}%, ${ah(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Bk(e){return e=(e||0)%360,e<0?e+360:e}function ah(e){return Math.max(0,Math.min(1,e||0))}function kx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Qj=e=>()=>e;function Kte(e,t){return function(r){return e+r*t}}function Hte(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Yte(e){return(e=+e)==1?i5:function(t,r){return r-t?Hte(t,r,e):Qj(isNaN(t)?r:t)}}function i5(e,t){var r=t-e;return r?Kte(e,r):Qj(isNaN(e)?t:e)}const Uk=function e(t){var r=Yte(t);function n(a,i){var o=r((a=Yy(a)).r,(i=Yy(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=i5(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Gte(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Jte(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Xte(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Rc(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function Qte(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Zm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Zte(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Rc(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Gy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Px=new RegExp(Gy.source,"g");function ere(e){return function(){return e}}function tre(e){return function(t){return e(t)+""}}function rre(e,t){var r=Gy.lastIndex=Px.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Gy.exec(e))&&(a=Px.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Zm(n,a)})),r=Px.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?tre(c[0].x):ere(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Rc(e,t){var r=typeof t,n;return t==null||r==="boolean"?Qj(t):(r==="number"?Zm:r==="string"?(n=wd(t))?(t=n,Uk):rre:t instanceof wd?Uk:t instanceof Date?Qte:Jte(t)?Gte:Array.isArray(t)?Xte:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Zte:Zm)(e,t)}function Zj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function nre(e,t){t===void 0&&(t=e,e=Rc);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function sre(e){return function(){return e}}function ep(e){return+e}var Vk=[0,1];function Rr(e){return e}function Jy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:sre(isNaN(t)?NaN:.5)}function are(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ire(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Jy(a,n),i=r(o,i)):(n=Jy(n,a),i=r(i,o)),function(l){return i(n(l))}}function ore(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Jy(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Kd(e,l,1,n)-1;return i[c](a[c](l))}}function Yd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tg(){var e=Vk,t=Vk,r=Rc,n,a,i,o=Rr,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Rr&&(o=are(e[0],e[h-1])),l=h>2?ore:ire,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Zm)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ep),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Zj,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Rr,d()):o!==Rr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function eS(){return Tg()(Rr,Rr)}function lre(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function tp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function cc(e){return e=tp(Math.abs(e)),e?e[1]:NaN}function cre(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function ure(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var dre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jd(e){if(!(t=dre.exec(e)))throw new Error("invalid format: "+e);var t;return new tS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}jd.prototype=tS.prototype;function tS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}tS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fre(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var o5;function hre(e,t){var r=tp(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(o5=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+tp(e,Math.max(0,t+i-1))[0]}function zk(e,t){var r=tp(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Wk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lre,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>zk(e*100,t),r:zk,s:hre,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qk(e){return e}var Kk=Array.prototype.map,Hk=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function mre(e){var t=e.grouping===void 0||e.thousands===void 0?qk:cre(Kk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?qk:ure(Kk.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=jd(f);var h=f.fill,p=f.align,g=f.sign,v=f.symbol,x=f.zero,y=f.width,b=f.comma,w=f.precision,j=f.trim,S=f.type;S==="n"?(b=!0,S="g"):Wk[S]||(w===void 0&&(w=12),j=!0,S="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var N=v==="$"?r:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",_=v==="$"?n:/[%p]/.test(S)?o:"",E=Wk[S],k=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function A(R){var D=N,F=_,W,K,H;if(S==="c")F=E(R)+F,R="";else{R=+R;var q=R<0||1/R<0;if(R=isNaN(R)?c:E(Math.abs(R),w),j&&(R=fre(R)),q&&+R==0&&g!=="+"&&(q=!1),D=(q?g==="("?g:l:g==="-"||g==="("?"":g)+D,F=(S==="s"?Hk[8+o5/3]:"")+F+(q&&g==="("?")":""),k){for(W=-1,K=R.length;++W<K;)if(H=R.charCodeAt(W),48>H||H>57){F=(H===46?a+R.slice(W+1):R.slice(W))+F,R=R.slice(0,W);break}}}b&&!x&&(R=t(R,1/0));var O=D.length+R.length+F.length,V=O<y?new Array(y-O+1).join(h):"";switch(b&&x&&(R=t(V+R,V.length?y-F.length:1/0),V=""),p){case"<":R=D+R+F+V;break;case"=":R=D+V+R+F;break;case"^":R=V.slice(0,O=V.length>>1)+D+R+F+V.slice(O);break;default:R=V+D+R+F;break}return i(R)}return A.toString=function(){return f+""},A}function d(f,h){var p=u((f=jd(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(cc(h)/3)))*3,v=Math.pow(10,-g),x=Hk[8+g/3];return function(y){return p(v*y)+x}}return{format:u,formatPrefix:d}}var ih,rS,l5;pre({thousands:",",grouping:[3],currency:["$",""]});function pre(e){return ih=mre(e),rS=ih.format,l5=ih.formatPrefix,ih}function gre(e){return Math.max(0,-cc(Math.abs(e)))}function vre(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cc(t)/3)))*3-cc(Math.abs(e)))}function xre(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cc(t)-cc(e))+1}function c5(e,t,r,n){var a=Ky(e,t,r),i;switch(n=jd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=vre(a,o))&&(n.precision=i),l5(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=xre(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=gre(a))&&(n.precision=i-(n.type==="%")*2);break}}return rS(n)}function Wi(e){var t=e.domain;return e.ticks=function(r){var n=t();return Wy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return c5(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=qy(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function u5(){var e=eS();return e.copy=function(){return Yd(e,u5())},Xn.apply(e,arguments),Wi(e)}function d5(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ep),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return d5(e).unknown(t)},e=arguments.length?Array.from(e,ep):[0,1],Wi(r)}function f5(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function Yk(e){return Math.log(e)}function Gk(e){return Math.exp(e)}function yre(e){return-Math.log(-e)}function bre(e){return-Math.exp(-e)}function wre(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jre(e){return e===10?wre:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Sre(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Jk(e){return(t,r)=>-e(-t,r)}function nS(e){const t=e(Yk,Gk),r=t.domain;let n=10,a,i;function o(){return a=Sre(n),i=jre(n),r()[0]<0?(a=Jk(a),i=Jk(i),e(yre,bre)):e(Yk,Gk),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),g,v;const x=l==null?10:+l;let y=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(v=h<0?g/i(-h):g*i(h),!(v<u)){if(v>d)break;y.push(v)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(v=h>0?g/i(-h):g*i(h),!(v<u)){if(v>d)break;y.push(v)}y.length*2<x&&(y=Wy(u,d,x))}else y=Wy(h,p,Math.min(p-h,x)).map(i);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=jd(c)).precision==null&&(c.trim=!0),c=rS(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(f5(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function h5(){const e=nS(Tg()).domain([1,10]);return e.copy=()=>Yd(e,h5()).base(e.base()),Xn.apply(e,arguments),e}function Xk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Qk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sS(e){var t=1,r=e(Xk(t),Qk(t));return r.constant=function(n){return arguments.length?e(Xk(t=+n),Qk(t)):t},Wi(r)}function m5(){var e=sS(Tg());return e.copy=function(){return Yd(e,m5()).constant(e.constant())},Xn.apply(e,arguments)}function Zk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Nre(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _re(e){return e<0?-e*e:e*e}function aS(e){var t=e(Rr,Rr),r=1;function n(){return r===1?e(Rr,Rr):r===.5?e(Nre,_re):e(Zk(r),Zk(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Wi(t)}function iS(){var e=aS(Tg());return e.copy=function(){return Yd(e,iS()).exponent(e.exponent())},Xn.apply(e,arguments),e}function Ere(){return iS.apply(null,arguments).exponent(.5)}function eP(e){return Math.sign(e)*e*e}function kre(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function p5(){var e=eS(),t=[0,1],r=!1,n;function a(i){var o=kre(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(eP(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ep)).map(eP)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return p5(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Xn.apply(a,arguments),Wi(a)}function g5(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Ote(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Kd(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(di),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return g5().domain(e).range(t).unknown(n)},Xn.apply(i,arguments)}function v5(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Kd(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return v5().domain([e,t]).range(a).unknown(i)},Xn.apply(Wi(o),arguments)}function x5(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Kd(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return x5().domain(e).range(t).unknown(r)},Xn.apply(a,arguments)}const Cx=new Date,Ax=new Date;function Zt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Zt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Cx.setTime(+i),Ax.setTime(+o),e(Cx),e(Ax),Math.floor(r(Cx,Ax))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const rp=Zt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Zt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):rp);rp.range;const ia=1e3,$n=ia*60,oa=$n*60,Sa=oa*24,oS=Sa*7,tP=Sa*30,Ox=Sa*365,ho=Zt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ia)},(e,t)=>(t-e)/ia,e=>e.getUTCSeconds());ho.range;const lS=Zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ia)},(e,t)=>{e.setTime(+e+t*$n)},(e,t)=>(t-e)/$n,e=>e.getMinutes());lS.range;const cS=Zt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*$n)},(e,t)=>(t-e)/$n,e=>e.getUTCMinutes());cS.range;const uS=Zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ia-e.getMinutes()*$n)},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getHours());uS.range;const dS=Zt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getUTCHours());dS.range;const Gd=Zt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$n)/Sa,e=>e.getDate()-1);Gd.range;const Ig=Zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sa,e=>e.getUTCDate()-1);Ig.range;const y5=Zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sa,e=>Math.floor(e/Sa));y5.range;function Xo(e){return Zt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*$n)/oS)}const Rg=Xo(0),np=Xo(1),Pre=Xo(2),Cre=Xo(3),uc=Xo(4),Are=Xo(5),Ore=Xo(6);Rg.range;np.range;Pre.range;Cre.range;uc.range;Are.range;Ore.range;function Qo(e){return Zt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/oS)}const Mg=Qo(0),sp=Qo(1),Tre=Qo(2),Ire=Qo(3),dc=Qo(4),Rre=Qo(5),Mre=Qo(6);Mg.range;sp.range;Tre.range;Ire.range;dc.range;Rre.range;Mre.range;const fS=Zt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());fS.range;const hS=Zt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());hS.range;const Na=Zt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Na.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Na.range;const _a=Zt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_a.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});_a.range;function b5(e,t,r,n,a,i){const o=[[ho,1,ia],[ho,5,5*ia],[ho,15,15*ia],[ho,30,30*ia],[i,1,$n],[i,5,5*$n],[i,15,15*$n],[i,30,30*$n],[a,1,oa],[a,3,3*oa],[a,6,6*oa],[a,12,12*oa],[n,1,Sa],[n,2,2*Sa],[r,1,oS],[t,1,tP],[t,3,3*tP],[e,1,Ox]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=Yj(([,,x])=>x).right(o,h);if(p===o.length)return e.every(Ky(u/Ox,d/Ox,f));if(p===0)return rp.every(Math.max(Ky(u,d,f),1));const[g,v]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(v)}return[l,c]}const[Dre,Lre]=b5(_a,hS,Mg,y5,dS,cS),[$re,Fre]=b5(Na,fS,Rg,Gd,uS,lS);function Tx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ix(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function iu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Bre(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=ou(a),d=lu(a),f=ou(i),h=lu(i),p=ou(o),g=lu(o),v=ou(l),x=lu(l),y=ou(c),b=lu(c),w={a:q,A:O,b:V,B:J,c:null,d:oP,e:oP,f:cne,g:yne,G:wne,H:ine,I:one,j:lne,L:w5,m:une,M:dne,p:he,q:be,Q:uP,s:dP,S:fne,u:hne,U:mne,V:pne,w:gne,W:vne,x:null,X:null,y:xne,Y:bne,Z:jne,"%":cP},j={a:_e,A:je,b:Oe,B:ot,c:null,d:lP,e:lP,f:Ene,g:Dne,G:$ne,H:Sne,I:Nne,j:_ne,L:S5,m:kne,M:Pne,p:Q,q:De,Q:uP,s:dP,S:Cne,u:Ane,U:One,V:Tne,w:Ine,W:Rne,x:null,X:null,y:Mne,Y:Lne,Z:Fne,"%":cP},S={a:A,A:R,b:D,B:F,c:W,d:aP,e:aP,f:rne,g:sP,G:nP,H:iP,I:iP,j:Qre,L:tne,m:Xre,M:Zre,p:k,q:Jre,Q:sne,s:ane,S:ene,u:qre,U:Kre,V:Hre,w:Wre,W:Yre,x:K,X:H,y:sP,Y:nP,Z:Gre,"%":nne};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(B,ee){return function(oe){var U=[],Ve=-1,ke=0,qt=B.length,Kt,Gr,uf;for(oe instanceof Date||(oe=new Date(+oe));++Ve<qt;)B.charCodeAt(Ve)===37&&(U.push(B.slice(ke,Ve)),(Gr=rP[Kt=B.charAt(++Ve)])!=null?Kt=B.charAt(++Ve):Gr=Kt==="e"?" ":"0",(uf=ee[Kt])&&(Kt=uf(oe,Gr)),U.push(Kt),ke=Ve+1);return U.push(B.slice(ke,Ve)),U.join("")}}function _(B,ee){return function(oe){var U=iu(1900,void 0,1),Ve=E(U,B,oe+="",0),ke,qt;if(Ve!=oe.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(ee&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(ke=Ix(iu(U.y,0,1)),qt=ke.getUTCDay(),ke=qt>4||qt===0?sp.ceil(ke):sp(ke),ke=Ig.offset(ke,(U.V-1)*7),U.y=ke.getUTCFullYear(),U.m=ke.getUTCMonth(),U.d=ke.getUTCDate()+(U.w+6)%7):(ke=Tx(iu(U.y,0,1)),qt=ke.getDay(),ke=qt>4||qt===0?np.ceil(ke):np(ke),ke=Gd.offset(ke,(U.V-1)*7),U.y=ke.getFullYear(),U.m=ke.getMonth(),U.d=ke.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),qt="Z"in U?Ix(iu(U.y,0,1)).getUTCDay():Tx(iu(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(qt+5)%7:U.w+U.U*7-(qt+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,Ix(U)):Tx(U)}}function E(B,ee,oe,U){for(var Ve=0,ke=ee.length,qt=oe.length,Kt,Gr;Ve<ke;){if(U>=qt)return-1;if(Kt=ee.charCodeAt(Ve++),Kt===37){if(Kt=ee.charAt(Ve++),Gr=S[Kt in rP?ee.charAt(Ve++):Kt],!Gr||(U=Gr(B,oe,U))<0)return-1}else if(Kt!=oe.charCodeAt(U++))return-1}return U}function k(B,ee,oe){var U=u.exec(ee.slice(oe));return U?(B.p=d.get(U[0].toLowerCase()),oe+U[0].length):-1}function A(B,ee,oe){var U=p.exec(ee.slice(oe));return U?(B.w=g.get(U[0].toLowerCase()),oe+U[0].length):-1}function R(B,ee,oe){var U=f.exec(ee.slice(oe));return U?(B.w=h.get(U[0].toLowerCase()),oe+U[0].length):-1}function D(B,ee,oe){var U=y.exec(ee.slice(oe));return U?(B.m=b.get(U[0].toLowerCase()),oe+U[0].length):-1}function F(B,ee,oe){var U=v.exec(ee.slice(oe));return U?(B.m=x.get(U[0].toLowerCase()),oe+U[0].length):-1}function W(B,ee,oe){return E(B,t,ee,oe)}function K(B,ee,oe){return E(B,r,ee,oe)}function H(B,ee,oe){return E(B,n,ee,oe)}function q(B){return o[B.getDay()]}function O(B){return i[B.getDay()]}function V(B){return c[B.getMonth()]}function J(B){return l[B.getMonth()]}function he(B){return a[+(B.getHours()>=12)]}function be(B){return 1+~~(B.getMonth()/3)}function _e(B){return o[B.getUTCDay()]}function je(B){return i[B.getUTCDay()]}function Oe(B){return c[B.getUTCMonth()]}function ot(B){return l[B.getUTCMonth()]}function Q(B){return a[+(B.getUTCHours()>=12)]}function De(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var ee=N(B+="",w);return ee.toString=function(){return B},ee},parse:function(B){var ee=_(B+="",!1);return ee.toString=function(){return B},ee},utcFormat:function(B){var ee=N(B+="",j);return ee.toString=function(){return B},ee},utcParse:function(B){var ee=_(B+="",!0);return ee.toString=function(){return B},ee}}}var rP={"-":"",_:" ",0:"0"},ur=/^\s*\d+/,Ure=/^%/,Vre=/[\\^$*+?|[\]().{}]/g;function $e(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function zre(e){return e.replace(Vre,"\\$&")}function ou(e){return new RegExp("^(?:"+e.map(zre).join("|")+")","i")}function lu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Wre(e,t,r){var n=ur.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function qre(e,t,r){var n=ur.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Kre(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Hre(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Yre(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function nP(e,t,r){var n=ur.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function sP(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Gre(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Jre(e,t,r){var n=ur.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Xre(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function aP(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Qre(e,t,r){var n=ur.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function iP(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Zre(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ene(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function tne(e,t,r){var n=ur.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function rne(e,t,r){var n=ur.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nne(e,t,r){var n=Ure.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function sne(e,t,r){var n=ur.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function ane(e,t,r){var n=ur.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function oP(e,t){return $e(e.getDate(),t,2)}function ine(e,t){return $e(e.getHours(),t,2)}function one(e,t){return $e(e.getHours()%12||12,t,2)}function lne(e,t){return $e(1+Gd.count(Na(e),e),t,3)}function w5(e,t){return $e(e.getMilliseconds(),t,3)}function cne(e,t){return w5(e,t)+"000"}function une(e,t){return $e(e.getMonth()+1,t,2)}function dne(e,t){return $e(e.getMinutes(),t,2)}function fne(e,t){return $e(e.getSeconds(),t,2)}function hne(e){var t=e.getDay();return t===0?7:t}function mne(e,t){return $e(Rg.count(Na(e)-1,e),t,2)}function j5(e){var t=e.getDay();return t>=4||t===0?uc(e):uc.ceil(e)}function pne(e,t){return e=j5(e),$e(uc.count(Na(e),e)+(Na(e).getDay()===4),t,2)}function gne(e){return e.getDay()}function vne(e,t){return $e(np.count(Na(e)-1,e),t,2)}function xne(e,t){return $e(e.getFullYear()%100,t,2)}function yne(e,t){return e=j5(e),$e(e.getFullYear()%100,t,2)}function bne(e,t){return $e(e.getFullYear()%1e4,t,4)}function wne(e,t){var r=e.getDay();return e=r>=4||r===0?uc(e):uc.ceil(e),$e(e.getFullYear()%1e4,t,4)}function jne(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$e(t/60|0,"0",2)+$e(t%60,"0",2)}function lP(e,t){return $e(e.getUTCDate(),t,2)}function Sne(e,t){return $e(e.getUTCHours(),t,2)}function Nne(e,t){return $e(e.getUTCHours()%12||12,t,2)}function _ne(e,t){return $e(1+Ig.count(_a(e),e),t,3)}function S5(e,t){return $e(e.getUTCMilliseconds(),t,3)}function Ene(e,t){return S5(e,t)+"000"}function kne(e,t){return $e(e.getUTCMonth()+1,t,2)}function Pne(e,t){return $e(e.getUTCMinutes(),t,2)}function Cne(e,t){return $e(e.getUTCSeconds(),t,2)}function Ane(e){var t=e.getUTCDay();return t===0?7:t}function One(e,t){return $e(Mg.count(_a(e)-1,e),t,2)}function N5(e){var t=e.getUTCDay();return t>=4||t===0?dc(e):dc.ceil(e)}function Tne(e,t){return e=N5(e),$e(dc.count(_a(e),e)+(_a(e).getUTCDay()===4),t,2)}function Ine(e){return e.getUTCDay()}function Rne(e,t){return $e(sp.count(_a(e)-1,e),t,2)}function Mne(e,t){return $e(e.getUTCFullYear()%100,t,2)}function Dne(e,t){return e=N5(e),$e(e.getUTCFullYear()%100,t,2)}function Lne(e,t){return $e(e.getUTCFullYear()%1e4,t,4)}function $ne(e,t){var r=e.getUTCDay();return e=r>=4||r===0?dc(e):dc.ceil(e),$e(e.getUTCFullYear()%1e4,t,4)}function Fne(){return"+0000"}function cP(){return"%"}function uP(e){return+e}function dP(e){return Math.floor(+e/1e3)}var dl,_5,E5;Bne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bne(e){return dl=Bre(e),_5=dl.format,dl.parse,E5=dl.utcFormat,dl.utcParse,dl}function Une(e){return new Date(e)}function Vne(e){return e instanceof Date?+e:+new Date(+e)}function mS(e,t,r,n,a,i,o,l,c,u){var d=eS(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),v=u("%I:%M"),x=u("%I %p"),y=u("%a %d"),b=u("%b %d"),w=u("%B"),j=u("%Y");function S(N){return(c(N)<N?p:l(N)<N?g:o(N)<N?v:i(N)<N?x:n(N)<N?a(N)<N?y:b:r(N)<N?w:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,Vne)):h().map(Une)},d.ticks=function(N){var _=h();return e(_[0],_[_.length-1],N??10)},d.tickFormat=function(N,_){return _==null?S:u(_)},d.nice=function(N){var _=h();return(!N||typeof N.range!="function")&&(N=t(_[0],_[_.length-1],N??10)),N?h(f5(_,N)):d},d.copy=function(){return Yd(d,mS(e,t,r,n,a,i,o,l,c,u))},d}function zne(){return Xn.apply(mS($re,Fre,Na,fS,Rg,Gd,uS,lS,ho,_5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wne(){return Xn.apply(mS(Dre,Lre,_a,hS,Mg,Ig,dS,cS,ho,E5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dg(){var e=0,t=1,r,n,a,i,o=Rr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),u):[o(0),o(1)]}}return u.range=d(Rc),u.rangeRound=d(Zj),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function qi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function k5(){var e=Wi(Dg()(Rr));return e.copy=function(){return qi(e,k5())},Aa.apply(e,arguments)}function P5(){var e=nS(Dg()).domain([1,10]);return e.copy=function(){return qi(e,P5()).base(e.base())},Aa.apply(e,arguments)}function C5(){var e=sS(Dg());return e.copy=function(){return qi(e,C5()).constant(e.constant())},Aa.apply(e,arguments)}function pS(){var e=aS(Dg());return e.copy=function(){return qi(e,pS()).exponent(e.exponent())},Aa.apply(e,arguments)}function qne(){return pS.apply(null,arguments).exponent(.5)}function A5(){var e=[],t=Rr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Kd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(di),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Ate(e,i/n))},r.copy=function(){return A5(t).domain(e)},Aa.apply(r,arguments)}function Lg(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Rr,d,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-i)*(n*v<n*i?l:c),u(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(u=v,p):u};function g(v){return function(x){var y,b,w;return arguments.length?([y,b,w]=x,u=nre(v,[y,b,w]),p):[u(0),u(.5),u(1)]}}return p.range=g(Rc),p.rangeRound=g(Zj),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return d=v,a=v(e),i=v(t),o=v(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function O5(){var e=Wi(Lg()(Rr));return e.copy=function(){return qi(e,O5())},Aa.apply(e,arguments)}function T5(){var e=nS(Lg()).domain([.1,1,10]);return e.copy=function(){return qi(e,T5()).base(e.base())},Aa.apply(e,arguments)}function I5(){var e=sS(Lg());return e.copy=function(){return qi(e,I5()).constant(e.constant())},Aa.apply(e,arguments)}function gS(){var e=aS(Lg());return e.copy=function(){return qi(e,gS()).exponent(e.exponent())},Aa.apply(e,arguments)}function Kne(){return gS.apply(null,arguments).exponent(.5)}const ju=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jj,scaleDiverging:O5,scaleDivergingLog:T5,scaleDivergingPow:gS,scaleDivergingSqrt:Kne,scaleDivergingSymlog:I5,scaleIdentity:d5,scaleImplicit:Hy,scaleLinear:u5,scaleLog:h5,scaleOrdinal:Gj,scalePoint:Ite,scalePow:iS,scaleQuantile:g5,scaleQuantize:v5,scaleRadial:p5,scaleSequential:k5,scaleSequentialLog:P5,scaleSequentialPow:pS,scaleSequentialQuantile:A5,scaleSequentialSqrt:qne,scaleSequentialSymlog:C5,scaleSqrt:Ere,scaleSymlog:m5,scaleThreshold:x5,scaleTime:zne,scaleUtc:Wne,tickFormat:c5},Symbol.toStringTag,{value:"Module"}));var Ki=e=>e.chartData,vS=$([Ki],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),$g=(e,t,r,n)=>n?vS(e):Ki(e);function Fo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ar(t)&&Ar(r))return!0}return!1}function fP(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function R5(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Ar(r))a=r;else if(typeof r=="function")return;if(Ar(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(Fo(o))return o}}function Hne(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Fo(n))return fP(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(me(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[0]))}catch{}else if(typeof a=="string"&&nk.test(a)){var c=nk.exec(a);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t?.[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(me(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t?.[1]))}catch{}else if(typeof i=="string"&&sk.test(i)){var d=sk.exec(i);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t?.[1];var h=[o,l];if(Fo(h))return t==null?h:fP(h,t,r)}}}var Mc=1e9,Yne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yS,pt=!0,Hn="[DecimalError] ",So=Hn+"Invalid argument: ",xS=Hn+"Exponent out of range: ",Dc=Math.floor,no=Math.pow,Gne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,cn,rr=1e7,ct=7,M5=9007199254740991,ap=Dc(M5/ct),re={};re.absoluteValue=re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};re.comparedTo=re.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};re.decimalPlaces=re.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ct;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};re.dividedBy=re.div=function(e){return ha(this,new this.constructor(e))};re.dividedToIntegerBy=re.idiv=function(e){var t=this,r=t.constructor;return Je(ha(t,new r(e),0,1),r.precision)};re.equals=re.eq=function(e){return!this.cmp(e)};re.exponent=function(){return Ft(this)};re.greaterThan=re.gt=function(e){return this.cmp(e)>0};re.greaterThanOrEqualTo=re.gte=function(e){return this.cmp(e)>=0};re.isInteger=re.isint=function(){return this.e>this.d.length-2};re.isNegative=re.isneg=function(){return this.s<0};re.isPositive=re.ispos=function(){return this.s>0};re.isZero=function(){return this.s===0};re.lessThan=re.lt=function(e){return this.cmp(e)<0};re.lessThanOrEqualTo=re.lte=function(e){return this.cmp(e)<1};re.logarithm=re.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(cn))throw Error(Hn+"NaN");if(r.s<1)throw Error(Hn+(r.s?"NaN":"-Infinity"));return r.eq(cn)?new n(0):(pt=!1,t=ha(Sd(r,i),Sd(e,i),i),pt=!0,Je(t,a))};re.minus=re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$5(t,e):D5(t,(e.s=-e.s,e))};re.modulo=re.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Hn+"NaN");return r.s?(pt=!1,t=ha(r,e,0,1).times(e),pt=!0,r.minus(t)):Je(new n(r),a)};re.naturalExponential=re.exp=function(){return L5(this)};re.naturalLogarithm=re.ln=function(){return Sd(this)};re.negated=re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};re.plus=re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?D5(t,e):$5(t,(e.s=-e.s,e))};re.precision=re.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(So+e);if(t=Ft(a)+1,n=a.d.length-1,r=n*ct+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};re.squareRoot=re.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Hn+"NaN")}for(e=Ft(l),pt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Is(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Dc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(ha(l,i,o+2)).times(.5),Is(i.d).slice(0,o)===(t=Is(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Je(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return pt=!0,Je(n,r)};re.times=re.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%rr|0,t=l/rr|0;i[a]=(i[a]+t)%rr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,pt?Je(e,f.precision):e};re.toDecimalPlaces=re.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(qs(e,0,Mc),t===void 0?t=n.rounding:qs(t,0,8),Je(r,e+Ft(r)+1,t))};re.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Bo(n,!0):(qs(e,0,Mc),t===void 0?t=a.rounding:qs(t,0,8),n=Je(new a(n),e+1,t),r=Bo(n,!0,e+1)),r};re.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Bo(a):(qs(e,0,Mc),t===void 0?t=i.rounding:qs(t,0,8),n=Je(new i(a),e+Ft(a)+1,t),r=Bo(n.abs(),!1,e+Ft(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};re.toInteger=re.toint=function(){var e=this,t=e.constructor;return Je(new t(e),Ft(e)+1,t.rounding)};re.toNumber=function(){return+this};re.toPower=re.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(cn);if(l=new c(l),!l.s){if(e.s<1)throw Error(Hn+"Infinity");return l}if(l.eq(cn))return l;if(n=c.precision,e.eq(cn))return Je(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=M5){for(a=new c(cn),t=Math.ceil(n/ct+4),pt=!1;r%2&&(a=a.times(l),mP(a.d,t)),r=Dc(r/2),r!==0;)l=l.times(l),mP(l.d,t);return pt=!0,e.s<0?new c(cn).div(a):Je(a,n)}}else if(i<0)throw Error(Hn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,pt=!1,a=e.times(Sd(l,n+u)),pt=!0,a=L5(a),a.s=i,a};re.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Ft(a),n=Bo(a,r<=i.toExpNeg||r>=i.toExpPos)):(qs(e,1,Mc),t===void 0?t=i.rounding:qs(t,0,8),a=Je(new i(a),e,t),r=Ft(a),n=Bo(a,e<=r||r<=i.toExpNeg,e)),n};re.toSignificantDigits=re.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(qs(e,1,Mc),t===void 0?t=n.rounding:qs(t,0,8)),Je(new n(r),e,t)};re.toString=re.valueOf=re.val=re.toJSON=re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ft(e),r=e.constructor;return Bo(e,t<=r.toExpNeg||t>=r.toExpPos)};function D5(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),pt?Je(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/ct),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/rr|0,c[i]%=rr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,pt?Je(t,f):t}function qs(e,t,r){if(e!==~~e||e<t||e>r)throw Error(So+e)}function Is(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=ct-n.length,r&&(i+=Wa(r)),i+=n;o=e[t],n=o+"",r=ct-n.length,r&&(i+=Wa(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ha=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%rr|0,o=i/rr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*rr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,p,g,v,x,y,b,w,j,S,N,_,E,k=n.constructor,A=n.s==a.s?1:-1,R=n.d,D=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(Hn+"Division by zero");for(c=n.e-a.e,_=D.length,S=R.length,p=new k(A),g=p.d=[],u=0;D[u]==(R[u]||0);)++u;if(D[u]>(R[u]||0)&&--c,i==null?b=i=k.precision:o?b=i+(Ft(n)-Ft(a))+1:b=i,b<0)return new k(0);if(b=b/ct+2|0,u=0,_==1)for(d=0,D=D[0],b++;(u<S||d)&&b--;u++)w=d*rr+(R[u]||0),g[u]=w/D|0,d=w%D|0;else{for(d=rr/(D[0]+1)|0,d>1&&(D=e(D,d),R=e(R,d),_=D.length,S=R.length),j=_,v=R.slice(0,_),x=v.length;x<_;)v[x++]=0;E=D.slice(),E.unshift(0),N=D[0],D[1]>=rr/2&&++N;do d=0,l=t(D,v,_,x),l<0?(y=v[0],_!=x&&(y=y*rr+(v[1]||0)),d=y/N|0,d>1?(d>=rr&&(d=rr-1),f=e(D,d),h=f.length,x=v.length,l=t(f,v,h,x),l==1&&(d--,r(f,_<h?E:D,h))):(d==0&&(l=d=1),f=D.slice()),h=f.length,h<x&&f.unshift(0),r(v,f,x),l==-1&&(x=v.length,l=t(D,v,_,x),l<1&&(d++,r(v,_<x?E:D,x))),x=v.length):l===0&&(d++,v=[0]),g[u++]=d,l&&v[0]?v[x++]=R[j]||0:(v=[R[j]],x=1);while((j++<S||v[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=c,Je(p,o?i+Ft(p)+1:i)}}();function L5(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Ft(e)>16)throw Error(xS+Ft(e));if(!e.s)return new d(cn);for(pt=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(no(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(cn),d.precision=l;;){if(a=Je(a.times(e),l),r=r.times(++c),o=i.plus(ha(a,r,l)),Is(o.d).slice(0,l)===Is(i.d).slice(0,l)){for(;u--;)i=Je(i.times(i),l);return d.precision=f,t==null?(pt=!0,Je(i,f)):i}i=o}}function Ft(e){for(var t=e.e*ct,r=e.d[0];r>=10;r/=10)t++;return t}function Rx(e,t,r){if(t>e.LN10.sd())throw pt=!0,r&&(e.precision=r),Error(Hn+"LN10 precision limit exceeded");return Je(new e(e.LN10),t)}function Wa(e){for(var t="";e--;)t+="0";return t}function Sd(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,p=e,g=p.d,v=p.constructor,x=v.precision;if(p.s<1)throw Error(Hn+(p.s?"NaN":"-Infinity"));if(p.eq(cn))return new v(0);if(t==null?(pt=!1,u=x):u=t,p.eq(10))return t==null&&(pt=!0),Rx(v,u);if(u+=h,v.precision=u,r=Is(g),n=r.charAt(0),i=Ft(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Is(p.d),n=r.charAt(0),f++;i=Ft(p),n>1?(p=new v("0."+r),i++):p=new v(n+"."+r.slice(1))}else return c=Rx(v,u+2,x).times(i+""),p=Sd(new v(n+"."+r.slice(1)),u-h).plus(c),v.precision=x,t==null?(pt=!0,Je(p,x)):p;for(l=o=p=ha(p.minus(cn),p.plus(cn),u),d=Je(p.times(p),u),a=3;;){if(o=Je(o.times(d),u),c=l.plus(ha(o,new v(a),u)),Is(c.d).slice(0,u)===Is(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Rx(v,u+2,x).times(i+""))),l=ha(l,new v(f),u),v.precision=x,t==null?(pt=!0,Je(l,x)):l;l=c,a+=2}}function hP(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Dc(r/ct),e.d=[],n=(r+1)%ct,r<0&&(n+=ct),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ct;n<a;)e.d.push(+t.slice(n,n+=ct));t=t.slice(n),n=ct-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),pt&&(e.e>ap||e.e<-ap))throw Error(xS+r)}else e.s=0,e.e=0,e.d=[0];return e}function Je(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=ct,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/ct),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=ct,a=n-ct+o}if(r!==void 0&&(i=no(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/no(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Ft(e),f.length=1,t=t-i-1,f[0]=no(10,(ct-t%ct)%ct),e.e=Dc(-t/ct)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=no(10,ct-n),f[d]=a>0?(u/no(10,o-a)%no(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==rr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=rr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(pt&&(e.e>ap||e.e<-ap))throw Error(xS+Ft(e));return e}function $5(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),pt?Je(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/ct),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=rr-1;--c[i],c[a]+=rr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,pt?Je(t,p):t):new h(0)}function Bo(e,t,r){var n,a=Ft(e),i=Is(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Wa(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Wa(-a-1)+i,r&&(n=r-o)>0&&(i+=Wa(n))):a>=o?(i+=Wa(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Wa(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Wa(n))),e.s<0?"-"+i:i}function mP(e,t){if(e.length>t)return e.length=t,!0}function F5(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(So+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return hP(o,i.toString())}else if(typeof i!="string")throw Error(So+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Gne.test(i))hP(o,i);else throw Error(So+i)}if(a.prototype=re,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=F5,a.config=a.set=Jne,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Jne(e){if(!e||typeof e!="object")throw Error(Hn+"Object expected");var t,r,n,a=["precision",1,Mc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Dc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(So+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(So+r+": "+n);return this}var yS=F5(Yne);cn=new yS(1);const qe=yS;var Xne=e=>e,B5={},U5=e=>e===B5,pP=e=>function t(){return arguments.length===0||arguments.length===1&&U5(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},V5=(e,t)=>e===1?t:pP(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==B5).length;return i>=e?t(...n):V5(e-i,pP(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=n.map(d=>U5(d)?l.shift():d);return t(...u,...l)}))}),Fg=e=>V5(e.length,e),Xy=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Qne=Fg((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Zne=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Xne;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},Qy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),z5=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=a,r=e(...a)),r}};function W5(e){var t;return e===0?t=1:t=Math.floor(new qe(e).abs().log(10).toNumber())+1,t}function q5(e,t,r){for(var n=new qe(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}Fg((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});Fg((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Fg((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var K5=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},H5=(e,t,r)=>{if(e.lte(0))return new qe(0);var n=W5(e.toNumber()),a=new qe(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new qe(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?new qe(c.toNumber()):new qe(Math.ceil(c.toNumber()))},ese=(e,t,r)=>{var n=new qe(1),a=new qe(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new qe(10).pow(W5(e)-1),a=new qe(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new qe(Math.floor(e)))}else e===0?a=new qe(Math.floor((t-1)/2)):r||(a=new qe(Math.floor(e)));var o=Math.floor((t-1)/2),l=Zne(Qne(c=>a.add(new qe(c-o).mul(n)).toNumber()),Xy);return l(0,t)},Y5=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new qe(0),tickMin:new qe(0),tickMax:new qe(0)};var o=H5(new qe(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new qe(0):(l=new qe(t).add(r).div(2),l=l.sub(new qe(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new qe(r).sub(l).div(o).toNumber()),d=c+u+1;return d>n?Y5(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:l.sub(new qe(c).mul(o)),tickMax:l.add(new qe(u).mul(o))})};function tse(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=K5([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Xy(0,n-1).map(()=>1/0)]:[...Xy(0,n-1).map(()=>-1/0),l];return t>r?Qy(c):c}if(o===l)return ese(o,n,a);var{step:u,tickMin:d,tickMax:f}=Y5(o,l,i,a,0),h=q5(d,f.add(new qe(.1).mul(u)),u);return t>r?Qy(h):h}function rse(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=K5([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),c=H5(new qe(o).sub(i).div(l-1),a,0),u=[...q5(new qe(i),new qe(o),c),o];return a===!1&&(u=u.map(d=>Math.round(d))),r>n?Qy(u):u}var nse=z5(tse),sse=z5(rse),G5=e=>e.rootProps.maxBarSize,ase=e=>e.rootProps.barGap,J5=e=>e.rootProps.barCategoryGap,ise=e=>e.rootProps.barSize,Jd=e=>e.rootProps.stackOffset,bS=e=>e.options.chartName,wS=e=>e.rootProps.syncId,X5=e=>e.rootProps.syncMethod,jS=e=>e.options.eventEmitter,ta={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},nn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Bg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},ose={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ta.angleAxisId,includeHidden:!1,name:void 0,reversed:ta.reversed,scale:ta.scale,tick:ta.tick,tickCount:void 0,ticks:void 0,type:ta.type,unit:void 0},lse={allowDataOverflow:nn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:nn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:nn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:nn.scale,tick:nn.tick,tickCount:nn.tickCount,ticks:void 0,type:nn.type,unit:void 0},cse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ta.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ta.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ta.scale,tick:ta.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},use={allowDataOverflow:nn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:nn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:nn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:nn.scale,tick:nn.tick,tickCount:nn.tickCount,ticks:void 0,type:"category",unit:void 0},SS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?cse:ose,NS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?use:lse,Ug=e=>e.polarOptions,_S=$([Pa,Ca,Qt],ND),Q5=$([Ug,_S],(e,t)=>{if(e!=null)return Pr(e.innerRadius,t,0)}),Z5=$([Ug,_S],(e,t)=>{if(e!=null)return Pr(e.outerRadius,t,t*.8)}),dse=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},eL=$([Ug],dse);$([SS,eL],Bg);var tL=$([_S,Q5,Z5],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});$([NS,tL],Bg);var rL=$([Re,Ug,Q5,Z5,Pa,Ca],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:Pr(o,a,a/2),cy:Pr(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),yt=(e,t)=>t,Xd=(e,t,r)=>r;function ES(e){return e?.id}var er=e=>{var t=Re(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Lc=e=>e.tooltip.settings.axisId,tr=e=>{var t=er(e),r=Lc(e);return Qd(e,t,r)},nL=$([tr],e=>e?.dataKey);function sL(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=ES(l);u.forEach((f,h)=>{var p=i==null||a?h:String(at(f,i,null)),g=at(f,l.dataKey,0),v;o.has(p)?v=o.get(p):v={},Object.assign(v,{[d]:g}),o.set(p,v)})}}),Array.from(o.values())}function Vg(e){return e.stackId!=null&&e.dataKey!=null}var zg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Wg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ip(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){fse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fse(e,t,r){return(t=hse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hse(e){var t=mse(e,"string");return typeof t=="symbol"?t:t+""}function mse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zy=[0,"auto"],Zr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},aL=(e,t)=>e.cartesianAxis.xAxis[t],Oa=(e,t)=>{var r=aL(e,t);return r??Zr},en={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Zy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:zd},iL=(e,t)=>e.cartesianAxis.yAxis[t],Ta=(e,t)=>{var r=iL(e,t);return r??en},pse={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},kS=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??pse},Pt=(e,t,r)=>{switch(t){case"xAxis":return Oa(e,r);case"yAxis":return Ta(e,r);case"zAxis":return kS(e,r);case"angleAxis":return SS(e,r);case"radiusAxis":return NS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},gse=(e,t,r)=>{switch(t){case"xAxis":return Oa(e,r);case"yAxis":return Ta(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Qd=(e,t,r)=>{switch(t){case"xAxis":return Oa(e,r);case"yAxis":return Ta(e,r);case"angleAxis":return SS(e,r);case"radiusAxis":return NS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},oL=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function PS(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var qg=e=>e.graphicalItems.cartesianItems,vse=$([yt,Xd],PS),CS=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Zd=$([qg,Pt,vse],CS,{memoizeOptions:{resultEqualityCheck:Wg}}),lL=$([Zd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Vg)),cL=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),xse=$([Zd],cL),AS=e=>e.map(t=>t.data).filter(Boolean).flat(1),yse=$([Zd],AS,{memoizeOptions:{resultEqualityCheck:Wg}}),OS=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},TS=$([yse,$g],OS),IS=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:at(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:at(a,n)}))):e.map(n=>({value:n})),Kg=$([TS,Pt,Zd],IS);function uL(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Uh(e){if(Ws(e)||e instanceof Date){var t=Number(e);if(Ar(t))return t}}function vP(e){if(Array.isArray(e)){var t=[Uh(e[0]),Uh(e[1])];return Fo(t)?t:void 0}var r=Uh(e);if(r!=null)return[r,r]}function $c(e){return e.map(Uh).filter(Bee)}function bse(e,t,r){return!r||typeof t!="number"||qn(t)?[]:r.length?$c(r.flatMap(n=>{var a=at(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Ar(i)||!Ar(o)))return[t-i,t+o]})):[]}var wse=$([lL,$g,tr],sL),dL=(e,t,r)=>{var n={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[o,l]=i,c=l.map(ES);return[o,{stackedData:hZ(e,c,r),graphicalItems:l}]}))},eb=$([wse,lL,Jd],dL),fL=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=xZ(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},jse=$([Pt],e=>e.allowDataOverflow),RS=e=>{var t;if(e==null||!("domain"in e))return Zy;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=$c(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Zy},MS=$([Pt],RS),DS=$([MS,jse],R5),Sse=$([eb,Ki,yt,DS],fL,{memoizeOptions:{resultEqualityCheck:zg}}),Hg=e=>e.errorBars,Nse=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>uL(r,n)),op=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},LS=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(y=>uL(a,y)),h=at(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),p=bse(l,h,f);if(p.length>=2){var g=Math.min(...p),v=Math.max(...p);(i==null||g<i)&&(i=g),(o==null||v>o)&&(o=v)}var x=vP(h);x!=null&&(i=i==null?x[0]:Math.min(i,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var c=vP(at(l,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),Ar(i)&&Ar(o))return[i,o]},_se=$([TS,Pt,xse,Hg,yt],LS,{memoizeOptions:{resultEqualityCheck:zg}});function Ese(e){var{value:t}=e;if(Ws(t)||t instanceof Date)return t}var kse=(e,t,r)=>{var n=e.map(Ese).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&wM(n))?ZD(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},hL=e=>e.referenceElements.dots,Fc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Pse=$([hL,yt,Xd],Fc),mL=e=>e.referenceElements.areas,Cse=$([mL,yt,Xd],Fc),pL=e=>e.referenceElements.lines,Ase=$([pL,yt,Xd],Fc),gL=(e,t)=>{var r=$c(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ose=$(Pse,yt,gL),vL=(e,t)=>{var r=$c(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Tse=$([Cse,yt],vL),xL=(e,t)=>{var r=$c(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ise=$(Ase,yt,xL),Rse=$(Ose,Ise,Tse,(e,t,r)=>op(e,r,t)),$S=(e,t,r,n,a,i,o,l)=>{if(r!=null)return r;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=c?op(n,i,a):op(i,a);return Hne(t,u,e.allowDataOverflow)},Mse=$([Pt,MS,DS,Sse,_se,Rse,Re,yt],$S,{memoizeOptions:{resultEqualityCheck:zg}}),Dse=[0,1],FS=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=Vi(t,i);return u&&l==null?ZD(0,r.length):c==="category"?kse(n,e,u):a==="expand"?Dse:o}},BS=$([Pt,Re,TS,Kg,Jd,yt,Mse],FS),yL=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Fd(i));return l in ju?l:"point"}}},Bc=$([Pt,Re,oL,bS,yt],yL);function Lse(e){if(e!=null){if(e in ju)return ju[e]();var t="scale".concat(Fd(e));if(t in ju)return ju[t]()}}function US(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Lse(t);if(a!=null){var i=a.domain(r).range(n);return lZ(i),i}}}var VS=(e,t,r)=>{var n=RS(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Fo(e))return nse(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Fo(e))return sse(e,t.tickCount,t.allowDecimals)}},zS=$([BS,Qd,Bc],VS),WS=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Fo(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},$se=$([Pt,BS,zS,yt],WS),Fse=$(Kg,Pt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from($c(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/a}}),bL=$(Fse,Re,J5,Qt,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Ar(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Pr(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),Bse=(e,t)=>{var r=Oa(e,t);return r==null||typeof r.padding!="string"?0:bL(e,"xAxis",t,r.padding)},Use=(e,t)=>{var r=Ta(e,t);return r==null||typeof r.padding!="string"?0:bL(e,"yAxis",t,r.padding)},Vse=$(Oa,Bse,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),zse=$(Ta,Use,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Wse=$([Qt,Vse,kg,Eg,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),qse=$([Qt,Re,zse,kg,Eg,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),ef=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Wse(e,r,n);case"yAxis":return qse(e,r,n);case"zAxis":return(a=kS(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return eL(e);case"radiusAxis":return tL(e,r);default:return}},wL=$([Pt,ef],Bg),Uc=$([Pt,Bc,$se,wL],US);$([Zd,Hg,yt],Nse);function jL(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Yg=(e,t)=>t,Gg=(e,t,r)=>r,Kse=$(Ng,Yg,Gg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(jL)),Hse=$(_g,Yg,Gg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(jL)),SL=(e,t)=>({width:e.width,height:t.height}),Yse=(e,t)=>{var r=typeof t.width=="number"?t.width:zd;return{width:r,height:e.height}},NL=$(Qt,Oa,SL),Gse=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Jse=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Xse=$(Ca,Qt,Kse,Yg,Gg,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=SL(t,l);o==null&&(o=Gse(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),Qse=$(Pa,Qt,Hse,Yg,Gg,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=Yse(t,l);o==null&&(o=Jse(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),Zse=(e,t)=>{var r=Oa(e,t);if(r!=null)return Xse(e,r.orientation,r.mirror)},eae=$([Qt,Oa,Zse,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),tae=(e,t)=>{var r=Ta(e,t);if(r!=null)return Qse(e,r.orientation,r.mirror)},rae=$([Qt,Ta,tae,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),_L=$(Qt,Ta,(e,t)=>{var r=typeof t.width=="number"?t.width:zd;return{width:r,height:e.height}}),xP=(e,t,r)=>{switch(t){case"xAxis":return NL(e,r).width;case"yAxis":return _L(e,r).height;default:return}},EL=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=Vi(e,n),c=t.map(u=>u.value);if(o&&l&&i==="category"&&a&&wM(c))return c}},qS=$([Re,Kg,Pt,yt],EL),kL=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Vi(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},KS=$([Re,Kg,Qd,yt],kL),yP=$([Re,gse,Bc,Uc,qS,KS,ef,zS,yt],(e,t,r,n,a,i,o,l,c)=>{if(t==null)return null;var u=Vi(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}),nae=(e,t,r,n,a,i,o,l,c)=>{if(!(t==null||n==null)){var u=Vi(e,c),{type:d,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/p:0;g=c==="angleAxis"&&i!=null&&i.length>=2?or(i[0]-i[1])*2*g:g;var v=f||a;if(v){var x=v.map((y,b)=>{var w=o?o.indexOf(y):y;return{index:b,coordinate:n(w)+g,value:y,offset:g}});return x.filter(y=>!qn(y.coordinate))}return u&&l?l.map((y,b)=>({coordinate:n(y)+g,value:y,index:b,offset:g})):n.ticks?n.ticks(h).map(y=>({coordinate:n(y)+g,value:y,offset:g})):n.domain().map((y,b)=>({coordinate:n(y)+g,value:o?o[y]:y,index:b,offset:g}))}},PL=$([Re,Qd,Bc,Uc,zS,ef,qS,KS,yt],nae),sae=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Vi(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&n?.length>=2?or(n[0]-n[1])*2*u:u,l&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Si=$([Re,Qd,Uc,ef,qS,KS,yt],sae),Ni=$(Pt,Uc,(e,t)=>{if(!(e==null||t==null))return ip(ip({},e),{},{scale:t})}),aae=$([Pt,Bc,BS,wL],US);$((e,t,r)=>kS(e,r),aae,(e,t)=>{if(!(e==null||t==null))return ip(ip({},e),{},{scale:t})});var iae=$([Re,Ng,_g],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),CL=e=>e.options.defaultTooltipEventType,AL=e=>e.options.validateTooltipEventTypes;function OL(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function HS(e,t){var r=CL(e),n=AL(e);return OL(t,r,n)}function oae(e){return ce(t=>HS(t,e))}var TL=(e,t)=>{var r,n=Number(t);if(!(qn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},lae=e=>e.tooltip.settings,Ja={active:!1,index:null,dataKey:void 0,coordinate:void 0},cae={itemInteraction:{click:Ja,hover:Ja},axisInteraction:{click:Ja,hover:Ja},keyboardInteraction:Ja,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},IL=jn({name:"tooltip",initialState:cae,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Tr()},removeTooltipEntrySettings:{reducer(e,t){var r=fa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Tr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:uae,removeTooltipEntrySettings:dae,setTooltipSettingsState:fae,setActiveMouseOverItemIndex:RL,mouseLeaveItem:hae,mouseLeaveChart:ML,setActiveClickItemIndex:mae,setMouseOverAxisIndex:DL,setMouseClickAxisIndex:pae,setSyncInteraction:tb,setKeyboardInteraction:rb}=IL.actions,gae=IL.reducer;function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){vae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vae(e,t,r){return(t=xae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xae(e){var t=yae(e,"string");return typeof t=="symbol"?t:t+""}function yae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bae(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function wae(e){return e.index!=null}var LL=(e,t,r,n)=>{if(t==null)return Ja;var a=bae(e,t,r);if(a==null)return Ja;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(wae(a)){if(i)return oh(oh({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return oh(oh({},Ja),{},{coordinate:a.coordinate})},YS=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!Ar(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},$L=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=a?.[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},FL=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},tf=e=>e.options.tooltipPayloadSearcher,Vc=e=>e.tooltip;function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(n){jae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jae(e,t,r){return(t=Sae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sae(e){var t=Nae(e,"string");return typeof t=="symbol"?t:t+""}function Nae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ae(e,t){return e??t}var BL=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,p)=>{var g,{dataDefinedOnItem:v,settings:x}=p,y=_ae(v,l),b=Array.isArray(y)?_D(y,u,d):y,w=(g=x?.dataKey)!==null&&g!==void 0?g:n,j=x?.nameKey,S;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?S=jM(b,n,a):S=i(b,t,c,j),Array.isArray(S))S.forEach(_=>{var E=jP(jP({},x),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});h.push(ak({tooltipEntrySettings:E,dataKey:_.dataKey,payload:_.payload,value:at(_.payload,_.dataKey),name:_.name}))});else{var N;h.push(ak({tooltipEntrySettings:x,dataKey:w,payload:S,value:at(S,w),name:(N=at(S,j))!==null&&N!==void 0?N:x?.name}))}return h},f)}},GS=$([tr,Re,oL,bS,er],yL),Eae=$([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),kae=$([er,Lc],PS),rf=$([Eae,tr,kae],CS,{memoizeOptions:{resultEqualityCheck:Wg}}),Pae=$([rf],e=>e.filter(Vg)),Cae=$([rf],AS,{memoizeOptions:{resultEqualityCheck:Wg}}),zc=$([Cae,Ki],OS),Aae=$([Pae,Ki,tr],sL),JS=$([zc,tr,rf],IS),UL=$([tr],RS),Oae=$([tr],e=>e.allowDataOverflow),VL=$([UL,Oae],R5),Tae=$([rf],e=>e.filter(Vg)),Iae=$([Aae,Tae,Jd],dL),Rae=$([Iae,Ki,er,VL],fL),Mae=$([rf],cL),Dae=$([zc,tr,Mae,Hg,er],LS,{memoizeOptions:{resultEqualityCheck:zg}}),Lae=$([hL,er,Lc],Fc),$ae=$([Lae,er],gL),Fae=$([mL,er,Lc],Fc),Bae=$([Fae,er],vL),Uae=$([pL,er,Lc],Fc),Vae=$([Uae,er],xL),zae=$([$ae,Vae,Bae],op),Wae=$([tr,UL,VL,Rae,Dae,zae,Re,er],$S),zL=$([tr,Re,zc,JS,Jd,er,Wae],FS),qae=$([zL,tr,GS],VS),Kae=$([tr,zL,qae,er],WS),WL=e=>{var t=er(e),r=Lc(e),n=!1;return ef(e,t,r,n)},qL=$([tr,WL],Bg),KL=$([tr,GS,Kae,qL],US),Hae=$([Re,JS,tr,er],EL),Yae=$([Re,JS,tr,er],kL),Gae=(e,t,r,n,a,i,o,l)=>{if(t){var{type:c}=t,u=Vi(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&a?.length>=2?or(a[0]-a[1])*2*f:f,u&&o?o.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}}},Ia=$([Re,tr,GS,KL,WL,Hae,Yae,er],Gae),XS=$([CL,AL,lae],(e,t,r)=>OL(r.shared,e,t)),HL=e=>e.tooltip.settings.trigger,QS=e=>e.tooltip.settings.defaultIndex,Jg=$([Vc,XS,HL,QS],LL),_i=$([Jg,zc],YS),YL=$([Ia,_i],TL),GL=$([Jg],e=>{if(e)return e.dataKey}),JL=$([Vc,XS,HL,QS],FL),Jae=$([Pa,Ca,Re,Qt,Ia,QS,JL,tf],$L),Xae=$([Jg,Jae],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Qae=$([Jg],e=>e.active),Zae=$([JL,_i,Ki,nL,YL,tf,XS],BL),eie=$([Zae],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(n){tie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tie(e,t,r){return(t=rie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rie(e){var t=nie(e,"string");return typeof t=="symbol"?t:t+""}function nie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sie=()=>ce(tr),aie=()=>{var e=sie(),t=ce(Ia),r=ce(KL);return vd(NP(NP({},e),{},{scale:r}),t)},iie=()=>ce(bS),ZS=(e,t)=>t,XL=(e,t,r)=>r,eN=(e,t,r,n)=>n,oie=$(Ia,e=>xg(e,t=>t.coordinate)),tN=$([Vc,ZS,XL,eN],LL),QL=$([tN,zc],YS),lie=(e,t,r)=>{if(t!=null){var n=Vc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},ZL=$([Vc,ZS,XL,eN],FL),lp=$([Pa,Ca,Re,Qt,Ia,eN,ZL,tf],$L),cie=$([tN,lp],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),e3=$(Ia,QL,TL),uie=$([ZL,QL,Ki,nL,e3,tf,ZS],BL),die=$([tN],e=>({isActive:e.active,activeIndex:e.index})),fie=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i)){var c=yZ(e.chartX,e.chartY,t,r,l);if(c){var u=wZ(c,t),d=iZ(u,o,i,n,a),f=bZ(t,i,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nb.apply(null,arguments)}function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(n){hie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hie(e,t,r){return(t=mie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mie(e){var t=pie(e,"string");return typeof t=="symbol"?t:t+""}function pie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gie(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var p,g;if(u==="ScatterChart")p=d,g=Iee;else if(u==="BarChart")p=Ree(o,d,a,i),g=KD;else if(o==="radial"){var{cx:v,cy:x,radius:y,startAngle:b,endAngle:w}=HD(d);p={cx:v,cy:x,startAngle:b,endAngle:w,innerRadius:y,outerRadius:y},g=GD}else p={points:vte(o,d,a)},g=Hj;var j=typeof l=="object"&&"className"in l?l.className:void 0,S=lh(lh(lh(lh({stroke:"#ccc",pointerEvents:"none"},a),p),Mo(l)),{},{payload:f,payloadIndex:h,className:Ie("recharts-tooltip-cursor",j)});return m.isValidElement(l)?m.cloneElement(l,S):m.createElement(g,S)}function vie(e){var t=aie(),r=LD(),n=Cg(),a=iie();return m.createElement(gie,nb({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var t3=m.createContext(null),xie=()=>m.useContext(t3),r3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,g){var v=r?r+u:u;if(!this._events[v])return!1;var x=this._events[v],y=arguments.length,b,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,g),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];x.fn.apply(x.context,b)}else{var j=x.length,S;for(w=0;w<j;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),y){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,f);break;case 4:x[w].fn.call(x[w].context,d,f,h);break;default:if(!b)for(S=1,b=new Array(y-1);S<y;S++)b[S-1]=arguments[S];x[w].fn.apply(x[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var v=0,x=[],y=g.length;v<y;v++)(g[v].fn!==d||h&&!g[v].once||f&&g[v].context!==f)&&x.push(g[v]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(r3);var yie=r3.exports;const bie=ys(yie);var Nd=new bie,sb="recharts.syncEvent.tooltip",EP="recharts.syncEvent.brush";function rN(e,t){if(t){var r=Number.parseInt(t,10);if(!qn(r))return e?.[r]}}var wie={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},n3=jn({name:"options",initialState:wie,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),jie=n3.reducer,{createEventEmitter:Sie}=n3.actions;function Nie(e){return e.tooltip.syncInteraction}var _ie={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},s3=jn({name:"chartData",initialState:_ie,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:kP,setDataStartEndIndexes:Eie,setComputedData:nye}=s3.actions,kie=s3.reducer,Pie=["x","y"];function PP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(r),!0).forEach(function(n){Cie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cie(e,t,r){return(t=Aie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aie(e){var t=Oie(e,"string");return typeof t=="symbol"?t:t+""}function Oie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tie(e,t){if(e==null)return{};var r,n,a=Iie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Iie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var a3=()=>{};function Rie(){var e=ce(wS),t=ce(jS),r=xt(),n=ce(X5),a=ce(Ia),i=Cg(),o=Pg(),l=ce(c=>c.rootProps.className);m.useEffect(()=>{if(e==null)return a3;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var p=d.payload.coordinate,{x:g,y:v}=p,x=Tie(p,Pie),{x:y,y:b,width:w,height:j}=d.payload.sourceViewBox,S=fl(fl({},x),{},{x:o.x+(w?(g-y)/w:0)*o.width,y:o.y+(j?(v-b)/j:0)*o.height});r(fl(fl({},d),{},{payload:fl(fl({},d.payload),{},{coordinate:S})}))}else r(d);return}if(a!=null){var N;if(typeof n=="function"){var _={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=n(a,_);N=a[E]}else n==="value"&&(N=a.find(H=>String(H.value)===d.payload.label));var{coordinate:k}=d.payload;if(N==null||d.payload.active===!1||k==null||o==null){r(tb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:A,y:R}=k,D=Math.min(A,o.x+o.width),F=Math.min(R,o.y+o.height),W={x:i==="horizontal"?N.coordinate:D,y:i==="horizontal"?F:N.coordinate},K=tb({active:d.payload.active,coordinate:W,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});r(K)}}};return Nd.on(sb,c),()=>{Nd.off(sb,c)}},[l,r,t,e,n,a,i,o])}function Mie(){var e=ce(wS),t=ce(jS),r=xt();m.useEffect(()=>{if(e==null)return a3;var n=(a,i,o)=>{t!==o&&e===a&&r(Eie(i))};return Nd.on(EP,n),()=>{Nd.off(EP,n)}},[r,t,e])}function Die(){var e=xt();m.useEffect(()=>{e(Sie())},[e]),Rie(),Mie()}function Lie(e,t,r,n,a,i){var o=ce(p=>lie(p,e,t)),l=ce(jS),c=ce(wS),u=ce(X5),d=ce(Nie),f=d?.active,h=Pg();m.useEffect(()=>{if(!f&&c!=null&&l!=null){var p=tb({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h});Nd.emit(sb,c,p,l)}},[f,r,o,a,n,l,c,u,i,h])}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){$ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ie(e,t,r){return(t=Fie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fie(e){var t=Bie(e,"string");return typeof t=="symbol"?t:t+""}function Bie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uie(e){return e.dataKey}function Vie(e,t){return m.isValidElement(e)?m.cloneElement(e,t):typeof e=="function"?m.createElement(e,t):m.createElement(dee,t)}var OP=[],zie={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!zi.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Rs(e){var t=br(e,zie),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:g,cursor:v,shared:x,trigger:y,defaultIndex:b,portal:w,axisId:j}=t,S=xt(),N=typeof b=="number"?String(b):b;m.useEffect(()=>{S(fae({shared:x,trigger:y,axisId:j,active:r,defaultIndex:N}))},[S,x,y,j,r,N]);var _=Pg(),E=UD(),k=oae(x),{activeIndex:A,isActive:R}=ce(Oe=>die(Oe,k,y,N)),D=ce(Oe=>uie(Oe,k,y,N)),F=ce(Oe=>e3(Oe,k,y,N)),W=ce(Oe=>cie(Oe,k,y,N)),K=D,H=xie(),q=r??R,[O,V]=XM([K,q]),J=k==="axis"?F:void 0;Lie(k,y,W,J,A,q);var he=w??H;if(he==null)return null;var be=K??OP;q||(be=OP),l&&be.length&&(be=UM(K.filter(Oe=>Oe.value!=null&&(Oe.hide!==!0||t.includeHidden)),d,Uie));var _e=be.length>0,je=m.createElement(xee,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:q,coordinate:W,hasPayload:_e,offset:u,position:f,reverseDirection:h,useTranslate3d:p,viewBox:_,wrapperStyle:g,lastBoundingBox:O,innerRef:V,hasPortalFromProps:!!w},Vie(o,AP(AP({},t),{},{payload:be,label:J,active:q,coordinate:W,accessibilityLayer:E})));return m.createElement(m.Fragment,null,Oi.createPortal(je,he),q&&m.createElement(vie,{cursor:v,tooltipEventType:k,coordinate:W,payload:K,index:A}))}var Zo=e=>null;Zo.displayName="Cell";function Wie(e,t,r){return(t=qie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qie(e){var t=Kie(e,"string");return typeof t=="symbol"?t:t+""}function Kie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Hie{constructor(t){Wie(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){Gie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gie(e,t,r){return(t=Jie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jie(e){var t=Xie(e,"string");return typeof t=="symbol"?t:t+""}function Xie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qie={cacheSize:2e3,enableCache:!0},i3=Yie({},Qie),IP=new Hie(i3.cacheSize),Zie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RP="recharts_measurement_span";function eoe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var MP=(e,t)=>{try{var r=document.getElementById(RP);r||(r=document.createElement("span"),r.setAttribute("id",RP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Zie,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},$u=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||zi.isSsr)return{width:0,height:0};if(!i3.enableCache)return MP(t,r);var n=eoe(t,r),a=IP.get(n);if(a)return a;var i=MP(t,r);return IP.set(n,i),i},DP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,toe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,roe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,o3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},noe=Object.keys(o3),Al="NaN";function soe(e,t){return e*o3[t]}class Br{static parse(t){var r,[,n,a]=(r=roe.exec(t))!==null&&r!==void 0?r:[];return new Br(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,qn(t)&&(this.unit=""),r!==""&&!toe.test(r)&&(this.num=NaN,this.unit=""),noe.includes(r)&&(this.num=soe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Br(NaN,""):new Br(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Br(NaN,""):new Br(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Br(NaN,""):new Br(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Br(NaN,""):new Br(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qn(this.num)}}function l3(e){if(e.includes(Al))return Al;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=DP.exec(t))!==null&&r!==void 0?r:[],o=Br.parse(n??""),l=Br.parse(i??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Al;t=t.replace(DP,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=LP.exec(t))!==null&&u!==void 0?u:[],p=Br.parse(d??""),g=Br.parse(h??""),v=f==="+"?p.add(g):p.subtract(g);if(v.isNaN())return Al;t=t.replace(LP,v.toString())}return t}var $P=/\(([^()]*)\)/;function aoe(e){for(var t=e,r;(r=$P.exec(t))!=null;){var[,n]=r;t=t.replace($P,l3(n))}return t}function ioe(e){var t=e.replace(/\s+/g,"");return t=aoe(t),t=l3(t),t}function ooe(e){try{return ioe(e)}catch{return Al}}function Mx(e){var t=ooe(e.slice(5,-1));return t===Al?"":t}var loe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],coe=["dx","dy","angle","className","breakAll"];function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ab.apply(null,arguments)}function FP(e,t){if(e==null)return{};var r,n,a=uoe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var c3=/[ \f\n\r\t\v\u2028\u2029]+/,u3=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];vt(t)||(r?a=t.toString().split(""):a=t.toString().split(c3));var i=a.map(l=>({word:l,width:$u(l,n).width})),o=r?0:$u(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},doe=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,u=me(i),d=o,f=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce((D,F)=>{var{word:W,width:K}=F,H=D[D.length-1];if(H&&(n==null||a||H.width+K+r<Number(n)))H.words.push(W),H.width+=K+r;else{var q={words:[W],width:K};D.push(q)}return D},[])},h=f(t),p=A=>A.reduce((R,D)=>R.width>D.width?R:D);if(!u||a)return h;var g=h.length>i||p(h).width>Number(n);if(!g)return h;for(var v="…",x=A=>{var R=d.slice(0,A),D=u3({breakAll:c,style:l,children:R+v}).wordsWithComputedWidth,F=f(D),W=F.length>i||p(F).width>Number(n);return[W,F]},y=0,b=d.length-1,w=0,j;y<=b&&w<=d.length-1;){var S=Math.floor((y+b)/2),N=S-1,[_,E]=x(N),[k]=x(S);if(!_&&!k&&(y=S+1),_&&k&&(b=S-1),!_&&k){j=E;break}w++}return j||h},BP=e=>{var t=vt(e)?[]:e.toString().split(c3);return[{words:t}]},foe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!zi.isSsr){var l,c,u=u3({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return BP(n);return doe({breakAll:i,children:n,maxLines:o,style:a},l,c,t,r)}return BP(n)},UP="#808080",Xg=m.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=UP}=e,d=FP(e,loe),f=m.useMemo(()=>foe({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:h,dy:p,angle:g,className:v,breakAll:x}=d,y=FP(d,coe);if(!Ws(r)||!Ws(n)||f.length===0)return null;var b=r+(me(h)?h:0),w=n+(me(p)?p:0),j;switch(c){case"start":j=Mx("calc(".concat(i,")"));break;case"middle":j=Mx("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:j=Mx("calc(".concat(f.length-1," * -").concat(a,")"));break}var S=[];if(o){var N=f[0].width,{width:_}=d;S.push("scale(".concat(me(_)?_/N:1,")"))}return g&&S.push("rotate(".concat(g,", ").concat(b,", ").concat(w,")")),S.length&&(y.transform=S.join(" ")),m.createElement("text",ab({},Dr(y),{ref:t,x:b,y:w,className:Ie("recharts-text",v),textAnchor:l,fill:u.includes("url")?UP:u}),f.map((E,k)=>{var A=E.words.join(x?"":" ");return m.createElement("tspan",{x:b,dy:k===0?j:a,key:"".concat(A,"-").concat(k)},A)}))});Xg.displayName="Text";var hoe=["labelRef"];function moe(e,t){if(e==null)return{};var r,n,a=poe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function poe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){goe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function goe(e,t,r){return(t=voe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function voe(e){var t=xoe(e,"string");return typeof t=="symbol"?t:t+""}function xoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ra(){return ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ra.apply(null,arguments)}var d3=m.createContext(null),yoe=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,o=m.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return m.createElement(d3.Provider,{value:o},i)},f3=()=>{var e=m.useContext(d3),t=Pg();return e||t},boe=m.createContext(null),woe=()=>{var e=m.useContext(boe),t=ce(rL);return e||t},joe=e=>{var{value:t,formatter:r}=e,n=vt(e.children)?t:e.children;return typeof r=="function"?r(n):n},nN=e=>e!=null&&typeof e=="function",Soe=(e,t)=>{var r=or(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Noe=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:p}=a,g=(u+d)/2,v=Soe(f,h),x=v>=0?1:-1,y,b;switch(t){case"insideStart":y=f+x*i,b=p;break;case"insideEnd":y=h-x*i,b=!p;break;case"end":y=h+x*i,b=p;break;default:throw new Error("Unsupported position ".concat(t))}b=v<=0?b:!b;var w=$t(l,c,g,y),j=$t(l,c,g,y+(b?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(j.x,",").concat(j.y),N=vt(e.id)?hd("recharts-radial-line-"):e.id;return m.createElement("text",ra({},n,{dominantBaseline:"central",className:Ie("recharts-radial-bar-label",o)}),m.createElement("defs",null,m.createElement("path",{id:N,d:S})),m.createElement("textPath",{xlinkHref:"#".concat(N)},r))},_oe=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=$t(n,a,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:p,y:g}=$t(n,a,h,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},h3=e=>"cx"in e&&me(e.cx),Eoe=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!h3(r)&&(i=r);var{x:o,y:l,width:c,height:u}=t,d=u>=0?1:-1,f=d*n,h=d>0?"end":"start",p=d>0?"start":"end",g=c>=0?1:-1,v=g*n,x=g>0?"end":"start",y=g>0?"start":"end";if(a==="top"){var b={x:o+c/2,y:l-d*n,textAnchor:"middle",verticalAnchor:h};return Tt(Tt({},b),i?{height:Math.max(l-i.y,0),width:c}:{})}if(a==="bottom"){var w={x:o+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:p};return Tt(Tt({},w),i?{height:Math.max(i.y+i.height-(l+u),0),width:c}:{})}if(a==="left"){var j={x:o-v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return Tt(Tt({},j),i?{width:Math.max(j.x-i.x,0),height:u}:{})}if(a==="right"){var S={x:o+c+v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Tt(Tt({},S),i?{width:Math.max(i.x+i.width-S.x,0),height:u}:{})}var N=i?{width:c,height:u}:{};return a==="insideLeft"?Tt({x:o+v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},N):a==="insideRight"?Tt({x:o+c-v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},N):a==="insideTop"?Tt({x:o+c/2,y:l+f,textAnchor:"middle",verticalAnchor:p},N):a==="insideBottom"?Tt({x:o+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:h},N):a==="insideTopLeft"?Tt({x:o+v,y:l+f,textAnchor:y,verticalAnchor:p},N):a==="insideTopRight"?Tt({x:o+c-v,y:l+f,textAnchor:x,verticalAnchor:p},N):a==="insideBottomLeft"?Tt({x:o+v,y:l+u-f,textAnchor:y,verticalAnchor:h},N):a==="insideBottomRight"?Tt({x:o+c-v,y:l+u-f,textAnchor:x,verticalAnchor:h},N):a&&typeof a=="object"&&(me(a.x)||wa(a.x))&&(me(a.y)||wa(a.y))?Tt({x:o+Pr(a.x,c),y:l+Pr(a.y,u),textAnchor:"end",verticalAnchor:"end"},N):Tt({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},N)},koe={offset:5};function qa(e){var t=br(e,koe),{viewBox:r,position:n,value:a,children:i,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=woe(),f=f3(),h=n==="center"?f:d??f,p=r||h;if(!p||vt(a)&&vt(i)&&!m.isValidElement(o)&&typeof o!="function")return null;var g=Tt(Tt({},t),{},{viewBox:p});if(m.isValidElement(o)){var{labelRef:v}=g,x=moe(g,hoe);return m.cloneElement(o,x)}var y;if(typeof o=="function"){if(y=m.createElement(o,g),m.isValidElement(y))return y}else y=joe(t);var b=h3(p),w=Dr(t);if(b&&(n==="insideStart"||n==="insideEnd"||n==="end"))return Noe(t,n,y,w,p);var j=b?_oe(p,t.offset,t.position):Eoe(t,p);return m.createElement(Xg,ra({ref:u,className:Ie("recharts-label",l)},w,j,{breakAll:c}),y)}qa.displayName="Label";var Poe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?m.createElement(qa,ra({key:"label-implicit"},n)):Ws(e)?m.createElement(qa,ra({key:"label-implicit",value:e},n)):m.isValidElement(e)?e.type===qa?m.cloneElement(e,Tt({key:"label-implicit"},n)):m.createElement(qa,ra({key:"label-implicit",content:e},n)):nN(e)?m.createElement(qa,ra({key:"label-implicit",content:e},n)):e&&typeof e=="object"?m.createElement(qa,ra({},e,{key:"label-implicit"},n)):null};function Coe(e){var{label:t,labelRef:r}=e,n=f3();return Poe(t,n,r)||null}var m3={},p3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(p3);var g3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(g3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p3,r=g3,n=gg;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(m3);var Aoe=m3.last;const Ooe=ys(Aoe);var Toe=["valueAccessor"],Ioe=["dataKey","clockWise","id","textBreakAll"];function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(null,arguments)}function zP(e,t){if(e==null)return{};var r,n,a=Roe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Roe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Moe=e=>Array.isArray(e.value)?Ooe(e.value):e.value,v3=m.createContext(void 0),x3=v3.Provider,y3=m.createContext(void 0),Doe=y3.Provider;function Loe(){return m.useContext(v3)}function $oe(){return m.useContext(y3)}function Vh(e){var{valueAccessor:t=Moe}=e,r=zP(e,Toe),{dataKey:n,clockWise:a,id:i,textBreakAll:o}=r,l=zP(r,Ioe),c=Loe(),u=$oe(),d=c||u;return!d||!d.length?null:m.createElement(yr,{className:"recharts-label-list"},d.map((f,h)=>{var p,g=vt(n)?t(f,h):at(f&&f.payload,n),v=vt(i)?{}:{id:"".concat(i,"-").concat(h)};return m.createElement(qa,cp({key:"label-".concat(h)},Dr(f),l,v,{fill:(p=r.fill)!==null&&p!==void 0?p:f.fill,parentViewBox:f.parentViewBox,value:g,textBreakAll:o,viewBox:f.viewBox,index:h}))}))}Vh.displayName="LabelList";function sN(e){var{label:t}=e;return t?t===!0?m.createElement(Vh,{key:"labelList-implicit"}):m.isValidElement(t)||nN(t)?m.createElement(Vh,{key:"labelList-implicit",content:t}):typeof t=="object"?m.createElement(Vh,cp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ib.apply(null,arguments)}var b3=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Ie("recharts-dot",a);return t===+t&&r===+r&&n===+n?m.createElement("circle",ib({},gn(e),jj(e),{className:i,cx:t,cy:r,r:n})):null},w3=e=>e.graphicalItems.polarItems,Foe=$([yt,Xd],PS),Qg=$([w3,Pt,Foe],CS),Boe=$([Qg],AS),Zg=$([Boe,vS],OS),Uoe=$([Zg,Pt,Qg],IS);$([Zg,Pt,Qg],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,o=at(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:at(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var WP=()=>{},Voe=$([Zg,Pt,Qg,Hg,yt],LS),zoe=$([Pt,MS,DS,WP,Voe,WP,Re,yt],$S),j3=$([Pt,Re,Zg,Uoe,Jd,yt,zoe],FS),Woe=$([j3,Pt,Bc],VS);$([Pt,j3,Woe,yt],WS);var qoe={radiusAxis:{},angleAxis:{}},S3=jn({name:"polarAxis",initialState:qoe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:sye,removeRadiusAxis:aye,addAngleAxis:iye,removeAngleAxis:oye}=S3.actions,Koe=S3.reducer;function qP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(r),!0).forEach(function(n){Hoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hoe(e,t,r){return(t=Yoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yoe(e){var t=Goe(e,"string");return typeof t=="symbol"?t:t+""}function Goe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Joe=(e,t)=>t,aN=$([w3,Joe],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Xoe=[],iN=(e,t,r)=>r?.length===0?Xoe:r,N3=$([vS,aN,iN],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>KP(KP({},t.presentationProps),i.props))),a!=null)return a}}),Qoe=$([N3,aN,iN],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,o=at(n,t.nameKey,t.name),l;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Ic(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),Zoe=$([N3,aN,iN,Qt],(e,t,r,n)=>{if(!(t==null||e==null))return Xle({offset:n,pieSettings:t,displayedData:e,cells:r})}),_3={exports:{}},Xe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oN=Symbol.for("react.transitional.element"),lN=Symbol.for("react.portal"),ev=Symbol.for("react.fragment"),tv=Symbol.for("react.strict_mode"),rv=Symbol.for("react.profiler"),nv=Symbol.for("react.consumer"),sv=Symbol.for("react.context"),av=Symbol.for("react.forward_ref"),iv=Symbol.for("react.suspense"),ov=Symbol.for("react.suspense_list"),lv=Symbol.for("react.memo"),cv=Symbol.for("react.lazy"),ele=Symbol.for("react.view_transition"),tle=Symbol.for("react.client.reference");function Qn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case oN:switch(e=e.type,e){case ev:case rv:case tv:case iv:case ov:case ele:return e;default:switch(e=e&&e.$$typeof,e){case sv:case av:case cv:case lv:return e;case nv:return e;default:return t}}case lN:return t}}}Xe.ContextConsumer=nv;Xe.ContextProvider=sv;Xe.Element=oN;Xe.ForwardRef=av;Xe.Fragment=ev;Xe.Lazy=cv;Xe.Memo=lv;Xe.Portal=lN;Xe.Profiler=rv;Xe.StrictMode=tv;Xe.Suspense=iv;Xe.SuspenseList=ov;Xe.isContextConsumer=function(e){return Qn(e)===nv};Xe.isContextProvider=function(e){return Qn(e)===sv};Xe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===oN};Xe.isForwardRef=function(e){return Qn(e)===av};Xe.isFragment=function(e){return Qn(e)===ev};Xe.isLazy=function(e){return Qn(e)===cv};Xe.isMemo=function(e){return Qn(e)===lv};Xe.isPortal=function(e){return Qn(e)===lN};Xe.isProfiler=function(e){return Qn(e)===rv};Xe.isStrictMode=function(e){return Qn(e)===tv};Xe.isSuspense=function(e){return Qn(e)===iv};Xe.isSuspenseList=function(e){return Qn(e)===ov};Xe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ev||e===rv||e===tv||e===iv||e===ov||typeof e=="object"&&e!==null&&(e.$$typeof===cv||e.$$typeof===lv||e.$$typeof===sv||e.$$typeof===nv||e.$$typeof===av||e.$$typeof===tle||e.getModuleId!==void 0)};Xe.typeOf=Qn;_3.exports=Xe;var rle=_3.exports,HP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",YP=null,Dx=null,E3=e=>{if(e===YP&&Array.isArray(Dx))return Dx;var t=[];return m.Children.forEach(e,r=>{vt(r)||(rle.isFragment(r)?t=t.concat(E3(r.props.children)):t.push(r))}),Dx=t,YP=e,t};function cN(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>HP(a)):n=[HP(t)],E3(e).forEach(a=>{var i=Do(a,"type.displayName")||Do(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var k3=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,P3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(P3);var nle=P3.isPlainObject;const sle=ys(nle);function GP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(r),!0).forEach(function(n){ale(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ale(e,t,r){return(t=ile(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ile(e){var t=ole(e,"string");return typeof t=="symbol"?t:t+""}function ole(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(null,arguments)}var XP=(e,t,r,n,a)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+a),o+="L ".concat(e+r-i/2-n,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},lle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cle=e=>{var t=br(e,lle),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=m.useRef(null),[p,g]=m.useState(-1),v=m.useRef(a),x=m.useRef(i),y=m.useRef(o),b=m.useRef(r),w=m.useRef(n),j=qd(e,"trapezoid-");if(m.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var W=h.current.getTotalLength();W&&g(W)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var S=Ie("recharts-trapezoid",l);if(!f)return m.createElement("g",null,m.createElement("path",up({},Dr(t),{className:S,d:XP(r,n,a,i,o)})));var N=v.current,_=x.current,E=y.current,k=b.current,A=w.current,R="0px ".concat(p===-1?1:p,"px"),D="".concat(p,"px 0px"),F=VD(["strokeDasharray"],u,c);return m.createElement(Wd,{animationId:j,key:j,canBegin:p>0,duration:u,easing:c,isActive:f,begin:d},W=>{var K=At(N,a,W),H=At(_,i,W),q=At(E,o,W),O=At(k,r,W),V=At(A,n,W);h.current&&(v.current=K,x.current=H,y.current=q,b.current=O,w.current=V);var J=W>0?{transition:F,strokeDasharray:D}:{strokeDasharray:R};return m.createElement("path",up({},Dr(t),{className:S,d:XP(O,V,K,H,q),ref:h,style:JP(JP({},J),t.style)}))})},ule=["option","shapeType","propTransformer","activeClassName","isActive"];function dle(e,t){if(e==null)return{};var r,n,a=fle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(n){hle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hle(e,t,r){return(t=mle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mle(e){var t=ple(e,"string");return typeof t=="symbol"?t:t+""}function ple(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gle(e,t){return dp(dp({},t),e)}function vle(e,t){return e==="symbols"}function ZP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return m.createElement(KD,r);case"trapezoid":return m.createElement(cle,r);case"sector":return m.createElement(GD,r);case"symbols":if(vle(t))return m.createElement(wj,r);break;default:return null}}function xle(e){return m.isValidElement(e)?e.props:e}function C3(e){var{option:t,shapeType:r,propTransformer:n=gle,activeClassName:a="recharts-active-shape",isActive:i}=e,o=dle(e,ule),l;if(m.isValidElement(t))l=m.cloneElement(t,dp(dp({},o),xle(t)));else if(typeof t=="function")l=t(o);else if(sle(t)&&typeof t!="boolean"){var c=n(t,o);l=m.createElement(ZP,{shapeType:r,elementProps:c})}else{var u=o;l=m.createElement(ZP,{shapeType:r,elementProps:u})}return i?m.createElement(yr,{className:a},l):l}var uN=(e,t)=>{var r=xt();return(n,a)=>i=>{e?.(n,a,i),r(RL({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},dN=e=>{var t=xt();return(r,n)=>a=>{e?.(r,n,a),t(hae())}},fN=(e,t)=>{var r=xt();return(n,a)=>i=>{e?.(n,a,i),r(mae({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function hN(e){var{fn:t,args:r}=e,n=xt(),a=Fr();return m.useLayoutEffect(()=>{if(!a){var i=t(r);return n(uae(i)),()=>{n(dae(i))}}},[t,r,n,a]),null}var A3=()=>{};function O3(e){var{legendPayload:t}=e,r=xt(),n=Fr();return m.useLayoutEffect(()=>n?A3:(r(FD(t)),()=>{r(BD(t))}),[r,n,t]),null}function yle(e){var{legendPayload:t}=e,r=xt(),n=ce(Re);return m.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?A3:(r(FD(t)),()=>{r(BD(t))}),[r,n,t]),null}var Lx,ble=()=>{var[e]=m.useState(()=>hd("uid-"));return e},wle=(Lx=Sp.useId)!==null&&Lx!==void 0?Lx:ble;function jle(e,t){var r=wle();return t||(e?"".concat(e,"-").concat(r):r)}var Sle=m.createContext(void 0),mN=e=>{var{id:t,type:r,children:n}=e,a=jle("recharts-".concat(r),t);return m.createElement(Sle.Provider,{value:a},n(a))},Nle={cartesianItems:[],polarItems:[]},T3=jn({name:"graphicalItems",initialState:Nle,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Tr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=fa(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Tr()},removeCartesianGraphicalItem:{reducer(e,t){var r=fa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Tr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Tr()},removePolarGraphicalItem:{reducer(e,t){var r=fa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Tr()}}}),{addCartesianGraphicalItem:_le,replaceCartesianGraphicalItem:Ele,removeCartesianGraphicalItem:kle,addPolarGraphicalItem:Ple,removePolarGraphicalItem:Cle}=T3.actions,Ale=T3.reducer;function I3(e){var t=xt(),r=m.useRef(null);return m.useLayoutEffect(()=>{r.current===null?t(_le(e)):r.current!==e&&t(Ele({prev:r.current,next:e})),r.current=e},[t,e]),m.useLayoutEffect(()=>()=>{r.current&&(t(kle(r.current)),r.current=null)},[t]),null}function Ole(e){var t=xt();return m.useLayoutEffect(()=>(t(Ple(e)),()=>{t(Cle(e))}),[t,e]),null}var Tle=["onMouseEnter","onClick","onMouseLeave"],Ile=["id"],Rle=["id"];function pN(e,t){if(e==null)return{};var r,n,a=Mle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){Dle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dle(e,t,r){return(t=Lle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lle(e){var t=$le(e,"string");return typeof t=="symbol"?t:t+""}function $le(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ei.apply(null,arguments)}function Fle(e){var t=m.useMemo(()=>cN(e.children,Zo),[e.children]),r=ce(n=>Qoe(n,e.id,t));return r==null?null:m.createElement(yle,{legendPayload:r})}function Ble(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:Ic(l,t),hide:c,type:u,color:o,unit:""}}}var Ule=(e,t)=>e>t?"start":e<t?"end":"middle",Vle=(e,t,r)=>Pr(typeof t=="function"?t(e):t,r,r*.8),zle=(e,t,r)=>{var{top:n,left:a,width:i,height:o}=t,l=ND(i,o),c=a+Pr(e.cx,i,i/2),u=n+Pr(e.cy,o,o/2),d=Pr(e.innerRadius,l,0),f=Vle(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},Wle=(e,t)=>{var r=or(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function qle(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Kle=(e,t)=>{if(m.isValidElement(e))return m.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ie("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return m.createElement(Hj,Ei({},t,{type:"linear",className:r}))},Hle=(e,t,r)=>{if(m.isValidElement(e))return m.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),m.isValidElement(n)))return n;var a=Ie("recharts-pie-label-text",qle(e));return m.createElement(Xg,Ei({},t,{alignmentBaseline:"middle",className:a}),n)};function Yle(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:o}=r;if(!n||!a||!t)return null;var l=gn(r),c=Mo(a),u=Mo(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((h,p)=>{var g=(h.startAngle+h.endAngle)/2,v=$t(h.cx,h.cy,h.outerRadius+d,g),x=ht(ht(ht(ht({},l),h),{},{stroke:"none"},c),{},{index:p,textAnchor:Ule(v.x,h.cx)},v),y=ht(ht(ht(ht({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:p,points:[$t(h.cx,h.cy,h.outerRadius,g),v],key:"line"});return m.createElement(yr,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},i&&Kle(i,y),Hle(a,x,at(h,o)))});return m.createElement(yr,{className:"recharts-pie-labels"},f)}function Gle(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?m.createElement(sN,{label:a}):m.createElement(Yle,{sectors:t,props:r,showLabels:n})}function Jle(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=ce(_i),{onMouseEnter:o,onClick:l,onMouseLeave:c}=a,u=pN(a,Tle),d=uN(o,a.dataKey),f=dN(c),h=fN(l,a.dataKey);return t==null||t.length===0?null:m.createElement(m.Fragment,null,t.map((p,g)=>{if(p?.startAngle===0&&p?.endAngle===0&&t.length!==1)return null;var v=r&&String(g)===i,x=i?n:null,y=v?r:x,b=ht(ht({},p),{},{stroke:p.stroke,tabIndex:-1,[CD]:g,[AD]:a.dataKey});return m.createElement(yr,Ei({key:"sector-".concat(p?.startAngle,"-").concat(p?.endAngle,"-").concat(p.midAngle,"-").concat(g),tabIndex:-1,className:"recharts-pie-sector"},Bd(u,p,g),{onMouseEnter:d(p,g),onMouseLeave:f(p,g),onClick:h(p,g)}),m.createElement(C3,Ei({option:y,isActive:v,shapeType:"sector"},b)))}))}function Xle(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),p=Wle(l,c),g=Math.abs(p),v=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,x=n.filter(N=>at(N,u,0)!==0).length,y=(g>=360?x:x-1)*v,b=g-x*h-y,w=n.reduce((N,_)=>{var E=at(_,u,0);return N+(me(E)?E:0)},0),j;if(w>0){var S;j=n.map((N,_)=>{var E=at(N,u,0),k=at(N,d,_),A=zle(r,i,N),R=(me(E)?E:0)/w,D,F=ht(ht({},N),a&&a[_]&&a[_].props);_?D=S.endAngle+or(p)*v*(E!==0?1:0):D=l;var W=D+or(p)*((E!==0?h:0)+R*b),K=(D+W)/2,H=(A.innerRadius+A.outerRadius)/2,q=[{name:k,value:E,payload:F,dataKey:u,type:f}],O=$t(A.cx,A.cy,H,K);return S=ht(ht(ht(ht({},r.presentationProps),{},{percent:R,cornerRadius:o,name:k,tooltipPayload:q,midAngle:K,middleRadius:H,tooltipPosition:O},F),A),{},{value:E,startAngle:D,endAngle:W,payload:F,paddingAngle:or(p)*v}),S})}return j}function Qle(e){var{showLabels:t,sectors:r,children:n}=e,a=m.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return m.createElement(Doe,{value:t?a:void 0},n)}function Zle(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=qd(t,"recharts-pie-"),p=r.current,[g,v]=m.useState(!1),x=m.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),y=m.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return m.createElement(Qle,{showLabels:!g,sectors:n},m.createElement(Wd,{animationId:h,begin:i,duration:o,isActive:a,easing:l,onAnimationStart:y,onAnimationEnd:x,key:h},b=>{var w=[],j=n&&n[0],S=j?.startAngle;return n?.forEach((N,_)=>{var E=p&&p[_],k=_>0?Do(N,"paddingAngle",0):0;if(E){var A=At(E.endAngle-E.startAngle,N.endAngle-N.startAngle,b),R=ht(ht({},N),{},{startAngle:S+k,endAngle:S+A+k});w.push(R),S=R.endAngle}else{var{endAngle:D,startAngle:F}=N,W=At(0,D-F,b),K=ht(ht({},N),{},{startAngle:S+k,endAngle:S+W+k});w.push(K),S=K.endAngle}}),r.current=w,m.createElement(yr,null,m.createElement(Jle,{sectors:w,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),m.createElement(Gle,{showLabels:!g,sectors:n,props:t}),t.children)}var ece={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!zi.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function tce(e){var{id:t}=e,r=pN(e,Ile),{hide:n,className:a,rootTabIndex:i}=e,o=m.useMemo(()=>cN(e.children,Zo),[e.children]),l=ce(d=>Zoe(d,t,o)),c=m.useRef(null),u=Ie("recharts-pie",a);return n||l==null?(c.current=null,m.createElement(yr,{tabIndex:i,className:u})):m.createElement(m.Fragment,null,m.createElement(hN,{fn:Ble,args:ht(ht({},e),{},{sectors:l})}),m.createElement(yr,{tabIndex:i,className:u},m.createElement(Zle,{props:ht(ht({},r),{},{sectors:l}),previousSectorsRef:c})))}function uv(e){var t=br(e,ece),{id:r}=t,n=pN(t,Rle),a=gn(n);return m.createElement(mN,{id:r,type:"pie"},i=>m.createElement(m.Fragment,null,m.createElement(Ole,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),m.createElement(Fle,Ei({},n,{id:i})),m.createElement(tce,Ei({},n,{id:i}))))}uv.displayName="Pie";function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){rce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rce(e,t,r){return(t=nce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nce(e){var t=sce(e,"string");return typeof t=="symbol"?t:t+""}function sce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ace={xAxis:{},yAxis:{},zAxis:{}},R3=jn({name:"cartesianAxis",initialState:ace,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Tr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Tr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Tr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Tr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Tr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Tr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=r2(r2({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:ice,removeXAxis:oce,addYAxis:lce,removeYAxis:cce,addZAxis:lye,removeZAxis:cye,updateYAxisWidth:uce}=R3.actions,dce=R3.reducer,fce=$([Qt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),hce=$([fce,Pa,Ca],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),gN=()=>ce(hce),mce=()=>ce(eie);function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){pce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pce(e,t,r){return(t=gce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gce(e){var t=vce(e,"string");return typeof t=="symbol"?t:t+""}function vce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xce=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o=s2(s2({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Mo(a)),jj(a)),l;return m.isValidElement(a)?l=m.cloneElement(a,o):typeof a=="function"?l=a(o):l=m.createElement(b3,o),m.createElement(yr,{className:"recharts-active-dot"},l)};function yce(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=ce(_i),o=mce();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return vt(l)?null:xce({point:l,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var bce="Invariant failed";function wce(e,t){throw new Error(bce)}var jce=["x","y"];function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ob.apply(null,arguments)}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){Sce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sce(e,t,r){return(t=Nce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nce(e){var t=_ce(e,"string");return typeof t=="symbol"?t:t+""}function _ce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ece(e,t){if(e==null)return{};var r,n,a=kce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pce(e,t){var{x:r,y:n}=e,a=Ece(e,jce),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return cu(cu(cu(cu(cu({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function vN(e){return m.createElement(C3,ob({shapeType:"rectangle",propTransformer:Pce,activeClassName:"recharts-active-bar"},e))}var Cce=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(me(t))return t;var i=me(n)||vt(n);return i?t(n,a):(i||wce(),r)}},Ace={},M3=jn({name:"errorBars",initialState:Ace,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:uye,replaceErrorBar:dye,removeErrorBar:fye}=M3.actions,Oce=M3.reducer,Tce=["children"];function Ice(e,t){if(e==null)return{};var r,n,a=Rce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Mce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Dce=m.createContext(Mce);function D3(e){var{children:t}=e,r=Ice(e,Tce);return m.createElement(Dce.Provider,{value:r},t)}function xN(e,t){var r,n,a=ce(u=>Oa(u,e)),i=ce(u=>Ta(u,t)),o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Zr.allowDataOverflow,l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:en.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function L3(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=gN(),{needClipX:i,needClipY:o,needClip:l}=xN(t,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=a;return m.createElement("clipPath",{id:"clipPath-".concat(n)},m.createElement("rect",{x:i?c:c-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var Lce=["onMouseEnter","onMouseLeave","onClick"],$ce=["value","background","tooltipPosition"],Fce=["id"],Bce=["onMouseEnter","onClick","onMouseLeave"];function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ki.apply(null,arguments)}function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){Uce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uce(e,t,r){return(t=Vce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vce(e){var t=zce(e,"string");return typeof t=="symbol"?t:t+""}function zce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fp(e,t){if(e==null)return{};var r,n,a=Wce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Wce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qce=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Ic(r,t),payload:e}]};function Kce(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Ic(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function Hce(e){var t=ce(_i),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,u=fp(i,Lce),d=uN(o,n),f=dN(l),h=fN(c,n);if(!a||r==null)return null;var p=Mo(a);return m.createElement(m.Fragment,null,r.map((g,v)=>{var{value:x,background:y,tooltipPosition:b}=g,w=fp(g,$ce);if(!y)return null;var j=d(g,v),S=f(g,v),N=h(g,v),_=Ir(Ir(Ir(Ir(Ir({option:a,isActive:String(v)===t},w),{},{fill:"#eee"},y),p),Bd(u,g,v)),{},{onMouseEnter:j,onMouseLeave:S,onClick:N,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return m.createElement(vN,ki({key:"background-bar-".concat(v)},_))}))}function Yce(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return Ir(Ir({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return m.createElement(x3,{value:t?a:void 0},r)}function Gce(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,l=ce(_i),c=ce(GL),u=r&&String(i)===l&&(c==null||o===c),d=u?r:t;return m.createElement(vN,ki({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))}function Jce(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return m.createElement(vN,ki({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function Xce(e){var{data:t,props:r}=e,n=gn(r),{id:a}=n,i=fp(n,Fce),{shape:o,dataKey:l,activeBar:c}=r,{onMouseEnter:u,onClick:d,onMouseLeave:f}=r,h=fp(r,Bce),p=uN(u,l),g=dN(f),v=fN(d,l);return t?m.createElement(m.Fragment,null,t.map((x,y)=>m.createElement(yr,ki({key:"rectangle-".concat(x?.x,"-").concat(x?.y,"-").concat(x?.value,"-").concat(y),className:"recharts-bar-rectangle"},Bd(h,x,y),{onMouseEnter:p(x,y),onMouseLeave:g(x,y),onClick:v(x,y)}),c?m.createElement(Gce,{shape:o,activeBar:c,baseProps:i,entry:x,index:y,dataKey:l}):m.createElement(Jce,{shape:o,baseProps:i,entry:x,index:y,dataKey:l})))):null}function Qce(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=qd(t,"recharts-bar-"),[p,g]=m.useState(!1),v=!p,x=m.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),y=m.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return m.createElement(Yce,{showLabels:v,rects:n},m.createElement(Wd,{animationId:h,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:x,onAnimationStart:y,key:h},b=>{var w=b===1?n:n?.map((j,S)=>{var N=f&&f[S];if(N)return Ir(Ir({},j),{},{x:At(N.x,j.x,b),y:At(N.y,j.y,b),width:At(N.width,j.width,b),height:At(N.height,j.height,b)});if(a==="horizontal"){var _=At(0,j.height,b);return Ir(Ir({},j),{},{y:j.y+j.height-_,height:_})}var E=At(0,j.width,b);return Ir(Ir({},j),{},{width:E})});return b>0&&(r.current=w??null),w==null?null:m.createElement(yr,null,m.createElement(Xce,{props:t,data:w}))}),m.createElement(sN,{label:t.label}),t.children)}function Zce(e){var t=m.useRef(null);return m.createElement(Qce,{previousRectanglesRef:t,props:e})}var $3=0,eue=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:at(e,t)}};class tue extends m.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=Ie("recharts-bar",a),f=u;return m.createElement(yr,{className:d,id:u},l&&m.createElement("defs",null,m.createElement(L3,{clipPathId:f,xAxisId:i,yAxisId:o})),m.createElement(yr,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},m.createElement(Hce,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),m.createElement(Zce,this.props)))}}var rue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!zi.isSsr,legendType:"rect",minPointSize:$3,xAxisId:0,yAxisId:0};function nue(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=xN(t,r),h=Cg(),p=Fr(),g=cN(e.children,Zo),v=ce(b=>Oue(b,t,r,p,e.id,g));if(h!=="vertical"&&h!=="horizontal")return null;var x,y=v?.[0];return y==null||y.height==null||y.width==null?x=0:x=h==="vertical"?y.height/2:y.width/2,m.createElement(D3,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:eue,errorBarOffset:x},m.createElement(tue,ki({},e,{layout:h,needClip:f,data:v,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function sue(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:p,parentViewBox:g}=e,v=t==="horizontal"?l:o,x=d?v.scale.domain():null,y=pZ({numericAxis:v});return f.map((b,w)=>{var j,S,N,_,E,k;d?j=cZ(d[w],x):(j=at(b,r),Array.isArray(j)||(j=[y,j]));var A=Cce(n,$3)(j[1],w);if(t==="horizontal"){var R,[D,F]=[l.scale(j[0]),l.scale(j[1])];S=rk({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:b,index:w}),N=(R=F??D)!==null&&R!==void 0?R:void 0,_=a.size;var W=D-F;if(E=qn(W)?0:W,k={x:S,y:h.top,width:_,height:h.height},Math.abs(A)>0&&Math.abs(E)<Math.abs(A)){var K=or(E||A)*(Math.abs(A)-Math.abs(E));N-=K,E+=K}}else{var[H,q]=[o.scale(j[0]),o.scale(j[1])];if(S=H,N=rk({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:b,index:w}),_=q-H,E=a.size,k={x:h.left,y:N,width:h.width,height:E},Math.abs(A)>0&&Math.abs(_)<Math.abs(A)){var O=or(_||A)*(Math.abs(A)-Math.abs(_));_+=O}}if(S==null||N==null||_==null||E==null)return null;var V=Ir(Ir({},b),{},{x:S,y:N,width:_,height:E,value:d?j:j[1],payload:b,background:k,tooltipPosition:{x:S+_/2,y:N+E/2},parentViewBox:g},p&&p[w]&&p[w].props);return V}).filter(Boolean)}function aue(e){var t=br(e,rue),r=Fr();return m.createElement(mN,{id:t.id,type:"bar"},n=>m.createElement(m.Fragment,null,m.createElement(O3,{legendPayload:qce(t)}),m.createElement(hN,{fn:Kce,args:t}),m.createElement(I3,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:mZ(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),m.createElement(nue,ki({},t,{id:n}))))}var fc=m.memo(aue);fc.displayName="Bar";function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){iue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iue(e,t,r){return(t=oue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oue(e){var t=lue(e,"string");return typeof t=="symbol"?t:t+""}function lue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cue=(e,t)=>t,uue=(e,t,r)=>r,due=(e,t,r,n)=>n,fue=(e,t,r,n,a)=>a,nf=$([qg,fue],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),hue=$([nf],e=>e?.maxBarSize),mue=(e,t,r,n,a,i)=>i,l2=(e,t,r)=>{var n=r??e;if(!vt(n))return Pr(n,t,0)},pue=$([Re,qg,cue,uue,due],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),gue=(e,t,r,n)=>{var a=Re(e);return a==="horizontal"?eb(e,"yAxis",r,n):eb(e,"xAxis",t,n)},vue=(e,t,r)=>{var n=Re(e);return n==="horizontal"?xP(e,"xAxis",t):xP(e,"yAxis",r)},xue=(e,t,r)=>{var n={},a=e.filter(Vg),i=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(o).map(u=>{var[d,f]=u,h=f.map(g=>g.dataKey),p=l2(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:p}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=l2(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},yue=$([pue,ise,vue],xue),bue=(e,t,r,n,a)=>{var i,o,l=nf(e,t,r,n,a);if(l!=null){var c=Re(e),u=G5(e),{maxBarSize:d}=l,f=vt(d)?u:d,h,p;return c==="horizontal"?(h=Ni(e,"xAxis",t,n),p=Si(e,"xAxis",t,n)):(h=Ni(e,"yAxis",r,n),p=Si(e,"yAxis",r,n)),(i=(o=vd(h,p,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0}},F3=(e,t,r,n)=>{var a=Re(e),i,o;return a==="horizontal"?(i=Ni(e,"xAxis",t,n),o=Si(e,"xAxis",t,n)):(i=Ni(e,"yAxis",r,n),o=Si(e,"yAxis",r,n)),vd(i,o)};function wue(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=Pr(e,r,0,!0),l,c=[];if(Ar(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((y,b)=>y+(b.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,p={offset:h-o,size:0};l=n.reduce((y,b)=>{var w,j={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p.offset+p.size+o,size:u?d:(w=b.barSize)!==null&&w!==void 0?w:0}},S=[...y,j];return p=S[S.length-1].position,S},c)}else{var g=Pr(t,r,0,!0);r-2*g-(i-1)*o<=0&&(o=0);var v=(r-2*g-(i-1)*o)/i;v>1&&(v>>=0);var x=Ar(a)?Math.min(v,a):v;l=n.reduce((y,b,w)=>[...y,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:g+(v+o)*w+(v-x)/2,size:x}}],c)}return l}}var jue=(e,t,r,n,a,i,o)=>{var l=vt(o)?t:o,c=wue(r,n,a!==i?a:i,e,l);return a!==i&&c!=null&&(c=c.map(u=>ch(ch({},u),{},{position:ch(ch({},u.position),{},{offset:u.position.offset-a/2})}))),c},Sue=$([yue,G5,ase,J5,bue,F3,hue],jue),Nue=(e,t,r,n)=>Ni(e,"xAxis",t,n),_ue=(e,t,r,n)=>Ni(e,"yAxis",r,n),Eue=(e,t,r,n)=>Si(e,"xAxis",t,n),kue=(e,t,r,n)=>Si(e,"yAxis",r,n),Pue=$([Sue,nf],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Cue=(e,t)=>{var r=ES(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}},Aue=$([gue,nf],Cue),Oue=$([Qt,Vj,Nue,_ue,Eue,kue,Pue,Re,$g,F3,Aue,nf,mue],(e,t,r,n,a,i,o,l,c,u,d,f,h)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:v}=c;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:x}=f,y;if(x!=null&&x.length>0?y=x:y=p?.slice(g,v+1),y!=null)return sue({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:y,offset:e,cells:h})}}),B3=e=>{var{chartData:t}=e,r=xt(),n=Fr();return m.useEffect(()=>n?()=>{}:(r(kP(t)),()=>{r(kP(void 0))}),[t,r,n]),null},c2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},U3=jn({name:"brush",initialState:c2,reducers:{setBrushSettings(e,t){return t.payload==null?c2:t.payload}}}),{setBrushSettings:hye}=U3.actions,Tue=U3.reducer;function Iue(e,t,r){return(t=Rue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rue(e){var t=Mue(e,"string");return typeof t=="symbol"?t:t+""}function Mue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yN{static create(t){return new yN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}Iue(yN,"EPS",1e-4);function Due(e){return(e%180+180)%180}var Lue=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Due(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},$ue={dots:[],areas:[],lines:[]},V3=jn({name:"referenceElements",initialState:$ue,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=fa(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=fa(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=fa(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:mye,removeDot:pye,addArea:gye,removeArea:vye,addLine:xye,removeLine:yye}=V3.actions,Fue=V3.reducer,Bue=m.createContext(void 0),Uue=e=>{var{children:t}=e,[r]=m.useState("".concat(hd("recharts"),"-clip")),n=gN();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return m.createElement(Bue.Provider,{value:r},m.createElement("defs",null,m.createElement("clipPath",{id:r},m.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function hc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function z3(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Vue(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Lue(n,r)}function zue(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function hp(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Wue(e,t){return z3(e,t+1)}function que(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,f=function(){var g=n?.[c];if(g===void 0)return{v:z3(n,u)};var v=c,x,y=()=>(x===void 0&&(x=r(g,v)),x),b=g.coordinate,w=c===0||hp(e,b,y,d,l);w||(c=0,d=o,u+=1),w&&(d=b+e*(y()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function u2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(r),!0).forEach(function(n){Kue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kue(e,t,r){return(t=Hue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hue(e){var t=Yue(e,"string");return typeof t=="symbol"?t:t+""}function Yue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gue(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,u=function(h){var p=i[h],g,v=()=>(g===void 0&&(g=r(p,h)),g);if(h===o-1){var x=e*(p.coordinate+e*v()/2-c);i[h]=p=Sr(Sr({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[h]=p=Sr(Sr({},p),{},{tickCoord:p.coordinate});var y=hp(e,p.tickCoord,v,l,c);y&&(c=p.tickCoord-e*(v()/2+a),i[h]=Sr(Sr({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function Jue(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Sr(Sr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=hp(e,d.tickCoord,()=>f,c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Sr(Sr({},d),{},{isShow:!0}))}for(var g=i?l-1:l,v=function(b){var w=o[b],j,S=()=>(j===void 0&&(j=r(w,b)),j);if(b===0){var N=e*(w.coordinate-e*S()/2-c);o[b]=w=Sr(Sr({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else o[b]=w=Sr(Sr({},w),{},{tickCoord:w.coordinate});var _=hp(e,w.tickCoord,S,c,u);_&&(c=w.tickCoord+e*(S()/2+a),o[b]=Sr(Sr({},w),{},{isShow:!0}))},x=0;x<g;x++)v(x);return o}function bN(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(me(c)||zi.isSsr){var h;return(h=Wue(a,me(c)?c:0))!==null&&h!==void 0?h:[]}var p=[],g=l==="top"||l==="bottom"?"width":"height",v=d&&g==="width"?$u(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(w,j)=>{var S=typeof u=="function"?u(w.value,j):w.value;return g==="width"?Vue($u(S,{fontSize:t,letterSpacing:r}),v,f):$u(S,{fontSize:t,letterSpacing:r})[g]},y=a.length>=2?or(a[1].coordinate-a[0].coordinate):1,b=zue(i,y,g);return c==="equidistantPreserveStart"?que(y,b,x,a,o):(c==="preserveStart"||c==="preserveStartEnd"?p=Jue(y,b,x,a,o,c==="preserveStartEnd"):p=Gue(y,b,x,a,o),p.filter(w=>w.isShow))}var Xue=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+i,u=o+c+l+(r?n:0);return Math.round(u)}return 0},Que=["axisLine","width","height","className","hide","ticks"],Zue=["viewBox"],ede=["viewBox"];function lb(e,t){if(e==null)return{};var r,n,a=tde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Uo(){return Uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uo.apply(null,arguments)}function d2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(r),!0).forEach(function(n){rde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rde(e,t,r){return(t=nde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nde(e){var t=sde(e,"string");return typeof t=="symbol"?t:t+""}function sde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wN={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function ade(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=Jt(Jt(Jt({},c),gn(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=Jt(Jt({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=Jt(Jt({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return m.createElement("line",Uo({},u,{className:Ie("recharts-cartesian-axis-line",Do(l,"className"))}))}function ide(e,t,r,n,a,i,o,l,c){var u,d,f,h,p,g,v=l?-1:1,x=e.tickSize||o,y=me(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!l*a,f=h-v*x,g=f-v*c,p=y;break;case"left":f=h=e.coordinate,d=t+ +!l*n,u=d-v*x,p=u-v*c,g=y;break;case"right":f=h=e.coordinate,d=t+ +l*n,u=d+v*x,p=u+v*c,g=y;break;default:u=d=e.coordinate,h=r+ +l*a,f=h+v*x,g=f+v*c,p=y;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:p,y:g}}}function ode(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function lde(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function cde(e){var{option:t,tickProps:r,value:n}=e,a,i=Ie(r.className,"recharts-cartesian-axis-tick-value");if(m.isValidElement(t))a=m.cloneElement(t,Jt(Jt({},r),{},{className:i}));else if(typeof t=="function")a=t(Jt(Jt({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Ie(o,t?.className)),a=m.createElement(Xg,Uo({},r,{className:o}),n)}return a}function ude(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:d,x:f,y:h,width:p,height:g,tickSize:v,tickMargin:x,fontSize:y,letterSpacing:b,getTicksConfig:w,events:j}=e,S=bN(Jt(Jt({},w),{},{ticks:t}),y,b),N=ode(u,d),_=lde(u,d),E=gn(w),k=Mo(r),A={};typeof n=="object"&&(A=n);var R=Jt(Jt({},E),{},{fill:"none"},A),D=S.map((F,W)=>{var{line:K,tick:H}=ide(F,f,h,p,g,u,v,d,x),q=Jt(Jt(Jt(Jt({textAnchor:N,verticalAnchor:_},E),{},{stroke:"none",fill:a},k),H),{},{index:W,payload:F,visibleTicksCount:S.length,tickFormatter:i,padding:l},c);return m.createElement(yr,Uo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},Bd(j,F,W)),n&&m.createElement("line",Uo({},R,K,{className:Ie("recharts-cartesian-axis-tick-line",Do(n,"className"))})),r&&m.createElement(cde,{option:r,tickProps:q,value:"".concat(typeof i=="function"?i(F.value,W):F.value).concat(o||"")}))});return D.length>0?m.createElement("g",{className:"recharts-cartesian-axis-ticks"},D):null}var dde=m.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l}=e,c=lb(e,Que),[u,d]=m.useState(""),[f,h]=m.useState(""),p=m.useRef(null);m.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return Xue({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=m.useCallback(v=>{if(v){var x=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=x;var y=x[0];if(y){var b=window.getComputedStyle(y),w=b.fontSize,j=b.letterSpacing;(w!==u||j!==f)&&(d(w),h(j))}}},[u,f]);return o||n!=null&&n<=0||a!=null&&a<=0?null:m.createElement(yr,{className:Ie("recharts-cartesian-axis",i),ref:g},m.createElement(ade,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:gn(e)}),m.createElement(ude,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:c}),m.createElement(yoe,{x:e.x,y:e.y,width:e.width,height:e.height},m.createElement(Coe,{label:e.label,labelRef:e.labelRef}),e.children))}),fde=m.memo(dde,(e,t)=>{var{viewBox:r}=e,n=lb(e,Zue),{viewBox:a}=t,i=lb(t,ede);return hc(r,a)&&hc(n,i)}),jN=m.forwardRef((e,t)=>{var r=br(e,wN);return m.createElement(fde,Uo({},r,{ref:t}))});jN.displayName="CartesianAxis";var hde=["x1","y1","x2","y2","key"],mde=["offset"],pde=["xAxisId","yAxisId"],gde=["xAxisId","yAxisId"];function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){vde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vde(e,t,r){return(t=xde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xde(e){var t=yde(e,"string");return typeof t=="symbol"?t:t+""}function yde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mo.apply(null,arguments)}function mp(e,t){if(e==null)return{};var r,n,a=bde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wde=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return m.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function W3(e,t){var r;if(m.isValidElement(e))r=m.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:o,key:l}=t,c=mp(t,hde),u=gn(c),{offset:d}=u,f=mp(u,mde);r=m.createElement("line",mo({},f,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function jde(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=mp(e,pde),c=a.map((u,d)=>{var f=Er(Er({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return W3(n,f)});return m.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Sde(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=mp(e,gde),c=a.map((u,d)=>{var f=Er(Er({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return W3(n,f)});return m.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Nde(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],g=p?a+o-f:u[h+1]-f;if(g<=0)return null;var v=h%t.length;return m.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function _de(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],g=p?a+o-f:u[h+1]-f;if(g<=0)return null;var v=h%r.length;return m.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:g,height:l,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Ede=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return ED(bN(Er(Er(Er({},wN),r),{},{ticks:kD(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},kde=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return ED(bN(Er(Er(Er({},wN),r),{},{ticks:kD(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},Pde={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function fi(e){var t=Wj(),r=qj(),n=LD(),a=Er(Er({},br(e,Pde)),{},{x:me(e.x)?e.x:n.left,y:me(e.y)?e.y:n.top,width:me(e.width)?e.width:n.width,height:me(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:p}=a,g=Fr(),v=ce(k=>yP(k,"xAxis",i,g)),x=ce(k=>yP(k,"yAxis",o,g));if(!me(u)||u<=0||!me(d)||d<=0||!me(l)||l!==+l||!me(c)||c!==+c)return null;var y=a.verticalCoordinatesGenerator||Ede,b=a.horizontalCoordinatesGenerator||kde,{horizontalPoints:w,verticalPoints:j}=a;if((!w||!w.length)&&typeof b=="function"){var S=h&&h.length,N=b({yAxis:x?Er(Er({},x),{},{ticks:S?h:x.ticks}):void 0,width:t,height:r,offset:n},S?!0:f);Km(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!j||!j.length)&&typeof y=="function"){var _=p&&p.length,E=y({xAxis:v?Er(Er({},v),{},{ticks:_?p:v.ticks}):void 0,width:t,height:r,offset:n},_?!0:f);Km(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(j=E)}return m.createElement("g",{className:"recharts-cartesian-grid"},m.createElement(wde,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),m.createElement(Nde,mo({},a,{horizontalPoints:w})),m.createElement(_de,mo({},a,{verticalPoints:j})),m.createElement(jde,mo({},a,{offset:n,horizontalPoints:w,xAxis:v,yAxis:x})),m.createElement(Sde,mo({},a,{offset:n,verticalPoints:j,xAxis:v,yAxis:x})))}fi.displayName="CartesianGrid";var q3=(e,t,r,n)=>Ni(e,"xAxis",t,n),K3=(e,t,r,n)=>Si(e,"xAxis",t,n),H3=(e,t,r,n)=>Ni(e,"yAxis",r,n),Y3=(e,t,r,n)=>Si(e,"yAxis",r,n),Cde=$([Re,q3,H3,K3,Y3],(e,t,r,n,a)=>Vi(e,"xAxis")?vd(t,n,!1):vd(r,a,!1)),Ade=(e,t,r,n,a)=>a;function Ode(e){return e.type==="line"}var Tde=$([qg,Ade],(e,t)=>e.filter(Ode).find(r=>r.id===t)),Ide=$([Re,q3,H3,K3,Y3,Tde,Cde,$g],(e,t,r,n,a,i,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{dataKey:f,data:h}=i,p;if(h!=null&&h.length>0?p=h:p=c?.slice(u,d+1),p!=null)return rfe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:p})}});function Rde(e){var t=Mo(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),l=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var Mde=["id"],Dde=["type","layout","connectNulls","needClip"],Lde=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function h2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(r),!0).forEach(function(n){$de(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $de(e,t,r){return(t=Fde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fde(e){var t=Bde(e,"string");return typeof t=="symbol"?t:t+""}function Bde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SN(e,t){if(e==null)return{};var r,n,a=Ude(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ude(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vo.apply(null,arguments)}var Vde=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Ic(r,t),payload:e}]};function zde(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Ic(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var G3=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Wde(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var qde=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return G3(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){l=[...r.slice(0,c),i-u];break}var d=l.length%2===0?[0,o]:[o];return[...Wde(r,a),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function Kde(e,t){var r;if(m.isValidElement(e))r=m.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Ie("recharts-line-dot",typeof e!="boolean"?e.className:"");r=m.createElement(b3,Vo({},t,{className:n}))}return r}function Hde(e,t){return e==null?!1:t?!0:e.length===1}function Yde(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:o}=n;if(!Hde(r,a))return null;var{id:l}=n,c=SN(n,Mde),u=k3(a),d=gn(c),f=wJ(a),h=r.map((g,v)=>{var x=an(an(an({key:"dot-".concat(v),r:3},d),f),{},{index:v,cx:g.x,cy:g.y,dataKey:i,value:g.value,payload:g.payload,points:r});return Kde(a,x)}),p={clipPath:o?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return m.createElement(yr,Vo({className:"recharts-line-dots",key:"dots"},p),h)}function Gde(e){var{showLabels:t,children:r,points:n}=e,a=m.useMemo(()=>n?.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return an(an({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return m.createElement(x3,{value:t?a:null},r)}function m2(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:o,layout:l,connectNulls:c,needClip:u}=i,d=SN(i,Dde),f=an(an({},Dr(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return m.createElement(m.Fragment,null,n?.length>1&&m.createElement(Hj,Vo({},f,{pathRef:r})),m.createElement(Yde,{points:n,clipPathId:t,props:i}))}function Jde(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Xde(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:p,height:g,onAnimationEnd:v,onAnimationStart:x}=r,y=a.current,b=qd(r,"recharts-line-"),[w,j]=m.useState(!1),S=!w,N=m.useCallback(()=>{typeof v=="function"&&v(),j(!1)},[v]),_=m.useCallback(()=>{typeof x=="function"&&x(),j(!0)},[x]),E=Jde(n.current),k=i.current;return m.createElement(Gde,{points:o,showLabels:S},r.children,m.createElement(Wd,{animationId:b,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:N,onAnimationStart:_,key:b},A=>{var R=At(k,E+k,A),D=Math.min(R,E),F;if(c)if(l){var W="".concat(l).split(/[,\s]+/gim).map(q=>parseFloat(q));F=qde(D,E,W)}else F=G3(E,D);else F=l==null?void 0:String(l);if(y){var K=y.length/o.length,H=A===1?o:o.map((q,O)=>{var V=Math.floor(O*K);if(y[V]){var J=y[V];return an(an({},q),{},{x:At(J.x,q.x,A),y:At(J.y,q.y,A)})}return h?an(an({},q),{},{x:At(p*2,q.x,A),y:At(g/2,q.y,A)}):an(an({},q),{},{x:q.x,y:q.y})});return a.current=H,m.createElement(m2,{props:r,points:H,clipPathId:t,pathRef:n,strokeDasharray:F})}return A>0&&E>0&&(a.current=o,i.current=D),m.createElement(m2,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:F})}),m.createElement(sN,{label:r.label}))}function Qde(e){var{clipPathId:t,props:r}=e,n=m.useRef(null),a=m.useRef(0),i=m.useRef(null);return m.createElement(Xde,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var Zde=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:at(e.payload,t)});class efe extends m.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:o,top:l,left:c,width:u,height:d,id:f,needClip:h}=this.props;if(t)return null;var p=Ie("recharts-line",a),g=f,{r:v,strokeWidth:x}=Rde(r),y=k3(r),b=v*2+x;return m.createElement(m.Fragment,null,m.createElement(yr,{className:p},h&&m.createElement("defs",null,m.createElement(L3,{clipPathId:g,xAxisId:i,yAxisId:o}),!y&&m.createElement("clipPath",{id:"clipPath-dots-".concat(g)},m.createElement("rect",{x:c-b/2,y:l-b/2,width:u+b,height:d+b}))),m.createElement(D3,{xAxisId:i,yAxisId:o,data:n,dataPointFormatter:Zde,errorBarOffset:0},m.createElement(Qde,{props:this.props,clipPathId:g}))),m.createElement(yce,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var J3={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!zi.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function tfe(e){var t=br(e,J3),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:p,yAxisId:g,id:v}=t,x=SN(t,Lde),{needClip:y}=xN(p,g),b=gN(),w=Cg(),j=Fr(),S=ce(A=>Ide(A,p,g,j,v));if(w!=="horizontal"&&w!=="vertical"||S==null||b==null)return null;var{height:N,width:_,x:E,y:k}=b;return m.createElement(efe,Vo({},x,{id:v,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:p,yAxisId:g,points:S,layout:w,height:N,width:_,left:E,top:k,needClip:y}))}function rfe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=at(u,o);if(t==="horizontal"){var h=tk({axis:r,ticks:a,bandSize:l,entry:u,index:d}),p=vt(f)?null:n.scale(f);return{x:h,y:p,value:f,payload:u}}var g=vt(f)?null:r.scale(f),v=tk({axis:n,ticks:i,bandSize:l,entry:u,index:d});return g==null||v==null?null:{x:g,y:v,value:f,payload:u}}).filter(Boolean)}function nfe(e){var t=br(e,J3),r=Fr();return m.createElement(mN,{id:t.id,type:"line"},n=>m.createElement(m.Fragment,null,m.createElement(O3,{legendPayload:Vde(t)}),m.createElement(hN,{fn:zde,args:t}),m.createElement(I3,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),m.createElement(tfe,Vo({},t,{id:n}))))}var mc=m.memo(nfe);mc.displayName="Line";var sfe=["dangerouslySetInnerHTML","ticks"],afe=["id"],ife=["domain"],ofe=["domain"];function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cb.apply(null,arguments)}function pp(e,t){if(e==null)return{};var r,n,a=lfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cfe(e){var t=xt();return m.useLayoutEffect(()=>(t(ice(e)),()=>{t(oce(e))}),[e,t]),null}var ufe=e=>{var{xAxisId:t,className:r}=e,n=ce(Vj),a=Fr(),i="xAxis",o=ce(x=>Uc(x,i,t,a)),l=ce(x=>PL(x,i,t,a)),c=ce(x=>NL(x,t)),u=ce(x=>eae(x,t)),d=ce(x=>aL(x,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,p=pp(e,sfe),{id:g}=d,v=pp(d,afe);return m.createElement(jN,cb({},p,v,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:Ie("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},dfe={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:Zr.allowDecimals,allowDuplicatedCategory:Zr.allowDuplicatedCategory,height:Zr.height,hide:!1,mirror:Zr.mirror,orientation:Zr.orientation,padding:Zr.padding,reversed:Zr.reversed,scale:Zr.scale,tickCount:Zr.tickCount,type:Zr.type,xAxisId:0},ffe=e=>{var t,r,n,a,i,o=br(e,dfe);return m.createElement(m.Fragment,null,m.createElement(cfe,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),m.createElement(ufe,o))},hfe=(e,t)=>{var{domain:r}=e,n=pp(e,ife),{domain:a}=t,i=pp(t,ofe);return hc(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:hc({domain:r},{domain:a}):!1},hi=m.memo(ffe,hfe);hi.displayName="XAxis";var mfe=["dangerouslySetInnerHTML","ticks"],pfe=["id"],gfe=["domain"],vfe=["domain"];function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ub.apply(null,arguments)}function gp(e,t){if(e==null)return{};var r,n,a=xfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yfe(e){var t=xt();return m.useLayoutEffect(()=>(t(lce(e)),()=>{t(cce(e))}),[e,t]),null}var bfe=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=m.useRef(null),o=m.useRef(null),l=ce(Vj),c=Fr(),u=xt(),d="yAxis",f=ce(S=>Uc(S,d,t,c)),h=ce(S=>_L(S,t)),p=ce(S=>rae(S,t)),g=ce(S=>PL(S,d,t,c)),v=ce(S=>iL(S,t));if(m.useLayoutEffect(()=>{if(!(n!=="auto"||!h||nN(a)||m.isValidElement(a)||v==null)){var S=i.current;if(S){var N=S.getCalculatedWidth();Math.round(h.width)!==Math.round(N)&&u(uce({id:t,width:N}))}}},[g,h,u,a,t,n,v]),h==null||p==null||v==null)return null;var{dangerouslySetInnerHTML:x,ticks:y}=e,b=gp(e,mfe),{id:w}=v,j=gp(v,pfe);return m.createElement(jN,ub({},b,j,{ref:i,labelRef:o,scale:f,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Ie("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:g}))},wfe={allowDataOverflow:en.allowDataOverflow,allowDecimals:en.allowDecimals,allowDuplicatedCategory:en.allowDuplicatedCategory,hide:!1,mirror:en.mirror,orientation:en.orientation,padding:en.padding,reversed:en.reversed,scale:en.scale,tickCount:en.tickCount,type:en.type,width:en.width,yAxisId:0},jfe=e=>{var t,r,n,a,i,o=br(e,wfe);return m.createElement(m.Fragment,null,m.createElement(yfe,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),m.createElement(bfe,o))},Sfe=(e,t)=>{var{domain:r}=e,n=gp(e,gfe),{domain:a}=t,i=gp(t,vfe);return hc(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:hc({domain:r},{domain:a}):!1},mi=m.memo(jfe,Sfe);mi.displayName="YAxis";var Nfe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf=m;function _fe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Efe=typeof Object.is=="function"?Object.is:_fe,kfe=sf.useSyncExternalStore,Pfe=sf.useRef,Cfe=sf.useEffect,Afe=sf.useMemo,Ofe=sf.useDebugValue;Nfe.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=Pfe(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Afe(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&o.hasValue){var g=o.value;if(a(g,p))return f=g}return f=p}if(g=f,Efe(d,p))return g;var v=n(p);return a!==void 0&&a(g,v)?(d=p,g):(d=p,f=v)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=kfe(e,i[0],i[1]);return Cfe(function(){o.hasValue=!0,o.value=l},[l]),Ofe(l),l};function Tfe(e){e()}function Ife(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Tfe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var p2={notify(){},get:()=>[]};function Rfe(e,t){let r,n=p2,a=0,i=!1;function o(v){d();const x=n.subscribe(v);let y=!1;return()=>{y||(y=!0,x(),f())}}function l(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=Ife())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=p2)}function h(){i||(i=!0,d())}function p(){i&&(i=!1,f())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return g}var Mfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dfe=Mfe(),Lfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$fe=Lfe(),Ffe=()=>Dfe||$fe?m.useLayoutEffect:m.useEffect,Bfe=Ffe(),Ufe=Symbol.for("react-redux-context"),Vfe=typeof globalThis<"u"?globalThis:{};function zfe(){if(!m.createContext)return{};const e=Vfe[Ufe]??=new Map;let t=e.get(m.createContext);return t||(t=m.createContext(null),e.set(m.createContext,t)),t}var Wfe=zfe();function qfe(e){const{children:t,context:r,serverState:n,store:a}=e,i=m.useMemo(()=>{const c=Rfe(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=m.useMemo(()=>a.getState(),[a]);Bfe(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||Wfe;return m.createElement(l.Provider,{value:i},t)}var Kfe=qfe,Hfe=(e,t)=>t,NN=$([Hfe,Re,rL,er,qL,Ia,oie,Qt],fie),_N=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},X3=Kn("mouseClick"),Q3=Vd();Q3.startListening({actionCreator:X3,effect:(e,t)=>{var r=e.payload,n=NN(t.getState(),_N(r));n?.activeIndex!=null&&t.dispatch(pae({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var db=Kn("mouseMove"),Z3=Vd();Z3.startListening({actionCreator:db,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=HS(n,n.tooltip.settings.shared),i=NN(n,_N(r));a==="axis"&&(i?.activeIndex!=null?t.dispatch(DL({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(ML()))}});var g2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},e$=jn({name:"rootProps",initialState:g2,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:g2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Yfe=e$.reducer,{updateOptions:Gfe}=e$.actions,t$=jn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Jfe}=t$.actions,Xfe=t$.reducer,r$=Kn("keyDown"),n$=Kn("focus"),EN=Vd();EN.startListening({actionCreator:r$,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(YS(a,zc(r))),l=Ia(r);if(i==="Enter"){var c=lp(r,"axis","hover",String(a.index));t.dispatch(rb({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=iae(r),d=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=o+f*d;if(!(l==null||h>=l.length||h<0)){var p=lp(r,"axis","hover",String(h));t.dispatch(rb({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});EN.startListening({actionCreator:n$,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=lp(r,"axis","hover",String(i));t.dispatch(rb({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var En=Kn("externalEvent"),s$=Vd();s$.startListening({actionCreator:En,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Xae(r),activeDataKey:GL(r),activeIndex:_i(r),activeLabel:YL(r),activeTooltipIndex:_i(r),isTooltipActive:Qae(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Qfe=$([Vc],e=>e.tooltipItemPayloads),Zfe=$([Qfe,tf,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),a$=Kn("touchMove"),i$=Vd();i$.startListening({actionCreator:a$,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=HS(n,n.tooltip.settings.shared);if(a==="axis"){var i=NN(n,_N({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(DL({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(CD),d=(o=c.getAttribute(AD))!==null&&o!==void 0?o:void 0,f=Zfe(t.getState(),u,d);t.dispatch(RL({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var ehe=ZM({brush:Tue,cartesianAxis:dce,chartData:kie,errorBars:Oce,graphicalItems:Ale,layout:HQ,legend:GZ,options:jie,polarAxis:Koe,polarOptions:Xfe,referenceElements:Fue,rootProps:Yfe,tooltip:gae}),the=function(t){return xQ({reducer:ehe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([Q3.middleware,Z3.middleware,EN.middleware,s$.middleware,i$.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(dD({type:"raf"}))},devTools:zi.devToolsEnabled})};function o$(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Fr(),i=m.useRef(null);if(a)return r;i.current==null&&(i.current=the(t));var o=Rj;return m.createElement(Kfe,{context:o,store:i.current},r)}function l$(e){var{layout:t,margin:r}=e,n=xt(),a=Fr();return m.useEffect(()=>{a||(n(WQ(t)),n(zQ(r)))},[n,a,t,r]),null}function c$(e){var t=xt();return m.useEffect(()=>{t(Gfe(e))},[t,e]),null}var rhe=["children"];function nhe(e,t){if(e==null)return{};var r,n,a=she(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function she(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vp.apply(null,arguments)}var ahe={width:"100%",height:"100%",display:"block"},ihe=m.forwardRef((e,t)=>{var r=Wj(),n=qj(),a=UD();if(!oc(r)||!oc(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,u,d;return typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0,m.createElement(gj,vp({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:ahe,ref:t}),i)}),ohe=e=>{var{children:t}=e,r=ce(kg);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return m.createElement(gj,{width:n,height:a,x:o,y:i},t)},v2=m.forwardRef((e,t)=>{var{children:r}=e,n=nhe(e,rhe),a=Fr();return a?m.createElement(ohe,null,r):m.createElement(ihe,vp({ref:t},n),r)});function lhe(){var e=xt(),[t,r]=m.useState(null),n=ce(jZ);return m.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Ar(i)&&i!==n&&e(KQ(i))}},[t,e,n]),r}function x2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function che(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(r),!0).forEach(function(n){uhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uhe(e,t,r){return(t=dhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dhe(e){var t=fhe(e,"string");return typeof t=="symbol"?t:t+""}function fhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zo(){return zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zo.apply(null,arguments)}var hhe=()=>(Die(),null);function xp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var mhe=m.forwardRef((e,t)=>{var r,n,a=m.useRef(null),[i,o]=m.useState({containerWidth:xp((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:xp((n=e.style)===null||n===void 0?void 0:n.height)}),l=m.useCallback((u,d)=>{o(f=>{var h=Math.round(u),p=Math.round(d);return f.containerWidth===h&&f.containerHeight===p?f:{containerWidth:h,containerHeight:p}})},[]),c=m.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var h=g=>{var{width:v,height:x}=g[0].contentRect;l(v,x)},p=new ResizeObserver(h);p.observe(u),a.current=p}},[t,l]);return m.useEffect(()=>()=>{var u=a.current;u?.disconnect()},[l]),m.createElement(m.Fragment,null,m.createElement(Ag,{width:i.containerWidth,height:i.containerHeight}),m.createElement("div",zo({ref:c},e)))}),phe=m.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=m.useState({containerWidth:xp(r),containerHeight:xp(n)}),o=m.useCallback((c,u)=>{i(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=m.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return m.createElement(m.Fragment,null,m.createElement(Ag,{width:a.containerWidth,height:a.containerHeight}),m.createElement("div",zo({ref:l},e)))}),ghe=m.forwardRef((e,t)=>{var{width:r,height:n}=e;return m.createElement(m.Fragment,null,m.createElement(Ag,{width:r,height:n}),m.createElement("div",zo({ref:t},e)))}),vhe=m.forwardRef((e,t)=>{var{width:r,height:n}=e;return wa(r)||wa(n)?m.createElement(phe,zo({},e,{ref:t})):m.createElement(ghe,zo({},e,{ref:t}))});function xhe(e){return e===!0?mhe:vhe}var yhe=m.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:g,onTouchStart:v,style:x,width:y,responsive:b,dispatchTouchEvents:w=!0}=e,j=m.useRef(null),S=xt(),[N,_]=m.useState(null),[E,k]=m.useState(null),A=lhe(),R=zj(),D=R?.width>0?R.width:y,F=R?.height>0?R.height:a,W=m.useCallback(B=>{A(B),typeof t=="function"&&t(B),_(B),k(B),B!=null&&(j.current=B)},[A,t,_,k]),K=m.useCallback(B=>{S(X3(B)),S(En({handler:i,reactEvent:B}))},[S,i]),H=m.useCallback(B=>{S(db(B)),S(En({handler:u,reactEvent:B}))},[S,u]),q=m.useCallback(B=>{S(ML()),S(En({handler:d,reactEvent:B}))},[S,d]),O=m.useCallback(B=>{S(db(B)),S(En({handler:f,reactEvent:B}))},[S,f]),V=m.useCallback(()=>{S(n$())},[S]),J=m.useCallback(B=>{S(r$(B.key))},[S]),he=m.useCallback(B=>{S(En({handler:o,reactEvent:B}))},[S,o]),be=m.useCallback(B=>{S(En({handler:l,reactEvent:B}))},[S,l]),_e=m.useCallback(B=>{S(En({handler:c,reactEvent:B}))},[S,c]),je=m.useCallback(B=>{S(En({handler:h,reactEvent:B}))},[S,h]),Oe=m.useCallback(B=>{S(En({handler:v,reactEvent:B}))},[S,v]),ot=m.useCallback(B=>{w&&S(a$(B)),S(En({handler:g,reactEvent:B}))},[S,w,g]),Q=m.useCallback(B=>{S(En({handler:p,reactEvent:B}))},[S,p]),De=xhe(b);return m.createElement(t3.Provider,{value:N},m.createElement(rM.Provider,{value:E},m.createElement(De,{width:D??x?.width,height:F??x?.height,className:Ie("recharts-wrapper",n),style:che({position:"relative",cursor:"default",width:D,height:F},x),onClick:K,onContextMenu:he,onDoubleClick:be,onFocus:V,onKeyDown:J,onMouseDown:_e,onMouseEnter:H,onMouseLeave:q,onMouseMove:O,onMouseUp:je,onTouchEnd:Q,onTouchMove:ot,onTouchStart:Oe,ref:W},m.createElement(hhe,null),r)))}),bhe=["width","height","responsive","children","className","style","compact","title","desc"];function whe(e,t){if(e==null)return{};var r,n,a=jhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var u$=m.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:l,compact:c,title:u,desc:d}=e,f=whe(e,bhe),h=gn(f);return c?m.createElement(m.Fragment,null,m.createElement(Ag,{width:r,height:n}),m.createElement(v2,{otherAttributes:h,title:u,desc:d},i)):m.createElement(yhe,{className:o,style:l,width:r,height:n,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},m.createElement(v2,{otherAttributes:h,title:u,desc:d,ref:t},m.createElement(Uue,null,i)))});function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fb.apply(null,arguments)}var She={top:5,right:5,bottom:5,left:5},Nhe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:She,reverseStackOrder:!1,syncMethod:"index",responsive:!1},d$=m.forwardRef(function(t,r){var n,a=br(t.categoricalChartProps,Nhe),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return m.createElement(o$,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},m.createElement(B3,{chartData:u.data}),m.createElement(l$,{layout:a.layout,margin:a.margin}),m.createElement(c$,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),m.createElement(u$,fb({},a,{ref:r})))}),_he=["axis"],kN=m.forwardRef((e,t)=>m.createElement(d$,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_he,tooltipPayloadSearcher:rN,categoricalChartProps:e,ref:t})),Ehe=["axis","item"],yp=m.forwardRef((e,t)=>m.createElement(d$,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ehe,tooltipPayloadSearcher:rN,categoricalChartProps:e,ref:t}));function khe(e){var t=xt();return m.useEffect(()=>{t(Jfe(e))},[t,e]),null}var Phe=["layout"];function hb(){return hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hb.apply(null,arguments)}function Che(e,t){if(e==null)return{};var r,n,a=Ahe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ahe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ohe={top:5,right:5,bottom:5,left:5},The={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ohe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Ihe=m.forwardRef(function(t,r){var n,a=br(t.categoricalChartProps,The),{layout:i}=a,o=Che(a,Phe),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return m.createElement(o$,{preloadedState:{options:f},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:l},m.createElement(B3,{chartData:a.data}),m.createElement(l$,{layout:i,margin:a.margin}),m.createElement(c$,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),m.createElement(khe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),m.createElement(u$,hb({},o,{ref:r})))}),Rhe=["item"],Mhe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},PN=m.forwardRef((e,t)=>{var r=br(e,Mhe);return m.createElement(Ihe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Rhe,tooltipPayloadSearcher:rN,categoricalChartProps:r,ref:t})});const y2=["#10b981","#f59e0b","#ef4444","#6366f1","#8b5cf6"];function Dhe(){const[e,t]=m.useState(null),[r,n]=m.useState(!0),[a,i]=m.useState({from:new Date(new Date().setDate(new Date().getDate()-30)),to:new Date}),[o,l]=m.useState("all"),[c,u]=m.useState([]);m.useEffect(()=>{d()},[]),m.useEffect(()=>{f()},[a,o]);const d=async()=>{const{data:x}=await P.from("landscapers").select("id, business_name").order("business_name");x&&u(x.map(y=>({id:y.id,name:y.business_name})))},f=async()=>{n(!0);try{let x=P.from("payout_disputes").select("*, landscapers(business_name)").gte("created_at",a.from.toISOString()).lte("created_at",a.to.toISOString());o!=="all"&&(x=x.eq("landscaper_id",o));const{data:y}=await x;if(y){const b=y.length,w=y.filter(D=>D.status==="pending").length,j=y.filter(D=>D.status==="resolved").length,S=y.filter(D=>D.status==="rejected").length,N=y.filter(D=>D.resolved_at),_=N.length>0?N.reduce((D,F)=>{const W=new Date(F.created_at).getTime(),K=new Date(F.resolved_at).getTime();return D+(K-W)},0)/N.length/(1e3*60*60):0,E=h(y),k=p(y),A=[{status:"Pending",count:w},{status:"Under Review",count:y.filter(D=>D.status==="under_review").length},{status:"Resolved",count:j},{status:"Rejected",count:S}],R=g(N);t({totalDisputes:b,pendingDisputes:w,resolvedDisputes:j,rejectedDisputes:S,averageResolutionTime:_,resolutionRate:b>0?j/b*100:0,trendsData:E,reasonsData:k,statusData:A,resolutionTimeData:R})}}catch(x){console.error("Error fetching analytics:",x)}finally{n(!1)}},h=x=>{const b=[];for(let w=29;w>=0;w--){const j=new Date;j.setDate(j.getDate()-w);const S=Cn(j,"MMM dd"),N=x.filter(E=>Cn(new Date(E.created_at),"MMM dd")===S),_=N.filter(E=>E.status==="resolved");b.push({date:S,disputes:N.length,resolved:_.length})}return b},p=x=>{const y={};return x.forEach(b=>{y[b.reason]=(y[b.reason]||0)+1}),Object.entries(y).map(([b,w])=>({reason:b,count:w})).sort((b,w)=>w.count-b.count).slice(0,5)},g=x=>{const y=[{range:"< 24h",min:0,max:24,count:0},{range:"1-3 days",min:24,max:72,count:0},{range:"3-7 days",min:72,max:168,count:0},{range:"> 7 days",min:168,max:1/0,count:0}];return x.forEach(b=>{const w=(new Date(b.resolved_at).getTime()-new Date(b.created_at).getTime())/36e5,j=y.find(S=>w>=S.min&&w<S.max);j&&j.count++}),y},v=()=>{if(!e)return;const x=[["Dispute Analytics Report"],[`Date Range: ${Cn(a.from,"PP")} - ${Cn(a.to,"PP")}`],[""],["Metric","Value"],["Total Disputes",e.totalDisputes],["Pending Disputes",e.pendingDisputes],["Resolved Disputes",e.resolvedDisputes],["Rejected Disputes",e.rejectedDisputes],["Average Resolution Time (hours)",e.averageResolutionTime.toFixed(2)],["Resolution Rate (%)",e.resolutionRate.toFixed(2)]].map(j=>j.join(",")).join(`
`),y=new Blob([x],{type:"text/csv"}),b=window.URL.createObjectURL(y),w=document.createElement("a");w.href=b,w.download=`dispute-analytics-${Cn(new Date,"yyyy-MM-dd")}.csv`,w.click()};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading analytics..."}):e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Dispute Analytics"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(pr,{value:o,onValueChange:l,children:[s.jsx(ar,{className:"w-48",children:s.jsx(gr,{placeholder:"All Landscapers"})}),s.jsxs(ir,{children:[s.jsx(ae,{value:"all",children:"All Landscapers"}),c.map(x=>s.jsx(ae,{value:x.id,children:x.name},x.id))]})]}),s.jsxs(I,{onClick:v,variant:"outline",children:[s.jsx(Ri,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Total Disputes"}),s.jsx(Ks,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsx(T,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.totalDisputes})})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Avg Resolution Time"}),s.jsx(nt,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsx(T,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[e.averageResolutionTime.toFixed(1),"h"]})})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Resolution Rate"}),s.jsx(Ne,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsx(T,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[e.resolutionRate.toFixed(1),"%"]})})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Pending Review"}),s.jsx(dt,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsx(T,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.pendingDisputes})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Dispute Trends"})}),s.jsx(T,{children:s.jsx(Ts,{width:"100%",height:300,children:s.jsxs(kN,{data:e.trendsData,children:[s.jsx(fi,{strokeDasharray:"3 3"}),s.jsx(hi,{dataKey:"date"}),s.jsx(mi,{}),s.jsx(Rs,{}),s.jsx(Og,{}),s.jsx(mc,{type:"monotone",dataKey:"disputes",stroke:"#8b5cf6",name:"Total Disputes"}),s.jsx(mc,{type:"monotone",dataKey:"resolved",stroke:"#10b981",name:"Resolved"})]})})})]}),s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Disputes by Status"})}),s.jsx(T,{children:s.jsx(Ts,{width:"100%",height:300,children:s.jsxs(PN,{children:[s.jsx(uv,{data:e.statusData,cx:"50%",cy:"50%",labelLine:!1,label:({name:x,percent:y})=>`${x} ${(y*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:e.statusData.map((x,y)=>s.jsx(Zo,{fill:y2[y%y2.length]},`cell-${y}`))}),s.jsx(Rs,{})]})})})]}),s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Top Dispute Reasons"})}),s.jsx(T,{children:s.jsx(Ts,{width:"100%",height:300,children:s.jsxs(yp,{data:e.reasonsData,children:[s.jsx(fi,{strokeDasharray:"3 3"}),s.jsx(hi,{dataKey:"reason"}),s.jsx(mi,{}),s.jsx(Rs,{}),s.jsx(fc,{dataKey:"count",fill:"#6366f1"})]})})})]}),s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Resolution Time Distribution"})}),s.jsx(T,{children:s.jsx(Ts,{width:"100%",height:300,children:s.jsxs(yp,{data:e.resolutionTimeData,children:[s.jsx(fi,{strokeDasharray:"3 3"}),s.jsx(hi,{dataKey:"range"}),s.jsx(mi,{}),s.jsx(Rs,{}),s.jsx(fc,{dataKey:"count",fill:"#10b981"})]})})})]})]})]}):null}function Lhe(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var CN="ScrollArea",[f$]=Yn(CN),[$he,Zn]=f$(CN),h$=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[p,g]=m.useState(null),[v,x]=m.useState(null),[y,b]=m.useState(0),[w,j]=m.useState(0),[S,N]=m.useState(!1),[_,E]=m.useState(!1),k=Te(t,R=>c(R)),A=Kp(a);return s.jsx($he,{scope:r,type:n,dir:A,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:N,scrollbarY:v,onScrollbarYChange:x,scrollbarYEnabled:_,onScrollbarYEnabledChange:E,onCornerWidthChange:b,onCornerHeightChange:j,children:s.jsx(xe.div,{dir:A,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});h$.displayName=CN;var m$="ScrollAreaViewport",p$=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Zn(m$,r),l=m.useRef(null),c=Te(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(xe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});p$.displayName=m$;var Ys="ScrollAreaScrollbar",AN=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Zn(Ys,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(Fhe,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(Bhe,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(g$,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(ON,{...n,ref:t}):null});AN.displayName=Ys;var Fhe=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Zn(Ys,e.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Gn,{present:r||i,children:s.jsx(g$,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Bhe=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Zn(Ys,e.__scopeScrollArea),i=e.orientation==="horizontal",o=fv(()=>c("SCROLL_END"),100),[l,c]=Lhe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),m.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(Gn,{present:r||l!=="hidden",children:s.jsx(ON,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ye(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ye(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),g$=m.forwardRef((e,t)=>{const r=Zn(Ys,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=m.useState(!1),l=e.orientation==="horizontal",c=fv(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return pc(r.viewport,c),pc(r.content,c),s.jsx(Gn,{present:n||i,children:s.jsx(ON,{"data-state":i?"visible":"hidden",...a,ref:t})})}),ON=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Zn(Ys,e.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=w$(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return Khe(h,o.current,l,p)}return r==="horizontal"?s.jsx(Uhe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=b2(h,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(Vhe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=b2(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Uhe=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Zn(Ys,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=Te(t,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(x$,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":dv(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),S$(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:wp(o.paddingLeft),paddingEnd:wp(o.paddingRight)}})}})}),Vhe=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Zn(Ys,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=Te(t,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(x$,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":dv(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),S$(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:wp(o.paddingTop),paddingEnd:wp(o.paddingBottom)}})}})}),[zhe,v$]=f$(Ys),x$=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=Zn(Ys,r),[g,v]=m.useState(null),x=Te(t,k=>v(k)),y=m.useRef(null),b=m.useRef(""),w=p.viewport,j=n.content-n.viewport,S=kr(d),N=kr(c),_=fv(f,10);function E(k){if(y.current){const A=k.clientX-y.current.left,R=k.clientY-y.current.top;u({x:A,y:R})}}return m.useEffect(()=>{const k=A=>{const R=A.target;g?.contains(R)&&S(A,j)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[w,g,j,S]),m.useEffect(N,[n,N]),pc(g,_),pc(p.content,_),s.jsx(zhe,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:kr(i),onThumbPointerUp:kr(o),onThumbPositionChange:N,onThumbPointerDown:kr(l),children:s.jsx(xe.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:ye(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),y.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(k))}),onPointerMove:ye(e.onPointerMove,E),onPointerUp:ye(e.onPointerUp,k=>{const A=k.target;A.hasPointerCapture(k.pointerId)&&A.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),bp="ScrollAreaThumb",y$=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=v$(bp,e.__scopeScrollArea);return s.jsx(Gn,{present:r||a.hasThumb,children:s.jsx(Whe,{ref:t,...n})})}),Whe=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Zn(bp,r),o=v$(bp,r),{onThumbPositionChange:l}=o,c=Te(t,f=>o.onThumbChange(f)),u=m.useRef(void 0),d=fv(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Hhe(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(xe.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ye(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),g=f.clientX-p.left,v=f.clientY-p.top;o.onThumbPointerDown({x:g,y:v})}),onPointerUp:ye(e.onPointerUp,o.onThumbPointerUp)})});y$.displayName=bp;var TN="ScrollAreaCorner",b$=m.forwardRef((e,t)=>{const r=Zn(TN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(qhe,{...e,ref:t}):null});b$.displayName=TN;var qhe=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Zn(TN,r),[i,o]=m.useState(0),[l,c]=m.useState(0),u=!!(i&&l);return pc(a.scrollbarX,()=>{const d=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(d),c(d)}),pc(a.scrollbarY,()=>{const d=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(xe.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function wp(e){return e?parseInt(e,10):0}function w$(e,t){const r=e/t;return isNaN(r)?0:r}function dv(e){const t=w$(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Khe(e,t,r,n="ltr"){const a=dv(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return j$([c,u],f)(e)}function b2(e,t,r="ltr"){const n=dv(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=ly(e,c);return j$([0,o],[0,l])(u)}function j$(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function S$(e,t){return e>0&&e<t}var Hhe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function fv(e,t){const r=kr(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function pc(e,t){const r=kr(t);Bt(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var N$=h$,Yhe=p$,Ghe=b$;const _$=m.forwardRef(({className:e,children:t,hideScrollbar:r=!1,...n},a)=>s.jsxs(N$,{ref:a,className:ue("relative overflow-hidden",e),...n,children:[s.jsx(Yhe,{className:"h-full w-full rounded-[inherit]",children:t}),!r&&s.jsx(E$,{}),s.jsx(Ghe,{})]}));_$.displayName=N$.displayName;const E$=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(AN,{ref:n,orientation:t,className:ue("flex touch-none select-none transition-colors duration-300",t==="vertical"&&"h-full w-2 border-l border-l-transparent p-[1px] hover:w-2.5",t==="horizontal"&&"h-2 flex-col border-t border-t-transparent p-[1px] hover:h-2.5",e),...r,children:s.jsx(y$,{className:"relative flex-1 rounded-full bg-border/50 hover:bg-border/80 transition-colors"})}));E$.displayName=AN.displayName;const w2=({limit:e=50})=>{const[t,r]=m.useState([]),[n,a]=m.useState(!0),[i,o]=m.useState("all");m.useEffect(()=>{l();const h=P.channel("payments").on("postgres_changes",{event:"*",schema:"public",table:"payments"},p=>{c(p)}).subscribe();return()=>{h.unsubscribe()}},[e]);const l=async()=>{try{a(!0);let h=P.from("payments").select("*").order("created_at",{ascending:!1}).limit(e);i!=="all"&&(h=h.eq("status",i));const{data:p,error:g}=await h;if(g)throw g;r(p||[])}catch(h){console.error("Error fetching transactions:",h)}finally{a(!1)}},c=h=>{h.eventType==="INSERT"?r(p=>[h.new,...p.slice(0,e-1)]):h.eventType==="UPDATE"&&r(p=>p.map(g=>g.id===h.new.id?h.new:g))},u=h=>{switch(h){case"succeeded":return s.jsx(Ne,{className:"h-4 w-4 text-green-500"});case"failed":return s.jsx(dt,{className:"h-4 w-4 text-red-500"});case"pending":return s.jsx(nt,{className:"h-4 w-4 text-yellow-500"});case"refunded":return s.jsx(sr,{className:"h-4 w-4 text-blue-500"});default:return s.jsx(nt,{className:"h-4 w-4 text-gray-500"})}},d=h=>{switch(h){case"succeeded":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"refunded":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},f=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h/100);return s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(Nt,{className:"h-5 w-5"}),"Live Transactions"]}),s.jsx("div",{className:"flex gap-2",children:["all","succeeded","failed","pending"].map(h=>s.jsx(I,{variant:i===h?"default":"outline",size:"sm",onClick:()=>o(h),className:"capitalize",children:h},h))})]})}),s.jsx(T,{children:s.jsx(_$,{className:"h-96",children:n?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No transactions found"}):s.jsx("div",{className:"space-y-3",children:t.map(h=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[u(h.status),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:f(h.amount)}),s.jsx("div",{className:"text-sm text-muted-foreground",children:h.customer_email}),s.jsx("div",{className:"text-xs text-muted-foreground",children:h.description})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(Y,{className:d(h.status),children:h.status}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:Tm(new Date(h.created_at),{addSuffix:!0})})]})]},h.id))})})})]})},Jhe=({data:e})=>{const t=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a/100),r=a=>{switch(a){case"healthy":return"text-green-600 bg-green-50";case"warning":return"text-yellow-600 bg-yellow-50";case"critical":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},n=(a,i=95)=>a>=i?s.jsx(Ks,{className:"h-4 w-4 text-green-500"}):s.jsx(XO,{className:"h-4 w-4 text-red-500"});return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"24h Revenue"}),s.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(T,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t(e.totalRevenue)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 24 hours"})]})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Success Rate"}),n(e.successRate)]}),s.jsxs(T,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[e.successRate.toFixed(1),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Payment success rate"})]})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Active Subscriptions"}),s.jsx(Ec,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(T,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.activeSubscriptions}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Pending Payouts"}),s.jsx(vi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(T,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.pendingPayouts}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting processing"})]})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Failed Payments"}),s.jsx(it,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(T,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.failedPayments}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 24 hours"})]})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"System Health"}),s.jsx(vi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(T,{children:[s.jsx(Y,{className:r(e.webhookHealth),children:e.webhookHealth.toUpperCase()}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Webhook status"})]})]})]})},Xhe=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(!0),[a,i]=m.useState("all"),[o,l]=m.useState(0);m.useEffect(()=>{c();const p=P.channel("payouts").on("postgres_changes",{event:"*",schema:"public",table:"payouts"},()=>{c()}).subscribe();return()=>{p.unsubscribe()}},[a]);const c=async()=>{try{n(!0);let p=P.from("payouts").select(`
          *,
          landscaper:landscapers(first_name, last_name, email)
        `).order("created_at",{ascending:!1}).limit(100);a!=="all"&&(p=p.eq("status",a));const{data:g,error:v}=await p;if(v)throw v;t(g||[]);const y=(g?.filter(b=>b.status==="pending")||[]).reduce((b,w)=>b+(w.amount||0),0);l(y)}catch(p){console.error("Error fetching payouts:",p)}finally{n(!1)}},u=async p=>{try{await P.from("payouts").update({status:"processing"}).eq("id",p);const{data:g,error:v}=await P.functions.invoke("process-payout",{body:{payoutId:p}});if(v)throw v;c()}catch(g){console.error("Error processing payout:",g)}},d=p=>{switch(p){case"completed":return s.jsx(Ne,{className:"h-4 w-4 text-green-500"});case"failed":return s.jsx(gt,{className:"h-4 w-4 text-red-500"});case"processing":return s.jsx(nt,{className:"h-4 w-4 text-blue-500"});case"pending":return s.jsx(nt,{className:"h-4 w-4 text-yellow-500"});default:return s.jsx(nt,{className:"h-4 w-4 text-gray-500"})}},f=p=>{switch(p){case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"processing":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},h=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(p/100);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Total Pending"}),s.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(T,{children:s.jsx("div",{className:"text-2xl font-bold",children:h(o)})})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Pending Count"}),s.jsx(mr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(T,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(p=>p.status==="pending").length})})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Processing"}),s.jsx(nt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(T,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(p=>p.status==="processing").length})})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Failed"}),s.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(T,{children:s.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.filter(p=>p.status==="failed").length})})]})]}),s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(L,{children:"Commission Payouts"}),s.jsx("div",{className:"flex gap-2",children:["all","pending","processing","completed","failed"].map(p=>s.jsx(I,{variant:a===p?"default":"outline",size:"sm",onClick:()=>i(p),className:"capitalize",children:p},p))})]})}),s.jsx(T,{children:r?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs(dj,{children:[s.jsx(fj,{children:s.jsxs(dd,{children:[s.jsx(Ps,{children:"Landscaper"}),s.jsx(Ps,{children:"Amount"}),s.jsx(Ps,{children:"Status"}),s.jsx(Ps,{children:"Created"}),s.jsx(Ps,{children:"Processed"}),s.jsx(Ps,{children:"Actions"})]})}),s.jsx(hj,{children:e.map(p=>s.jsxs(dd,{children:[s.jsx(Cs,{children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[p.landscaper?.first_name," ",p.landscaper?.last_name]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:p.landscaper?.email})]})}),s.jsx(Cs,{className:"font-medium",children:h(p.amount)}),s.jsx(Cs,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[d(p.status),s.jsx(Y,{className:f(p.status),children:p.status})]})}),s.jsx(Cs,{children:Tm(new Date(p.created_at),{addSuffix:!0})}),s.jsx(Cs,{children:p.processed_at?Tm(new Date(p.processed_at),{addSuffix:!0}):"-"}),s.jsx(Cs,{children:p.status==="pending"&&s.jsx(I,{size:"sm",onClick:()=>u(p.id),children:"Process"})})]},p.id))})]})})]})]})},Qhe=({alerts:e,onDismiss:t})=>{const r=i=>{switch(i){case"error":return s.jsx(gt,{className:"h-4 w-4"});case"warning":return s.jsx(it,{className:"h-4 w-4"});case"info":return s.jsx(f_,{className:"h-4 w-4"});default:return s.jsx(f_,{className:"h-4 w-4"})}},n=i=>{switch(i){case"error":return"destructive";case"warning":return"default";case"info":return"default";default:return"default"}},a=i=>{switch(i){case"error":return"bg-red-100 text-red-800";case"warning":return"bg-yellow-100 text-yellow-800";case"info":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return e.length===0?null:s.jsx("div",{className:"space-y-3",children:e.map(i=>s.jsx(Be,{variant:n(i.type),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[r(i.type),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ue,{className:"mb-2",children:i.message}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Y,{className:a(i.type),children:i.type.toUpperCase()}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Tm(i.timestamp,{addSuffix:!0})})]})]})]}),s.jsx(I,{variant:"ghost",size:"sm",onClick:()=>t(i.id),className:"h-6 w-6 p-0",children:s.jsx(bs,{className:"h-4 w-4"})})]})},i.id))})},j2=({detailed:e=!1})=>{const[t,r]=m.useState([]),[n,a]=m.useState([]),[i,o]=m.useState([]),[l,c]=m.useState(!0);m.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const h=new Date(Date.now()-7*24*60*60*1e3),{data:p}=await P.from("payments").select("*").gte("created_at",h.toISOString());if(p){const g=p.reduce((j,S)=>{const N=new Date(S.created_at).toLocaleDateString();return j[N]||(j[N]={name:N,value:0,amount:0}),S.status==="succeeded"&&(j[N].amount+=S.amount||0,j[N].value+=1),j},{});r(Object.values(g));const v=p.reduce((j,S)=>(j[S.status]=(j[S.status]||0)+1,j),{}),x=Object.entries(v).map(([j,S])=>({name:j,value:S}));a(x);const y=new Date;y.setHours(0,0,0,0);const b=p.filter(j=>new Date(j.created_at)>=y),w=Array.from({length:24},(j,S)=>{const N=b.filter(_=>new Date(_.created_at).getHours()===S);return{name:`${S}:00`,value:N.length,amount:N.reduce((_,E)=>_+(E.amount||0),0)}});o(w)}}catch(h){console.error("Error fetching chart data:",h)}finally{c(!1)}},d=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"],f=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h/100);return l?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Daily Revenue (Last 7 Days)"})}),s.jsx(T,{children:s.jsx(Ts,{width:"100%",height:300,children:s.jsxs(yp,{data:t,children:[s.jsx(fi,{strokeDasharray:"3 3"}),s.jsx(hi,{dataKey:"name"}),s.jsx(mi,{tickFormatter:f}),s.jsx(Rs,{formatter:h=>f(h)}),s.jsx(fc,{dataKey:"amount",fill:"#0088FE"})]})})})]}),e&&s.jsxs(s.Fragment,{children:[s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Payment Status Distribution"})}),s.jsx(T,{children:s.jsx(Ts,{width:"100%",height:300,children:s.jsxs(PN,{children:[s.jsx(uv,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:h,percent:p})=>`${h} ${(p*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((h,p)=>s.jsx(Zo,{fill:d[p%d.length]},`cell-${p}`))}),s.jsx(Rs,{})]})})})]}),s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Today's Payment Trend (Hourly)"})}),s.jsx(T,{children:s.jsx(Ts,{width:"100%",height:300,children:s.jsxs(kN,{data:i,children:[s.jsx(fi,{strokeDasharray:"3 3"}),s.jsx(hi,{dataKey:"name"}),s.jsx(mi,{}),s.jsx(Rs,{}),s.jsx(mc,{type:"monotone",dataKey:"value",stroke:"#8884d8",strokeWidth:2,dot:{fill:"#8884d8"}})]})})})]})]})]})},Zhe=()=>{const[e,t]=m.useState({totalRevenue:0,successRate:0,activeSubscriptions:0,pendingPayouts:0,failedPayments:0,webhookHealth:"healthy"}),[r,n]=m.useState(!0),[a,i]=m.useState([]),[o,l]=m.useState(!0);m.useEffect(()=>{if(c(),o){const d=setInterval(c,3e4);return()=>clearInterval(d)}},[o]);const c=async()=>{try{n(!0);const{data:d}=await P.from("payments").select("*").gte("created_at",new Date(Date.now()-24*60*60*1e3).toISOString()),{data:f}=await P.from("subscriptions").select("*").eq("status","active"),{data:h}=await P.from("payouts").select("*").eq("status","pending"),p=d?.reduce((y,b)=>y+(b.amount||0),0)||0,g=d?.filter(y=>y.status==="succeeded").length||0,v=d?.length?g/d.length*100:0,x=d?.filter(y=>y.status==="failed").length||0;t({totalRevenue:p,successRate:v,activeSubscriptions:f?.length||0,pendingPayouts:h?.length||0,failedPayments:x,webhookHealth:x>5?"critical":x>2?"warning":"healthy"}),x>5&&i(y=>[...y,{id:Date.now(),type:"error",message:`High number of failed payments: ${x} in the last 24 hours`,timestamp:new Date}])}catch(d){console.error("Error fetching dashboard data:",d)}finally{n(!1)}},u=d=>{switch(d){case"healthy":return"bg-green-500";case"warning":return"bg-yellow-500";case"critical":return"bg-red-500";default:return"bg-gray-500"}};return s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Payment Monitoring Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Real-time payment system monitoring and analytics"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(Y,{className:u(e.webhookHealth),children:["System ",e.webhookHealth]}),s.jsxs(I,{onClick:()=>l(!o),variant:o?"default":"outline",children:["Auto Refresh ",o?"ON":"OFF"]}),s.jsx(I,{onClick:c,disabled:r,children:r?"Refreshing...":"Refresh Now"})]})]}),s.jsx(Qhe,{alerts:a,onDismiss:d=>i(f=>f.filter(h=>h.id!==d))}),s.jsx(Jhe,{data:e}),s.jsxs(wn,{defaultValue:"overview",className:"space-y-4",children:[s.jsxs(Yr,{children:[s.jsx(fe,{value:"overview",children:"Overview"}),s.jsx(fe,{value:"transactions",children:"Live Transactions"}),s.jsx(fe,{value:"commissions",children:"Commission Payouts"}),s.jsx(fe,{value:"system",children:"System Health"}),s.jsx(fe,{value:"analytics",children:"Analytics"})]}),s.jsx(ge,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(j2,{}),s.jsx(w2,{limit:10})]})}),s.jsx(ge,{value:"transactions",children:s.jsx(w2,{})}),s.jsx(ge,{value:"commissions",children:s.jsx(Xhe,{})}),s.jsx(ge,{value:"system",children:s.jsx(yy,{})}),s.jsx(ge,{value:"analytics",children:s.jsx(j2,{detailed:!0})})]})]})};function eme(){const[e,t]=m.useState(!1),[r,n]=m.useState(null),a=async()=>{t(!0),n(null);try{const{data:o,error:l}=await P.functions.invoke("validate-stripe-connect");n(l?{error:l.message,success:!1}:o)}catch(o){n({error:o.message,success:!1})}finally{t(!1)}},i=o=>o?s.jsx(xa,{className:"h-5 w-5 text-green-500"}):s.jsx(dt,{className:"h-5 w-5 text-red-500"});return s.jsxs(C,{className:"w-full max-w-2xl",children:[s.jsxs(M,{children:[s.jsx(L,{children:"Stripe Connect Diagnostic"}),s.jsx(Le,{children:"Test your Stripe Connect configuration and identify issues"})]}),s.jsxs(T,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(I,{onClick:a,disabled:e,children:[e&&s.jsx(Bn,{className:"mr-2 h-4 w-4 animate-spin"}),"Run Diagnostic"]}),s.jsx(I,{variant:"outline",asChild:!0,children:s.jsxs("a",{href:"/STRIPE_CONNECT_ENABLE_GUIDE.md",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(Us,{className:"mr-2 h-4 w-4"}),"Setup Guide"]})})]}),r&&s.jsxs("div",{className:"space-y-3",children:[r.error&&s.jsxs(Be,{variant:"destructive",children:[s.jsx(gt,{className:"h-4 w-4"}),s.jsx(Ue,{children:r.error})]}),r.checks&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[i(r.checks.stripeKeyValid),s.jsx("span",{className:"font-medium",children:"Stripe API Key Valid"})]}),s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[i(r.checks.connectEnabled),s.jsx("span",{className:"font-medium",children:"Stripe Connect Enabled"})]}),s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[i(r.checks.canCreateAccounts),s.jsx("span",{className:"font-medium",children:"Can Create Connect Accounts"})]})]}),r.message&&s.jsx(Be,{children:s.jsx(Ue,{children:r.message})}),r.hint&&s.jsxs(Be,{children:[s.jsx(gt,{className:"h-4 w-4"}),s.jsxs(Ue,{children:[s.jsx("strong",{children:"How to Fix:"})," ",r.hint]})]}),!r.checks?.connectEnabled&&s.jsxs(Be,{children:[s.jsx(Us,{className:"h-4 w-4"}),s.jsxs(Ue,{children:[s.jsx("strong",{children:"Next Steps:"})," Follow the"," ",s.jsx("a",{href:"/STRIPE_CONNECT_ENABLE_GUIDE.md",target:"_blank",rel:"noopener noreferrer",className:"underline font-medium",children:"Setup Guide"})," ","to enable Stripe Connect in your dashboard."]})]}),r.details&&s.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Technical Details:"}),s.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(r.details,null,2)})]})]})]})]})}function tme(){const[e,t]=m.useState({totalUsers:0,totalRevenue:0,activeJobs:0,pendingApprovals:0}),[r,n]=m.useState(!1);m.useEffect(()=>{a(),i()},[]);const a=async()=>{try{const[l,c,u,d]=await Promise.all([P.from("users").select("id",{count:"exact"}),P.from("jobs").select("id, status",{count:"exact"}).eq("status","active"),P.from("payments").select("amount, status").eq("status","completed"),P.from("landscapers").select("id, approved",{count:"exact"}).eq("approved",!1)]),f=u.data?.reduce((h,p)=>h+(p.amount||0),0)||0;t({totalUsers:l.count||0,totalRevenue:f,activeJobs:c.count||0,pendingApprovals:d.count||0})}catch(l){console.error("Error loading stats:",l)}},i=async()=>{yE.isMonitoring()||await yE.startMonitoring(),n(!0)},o=async()=>{try{console.log("Admin logout initiated"),await Rd(P,"/admin-login")}catch(l){console.error("Admin logout error:",l),window.location.href="/admin-login"}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-[#020b06] to-black text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 lg:py-16 space-y-8 sm:space-y-12 lg:space-y-16",children:[s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 sm:gap-6 flex-wrap",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-emerald-300 mb-1",children:"Admin Dashboard"}),s.jsx("p",{className:"text-sm sm:text-base text-emerald-300/70",children:"Manage your platform and monitor security"})]}),s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-shrink-0 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pn,{className:`h-5 w-5 ${r?"text-green-500":"text-red-500"} flex-shrink-0`}),s.jsxs("span",{className:"text-sm sm:text-base text-gray-300 whitespace-nowrap",children:["Security Monitor: ",r?"Active":"Inactive"]})]}),s.jsxs(I,{onClick:o,variant:"outline",size:"sm",className:"bg-red-500/10 border-red-500/30 text-red-400 hover:bg-red-500/20 hover:border-red-500/50 hover:text-red-300 transition-all duration-300",children:[s.jsx(q0,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 lg:gap-8",children:[s.jsxs(C,{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl",children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-4 sm:p-6 lg:p-8",children:[s.jsx(L,{className:"text-sm font-medium text-white whitespace-nowrap",children:"Total Users"}),s.jsx(Ec,{className:"h-4 w-4 text-emerald-400 flex-shrink-0"})]}),s.jsx(T,{className:"p-4 sm:p-6 lg:p-8 pt-0",children:s.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-emerald-300",children:e.totalUsers})})]}),s.jsxs(C,{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl",children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-4 sm:p-6 lg:p-8",children:[s.jsx(L,{className:"text-sm font-medium text-white whitespace-nowrap",children:"Total Revenue"}),s.jsx(Nt,{className:"h-4 w-4 text-emerald-400 flex-shrink-0"})]}),s.jsx(T,{className:"p-4 sm:p-6 lg:p-8 pt-0",children:s.jsxs("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-emerald-300",children:["$",e.totalRevenue]})})]}),s.jsxs(C,{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl",children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-4 sm:p-6 lg:p-8",children:[s.jsx(L,{className:"text-sm font-medium text-white whitespace-nowrap",children:"Active Jobs"}),s.jsx(vi,{className:"h-4 w-4 text-emerald-400 flex-shrink-0"})]}),s.jsx(T,{className:"p-4 sm:p-6 lg:p-8 pt-0",children:s.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-emerald-300",children:e.activeJobs})})]}),s.jsxs(C,{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl",children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-4 sm:p-6 lg:p-8",children:[s.jsx(L,{className:"text-sm font-medium text-white whitespace-nowrap",children:"Pending Approvals"}),s.jsx(it,{className:"h-4 w-4 text-yellow-400 flex-shrink-0"})]}),s.jsx(T,{className:"p-4 sm:p-6 lg:p-8 pt-0",children:s.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-yellow-300",children:e.pendingApprovals})})]})]})}),s.jsx("div",{className:"w-full",children:s.jsxs(wn,{defaultValue:"overview",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Yr,{className:"flex flex-wrap sm:grid sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-12 w-full bg-black/60 backdrop-blur border border-emerald-500/25 p-1 gap-1 overflow-x-auto",children:[s.jsx(fe,{value:"overview",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Overview"}),s.jsx(fe,{value:"stripe-connect",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Connect Test"}),s.jsx(fe,{value:"security",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Security"}),s.jsx(fe,{value:"users",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Users"}),s.jsx(fe,{value:"payments",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Payments"}),s.jsx(fe,{value:"disputes",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Disputes"}),s.jsx(fe,{value:"analytics",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Analytics"}),s.jsx(fe,{value:"stripe-prod",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Stripe"}),s.jsx(fe,{value:"system",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"System"}),s.jsx(fe,{value:"stripe",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Keys"}),s.jsx(fe,{value:"env-vars",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Environment"}),s.jsx(fe,{value:"vercel",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Vercel"}),s.jsx(fe,{value:"logs",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Logs"})]})}),s.jsx(ge,{value:"overview",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 lg:gap-10",children:[s.jsx("div",{className:"w-full",children:s.jsx(jE,{})}),s.jsx("div",{className:"w-full",children:s.jsx(JY,{})})]})}),s.jsx(ge,{value:"stripe-connect",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx("div",{className:"flex justify-center",children:s.jsx(eme,{})})}),s.jsx(ge,{value:"security",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(yy,{})}),s.jsx(ge,{value:"users",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(jE,{})}),s.jsx(ge,{value:"payments",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(Zhe,{})}),s.jsx(ge,{value:"disputes",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(sG,{})}),s.jsx(ge,{value:"analytics",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(Dhe,{})}),s.jsx(ge,{value:"stripe-prod",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(DY,{})}),s.jsx(ge,{value:"system",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(yy,{})}),s.jsx(ge,{value:"stripe",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(MY,{})}),s.jsx(ge,{value:"env-vars",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(tG,{})}),s.jsx(ge,{value:"vercel",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(rG,{})}),s.jsx(ge,{value:"logs",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(eG,{})})]})})]})})}async function rme(e){const{data:t,error:r}=await P.auth.getUser();if(r||!t?.user)throw new Error("Not signed in");const{data:n,error:a}=await P.rpc("ensure_user_and_client",{p_user_id:t.user.id,p_email:e.email,p_first_name:e.first_name?.trim()||"",p_last_name:e.last_name?.trim()||"",p_phone:e.phone||null});if(a)throw console.error("RPC error:",a),a;return n}function IN({userType:e="client",defaultTab:t="login",onBack:r,showBackButton:n=!0}){Ae();const[a]=Bp(),[i,o]=m.useState(a.get("tab")||t),[l,c]=m.useState(!1),[u,d]=m.useState(!1),[f,h]=m.useState(""),[p,g]=m.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:""}),v=j=>{g(S=>({...S,[j.target.name]:j.target.value}))},x=async j=>{j.preventDefault(),d(!0),h("");try{if(i==="login"){const{data:S,error:N}=await P.auth.signInWithPassword({email:p.email,password:p.password});if(N)throw N;h("Login successful! Redirecting...")}else if(i==="signup"){if(p.password!==p.confirmPassword)throw new Error("Passwords do not match");const{data:S,error:N}=await P.auth.signUp({email:p.email,password:p.password,options:{data:{role:e}}});if(N)throw N;S.user&&e==="client"&&await rme({first_name:p.firstName,last_name:p.lastName,email:p.email,phone:p.phone}),h("Please check your email to verify your account")}else if(i==="reset"){const{error:S}=await P.auth.resetPasswordForEmail(p.email);if(S)throw S;h("Password reset email sent")}}catch(S){h(S.message||"Operation failed")}finally{d(!1)}},b={client:{title:"Client Portal",icon:Ec,description:"Book luxury landscaping services"},landscaper:{title:"Professional Portal",icon:Ln,description:"Manage your landscaping business"},admin:{title:"Admin Portal",icon:pn,description:"System administration"}}[e],w=b.icon;return s.jsxs("div",{className:"min-h-screen bg-black relative",children:[s.jsx(Wn,{}),s.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[n&&r&&s.jsxs(I,{onClick:r,variant:"ghost",className:"mb-6 text-emerald-400 hover:text-emerald-300",children:[s.jsx(ps,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 rounded-full bg-emerald-500/20 border border-emerald-500/30",children:s.jsx(w,{className:"w-8 h-8 text-emerald-400"})})}),s.jsx("h1",{className:"text-3xl font-bold text-emerald-400 mb-2",children:b.title}),s.jsx("p",{className:"text-gray-300",children:b.description})]}),s.jsxs(C,{className:"bg-gray-900/80 border-emerald-500/30 backdrop-blur-sm",children:[s.jsx(M,{children:s.jsxs(wn,{value:i,onValueChange:o,children:[s.jsxs(Yr,{className:"grid w-full grid-cols-3 bg-gray-800/50",children:[s.jsx(fe,{value:"login",children:"Login"}),s.jsx(fe,{value:"signup",children:"Sign Up"}),s.jsx(fe,{value:"reset",children:"Reset"})]}),s.jsx(ge,{value:"login",children:s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsx(le,{type:"email",name:"email",placeholder:"Email",value:p.email,onChange:v,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{type:l?"text":"password",name:"password",placeholder:"Password",value:p.password,onChange:v,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white pr-10"}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-emerald-400",children:l?s.jsx(KO,{className:"w-5 h-5"}):s.jsx(Vp,{className:"w-5 h-5"})})]}),s.jsx(I,{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-400 text-black font-semibold",children:u?"Signing In...":"Sign In"})]})}),s.jsx(ge,{value:"signup",children:s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(le,{type:"text",name:"firstName",placeholder:"First Name",value:p.firstName,onChange:v,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsx(le,{type:"text",name:"lastName",placeholder:"Last Name",value:p.lastName,onChange:v,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"})]}),s.jsx(le,{type:"email",name:"email",placeholder:"Email",value:p.email,onChange:v,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsx(le,{type:"tel",name:"phone",placeholder:"Phone Number",value:p.phone,onChange:v,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsx(le,{type:"password",name:"password",placeholder:"Password",value:p.password,onChange:v,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsx(le,{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:p.confirmPassword,onChange:v,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsx(I,{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-400 text-black font-semibold",children:u?"Creating Account...":"Create Account"})]})}),s.jsx(ge,{value:"reset",children:s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsx(le,{type:"email",name:"email",placeholder:"Email",value:p.email,onChange:v,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsx(I,{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-400 text-black font-semibold",children:u?"Sending...":"Send Reset Email"})]})})]})}),f&&s.jsx(T,{children:s.jsx("p",{className:`text-sm ${f.includes("sent")||f.includes("check")?"text-emerald-400":"text-red-400"}`,children:f})})]})]})})]})}class Ol{static instance;roleCache=new Map;CACHE_DURATION=5*60*1e3;static getInstance(){return Ol.instance||(Ol.instance=new Ol),Ol.instance}async getUserRoleInfo(){try{const{data:{user:t},error:r}=await P.auth.getUser();if(r)return console.error("❌ Auth error in getUserRoleInfo:",r),{role:null,isAuthenticated:!1,loading:!1,error:r.message};if(!t)return{role:null,isAuthenticated:!1,loading:!1};const n=this.roleCache.get(t.id);if(n&&Date.now()-n.timestamp<this.CACHE_DURATION)return console.log("✅ Using cached role:",n.role),{role:n.role,isAuthenticated:!0,loading:!1};const a=t.user_metadata?.role;if(a&&["client","landscaper","admin"].includes(a))return console.log("✅ Got role from metadata:",a),this.cacheRole(t.id,a),{role:a,isAuthenticated:!0,loading:!1};console.log("🔍 Querying database for role...");const{data:i,error:o}=await P.from("users").select("role").eq("id",t.id).single();if(o){console.error("❌ Database error fetching role:",o);const c="client";return this.cacheRole(t.id,c),{role:c,isAuthenticated:!0,loading:!1,error:o.message}}const l=i?.role||"client";return console.log("✅ Got role from database:",l),this.cacheRole(t.id,l),{role:l,isAuthenticated:!0,loading:!1}}catch(t){return console.error("❌ Exception in getUserRoleInfo:",t),{role:null,isAuthenticated:!1,loading:!1,error:String(t)}}}cacheRole(t,r){this.roleCache.set(t,{role:r,timestamp:Date.now()})}clearRoleCache(t){t?this.roleCache.delete(t):this.roleCache.clear()}getDashboardRoute(t){return{admin:"/admin-dashboard",landscaper:"/landscaper-dashboard",client:"/client-dashboard"}[t]||"/client-dashboard"}async navigateToRoleDashboard(t,r={}){const{replace:n=!0,fallbackRoute:a="/login",onLoading:i,onError:o}=r;try{i&&i();const l=await this.getUserRoleInfo();if(l.loading){console.log("⏳ Role still loading, waiting...");return}if(!l.isAuthenticated){console.log("❌ User not authenticated, redirecting to login"),t(a,{replace:n});return}l.error&&o&&o(l.error);const c=this.getDashboardRoute(l.role||"client");console.log("🚀 Navigating to dashboard:",c),t(c,{replace:n})}catch(l){console.error("❌ Exception in navigateToRoleDashboard:",l),o&&o(String(l)),t(a,{replace:n})}}async hasRouteAccess(t){const r=await this.getUserRoleInfo();if(!r.isAuthenticated)return!1;const n=r.role,a={"/admin-dashboard":["admin"],"/admin":["admin"],"/landscaper-dashboard":["landscaper"],"/pro-dashboard":["landscaper"],"/client-dashboard":["client"],"/dashboard":["client"]};for(const[i,o]of Object.entries(a))if(t.startsWith(i))return o.includes(n||"");return!0}async handleGenericDashboardRedirect(t,r){["/dashboard","/"].some(a=>t===a)&&(console.log("🔄 Generic dashboard route detected, auto-redirecting..."),await this.navigateToRoleDashboard(r))}}const zh=Ol.getInstance();function Ze({children:e,requiredRole:t}){const{user:r,role:n,loading:a}=kt();Vt();const i=Ae();if(m.useEffect(()=>{!a&&r&&n&&t&&n!==t&&(console.log(`🔄 Role mismatch detected. User role: ${n}, Required: ${t}`),zh.navigateToRoleDashboard(i,{replace:!0}))},[a,r,n,t,i]),a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-black to-gray-900",role:"status","aria-label":"Loading authentication",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400"})});if(!r){const o=t==="admin"?"/admin-login":t==="landscaper"?"/pro-login":"/client-login";return s.jsx(Xs,{to:o,replace:!0})}return n?t&&n!==t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-black to-gray-900",children:s.jsxs("div",{className:"text-center text-white max-w-md mx-auto px-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Redirecting..."}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Taking you to your dashboard"}),s.jsxs("p",{className:"text-sm text-gray-400",children:["Your role: ",n]})]})}):s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-black to-gray-900",role:"status","aria-label":"Loading user role",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400"})})}function RN(){const[e,t]=m.useState(!1),[r,n]=m.useState(!1),[a,i]=m.useState("portrait");return m.useEffect(()=>{const o=()=>{const l=window.innerWidth,c=window.innerHeight;t(l<768),n(l>=768&&l<1024),i(c>l?"portrait":"landscape")};return o(),window.addEventListener("resize",o),window.addEventListener("orientationchange",o),()=>{window.removeEventListener("resize",o),window.removeEventListener("orientationchange",o)}},[]),{isMobile:e,isTablet:r,orientation:a,isDesktop:!e&&!r}}let S2=class{static async createNotification(t){const{data:r,error:n}=await P.from("notifications").insert({user_id:t.userId,type:t.type,title:t.title,message:t.message,data:t.data||{},read:!1}).select().single();if(n)throw console.error("Error creating notification:",n),n;return r}static async notifyJobAssigned(t,r,n){return this.createNotification({userId:t,type:"job_assigned",title:"🎯 New Job Assigned",message:`You have been assigned to: ${n}`,data:{job_id:r,job_title:n}})}static async notifyJobCompleted(t,r,n){return this.createNotification({userId:t,type:"job_completed",title:"✅ Job Completed",message:`Job completed successfully. Payment of $${n} is being processed.`,data:{job_id:r,amount:n}})}static async notifyJobAccepted(t,r,n,a){return this.createNotification({userId:t,type:"job_accepted",title:"✅ Job Accepted!",message:`${a} has accepted your job: ${n}`,data:{job_id:r,job_title:n,landscaper_name:a}})}static async notifyNewJobPosted(t,r,n,a){return this.createNotification({userId:t,type:"new_job_available",title:"🎯 New Job Available",message:`New job in ${a}: ${n}`,data:{job_id:r,job_title:n,location:a}})}static async notifyPaymentReceived(t,r,n){return this.createNotification({userId:t,type:"payment_received",title:"💰 Payment Received",message:`You received a payment of $${r.toFixed(2)}`,data:{amount:r,payment_id:n}})}static async notifyPaymentFailed(t,r,n){return this.createNotification({userId:t,type:"payment_failed",title:"❌ Payment Failed",message:`Payment of $${r.toFixed(2)} failed: ${n}`,data:{amount:r,reason:n}})}static async getUnreadCount(t){const{count:r,error:n}=await P.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",t).eq("read",!1);return n?(console.error("Error getting unread count:",n),0):r||0}static async markAsRead(t){const{error:r}=await P.from("notifications").update({read:!0}).eq("id",t);if(r)throw console.error("Error marking notification as read:",r),r}static async markAllAsRead(t){const{error:r}=await P.from("notifications").update({read:!0}).eq("user_id",t).eq("read",!1);if(r)throw console.error("Error marking all as read:",r),r}static async deleteNotification(t){const{error:r}=await P.from("notifications").delete().eq("id",t);if(r)throw console.error("Error deleting notification:",r),r}};function nme(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Array(12).fill(0);let mb=1;class sme{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:mb++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:n}),{...c,...t,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const l=a.then(async u=>{if(o=["resolve",u],z.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(ime(u)&&!u.ok){i=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,g=typeof f=="object"&&!z.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...g})}else if(u instanceof Error){i=!1;const f=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description,g=typeof f=="object"&&!z.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...g})}else if(r.success!==void 0){i=!1;const f=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description,g=typeof f=="object"&&!z.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:h,...g})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,p=typeof d=="object"&&!z.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...p})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=r?.id||mb++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const kn=new sme,ame=(e,t)=>{const r=t?.id||mb++;return kn.addToast({title:e,...t,id:r}),r},ime=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",ome=ame,lme=()=>kn.toasts,cme=()=>kn.getActiveToasts(),Pn=Object.assign(ome,{success:kn.success,info:kn.info,warning:kn.warning,error:kn.error,custom:kn.custom,message:kn.message,promise:kn.promise,dismiss:kn.dismiss,loading:kn.loading},{getHistory:lme,getToasts:cme});nme("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function N2(){const[e,t]=m.useState([]),[r,n]=m.useState(0),[a,i]=m.useState(!1),[o,l]=m.useState(!1),[c,u]=m.useState(null),{user:d}=kt(),f=Ae(),h=m.useRef(null);if(!d)return null;m.useEffect(()=>{d&&(p(),g(),v())},[d]);const p=async()=>{if(!d)return;const{data:_}=await P.from("profiles").select("role").eq("id",d.id).single();_&&u(_.role)};m.useEffect(()=>{const _=E=>{h.current&&!h.current.contains(E.target)&&i(!1)};return a&&document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[a]);const g=async()=>{if(!d)return;l(!0);const{data:_,error:E}=await P.from("notifications").select("*").eq("user_id",d.id).order("created_at",{ascending:!1}).limit(20);!E&&_&&(t(_),n(_.filter(k=>!k.read).length)),l(!1)},v=()=>{if(!d)return;const _=P.channel("user-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${d.id}`},E=>{const k=E.new;t(A=>[k,...A]),n(A=>A+1),b(k)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:`user_id=eq.${d.id}`},E=>{const k=E.new;t(A=>A.map(R=>R.id===k.id?k:R)),k.read&&n(A=>Math.max(0,A-1))}).subscribe();return()=>{_.unsubscribe()}},x=async _=>{try{await S2.markAsRead(_),t(E=>E.map(k=>k.id===_?{...k,read:!0}:k)),n(E=>Math.max(0,E-1))}catch(E){console.error("Error marking as read:",E)}},y=async()=>{if(d)try{await S2.markAllAsRead(d.id),t(_=>_.map(E=>({...E,read:!0}))),n(0)}catch(_){console.error("Error marking all as read:",_)}},b=_=>{const{type:E,title:k,message:A}=_;E.includes("success")||E.includes("completed")||E.includes("accepted")?Pn.success(k,{description:A,duration:5e3}):E.includes("failed")||E.includes("error")?Pn.error(k,{description:A,duration:6e3}):E.includes("warning")||E.includes("required")?Pn.warning(k,{description:A,duration:5e3}):Pn.info(k,{description:A,duration:4e3})},w=async _=>{_.read||await x(_.id);const{type:E,data:k}=_;c==="client"?E==="job_accepted"?k?.job_id?f(`/client-dashboard/jobs?job_id=${k.job_id}`):f("/client-dashboard/jobs"):E==="quote_response"||E==="quote_received"?k?.quote_id?f(`/client-dashboard/jobs?quote_id=${k.quote_id}`):f("/client-dashboard/jobs"):E==="job_status_update"||E==="job_scheduled"||E==="job_in_progress"?k?.job_id?f(`/client-dashboard/jobs?job_id=${k.job_id}`):f("/client-dashboard/jobs"):E==="payment_confirmation"||E==="payment_success"?k?.payment_id?f(`/client-dashboard/payments?payment_id=${k.payment_id}`):f("/client-dashboard/payments"):f(E==="service_reminder"||E==="appointment_reminder"?"/client-dashboard/jobs":E==="payment_method_required"?"/client-dashboard/payments":"/client-dashboard/overview"):c==="landscaper"&&(E==="new_job_available"?f("/landscaper/jobs"):E==="job_assigned"||E==="job_completed"?k?.job_id?f(`/landscaper/jobs?id=${k.job_id}`):f("/landscaper/jobs"):E==="payment_received"||E==="payout_success"||E==="payout_processing"?f("/landscaper/earnings"):E.startsWith("stripe_connect")?f("/landscaper/profile"):f(E==="payment_failed"||E==="payout_failed"?"/landscaper/earnings":"/landscaper-dashboard")),i(!1)},j=_=>{const{type:E}=_;if(c==="client"){if(E==="quote_response"||E==="quote_received")return{label:"View Quote",icon:s.jsx(Us,{className:"h-3 w-3"})};if(E==="job_status_update"||E==="job_scheduled"||E==="job_in_progress"||E==="job_accepted")return{label:"Track Job",icon:s.jsx(Ln,{className:"h-3 w-3"})};if(E==="payment_confirmation"||E==="payment_success")return{label:"View Payment",icon:s.jsx(st,{className:"h-3 w-3"})};if(E==="service_reminder"||E==="appointment_reminder")return{label:"View Schedule",icon:s.jsx(cr,{className:"h-3 w-3"})};if(E==="payment_method_required")return{label:"Manage Payments",icon:s.jsx(Nt,{className:"h-3 w-3"})}}return E==="job_assigned"||E==="job_completed"||E==="new_job_available"?{label:"View Job",icon:s.jsx(Ln,{className:"h-3 w-3"})}:E==="payment_received"||E==="payout_success"?{label:"View Payment",icon:s.jsx(Nt,{className:"h-3 w-3"})}:E.startsWith("stripe_connect")?{label:"Go to Settings",icon:s.jsx(Td,{className:"h-3 w-3"})}:E==="payment_failed"||E==="payout_failed"?{label:"View Details",icon:s.jsx(it,{className:"h-3 w-3"})}:E==="payout_processing"?{label:"Track Payout",icon:s.jsx(nt,{className:"h-3 w-3"})}:{label:"View",icon:s.jsx(kV,{className:"h-3 w-3"})}},S=_=>{const E="h-5 w-5";if(_==="quote_response"||_==="quote_received")return s.jsx(Us,{className:`${E} text-blue-600`});if(_==="job_status_update"||_==="job_scheduled")return s.jsx(Ln,{className:`${E} text-blue-600`});if(_==="job_in_progress")return s.jsx(nt,{className:`${E} text-yellow-600`});if(_==="payment_confirmation"||_==="payment_success")return s.jsx(Ne,{className:`${E} text-green-600`});if(_==="service_reminder"||_==="appointment_reminder")return s.jsx(cr,{className:`${E} text-purple-600`});if(_==="payment_method_required")return s.jsx(it,{className:`${E} text-yellow-600`});switch(_){case"stripe_connect_active":return s.jsx(Ne,{className:`${E} text-green-600`});case"stripe_connect_restricted":return s.jsx(it,{className:`${E} text-yellow-600`});case"stripe_connect_pending":return s.jsx(nt,{className:`${E} text-blue-600`});case"stripe_charges_enabled":return s.jsx(xi,{className:`${E} text-green-600`});case"stripe_payouts_enabled":return s.jsx(Nt,{className:`${E} text-green-600`});case"payout_success":return s.jsx(Nt,{className:`${E} text-green-600`});case"payout_failed":return s.jsx(dt,{className:`${E} text-red-600`});case"payout_processing":return s.jsx(nt,{className:`${E} text-blue-600`});case"job_assigned":return s.jsx(Ln,{className:`${E} text-blue-600`});case"job_completed":return s.jsx(Ne,{className:`${E} text-green-600`});case"payment_received":return s.jsx(st,{className:`${E} text-green-600`});case"payment_failed":return s.jsx(dt,{className:`${E} text-red-600`});default:return s.jsx(Dn,{className:`${E} text-gray-600`})}},N=_=>{const E=new Date(_),A=new Date().getTime()-E.getTime(),R=Math.floor(A/6e4),D=Math.floor(A/36e5),F=Math.floor(A/864e5);return R<1?"Just now":R<60?`${R}m ago`:D<24?`${D}h ago`:F<7?`${F}d ago`:E.toLocaleDateString()};return s.jsxs("div",{className:"relative",ref:h,children:[s.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>i(!a),className:"relative hover:bg-gray-100",children:[s.jsx(Dn,{className:"h-5 w-5"}),r>0&&s.jsx(Y,{className:"absolute -top-1 -right-1 h-5 min-w-5 px-1 flex items-center justify-center text-xs bg-red-600 hover:bg-red-600",children:r>99?"99+":r})]}),a&&s.jsxs(C,{className:"absolute right-0 top-12 w-96 max-h-[32rem] overflow-hidden z-50 shadow-xl border-2",children:[s.jsx("div",{className:"p-4 border-b bg-gradient-to-r from-emerald-50 to-green-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Notifications"}),s.jsxs("div",{className:"flex gap-2",children:[r>0&&s.jsxs(I,{variant:"ghost",size:"sm",onClick:y,className:"text-xs hover:bg-white",children:[s.jsx(Ho,{className:"h-3 w-3 mr-1"}),"Mark all read"]}),s.jsx(I,{variant:"ghost",size:"sm",onClick:()=>i(!1),className:"hover:bg-white",children:s.jsx(bs,{className:"h-4 w-4"})})]})]})}),s.jsx("div",{className:"max-h-[28rem] overflow-y-auto",children:o?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600 mx-auto"}),s.jsx("p",{className:"mt-2",children:"Loading..."})]}):e.length===0?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(Dn,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),s.jsx("p",{className:"font-medium",children:"No notifications yet"}),s.jsx("p",{className:"text-sm mt-1",children:"We'll notify you when something happens"})]}):e.map(_=>s.jsx("div",{className:`p-4 border-b hover:bg-gray-50 transition-colors ${_.read?"":"bg-blue-50 border-l-4 border-l-blue-600"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-0.5",children:S(_.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-sm",children:_.title}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:_.message}),_.data?.amount&&s.jsxs("p",{className:"text-sm text-green-700 font-semibold mt-1",children:["$",_.data.amount.toFixed(2)]}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsx("p",{className:"text-xs text-gray-500",children:N(_.created_at)}),s.jsxs(I,{size:"sm",variant:"outline",onClick:()=>w(_),className:"h-7 text-xs gap-1 hover:bg-emerald-50 hover:border-emerald-600 hover:text-emerald-700",children:[j(_).icon,j(_).label]})]})]}),!_.read&&s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 flex-shrink-0"})]})},_.id))})]})]})}const k$=m.createContext(null),hv=()=>{const e=m.useContext(k$);if(!e)throw new Error("useWebSocket must be used within WebSocketProvider");return e},P$=({children:e,url:t="wss://your-websocket-endpoint.com"})=>{const[r,n]=m.useState(!1),[a,i]=m.useState("disconnected"),[o,l]=m.useState(null),c=m.useRef(null),u=m.useRef(new Map),d=m.useRef(),f=m.useRef(0),h=5,p=()=>{if(c.current?.readyState!==WebSocket.OPEN){i("connecting");try{c.current=new WebSocket(t),c.current.onopen=()=>{n(!0),i("connected"),f.current=0,console.log("WebSocket connected")},c.current.onmessage=y=>{try{const b=JSON.parse(y.data);l(b);const w=u.current.get(b.type);w&&w.forEach(j=>j(b.data))}catch(b){console.error("Error parsing WebSocket message:",b)}},c.current.onclose=()=>{if(n(!1),i("disconnected"),console.log("WebSocket disconnected"),f.current<h){const y=Math.pow(2,f.current)*1e3;d.current=setTimeout(()=>{f.current++,p()},y)}},c.current.onerror=y=>{i("error"),console.error("WebSocket error:",y)}}catch(y){i("error"),console.error("Failed to create WebSocket connection:",y)}}},g=y=>{if(c.current?.readyState===WebSocket.OPEN){const b=JSON.parse(JSON.stringify(y));c.current.send(JSON.stringify(b))}else console.warn("WebSocket not connected, message not sent:",y)},v=(y,b)=>(u.current.has(y)||u.current.set(y,new Set),u.current.get(y).add(b),()=>{const w=u.current.get(y);w&&(w.delete(b),w.size===0&&u.current.delete(y))});m.useEffect(()=>(p(),()=>{d.current&&clearTimeout(d.current),c.current&&c.current.close()}),[t]);const x={isConnected:r,connectionStatus:a,lastMessage:o,sendMessage:g,subscribe:v};return s.jsx(k$.Provider,{value:x,children:e})},MN=()=>{const{isConnected:e,connectionStatus:t,subscribe:r}=hv(),[n,a]=m.useState([]),[i,o]=m.useState([{channel:"slack",status:"online",lastActivity:new Date().toISOString(),successRate:98.5,avgDeliveryTime:1.2},{channel:"email",status:"online",lastActivity:new Date().toISOString(),successRate:99.1,avgDeliveryTime:2.8},{channel:"sms",status:"degraded",lastActivity:new Date().toISOString(),successRate:94.2,avgDeliveryTime:5.1}]);m.useEffect(()=>{const u=r("notification_event",f=>{a(h=>[f,...h.slice(0,49)])}),d=r("channel_status",f=>{o(h=>h.map(p=>p.channel===f.channel?{...p,...f}:p))});return()=>{u(),d()}},[r]);const l=()=>{switch(t){case"connected":return s.jsx(zp,{className:"h-4 w-4 text-green-500"});case"connecting":return s.jsx(nt,{className:"h-4 w-4 text-yellow-500"});case"error":return s.jsx(gt,{className:"h-4 w-4 text-red-500"});default:return s.jsx(ZO,{className:"h-4 w-4 text-gray-500"})}},c=u=>{switch(u){case"online":case"success":return"default";case"degraded":case"pending":return"secondary";case"offline":case"failed":return"destructive";default:return"outline"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(C,{children:[s.jsx(M,{className:"pb-3",children:s.jsxs(L,{className:"flex flex-col sm:flex-row sm:items-center gap-2 text-sm sm:text-base",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l(),s.jsx("span",{className:"whitespace-nowrap",children:"Real-time Connection Status"})]}),s.jsx(Y,{variant:e?"default":"destructive",className:"w-fit",children:t})]})}),s.jsx(T,{children:s.jsx("p",{className:"text-sm text-muted-foreground break-words",children:e?"Connected to real-time notification stream":"Attempting to connect to notification stream..."})})]}),s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Live Channel Status"})}),s.jsx(T,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map(u=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium capitalize",children:u.channel}),s.jsx(Y,{variant:c(u.status),children:u.status})]}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{children:["Success Rate: ",u.successRate,"%"]}),s.jsxs("div",{children:["Avg Delivery: ",u.avgDeliveryTime,"s"]}),s.jsxs("div",{children:["Last Activity: ",new Date(u.lastActivity).toLocaleTimeString()]})]})]},u.channel))})})]}),s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Live Event Stream"})}),s.jsx(T,{children:s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:n.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No recent events. Events will appear here in real-time."}):n.map(u=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0",children:u.status==="success"?s.jsx(Ne,{className:"h-4 w-4 text-green-500"}):u.status==="failed"?s.jsx(gt,{className:"h-4 w-4 text-red-500"}):s.jsx(nt,{className:"h-4 w-4 text-yellow-500"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Y,{variant:"outline",className:"text-xs",children:u.channel}),s.jsx(Y,{variant:c(u.status),className:"text-xs",children:u.type})]}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:u.message})]}),s.jsx("div",{className:"flex-shrink-0 text-xs text-muted-foreground",children:new Date(u.timestamp).toLocaleTimeString()})]},u.id))})})]})]})};function ume({type:e,userName:t,showNotifications:r=!0,showBackButton:n=!1,variant:a="modern"}){const[i,o]=m.useState(!1),l=Ae(),{isMobile:c}=RN(),u=async()=>{try{console.log(`${e} logout initiated`),await Rd(P,e==="client"?"/client-login":"/")}catch(f){console.error(`${e} logout error:`,f),window.location.href=e==="client"?"/client-login":"/"}},d=()=>{const f=window.location.pathname;f.includes("/client")?l("/client-dashboard"):f.includes("/landscaper")?l("/landscaper-dashboard/overview"):f.includes("/admin")?l("/admin-dashboard"):l("/")};return a==="classic"?s.jsxs(s.Fragment,{children:[s.jsx(MN,{}),s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e==="admin"?"Admin Dashboard":"Dashboard"}),s.jsxs("p",{className:"text-gray-600",children:["Welcome back",t?`, ${t}`:"","! Here's your overview."]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[r&&s.jsx(N2,{}),s.jsxs(I,{onClick:u,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(q0,{className:"w-4 h-4"}),"Logout"]})]})]})})})]}):s.jsxs(C,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl ring-1 ring-green-500/20 shadow-[0_0_45px_-20px_rgba(34,197,94,0.35)] mb-6 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/5 via-transparent to-green-500/5 animate-pulse"}),s.jsx("div",{className:`${c?"p-4":"p-6"} relative`,children:s.jsxs("div",{className:`flex ${c?"flex-col space-y-4":"justify-between items-center"}`,children:[s.jsxs("div",{className:c?"text-center":"",children:[s.jsxs("h1",{className:`${c?"text-2xl":"text-3xl md:text-4xl"} font-semibold mb-2 leading-tight`,children:[s.jsx("span",{className:"text-white",children:"Welcome back,"}),!c&&s.jsx("br",{className:"md:hidden"}),s.jsx("span",{className:`text-green-400 font-extrabold tracking-tight drop-shadow-[0_0_15px_rgba(34,197,94,0.5)] ${c?"block mt-1":"ml-2 md:ml-3"}`,children:t||"User"})]}),s.jsxs("p",{className:`text-gray-400 ${c?"text-sm":"text-base"}`,children:["Your luxury ",e," dashboard"]})]}),s.jsxs("div",{className:`flex items-center ${c?"justify-between":"gap-4"}`,children:[s.jsxs("div",{className:`${c?"text-left":"text-right"}`,children:[s.jsx("div",{className:`${c?"text-lg":"text-2xl"} font-bold text-green-400 drop-shadow-[0_0_8px_rgba(34,197,94,0.4)]`,children:c?"GreenScape":"GreenScape Lux"}),s.jsx("div",{className:`${c?"text-xs":"text-sm"} text-gray-400`,children:c?"Premium":"Premium Services"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[n&&s.jsx(I,{variant:"ghost",size:"sm",onClick:d,className:"p-2 rounded-full hover:bg-green-900/20",children:s.jsx(ps,{className:`${c?"w-4 h-4":"w-5 h-5"} text-green-400`})}),r&&s.jsx(N2,{}),s.jsxs(I,{onClick:u,size:c?"sm":"default",className:"rounded-full bg-green-600 hover:bg-green-500 shadow-[0_0_20px_rgba(34,197,94,0.3)] hover:shadow-[0_0_25px_rgba(34,197,94,0.4)] transition-all duration-300",children:[s.jsx(q0,{className:`${c?"w-3 h-3 mr-1":"w-4 h-4 mr-2"}`}),c?"Out":"Logout"]})]})]})]})})]})}function dme({userRole:e,notificationCount:t=0}){const r=Vt(),{isMobile:n}=RN();if(!n)return null;const i=e==="admin"?[{href:"/",icon:aa,label:"Home"},{href:"/admin",icon:Ot,label:"Dashboard"},{href:"/admin/notifications",icon:Dn,label:"Alerts",badge:t},{href:"/admin/profile",icon:mr,label:"Profile"}]:e==="landscaper"?[{href:"/",icon:aa,label:"Home"},{href:"/landscaper-jobs",icon:Ln,label:"Jobs"},{href:"/landscaper-dashboard",icon:Ot,label:"Dashboard"},{href:"/landscaper-profile",icon:mr,label:"Profile"}]:e==="client"?[{href:"/",icon:aa,label:"Home"},{href:"/get-quote",icon:Ln,label:"Quote"},{href:"/client-dashboard/overview",icon:Ot,label:"Dashboard"},{href:"/client-dashboard/profile",icon:mr,label:"Profile"}]:[{href:"/",icon:aa,label:"Home"},{href:"/get-quote",icon:Ln,label:"Quote"},{href:"/professionals",icon:Ot,label:"Pros"},{href:"/login",icon:mr,label:"Login"}];return s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-black/80 backdrop-blur-md border-t border-emerald-500/30 z-50 md:hidden shadow-[0_-4px_20px_rgba(16,185,129,0.15)]",children:s.jsx("div",{className:"flex items-center justify-around py-2",children:i.map(o=>{const l=o.icon,c=r.pathname===o.href;return s.jsxs(Mn,{to:o.href,className:`flex flex-col items-center gap-1 px-3 py-2 rounded-lg transition-all duration-300 min-w-0 ${c?"text-emerald-400 drop-shadow-[0_0_12px_rgba(16,185,129,0.8)] scale-105":"text-gray-400 hover:text-emerald-400 hover:drop-shadow-[0_0_8px_rgba(16,185,129,0.5)] hover:scale-105"}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx(l,{className:`h-5 w-5 transition-all duration-300 ${c?"animate-pulse":""}`}),o.badge&&o.badge>0&&s.jsx(Y,{className:"absolute -top-2 -right-2 h-4 w-4 rounded-full p-0 text-xs bg-emerald-500 text-black",children:o.badge>9?"9+":o.badge})]}),s.jsx("span",{className:`text-xs font-medium truncate transition-all duration-300 ${c?"font-semibold":""}`,children:o.label})]},o.href)})})})}function ei({title:e,value:t,subtitle:r,icon:n,trend:a,variant:i="default"}){const o={default:"bg-black/60 border-gray-500/25",green:"bg-black/60 border-green-500/25 ring-green-500/20",blue:"bg-black/60 border-blue-500/25 ring-blue-500/20",yellow:"bg-black/60 border-yellow-500/25 ring-yellow-500/20"};return s.jsxs(C,{className:`${o[i]} backdrop-blur rounded-2xl ring-1 shadow-lg`,children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium text-gray-300",children:e}),s.jsx("div",{className:"text-green-400",children:n})]}),s.jsxs(T,{children:[s.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:typeof t=="number"?t.toLocaleString():t}),r&&s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:r}),a&&s.jsxs("div",{className:`flex items-center text-xs ${a.isPositive?"text-green-400":"text-red-400"}`,children:[s.jsx(Ks,{className:`w-3 h-3 mr-1 ${a.isPositive?"":"rotate-180"}`}),a.isPositive?"+":"",a.value,"% from last period"]})]})]})}function C$(e){const{user:t}=kt(),[r,n]=m.useState({totalJobs:0,activeJobs:0,completedJobs:0,totalEarnings:0,monthlyEarnings:0,pendingPayments:0,rating:0,totalReviews:0}),[a,i]=m.useState([]),[o,l]=m.useState([]),[c,u]=m.useState(!0),[d,f]=m.useState(null);m.useEffect(()=>{t&&h()},[t,e]);const h=async()=>{try{u(!0),f(null),e==="client"?await p():e==="landscaper"?await g():e==="admin"&&await v()}catch(y){console.error("Error fetching dashboard data:",y),f("Failed to load dashboard data")}finally{u(!1)}},p=async()=>{if(!t)return;const{data:y}=await P.from("clients").select("id").eq("user_id",t.id).single();if(!y)return;const{data:b}=await P.from("jobs").select(`
        id, service_name, service_type, service_address, status, created_at, preferred_date, price
      `).eq("client_id",y.id).order("created_at",{ascending:!1}).limit(10);if(b){const w=b.length,j=b.filter(N=>["pending","quoted","accepted","in_progress"].includes(N.status)).length,S=b.filter(N=>N.status==="completed").length;n(N=>({...N,totalJobs:w,activeJobs:j,completedJobs:S})),i(b.map(N=>({id:N.id,service_name:N.service_name,service_type:N.service_type,status:N.status,created_at:N.created_at,preferred_date:N.preferred_date,service_address:N.service_address,price:N.price})))}},g=async()=>{if(!t)return;const{data:y}=await P.from("landscapers").select("id, rating, total_reviews").eq("user_id",t.id).single();if(!y)return;const{data:b}=await P.from("jobs").select(`
        id, service_name, service_type, service_address, status, created_at, preferred_date, price, customer_name
      `).eq("landscaper_id",y.id).order("created_at",{ascending:!1}).limit(10),{data:w}=await P.from("payments").select("amount, status, created_at").eq("landscaper_id",y.id);if(b){const j=b.length,S=b.filter(_=>["accepted","in_progress"].includes(_.status)).length,N=b.filter(_=>_.status==="completed").length;i(b.map(_=>({id:_.id,service_name:_.service_name,service_type:_.service_type,status:_.status,created_at:_.created_at,preferred_date:_.preferred_date,service_address:_.service_address,customer_name:_.customer_name,price:_.price}))),n(_=>({..._,totalJobs:j,activeJobs:S,completedJobs:N,rating:y.rating||0,totalReviews:y.total_reviews||0}))}if(w){const j=w.filter(E=>E.status==="completed").reduce((E,k)=>E+(k.amount||0),0),S=new Date().getMonth(),N=w.filter(E=>E.status==="completed"&&new Date(E.created_at).getMonth()===S).reduce((E,k)=>E+(k.amount||0),0),_=w.filter(E=>E.status==="pending").reduce((E,k)=>E+(k.amount||0),0);n(E=>({...E,totalEarnings:j,monthlyEarnings:N,pendingPayments:_}))}},v=async()=>{const[{data:y},{data:b},{data:w}]=await Promise.all([P.from("jobs").select("id, status, created_at"),P.from("payments").select("amount, status, created_at"),P.from("landscapers").select("id, is_approved")]);if(y){const j=y.length,S=y.filter(_=>["pending","quoted","accepted","in_progress"].includes(_.status)).length,N=y.filter(_=>_.status==="completed").length;n(_=>({..._,totalJobs:j,activeJobs:S,completedJobs:N}))}if(b){const j=b.filter(S=>S.status==="completed").reduce((S,N)=>S+(N.amount||0),0);n(S=>({...S,totalEarnings:j}))}};return{stats:r,recentJobs:a,notifications:o,loading:c,error:d,refreshData:()=>{h()}}}function fme(){const{user:e}=kt(),{stats:t,loading:r,error:n}=C$("client");return r?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:Array.from({length:4},(a,i)=>s.jsxs("div",{className:"bg-black/60 backdrop-blur rounded-2xl p-6 animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-700 rounded mb-2"}),s.jsx("div",{className:"h-8 bg-gray-700 rounded mb-1"}),s.jsx("div",{className:"h-3 bg-gray-700 rounded w-3/4"})]},i))}):n?s.jsx("div",{className:"bg-red-900/20 border border-red-500/25 rounded-2xl p-6",children:s.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[s.jsx(gt,{className:"w-5 h-5"}),s.jsx("span",{children:"Failed to load dashboard stats"})]})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[s.jsx(ei,{title:"Total Requests",value:t.totalJobs,subtitle:"All service requests",icon:s.jsx(cr,{className:"w-5 h-5"}),variant:"blue"}),s.jsx(ei,{title:"Active Jobs",value:t.activeJobs,subtitle:"In progress or pending",icon:s.jsx(nt,{className:"w-5 h-5"}),variant:"yellow",trend:{value:t.activeJobs>0?15:0,isPositive:!0}}),s.jsx(ei,{title:"Completed",value:t.completedJobs,subtitle:"Successfully finished",icon:s.jsx(xa,{className:"w-5 h-5"}),variant:"green",trend:{value:t.completedJobs>0?8:0,isPositive:!0}}),s.jsx(ei,{title:"Total Spent",value:`$${t.totalEarnings.toFixed(2)}`,subtitle:"Lifetime spending",icon:s.jsx(Nt,{className:"w-5 h-5"}),variant:"default"})]})}var A$={exports:{}},hme="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mme=hme,pme=mme;function O$(){}function T$(){}T$.resetWarningCache=O$;var gme=function(){function e(n,a,i,o,l,c){if(c!==pme){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:T$,resetWarningCache:O$};return r.PropTypes=r,r};A$.exports=gme();var vme=A$.exports;const bt=ys(vme);function _2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(r),!0).forEach(function(n){I$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wh(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wh=function(t){return typeof t}:Wh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function I$(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R$(e,t){return xme(e)||yme(e,t)||bme(e,t)||wme()}function xme(e){if(Array.isArray(e))return e}function yme(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var n=[],a=!0,i=!1,o,l;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw l}}return n}}function bme(e,t){if(e){if(typeof e=="string")return k2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k2(e,t)}}function k2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Xr=function(t,r,n){var a=!!n,i=z.useRef(n);z.useEffect(function(){i.current=n},[n]),z.useEffect(function(){if(!a||!t)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return t.on(r,o),function(){t.off(r,o)}},[a,r,t,i])},pb=function(t){var r=z.useRef(t);return z.useEffect(function(){r.current=t},[t]),r.current},gc=function(t){return t!==null&&Wh(t)==="object"},jme=function(t){return gc(t)&&typeof t.then=="function"},Sme=function(t){return gc(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},P2="[object Object]",Nme=function e(t,r){if(!gc(t)||!gc(r))return t===r;var n=Array.isArray(t),a=Array.isArray(r);if(n!==a)return!1;var i=Object.prototype.toString.call(t)===P2,o=Object.prototype.toString.call(r)===P2;if(i!==o)return!1;if(!i&&!n)return t===r;var l=Object.keys(t),c=Object.keys(r);if(l.length!==c.length)return!1;for(var u={},d=0;d<l.length;d+=1)u[l[d]]=!0;for(var f=0;f<c.length;f+=1)u[c[f]]=!0;var h=Object.keys(u);if(h.length!==l.length)return!1;var p=t,g=r,v=function(y){return e(p[y],g[y])};return h.every(v)},M$=function(t,r,n){return gc(t)?Object.keys(t).reduce(function(a,i){var o=!gc(r)||!Nme(t[i],r[i]);return n.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):o?E2(E2({},a||{}),{},I$({},i,t[i])):a},null):null},D$="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",C2=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D$;if(t===null||Sme(t))return t;throw new Error(r)},_me=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D$;if(jme(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(a){return C2(a,r)})};var n=C2(t,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},Eme=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),t.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},mv=z.createContext(null);mv.displayName="ElementsContext";var L$=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},$$=function(t){var r=t.stripe,n=t.options,a=t.children,i=z.useMemo(function(){return _me(r)},[r]),o=z.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),l=R$(o,2),c=l[0],u=l[1];z.useEffect(function(){var h=!0,p=function(v){u(function(x){return x.stripe?x:{stripe:v,elements:v.elements(n)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(g){g&&h&&p(g)}):i.tag==="sync"&&!c.stripe&&p(i.stripe),function(){h=!1}},[i,c,n]);var d=pb(r);z.useEffect(function(){d!==null&&d!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,r]);var f=pb(n);return z.useEffect(function(){if(c.elements){var h=M$(n,f,["clientSecret","fonts"]);h&&c.elements.update(h)}},[n,f,c.elements]),z.useEffect(function(){Eme(c.stripe)},[c.stripe]),z.createElement(mv.Provider,{value:c},a)};$$.propTypes={stripe:bt.any,options:bt.object};var kme=function(t){var r=z.useContext(mv);return L$(r,t)},Pme=function(){var t=kme("calls useElements()"),r=t.elements;return r};bt.func.isRequired;var F$=z.createContext(null);F$.displayName="CustomCheckoutSdkContext";var Cme=function(t,r){if(!t)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CustomCheckoutProvider> provider."));return t},Ame=z.createContext(null);Ame.displayName="CustomCheckoutContext";bt.any,bt.shape({clientSecret:bt.string.isRequired,elementsOptions:bt.object}).isRequired;var gb=function(t){var r=z.useContext(F$),n=z.useContext(mv);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CustomCheckoutProvider> and <Elements> providers."));return r?Cme(r,t):L$(n,t)},Ome=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},zt=function(t,r){var n="".concat(Ome(t),"Element"),a=function(c){var u=c.id,d=c.className,f=c.options,h=f===void 0?{}:f,p=c.onBlur,g=c.onFocus,v=c.onReady,x=c.onChange,y=c.onEscape,b=c.onClick,w=c.onLoadError,j=c.onLoaderStart,S=c.onNetworksChange,N=c.onConfirm,_=c.onCancel,E=c.onShippingAddressChange,k=c.onShippingRateChange,A=gb("mounts <".concat(n,">")),R="elements"in A?A.elements:null,D="customCheckoutSdk"in A?A.customCheckoutSdk:null,F=z.useState(null),W=R$(F,2),K=W[0],H=W[1],q=z.useRef(null),O=z.useRef(null);Xr(K,"blur",p),Xr(K,"focus",g),Xr(K,"escape",y),Xr(K,"click",b),Xr(K,"loaderror",w),Xr(K,"loaderstart",j),Xr(K,"networkschange",S),Xr(K,"confirm",N),Xr(K,"cancel",_),Xr(K,"shippingaddresschange",E),Xr(K,"shippingratechange",k),Xr(K,"change",x);var V;v&&(t==="expressCheckout"?V=v:V=function(){v(K)}),Xr(K,"ready",V),z.useLayoutEffect(function(){if(q.current===null&&O.current!==null&&(R||D)){var he=null;D?he=D.createElement(t,h):R&&(he=R.create(t,h)),q.current=he,H(he),he&&he.mount(O.current)}},[R,D,h]);var J=pb(h);return z.useEffect(function(){if(q.current){var he=M$(h,J,["paymentRequest"]);he&&"update"in q.current&&q.current.update(he)}},[h,J]),z.useLayoutEffect(function(){return function(){if(q.current&&typeof q.current.destroy=="function")try{q.current.destroy(),q.current=null}catch{}}},[]),z.createElement("div",{id:u,className:d,ref:O})},i=function(c){gb("mounts <".concat(n,">"));var u=c.id,d=c.className;return z.createElement("div",{id:u,className:d})},o=r?i:a;return o.propTypes={id:bt.string,className:bt.string,onChange:bt.func,onBlur:bt.func,onFocus:bt.func,onReady:bt.func,onEscape:bt.func,onClick:bt.func,onLoadError:bt.func,onLoaderStart:bt.func,onNetworksChange:bt.func,onConfirm:bt.func,onCancel:bt.func,onShippingAddressChange:bt.func,onShippingRateChange:bt.func,options:bt.object},o.displayName=n,o.__elementType=t,o},Wt=typeof window>"u",Tme=z.createContext(null);Tme.displayName="EmbeddedCheckoutProviderContext";var Ime=function(){var t=gb("calls useStripe()"),r=t.stripe;return r};zt("auBankAccount",Wt);var A2=zt("card",Wt);zt("cardNumber",Wt);zt("cardExpiry",Wt);zt("cardCvc",Wt);zt("fpxBank",Wt);zt("iban",Wt);zt("idealBank",Wt);zt("p24Bank",Wt);zt("epsBank",Wt);zt("payment",Wt);zt("expressCheckout",Wt);zt("currencySelector",Wt);zt("paymentRequestButton",Wt);zt("linkAuthentication",Wt);zt("address",Wt);zt("shippingAddress",Wt);zt("paymentMethodMessaging",Wt);zt("affirmMessage",Wt);zt("afterpayClearpayMessage",Wt);var B$="https://js.stripe.com/v3",Rme=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var Mme=function(){for(var t=document.querySelectorAll('script[src^="'.concat(B$,'"]')),r=0;r<t.length;r++){var n=t[r];if(Rme.test(n.src))return n}return null},O2=function(t){var r="",n=document.createElement("script");n.src="".concat(B$).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},Dme=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"4.6.0",startTime:r})},uu=null,uh=null,dh=null,Lme=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},$me=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},Fme=function(t){return uu!==null?uu:(uu=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var a=Mme();if(!(a&&t)){if(!a)a=O2(t);else if(a&&dh!==null&&uh!==null){var i;a.removeEventListener("load",dh),a.removeEventListener("error",uh),(i=a.parentNode)===null||i===void 0||i.removeChild(a),a=O2(t)}}dh=$me(r,n),uh=Lme(n),a.addEventListener("load",dh),a.addEventListener("error",uh)}catch(o){n(o);return}}),uu.catch(function(r){return uu=null,Promise.reject(r)}))},Bme=function(t,r,n){if(t===null)return null;var a=t.apply(void 0,r);return Dme(a,n),a},du,U$=!1,V$=function(){return du||(du=Fme(null).catch(function(t){return du=null,Promise.reject(t)}),du)};Promise.resolve().then(function(){return V$()}).catch(function(e){U$||console.warn(e)});var z$=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];U$=!0;var a=Date.now();return V$().then(function(i){return Bme(i,r,a)})};const Ume=Object.freeze(Object.defineProperty({__proto__:null,loadStripe:z$},Symbol.toStringTag,{value:"Module"}));console.log("Supabase URL loaded:","https://mwvcbedvnimabfwubazz.supabase.co");console.log("Stripe key present:",!0);He.debug("Stripe environment check",{NODE_ENV:"production",hasStripeKey:!0},"StripeConfig");const vb="pk_test_your_publishable_key_here";if(!vb.startsWith("pk_")){const e=`CRITICAL: Invalid Stripe key format. Expected pk_live_ or pk_test_, got: ${vb.substring(0,10)}...`;throw He.error(e,null,"StripeConfig"),new Error(e)}const Vme=async()=>{try{return await z$(vb)}catch(e){throw He.error("Failed to load Stripe.js",e,"StripeConfig"),new Error("Failed to load Stripe.js")}},zme=Vme(),Wme={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},qme=({onSuccess:e,onCancel:t})=>{const r=Ime(),n=Pme(),[a,i]=m.useState(!1),[o,l]=m.useState(null),{user:c}=kt(),{toast:u}=Jn(),d=async f=>{if(f.preventDefault(),!r||!n||!c)return;i(!0),l(null);const h=n.getElement(A2);if(!h){l("Card element not found"),i(!1);return}try{const{data:p}=await P.from("profiles").select("stripe_customer_id, email, first_name, last_name").eq("id",c.id).single();let g=p?.stripe_customer_id;if(!g){const{data:b,error:w}=await P.functions.invoke("create-stripe-customer",{body:{userId:c.id,email:p?.email||c.email,name:`${p?.first_name||""} ${p?.last_name||""}`.trim()}});if(w||!b?.success)throw new Error("Failed to create customer account");g=b.stripe_customer_id}const{error:v,paymentMethod:x}=await r.createPaymentMethod({type:"card",card:h,billing_details:{email:p?.email||c.email,name:`${p?.first_name||""} ${p?.last_name||""}`.trim()}});if(v)throw new Error(v.message);const{error:y}=await P.functions.invoke("attach-payment-method",{body:{paymentMethodId:x.id,customerId:g}});if(y)throw new Error("Failed to save payment method");u({title:"Payment method added",description:"Your payment method has been saved successfully."}),e()}catch(p){l(p.message||"Failed to add payment method")}finally{i(!1)}};return s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsx(A2,{options:Wme})}),o&&s.jsxs(Be,{variant:"destructive",children:[s.jsx(gt,{className:"h-4 w-4"}),s.jsx(Ue,{children:o})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(I,{type:"submit",disabled:!r||a,className:"flex-1",children:a?"Adding...":"Add Payment Method"}),s.jsx(I,{type:"button",variant:"outline",onClick:t,children:"Cancel"})]})]})},Kme=({onClose:e})=>{const[t,r]=m.useState([]),[n,a]=m.useState(!0),[i,o]=m.useState(!1),{user:l}=kt(),{toast:c}=Jn();m.useEffect(()=>{l&&u()},[l]);const u=async()=>{try{const{data:f}=await P.from("profiles").select("stripe_customer_id").eq("id",l?.id).single();if(f?.stripe_customer_id){const{data:h,error:p}=await P.functions.invoke("get-payment-methods",{body:{customerId:f.stripe_customer_id}});!p&&h?.paymentMethods&&r(h.paymentMethods)}}catch(f){console.error("Failed to fetch payment methods:",f)}finally{a(!1)}},d=async f=>{try{const{error:h}=await P.functions.invoke("delete-payment-method",{body:{paymentMethodId:f}});if(h)throw new Error("Failed to delete payment method");c({title:"Payment method removed",description:"Your payment method has been deleted."}),u()}catch(h){c({title:"Error",description:h.message,variant:"destructive"})}};return s.jsxs(C,{className:"w-full max-w-2xl mx-auto",children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(st,{className:"h-5 w-5"}),"Payment Methods"]})}),s.jsx(T,{children:n?s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-16 bg-gray-200 rounded"}),s.jsx("div",{className:"h-16 bg-gray-200 rounded"})]}):s.jsxs("div",{className:"space-y-4",children:[t.length===0&&!i&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(st,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No payment methods added yet"}),s.jsx(I,{onClick:()=>o(!0),children:"Add Your First Payment Method"})]}),t.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(st,{className:"h-5 w-5"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["•••• •••• •••• ",f.card.last4]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[f.card.brand.toUpperCase()," • Expires ",f.card.exp_month,"/",f.card.exp_year]})]}),f.default&&s.jsx(Ne,{className:"h-4 w-4 text-green-500"})]}),s.jsx(I,{variant:"outline",size:"sm",onClick:()=>d(f.id),children:"Remove"})]},f.id)),i?s.jsx($$,{stripe:zme,children:s.jsx(qme,{onSuccess:()=>{o(!1),u()},onCancel:()=>o(!1)})}):t.length>0&&s.jsx(I,{onClick:()=>o(!0),className:"w-full",children:"Add Another Payment Method"})]})})]})},W$=({isOpen:e,onClose:t,onSuccess:r})=>{const{toast:n}=Jn(),a=()=>{n({title:"Payment method updated",description:"Your payment information has been saved successfully."}),r?.(),t()};return s.jsx(Jo,{open:e,onOpenChange:t,children:s.jsxs(Fi,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Bi,{children:s.jsxs(Ui,{className:"flex items-center gap-2",children:[s.jsx(st,{className:"h-5 w-5"}),"Manage Payment Methods"]})}),s.jsx(Kme,{onClose:a})]})})},q$=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[a,i]=m.useState(!0),[o,l]=m.useState(null),{user:c}=kt();m.useEffect(()=>{c?.id&&u()},[c?.id]);const u=async()=>{try{i(!0),l(null);const{data:d,error:f}=await P.from("profiles").select("stripe_customer_id, email, first_name, last_name").eq("id",c?.id).single();if(f)throw console.error("Profile fetch failed:",f),new Error("Failed to load user profile");let h=d?.stripe_customer_id;if(!h){console.log("Creating Stripe customer for user:",c?.id);const p={userId:c?.id,email:d?.email||c?.email,name:d?.first_name&&d?.last_name?`${d.first_name} ${d.last_name}`:d?.first_name||d?.last_name||"",firstName:d?.first_name||"",lastName:d?.last_name||""},{data:g,error:v}=await P.functions.invoke("create-stripe-customer",{body:p});if(v||!g?.success){console.error("Failed to create Stripe customer:",v),n({totalSpent:0,nextPayment:0,paymentMethod:"Payment system ready"}),l(null),i(!1);return}h=g.stripe_customer_id}n({totalSpent:0,nextPayment:0,paymentMethod:"Ready for payments"})}catch(d){console.error("Payment summary error:",d),n({totalSpent:0,nextPayment:0,paymentMethod:"Payment system ready"}),l(null)}finally{i(!1)}};return a?s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex flex-row items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-white",children:"Payment Summary"}),s.jsx(Nt,{className:"h-5 w-5 text-emerald-400"})]}),s.jsxs("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-8 bg-emerald-500/10 rounded"}),s.jsx("div",{className:"h-4 bg-emerald-500/10 rounded w-2/3"}),s.jsx("div",{className:"h-9 bg-emerald-500/10 rounded"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-row items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-white",children:"Payment Summary"}),s.jsx(Nt,{className:"h-5 w-5 text-emerald-400"})]}),s.jsxs("div",{className:"text-3xl font-bold text-white mb-2",children:["$",r?.totalSpent?.toFixed(2)||"0.00"]}),s.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Total spent this year"}),s.jsxs("button",{onClick:()=>t(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-black font-medium shadow-lg shadow-emerald-500/25 hover:shadow-emerald-400/40 transition-all duration-200",children:[s.jsx(st,{className:"h-4 w-4"}),"Manage Payment"]})]}),e&&s.jsx(W$,{isOpen:e,onClose:()=>t(!1)})]})},K$=()=>{const{user:e}=kt(),[t,r]=m.useState({percentage:0,items:[],completedCount:0,totalCount:5}),[n,a]=m.useState(!0),i=async()=>{if(!e){r({percentage:0,items:[],completedCount:0,totalCount:5}),a(!1);return}try{a(!0);const{data:l}=await P.from("profiles").select("id, first_name, last_name, email, phone, address, stripe_customer_id").eq("id",e.id).single();let c=!1;if(l?.stripe_customer_id)try{const{data:h}=await P.functions.invoke("list-payment-methods",{body:{customerId:l.stripe_customer_id}});c=h?.success&&h?.payment_methods?.length>0}catch(h){console.log("Could not check payment methods:",h),c=!1}const u=[{id:"email_verified",label:"Verified email",completed:!!e.email_confirmed_at},{id:"full_name",label:"First + Last name",completed:!!(l?.first_name&&l?.last_name),action:"edit_profile"},{id:"phone_number",label:"Phone number",completed:!!l?.phone,action:"edit_profile"},{id:"service_address",label:"Default service address",completed:!!l?.address,action:"add_address"},{id:"payment_method",label:"Saved payment method",completed:c,action:"add_payment"}],d=u.filter(h=>h.completed).length,f=Math.round(d/u.length*100);r({percentage:f,items:u,completedCount:d,totalCount:u.length})}catch(l){console.error("Error checking profile completion:",l),r({percentage:0,items:[],completedCount:0,totalCount:5})}finally{a(!1)}};return m.useEffect(()=>{i();const l=()=>{i()};return window.addEventListener("profileUpdated",l),()=>window.removeEventListener("profileUpdated",l)},[e]),{...t,loading:n,refresh:()=>{i()}}},H$=({onEditProfile:e,onAddAddress:t,onAddPayment:r})=>{const{percentage:n}=K$();return s.jsxs(C,{className:"bg-gray-900/50 border-gray-800",children:[s.jsx(M,{className:"pb-3",children:s.jsxs(L,{className:"text-sm text-white flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/20 flex items-center justify-center",children:s.jsx(mr,{className:"h-3 w-3 text-emerald-400"})}),"My Profile"]})}),s.jsxs(T,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500/20 flex items-center justify-center",children:s.jsx("span",{className:"text-emerald-400 font-medium text-sm",children:"C"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white font-medium",children:"Client"}),s.jsx("div",{className:"text-xs text-gray-400",children:"Premium Client"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-gray-400",children:"Profile Complete"}),s.jsxs("span",{className:"text-emerald-400 font-medium",children:[n,"%"]})]}),s.jsx(yo,{value:n,className:"h-2 bg-gray-800","aria-label":`Profile completion: ${n}%`})]}),s.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 text-xs",children:[s.jsx(Ne,{className:"h-3 w-3"}),"Account Verified"]})]})]})},Hme=e=>{if(!e.trim())return{isValid:!1,error:"Phone number is required"};const t=/^[\+]?[1-9][\d]{0,15}$/,r=e.replace(/[\s\-\(\)]/g,"");return t.test(r)?{isValid:!0}:{isValid:!1,error:"Please enter a valid phone number"}},Y$=(e,t,r)=>{if(t.required&&(!e||!e.trim()))return{isValid:!1,error:`${r} is required`};if(!e&&!t.required)return{isValid:!0};if(t.minLength&&e.length<t.minLength)return{isValid:!1,error:`${r} must be at least ${t.minLength} characters`};if(t.maxLength&&e.length>t.maxLength)return{isValid:!1,error:`${r} must be no more than ${t.maxLength} characters`};if(t.pattern&&!t.pattern.test(e))return{isValid:!1,error:`${r} format is invalid`};if(t.custom){const n=t.custom(e);if(n)return{isValid:!1,error:n}}return{isValid:!0}},Yme=(e,t)=>{const r={};return Object.entries(t).forEach(([n,a])=>{const i=e[n]||"",o=Y$(i,a,n);!o.isValid&&o.error&&(r[n]=o.error)}),r},fh=({name:e,label:t,type:r="text",value:n,onChange:a,onBlur:i,placeholder:o,required:l=!1,disabled:c=!1,validationRules:u,error:d,touched:f=!1,showValidation:h=!0,className:p})=>{const[g,v]=m.useState(""),[x,y]=m.useState(null);m.useEffect(()=>{if(h&&f&&n!==void 0){const E=Y$(n,u||{required:l},t);v(E.error||""),y(E.isValid)}},[n,f,l,u,t,h]);const b=d||g,w=f&&b,j=f&&x&&!b&&n.length>0,S=_=>{a(_.target.value)},N=ue("transition-all duration-200",w&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",j&&"border-green-500 focus:border-green-500 focus:ring-green-500/20",!w&&!j&&"border-gray-300 dark:border-gray-600",p);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ie,{htmlFor:e,className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[t,l&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r==="textarea"?s.jsx("textarea",{id:e,name:e,value:n,onChange:S,onBlur:i,placeholder:o,disabled:c,required:l,rows:4,className:ue("w-full px-3 py-2 text-sm bg-white dark:bg-gray-800 border rounded-full","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed","placeholder:text-gray-400 dark:placeholder:text-gray-500","text-gray-900 dark:text-gray-100",N)}):s.jsx(le,{id:e,name:e,type:r,value:n,onChange:S,onBlur:i,placeholder:o,disabled:c,required:l,className:N}),w&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsx("p",{className:"text-sm text-red-500",children:b})]}),j&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("p",{className:"text-sm text-green-500",children:"Valid"})]})]})},Gme=({initialValues:e,validationRules:t,onSubmit:r})=>{const[n,a]=m.useState(e),[i,o]=m.useState({}),[l,c]=m.useState({}),[u,d]=m.useState(!1),[f,h]=m.useState(null),p=m.useCallback(()=>{const S=Yme(n,t);return o(S),Object.keys(S).length===0},[n,t]),g=Object.keys(i).length===0&&Object.keys(l).length>0,v=m.useCallback((S,N)=>{a(_=>({..._,[S]:N})),f&&h(null)},[f]),x=m.useCallback((S,N=!0)=>{c(_=>({..._,[S]:N}))},[]),y=m.useCallback((S,N)=>{o(_=>({..._,[S]:N}))},[]),b=m.useCallback(()=>{o({}),h(null)},[]),w=m.useCallback(async S=>{S.preventDefault(),h(null);const N={};if(Object.keys(t).forEach(E=>{N[E]=!0}),c(N),!!p()){d(!0);try{await r(n)}catch(E){h(E.message||"An error occurred during submission")}finally{d(!1)}}},[n,t,p,r]),j=m.useCallback(()=>{a(e),o({}),c({}),d(!1),h(null)},[e]);return m.useEffect(()=>{Object.keys(l).length>0&&p()},[n,l,p]),{values:n,errors:i,touched:l,isSubmitting:u,isValid:g,submitError:f,setValue:v,setFieldTouched:x,setFieldError:y,clearErrors:b,handleSubmit:w,reset:j}},G$=({size:e="md",color:t="primary",className:r})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},a={primary:"text-emerald-500",white:"text-white",gray:"text-gray-400"};return s.jsx("div",{className:ue("inline-block animate-spin",n[e],a[t],r),children:s.jsxs("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},Jme=({loading:e,children:t,loadingText:r="Loading...",className:n})=>s.jsxs("div",{className:ue("flex items-center justify-center space-x-2",n),children:[e&&s.jsx(G$,{size:"sm",color:"white"}),s.jsx("span",{children:e?r:t})]});function Xme({initialData:e,onSave:t,onCancel:r}){const[n,a]=m.useState(!1),{values:i,errors:o,touched:l,isSubmitting:c,submitError:u,setValue:d,setFieldTouched:f,handleSubmit:h}=Gme({initialValues:{firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||"",address:e.address||""},validationRules:{firstName:{required:!0,minLength:2},lastName:{required:!0,minLength:2},phone:{required:!0,custom:p=>{const g=Hme(p);return g.isValid?null:g.error}},address:{required:!0,minLength:10}},onSubmit:async p=>{const{data:{user:g}}=await P.auth.getUser();if(!g)throw new Error("Not authenticated");const{error:v}=await P.from("profiles").update({first_name:p.firstName.trim(),last_name:p.lastName.trim(),phone:p.phone,address:p.address.trim()}).eq("id",g.id);if(v)throw v;a(!0),window.dispatchEvent(new CustomEvent("profileUpdated",{detail:p})),setTimeout(()=>{t(p)},1500)}});return s.jsx(C,{className:"bg-gray-900 border-gray-700",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mr,{className:"w-5 h-5 text-green-400"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Edit Profile"})]}),s.jsxs(I,{variant:"ghost",size:"sm",onClick:r,className:"text-gray-400 hover:text-white",children:[s.jsx(bs,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}),u&&s.jsxs("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/25 rounded-lg flex items-center gap-2",children:[s.jsx(gt,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-red-400",children:u})]}),n&&s.jsxs("div",{className:"mb-4 p-3 bg-green-500/10 border border-green-500/25 rounded-lg flex items-center gap-2",children:[s.jsx(Ne,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-green-400",children:"Profile updated successfully!"})]}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(fh,{name:"firstName",label:"First Name",value:i.firstName,onChange:p=>d("firstName",p),onBlur:()=>f("firstName"),placeholder:"Enter first name",required:!0,error:o.firstName,touched:l.firstName,className:"bg-gray-800 border-gray-700 text-white"}),s.jsx(fh,{name:"lastName",label:"Last Name",value:i.lastName,onChange:p=>d("lastName",p),onBlur:()=>f("lastName"),placeholder:"Enter last name",required:!0,error:o.lastName,touched:l.lastName,className:"bg-gray-800 border-gray-700 text-white"})]}),s.jsx(fh,{name:"phone",label:"Phone Number",type:"tel",value:i.phone,onChange:p=>d("phone",p),onBlur:()=>f("phone"),placeholder:"(555) 123-4567",required:!0,error:o.phone,touched:l.phone,className:"bg-gray-800 border-gray-700 text-white"}),s.jsx(fh,{name:"address",label:"Service Address",value:i.address,onChange:p=>d("address",p),onBlur:()=>f("address"),placeholder:"123 Main St, City, State 12345",required:!0,error:o.address,touched:l.address,className:"bg-gray-800 border-gray-700 text-white"}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(I,{type:"submit",disabled:c,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:s.jsxs(Jme,{loading:c,loadingText:"Saving...",children:[s.jsx(Sw,{className:"w-4 h-4 mr-2"}),"Save Changes"]})}),s.jsx(I,{type:"button",variant:"secondary",onClick:r,disabled:c,className:"bg-gray-700 hover:bg-gray-600 text-white",children:"Cancel"})]})]})]})})}const Qme=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState("default"),[a,i]=m.useState(null),[o,l]=m.useState({systemFailures:!0,highFailureRates:!0,channelDowntime:!0,performanceAlerts:!1,testNotifications:!0}),[c,u]=m.useState(!1);m.useEffect(()=>{t("serviceWorker"in navigator&&"PushManager"in window),"Notification"in window&&n(Notification.permission);const x=localStorage.getItem("notification-preferences");if(x)try{l(JSON.parse(x))}catch(y){console.error("Failed to parse notification preferences:",y)}d()},[]);const d=async()=>{if(e)try{const y=await(await navigator.serviceWorker.ready).pushManager.getSubscription();i(y)}catch(x){console.error("Failed to check existing subscription:",x)}},f=m.useCallback(async()=>{if(!e)throw new Error("Push notifications are not supported");const x=await Notification.requestPermission();return n(x),x},[e]),h=m.useCallback(async()=>{if(!e)throw new Error("Push notifications are not supported");u(!0);try{if(await f()!=="granted")throw new Error("Notification permission denied");const w=await(await navigator.serviceWorker.ready).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"BEl62iUYgUivxIkv69yViEuiBIa40HI0DLLuxazjqAKUrjqHrtfVJbNBhqoYVpZwMgLxqSGVaIaOfbrSgMaZHzs"});i(w);const j={endpoint:w.endpoint,keys:{p256dh:btoa(String.fromCharCode(...new Uint8Array(w.getKey("p256dh")))),auth:btoa(String.fromCharCode(...new Uint8Array(w.getKey("auth"))))}},{data:{user:S}}=await P.auth.getUser();return S&&(j.userId=S.id),await P.from("push_subscriptions").upsert({user_id:S?.id,endpoint:j.endpoint,p256dh_key:j.keys.p256dh,auth_key:j.keys.auth,preferences:o}),w}catch(x){throw console.error("Failed to subscribe to push notifications:",x),x}finally{u(!1)}},[e,f,o]),p=m.useCallback(async()=>{if(a){u(!0);try{await a.unsubscribe(),i(null);const{data:{user:x}}=await P.auth.getUser();x&&await P.from("push_subscriptions").delete().eq("user_id",x.id)}catch(x){throw console.error("Failed to unsubscribe:",x),x}finally{u(!1)}}},[a]),g=m.useCallback(async x=>{if(l(x),localStorage.setItem("notification-preferences",JSON.stringify(x)),a){const{data:{user:y}}=await P.auth.getUser();y&&await P.from("push_subscriptions").update({preferences:x}).eq("user_id",y.id)}},[a]),v=m.useCallback(async()=>{if(!a)throw new Error("No active subscription");try{await P.functions.invoke("send-notification",{body:{type:"test",title:"Test Notification",body:"This is a test notification from the dashboard",priority:"normal",alertType:"test"}})}catch(x){throw console.error("Failed to send test notification:",x),x}},[a]);return{isSupported:e,permission:r,subscription:a,preferences:o,isLoading:c,requestPermission:f,subscribe:h,unsubscribe:p,updatePreferences:g,sendTestNotification:v,isSubscribed:!!a}},J$=()=>{const{isSupported:e,permission:t,preferences:r,isLoading:n,requestPermission:a,subscribe:i,unsubscribe:o,updatePreferences:l,sendTestNotification:c,isSubscribed:u}=Qme(),{toast:d}=Jn(),f=async()=>{try{const y=await a();d(y==="granted"?{title:"Permission Granted",description:"You can now receive push notifications."}:{title:"Permission Denied",description:"Push notifications are disabled.",variant:"destructive"})}catch{d({title:"Error",description:"Failed to request notification permission.",variant:"destructive"})}},h=async()=>{try{await i(),d({title:"Subscribed",description:"You will now receive push notifications."})}catch{d({title:"Subscription Failed",description:"Failed to enable push notifications.",variant:"destructive"})}},p=async()=>{try{await o(),d({title:"Unsubscribed",description:"Push notifications have been disabled."})}catch{d({title:"Error",description:"Failed to disable push notifications.",variant:"destructive"})}},g=(y,b)=>{const w={...r,[y]:b};l(w)},v=async()=>{try{await c(),d({title:"Test Sent",description:"Check your notifications for the test alert."})}catch{d({title:"Test Failed",description:"Failed to send test notification.",variant:"destructive"})}},x=()=>{switch(t){case"granted":return s.jsxs(Y,{variant:"default",className:"bg-green-500",children:[s.jsx(Dn,{className:"w-3 h-3 mr-1"}),"Granted"]});case"denied":return s.jsxs(Y,{variant:"destructive",children:[s.jsx(Jv,{className:"w-3 h-3 mr-1"}),"Denied"]});default:return s.jsxs(Y,{variant:"secondary",children:[s.jsx(Ot,{className:"w-3 h-3 mr-1"}),"Not Set"]})}};return e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsxs(L,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dn,{className:"w-5 h-5"}),"Push Notifications"]}),x()]}),s.jsx(Le,{children:"Configure browser push notifications for critical alerts when you're not viewing the dashboard."})]}),s.jsxs(T,{className:"space-y-4",children:[t==="default"&&s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Enable push notifications to receive critical alerts even when the dashboard is not open."}),s.jsxs(I,{onClick:f,disabled:n,children:[s.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Enable Notifications"]})]}),t==="denied"&&s.jsx("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:s.jsx("p",{className:"text-sm text-red-800",children:"Push notifications are blocked. Please enable them in your browser settings to receive alerts."})}),t==="granted"&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-800",children:u?"Active Subscription":"Ready to Subscribe"}),s.jsx("p",{className:"text-sm text-green-600",children:u?"You will receive push notifications for selected alert types.":"Click subscribe to start receiving notifications."})]}),s.jsx("div",{className:"flex gap-2",children:u?s.jsxs(s.Fragment,{children:[s.jsxs(I,{variant:"outline",onClick:v,disabled:n,children:[s.jsx(K0,{className:"w-4 h-4 mr-2"}),"Test"]}),s.jsxs(I,{variant:"destructive",onClick:p,disabled:n,children:[s.jsx(Jv,{className:"w-4 h-4 mr-2"}),"Unsubscribe"]})]}):s.jsxs(I,{onClick:h,disabled:n,children:[s.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Subscribe"]})})]})})]})]}),u&&s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"w-5 h-5"}),"Alert Preferences"]}),s.jsx(Le,{children:"Choose which types of alerts you want to receive as push notifications."})]}),s.jsx(T,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(it,{className:"w-5 h-5 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"System Failures"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Critical system errors and outages"})]})]}),s.jsx(Ga,{checked:r.systemFailures,onCheckedChange:y=>g("systemFailures",y)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(XO,{className:"w-5 h-5 text-orange-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"High Failure Rates"}),s.jsx("p",{className:"text-sm text-gray-600",children:"When delivery success rates drop significantly"})]})]}),s.jsx(Ga,{checked:r.highFailureRates,onCheckedChange:y=>g("highFailureRates",y)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(zp,{className:"w-5 h-5 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Channel Downtime"}),s.jsx("p",{className:"text-sm text-gray-600",children:"When notification channels go offline"})]})]}),s.jsx(Ga,{checked:r.channelDowntime,onCheckedChange:y=>g("channelDowntime",y)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(vi,{className:"w-5 h-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Performance Alerts"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Slow response times and performance issues"})]})]}),s.jsx(Ga,{checked:r.performanceAlerts,onCheckedChange:y=>g("performanceAlerts",y)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(K0,{className:"w-5 h-5 text-purple-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Test Notifications"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Allow manual test notifications"})]})]}),s.jsx(Ga,{checked:r.testNotifications,onCheckedChange:y=>g("testNotifications",y)})]})]})})]})]}):s.jsx(C,{children:s.jsxs(M,{children:[s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(Jv,{className:"w-5 h-5"}),"Push Notifications"]}),s.jsx(Le,{children:"Push notifications are not supported in this browser."})]})})};class Zme{static async sendPayoutNotification(t){try{const{error:r}=await P.functions.invoke("send-payout-notification",{body:t});if(r)throw console.error("Failed to send payout notification:",r),r;return{success:!0}}catch(r){return console.error("Error in notification service:",r),{success:!1,error:r}}}static async sendPayoutSuccessNotification(t,r,n,a,i){return this.sendPayoutNotification({userId:t,email:r,type:"payout_success",title:"Payout Completed Successfully",message:`Your payout of $${n} has been processed and sent to your account.`,data:{payout_id:a,amount:n,stripe_transfer_id:i}})}static async sendPayoutFailedNotification(t,r,n,a,i){return this.sendPayoutNotification({userId:t,email:r,type:"payout_failed",title:"Payout Failed",message:`Your payout of $${n} could not be processed. Please check your payment details.`,data:{payout_id:a,amount:n,error_message:i}})}static async sendPayoutProcessingNotification(t,r,n,a){return this.sendPayoutNotification({userId:t,email:r,type:"payout_processing",title:"Payout Being Processed",message:`Your payout of $${n} is currently being processed and will arrive in 1-2 business days.`,data:{payout_id:a,amount:n}})}static async sendPayoutRetryNotification(t,r,n,a,i,o){return this.sendPayoutNotification({userId:t,email:r,type:"payout_retry",title:"Payout Retry Scheduled",message:`Your payout of $${n} failed but will be retried automatically on ${new Date(o).toLocaleDateString()}.`,data:{payout_id:a,amount:n,retry_count:i,next_retry:o}})}static async sendAdminPayoutAlert(t,r,n,a,i,o){const l={failed:"Payout Failed - Admin Attention Required",retry_exhausted:"Payout Retries Exhausted - Manual Intervention Needed"},c={failed:`Payout to ${n} ($${a}) has failed and requires admin review.`,retry_exhausted:`Payout to ${n} ($${a}) has exhausted all retry attempts and needs manual processing.`};return this.sendPayoutNotification({userId:t,email:r,type:"payout_failed",title:l[i],message:c[i],data:{payout_id:o,amount:a,landscaper_name:n}})}static async getRecentNotifications(t,r=10){try{const{data:n,error:a}=await P.from("notifications").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(r);if(a)throw a;return{data:n,error:null}}catch(n){return{data:null,error:n}}}static async markNotificationAsRead(t){try{const{error:r}=await P.from("notifications").update({read:!0,updated_at:new Date().toISOString()}).eq("id",t);return{success:!r,error:r}}catch(r){return{success:!1,error:r}}}static async getUnreadCount(t){try{const{count:r,error:n}=await P.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",t).eq("read",!1);return{count:r||0,error:n}}catch(r){return{count:0,error:r}}}}function epe({profile:e,onProfileUpdate:t}){const{user:r}=kt(),[n,a]=m.useState(e),i=async o=>{a({...n,...o}),r&&await Zme.sendNotification({type:"profile_updated",userId:r.id,data:{name:o.firstName||"User"}}),t?.()};return s.jsxs(wn,{defaultValue:"profile",className:"w-full",children:[s.jsxs(Yr,{className:"grid w-full grid-cols-3 bg-black/60 border border-green-500/25",children:[s.jsxs(fe,{value:"profile",className:"flex items-center gap-2",children:[s.jsx(mr,{className:"w-4 h-4"}),"Profile"]}),s.jsxs(fe,{value:"preferences",className:"flex items-center gap-2",children:[s.jsx(Dn,{className:"w-4 h-4"}),"Notifications"]}),s.jsxs(fe,{value:"settings",className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"w-4 h-4"}),"Settings"]})]}),s.jsx(ge,{value:"profile",className:"mt-6",children:s.jsxs(C,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl",children:[s.jsxs(M,{children:[s.jsxs(L,{className:"flex items-center gap-2 text-green-300",children:[s.jsx(mr,{className:"w-5 h-5"}),"Profile Information"]}),s.jsx(Le,{children:"Manage your personal information and service preferences"})]}),s.jsx(T,{children:s.jsx(Xme,{initialData:n,onSave:i,showCancel:!1})})]})}),s.jsx(ge,{value:"preferences",className:"mt-6",children:s.jsx(J$,{})}),s.jsx(ge,{value:"settings",className:"mt-6",children:s.jsxs(C,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl",children:[s.jsxs(M,{children:[s.jsxs(L,{className:"flex items-center gap-2 text-green-300",children:[s.jsx(Ot,{className:"w-5 h-5"}),"Account Settings"]}),s.jsx(Le,{children:"Manage your account preferences and security settings"})]}),s.jsx(T,{className:"space-y-4",children:s.jsxs("div",{className:"p-4 bg-green-500/10 rounded-lg border border-green-500/20",children:[s.jsx("h4",{className:"font-medium text-green-300 mb-2",children:"Email Notification System"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Automated emails are sent for profile updates, job assignments, completions, and appointment reminders."})]})})]})})]})}const X$=()=>{const e=Ae(),{percentage:t,items:r,loading:n}=K$(),[a,i]=m.useState(!1),o=()=>i(!0),l=()=>i(!0),c=()=>e("/profile#payment"),u=h=>{switch(h){case"edit_profile":return o;case"add_address":return l;case"add_payment":return c;default:return()=>{}}},d=h=>{if(h.completed)return"Complete";switch(h.action){case"edit_profile":return h.id==="full_name"?"Add Name":"Add Phone";case"add_address":return"Add Address";case"add_payment":return"Add Payment Method";default:return"Complete"}},f=h=>{switch(h){case"full_name":return"Personalized service experience and faster booking";case"phone":return"Real-time updates and direct communication with your landscaper";case"address":return"Accurate service quotes and scheduling for your location";case"payment_method":return"Seamless checkout and priority booking access";default:return"Complete this step to enhance your service experience"}};return n?s.jsx(C,{className:"bg-gray-900/50 border-gray-800",children:s.jsx(T,{className:"p-4",children:s.jsxs("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-800 rounded w-3/4"}),s.jsx("div",{className:"h-2 bg-gray-800 rounded"})]})})}):s.jsxs(s.Fragment,{children:[s.jsxs(C,{className:"bg-gray-900/50 border-gray-800 transition-all duration-200 hover:bg-gray-900/70",children:[s.jsx(M,{className:"pb-3",children:s.jsxs(L,{className:"text-sm text-white flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/20 flex items-center justify-center",children:s.jsx(mr,{className:"h-3 w-3 text-emerald-400"})}),"Profile Status"]}),s.jsx("span",{className:"text-xs text-gray-400",children:"Getting Started"})]})}),s.jsxs(T,{className:"space-y-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Profile Completion"}),s.jsxs("span",{className:"text-sm text-white font-medium",children:[t,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-400 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${t}%`}})})]}),s.jsx("div",{className:"space-y-3",children:r.map(h=>s.jsxs("div",{className:"group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[h.completed?s.jsx(Ne,{className:"h-4 w-4 text-emerald-400"}):s.jsx(RV,{className:"h-4 w-4 text-gray-500 group-hover:text-gray-400 transition-colors"}),s.jsx("span",{className:`text-sm ${h.completed?"text-white":"text-gray-400"}`,children:h.label})]}),!h.completed&&h.action&&s.jsxs("button",{onClick:u(h.action),className:"text-emerald-400 hover:text-emerald-300 text-xs flex items-center gap-1 transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 rounded px-2 py-1","aria-label":`${d(h)} to improve your profile`,children:[s.jsx(tc,{className:"h-3 w-3"}),d(h)]})]}),!h.completed&&s.jsx("p",{className:"text-xs text-gray-500 ml-6 leading-relaxed",children:f(h.id)})]},h.id))}),s.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-br from-gray-800/50 to-gray-800/30 rounded-lg border border-gray-700/50",children:[s.jsxs("div",{className:"text-sm font-medium text-white mb-2 flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),"Why Complete Your Profile?"]}),s.jsxs("ul",{className:"text-xs text-gray-400 space-y-1.5 leading-relaxed",children:[s.jsxs("li",{children:["• ",s.jsx("span",{className:"text-emerald-400",children:"Faster"})," service booking and scheduling"]}),s.jsxs("li",{children:["• ",s.jsx("span",{className:"text-emerald-400",children:"Personalized"})," service recommendations"]}),s.jsxs("li",{children:["• ",s.jsx("span",{className:"text-emerald-400",children:"Priority"})," customer support access"]}),s.jsxs("li",{children:["• ",s.jsx("span",{className:"text-emerald-400",children:"Exclusive"})," member discounts and offers"]})]})]})]})]}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700 p-4 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Complete Your Profile"}),s.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-white transition-colors p-1 rounded focus:outline-none focus:ring-2 focus:ring-emerald-500/50","aria-label":"Close profile modal",children:"✕"})]}),s.jsx("div",{className:"p-4",children:s.jsx(epe,{profile:{firstName:"",lastName:"",phone:"",address:"",paymentMethod:!1},onProfileUpdate:()=>{i(!1)}})})]})})]})};function tpe({table:e,filter:t,select:r="*",orderBy:n,limit:a}){const[i,o]=m.useState([]),[l,c]=m.useState(!0),[u,d]=m.useState(null),f=m.useRef(null);m.useEffect(()=>(h(),p(),()=>{f.current&&P.removeChannel(f.current)}),[e,t?.column,t?.value]);const h=async()=>{try{c(!0),d(null);let x=P.from(e).select(r);t&&(x=x.eq(t.column,t.value)),n&&(x=x.order(n.column,{ascending:n.ascending??!0})),a&&(x=x.limit(a));const{data:y,error:b}=await x;if(b)throw b;o(y||[])}catch(x){console.error(`Error fetching data from ${e}:`,x),d(x instanceof Error?x.message:"Failed to fetch data")}finally{c(!1)}},p=()=>{const x=`realtime-${e}-${t?.column||"all"}-${t?.value||"all"}`;f.current=P.channel(x).on("postgres_changes",{event:"*",schema:"public",table:e,...t&&{filter:`${t.column}=eq.${t.value}`}},y=>{g(y)}).subscribe()},g=x=>{const{eventType:y,new:b,old:w}=x;o(j=>{switch(y){case"INSERT":return t&&b[t.column]!==t.value?j:[b,...j];case"UPDATE":return j.map(S=>S.id===b.id?b:S);case"DELETE":return j.filter(S=>S.id!==w.id);default:return j}})};return{data:i,loading:l,error:u,refetch:()=>{h()}}}function rpe(e,t){return tpe({table:"jobs",filter:{column:"client_id",value:e},select:`
      id, service_name, service_type, service_address, status, created_at, preferred_date, price
    `,orderBy:{column:"created_at",ascending:!1},limit:10})}function Q$(){const{user:e}=kt(),{data:t,loading:r,error:n}=rpe(e?.id||""),a=o=>{switch(o){case"completed":return"bg-green-900/50 text-green-300 border-green-500/50";case"in_progress":return"bg-blue-900/50 text-blue-300 border-blue-500/50";case"accepted":return"bg-yellow-900/50 text-yellow-300 border-yellow-500/50";case"pending":return"bg-gray-900/50 text-gray-300 border-gray-500/50";default:return"bg-gray-900/50 text-gray-300 border-gray-500/50"}},i=o=>new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return r?s.jsxs(C,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl",children:[s.jsx(M,{children:s.jsxs(L,{className:"text-white flex items-center gap-2",children:[s.jsx(cr,{className:"w-5 h-5 text-green-400"}),"Recent Jobs"]})}),s.jsx(T,{children:s.jsx("div",{className:"space-y-3",children:Array.from({length:3},(o,l)=>s.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-700 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-700 rounded w-3/4"})]},l))})})]}):n||!t.length?s.jsxs(C,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl",children:[s.jsx(M,{children:s.jsxs(L,{className:"text-white flex items-center gap-2",children:[s.jsx(cr,{className:"w-5 h-5 text-green-400"}),"Recent Jobs"]})}),s.jsx(T,{children:s.jsx("div",{className:"text-center py-6",children:s.jsx("div",{className:"text-sm text-gray-400 mb-4",children:n?"Failed to load jobs":"No jobs found"})})})]}):s.jsxs(C,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl",children:[s.jsx(M,{children:s.jsxs(L,{className:"text-white flex items-center gap-2",children:[s.jsx(cr,{className:"w-5 h-5 text-green-400"}),"Recent Jobs"]})}),s.jsx(T,{children:s.jsx("div",{className:"space-y-3",children:t.slice(0,5).map(o=>s.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg border border-gray-700/50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium text-white truncate",children:o.service_name||o.service_type||"Service Request"}),s.jsx(Y,{className:`text-xs ${a(o.status)}`,children:o.status.replace("_"," ")})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Vs,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:o.service_address||o.property_address||"N/A"})]}),o.price&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Nt,{className:"w-3 h-3"}),s.jsxs("span",{children:["$",o.price]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(nt,{className:"w-3 h-3"}),s.jsx("span",{children:i(o.created_at)})]})]})]},o.id))})})]})}const npe=()=>{const{user:e}=kt(),[t,r]=m.useState([]),[n,a]=m.useState(!1),i=async()=>{if(e)try{const{data:c,error:u}=await P.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);if(u)throw u;r(c||[])}catch(c){console.error("Error fetching notifications:",c)}};m.useEffect(()=>{i()},[e]);const o=async c=>{try{const{error:u}=await P.from("notifications").update({read:!0}).eq("id",c);if(u)throw u;r(d=>d.map(f=>f.id===c?{...f,read:!0}:f))}catch(u){console.error("Error marking notification as read:",u)}};if(n)return s.jsxs(C,{className:"bg-gray-900/50 border-gray-800",children:[s.jsx(M,{className:"pb-3",children:s.jsxs(L,{className:"text-sm text-white flex items-center gap-2",children:[s.jsx(Dn,{className:"h-4 w-4"}),"Notifications"]})}),s.jsx(T,{className:"p-4",children:s.jsxs("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-800 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-800 rounded w-1/2"})]})})]});const l={id:"welcome",title:"Welcome to your dashboard!",message:"Your account has been successfully set up.",created_at:"9/1/2025"};return s.jsxs(C,{className:"bg-gray-900/50 border-gray-800",children:[s.jsx(M,{className:"pb-3",children:s.jsxs(L,{className:"text-sm text-white flex items-center gap-2",children:[s.jsx(Dn,{className:"h-4 w-4"}),"Notifications"]})}),s.jsx(T,{children:s.jsx("div",{className:"p-3 rounded-lg border border-emerald-500/25 bg-gray-800/50",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ne,{className:"h-4 w-4 text-emerald-400 mt-0.5"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-white text-sm",children:l.title}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:l.message}),s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:l.created_at})]}),s.jsx("button",{className:"text-gray-400 hover:text-white h-6 w-6 p-0 ml-2",children:s.jsx(bs,{className:"h-3 w-3"})})]}),s.jsxs(qw,{variant:"ghost",size:"sm",className:"mt-2 text-xs h-auto py-1 px-2",onClick:()=>o(l.id),children:[s.jsx(Ho,{className:"h-3 w-3 mr-1"}),"Mark as Read"]})]})]})})})]})},T2=()=>{const e=Ae(),[t,r]=m.useState(!1),[n,a]=m.useState(!1),[i,o]=m.useState(!1),l=()=>{e("/get-quote-enhanced")},c=()=>{e("/client-dashboard/payments")};return s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-8",children:[s.jsx("div",{className:"w-full",children:s.jsx(fme,{})}),s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"w-full",children:s.jsx(q$,{})}),s.jsx("div",{className:"w-full",children:s.jsx(H$,{onEditProfile:()=>r(!0),onAddAddress:()=>a(!0),onAddPayment:()=>o(!0)})}),s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl p-4 sm:p-6 w-full",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-4 sm:mb-6",children:"Quick Actions"}),s.jsxs("div",{className:"flex flex-col space-y-3 sm:space-y-4",children:[s.jsx("button",{onClick:l,className:"w-full px-4 sm:px-6 py-3 sm:py-4 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-black font-medium shadow-lg shadow-emerald-500/25 hover:shadow-emerald-400/40 transition-all duration-200 text-sm sm:text-base",children:"Request Service"}),s.jsx("button",{onClick:c,className:"w-full px-4 sm:px-6 py-3 sm:py-4 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-400 hover:to-blue-500 text-white font-medium shadow-lg shadow-blue-500/25 hover:shadow-blue-400/40 transition-all duration-200 text-sm sm:text-base",children:"Manage Payments"})]})]}),s.jsx("div",{className:"w-full",children:s.jsx(X$,{})})]})}),s.jsx("div",{className:"w-full",children:s.jsx(Q$,{})}),s.jsx("div",{className:"w-full",children:s.jsx(npe,{})})]})};function spe({className:e,animated:t=!0,...r}){return s.jsx("div",{className:ue("rounded-md bg-muted/70",t&&"animate-pulse",e),...r})}const ape=()=>{const e=Ae(),{user:t}=kt(),[r,n]=m.useState({total:0,completed:0,active:0,totalSpent:0}),[a,i]=m.useState(!0),[o,l]=m.useState(null);m.useEffect(()=>{if(!t)return;(async()=>{try{i(!0),l(null);const{data:f,error:h}=await P.from("jobs").select("status, price").eq("client_id",t.id);if(h)throw h;const p=f?.length||0,g=f?.filter(y=>y.status==="completed").length||0,v=f?.filter(y=>y.status==="pending"||y.status==="scheduled").length||0,x=f?.reduce((y,b)=>y+(parseFloat(b.price)||0),0)||0;n({total:p,completed:g,active:v,totalSpent:x})}catch(f){console.error("Error fetching job stats:",f),l("Failed to load job statistics")}finally{i(!1)}})()},[t]);const c=()=>{e("/instant-quote")},u=({value:d,label:f,isLoading:h})=>s.jsxs("div",{className:"text-center",children:[h?s.jsx(spe,{className:"h-8 w-12 mx-auto mb-1 bg-gray-700"}):s.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:d}),s.jsx("div",{className:"text-sm text-gray-400",children:f})]});return s.jsxs(C,{className:"bg-gray-900/50 border-gray-800",children:[s.jsx(M,{className:"pb-3",children:s.jsx(L,{className:"text-lg text-white",children:"Jobs Overview"})}),s.jsxs(T,{className:"space-y-6",children:[o&&s.jsx("div",{className:"text-red-400 text-sm text-center py-2",children:o}),s.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[s.jsx(u,{value:r.total,label:"Total Jobs",isLoading:a}),s.jsx(u,{value:r.completed,label:"Completed",isLoading:a}),s.jsx(u,{value:r.active,label:"Active",isLoading:a}),s.jsx(u,{value:`$${r.totalSpent.toFixed(0)}`,label:"Total Spent",isLoading:a})]}),!a&&r.total===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:"No active jobs found."}),s.jsx(qw,{variant:"primary",size:"lg",label:"Request Your First Service",className:"w-full sm:w-auto bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white px-8 py-3 rounded-lg font-medium shadow-lg hover:shadow-emerald-500/25 transition-all duration-200 border-0",onClick:c})]})]})]})},ipe=()=>{const e=Ae(),t=()=>{e("/get-quote-enhanced")},r=()=>{console.log("Schedule service clicked")},n=()=>{console.log("View service locations clicked")};return s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Job Requests"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Manage your service requests and track progress"})]}),s.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-black font-medium shadow-lg shadow-emerald-500/25 hover:shadow-emerald-400/40 transition-all duration-200",children:[s.jsx(tc,{className:"h-5 w-5"}),"New Request"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:t,className:"p-6 rounded-2xl bg-black/60 backdrop-blur border border-emerald-500/25 hover:border-emerald-400/40 transition-all duration-200 text-left group",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20 text-emerald-400 group-hover:bg-emerald-500/30",children:s.jsx(tc,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Request Service"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Get a quote for landscaping services"})]}),s.jsxs("button",{onClick:r,className:"p-6 rounded-2xl bg-black/60 backdrop-blur border border-emerald-500/25 hover:border-emerald-400/40 transition-all duration-200 text-left group",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20 text-emerald-400 group-hover:bg-emerald-500/30",children:s.jsx(cr,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Schedule Service"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Book recurring maintenance"})]}),s.jsxs("button",{onClick:n,className:"p-6 rounded-2xl bg-black/60 backdrop-blur border border-emerald-500/25 hover:border-emerald-400/40 transition-all duration-200 text-left group",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20 text-emerald-400 group-hover:bg-emerald-500/30",children:s.jsx(Vs,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Service Areas"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"View available service locations"})]})]}),s.jsx("div",{className:"w-full",children:s.jsx(ape,{})}),s.jsx("div",{className:"w-full",children:s.jsx(Q$,{})})]})},ope=()=>{const[e,t]=m.useState({isValid:!1,message:"Checking..."}),[r,n]=m.useState(!0),a=async()=>{n(!0);try{const i="pk_test_your_publishable_key_here";if(!i.startsWith("pk_")){t({isValid:!1,message:'Invalid Stripe key format. Must start with "pk_"',keyPreview:i.substring(0,20)+"..."});return}const o=i.startsWith("pk_live_")?"Live":"Test",l=i.substring(0,20)+"...";try{const{loadStripe:c}=await Yo(async()=>{const{loadStripe:d}=await Promise.resolve().then(()=>Ume);return{loadStripe:d}},void 0,import.meta.url),u=await c(i);t(u?{isValid:!0,message:"Stripe key is valid and loaded successfully",keyPreview:l,environment:o}:{isValid:!1,message:"Failed to initialize Stripe with provided key",keyPreview:l,environment:o})}catch(c){t({isValid:!1,message:`Stripe initialization error: ${c.message}`,keyPreview:l,environment:o})}}catch(i){t({isValid:!1,message:`Validation error: ${i.message}`})}finally{n(!1)}};return m.useEffect(()=>{a()},[]),s.jsxs(C,{className:"w-full max-w-2xl mx-auto",children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(vm,{className:"h-5 w-5"}),"Stripe Key Validation"]})}),s.jsx(T,{className:"space-y-4",children:r?s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(sr,{className:"h-4 w-4 animate-spin"}),"Validating Stripe configuration..."]}):s.jsxs(s.Fragment,{children:[s.jsxs(Be,{variant:e.isValid?"default":"destructive",children:[e.isValid?s.jsx(Ne,{className:"h-4 w-4"}):s.jsx(gt,{className:"h-4 w-4"}),s.jsx(Ue,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{children:e.message}),e.keyPreview&&s.jsxs("p",{className:"text-sm font-mono bg-muted p-2 rounded",children:["Key: ",e.keyPreview]}),e.environment&&s.jsxs("p",{className:"text-sm",children:["Environment: ",s.jsx("span",{className:"font-semibold",children:e.environment})]})]})})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(I,{onClick:a,variant:"outline",size:"sm",children:[s.jsx(sr,{className:"h-4 w-4 mr-2"}),"Re-validate"]})}),!e.isValid&&s.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[s.jsx("p",{children:s.jsx("strong",{children:"To fix this issue:"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[s.jsx("li",{children:"Get your Stripe publishable key from the Stripe Dashboard"}),s.jsx("li",{children:"Set the VITE_STRIPE_PUBLISHABLE_KEY environment variable"}),s.jsx("li",{children:'Ensure the key starts with "pk_test_" or "pk_live_"'}),s.jsx("li",{children:"Restart your development server or redeploy"})]})]})]})})]})},Z$=({open:e,onOpenChange:t,onSuccess:r})=>{const[n,a]=m.useState(!1),[i,o]=m.useState([]),[l,c]=m.useState(null),[u,d]=m.useState(!1),[f,h]=m.useState(null),[p,g]=m.useState(null),{user:v}=kt();m.useEffect(()=>{e&&v?.id&&x()},[e,v?.id]);const x=async()=>{try{a(!0);const{data:_,error:E}=await P.from("profiles").select("stripe_customer_id, email, first_name, last_name").eq("id",v?.id).single();if(E)throw new Error(`Profile fetch failed: ${E.message}`);let k=_?.stripe_customer_id;if(!k){console.log("Creating Stripe customer for user:",v?.id);const{data:D,error:F}=await P.functions.invoke("create-stripe-customer",{body:{userId:v?.id,email:_?.email||v?.email,firstName:_?.first_name||"",lastName:_?.last_name||""}});if(F)throw console.error("Stripe customer creation error:",F),new Error(`Failed to initialize payment system: ${F.message}`);if(!D?.success||!D?.stripe_customer_id)throw console.error("Invalid response from create-stripe-customer:",D),new Error("Failed to create payment account");k=D.stripe_customer_id,console.log("Stripe customer created successfully:",k)}c(k);const{data:A,error:R}=await P.functions.invoke("list-payment-methods",{body:{customerId:k}});if(R)throw new Error(`Failed to fetch payment methods: ${R.message}`);if(A?.success)o(A.payment_methods||[]);else throw new Error(A?.error||"Failed to fetch payment methods")}catch(_){console.error("Payment methods error:",_),Pn.error(_.message||"Failed to load payment methods")}finally{a(!1)}},y=async _=>{try{h(_);const{data:E,error:k}=await P.functions.invoke("delete-payment-method",{body:{paymentMethodId:_}});if(k)throw k;if(E?.success)Pn.success("Payment method deleted successfully"),x(),window.dispatchEvent(new CustomEvent("profileUpdated"));else throw new Error(E?.error||"Failed to delete payment method")}catch(E){console.error("Delete payment method error:",E),Pn.error(E.message||"Failed to delete payment method")}finally{h(null)}},b=async _=>{try{g(_);const{data:E,error:k}=await P.functions.invoke("set-default-payment-method",{body:{customerId:l,paymentMethodId:_}});if(k)throw k;if(E?.success)Pn.success("Default payment method updated"),x();else throw new Error(E?.error||"Failed to set default payment method")}catch(E){console.error("Set default payment method error:",E),Pn.error(E.message||"Failed to set default payment method")}finally{g(null)}},w=async()=>{try{if(a(!0),!l)throw new Error("No payment account found");const{data:_,error:E}=await P.functions.invoke("create-billing-portal-session",{body:{customerId:l}});if(E)throw E;if(_?.url)Pn.success("Redirecting to billing portal..."),window.location.href=_.url;else throw new Error("Unable to create billing session")}catch(_){console.error("Billing portal error:",_),Pn.error(_.message||"Unable to open billing portal")}finally{a(!1)}},j=()=>{d(!0)},S=()=>{x(),d(!1),r?.(),Pn.success("Payment method added successfully!"),window.dispatchEvent(new CustomEvent("profileUpdated"))},N=_=>_.charAt(0).toUpperCase()+_.slice(1);return s.jsxs(s.Fragment,{children:[s.jsx(Jo,{open:e,onOpenChange:t,children:s.jsxs(Fi,{className:"max-w-2xl",children:[s.jsx(Bi,{children:s.jsxs(Ui,{className:"flex items-center gap-2",children:[s.jsx(st,{className:"h-5 w-5"}),"Manage Payment Methods"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ope,{}),n?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage your saved payment methods and billing information."}),s.jsxs(I,{onClick:j,disabled:n||!l,size:"sm",children:[s.jsx(tc,{className:"mr-2 h-4 w-4"}),"Add Payment Method"]})]}),i.length>0?s.jsx("div",{className:"space-y-3",children:i.map(_=>s.jsx(C,{className:"relative",children:s.jsx(T,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(st,{className:"h-6 w-6 text-muted-foreground"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-medium",children:[N(_.brand)," •••• ",_.last4]}),_.is_default&&s.jsxs(Y,{variant:"secondary",className:"text-xs",children:[s.jsx(gs,{className:"h-3 w-3 mr-1"}),"Default"]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Expires ",_.exp_month.toString().padStart(2,"0"),"/",_.exp_year]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!_.is_default&&s.jsx(I,{variant:"outline",size:"sm",onClick:()=>b(_.id),disabled:p===_.id,children:p===_.id?s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-current"}):s.jsxs(s.Fragment,{children:[s.jsx(gs,{className:"h-3 w-3 mr-1"}),"Set Default"]})}),s.jsx(I,{variant:"outline",size:"sm",onClick:()=>y(_.id),disabled:f===_.id,className:"text-red-600 hover:text-red-700",children:f===_.id?s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-current"}):s.jsx(_w,{className:"h-3 w-3"})})]})]})})},_.id))}):s.jsx(C,{children:s.jsx(T,{className:"pt-6",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(st,{className:"mx-auto h-12 w-12 mb-2 opacity-50"}),s.jsx("p",{children:"No payment methods found"}),s.jsx("p",{className:"text-xs",children:"Add a payment method to get started"})]})})}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs(I,{variant:"outline",onClick:w,disabled:n||!l,className:"w-full",children:[s.jsx(st,{className:"mr-2 h-4 w-4"}),n?"Opening...":"Open Stripe Billing Portal"]})})]})]})]})}),s.jsx(W$,{isOpen:u,onClose:()=>d(!1),onSuccess:S})]})},lpe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState("all"),a=()=>{t(!0)},i=u=>{console.log("Download receipt for invoice:",u)},o=u=>{console.log("View invoice:",u)},l=[{id:"1",date:"2024-01-15",amount:250,service:"Lawn Maintenance",status:"completed",method:"Visa ****4242"},{id:"2",date:"2024-01-08",amount:180,service:"Garden Cleanup",status:"completed",method:"Mastercard ****8888"},{id:"3",date:"2024-01-01",amount:320,service:"Tree Trimming",status:"pending",method:"Visa ****4242"}],c=r==="all"?l:l.filter(u=>u.status===r);return s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Payment History"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Manage payment methods and view transaction history"})]}),s.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-black font-medium shadow-lg shadow-emerald-500/25 hover:shadow-emerald-400/40 transition-all duration-200",children:[s.jsx(st,{className:"h-5 w-5"}),"Add Payment Method"]})]}),s.jsx("div",{className:"w-full",children:s.jsx(q$,{})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(HO,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-gray-400",children:"Filter by status:"})]}),s.jsx("div",{className:"flex gap-2",children:["all","completed","pending","failed"].map(u=>s.jsx("button",{onClick:()=>n(u),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${r===u?"bg-emerald-500 text-black":"bg-black/40 text-gray-300 hover:bg-black/60"}`,children:u.charAt(0).toUpperCase()+u.slice(1)},u))})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-emerald-500/25",children:s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Transaction History"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-black/40",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Service"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Amount"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Payment Method"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-emerald-500/10",children:c.map(u=>s.jsxs("tr",{className:"hover:bg-black/20 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-white",children:new Date(u.date).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 text-sm text-white",children:u.service}),s.jsxs("td",{className:"px-6 py-4 text-sm text-white font-medium",children:["$",u.amount.toFixed(2)]}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:u.method}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u.status==="completed"?"bg-emerald-500/20 text-emerald-400":u.status==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:u.status})}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>o(u.id),className:"p-2 rounded-lg bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 transition-colors",title:"View Invoice",children:s.jsx(xm,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>i(u.id),className:"p-2 rounded-lg bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 transition-colors",title:"Download Receipt",children:s.jsx(Ri,{className:"h-4 w-4"})})]})})]},u.id))})]})})]}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-black/90 border border-emerald-500/25 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto p-4 sm:p-6 shadow-2xl shadow-emerald-500/10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Payment Methods"}),s.jsx("button",{onClick:()=>t(!1),className:"h-10 w-10 rounded-xl bg-emerald-500/20 hover:bg-emerald-500/30 text-emerald-400 hover:text-emerald-300 flex items-center justify-center transition-all duration-200",children:"✕"})]}),s.jsx("div",{className:"text-white",children:s.jsx(Z$,{open:!0,onOpenChange:t,onSuccess:()=>{console.log("Payment method added successfully")}})})]})})]})},cpe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(!1),[a,i]=m.useState(!1),o=()=>{t(!0)},l=()=>{n(!0)},c=()=>{i(!0)},u=()=>{console.log("Account settings clicked")},d=()=>{console.log("Privacy settings clicked")},f=()=>{console.log("Notification settings clicked")};return s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Profile Management"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Manage your account information and preferences"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"w-full",children:s.jsx(H$,{onEditProfile:o,onAddAddress:l,onAddPayment:c})}),s.jsx("div",{className:"w-full",children:s.jsx(X$,{})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20 text-emerald-400",children:s.jsx(mr,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Personal Information"})]}),s.jsx("button",{onClick:o,className:"px-4 py-2 rounded-lg bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 transition-colors text-sm font-medium",children:"Edit"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(mr,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Full Name"}),s.jsx("p",{className:"text-white",children:"John Doe"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($s,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),s.jsx("p",{className:"text-white",children:"john.doe@example.com"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jw,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Phone"}),s.jsx("p",{className:"text-white",children:"+1 (555) 123-4567"})]})]})]})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-blue-500/25 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/20 text-blue-400",children:s.jsx(Vs,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Service Address"})]}),s.jsx("button",{onClick:l,className:"px-4 py-2 rounded-lg bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 transition-colors text-sm font-medium",children:"Edit"})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Vs,{className:"h-4 w-4 text-gray-400 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Primary Address"}),s.jsx("p",{className:"text-white",children:"123 Main Street"}),s.jsx("p",{className:"text-white",children:"Anytown, ST 12345"})]})]})})]})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-purple-500/25 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500/20 text-purple-400",children:s.jsx(Ot,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Account Settings"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:u,className:"p-4 rounded-xl bg-black/40 hover:bg-black/60 border border-gray-500/25 hover:border-gray-400/40 transition-all duration-200 text-left",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Ot,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-white font-medium",children:"General"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Account preferences and settings"})]}),s.jsxs("button",{onClick:f,className:"p-4 rounded-xl bg-black/40 hover:bg-black/60 border border-gray-500/25 hover:border-gray-400/40 transition-all duration-200 text-left",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx($s,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-white font-medium",children:"Notifications"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Email and push notification preferences"})]}),s.jsxs("button",{onClick:d,className:"p-4 rounded-xl bg-black/40 hover:bg-black/60 border border-gray-500/25 hover:border-gray-400/40 transition-all duration-200 text-left",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(pn,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-white font-medium",children:"Privacy"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Privacy and security settings"})]})]})]})]})},upe=()=>{const e=Ae(),t=Vt(),{isMobile:r}=RN(),n=[{id:"overview",label:"Overview",icon:aa,path:"/client-dashboard/overview"},{id:"jobs",label:"Job Requests",icon:Ln,path:"/client-dashboard/jobs"},{id:"payments",label:"Payments",icon:st,path:"/client-dashboard/payments"},{id:"profile",label:"Profile",icon:mr,path:"/client-dashboard/profile"}],i=(()=>{const l=t.pathname;return l.includes("/jobs")?"jobs":l.includes("/payments")?"payments":l.includes("/profile")?"profile":"overview"})(),o=l=>{const c=n.find(u=>u.id===l);c&&e(c.path)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-[#020b06] to-black text-white",children:[s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsx(ume,{type:"client",userName:"Client",variant:"modern"})}),s.jsx("div",{className:"border-b border-emerald-500/20 sticky top-0 bg-black/80 backdrop-blur-sm z-40",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex space-x-0 overflow-x-auto scrollbar-hide",children:n.map(l=>{const c=l.icon,u=i===l.id;return s.jsxs("button",{onClick:()=>o(l.id),className:`flex items-center gap-2 px-4 sm:px-6 py-4 text-sm font-medium border-b-2 transition-all duration-200 whitespace-nowrap ${u?"border-emerald-500 text-emerald-400 bg-emerald-500/10":"border-transparent text-gray-400 hover:text-emerald-400 hover:border-emerald-500/50"}`,children:[s.jsx(c,{className:"h-4 w-4"}),s.jsx("span",{className:r?"hidden sm:inline":"",children:l.label})]},l.id)})})})}),s.jsx("div",{className:"container mx-auto min-h-[calc(100vh-200px)]",children:s.jsxs(yw,{children:[s.jsx(Z,{path:"/",element:s.jsx(T2,{})}),s.jsx(Z,{path:"/overview",element:s.jsx(T2,{})}),s.jsx(Z,{path:"/jobs",element:s.jsx(ipe,{})}),s.jsx(Z,{path:"/payments",element:s.jsx(lpe,{})}),s.jsx(Z,{path:"/profile",element:s.jsx(cpe,{})})]})}),s.jsx(dme,{userRole:"client"})]})},dpe=e=>{switch(e){case"completed":return s.jsx(xa,{className:"w-4 h-4"});case"cancelled":return s.jsx(dt,{className:"w-4 h-4"});case"in_progress":case"accepted":return s.jsx(gt,{className:"w-4 h-4"});default:return s.jsx(nt,{className:"w-4 h-4"})}},fpe=e=>{switch(e){case"completed":return"bg-green-900/30 text-green-400 border-green-500/30";case"cancelled":return"bg-red-900/30 text-red-400 border-red-500/30";case"in_progress":case"accepted":return"bg-yellow-900/30 text-yellow-400 border-yellow-500/30";default:return"bg-blue-900/30 text-blue-400 border-blue-500/30"}};function hpe(){const[e,t]=m.useState([]),[r,n]=m.useState(!0),a=Ae();m.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:{user:o}}=await P.auth.getUser();if(!o?.email){n(!1);return}const{data:l,error:c}=await P.from("jobs").select("*").eq("client_email",o.email).order("created_at",{ascending:!1});c?console.error("Error fetching job history:",c):t(l||[])}catch(o){console.error("Error:",o)}finally{n(!1)}};return s.jsxs(Un,{children:[s.jsx(Wn,{}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-[#020b06] to-black p-4 lg:p-8 text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"flex items-center gap-4 mb-6",children:s.jsxs(I,{variant:"ghost",onClick:()=>a("/client-dashboard"),className:"text-green-400 hover:text-green-300",children:[s.jsx(ps,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(C,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl ring-1 ring-green-500/20 shadow-[0_0_25px_-10px_rgba(34,197,94,0.25)]",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(nt,{className:"w-6 h-6 text-green-400"}),s.jsx("h1",{className:"text-2xl font-semibold text-green-300",children:"Service History"})]}),r?s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-gray-400",children:"Loading your service history..."})}):e.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:"No history available yet."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Your completed and past services will appear here."})]}):s.jsx("div",{className:"space-y-4",children:e.map(o=>s.jsxs("div",{className:"rounded-xl bg-black/40 border border-gray-700/50 p-4 hover:bg-black/60 transition-colors",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-1",children:o.service_name||"Landscaping Service"}),s.jsx("p",{className:"text-sm text-gray-400",children:new Date(o.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs(Y,{className:`text-xs px-3 py-1 rounded-full flex items-center gap-2 ${fpe(o.status)}`,children:[dpe(o.status),o.status.replace("_"," ").toUpperCase()]})]}),o.service_type&&s.jsxs("p",{className:"text-sm text-gray-300 mb-2",children:["Type: ",o.service_type]}),o.service_address&&s.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:["📍 ",o.service_address]}),o.price&&s.jsxs("div",{className:"text-green-400 font-semibold",children:["$",o.price.toFixed(2)]})]},o.id))})]})})]})})]})}function mpe(){const{user:e}=kt(),{toast:t}=Jn(),r=Vt(),[n,a]=m.useState(!1),[i,o]=m.useState(!1),[l,c]=m.useState({first_name:"",last_name:"",phone:"",address:"",email:e?.email||""});m.useEffect(()=>{e&&u()},[e]),m.useEffect(()=>{if(r.hash){const f=document.getElementById(r.hash.substring(1));f&&f.scrollIntoView({behavior:"smooth"})}},[r.hash]);const u=async()=>{try{const{data:f,error:h}=await P.from("profiles").select("id, first_name, last_name, email, phone, address, stripe_customer_id").eq("id",e?.id).single();if(h&&h.code!=="PGRST116")throw h;f&&c({first_name:f.first_name||"",last_name:f.last_name||"",phone:f.phone||"",address:f.address||"",email:e?.email||""})}catch(f){console.error("Error fetching profile:",f)}},d=async()=>{a(!0);try{const{error:f}=await P.from("profiles").upsert({id:e?.id,...l});if(f)throw f;t({title:"Profile updated",description:"Your profile has been saved successfully."})}catch(f){t({title:"Error",description:f.message||"Failed to update profile",variant:"destructive"})}finally{a(!1)}};return s.jsx("div",{className:"min-h-screen bg-gray-950 p-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Your Profile"}),s.jsx("p",{className:"text-gray-400",children:"Manage your account information"})]}),s.jsxs(C,{id:"name",className:"bg-gray-900/50 border-gray-800",children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2 text-white",children:[s.jsx(mr,{className:"h-5 w-5 text-emerald-400"}),"Full Name"]})}),s.jsx(T,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"first_name",className:"text-gray-300",children:"First Name"}),s.jsx(le,{id:"first_name",value:l.first_name,onChange:f=>c(h=>({...h,first_name:f.target.value})),className:"bg-gray-800 border-gray-700 text-white"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"last_name",className:"text-gray-300",children:"Last Name"}),s.jsx(le,{id:"last_name",value:l.last_name,onChange:f=>c(h=>({...h,last_name:f.target.value})),className:"bg-gray-800 border-gray-700 text-white"})]})]})})]}),s.jsxs(C,{id:"phone",className:"bg-gray-900/50 border-gray-800",children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2 text-white",children:[s.jsx(jw,{className:"h-5 w-5 text-emerald-400"}),"Phone Number"]})}),s.jsx(T,{children:s.jsx(le,{value:l.phone,onChange:f=>c(h=>({...h,phone:f.target.value})),placeholder:"(555) 123-4567",className:"bg-gray-800 border-gray-700 text-white"})})]}),s.jsxs(C,{id:"address",className:"bg-gray-900/50 border-gray-800",children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2 text-white",children:[s.jsx(Vs,{className:"h-5 w-5 text-emerald-400"}),"Service Address"]})}),s.jsx(T,{children:s.jsx(le,{value:l.address,onChange:f=>c(h=>({...h,address:f.target.value})),placeholder:"123 Main St, City, State 12345",className:"bg-gray-800 border-gray-700 text-white"})})]}),s.jsxs(C,{id:"payment",className:"bg-gray-900/50 border-gray-800",children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2 text-white",children:[s.jsx(st,{className:"h-5 w-5 text-emerald-400"}),"Payment Method"]})}),s.jsxs(T,{children:[s.jsx("p",{className:"text-gray-400 mb-4",children:"Manage your payment methods and billing information."}),s.jsx(Z$,{open:i,onOpenChange:o,onSuccess:()=>{t({title:"Payment methods updated",description:"Your payment information has been updated."})}}),s.jsx(I,{variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-800",onClick:()=>o(!0),children:"Manage Payment Methods"})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(I,{onClick:d,disabled:n,className:"bg-emerald-600 hover:bg-emerald-700 text-white px-8",children:n?"Saving...":"Save Changes"})})]})})}function ppe(){const{user:e}=kt(),t=Ae(),[r,n]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(null);m.useEffect(()=>{e&&c()},[e]);const c=async()=>{try{i(!0),l(null);const{data:g,error:v}=await P.from("payments").select("*").eq("user_id",e?.id).order("created_at",{ascending:!1});if(v)throw v;const x=(g||[]).map(y=>({id:y.id,date:y.created_at,amount:y.amount/100,status:y.status==="succeeded"?"paid":y.status==="processing"?"pending":"failed",description:y.description||"Service Payment",invoice_url:y.receipt_url||void 0}));n(x)}catch(g){console.error("Error fetching billing history:",g),l(g.message||"Failed to load billing history")}finally{i(!1)}},u=g=>{switch(g){case"paid":return"bg-emerald-500/20 text-emerald-400";case"pending":return"bg-orange-500/20 text-orange-400";case"failed":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}},d=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),f=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(g),h=()=>{const g=r.filter(x=>x.status==="paid").reduce((x,y)=>x+y.amount,0),v=r.filter(x=>x.status==="pending").reduce((x,y)=>x+y.amount,0);return{totalPaid:g,outstanding:v,count:r.length}};if(a)return s.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:s.jsx("div",{className:"text-white",children:"Loading billing history..."})});if(o)return s.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:s.jsxs("div",{className:"text-red-400",children:["Error: ",o]})});const p=h();return s.jsx("div",{className:"min-h-screen bg-gray-950 p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(I,{variant:"ghost",onClick:()=>t("/client-dashboard"),className:"text-gray-400 hover:text-white",children:[s.jsx(ps,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Billing History"}),s.jsx("p",{className:"text-gray-400",children:"View your payment history and download invoices"})]}),s.jsxs(C,{className:"bg-gray-900/50 border-gray-800",children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2 text-white",children:[s.jsx(st,{className:"h-5 w-5 text-emerald-400"}),"Payment History"]})}),s.jsx(T,{children:r.length===0?s.jsx("div",{className:"text-center py-8 text-gray-400",children:"No billing history found."}):s.jsx("div",{className:"space-y-4",children:r.map(g=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-white font-medium",children:g.description}),s.jsx(Y,{className:u(g.status),children:g.status.charAt(0).toUpperCase()+g.status.slice(1)})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:d(g.date)})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"text-white font-semibold",children:f(g.amount)})}),g.invoice_url&&s.jsxs(I,{variant:"outline",size:"sm",onClick:()=>window.open(g.invoice_url,"_blank"),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[s.jsx(Ri,{className:"h-4 w-4 mr-2"}),"Invoice"]})]})]},g.id))})})]}),s.jsx(C,{className:"bg-gray-900/50 border-gray-800",children:s.jsx(T,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:f(p.totalPaid)}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Total Paid"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-400",children:f(p.outstanding)}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Outstanding"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:p.count}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Total Invoices"})]})]})})})]})})}const gpe=()=>{const{user:e}=kt(),[t,r]=m.useState([]),[n,a]=m.useState(!0);m.useEffect(()=>{e&&i()},[e]);const i=async()=>{try{const{data:f,error:h}=await P.from("subscriptions").select("*").eq("user_id",e?.id).order("created_at",{ascending:!1});if(h)throw h;r(f||[])}catch(f){console.error("Error fetching subscriptions:",f)}finally{a(!1)}},o=async f=>{try{console.log("Pausing subscription:",f),await i()}catch(h){console.error("Error pausing subscription:",h)}},l=async f=>{try{console.log("Resuming subscription:",f),await i()}catch(h){console.error("Error resuming subscription:",h)}},c=async f=>{try{console.log("Canceling subscription:",f),await i()}catch(h){console.error("Error canceling subscription:",h)}},u=(f,h)=>{if(h)return s.jsx(Y,{variant:"destructive",children:"Canceling"});switch(f){case"active":return s.jsx(Y,{variant:"default",children:"Active"});case"paused":return s.jsx(Y,{variant:"secondary",children:"Paused"});case"canceled":return s.jsx(Y,{variant:"destructive",children:"Canceled"});default:return s.jsx(Y,{variant:"outline",children:f})}},d=(f,h)=>new Intl.NumberFormat("en-US",{style:"currency",currency:h.toUpperCase()}).format(f/100);return n?s.jsx("div",{className:"text-center py-8",children:"Loading subscriptions..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Subscription Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your recurring landscaping services"})]}),t.length===0?s.jsx(C,{children:s.jsxs(T,{className:"text-center py-8",children:[s.jsx(st,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Active Subscriptions"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have any recurring services set up yet."}),s.jsx(I,{children:"Set Up Monthly Service"})]})}):s.jsx("div",{className:"grid gap-4",children:t.map(f=>s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(L,{className:"flex items-center gap-2",children:[f.service_type," Service",u(f.status,f.cancel_at_period_end)]}),s.jsxs(Le,{children:[d(f.amount,f.currency)," per month"]})]}),s.jsxs("div",{className:"flex gap-2",children:[f.status==="active"&&!f.cancel_at_period_end&&s.jsxs(s.Fragment,{children:[s.jsx(I,{variant:"outline",size:"sm",onClick:()=>o(f.stripe_subscription_id),children:s.jsx($V,{className:"h-4 w-4"})}),s.jsx(I,{variant:"outline",size:"sm",onClick:()=>c(f.stripe_subscription_id),children:s.jsx(bs,{className:"h-4 w-4"})})]}),f.status==="paused"&&s.jsx(I,{variant:"outline",size:"sm",onClick:()=>l(f.stripe_subscription_id),children:s.jsx(YO,{className:"h-4 w-4"})})]})]})}),s.jsx(T,{children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(cr,{className:"h-4 w-4"}),"Next billing: ",new Date(f.current_period_end).toLocaleDateString()]})})]},f.id))})]})},vpe=[{id:"basic",name:"Basic Care",description:"Essential lawn maintenance",price:99,currency:"usd",interval:"month",stripePriceId:"price_basic_monthly",features:["Weekly lawn mowing","Edge trimming","Basic cleanup","Email updates"]},{id:"premium",name:"Premium Service",description:"Complete landscaping care",price:199,currency:"usd",interval:"month",stripePriceId:"price_premium_monthly",popular:!0,features:["Everything in Basic","Bi-weekly deep maintenance","Seasonal plantings","Fertilization program","Priority scheduling","Photo progress reports"]},{id:"luxury",name:"Luxury Estate",description:"Full-service luxury care",price:399,currency:"usd",interval:"month",stripePriceId:"price_luxury_monthly",features:["Everything in Premium","Weekly detailed service","Custom landscape design","Irrigation management","Pest control program","24/7 emergency support","Dedicated account manager"]}],xpe=({onSelectPlan:e})=>{const{user:t}=kt(),[r,n]=m.useState(null),a=async o=>{if(t){n(o.id);try{e(o)}catch(l){console.error("Error selecting plan:",l)}finally{n(null)}}},i=(o,l)=>new Intl.NumberFormat("en-US",{style:"currency",currency:l.toUpperCase()}).format(o);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Choose Your Plan"}),s.jsx("p",{className:"text-muted-foreground",children:"Select the perfect landscaping service for your property"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:vpe.map(o=>s.jsxs(C,{className:`relative ${o.popular?"border-primary shadow-lg scale-105":""}`,children:[o.popular&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsxs(Y,{className:"bg-primary text-primary-foreground px-3 py-1",children:[s.jsx(gs,{className:"h-3 w-3 mr-1"}),"Most Popular"]})}),s.jsxs(M,{className:"text-center",children:[s.jsx(L,{className:"text-xl",children:o.name}),s.jsx(Le,{children:o.description}),s.jsxs("div",{className:"mt-4",children:[s.jsx("span",{className:"text-3xl font-bold",children:i(o.price,o.currency)}),s.jsxs("span",{className:"text-muted-foreground",children:["/",o.interval]})]})]}),s.jsxs(T,{className:"space-y-4",children:[s.jsx("ul",{className:"space-y-2",children:o.features.map((l,c)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Ho,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:l})]},c))}),s.jsx(I,{className:"w-full",variant:o.popular?"default":"outline",onClick:()=>a(o),disabled:r===o.id,children:r===o.id?"Processing...":"Select Plan"})]})]},o.id))}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"All plans include a 30-day satisfaction guarantee"}),s.jsx("p",{children:"Cancel or modify your subscription anytime"})]})]})},ype=()=>{const[e,t]=m.useState("dashboard"),[r,n]=m.useState(null),a=c=>{n(c),t("checkout")},i=()=>{t("plans"),n(null)},o=()=>{t("dashboard"),n(null)},l=()=>{switch(e){case"plans":return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(I,{variant:"outline",size:"sm",onClick:o,children:[s.jsx(ps,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(xpe,{onSelectPlan:a})]});case"checkout":return r?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(I,{variant:"outline",size:"sm",onClick:()=>t("plans"),children:[s.jsx(ps,{className:"h-4 w-4 mr-2"}),"Back to Plans"]})}),s.jsxs(C,{className:"max-w-md mx-auto",children:[s.jsx(M,{children:s.jsx(L,{children:"Subscription Plans Available"})}),s.jsxs(T,{children:[s.jsx("p",{children:"Subscription checkout functionality will be available soon."}),s.jsx(I,{onClick:i,className:"mt-4",children:"Go Back"})]})]})]}):null;default:return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Subscription Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your recurring landscaping services"})]}),s.jsx(I,{onClick:()=>t("plans"),children:"Add New Service"})]}),s.jsx(gpe,{})]})}};return s.jsx("div",{className:"container mx-auto px-4 py-8",children:l()})};function bpe(){const[e,t]=m.useState([{id:"1",text:"Hello! How can we help you today?",sender:"support",timestamp:new Date}]),[r,n]=m.useState(""),a=Ae(),i=Vt(),o=()=>{if(!r.trim())return;const u={id:Date.now().toString(),text:r,sender:"user",timestamp:new Date};t(d=>[...d,u]),n(""),setTimeout(()=>{const d={id:(Date.now()+1).toString(),text:"Thank you for your message. Our team will respond shortly. For immediate assistance, please call (555) 123-4567.",sender:"support",timestamp:new Date};t(f=>[...f,d])},1e3)},l=u=>{u.key==="Enter"&&o()},c=async()=>{await T4(a,i.pathname)};return s.jsxs(Un,{children:[s.jsx(Wn,{}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-[#020b06] to-black p-4 lg:p-8 text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"flex items-center gap-4 mb-6",children:s.jsxs(I,{variant:"ghost",onClick:c,className:"text-green-400 hover:text-green-300",children:[s.jsx(ps,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs(C,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl ring-1 ring-green-500/20 shadow-[0_0_25px_-10px_rgba(34,197,94,0.25)] h-[600px] flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-gray-700/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(LV,{className:"w-6 h-6 text-green-400"}),s.jsx("h1",{className:"text-2xl font-semibold text-green-300",children:"Live Chat Support"})]}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"We're here to help with your landscaping needs"})]}),s.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:s.jsx("div",{className:"space-y-4",children:e.map(u=>s.jsx("div",{className:`flex ${u.sender==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${u.sender==="user"?"bg-green-600 text-white":"bg-gray-700 text-gray-100"}`,children:[s.jsx("p",{className:"text-sm",children:u.text}),s.jsx("p",{className:"text-xs opacity-70 mt-1",children:u.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},u.id))})}),s.jsxs("div",{className:"p-6 border-t border-gray-700/50",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{value:r,onChange:u=>n(u.target.value),onKeyPress:l,placeholder:"Type your message...",className:"bg-black/50 border-green-500/30 text-white flex-1"}),s.jsx(I,{onClick:o,className:"bg-green-600 hover:bg-green-500 px-4",children:s.jsx(GO,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"For immediate assistance, call (555) 123-4567"})]})]})]})})]})}async function wpe(e){try{const t=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),{data:r,error:n}=await P.from("landscapers").select("*").eq(t?"id":"email",e).single();if(n)throw n;return r}catch(t){throw console.error("Error fetching landscaper profile:",t),t}}function jpe(){const{user:e}=kt(),{stats:t,loading:r,error:n}=C$("landscaper");return r?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:Array.from({length:4},(a,i)=>s.jsxs("div",{className:"bg-black/60 backdrop-blur rounded-2xl p-6 animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-700 rounded mb-2"}),s.jsx("div",{className:"h-8 bg-gray-700 rounded mb-1"}),s.jsx("div",{className:"h-3 bg-gray-700 rounded w-3/4"})]},i))}):n?s.jsx("div",{className:"bg-red-900/20 border border-red-500/25 rounded-2xl p-6",children:s.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[s.jsx(gt,{className:"w-5 h-5"}),s.jsx("span",{children:"Failed to load dashboard stats"})]})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[s.jsx(ei,{title:"Total Earnings",value:`$${t.totalEarnings.toFixed(2)}`,subtitle:"Lifetime earnings",icon:s.jsx(Nt,{className:"w-5 h-5"}),variant:"green",trend:{value:t.monthlyEarnings>0?12:0,isPositive:!0}}),s.jsx(ei,{title:"Active Jobs",value:t.activeJobs,subtitle:"Currently working",icon:s.jsx(nt,{className:"w-5 h-5"}),variant:"blue"}),s.jsx(ei,{title:"Completed Jobs",value:t.completedJobs,subtitle:"Successfully finished",icon:s.jsx(xa,{className:"w-5 h-5"}),variant:"default",trend:{value:t.completedJobs>0?5:0,isPositive:!0}}),s.jsx(ei,{title:"Rating",value:t.rating>0?t.rating.toFixed(1):"N/A",subtitle:`${t.totalReviews} reviews`,icon:s.jsx(gs,{className:"w-5 h-5"}),variant:"yellow"})]})}const e6=({jobs:e,onJobUpdate:t})=>{const[r,n]=m.useState(e),{isConnected:a,subscribe:i}=hv();m.useEffect(()=>i("job_status_update",d=>{n(f=>f.map(h=>h.id===d.jobId?{...h,status:d.status,location:d.location,...d.status==="arrived"&&{estimatedArrival:d.timestamp},...d.status==="in_progress"&&{startTime:d.timestamp},...d.status==="completed"&&{completionTime:d.timestamp}}:h))}),[i]);const o=u=>{switch(u){case"assigned":return"bg-blue-500";case"en_route":return"bg-yellow-500";case"arrived":return"bg-orange-500";case"in_progress":return"bg-green-500";case"completed":return"bg-gray-500";default:return"bg-gray-400"}},l=u=>{switch(u){case"assigned":return"Assigned";case"en_route":return"En Route";case"arrived":return"Arrived";case"in_progress":return"In Progress";case"completed":return"Completed";default:return u}},c=u=>{if(u.status==="arrived"||u.status==="in_progress"||u.status==="completed")return null;const d=new Date;return d.setMinutes(d.getMinutes()+Math.floor(Math.random()*30)+10),d.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return s.jsxs(C,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Live Job Tracking"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-sm text-gray-400",children:a?"Connected":"Disconnected"})]})]}),s.jsx("div",{className:"space-y-4",children:r.map(u=>s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold text-white",children:u.service_name}),s.jsx(Y,{className:`${o(u.status)} text-white`,children:l(u.status)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400",children:"Landscaper"}),s.jsx("p",{className:"text-white",children:u.landscaper})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400",children:"Client"}),s.jsx("p",{className:"text-white",children:u.client})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400",children:"Address"}),s.jsx("p",{className:"text-white text-xs",children:u.service_address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400",children:u.status==="completed"?"Completed":"ETA"}),s.jsx("p",{className:"text-white",children:u.completionTime?new Date(u.completionTime).toLocaleTimeString():c(u)||"On Site"})]})]}),u.status==="in_progress"&&u.startTime&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-600",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-gray-400",children:["Started: ",new Date(u.startTime).toLocaleTimeString()]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(I,{size:"sm",variant:"outline",className:"text-xs",children:"View Live Location"}),s.jsx(I,{size:"sm",variant:"outline",className:"text-xs",children:"Contact"})]})]})})]},u.id))})]})};function Spe({landscaperId:e,email:t,businessName:r}){const n=Cc(),[a,i]=m.useState(!1),[o,l]=m.useState(""),[c,u]=m.useState(!1),[d,f]=m.useState(null),[h,p]=m.useState([{id:"identity",label:"Identity Verification",icon:Us,completed:!1},{id:"bank",label:"Bank Account",icon:d_,completed:!1},{id:"tax",label:"Tax Information",icon:st,completed:!1}]);m.useEffect(()=>{g()},[e]);const g=async()=>{try{const{data:b}=await n.from("profiles").select("stripe_connect_id, stripe_account_status").eq("id",e).single();if(b?.stripe_connect_id){f({accountId:b.stripe_connect_id,status:b.stripe_account_status||"pending",payoutsEnabled:b.stripe_account_status==="active",detailsSubmitted:b.stripe_account_status!=="pending"});const w=b.stripe_account_status==="active";p([{id:"identity",label:"Identity Verification",icon:Us,completed:w},{id:"bank",label:"Bank Account",icon:d_,completed:w},{id:"tax",label:"Tax Information",icon:st,completed:w}])}}catch(b){console.error("Error checking status:",b)}},v=async()=>{i(!0),l("");try{const{data:b,error:w}=await n.functions.invoke("create-stripe-connect-account",{body:{email:t,businessName:r,userId:e}});if(w||!b?.success)throw new Error(b?.error||"Failed to create Connect account");await n.from("profiles").update({stripe_connect_id:b.accountId,stripe_account_status:"pending"}).eq("id",e),window.location.href=b.onboardingUrl}catch(b){l(b.message),i(!1)}};if(c||d?.payoutsEnabled)return null;const x=h.filter(b=>b.completed).length,y=x/h.length*100;return s.jsxs("div",{className:"relative bg-gradient-to-br from-emerald-500/10 to-blue-500/10 border-2 border-emerald-500/30 rounded-2xl p-6 shadow-lg",children:[s.jsx("button",{onClick:()=>u(!0),className:"absolute top-4 right-4 text-emerald-300/60 hover:text-emerald-300 transition-colors",children:s.jsx(bs,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl",children:s.jsx(st,{className:"h-8 w-8 text-emerald-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-emerald-300 mb-2",children:"Complete Your Payment Setup"}),s.jsx("p",{className:"text-emerald-200/70 text-sm",children:"Connect your bank account to receive payments for completed jobs securely through Stripe."})]})]}),o&&s.jsxs(Be,{variant:"destructive",className:"mb-4",children:[s.jsx(gt,{className:"h-4 w-4"}),s.jsx(Ue,{children:o})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-emerald-300 font-medium",children:"Setup Progress"}),s.jsxs("span",{className:"text-emerald-400 font-semibold",children:[x,"/",h.length," Complete"]})]}),s.jsx("div",{className:"h-2 bg-black/40 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-blue-500 transition-all duration-500",style:{width:`${y}%`}})}),s.jsx("div",{className:"space-y-3 mt-4",children:h.map(b=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-black/30 rounded-lg",children:[s.jsx(b.icon,{className:`h-5 w-5 ${b.completed?"text-emerald-400":"text-emerald-300/50"}`}),s.jsx("span",{className:`flex-1 text-sm ${b.completed?"text-emerald-300":"text-emerald-300/70"}`,children:b.label}),b.completed?s.jsx(xa,{className:"h-5 w-5 text-emerald-400"}):s.jsx(dt,{className:"h-5 w-5 text-emerald-300/30"})]},b.id))})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-black/40 rounded-xl mb-4",children:[s.jsx("div",{className:`h-3 w-3 rounded-full ${d?.payoutsEnabled?"bg-emerald-400":"bg-yellow-400"} animate-pulse`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-emerald-300",children:"Payout Status"}),s.jsx("div",{className:"text-xs text-emerald-300/70",children:d?.payoutsEnabled?"Ready to receive payments":"Setup required to receive payments"})]})]}),s.jsx(I,{onClick:v,disabled:a,className:"w-full bg-gradient-to-r from-emerald-500 to-blue-500 hover:from-emerald-600 hover:to-blue-600 text-white font-semibold py-6 text-lg",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Bn,{className:"mr-2 h-5 w-5 animate-spin"}),"Setting up..."]}):d?.accountId?s.jsxs(s.Fragment,{children:[s.jsx(xa,{className:"mr-2 h-5 w-5"}),"Continue Setup"]}):s.jsxs(s.Fragment,{children:[s.jsx(st,{className:"mr-2 h-5 w-5"}),"Start Stripe Connect Setup"]})})]})}function hh({children:e,className:t=""}){return s.jsx("section",{className:`bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl ring-1 ring-emerald-500/20 shadow-[0_0_25px_-10px_rgba(52,211,153,0.25)] p-4 sm:p-6 lg:p-8 ${t}`,children:e})}function I2({profile:e,isAvailable:t}){const r=Cc(),[n,a]=m.useState(""),[i,o]=m.useState({totalEarnings:0,completedJobs:0,activeJobs:0,pendingPayouts:0}),[l,c]=m.useState([]),[u,d]=m.useState(!0);return m.useEffect(()=>{(async()=>{try{const{data:{user:h}}=await r.auth.getUser();if(h?.id){a(h.id);const{data:p}=await r.from("jobs").select("*").eq("landscaper_id",h.id).order("created_at",{ascending:!1}),g=p?.filter(w=>w.status==="completed")?.length??0,v=p?.filter(w=>["assigned","in_progress"].includes(w.status))?.length??0,x=p?.filter(w=>w.status==="completed")?.reduce((w,j)=>w+(j.amount??0),0)??0,{data:y}=await r.from("payouts").select("amount").eq("landscaper_id",h.id).eq("status","pending"),b=y?.reduce((w,j)=>w+(j.amount??0),0)??0;o({totalEarnings:x,completedJobs:g,activeJobs:v,pendingPayouts:b}),c(p?.slice(0,5)??[])}}catch(h){console.error("Error loading dashboard data:",h)}finally{d(!1)}})()},[r,e]),s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6",children:[n&&e?.email&&s.jsx(Spe,{landscaperId:n,email:e.email,businessName:`${e.first_name} ${e.last_name} Landscaping`}),s.jsx(hh,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-emerald-300",children:"Dashboard Overview"}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-black/40 border border-emerald-500/25 rounded-xl",children:[s.jsxs("div",{className:"text-3xl font-bold text-emerald-400",children:["$",i.totalEarnings.toFixed(2)]}),s.jsx("div",{className:"text-sm text-emerald-300/70 mt-2",children:"Total Earnings"})]}),s.jsxs("div",{className:"text-center p-4 bg-black/40 border border-emerald-500/25 rounded-xl",children:[s.jsx("div",{className:"text-3xl font-bold text-emerald-400",children:i.completedJobs}),s.jsx("div",{className:"text-sm text-emerald-300/70 mt-2",children:"Completed Jobs"})]}),s.jsxs("div",{className:"text-center p-4 bg-black/40 border border-emerald-500/25 rounded-xl",children:[s.jsx("div",{className:"text-3xl font-bold text-yellow-400",children:i.activeJobs}),s.jsx("div",{className:"text-sm text-emerald-300/70 mt-2",children:"Active Jobs"})]}),s.jsxs("div",{className:"text-center p-4 bg-black/40 border border-emerald-500/25 rounded-xl",children:[s.jsxs("div",{className:"text-3xl font-bold text-blue-400",children:["$",i.pendingPayouts.toFixed(2)]}),s.jsx("div",{className:"text-sm text-emerald-300/70 mt-2",children:"Pending Payouts"})]})]}),s.jsx("div",{className:"p-5 rounded-xl bg-black/40 border border-emerald-500/25",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-emerald-300 font-medium",children:"Current Status:"}),s.jsx("span",{className:`font-semibold ${t?"text-emerald-400":"text-gray-400"}`,children:t?"🟢 Available for Jobs":"🔴 Not Available"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(hh,{children:u?s.jsx("div",{className:"text-emerald-300/70 text-center py-8",children:"Loading jobs..."}):l.length>0?s.jsx(e6,{jobs:l}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-emerald-300/70",children:"No recent jobs found"}),s.jsx("p",{className:"text-sm text-emerald-300/50 mt-2",children:"Jobs will appear here once assigned"})]})}),s.jsx(hh,{children:s.jsx(MN,{clientId:e?.email??"landscaper"})})]}),s.jsx(hh,{children:s.jsx(jpe,{})})]})}function mh({children:e}){return s.jsx("section",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl ring-1 ring-emerald-500/20 shadow-[0_0_25px_-10px_rgba(52,211,153,0.25)] p-4 sm:p-6 lg:p-8",children:e})}function Npe(){const e=Cc();Ae();const[t,r]=m.useState([]),[n,a]=m.useState(!0),[i,o]=m.useState(null),[l,c]=m.useState("all");m.useEffect(()=>{u()},[e]);const u=async()=>{try{a(!0);const{data:{user:h}}=await e.auth.getUser();if(h?.id){const{data:p,error:g}=await e.from("jobs").select("*").or(`landscaper_id.eq.${h.id},status.eq.available`).order("created_at",{ascending:!1});if(g)throw g;r(p??[])}}catch(h){console.error("Error loading jobs:",h)}finally{a(!1)}},d=t?.filter(h=>l==="all"?!0:h?.status===l)??[],f=async(h,p)=>{try{o(h);const{data:{user:g}}=await e.auth.getUser();if(!g?.id)return;let v={};p==="accept"?v={status:"assigned",landscaper_id:g.id,accepted_at:new Date().toISOString()}:p==="decline"?v={status:"available",landscaper_id:null}:p==="complete"&&(v={status:"completed",completed_at:new Date().toISOString()});const{error:x}=await e.from("jobs").update(v).eq("id",h);if(x)throw x;await u()}catch(g){console.error(`Error performing ${p} on job:`,g),alert(`Failed to ${p} job. Please try again.`)}finally{o(null)}};return n?s.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:s.jsx(mh,{children:s.jsx("div",{className:"text-emerald-300/70 text-center py-8",children:"Loading jobs..."})})}):s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6",children:[s.jsx(mh,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-emerald-300",children:"Job Management"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"All Jobs"},{key:"available",label:"Available"},{key:"assigned",label:"Assigned"},{key:"in_progress",label:"In Progress"},{key:"completed",label:"Completed"}].map(h=>s.jsx("button",{onClick:()=>c(h.key),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${l===h.key?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/50 shadow-lg shadow-emerald-500/20":"bg-black/40 text-emerald-300/70 border border-emerald-500/25 hover:bg-black/60"}`,children:h.label},h.key))})]})}),s.jsx(mh,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-emerald-300",children:[l==="all"?"All Jobs":`${l.charAt(0).toUpperCase()+l.slice(1).replace("_"," ")} Jobs`,"(",d?.length??0,")"]}),d?.length===0?s.jsxs("div",{className:"text-center py-12 text-emerald-300/70",children:[s.jsx("p",{children:"No jobs found for the selected filter."}),s.jsx("p",{className:"text-sm text-emerald-300/50 mt-2",children:"Check back later for new opportunities"})]}):s.jsx("div",{className:"space-y-4",children:d?.map(h=>s.jsx("div",{className:"bg-black/40 border border-emerald-500/25 rounded-xl p-5",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("h4",{className:"text-lg font-semibold text-emerald-300",children:h?.service_type??"Service Request"}),s.jsx("p",{className:"text-sm text-emerald-300/70",children:h?.service_address??h?.property_address??"No address"}),s.jsx("p",{className:"text-sm text-emerald-300/60",children:h?.description??h?.notes??"No description"}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm pt-2",children:[s.jsxs("span",{className:"text-emerald-400 font-semibold",children:["$",h?.price?.toFixed(2)??h?.amount?.toFixed(2)??"0.00"]}),s.jsx("span",{className:`px-2 py-1 rounded-lg font-medium ${h?.status==="completed"?"bg-green-500/20 text-green-300":h?.status==="in_progress"?"bg-blue-500/20 text-blue-300":h?.status==="assigned"?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300"}`,children:h?.status?.replace("_"," ")??"pending"})]})]}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[h?.status==="available"&&s.jsx(s.Fragment,{children:s.jsx("button",{onClick:()=>f(h.id,"accept"),disabled:i===h.id,className:"px-4 py-2 bg-emerald-500/20 text-emerald-200 border border-emerald-500/50 rounded-xl hover:bg-emerald-500/30 transition-all duration-200 text-sm font-medium disabled:opacity-50",children:i===h.id?"Processing...":"Accept"})}),(h?.status==="assigned"||h?.status==="in_progress")&&s.jsx("button",{onClick:()=>f(h.id,"complete"),disabled:i===h.id,className:"px-4 py-2 bg-blue-500/20 text-blue-200 border border-blue-500/50 rounded-xl hover:bg-blue-500/30 transition-all duration-200 text-sm font-medium disabled:opacity-50",children:i===h.id?"Processing...":"Mark Complete"})]})]})},h?.id))??[]})]})}),d?.length>0&&s.jsx(mh,{children:s.jsx(e6,{jobs:d?.slice(0,5)??[]})})]})}function _pe(e,t,r="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:r}).format(t).split(/\s/g).slice(2).join(" ")}const Epe={},Su={};function po(e,t){try{const n=(Epe[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return n in Su?Su[n]:R2(n,n.split(":"))}catch{if(e in Su)return Su[e];const r=e?.match(kpe);return r?R2(e,r.slice(1)):NaN}}const kpe=/([+-]\d\d):?(\d\d)?/;function R2(e,t){const r=+(t[0]||0),n=+(t[1]||0),a=+(t[2]||0)/60;return Su[e]=r*60+n>0?r*60+n+a:r*60-n-a}class Ms extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(po(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),t6(this),xb(this)):this.setTime(Date.now())}static tz(t,...r){return r.length?new Ms(...r,t):new Ms(Date.now(),t)}withTimeZone(t){return new Ms(+this,t)}getTimezoneOffset(){const t=-po(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),xb(this),+this}[Symbol.for("constructDateFrom")](t){return new Ms(+new Date(t),this.timeZone)}}const M2=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!M2.test(e))return;const t=e.replace(M2,"$1UTC");Ms.prototype[t]&&(e.startsWith("get")?Ms.prototype[e]=function(){return this.internal[t]()}:(Ms.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Ppe(this),+this},Ms.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),xb(this),+this}))});function xb(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-po(e.timeZone,e)*60))}function Ppe(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),t6(e)}function t6(e){const t=po(e.timeZone,e),r=t>0?Math.floor(t):Math.ceil(t),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const a=-new Date(+e).getTimezoneOffset(),i=-new Date(+n).getTimezoneOffset(),o=a-i,l=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();o&&l&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+o);const c=a-r;c&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+c);const u=new Date(+e);u.setUTCSeconds(0);const d=a>0?u.getSeconds():(u.getSeconds()-60)%60,f=Math.round(-(po(e.timeZone,e)*60))%60;(f||d)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+f),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+f+d));const h=po(e.timeZone,e),p=h>0?Math.floor(h):Math.ceil(h),v=-new Date(+e).getTimezoneOffset()-p,x=p!==r,y=v-c;if(x&&y){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+y);const b=po(e.timeZone,e),w=b>0?Math.floor(b):Math.ceil(b),j=p-w;j&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+j),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+j))}}class Nr extends Ms{static tz(t,...r){return r.length?new Nr(...r,t):new Nr(Date.now(),t)}toISOString(){const[t,r,n]=this.tzComponents(),a=`${t}${r}:${n}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,r,n,a]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${n} ${r} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[r,n,a]=this.tzComponents();return`${t} GMT${r}${n}${a} (${_pe(this.timeZone,this)})`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),r=t>0?"-":"+",n=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[r,n,a]}withTimeZone(t){return new Nr(+this,t)}[Symbol.for("constructDateFrom")](t){return new Nr(+new Date(t),this.timeZone)}}const r6=6048e5,Cpe=864e5,D2=Symbol.for("constructDateFrom");function Ut(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&D2 in e?e[D2](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ye(e,t){return Ut(t||e,e)}function n6(e,t,r){const n=Ye(e,r?.in);return isNaN(t)?Ut(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function s6(e,t,r){const n=Ye(e,r?.in);if(isNaN(t))return Ut(e,NaN);if(!t)return n;const a=n.getDate(),i=Ut(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return a>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}let Ape={};function af(){return Ape}function vc(e,t){const r=af(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Ye(e,t?.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function _d(e,t){return vc(e,{...t,weekStartsOn:1})}function a6(e,t){const r=Ye(e,t?.in),n=r.getFullYear(),a=Ut(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=_d(a),o=Ut(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=_d(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function L2(e){const t=Ye(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Wc(e,...t){const r=Ut.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Ed(e,t){const r=Ye(e,t?.in);return r.setHours(0,0,0,0),r}function i6(e,t,r){const[n,a]=Wc(r?.in,e,t),i=Ed(n),o=Ed(a),l=+i-L2(i),c=+o-L2(o);return Math.round((l-c)/Cpe)}function Ope(e,t){const r=a6(e,t),n=Ut(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),_d(n)}function Tpe(e,t,r){return n6(e,t*7,r)}function Ipe(e,t,r){return s6(e,t*12,r)}function Rpe(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Ut.bind(null,a));const i=Ye(a,n);(!r||r<i||isNaN(+i))&&(r=i)}),Ut(n,r||NaN)}function Mpe(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Ut.bind(null,a));const i=Ye(a,n);(!r||r>i||isNaN(+i))&&(r=i)}),Ut(n,r||NaN)}function Dpe(e,t,r){const[n,a]=Wc(r?.in,e,t);return+Ed(n)==+Ed(a)}function o6(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Lpe(e){return!(!o6(e)&&typeof e!="number"||isNaN(+Ye(e)))}function $pe(e,t,r){const[n,a]=Wc(r?.in,e,t),i=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return i*12+o}function Fpe(e,t){const r=Ye(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function l6(e,t){const[r,n]=Wc(e,t.start,t.end);return{start:r,end:n}}function Bpe(e,t){const{start:r,end:n}=l6(t?.in,e);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0),o.setDate(1);let l=1;const c=[];for(;+o<=i;)c.push(Ut(r,o)),o.setMonth(o.getMonth()+l);return a?c.reverse():c}function Upe(e,t){const r=Ye(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Vpe(e,t){const r=Ye(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function c6(e,t){const r=Ye(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function zpe(e,t){const{start:r,end:n}=l6(t?.in,e);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0),o.setMonth(0,1);let l=1;const c=[];for(;+o<=i;)c.push(Ut(r,o)),o.setFullYear(o.getFullYear()+l);return a?c.reverse():c}function u6(e,t){const r=af(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Ye(e,t?.in),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function Wpe(e,t){return u6(e,{...t,weekStartsOn:1})}const qpe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Kpe=(e,t,r)=>{let n;const a=qpe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function $x(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Hpe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ype={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gpe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jpe={date:$x({formats:Hpe,defaultWidth:"full"}),time:$x({formats:Ype,defaultWidth:"full"}),dateTime:$x({formats:Gpe,defaultWidth:"full"})},Xpe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Qpe=(e,t,r,n)=>Xpe[e];function fu(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Zpe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ege={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rge={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},age=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ige={ordinalNumber:age,era:fu({values:Zpe,defaultWidth:"wide"}),quarter:fu({values:ege,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fu({values:tge,defaultWidth:"wide"}),day:fu({values:rge,defaultWidth:"wide"}),dayPeriod:fu({values:nge,defaultWidth:"wide",formattingValues:sge,defaultFormattingWidth:"wide"})};function hu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?lge(l,f=>f.test(o)):oge(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function oge(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function lge(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function cge(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const uge=/^(\d+)(th|st|nd|rd)?/i,dge=/\d+/i,fge={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hge={any:[/^b/i,/^(a|c)/i]},mge={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pge={any:[/1/i,/2/i,/3/i,/4/i]},gge={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vge={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xge={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yge={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bge={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wge={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jge={ordinalNumber:cge({matchPattern:uge,parsePattern:dge,valueCallback:e=>parseInt(e,10)}),era:hu({matchPatterns:fge,defaultMatchWidth:"wide",parsePatterns:hge,defaultParseWidth:"any"}),quarter:hu({matchPatterns:mge,defaultMatchWidth:"wide",parsePatterns:pge,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hu({matchPatterns:gge,defaultMatchWidth:"wide",parsePatterns:vge,defaultParseWidth:"any"}),day:hu({matchPatterns:xge,defaultMatchWidth:"wide",parsePatterns:yge,defaultParseWidth:"any"}),dayPeriod:hu({matchPatterns:bge,defaultMatchWidth:"any",parsePatterns:wge,defaultParseWidth:"any"})},DN={code:"en-US",formatDistance:Kpe,formatLong:Jpe,formatRelative:Qpe,localize:ige,match:jge,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Sge(e,t){const r=Ye(e,t?.in);return i6(r,c6(r))+1}function d6(e,t){const r=Ye(e,t?.in),n=+_d(r)-+Ope(r);return Math.round(n/r6)+1}function f6(e,t){const r=Ye(e,t?.in),n=r.getFullYear(),a=af(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=Ut(t?.in||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=vc(o,t),c=Ut(t?.in||e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=vc(c,t);return+r>=+l?n+1:+r>=+u?n:n-1}function Nge(e,t){const r=af(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=f6(e,t),i=Ut(t?.in||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),vc(i,t)}function h6(e,t){const r=Ye(e,t?.in),n=+vc(r,t)-+Nge(r,t);return Math.round(n/r6)+1}function We(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const $a={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return We(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):We(r+1,2)},d(e,t){return We(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return We(e.getHours()%12||12,t.length)},H(e,t){return We(e.getHours(),t.length)},m(e,t){return We(e.getMinutes(),t.length)},s(e,t){return We(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return We(a,t.length)}},hl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$2={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return $a.y(e,t)},Y:function(e,t,r,n){const a=f6(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return We(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):We(i,t.length)},R:function(e,t){const r=a6(e);return We(r,t.length)},u:function(e,t){const r=e.getFullYear();return We(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return We(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return We(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return $a.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return We(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=h6(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):We(a,t.length)},I:function(e,t,r){const n=d6(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):We(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):$a.d(e,t)},D:function(e,t,r){const n=Sge(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):We(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return We(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return We(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return We(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=hl.noon:n===0?a=hl.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=hl.evening:n>=12?a=hl.afternoon:n>=4?a=hl.morning:a=hl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return $a.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):$a.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):We(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):We(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):$a.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):$a.s(e,t)},S:function(e,t){return $a.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return B2(n);case"XXXX":case"XX":return so(n);case"XXXXX":case"XXX":default:return so(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return B2(n);case"xxxx":case"xx":return so(n);case"xxxxx":case"xxx":default:return so(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+F2(n,":");case"OOOO":default:return"GMT"+so(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+F2(n,":");case"zzzz":default:return"GMT"+so(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return We(n,t.length)},T:function(e,t,r){return We(+e,t.length)}};function F2(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+We(i,2)}function B2(e,t){return e%60===0?(e>0?"-":"+")+We(Math.abs(e)/60,2):so(e,t)}function so(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=We(Math.trunc(n/60),2),i=We(n%60,2);return r+a+t+i}const U2=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},m6=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},_ge=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return U2(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",U2(n,t)).replace("{{time}}",m6(a,t))},Ege={p:m6,P:_ge},kge=/^D+$/,Pge=/^Y+$/,Cge=["D","DD","YY","YYYY"];function Age(e){return kge.test(e)}function Oge(e){return Pge.test(e)}function Tge(e,t,r){const n=Ige(e,t,r);if(console.warn(n),Cge.includes(e))throw new RangeError(n)}function Ige(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Rge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dge=/^'([^]*?)'?$/,Lge=/''/g,$ge=/[a-zA-Z]/;function Fge(e,t,r){const n=af(),a=r?.locale??n.locale??DN,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Ye(e,r?.in);if(!Lpe(l))throw new RangeError("Invalid time value");let c=t.match(Mge).map(d=>{const f=d[0];if(f==="p"||f==="P"){const h=Ege[f];return h(d,a.formatLong)}return d}).join("").match(Rge).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:Bge(d)};if($2[f])return{isToken:!0,value:d};if(f.match($ge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(!r?.useAdditionalWeekYearTokens&&Oge(f)||!r?.useAdditionalDayOfYearTokens&&Age(f))&&Tge(f,t,String(e));const h=$2[f[0]];return h(l,f,a.localize,u)}).join("")}function Bge(e){const t=e.match(Dge);return t?t[1].replace(Lge,"'"):e}function Uge(e,t){const r=Ye(e,t?.in),n=r.getFullYear(),a=r.getMonth(),i=Ut(r,0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function Vge(e,t){return Ye(e,t?.in).getMonth()}function zge(e,t){return Ye(e,t?.in).getFullYear()}function Wge(e,t){return+Ye(e)>+Ye(t)}function qge(e,t){return+Ye(e)<+Ye(t)}function Kge(e,t,r){const[n,a]=Wc(r?.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function Hge(e,t,r){const[n,a]=Wc(r?.in,e,t);return n.getFullYear()===a.getFullYear()}function Yge(e,t,r){const n=Ye(e,r?.in),a=n.getFullYear(),i=n.getDate(),o=Ut(e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const l=Uge(o);return n.setMonth(t,Math.min(i,l)),n}function Gge(e,t,r){const n=Ye(e,r?.in);return isNaN(+n)?Ut(e,NaN):(n.setFullYear(t),n)}const V2=5,Jge=4;function Xge(e,t){const r=t.startOfMonth(e),n=r.getDay()>0?r.getDay():7,a=t.addDays(e,-n+1),i=t.addDays(a,V2*7-1);return t.getMonth(e)===t.getMonth(i)?V2:Jge}function p6(e,t){const r=t.startOfMonth(e),n=r.getDay();return n===1?r:n===0?t.addDays(r,-1*6):t.addDays(r,-1*(n-1))}function Qge(e,t){const r=p6(e,t),n=Xge(e,t);return t.addDays(r,n*7-1)}class xn{constructor(t,r){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Nr.tz(this.options.timeZone):new this.Date,this.newDate=(n,a,i)=>this.overrides?.newDate?this.overrides.newDate(n,a,i):this.options.timeZone?new Nr(n,a,i,this.options.timeZone):new Date(n,a,i),this.addDays=(n,a)=>this.overrides?.addDays?this.overrides.addDays(n,a):n6(n,a),this.addMonths=(n,a)=>this.overrides?.addMonths?this.overrides.addMonths(n,a):s6(n,a),this.addWeeks=(n,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(n,a):Tpe(n,a),this.addYears=(n,a)=>this.overrides?.addYears?this.overrides.addYears(n,a):Ipe(n,a),this.differenceInCalendarDays=(n,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,a):i6(n,a),this.differenceInCalendarMonths=(n,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,a):$pe(n,a),this.eachMonthOfInterval=n=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):Bpe(n),this.eachYearOfInterval=n=>{const a=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(n):zpe(n),i=new Set(a.map(l=>this.getYear(l)));if(i.size===a.length)return a;const o=[];return i.forEach(l=>{o.push(new Date(l,0,1))}),o},this.endOfBroadcastWeek=n=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n):Qge(n,this),this.endOfISOWeek=n=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(n):Wpe(n),this.endOfMonth=n=>this.overrides?.endOfMonth?this.overrides.endOfMonth(n):Fpe(n),this.endOfWeek=(n,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(n,a):u6(n,this.options),this.endOfYear=n=>this.overrides?.endOfYear?this.overrides.endOfYear(n):Vpe(n),this.format=(n,a,i)=>{const o=this.overrides?.format?this.overrides.format(n,a,this.options):Fge(n,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=n=>this.overrides?.getISOWeek?this.overrides.getISOWeek(n):d6(n),this.getMonth=(n,a)=>this.overrides?.getMonth?this.overrides.getMonth(n,this.options):Vge(n,this.options),this.getYear=(n,a)=>this.overrides?.getYear?this.overrides.getYear(n,this.options):zge(n,this.options),this.getWeek=(n,a)=>this.overrides?.getWeek?this.overrides.getWeek(n,this.options):h6(n,this.options),this.isAfter=(n,a)=>this.overrides?.isAfter?this.overrides.isAfter(n,a):Wge(n,a),this.isBefore=(n,a)=>this.overrides?.isBefore?this.overrides.isBefore(n,a):qge(n,a),this.isDate=n=>this.overrides?.isDate?this.overrides.isDate(n):o6(n),this.isSameDay=(n,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(n,a):Dpe(n,a),this.isSameMonth=(n,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(n,a):Kge(n,a),this.isSameYear=(n,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(n,a):Hge(n,a),this.max=n=>this.overrides?.max?this.overrides.max(n):Rpe(n),this.min=n=>this.overrides?.min?this.overrides.min(n):Mpe(n),this.setMonth=(n,a)=>this.overrides?.setMonth?this.overrides.setMonth(n,a):Yge(n,a),this.setYear=(n,a)=>this.overrides?.setYear?this.overrides.setYear(n,a):Gge(n,a),this.startOfBroadcastWeek=(n,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):p6(n,this),this.startOfDay=n=>this.overrides?.startOfDay?this.overrides.startOfDay(n):Ed(n),this.startOfISOWeek=n=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(n):_d(n),this.startOfMonth=n=>this.overrides?.startOfMonth?this.overrides.startOfMonth(n):Upe(n),this.startOfWeek=(n,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(n,this.options):vc(n,this.options),this.startOfYear=n=>this.overrides?.startOfYear?this.overrides.startOfYear(n):c6(n),this.options={locale:DN,...t},this.overrides=r}getDigitMap(){const{numerals:t="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:t}),n={};for(let a=0;a<10;a++)n[a.toString()]=r.format(a);return n}replaceDigits(t){const r=this.getDigitMap();return t.replace(/\d/g,n=>r[n]||n)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&xn.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:r,timeZone:n,numerals:a}=this.options,i=r?.code;if(i&&xn.yearFirstLocales.has(i))try{return new Intl.DateTimeFormat(i,{month:"long",year:"numeric",timeZone:n,numberingSystem:a}).format(t)}catch{}const o=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,o)}}xn.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Gs=new xn;class g6{constructor(t,r,n=Gs){this.date=t,this.displayMonth=r,this.outside=!!(r&&!n.isSameMonth(t,r)),this.dateLib=n}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Zge{constructor(t,r){this.date=t,this.weeks=r}}class eve{constructor(t,r){this.days=r,this.weekNumber=t}}function tve(e){return z.createElement("button",{...e})}function rve(e){return z.createElement("span",{...e})}function nve(e){const{size:t=24,orientation:r="left",className:n}=e;return z.createElement("svg",{className:n,width:t,height:t,viewBox:"0 0 24 24"},r==="up"&&z.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&z.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&z.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&z.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function sve(e){const{day:t,modifiers:r,...n}=e;return z.createElement("td",{...n})}function ave(e){const{day:t,modifiers:r,...n}=e,a=z.useRef(null);return z.useEffect(()=>{r.focused&&a.current?.focus()},[r.focused]),z.createElement("button",{ref:a,...n})}var pe;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(pe||(pe={}));var jt;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(jt||(jt={}));var ds;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(ds||(ds={}));var rn;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(rn||(rn={}));function ive(e){const{options:t,className:r,components:n,classNames:a,...i}=e,o=[a[pe.Dropdown],r].join(" "),l=t?.find(({value:c})=>c===i.value);return z.createElement("span",{"data-disabled":i.disabled,className:a[pe.DropdownRoot]},z.createElement(n.Select,{className:o,...i},t?.map(({value:c,label:u,disabled:d})=>z.createElement(n.Option,{key:c,value:c,disabled:d},u))),z.createElement("span",{className:a[pe.CaptionLabel],"aria-hidden":!0},l?.label,z.createElement(n.Chevron,{orientation:"down",size:18,className:a[pe.Chevron]})))}function ove(e){return z.createElement("div",{...e})}function lve(e){return z.createElement("div",{...e})}function cve(e){const{calendarMonth:t,displayIndex:r,...n}=e;return z.createElement("div",{...n},e.children)}function uve(e){const{calendarMonth:t,displayIndex:r,...n}=e;return z.createElement("div",{...n})}function dve(e){return z.createElement("table",{...e})}function fve(e){return z.createElement("div",{...e})}const v6=m.createContext(void 0);function of(){const e=m.useContext(v6);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function hve(e){const{components:t}=of();return z.createElement(t.Dropdown,{...e})}function mve(e){const{onPreviousClick:t,onNextClick:r,previousMonth:n,nextMonth:a,...i}=e,{components:o,classNames:l,labels:{labelPrevious:c,labelNext:u}}=of(),d=m.useCallback(h=>{a&&r?.(h)},[a,r]),f=m.useCallback(h=>{n&&t?.(h)},[n,t]);return z.createElement("nav",{...i},z.createElement(o.PreviousMonthButton,{type:"button",className:l[pe.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":c(n),onClick:f},z.createElement(o.Chevron,{disabled:n?void 0:!0,className:l[pe.Chevron],orientation:"left"})),z.createElement(o.NextMonthButton,{type:"button",className:l[pe.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":u(a),onClick:d},z.createElement(o.Chevron,{disabled:a?void 0:!0,orientation:"right",className:l[pe.Chevron]})))}function pve(e){const{components:t}=of();return z.createElement(t.Button,{...e})}function gve(e){return z.createElement("option",{...e})}function vve(e){const{components:t}=of();return z.createElement(t.Button,{...e})}function xve(e){const{rootRef:t,...r}=e;return z.createElement("div",{...r,ref:t})}function yve(e){return z.createElement("select",{...e})}function bve(e){const{week:t,...r}=e;return z.createElement("tr",{...r})}function wve(e){return z.createElement("th",{...e})}function jve(e){return z.createElement("thead",{"aria-hidden":!0},z.createElement("tr",{...e}))}function Sve(e){const{week:t,...r}=e;return z.createElement("th",{...r})}function Nve(e){return z.createElement("th",{...e})}function _ve(e){return z.createElement("tbody",{...e})}function Eve(e){const{components:t}=of();return z.createElement(t.Dropdown,{...e})}const kve=Object.freeze(Object.defineProperty({__proto__:null,Button:tve,CaptionLabel:rve,Chevron:nve,Day:sve,DayButton:ave,Dropdown:ive,DropdownNav:ove,Footer:lve,Month:cve,MonthCaption:uve,MonthGrid:dve,Months:fve,MonthsDropdown:hve,Nav:mve,NextMonthButton:pve,Option:gve,PreviousMonthButton:vve,Root:xve,Select:yve,Week:bve,WeekNumber:Sve,WeekNumberHeader:Nve,Weekday:wve,Weekdays:jve,Weeks:_ve,YearsDropdown:Eve},Symbol.toStringTag,{value:"Module"}));function la(e,t,r=!1,n=Gs){let{from:a,to:i}=e;const{differenceInCalendarDays:o,isSameDay:l}=n;return a&&i?(o(i,a)<0&&([a,i]=[i,a]),o(t,a)>=(r?1:0)&&o(i,t)>=(r?1:0)):!r&&i?l(i,t):!r&&a?l(a,t):!1}function x6(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function LN(e){return!!(e&&typeof e=="object"&&"from"in e)}function y6(e){return!!(e&&typeof e=="object"&&"after"in e)}function b6(e){return!!(e&&typeof e=="object"&&"before"in e)}function w6(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function j6(e,t){return Array.isArray(e)&&e.every(t.isDate)}function ca(e,t,r=Gs){const n=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:i,isAfter:o}=r;return n.some(l=>{if(typeof l=="boolean")return l;if(r.isDate(l))return a(e,l);if(j6(l,r))return l.includes(e);if(LN(l))return la(l,e,!1,r);if(w6(l))return Array.isArray(l.dayOfWeek)?l.dayOfWeek.includes(e.getDay()):l.dayOfWeek===e.getDay();if(x6(l)){const c=i(l.before,e),u=i(l.after,e),d=c>0,f=u<0;return o(l.before,l.after)?f&&d:d||f}return y6(l)?i(e,l.after)>0:b6(l)?i(l.before,e)>0:typeof l=="function"?l(e):!1})}function Pve(e,t,r,n,a){const{disabled:i,hidden:o,modifiers:l,showOutsideDays:c,broadcastCalendar:u,today:d}=t,{isSameDay:f,isSameMonth:h,startOfMonth:p,isBefore:g,endOfMonth:v,isAfter:x}=a,y=r&&p(r),b=n&&v(n),w={[jt.focused]:[],[jt.outside]:[],[jt.disabled]:[],[jt.hidden]:[],[jt.today]:[]},j={};for(const S of e){const{date:N,displayMonth:_}=S,E=!!(_&&!h(N,_)),k=!!(y&&g(N,y)),A=!!(b&&x(N,b)),R=!!(i&&ca(N,i,a)),D=!!(o&&ca(N,o,a))||k||A||!u&&!c&&E||u&&c===!1&&E,F=f(N,d??a.today());E&&w.outside.push(S),R&&w.disabled.push(S),D&&w.hidden.push(S),F&&w.today.push(S),l&&Object.keys(l).forEach(W=>{const K=l?.[W];K&&ca(N,K,a)&&(j[W]?j[W].push(S):j[W]=[S])})}return S=>{const N={[jt.focused]:!1,[jt.disabled]:!1,[jt.hidden]:!1,[jt.outside]:!1,[jt.today]:!1},_={};for(const E in w){const k=w[E];N[E]=k.some(A=>A===S)}for(const E in j)_[E]=j[E].some(k=>k===S);return{...N,..._}}}function Cve(e,t,r={}){return Object.entries(e).filter(([,a])=>a===!0).reduce((a,[i])=>(r[i]?a.push(r[i]):t[jt[i]]?a.push(t[jt[i]]):t[ds[i]]&&a.push(t[ds[i]]),a),[t[pe.Day]])}function Ave(e){return{...kve,...e}}function Ove(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([r,n])=>{r.startsWith("data-")&&(t[r]=n)}),t}function Tve(){const e={};for(const t in pe)e[pe[t]]=`rdp-${pe[t]}`;for(const t in jt)e[jt[t]]=`rdp-${jt[t]}`;for(const t in ds)e[ds[t]]=`rdp-${ds[t]}`;for(const t in rn)e[rn[t]]=`rdp-${rn[t]}`;return e}function S6(e,t,r){return(r??new xn(t)).formatMonthYear(e)}const Ive=S6;function Rve(e,t,r){return(r??new xn(t)).format(e,"d")}function Mve(e,t=Gs){return t.format(e,"LLLL")}function Dve(e,t,r){return(r??new xn(t)).format(e,"cccccc")}function Lve(e,t=Gs){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function $ve(){return""}function N6(e,t=Gs){return t.format(e,"yyyy")}const Fve=N6,Bve=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:S6,formatDay:Rve,formatMonthCaption:Ive,formatMonthDropdown:Mve,formatWeekNumber:Lve,formatWeekNumberHeader:$ve,formatWeekdayName:Dve,formatYearCaption:Fve,formatYearDropdown:N6},Symbol.toStringTag,{value:"Module"}));function Uve(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...Bve,...e}}function Vve(e,t,r,n,a){const{startOfMonth:i,startOfYear:o,endOfYear:l,eachMonthOfInterval:c,getMonth:u}=a;return c({start:o(e),end:l(e)}).map(h=>{const p=n.formatMonthDropdown(h,a),g=u(h),v=t&&h<i(t)||r&&h>i(r)||!1;return{value:g,label:p,disabled:v}})}function zve(e,t={},r={}){let n={...t?.[pe.Day]};return Object.entries(e).filter(([,a])=>a===!0).forEach(([a])=>{n={...n,...r?.[a]}}),n}function Wve(e,t,r){const n=e.today(),a=t?e.startOfISOWeek(n):e.startOfWeek(n),i=[];for(let o=0;o<7;o++){const l=e.addDays(a,o);i.push(l)}return i}function qve(e,t,r,n,a=!1){if(!e||!t)return;const{startOfYear:i,endOfYear:o,eachYearOfInterval:l,getYear:c}=n,u=i(e),d=o(t),f=l({start:u,end:d});return a&&f.reverse(),f.map(h=>{const p=r.formatYearDropdown(h,n);return{value:c(h),label:p,disabled:!1}})}function _6(e,t,r,n){let a=(n??new xn(r)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const Kve=_6;function E6(e,t,r){return(r??new xn(t)).formatMonthYear(e)}const Hve=E6;function Yve(e,t,r,n){let a=(n??new xn(r)).format(e,"PPPP");return t?.today&&(a=`Today, ${a}`),a}function Gve(e){return"Choose the Month"}function Jve(){return""}function Xve(e){return"Go to the Next Month"}function Qve(e){return"Go to the Previous Month"}function Zve(e,t,r){return(r??new xn(t)).format(e,"cccc")}function exe(e,t){return`Week ${e}`}function txe(e){return"Week Number"}function rxe(e){return"Choose the Year"}const nxe=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Hve,labelDay:Kve,labelDayButton:_6,labelGrid:E6,labelGridcell:Yve,labelMonthDropdown:Gve,labelNav:Jve,labelNext:Xve,labelPrevious:Qve,labelWeekNumber:exe,labelWeekNumberHeader:txe,labelWeekday:Zve,labelYearDropdown:rxe},Symbol.toStringTag,{value:"Module"})),lf=e=>e instanceof HTMLElement?e:null,Fx=e=>[...e.querySelectorAll("[data-animated-month]")??[]],sxe=e=>lf(e.querySelector("[data-animated-month]")),Bx=e=>lf(e.querySelector("[data-animated-caption]")),Ux=e=>lf(e.querySelector("[data-animated-weeks]")),axe=e=>lf(e.querySelector("[data-animated-nav]")),ixe=e=>lf(e.querySelector("[data-animated-weekdays]"));function oxe(e,t,{classNames:r,months:n,focused:a,dateLib:i}){const o=m.useRef(null),l=m.useRef(n),c=m.useRef(!1);m.useLayoutEffect(()=>{const u=l.current;if(l.current=n,!t||!e.current||!(e.current instanceof HTMLElement)||n.length===0||u.length===0||n.length!==u.length)return;const d=i.isSameMonth(n[0].date,u[0].date),f=i.isAfter(n[0].date,u[0].date),h=f?r[rn.caption_after_enter]:r[rn.caption_before_enter],p=f?r[rn.weeks_after_enter]:r[rn.weeks_before_enter],g=o.current,v=e.current.cloneNode(!0);if(v instanceof HTMLElement?(Fx(v).forEach(w=>{if(!(w instanceof HTMLElement))return;const j=sxe(w);j&&w.contains(j)&&w.removeChild(j);const S=Bx(w);S&&S.classList.remove(h);const N=Ux(w);N&&N.classList.remove(p)}),o.current=v):o.current=null,c.current||d||a)return;const x=g instanceof HTMLElement?Fx(g):[],y=Fx(e.current);if(y?.every(b=>b instanceof HTMLElement)&&x&&x.every(b=>b instanceof HTMLElement)){c.current=!0,e.current.style.isolation="isolate";const b=axe(e.current);b&&(b.style.zIndex="1"),y.forEach((w,j)=>{const S=x[j];if(!S)return;w.style.position="relative",w.style.overflow="hidden";const N=Bx(w);N&&N.classList.add(h);const _=Ux(w);_&&_.classList.add(p);const E=()=>{c.current=!1,e.current&&(e.current.style.isolation=""),b&&(b.style.zIndex=""),N&&N.classList.remove(h),_&&_.classList.remove(p),w.style.position="",w.style.overflow="",w.contains(S)&&w.removeChild(S)};S.style.pointerEvents="none",S.style.position="absolute",S.style.overflow="hidden",S.setAttribute("aria-hidden","true");const k=ixe(S);k&&(k.style.opacity="0");const A=Bx(S);A&&(A.classList.add(f?r[rn.caption_before_exit]:r[rn.caption_after_exit]),A.addEventListener("animationend",E));const R=Ux(S);R&&R.classList.add(f?r[rn.weeks_before_exit]:r[rn.weeks_after_exit]),w.insertBefore(S,w.firstChild)})}})}function lxe(e,t,r,n){const a=e[0],i=e[e.length-1],{ISOWeek:o,fixedWeeks:l,broadcastCalendar:c}=r??{},{addDays:u,differenceInCalendarDays:d,differenceInCalendarMonths:f,endOfBroadcastWeek:h,endOfISOWeek:p,endOfMonth:g,endOfWeek:v,isAfter:x,startOfBroadcastWeek:y,startOfISOWeek:b,startOfWeek:w}=n,j=c?y(a,n):o?b(a):w(a),S=c?h(i):o?p(g(i)):v(g(i)),N=d(S,j),_=f(i,a)+1,E=[];for(let R=0;R<=N;R++){const D=u(j,R);if(t&&x(D,t))break;E.push(D)}const A=(c?35:42)*_;if(l&&E.length<A){const R=A-E.length;for(let D=0;D<R;D++){const F=u(E[E.length-1],1);E.push(F)}}return E}function cxe(e){const t=[];return e.reduce((r,n)=>{const a=n.weeks.reduce((i,o)=>i.concat(o.days.slice()),t.slice());return r.concat(a.slice())},t.slice())}function uxe(e,t,r,n){const{numberOfMonths:a=1}=r,i=[];for(let o=0;o<a;o++){const l=n.addMonths(e,o);if(t&&l>t)break;i.push(l)}return i}function z2(e,t,r,n){const{month:a,defaultMonth:i,today:o=n.today(),numberOfMonths:l=1}=e;let c=a||i||o;const{differenceInCalendarMonths:u,addMonths:d,startOfMonth:f}=n;if(r&&u(r,c)<l-1){const h=-1*(l-1);c=d(r,h)}return t&&u(c,t)<0&&(c=t),f(c)}function dxe(e,t,r,n){const{addDays:a,endOfBroadcastWeek:i,endOfISOWeek:o,endOfMonth:l,endOfWeek:c,getISOWeek:u,getWeek:d,startOfBroadcastWeek:f,startOfISOWeek:h,startOfWeek:p}=n,g=e.reduce((v,x)=>{const y=r.broadcastCalendar?f(x,n):r.ISOWeek?h(x):p(x),b=r.broadcastCalendar?i(x):r.ISOWeek?o(l(x)):c(l(x)),w=t.filter(_=>_>=y&&_<=b),j=r.broadcastCalendar?35:42;if(r.fixedWeeks&&w.length<j){const _=t.filter(E=>{const k=j-w.length;return E>b&&E<=a(b,k)});w.push(..._)}const S=w.reduce((_,E)=>{const k=r.ISOWeek?u(E):d(E),A=_.find(D=>D.weekNumber===k),R=new g6(E,x,n);return A?A.days.push(R):_.push(new eve(k,[R])),_},[]),N=new Zge(x,S);return v.push(N),v},[]);return r.reverseMonths?g.reverse():g}function fxe(e,t){let{startMonth:r,endMonth:n}=e;const{startOfYear:a,startOfDay:i,startOfMonth:o,endOfMonth:l,addYears:c,endOfYear:u,newDate:d,today:f}=t,{fromYear:h,toYear:p,fromMonth:g,toMonth:v}=e;!r&&g&&(r=g),!r&&h&&(r=t.newDate(h,0,1)),!n&&v&&(n=v),!n&&p&&(n=d(p,11,31));const x=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return r?r=o(r):h?r=d(h,0,1):!r&&x&&(r=a(c(e.today??f(),-100))),n?n=l(n):p?n=d(p,11,31):!n&&x&&(n=u(e.today??f())),[r&&i(r),n&&i(n)]}function hxe(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i=1}=r,{startOfMonth:o,addMonths:l,differenceInCalendarMonths:c}=n,u=a?i:1,d=o(e);if(!t)return l(d,u);if(!(c(t,e)<i))return l(d,u)}function mxe(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i}=r,{startOfMonth:o,addMonths:l,differenceInCalendarMonths:c}=n,u=a?i??1:1,d=o(e);if(!t)return l(d,-u);if(!(c(d,t)<=0))return l(d,-u)}function pxe(e){const t=[];return e.reduce((r,n)=>r.concat(n.weeks.slice()),t.slice())}function pv(e,t){const[r,n]=m.useState(e);return[t===void 0?r:t,n]}function gxe(e,t){const[r,n]=fxe(e,t),{startOfMonth:a,endOfMonth:i}=t,o=z2(e,r,n,t),[l,c]=pv(o,e.month?o:void 0);m.useEffect(()=>{const N=z2(e,r,n,t);c(N)},[e.timeZone]);const u=uxe(l,n,e,t),d=lxe(u,e.endMonth?i(e.endMonth):void 0,e,t),f=dxe(u,d,e,t),h=pxe(f),p=cxe(f),g=mxe(l,r,e,t),v=hxe(l,n,e,t),{disableNavigation:x,onMonthChange:y}=e,b=N=>h.some(_=>_.days.some(E=>E.isEqualTo(N))),w=N=>{if(x)return;let _=a(N);r&&_<a(r)&&(_=a(r)),n&&_>a(n)&&(_=a(n)),c(_),y?.(_)};return{months:f,weeks:h,days:p,navStart:r,navEnd:n,previousMonth:g,nextMonth:v,goToMonth:w,goToDay:N=>{b(N)||w(N.date)}}}var Es;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Es||(Es={}));function W2(e){return!e[jt.disabled]&&!e[jt.hidden]&&!e[jt.outside]}function vxe(e,t,r,n){let a,i=-1;for(const o of e){const l=t(o);W2(l)&&(l[jt.focused]&&i<Es.FocusedModifier?(a=o,i=Es.FocusedModifier):n?.isEqualTo(o)&&i<Es.LastFocused?(a=o,i=Es.LastFocused):r(o.date)&&i<Es.Selected?(a=o,i=Es.Selected):l[jt.today]&&i<Es.Today&&(a=o,i=Es.Today))}return a||(a=e.find(o=>W2(t(o)))),a}function xxe(e,t,r,n,a,i,o){const{ISOWeek:l,broadcastCalendar:c}=i,{addDays:u,addMonths:d,addWeeks:f,addYears:h,endOfBroadcastWeek:p,endOfISOWeek:g,endOfWeek:v,max:x,min:y,startOfBroadcastWeek:b,startOfISOWeek:w,startOfWeek:j}=o;let N={day:u,week:f,month:d,year:h,startOfWeek:_=>c?b(_,o):l?w(_):j(_),endOfWeek:_=>c?p(_):l?g(_):v(_)}[e](r,t==="after"?1:-1);return t==="before"&&n?N=x([n,N]):t==="after"&&a&&(N=y([a,N])),N}function k6(e,t,r,n,a,i,o,l=0){if(l>365)return;const c=xxe(e,t,r.date,n,a,i,o),u=!!(i.disabled&&ca(c,i.disabled,o)),d=!!(i.hidden&&ca(c,i.hidden,o)),f=c,h=new g6(c,f,o);return!u&&!d?h:k6(e,t,h,n,a,i,o,l+1)}function yxe(e,t,r,n,a){const{autoFocus:i}=e,[o,l]=m.useState(),c=vxe(t.days,r,n||(()=>!1),o),[u,d]=m.useState(i?c:void 0);return{isFocusTarget:v=>!!c?.isEqualTo(v),setFocused:d,focused:u,blur:()=>{l(u),d(void 0)},moveFocus:(v,x)=>{if(!u)return;const y=k6(v,x,u,t.navStart,t.navEnd,e,a);y&&(e.disableNavigation&&!t.days.some(w=>w.isEqualTo(y))||(t.goToDay(y),d(y)))}}}function bxe(e,t){const{selected:r,required:n,onSelect:a}=e,[i,o]=pv(r,a?r:void 0),l=a?r:i,{isSameDay:c}=t,u=p=>l?.some(g=>c(g,p))??!1,{min:d,max:f}=e;return{selected:l,select:(p,g,v)=>{let x=[...l??[]];if(u(p)){if(l?.length===d||n&&l?.length===1)return;x=l?.filter(y=>!c(y,p))}else l?.length===f?x=[p]:x=[...x,p];return a||o(x),a?.(x,p,g,v),x},isSelected:u}}function wxe(e,t,r=0,n=0,a=!1,i=Gs){const{from:o,to:l}=t||{},{isSameDay:c,isAfter:u,isBefore:d}=i;let f;if(!o&&!l)f={from:e,to:r>0?void 0:e};else if(o&&!l)c(o,e)?r===0?f={from:o,to:e}:a?f={from:o,to:void 0}:f=void 0:d(e,o)?f={from:e,to:o}:f={from:o,to:e};else if(o&&l)if(c(o,e)&&c(l,e))a?f={from:o,to:l}:f=void 0;else if(c(o,e))f={from:o,to:r>0?void 0:e};else if(c(l,e))f={from:e,to:r>0?void 0:e};else if(d(e,o))f={from:e,to:l};else if(u(e,o))f={from:o,to:e};else if(u(e,l))f={from:o,to:e};else throw new Error("Invalid range");if(f?.from&&f?.to){const h=i.differenceInCalendarDays(f.to,f.from);n>0&&h>n?f={from:e,to:void 0}:r>1&&h<r&&(f={from:e,to:void 0})}return f}function jxe(e,t,r=Gs){const n=Array.isArray(t)?t:[t];let a=e.from;const i=r.differenceInCalendarDays(e.to,e.from),o=Math.min(i,6);for(let l=0;l<=o;l++){if(n.includes(a.getDay()))return!0;a=r.addDays(a,1)}return!1}function q2(e,t,r=Gs){return la(e,t.from,!1,r)||la(e,t.to,!1,r)||la(t,e.from,!1,r)||la(t,e.to,!1,r)}function Sxe(e,t,r=Gs){const n=Array.isArray(t)?t:[t];if(n.filter(l=>typeof l!="function").some(l=>typeof l=="boolean"?l:r.isDate(l)?la(e,l,!1,r):j6(l,r)?l.some(c=>la(e,c,!1,r)):LN(l)?l.from&&l.to?q2(e,{from:l.from,to:l.to},r):!1:w6(l)?jxe(e,l.dayOfWeek,r):x6(l)?r.isAfter(l.before,l.after)?q2(e,{from:r.addDays(l.after,1),to:r.addDays(l.before,-1)},r):ca(e.from,l,r)||ca(e.to,l,r):y6(l)||b6(l)?ca(e.from,l,r)||ca(e.to,l,r):!1))return!0;const o=n.filter(l=>typeof l=="function");if(o.length){let l=e.from;const c=r.differenceInCalendarDays(e.to,e.from);for(let u=0;u<=c;u++){if(o.some(d=>d(l)))return!0;l=r.addDays(l,1)}}return!1}function Nxe(e,t){const{disabled:r,excludeDisabled:n,selected:a,required:i,onSelect:o}=e,[l,c]=pv(a,o?a:void 0),u=o?a:l;return{selected:u,select:(h,p,g)=>{const{min:v,max:x}=e,y=h?wxe(h,u,v,x,i,t):void 0;return n&&r&&y?.from&&y.to&&Sxe({from:y.from,to:y.to},r,t)&&(y.from=h,y.to=void 0),o||c(y),o?.(y,h,p,g),y},isSelected:h=>u&&la(u,h,!1,t)}}function _xe(e,t){const{selected:r,required:n,onSelect:a}=e,[i,o]=pv(r,a?r:void 0),l=a?r:i,{isSameDay:c}=t;return{selected:l,select:(f,h,p)=>{let g=f;return!n&&l&&l&&c(f,l)&&(g=void 0),a||o(g),a?.(g,f,h,p),g},isSelected:f=>l?c(l,f):!1}}function Exe(e,t){const r=_xe(e,t),n=bxe(e,t),a=Nxe(e,t);switch(e.mode){case"single":return r;case"multiple":return n;case"range":return a;default:return}}function kxe(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new Nr(t.today,t.timeZone)),t.month&&(t.month=new Nr(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new Nr(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new Nr(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new Nr(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new Nr(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(Pe=>new Nr(Pe,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new Nr(t.selected.from,t.timeZone):void 0,to:t.selected.to?new Nr(t.selected.to,t.timeZone):void 0}));const{components:r,formatters:n,labels:a,dateLib:i,locale:o,classNames:l}=m.useMemo(()=>{const Pe={...DN,...t.locale};return{dateLib:new xn({locale:Pe,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:Ave(t.components),formatters:Uve(t.formatters),labels:{...nxe,...t.labels},locale:Pe,classNames:{...Tve(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:c,mode:u,navLayout:d,numberOfMonths:f=1,onDayBlur:h,onDayClick:p,onDayFocus:g,onDayKeyDown:v,onDayMouseEnter:x,onDayMouseLeave:y,onNextClick:b,onPrevClick:w,showWeekNumber:j,styles:S}=t,{formatCaption:N,formatDay:_,formatMonthDropdown:E,formatWeekNumber:k,formatWeekNumberHeader:A,formatWeekdayName:R,formatYearDropdown:D}=n,F=gxe(t,i),{days:W,months:K,navStart:H,navEnd:q,previousMonth:O,nextMonth:V,goToMonth:J}=F,he=Pve(W,t,H,q,i),{isSelected:be,select:_e,selected:je}=Exe(t,i)??{},{blur:Oe,focused:ot,isFocusTarget:Q,moveFocus:De,setFocused:B}=yxe(t,F,he,be??(()=>!1),i),{labelDayButton:ee,labelGridcell:oe,labelGrid:U,labelMonthDropdown:Ve,labelNav:ke,labelPrevious:qt,labelNext:Kt,labelWeekday:Gr,labelWeekNumber:uf,labelWeekNumberHeader:W6,labelYearDropdown:q6}=a,K6=m.useMemo(()=>Wve(i,t.ISOWeek),[i,t.ISOWeek]),FN=u!==void 0||p!==void 0,vv=m.useCallback(()=>{O&&(J(O),w?.(O))},[O,J,w]),xv=m.useCallback(()=>{V&&(J(V),b?.(V))},[J,V,b]),H6=m.useCallback((Pe,ft)=>Se=>{Se.preventDefault(),Se.stopPropagation(),B(Pe),_e?.(Pe.date,ft,Se),p?.(Pe.date,ft,Se)},[_e,p,B]),Y6=m.useCallback((Pe,ft)=>Se=>{B(Pe),g?.(Pe.date,ft,Se)},[g,B]),G6=m.useCallback((Pe,ft)=>Se=>{Oe(),h?.(Pe.date,ft,Se)},[Oe,h]),J6=m.useCallback((Pe,ft)=>Se=>{const Qe={ArrowLeft:[Se.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[Se.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[Se.shiftKey?"year":"week","after"],ArrowUp:[Se.shiftKey?"year":"week","before"],PageUp:[Se.shiftKey?"year":"month","before"],PageDown:[Se.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Qe[Se.key]){Se.preventDefault(),Se.stopPropagation();const[Jr,Fe]=Qe[Se.key];De(Jr,Fe)}v?.(Pe.date,ft,Se)},[De,v,t.dir]),X6=m.useCallback((Pe,ft)=>Se=>{x?.(Pe.date,ft,Se)},[x]),Q6=m.useCallback((Pe,ft)=>Se=>{y?.(Pe.date,ft,Se)},[y]),Z6=m.useCallback(Pe=>ft=>{const Se=Number(ft.target.value),Qe=i.setMonth(i.startOfMonth(Pe),Se);J(Qe)},[i,J]),eF=m.useCallback(Pe=>ft=>{const Se=Number(ft.target.value),Qe=i.setYear(i.startOfMonth(Pe),Se);J(Qe)},[i,J]),{className:tF,style:rF}=m.useMemo(()=>({className:[l[pe.Root],t.className].filter(Boolean).join(" "),style:{...S?.[pe.Root],...t.style}}),[l,t.className,t.style,S]),nF=Ove(t),BN=m.useRef(null);oxe(BN,!!t.animate,{classNames:l,months:K,focused:ot,dateLib:i});const sF={dayPickerProps:t,selected:je,select:_e,isSelected:be,months:K,nextMonth:V,previousMonth:O,goToMonth:J,getModifiers:he,components:r,classNames:l,styles:S,labels:a,formatters:n};return z.createElement(v6.Provider,{value:sF},z.createElement(r.Root,{rootRef:t.animate?BN:void 0,className:tF,style:rF,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...nF},z.createElement(r.Months,{className:l[pe.Months],style:S?.[pe.Months]},!t.hideNavigation&&!d&&z.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:l[pe.Nav],style:S?.[pe.Nav],"aria-label":ke(),onPreviousClick:vv,onNextClick:xv,previousMonth:O,nextMonth:V}),K.map((Pe,ft)=>z.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:l[pe.Month],style:S?.[pe.Month],key:ft,displayIndex:ft,calendarMonth:Pe},d==="around"&&!t.hideNavigation&&ft===0&&z.createElement(r.PreviousMonthButton,{type:"button",className:l[pe.PreviousMonthButton],tabIndex:O?void 0:-1,"aria-disabled":O?void 0:!0,"aria-label":qt(O),onClick:vv,"data-animated-button":t.animate?"true":void 0},z.createElement(r.Chevron,{disabled:O?void 0:!0,className:l[pe.Chevron],orientation:t.dir==="rtl"?"right":"left"})),z.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:l[pe.MonthCaption],style:S?.[pe.MonthCaption],calendarMonth:Pe,displayIndex:ft},c?.startsWith("dropdown")?z.createElement(r.DropdownNav,{className:l[pe.Dropdowns],style:S?.[pe.Dropdowns]},(()=>{const Se=c==="dropdown"||c==="dropdown-months"?z.createElement(r.MonthsDropdown,{key:"month",className:l[pe.MonthsDropdown],"aria-label":Ve(),classNames:l,components:r,disabled:!!t.disableNavigation,onChange:Z6(Pe.date),options:Vve(Pe.date,H,q,n,i),style:S?.[pe.Dropdown],value:i.getMonth(Pe.date)}):z.createElement("span",{key:"month"},E(Pe.date,i)),Qe=c==="dropdown"||c==="dropdown-years"?z.createElement(r.YearsDropdown,{key:"year",className:l[pe.YearsDropdown],"aria-label":q6(i.options),classNames:l,components:r,disabled:!!t.disableNavigation,onChange:eF(Pe.date),options:qve(H,q,n,i,!!t.reverseYears),style:S?.[pe.Dropdown],value:i.getYear(Pe.date)}):z.createElement("span",{key:"year"},D(Pe.date,i));return i.getMonthYearOrder()==="year-first"?[Qe,Se]:[Se,Qe]})(),z.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},N(Pe.date,i.options,i))):z.createElement(r.CaptionLabel,{className:l[pe.CaptionLabel],role:"status","aria-live":"polite"},N(Pe.date,i.options,i))),d==="around"&&!t.hideNavigation&&ft===f-1&&z.createElement(r.NextMonthButton,{type:"button",className:l[pe.NextMonthButton],tabIndex:V?void 0:-1,"aria-disabled":V?void 0:!0,"aria-label":Kt(V),onClick:xv,"data-animated-button":t.animate?"true":void 0},z.createElement(r.Chevron,{disabled:V?void 0:!0,className:l[pe.Chevron],orientation:t.dir==="rtl"?"left":"right"})),ft===f-1&&d==="after"&&!t.hideNavigation&&z.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:l[pe.Nav],style:S?.[pe.Nav],"aria-label":ke(),onPreviousClick:vv,onNextClick:xv,previousMonth:O,nextMonth:V}),z.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":u==="multiple"||u==="range","aria-label":U(Pe.date,i.options,i)||void 0,className:l[pe.MonthGrid],style:S?.[pe.MonthGrid]},!t.hideWeekdays&&z.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:l[pe.Weekdays],style:S?.[pe.Weekdays]},j&&z.createElement(r.WeekNumberHeader,{"aria-label":W6(i.options),className:l[pe.WeekNumberHeader],style:S?.[pe.WeekNumberHeader],scope:"col"},A()),K6.map(Se=>z.createElement(r.Weekday,{"aria-label":Gr(Se,i.options,i),className:l[pe.Weekday],key:String(Se),style:S?.[pe.Weekday],scope:"col"},R(Se,i.options,i)))),z.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:l[pe.Weeks],style:S?.[pe.Weeks]},Pe.weeks.map(Se=>z.createElement(r.Week,{className:l[pe.Week],key:Se.weekNumber,style:S?.[pe.Week],week:Se},j&&z.createElement(r.WeekNumber,{week:Se,style:S?.[pe.WeekNumber],"aria-label":uf(Se.weekNumber,{locale:o}),className:l[pe.WeekNumber],scope:"row",role:"rowheader"},k(Se.weekNumber,i)),Se.days.map(Qe=>{const{date:Jr}=Qe,Fe=he(Qe);if(Fe[jt.focused]=!Fe.hidden&&!!ot?.isEqualTo(Qe),Fe[ds.selected]=be?.(Jr)||Fe.selected,LN(je)){const{from:yv,to:bv}=je;Fe[ds.range_start]=!!(yv&&bv&&i.isSameDay(Jr,yv)),Fe[ds.range_end]=!!(yv&&bv&&i.isSameDay(Jr,bv)),Fe[ds.range_middle]=la(je,Jr,!0,i)}const aF=zve(Fe,S,t.modifiersStyles),iF=Cve(Fe,l,t.modifiersClassNames),oF=!FN&&!Fe.hidden?oe(Jr,Fe,i.options,i):void 0;return z.createElement(r.Day,{key:`${i.format(Jr,"yyyy-MM-dd")}_${i.format(Qe.displayMonth,"yyyy-MM")}`,day:Qe,modifiers:Fe,className:iF.join(" "),style:aF,role:"gridcell","aria-selected":Fe.selected||void 0,"aria-label":oF,"data-day":i.format(Jr,"yyyy-MM-dd"),"data-month":Qe.outside?i.format(Jr,"yyyy-MM"):void 0,"data-selected":Fe.selected||void 0,"data-disabled":Fe.disabled||void 0,"data-hidden":Fe.hidden||void 0,"data-outside":Qe.outside||void 0,"data-focused":Fe.focused||void 0,"data-today":Fe.today||void 0},!Fe.hidden&&FN?z.createElement(r.DayButton,{className:l[pe.DayButton],style:S?.[pe.DayButton],type:"button",day:Qe,modifiers:Fe,disabled:Fe.disabled||void 0,tabIndex:Q(Qe)?0:-1,"aria-label":ee(Jr,Fe,i.options,i),onClick:H6(Qe,Fe),onBlur:G6(Qe,Fe),onFocus:Y6(Qe,Fe),onKeyDown:J6(Qe,Fe),onMouseEnter:X6(Qe,Fe),onMouseLeave:Q6(Qe,Fe)},_(Jr,i.options,i)):!Fe.hidden&&_(Qe.date,i.options,i))})))))))),t.footer&&z.createElement(r.Footer,{className:l[pe.Footer],style:S?.[pe.Footer],role:"status","aria-live":"polite"},t.footer)))}function P6({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(kxe,{showOutsideDays:r,className:ue("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium text-foreground",nav:"space-x-1 flex items-center",nav_button:ue(W0({variant:"outline",size:"sm"}),"h-7 w-7 bg-transparent p-0 opacity-70 hover:opacity-100 transition-opacity"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ue(W0({variant:"ghost",size:"sm"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100 hover:text-accent-foreground"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground rounded-md transition-colors",day_today:"bg-accent/50 text-accent-foreground rounded-md",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/30 aria-selected:text-muted-foreground aria-selected:opacity-40",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent/60 aria-selected:text-accent-foreground rounded-none",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(OV,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(WO,{className:"h-4 w-4"})},...n})}P6.displayName="Calendar";var gv="Popover",[C6]=Yn(gv,[tg]),cf=tg(),[Pxe,Hi]=C6(gv),A6=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=cf(t),c=m.useRef(null),[u,d]=m.useState(!1),[f,h]=yi({prop:n,defaultProp:a??!1,onChange:i,caller:gv});return s.jsx(nI,{...l,children:s.jsx(Pxe,{scope:t,contentId:da(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:o,children:r})})};A6.displayName=gv;var O6="PopoverAnchor",Cxe=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Hi(O6,r),i=cf(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return m.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(tj,{...i,...n,ref:t})});Cxe.displayName=O6;var T6="PopoverTrigger",I6=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Hi(T6,r),i=cf(r),o=Te(t,a.triggerRef),l=s.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":$6(a.open),...n,ref:o,onClick:ye(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(tj,{asChild:!0,...i,children:l})});I6.displayName=T6;var $N="PopoverPortal",[Axe,Oxe]=C6($N,{forceMount:void 0}),R6=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Hi($N,t);return s.jsx(Axe,{scope:t,forceMount:r,children:s.jsx(Gn,{present:r||i.open,children:s.jsx(rg,{asChild:!0,container:a,children:n})})})};R6.displayName=$N;var xc="PopoverContent",M6=m.forwardRef((e,t)=>{const r=Oxe(xc,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Hi(xc,e.__scopePopover);return s.jsx(Gn,{present:n||i.open,children:i.modal?s.jsx(Ixe,{...a,ref:t}):s.jsx(Rxe,{...a,ref:t})})});M6.displayName=xc;var Txe=Co("PopoverContent.RemoveScroll"),Ixe=m.forwardRef((e,t)=>{const r=Hi(xc,e.__scopePopover),n=m.useRef(null),a=Te(t,n),i=m.useRef(!1);return m.useEffect(()=>{const o=n.current;if(o)return rj(o)},[]),s.jsx(sg,{as:Txe,allowPinchZoom:!0,children:s.jsx(D6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ye(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Rxe=m.forwardRef((e,t)=>{const r=Hi(xc,e.__scopePopover),n=m.useRef(!1),a=m.useRef(!1);return s.jsx(D6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),D6=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Hi(xc,r),p=cf(r);return Kw(),s.jsx(Jp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Gp,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(sI,{"data-state":$6(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),L6="PopoverClose",Mxe=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Hi(L6,r);return s.jsx(xe.button,{type:"button",...n,ref:t,onClick:ye(e.onClick,()=>a.onOpenChange(!1))})});Mxe.displayName=L6;var Dxe="PopoverArrow",Lxe=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=cf(r);return s.jsx(aI,{...a,...n,ref:t})});Lxe.displayName=Dxe;function $6(e){return e?"open":"closed"}var $xe=A6,Fxe=I6,Bxe=R6,F6=M6;const Uxe=$xe,Vxe=Fxe,B6=m.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(Bxe,{children:s.jsx(F6,{ref:a,align:t,sideOffset:r,className:ue("z-50 w-72 rounded-md border border-border/40 bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 duration-200",e),...n})}));B6.displayName=F6.displayName;function zxe({payoutId:e,onSuccess:t,onCancel:r}){const[n,a]=m.useState(""),[i,o]=m.useState(""),[l,c]=m.useState([]),[u,d]=m.useState(!1),[f,h]=m.useState(""),p=v=>{v.target.files&&c(Array.from(v.target.files))},g=async v=>{v.preventDefault(),d(!0),h("");try{const x=[];for(const w of l){const j=`${Date.now()}-${w.name}`,{data:S,error:N}=await P.storage.from("landscaper-documents").upload(`dispute-evidence/${j}`,w);if(N)throw N;const{data:{publicUrl:_}}=P.storage.from("landscaper-documents").getPublicUrl(S.path);x.push(_)}const{data:y,error:b}=await P.functions.invoke("submit-payout-dispute",{body:{payoutId:e,disputeReason:n,disputeDetails:i,evidenceUrls:x}});if(b)throw b;t()}catch(x){h(x.message)}finally{d(!1)}};return s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Dispute Reason"}),s.jsxs(pr,{value:n,onValueChange:a,required:!0,children:[s.jsx(ar,{children:s.jsx(gr,{placeholder:"Select reason"})}),s.jsxs(ir,{children:[s.jsx(ae,{value:"incorrect_amount",children:"Incorrect Amount"}),s.jsx(ae,{value:"payout_failed",children:"Payout Failed"}),s.jsx(ae,{value:"missing_payout",children:"Missing Payout"}),s.jsx(ae,{value:"account_issue",children:"Account Issue"}),s.jsx(ae,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Details"}),s.jsx(ka,{value:i,onChange:v=>o(v.target.value),placeholder:"Provide detailed information about the dispute...",rows:4,required:!0})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Evidence (Optional)"}),s.jsxs("div",{className:"border-2 border-dashed rounded-lg p-4",children:[s.jsx("input",{type:"file",multiple:!0,onChange:p,className:"hidden",id:"evidence-upload",accept:"image/*,.pdf"}),s.jsxs("label",{htmlFor:"evidence-upload",className:"cursor-pointer flex items-center gap-2",children:[s.jsx(QO,{className:"h-5 w-5"}),s.jsx("span",{children:l.length>0?`${l.length} file(s) selected`:"Upload evidence"})]})]})]}),f&&s.jsxs(Be,{variant:"destructive",children:[s.jsx(gt,{className:"h-4 w-4"}),s.jsx(Ue,{children:f})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(I,{type:"submit",disabled:u,children:u?"Submitting...":"Submit Dispute"}),s.jsx(I,{type:"button",variant:"outline",onClick:r,children:"Cancel"})]})]})}function U6(){const[e,t]=m.useState([]),[r,n]=m.useState(null),[a,i]=m.useState(0),[o,l]=m.useState(!0),[c,u]=m.useState("all"),[d,f]=m.useState({});m.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:{user:v}}=await P.auth.getUser();if(!v)return;const{data:x}=await P.from("landscapers").select("id").eq("user_id",v.id).single();if(!x)return;let y=P.from("payouts").select("*").eq("landscaper_id",x.id).order("created_at",{ascending:!1});c!=="all"&&(y=y.eq("status",c)),d.from&&(y=y.gte("payout_date",d.from.toISOString())),d.to&&(y=y.lte("payout_date",d.to.toISOString()));const{data:b}=await y;t(b||[]);const{data:w}=await P.from("payout_schedules").select("*").eq("landscaper_id",x.id).single();n(w);const{data:j}=await P.from("jobs").select("total_amount").eq("landscaper_id",x.id).eq("status","completed").eq("payment_status","paid").is("payout_id",null),S=j?.reduce((N,_)=>N+_.total_amount*.9,0)||0;i(S)}catch(v){console.error("Error loading payout data:",v)}finally{l(!1)}},p=()=>{const v=[["Date","Amount","Status","Arrival Date","Jobs","Stripe ID"].join(","),...e.map(w=>[Cn(new Date(w.payout_date),"yyyy-MM-dd"),w.amount.toFixed(2),w.status,w.arrival_date?Cn(new Date(w.arrival_date),"yyyy-MM-dd"):"",w.job_ids.length,w.stripe_payout_id||""].join(","))].join(`
`),x=new Blob([v],{type:"text/csv"}),y=window.URL.createObjectURL(x),b=document.createElement("a");b.href=y,b.download=`payouts-${Cn(new Date,"yyyy-MM-dd")}.csv`,b.click()},g=v=>{const x={paid:{variant:"default",icon:Ne,color:"text-green-500"},processing:{variant:"secondary",icon:nt,color:"text-blue-500"},pending:{variant:"outline",icon:nt,color:"text-yellow-500"},failed:{variant:"destructive",icon:dt,color:"text-red-500"}},y=x[v]||x.pending,b=y.icon;return s.jsxs(Y,{variant:y.variant,className:"flex items-center gap-1",children:[s.jsx(b,{className:`h-3 w-3 ${y.color}`}),v.charAt(0).toUpperCase()+v.slice(1)]})};return o?s.jsx("div",{className:"flex items-center justify-center p-8",children:"Loading..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Pending Earnings"}),s.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(T,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",a.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:r&&`Min. payout: $${r.minimum_payout}`})]})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Next Payout"}),s.jsx(cr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(T,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r?.next_payout_date?Cn(new Date(r.next_payout_date),"MMM dd"):"Not scheduled"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:r?.schedule_type||"No schedule set"})]})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium",children:"Total Paid Out"}),s.jsx(Ne,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(T,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",e.filter(v=>v.status==="paid").reduce((v,x)=>v+x.amount,0).toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.filter(v=>v.status==="paid").length," payouts"]})]})]})]}),s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(L,{children:"Payout History"}),s.jsx(Le,{children:"View and export your payout history"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(I,{variant:"outline",size:"sm",onClick:p,children:[s.jsx(Ri,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsxs(I,{variant:"outline",size:"sm",children:[s.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]})}),s.jsxs(T,{children:[s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsxs(pr,{value:c,onValueChange:u,children:[s.jsx(ar,{className:"w-[180px]",children:s.jsx(gr,{placeholder:"Filter by status"})}),s.jsxs(ir,{children:[s.jsx(ae,{value:"all",children:"All Status"}),s.jsx(ae,{value:"paid",children:"Paid"}),s.jsx(ae,{value:"processing",children:"Processing"}),s.jsx(ae,{value:"pending",children:"Pending"}),s.jsx(ae,{value:"failed",children:"Failed"})]})]}),s.jsxs(Uxe,{children:[s.jsx(Vxe,{asChild:!0,children:s.jsxs(I,{variant:"outline",size:"sm",children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),d.from?Cn(d.from,"MMM dd"):"Date range"]})}),s.jsx(B6,{className:"w-auto p-0",align:"start",children:s.jsx(P6,{mode:"range",selected:{from:d.from,to:d.to},onSelect:v=>f(v||{})})})]}),(c!=="all"||d.from)&&s.jsx(I,{variant:"ghost",size:"sm",onClick:()=>{u("all"),f({}),h()},children:"Clear filters"})]}),s.jsxs("div",{className:"space-y-4",children:[e.map(v=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-lg font-semibold",children:["$",v.amount.toFixed(2)]}),g(v.status)]}),s.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[Cn(new Date(v.payout_date),"MMM dd, yyyy"),v.arrival_date&&` • Arrives ${Cn(new Date(v.arrival_date),"MMM dd")}`,` • ${v.job_ids.length} jobs`]}),v.failure_message&&s.jsx("div",{className:"text-sm text-red-500 mt-1",children:v.failure_message})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[(v.status==="failed"||v.status==="pending")&&s.jsxs(Jo,{children:[s.jsx(wR,{asChild:!0,children:s.jsxs(I,{variant:"outline",size:"sm",children:[s.jsx(it,{className:"h-4 w-4 mr-2"}),"Dispute"]})}),s.jsxs(Fi,{children:[s.jsx(Bi,{children:s.jsx(Ui,{children:"Submit Payout Dispute"})}),s.jsx(zxe,{payoutId:v.id,onSuccess:()=>{h()},onCancel:()=>{}})]})]}),v.stripe_payout_id&&s.jsxs("code",{className:"text-xs",children:[v.stripe_payout_id.slice(0,20),"..."]})]})]},v.id)),e.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No payouts found"})]})]})]})]})}function ph({children:e}){return s.jsx("section",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl ring-1 ring-emerald-500/20 shadow-[0_0_25px_-10px_rgba(52,211,153,0.25)] p-4 sm:p-6 lg:p-8",children:e})}function Wxe(){const e=Cc(),[t,r]=m.useState([]),[n,a]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState("month");m.useEffect(()=>{u()},[e]);const u=async()=>{try{o(!0);const{data:{user:g}}=await e.auth.getUser();if(g?.id){const{data:v,error:x}=await e.from("jobs").select("*").eq("landscaper_id",g.id).eq("status","completed").order("completed_at",{ascending:!1});if(x)throw x;const y=v?.map(j=>({id:j.id,jobId:j.id,jobTitle:j.service_type||"Service",amount:j.price||j.amount||0,status:j.payout_status||"pending_payout",completedDate:j.completed_at||j.updated_at,client:j.customer_name||"Client",payoutDate:j.payout_date}))??[],{data:b,error:w}=await e.from("payouts").select("*").eq("landscaper_id",g.id).order("created_at",{ascending:!1});if(w)throw w;r(y),a(b??[])}}catch(g){console.error("Error loading earnings data:",g)}finally{o(!1)}},d=t?.filter(g=>{if(!g?.completedDate)return!1;const v=new Date(g.completedDate),x=new Date;switch(l){case"week":return x.getTime()-v.getTime()<=7*24*60*60*1e3;case"month":return x.getTime()-v.getTime()<=30*24*60*60*1e3;case"year":return x.getTime()-v.getTime()<=365*24*60*60*1e3;default:return!0}})??[],f=d?.reduce((g,v)=>g+(v?.amount??0),0)??0,h=t?.filter(g=>g?.status==="pending_payout")?.reduce((g,v)=>g+(v?.amount??0),0)??0,p=d?.length??0;return i?s.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:s.jsx(ph,{children:s.jsx("div",{className:"text-emerald-300/70 text-center py-8",children:"Loading earnings..."})})}):s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6",children:[s.jsx(ph,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsx("h2",{className:"text-xl font-bold text-emerald-300",children:"Earnings & Payouts"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:[{key:"week",label:"Week"},{key:"month",label:"Month"},{key:"year",label:"Year"}].map(g=>s.jsx("button",{onClick:()=>c(g.key),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${l===g.key?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/50 shadow-lg shadow-emerald-500/20":"bg-black/40 text-emerald-300/70 border border-emerald-500/25 hover:bg-black/60"}`,children:g.label},g.key))})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-6 bg-black/40 border border-emerald-500/25 rounded-xl",children:[s.jsxs("div",{className:"text-3xl font-bold text-emerald-400",children:["$",f?.toFixed(2)??"0.00"]}),s.jsx("div",{className:"text-sm text-emerald-300/70 mt-2",children:"Total Earnings"})]}),s.jsxs("div",{className:"text-center p-6 bg-black/40 border border-emerald-500/25 rounded-xl",children:[s.jsxs("div",{className:"text-3xl font-bold text-yellow-400",children:["$",h?.toFixed(2)??"0.00"]}),s.jsx("div",{className:"text-sm text-emerald-300/70 mt-2",children:"Pending Payouts"})]}),s.jsxs("div",{className:"text-center p-6 bg-black/40 border border-emerald-500/25 rounded-xl",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-400",children:p}),s.jsx("div",{className:"text-sm text-emerald-300/70 mt-2",children:"Completed Jobs"})]})]})]})}),s.jsx(ph,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-emerald-300",children:"Recent Earnings"}),d?.length===0?s.jsxs("div",{className:"text-center py-12 text-emerald-300/70",children:[s.jsx("p",{children:"No earnings found for the selected time period."}),s.jsx("p",{className:"text-sm text-emerald-300/50 mt-2",children:"Complete jobs to start earning"})]}):s.jsx("div",{className:"space-y-3",children:d?.slice(0,10)?.map(g=>s.jsx("div",{className:"bg-black/40 border border-emerald-500/25 rounded-xl p-5",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-emerald-300 text-base",children:g?.jobTitle??"Service"}),s.jsxs("p",{className:"text-sm text-emerald-300/70 mt-1",children:["Client: ",g?.client??"Unknown"]}),s.jsxs("p",{className:"text-xs text-emerald-300/60 mt-1",children:["Completed: ",g?.completedDate?new Date(g.completedDate).toLocaleDateString():"Unknown"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-xl font-bold text-emerald-400",children:["$",g?.amount?.toFixed(2)??"0.00"]}),s.jsx("div",{className:`text-sm font-medium mt-1 ${g?.status==="paid_out"?"text-emerald-400":g?.status==="pending_payout"?"text-yellow-400":"text-blue-400"}`,children:g?.status==="paid_out"?"Paid Out":g?.status==="pending_payout"?"Pending":"Completed"})]})]})},g?.id))??[]})]})}),n?.length>0&&s.jsx(ph,{children:s.jsx(U6,{})})]})}async function qxe(){try{const{data:e,error:t}=await P.functions.invoke("stripe-connect-notification",{body:{}});return t?(console.error("Error triggering notifications:",t),{success:!1,error:t}):(console.log("Notifications triggered:",e),{success:!0,data:e})}catch(e){return console.error("Exception triggering notifications:",e),{success:!1,error:e}}}function Kxe(e){return P.channel("stripe_connect_notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"stripe_connect_notifications",filter:"processed=eq.false"},async r=>{console.log("New Stripe Connect notification queued:",r),await qxe(),e&&e(r)}).subscribe()}function Hxe({landscaperId:e}){const[t,r]=m.useState(null),[n,a]=m.useState(!0),[i,o]=m.useState(!1);m.useEffect(()=>{l();const h=P.channel("landscaper-connect-status").on("postgres_changes",{event:"UPDATE",schema:"public",table:"landscapers",filter:`id=eq.${e}`},g=>{console.log("Connect status updated:",g),l()}).subscribe(),p=Kxe(g=>{console.log("Notification queued, email will be sent:",g)});return()=>{P.removeChannel(h),P.removeChannel(p)}},[e]);const l=async()=>{const{data:h}=await P.from("landscapers").select("stripe_connect_id, stripe_account_status, stripe_charges_enabled, stripe_payouts_enabled, stripe_details_submitted").eq("id",e).single();r(h),a(!1),o(!1)},c=async()=>{o(!0),await l()},u=()=>{window.open("https://dashboard.stripe.com/express","_blank")};if(n)return s.jsx("div",{children:"Loading..."});if(!t?.stripe_connect_id)return null;const d=t.stripe_charges_enabled&&t.stripe_payouts_enabled,f=t.stripe_details_submitted&&!d;return s.jsxs(C,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Payment Account Status"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Y,{variant:d?"default":f?"secondary":"outline",children:d?"Active":f?"Under Review":"Setup Required"}),s.jsx(I,{size:"sm",variant:"ghost",onClick:c,disabled:i,children:s.jsx(sr,{className:`h-4 w-4 ${i?"animate-spin":""}`})})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsx(Vx,{label:"Charges Enabled",enabled:t.stripe_charges_enabled,description:"Can accept payments from clients"}),s.jsx(Vx,{label:"Payouts Enabled",enabled:t.stripe_payouts_enabled,description:"Can receive payouts to bank account"}),s.jsx(Vx,{label:"Details Submitted",enabled:t.stripe_details_submitted,description:"Identity and business info verified"})]}),!d&&s.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx($s,{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-yellow-800",children:t.stripe_details_submitted?"Your account is under review. This typically takes 1-2 business days. We'll email you when it's ready.":"Complete your account setup to start receiving payments. You'll receive email updates on your progress."})]})}),s.jsxs(I,{onClick:u,variant:"outline",className:"w-full",children:[s.jsx(Td,{className:"mr-2 h-4 w-4"}),"Open Stripe Dashboard"]})]})}function Vx({label:e,enabled:t,description:r}){return s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e}),s.jsx("p",{className:"text-xs text-gray-500",children:r})]}),t?s.jsx(xa,{className:"h-5 w-5 text-green-500 mt-1"}):s.jsx(nt,{className:"h-5 w-5 text-yellow-500 mt-1"})]})}function K2({children:e}){return s.jsx("section",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl ring-1 ring-emerald-500/20 shadow-[0_0_25px_-10px_rgba(52,211,153,0.25)] p-4 sm:p-6 lg:p-8",children:e})}function Yxe(){const e=Cc();Ae();const[t,r]=m.useState(null),[n,a]=m.useState(""),[i,o]=m.useState(!0);return m.useEffect(()=>{(async()=>{try{const{data:{user:c}}=await e.auth.getUser();if(c?.id){const{data:u}=await e.from("landscapers").select("id, first_name, last_name, phone").eq("user_id",c.id).single();u&&(r(u),a(u.id))}}catch(c){console.error("Error loading profile:",c)}finally{o(!1)}})()},[e]),i?s.jsx("div",{className:"text-white px-4 py-6",children:"Loading..."}):s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[s.jsxs(K2,{children:[s.jsx("h2",{className:"text-xl font-bold text-emerald-300 mb-4",children:"Profile"}),s.jsxs("p",{className:"text-emerald-200",children:[t?.first_name," ",t?.last_name]})]}),n&&s.jsx(Hxe,{landscaperId:n}),s.jsx(K2,{children:s.jsx("button",{onClick:()=>Rd(e,"/"),className:"px-6 py-3 bg-red-500/20 text-red-200 border border-red-500/50 rounded-xl",children:"Sign Out"})})]})}function H2(){const e=Cc(),t=Ae(),r=Vt(),[n,a]=m.useState(null),[i,o]=m.useState(!0),[l,c]=m.useState(!1);m.useEffect(()=>{(async()=>{try{const{data:{user:p}}=await e.auth.getUser();if(p?.id){const g=await wpe(p.id);a(g)}}catch(p){console.error("Error loading profile:",p)}finally{o(!1)}})()},[e]);const u=h=>{t(h)},d=()=>{const h=r.pathname;return h.includes("/jobs")?"jobs":h.includes("/earnings")?"earnings":h.includes("/profile")?"profile":"overview"},f=async()=>{const h=!l;c(h);try{const{data:{user:p}}=await e.auth.getUser();p?.id&&await e.from("landscaper_profiles").update({available:h}).eq("user_id",p.id)}catch(p){console.error("Error updating availability:",p),c(!h)}};return s.jsx(P$,{children:s.jsxs(Md,{children:[s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-[#020b06] to-black text-white pb-20 md:pb-0",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("header",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-12",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsx("div",{children:i?s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-emerald-300",children:"Loading..."}):n?s.jsxs("div",{className:"space-y-1",children:[s.jsxs("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-emerald-300",children:[n.first_name??""," ",n.last_name??""]}),s.jsx("p",{className:"text-xs sm:text-sm text-emerald-300/70 break-all",children:n.email??""})]}):s.jsxs("div",{className:"space-y-1",children:[s.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-emerald-300",children:"Landscaper Dashboard"}),s.jsx("p",{className:"text-xs sm:text-sm text-emerald-300/70",children:"Profile not found"})]})}),s.jsxs("div",{className:"flex flex-row gap-3",children:[s.jsx("button",{onClick:f,className:`px-3 sm:px-4 py-2 rounded-xl font-medium transition-all duration-200 text-sm ${l?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/50 hover:bg-emerald-500/30 shadow-lg shadow-emerald-500/25":"bg-black/60 text-emerald-200 border border-emerald-500/25 hover:bg-black/80"}`,children:l?"Available":"Unavailable"}),s.jsx("button",{onClick:()=>Rd(e,"/"),className:"px-3 sm:px-4 py-2 rounded-xl bg-red-500/90 text-white hover:bg-red-500 shadow-lg hover:shadow-red-500/25 transition-all duration-200 text-sm",children:"Logout"})]})]})}),s.jsx("div",{className:"px-4 sm:px-6 lg:px-8 mb-6",children:s.jsxs("div",{className:"bg-black/40 backdrop-blur rounded-2xl p-1 border border-emerald-500/25",children:[s.jsx("div",{className:"hidden sm:grid sm:grid-cols-4 gap-1",children:[{key:"overview",label:"Overview",path:"/landscaper-dashboard/overview"},{key:"jobs",label:"Jobs",path:"/landscaper-dashboard/jobs"},{key:"earnings",label:"Earnings",path:"/landscaper-dashboard/earnings"},{key:"profile",label:"Profile",path:"/landscaper-dashboard/profile"}].map(h=>s.jsxs("button",{onClick:()=>u(h.path),className:`px-4 py-3 rounded-xl font-medium transition-all duration-200 text-sm lg:text-base relative ${d()===h.key?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/50 shadow-lg shadow-emerald-500/25 ring-1 ring-emerald-500/30":"text-emerald-300/70 hover:text-emerald-200 hover:bg-black/20"}`,children:[h.label,d()===h.key&&s.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-8 h-0.5 bg-emerald-400 rounded-full"})]},h.key))}),s.jsx("div",{className:"sm:hidden flex overflow-x-auto gap-1 pb-1",children:[{key:"overview",label:"Overview",path:"/landscaper-dashboard/overview"},{key:"jobs",label:"Jobs",path:"/landscaper-dashboard/jobs"},{key:"earnings",label:"Earnings",path:"/landscaper-dashboard/earnings"},{key:"profile",label:"Profile",path:"/landscaper-dashboard/profile"}].map(h=>s.jsx("button",{onClick:()=>u(h.path),className:`flex-shrink-0 px-4 py-3 rounded-xl font-medium transition-all duration-200 text-sm whitespace-nowrap ${d()===h.key?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/50 shadow-lg shadow-emerald-500/25":"text-emerald-300/70 hover:text-emerald-200 hover:bg-black/20"}`,children:h.label},h.key))})]})}),s.jsxs(yw,{children:[s.jsx(Z,{path:"overview",element:s.jsx(I2,{profile:n,isAvailable:l})}),s.jsx(Z,{path:"jobs",element:s.jsx(Npe,{})}),s.jsx(Z,{path:"earnings",element:s.jsx(Wxe,{})}),s.jsx(Z,{path:"profile",element:s.jsx(Yxe,{})}),s.jsx(Z,{path:"",element:s.jsx(I2,{profile:n,isAvailable:l})})]})]})}),s.jsx(eR,{})]})})}const Fa={totalEarnings:15750,thisMonth:3250,lastMonth:2890,pendingPayouts:850,completedJobs:47,averageJobValue:335};function Y2(){const e=((Fa.thisMonth-Fa.lastMonth)/Fa.lastMonth*100).toFixed(1);return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(C,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200",children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium text-green-700",children:"Total Earnings"}),s.jsx(Nt,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(T,{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-900",children:["$",Fa.totalEarnings.toLocaleString()]}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"All-time earnings"})]})]}),s.jsxs(C,{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-blue-200",children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium text-blue-700",children:"This Month"}),s.jsx(Ks,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(T,{children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["$",Fa.thisMonth.toLocaleString()]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsxs(Y,{variant:parseFloat(e)>0?"default":"secondary",className:"text-xs",children:[parseFloat(e)>0?"+":"",e,"%"]}),s.jsx("p",{className:"text-xs text-blue-600 ml-2",children:"vs last month"})]})]})]}),s.jsxs(C,{className:"bg-gradient-to-br from-orange-50 to-amber-50 border-orange-200",children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium text-orange-700",children:"Pending Payouts"}),s.jsx(cr,{className:"h-4 w-4 text-orange-600"})]}),s.jsxs(T,{children:[s.jsxs("div",{className:"text-2xl font-bold text-orange-900",children:["$",Fa.pendingPayouts.toLocaleString()]}),s.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Next payout in 3 days"})]})]}),s.jsxs(C,{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border-purple-200",children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium text-purple-700",children:"Completed Jobs"}),s.jsx(JO,{className:"h-4 w-4 text-purple-600"})]}),s.jsxs(T,{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-900",children:Fa.completedJobs}),s.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Jobs completed"})]})]}),s.jsxs(C,{className:"bg-gradient-to-br from-teal-50 to-cyan-50 border-teal-200",children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(L,{className:"text-sm font-medium text-teal-700",children:"Average Job Value"}),s.jsx(Nt,{className:"h-4 w-4 text-teal-600"})]}),s.jsxs(T,{children:[s.jsxs("div",{className:"text-2xl font-bold text-teal-900",children:["$",Fa.averageJobValue.toLocaleString()]}),s.jsx("p",{className:"text-xs text-teal-600 mt-1",children:"Per completed job"})]})]})]})}const Gxe=[{id:"1",date:"2024-01-15",amount:1250,status:"completed",jobsCount:5,method:"Bank Transfer"},{id:"2",date:"2024-01-01",amount:890.5,status:"completed",jobsCount:3,method:"Bank Transfer"},{id:"3",date:"2023-12-15",amount:1450,status:"completed",jobsCount:6,method:"Bank Transfer"},{id:"4",date:"2023-12-01",amount:750.25,status:"completed",jobsCount:2,method:"Bank Transfer"},{id:"5",date:"2023-11-15",amount:2100,status:"completed",jobsCount:8,method:"Bank Transfer"}];function G2(){const[e,t]=m.useState("all"),r=Gxe.filter(o=>e==="all"||o.status===e),n=o=>{switch(o){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},a=o=>{console.log("Downloading statement for payout:",o),alert(`Downloading statement for payout ${o}`)},i=o=>{console.log("Viewing details for payout:",o),alert(`Viewing details for payout ${o}`)};return s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(cr,{className:"h-5 w-5"}),"Payout History"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(I,{variant:e==="all"?"default":"outline",size:"sm",onClick:()=>t("all"),children:"All"}),s.jsx(I,{variant:e==="completed"?"default":"outline",size:"sm",onClick:()=>t("completed"),children:"Completed"}),s.jsx(I,{variant:e==="pending"?"default":"outline",size:"sm",onClick:()=>t("pending"),children:"Pending"})]})]})}),s.jsx(T,{children:s.jsx("div",{className:"space-y-4",children:r.map(o=>s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("span",{className:"font-semibold text-lg",children:["$",o.amount.toLocaleString()]}),s.jsx(Y,{className:n(o.status),children:o.status.charAt(0).toUpperCase()+o.status.slice(1)})]}),s.jsx("div",{className:"text-sm text-gray-600",children:s.jsxs("p",{children:[new Date(o.date).toLocaleDateString()," • ",o.jobsCount," jobs • ",o.method]})})]}),s.jsxs("div",{className:"flex gap-2 mt-2 sm:mt-0",children:[s.jsxs(I,{variant:"outline",size:"sm",onClick:()=>i(o.id),className:"flex items-center gap-1",children:[s.jsx(Vp,{className:"h-4 w-4"}),"Details"]}),s.jsxs(I,{variant:"outline",size:"sm",onClick:()=>a(o.id),className:"flex items-center gap-1",children:[s.jsx(Ri,{className:"h-4 w-4"}),"Download"]})]})]},o.id))})})]})}const gh=[{name:"Bronze",rate:15,minJobs:0,color:"bg-amber-100 text-amber-800",benefits:["Basic commission rate","Standard support"]},{name:"Silver",rate:18,minJobs:10,color:"bg-gray-100 text-gray-800",benefits:["Higher commission rate","Priority support","Marketing materials"]},{name:"Gold",rate:22,minJobs:25,color:"bg-yellow-100 text-yellow-800",benefits:["Premium commission rate","Dedicated account manager","Featured listing"]},{name:"Platinum",rate:25,minJobs:50,color:"bg-purple-100 text-purple-800",benefits:["Maximum commission rate","VIP support","Exclusive opportunities"]}],Ns={currentTier:"Silver",currentRate:18,jobsCompleted:47,monthlyCommission:585,totalCommission:2835};function J2(){const e=gh.findIndex(n=>n.name===Ns.currentTier),t=gh[e+1],r=t?Math.min(Ns.jobsCompleted/t.minJobs*100,100):100;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(C,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2 text-blue-800",children:[s.jsx(PV,{className:"h-5 w-5"}),"Commission Status"]})}),s.jsx(T,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[Ns.currentRate,"%"]}),s.jsx("p",{className:"text-sm text-blue-600",children:"Current Rate"}),s.jsxs(Y,{className:gh[e]?.color||"bg-gray-100",children:[Ns.currentTier," Tier"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["$",Ns.monthlyCommission]}),s.jsx("p",{className:"text-sm text-blue-600",children:"This Month"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["$",Ns.totalCommission]}),s.jsx("p",{className:"text-sm text-blue-600",children:"Total Earned"})]})]})})]}),t&&s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(JO,{className:"h-5 w-5"}),"Progress to ",t.name," Tier"]})}),s.jsx(T,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Jobs Completed"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[Ns.jobsCompleted," / ",t.minJobs]})]}),s.jsx(yo,{value:r,className:"h-3"}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:[t.minJobs-Ns.jobsCompleted," more jobs to unlock ",t.rate,"% commission"]}),s.jsxs(Y,{className:t.color,children:["+",t.rate-Ns.currentRate,"% rate increase"]})]})]})})]}),s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(FV,{className:"h-5 w-5"}),"Commission Tiers"]})}),s.jsx(T,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:gh.map((n,a)=>s.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all ${n.name===Ns.currentTier?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx(Y,{className:n.color,children:n.name}),s.jsxs("div",{className:"text-2xl font-bold mt-1",children:[n.rate,"%"]})]}),s.jsx("div",{className:"text-sm text-gray-600",children:n.minJobs===0?"Starting tier":`${n.minJobs}+ jobs`})]}),s.jsx("ul",{className:"space-y-1",children:n.benefits.map((i,o)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-center gap-1",children:[s.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),i]},o))})]},n.name))})})]})]})}const vh=[{month:"Jan",earnings:2890,jobs:12},{month:"Feb",earnings:3250,jobs:15},{month:"Mar",earnings:2750,jobs:11},{month:"Apr",earnings:3850,jobs:18},{month:"May",earnings:4200,jobs:21},{month:"Jun",earnings:3650,jobs:16}],Jxe=[{type:"Lawn Maintenance",percentage:35,earnings:5500},{type:"Landscaping",percentage:28,earnings:4400},{type:"Tree Services",percentage:20,earnings:3150},{type:"Seasonal Cleanup",percentage:17,earnings:2675}];function Xxe(){const[e,t]=m.useState("earnings"),r=Math.max(...vh.map(l=>l.earnings)),n=Math.max(...vh.map(l=>l.jobs)),a=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Monthly Earnings Trend"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Last 6 months"})]}),s.jsx("div",{className:"h-64 flex items-end justify-between gap-2",children:vh.map((l,c)=>s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-t-lg relative overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-t from-green-500 to-green-400 rounded-t-lg transition-all duration-500 hover:from-green-600 hover:to-green-500",style:{height:`${l.earnings/r*200}px`}})}),s.jsxs("div",{className:"text-center mt-2",children:[s.jsxs("div",{className:"text-sm font-medium",children:["$",l.earnings.toLocaleString()]}),s.jsx("div",{className:"text-xs text-gray-600",children:l.month})]})]},c))})]}),i=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Jobs Completed Trend"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Last 6 months"})]}),s.jsx("div",{className:"h-64 flex items-end justify-between gap-2",children:vh.map((l,c)=>s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-t-lg relative overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-t from-blue-500 to-blue-400 rounded-t-lg transition-all duration-500 hover:from-blue-600 hover:to-blue-500",style:{height:`${l.jobs/n*200}px`}})}),s.jsxs("div",{className:"text-center mt-2",children:[s.jsxs("div",{className:"text-sm font-medium",children:[l.jobs," jobs"]}),s.jsx("div",{className:"text-xs text-gray-600",children:l.month})]})]},c))})]}),o=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Earnings by Job Type"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Current period"})]}),s.jsx("div",{className:"space-y-3",children:Jxe.map((l,c)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:l.type}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-semibold",children:["$",l.earnings.toLocaleString()]}),s.jsxs("div",{className:"text-xs text-gray-600",children:[l.percentage,"%"]})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-400 h-2 rounded-full transition-all duration-500",style:{width:`${l.percentage}%`}})})]},c))})]});return s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(VO,{className:"h-5 w-5"}),"Financial Analytics"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(I,{variant:e==="earnings"?"default":"outline",size:"sm",onClick:()=>t("earnings"),className:"flex items-center gap-1",children:[s.jsx(Ks,{className:"h-4 w-4"}),"Earnings"]}),s.jsxs(I,{variant:e==="jobs"?"default":"outline",size:"sm",onClick:()=>t("jobs"),className:"flex items-center gap-1",children:[s.jsx(cr,{className:"h-4 w-4"}),"Jobs"]}),s.jsxs(I,{variant:e==="breakdown"?"default":"outline",size:"sm",onClick:()=>t("breakdown"),className:"flex items-center gap-1",children:[s.jsx(AV,{className:"h-4 w-4"}),"Breakdown"]})]})]})}),s.jsxs(T,{children:[e==="earnings"&&a(),e==="jobs"&&i(),e==="breakdown"&&o()]})]})}function Qxe(){const e=()=>{navigate("/landscaper-dashboard")},t=()=>{console.log("Exporting earnings data...");const a=`Date,Amount,Jobs,Status
2024-01-15,1250.00,5,Completed
2024-01-01,890.50,3,Completed`,i=new Blob([a],{type:"text/csv"}),o=window.URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.download="earnings-report.csv",document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(o)},r=()=>{console.log("Opening payout settings..."),alert("Payout settings would open here - configure bank details, payout frequency, etc.")},n=()=>{console.log("Opening earnings help..."),alert("Help center would open here - FAQs about earnings, commissions, and payouts.")};return s.jsx(Md,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(I,{variant:"ghost",size:"sm",onClick:e,className:"flex items-center gap-2",children:[s.jsx(ps,{className:"h-4 w-4"}),"Back"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Earnings Dashboard"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Track your earnings, payouts, and financial performance"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(I,{variant:"outline",size:"sm",onClick:t,className:"flex items-center gap-2",children:[s.jsx(Ri,{className:"h-4 w-4"}),"Export"]}),s.jsxs(I,{variant:"outline",size:"sm",onClick:r,className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-4 w-4"}),"Settings"]}),s.jsxs(I,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[s.jsx(IV,{className:"h-4 w-4"}),"Help"]})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs(wn,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(Yr,{className:"grid w-full grid-cols-4",children:[s.jsx(fe,{value:"overview",children:"Overview"}),s.jsx(fe,{value:"payouts",children:"Payouts"}),s.jsx(fe,{value:"commissions",children:"Commissions"}),s.jsx(fe,{value:"analytics",children:"Analytics"})]}),s.jsxs(ge,{value:"overview",className:"space-y-6",children:[s.jsx(Y2,{}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(G2,{}),s.jsx("div",{className:"space-y-6",children:s.jsx(J2,{})})]})]}),s.jsx(ge,{value:"payouts",className:"space-y-6",children:s.jsx(G2,{})}),s.jsx(ge,{value:"commissions",className:"space-y-6",children:s.jsx(J2,{})}),s.jsxs(ge,{value:"analytics",className:"space-y-6",children:[s.jsx(Xxe,{}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.jsx(Y2,{})})]})]})})]})})}function Zxe(){const[e,t]=m.useState({schedule_type:"weekly",minimum_payout:50,payout_day:5,auto_payout_enabled:!0}),[r,n]=m.useState(!0),[a,i]=m.useState(!1),{toast:o}=Jn();m.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:{user:d}}=await P.auth.getUser();if(!d)return;const{data:f}=await P.from("landscapers").select("id").eq("user_id",d.id).single();if(!f)return;const{data:h}=await P.from("payout_schedules").select("*").eq("landscaper_id",f.id).single();h&&t(h)}catch(d){console.error("Error loading schedule:",d)}finally{n(!1)}},c=async d=>{d.preventDefault(),i(!0),console.log("💾 Saving payout schedule...",e);try{const{data:{user:f}}=await P.auth.getUser();if(!f)throw new Error("User not authenticated");const{data:h}=await P.from("landscapers").select("id").eq("user_id",f.id).single();if(!h)throw new Error("Landscaper profile not found");const p=u(e.schedule_type,e.payout_day),{error:g}=await P.from("payout_schedules").upsert({...e,landscaper_id:h.id,next_payout_date:p});if(g)throw g;console.log("✅ Payout schedule saved successfully"),o({title:"Schedule saved",description:"Your payout schedule has been updated successfully."})}catch(f){console.error("❌ Error saving schedule:",f),o({title:"Error",description:f.message||"Failed to save payout schedule.",variant:"destructive"})}finally{i(!1)}},u=(d,f)=>{const h=new Date;let p=new Date(h);switch(d){case"daily":p.setDate(p.getDate()+1);break;case"weekly":const g=((f||5)-h.getDay()+7)%7||7;p.setDate(p.getDate()+g);break;case"monthly":p.setMonth(p.getMonth()+1),p.setDate(f||1);break}return p.toISOString()};return r?s.jsx("div",{children:"Loading..."}):s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsx(L,{children:"Payout Schedule"}),s.jsx(Le,{children:"Configure when and how you receive payouts for completed jobs"})]}),s.jsx(T,{children:s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"schedule-type",children:"Payout Frequency"}),s.jsxs(pr,{value:e.schedule_type,onValueChange:d=>t({...e,schedule_type:d}),children:[s.jsx(ar,{id:"schedule-type",children:s.jsx(gr,{})}),s.jsxs(ir,{children:[s.jsx(ae,{value:"daily",children:"Daily"}),s.jsx(ae,{value:"weekly",children:"Weekly"}),s.jsx(ae,{value:"monthly",children:"Monthly"}),s.jsx(ae,{value:"manual",children:"Manual"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"How often you want to receive payouts"})]}),e.schedule_type==="weekly"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"payout-day",children:"Payout Day"}),s.jsxs(pr,{value:e.payout_day?.toString(),onValueChange:d=>t({...e,payout_day:parseInt(d)}),children:[s.jsx(ar,{id:"payout-day",children:s.jsx(gr,{})}),s.jsxs(ir,{children:[s.jsx(ae,{value:"0",children:"Sunday"}),s.jsx(ae,{value:"1",children:"Monday"}),s.jsx(ae,{value:"2",children:"Tuesday"}),s.jsx(ae,{value:"3",children:"Wednesday"}),s.jsx(ae,{value:"4",children:"Thursday"}),s.jsx(ae,{value:"5",children:"Friday"}),s.jsx(ae,{value:"6",children:"Saturday"})]})]})]}),e.schedule_type==="monthly"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"payout-day-monthly",children:"Day of Month"}),s.jsx(le,{id:"payout-day-monthly",type:"number",min:"1",max:"31",value:e.payout_day||1,onChange:d=>t({...e,payout_day:parseInt(d.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"minimum-payout",children:"Minimum Payout Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx(Nt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(le,{id:"minimum-payout",type:"number",min:"0",step:"0.01",value:e.minimum_payout,onChange:d=>t({...e,minimum_payout:parseFloat(d.target.value)}),className:"pl-9"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimum amount required before initiating a payout"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ie,{htmlFor:"auto-payout",children:"Automatic Payouts"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically process payouts based on your schedule"})]}),s.jsx(Ga,{id:"auto-payout",checked:e.auto_payout_enabled,onCheckedChange:d=>t({...e,auto_payout_enabled:d})})]}),s.jsxs(I,{type:"submit",disabled:a,className:"w-full",children:[s.jsx(Sw,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Schedule"]})]})})]})}function X2(){return s.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Payouts"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your earnings and payout schedule"})]}),s.jsxs(wn,{defaultValue:"dashboard",className:"space-y-6",children:[s.jsxs(Yr,{children:[s.jsxs(fe,{value:"dashboard",children:[s.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),s.jsxs(fe,{value:"settings",children:[s.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),s.jsx(ge,{value:"dashboard",children:s.jsx(U6,{})}),s.jsx(ge,{value:"settings",children:s.jsx(Zxe,{})})]})]})}function e0e({value:e,onChange:t,onSearch:r,placeholder:n="Search...",showFilters:a=!0,onToggleFilters:i,activeFilters:o=0,suggestions:l=[],onClear:c}){const[u,d]=m.useState(!1),f=g=>{g.key==="Enter"&&(r(),d(!1))},h=g=>{t(g),d(!1),r()},p=l.filter(g=>g.toLowerCase().includes(e.toLowerCase())&&g!==e);return s.jsx("div",{className:"relative w-full max-w-2xl",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(sd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(le,{value:e,onChange:g=>t(g.target.value),onKeyPress:f,onFocus:()=>d(!0),onBlur:()=>setTimeout(()=>d(!1),200),placeholder:n,className:"pl-10 pr-10"}),e&&s.jsx(I,{variant:"ghost",size:"sm",onClick:()=>{t(""),c?.()},className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",children:s.jsx(bs,{className:"h-3 w-3"})}),u&&p.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border rounded-md shadow-lg z-50 max-h-60 overflow-y-auto",children:p.slice(0,8).map((g,v)=>s.jsx("button",{onClick:()=>h(g),className:"w-full text-left px-4 py-2 hover:bg-gray-50 border-b last:border-b-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sd,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{children:g})]})},v))})]}),s.jsx(I,{onClick:r,className:"px-6",children:"Search"}),a&&s.jsxs(I,{variant:"outline",onClick:i,className:"relative",children:[s.jsx(HO,{className:"h-4 w-4 mr-2"}),"Filters",o>0&&s.jsx(Y,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 p-0 text-xs",children:o})]})]})})}function t0e({filters:e,onFiltersChange:t,onClose:r,categories:n=["Lawn Care","Landscaping","Tree Service","Hardscaping"],serviceTypes:a=["Mowing","Trimming","Planting","Irrigation","Cleanup"],locations:i=["Downtown","Suburbs","North Side","South Side"]}){const o=(u,d)=>{t({...e,[u]:d})},l=()=>{t({})},c=Object.values(e).filter(u=>u!=null&&u!==""&&(Array.isArray(u)?u.length>0:!0)).length;return s.jsxs("div",{className:"bg-white border rounded-lg shadow-lg p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Filters"}),s.jsxs("div",{className:"flex items-center gap-2",children:[c>0&&s.jsxs(I,{variant:"ghost",size:"sm",onClick:l,children:["Clear All (",c,")"]}),s.jsx(I,{variant:"ghost",size:"sm",onClick:r,children:s.jsx(bs,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Vs,{className:"h-4 w-4"}),"Category"]}),s.jsxs(pr,{value:e.category||"",onValueChange:u=>o("category",u||void 0),children:[s.jsx(ar,{children:s.jsx(gr,{placeholder:"Select category"})}),s.jsxs(ir,{children:[s.jsx(ae,{value:"",children:"All Categories"}),n.map(u=>s.jsx(ae,{value:u,children:u},u))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Vs,{className:"h-4 w-4"}),"Location"]}),s.jsx(le,{value:e.location||"",onChange:u=>o("location",u.target.value||void 0),placeholder:"Enter location"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Nt,{className:"h-4 w-4"}),"Price Range"]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{type:"number",placeholder:"Min",value:e.priceMin||"",onChange:u=>o("priceMin",u.target.value?Number(u.target.value):void 0)}),s.jsx(le,{type:"number",placeholder:"Max",value:e.priceMax||"",onChange:u=>o("priceMax",u.target.value?Number(u.target.value):void 0)})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-4 w-4"}),"Minimum Rating"]}),s.jsxs(pr,{value:e.rating?.toString()||"",onValueChange:u=>o("rating",u?Number(u):void 0),children:[s.jsx(ar,{children:s.jsx(gr,{placeholder:"Any rating"})}),s.jsxs(ir,{children:[s.jsx(ae,{value:"",children:"Any Rating"}),s.jsx(ae,{value:"4",children:"4+ Stars"}),s.jsx(ae,{value:"3",children:"3+ Stars"}),s.jsx(ae,{value:"2",children:"2+ Stars"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ie,{children:"Service Types"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.map(u=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ld,{id:u,checked:e.serviceType?.includes(u)||!1,onCheckedChange:d=>{const f=e.serviceType||[],h=d?[...f,u]:f.filter(p=>p!==u);o("serviceType",h.length>0?h:void 0)}}),s.jsx(ie,{htmlFor:u,className:"text-sm",children:u})]},u))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{children:"Sort By"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pr,{value:e.sortBy||"relevance",onValueChange:u=>o("sortBy",u),children:[s.jsx(ar,{className:"flex-1",children:s.jsx(gr,{})}),s.jsxs(ir,{children:[s.jsx(ae,{value:"relevance",children:"Relevance"}),s.jsx(ae,{value:"price",children:"Price"}),s.jsx(ae,{value:"rating",children:"Rating"}),s.jsx(ae,{value:"date",children:"Date"})]})]}),s.jsxs(pr,{value:e.sortOrder||"desc",onValueChange:u=>o("sortOrder",u),children:[s.jsx(ar,{className:"w-24",children:s.jsx(gr,{})}),s.jsxs(ir,{children:[s.jsx(ae,{value:"asc",children:"↑"}),s.jsx(ae,{value:"desc",children:"↓"})]})]})]})]})]})}function r0e({data:e,total:t,loading:r,error:n,query:a,renderItem:i,emptyState:o,loadMore:l,hasMore:c=!1,className:u=""}){return r&&e.length===0?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Bn,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Searching..."})]})}):n?s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md mx-auto",children:[s.jsx("h3",{className:"text-red-800 font-semibold mb-2",children:"Search Error"}),s.jsx("p",{className:"text-red-600 text-sm",children:n})]})}):e.length===0&&!r?s.jsx("div",{className:"text-center py-12",children:o||s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx(sd,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:a?"No results found":"Start your search"}),s.jsx("p",{className:"text-gray-600",children:a?`No results found for "${a}". Try adjusting your search terms or filters.`:"Enter a search term to find what you're looking for."})]})}):s.jsxs("div",{className:`space-y-6 ${u}`,children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm text-gray-600",children:t>0&&s.jsxs(s.Fragment,{children:["Showing ",e.length," of ",t," results",a&&s.jsxs("span",{children:[' for "',s.jsx("strong",{children:a}),'"']})]})}),r&&e.length>0&&s.jsx(Bn,{className:"h-4 w-4 animate-spin text-blue-600"})]})}),s.jsx("div",{className:"grid gap-4 md:gap-6",children:e.map((d,f)=>s.jsx("div",{className:"animate-in fade-in duration-200",children:i(d,f)},f))}),c&&l&&s.jsx("div",{className:"text-center pt-6",children:s.jsx(I,{onClick:l,disabled:r,variant:"outline",className:"px-8",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Bn,{className:"h-4 w-4 animate-spin mr-2"}),"Loading..."]}):"Load More"})})]})}function n0e(e,t={},r=!0){const[n,a]=m.useState([]),[i,o]=m.useState(0),[l,c]=m.useState(!1),[u,d]=m.useState(null),[f,h]=m.useState(t),p=m.useMemo(()=>{let v=P.from(e).select("*",{count:"exact"});if(f.query){const b=`%${f.query}%`;v=v.or(`title.ilike.${b},description.ilike.${b},name.ilike.${b}`)}f.category&&(v=v.eq("category",f.category)),f.location&&(v=v.ilike("location",`%${f.location}%`)),f.priceMin!==void 0&&(v=v.gte("price",f.priceMin)),f.priceMax!==void 0&&(v=v.lte("price",f.priceMax)),f.rating&&(v=v.gte("rating",f.rating)),f.serviceType?.length&&(v=v.in("service_type",f.serviceType)),f.dateRange&&(v=v.gte("created_at",f.dateRange.start.toISOString()).lte("created_at",f.dateRange.end.toISOString()));const x=f.sortBy==="relevance"?"created_at":f.sortBy||"created_at",y=f.sortOrder==="asc";return v=v.order(x,{ascending:y}),v},[e,f]),g=async()=>{if(r){c(!0),d(null);try{const{data:v,count:x,error:y}=await p;if(y)throw y;a(v||[]),o(x||0)}catch(v){d(v instanceof Error?v.message:"Search failed"),a([]),o(0)}finally{c(!1)}}};return m.useEffect(()=>{g()},[p,r]),{data:n,total:i,loading:l,error:u,setFilters:h,clearFilters:()=>h({}),refetch:g}}class zx{static debounce(t,r){let n;return(...a)=>{clearTimeout(n),n=setTimeout(()=>t(...a),r)}}static highlightText(t,r){if(!r.trim())return t;const n=new RegExp(`(${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return t.replace(n,'<mark class="bg-yellow-200">$1</mark>')}static generateSuggestions(t=[],r=[],n=""){const a=[];return t.filter(i=>i.toLowerCase().includes(n.toLowerCase())).slice(0,3).forEach(i=>{a.push({text:i,category:"recent"})}),r.filter(i=>i.toLowerCase().includes(n.toLowerCase())&&!t.includes(i)).slice(0,5).forEach(i=>{a.push({text:i,category:"popular"})}),a}static buildSearchUrl(t,r="/search"){const n=new URLSearchParams;Object.entries(t).forEach(([i,o])=>{o!=null&&o!==""&&(Array.isArray(o)?o.length>0&&n.set(i,o.join(",")):typeof o=="object"&&o.start&&o.end?(n.set(`${i}Start`,o.start.toISOString()),n.set(`${i}End`,o.end.toISOString())):n.set(i,o.toString()))});const a=n.toString();return a?`${r}?${a}`:r}static parseSearchUrl(t){const r={},n=t.get("query");n&&(r.query=n);const a=t.get("category");a&&(r.category=a);const i=t.get("location");i&&(r.location=i);const o=t.get("priceMin");o&&(r.priceMin=Number(o));const l=t.get("priceMax");l&&(r.priceMax=Number(l));const c=t.get("rating");c&&(r.rating=Number(c));const u=t.get("serviceType");u&&(r.serviceType=u.split(","));const d=t.get("dateRangeStart"),f=t.get("dateRangeEnd");d&&f&&(r.dateRange={start:new Date(d),end:new Date(f)});const h=t.get("sortBy");h&&(r.sortBy=h);const p=t.get("sortOrder");return p&&(r.sortOrder=p),r}static formatResultsCount(t){return t===0?"No results":t===1?"1 result":t<1e3?`${t} results`:t<1e6?`${(t/1e3).toFixed(1)}K results`:`${(t/1e6).toFixed(1)}M results`}static saveRecentSearch(t,r=10){if(!t.trim())return;const n="recentSearches",i=JSON.parse(localStorage.getItem(n)||"[]").filter(l=>l!==t),o=[t,...i].slice(0,r);localStorage.setItem(n,JSON.stringify(o))}static getRecentSearches(){try{return JSON.parse(localStorage.getItem("recentSearches")||"[]")}catch{return[]}}static clearRecentSearches(){localStorage.removeItem("recentSearches")}}function Wx(){const[e,t]=Bp();Ae();const[r,n]=m.useState(!1),[a,i]=m.useState(e.get("query")||""),o=zx.parseSearchUrl(e),[l,c]=m.useState(o),{data:u,total:d,loading:f,error:h}=n0e("jobs",l,!0);m.useEffect(()=>{const v=zx.buildSearchUrl(l,"/search"),x=new URL(v,window.location.origin).searchParams;t(x)},[l,t]);const p=()=>{const v={...l,query:a};c(v),zx.saveRecentSearch(a)},g=v=>s.jsx(C,{className:"hover:shadow-md transition-shadow",children:s.jsxs(T,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:v.title||"Landscaping Job"}),s.jsx("p",{className:"text-gray-600 mb-3",children:v.description||"Professional landscaping service"}),s.jsx(I,{size:"sm",children:"View Details"})]})},v.id);return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Search Jobs"}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsx(e0e,{value:a,onChange:i,onSearch:p,placeholder:"Search for landscaping jobs...",showFilters:!0,onToggleFilters:()=>n(!r),activeFilters:0,suggestions:[],onClear:()=>i("")}),r&&s.jsx(t0e,{filters:l,onFiltersChange:c,onClose:()=>n(!1)})]}),s.jsx(r0e,{data:u,total:d,loading:f,error:h,query:a,renderItem:g})]})})}const s0e=()=>{const[e,t]=m.useState([]),[r,n]=m.useState({rule_name:"",service_type:"lawn_mowing",base_price:0,seasonal_multiplier:1,urgency_multiplier:1,distance_rate:0,property_size_rate:0});m.useEffect(()=>{a()},[]);const a=async()=>{const{data:o}=await P.from("pricing_rules").select("*").eq("is_active",!0).order("service_type");o&&t(o)},i=async()=>{const{error:o}=await P.from("pricing_rules").insert([{...r,effective_start_date:new Date().toISOString().split("T")[0]}]);o||(a(),n({rule_name:"",service_type:"lawn_mowing",base_price:0,seasonal_multiplier:1,urgency_multiplier:1,distance_rate:0,property_size_rate:0}))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Advanced Pricing Engine"})}),s.jsxs(T,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Rule Name"}),s.jsx(le,{value:r.rule_name,onChange:o=>n({...r,rule_name:o.target.value}),placeholder:"Summer Lawn Care"})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Service Type"}),s.jsxs(pr,{value:r.service_type,onValueChange:o=>n({...r,service_type:o}),children:[s.jsx(ar,{children:s.jsx(gr,{})}),s.jsxs(ir,{children:[s.jsx(ae,{value:"lawn_mowing",children:"Lawn Mowing"}),s.jsx(ae,{value:"hedge_trimming",children:"Hedge Trimming"}),s.jsx(ae,{value:"garden_maintenance",children:"Garden Maintenance"}),s.jsx(ae,{value:"tree_pruning",children:"Tree Pruning"})]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Base Price ($)"}),s.jsx(le,{type:"number",value:r.base_price,onChange:o=>n({...r,base_price:parseFloat(o.target.value)})})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Seasonal Multiplier"}),s.jsx(le,{type:"number",step:"0.1",value:r.seasonal_multiplier,onChange:o=>n({...r,seasonal_multiplier:parseFloat(o.target.value)})})]})]}),s.jsx(I,{onClick:i,className:"w-full",children:"Create Pricing Rule"})]})]}),s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Active Pricing Rules"})}),s.jsx(T,{children:s.jsx("div",{className:"space-y-2",children:e.map(o=>s.jsxs("div",{className:"flex justify-between items-center p-3 border rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:o.rule_name}),s.jsx("div",{className:"text-sm text-gray-600",children:o.service_type.replace("_"," ")})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-bold",children:["$",o.base_price]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["x",o.seasonal_multiplier," seasonal"]})]})]},o.id))})})]})]})},a0e=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(""),[a,i]=m.useState(""),[o,l]=m.useState({totalReferrals:0,completedReferrals:0,totalEarnings:0});m.useEffect(()=>{u(),c()},[]);const c=()=>{const h="REF"+Math.random().toString(36).substr(2,8).toUpperCase();n(h)},u=async()=>{const{data:h}=await P.auth.getUser();if(!h.user)return;const{data:p}=await P.from("referrals").select("*").eq("referrer_id",h.user.id).order("created_at",{ascending:!1});p&&(t(p),l({totalReferrals:p.length,completedReferrals:p.filter(g=>g.status==="completed").length,totalEarnings:p.filter(g=>g.status==="completed").reduce((g,v)=>g+v.reward_amount,0)}))},d=async()=>{const{data:h}=await P.auth.getUser();if(!h.user||!a)return;const{error:p}=await P.from("referrals").insert([{referrer_id:h.user.id,referred_email:a,referral_code:r}]);p||(alert(`Referral sent to ${a}!`),i(""),c(),u())},f=()=>{const h=`${window.location.origin}/signup?ref=${r}`;navigator.clipboard.writeText(h),alert("Referral link copied to clipboard!")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(C,{children:s.jsx(T,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ec,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:o.totalReferrals}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Referrals"})]})]})})}),s.jsx(C,{children:s.jsx(T,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(MV,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:o.completedReferrals}),s.jsx("p",{className:"text-sm text-gray-600",children:"Completed"})]})]})})}),s.jsx(C,{children:s.jsx(T,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Nt,{className:"h-8 w-8 text-yellow-600"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",o.totalEarnings]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Earnings"})]})]})})})]}),s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center space-x-2",children:[s.jsx(UV,{className:"h-5 w-5"}),s.jsx("span",{children:"Refer Friends & Earn $50"})]})}),s.jsxs(T,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-green-800",children:"How it works:"}),s.jsxs("ol",{className:"list-decimal list-inside text-sm text-green-700 mt-2 space-y-1",children:[s.jsx("li",{children:"Share your referral code with friends"}),s.jsx("li",{children:"They sign up and complete their first job"}),s.jsx("li",{children:"You both earn $50 credit!"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Your Referral Code"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(le,{value:r,readOnly:!0}),s.jsx(I,{onClick:f,variant:"outline",children:"Copy Link"})]})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Send Direct Referral"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(le,{type:"email",value:a,onChange:h=>i(h.target.value),placeholder:"friend@example.com"}),s.jsx(I,{onClick:d,children:"Send Invite"})]})]})]})]})]}),s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Referral History"})}),s.jsx(T,{children:s.jsxs("div",{className:"space-y-3",children:[e.map(h=>s.jsxs("div",{className:"flex justify-between items-center p-3 border rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:h.referred_email}),s.jsx("div",{className:"text-sm text-gray-600",children:new Date(h.created_at).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Y,{variant:h.status==="completed"?"default":"secondary",children:h.status}),h.status==="completed"&&s.jsxs("span",{className:"text-green-600 font-semibold",children:["+$",h.reward_amount]})]})]},h.id)),e.length===0&&s.jsx("p",{className:"text-center text-gray-500 py-4",children:"No referrals yet"})]})})]})]})},i0e=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(null),[a,i]=m.useState("monthly");m.useEffect(()=>{o(),l()},[]);const o=async()=>{const{data:f}=await P.from("subscription_plans").select("*").eq("is_active",!0).order("monthly_price");f&&t(f)},l=async()=>{const{data:f}=await P.auth.getUser();if(!f.user)return;const{data:h}=await P.from("user_subscriptions").select("plan_id, subscription_plans(plan_name)").eq("user_id",f.user.id).eq("status","active").single();h&&n(h.plan_id)},c=async f=>{const{data:h}=await P.auth.getUser();if(!h.user)return;const{error:p}=await P.from("user_subscriptions").upsert([{user_id:h.user.id,plan_id:f,status:"active",current_period_start:new Date().toISOString(),current_period_end:new Date(Date.now()+30*24*60*60*1e3).toISOString()}]);p||(n(f),alert("Subscription updated successfully!"))},u=f=>{switch(f){case"basic":return s.jsx(xi,{className:"h-6 w-6 text-blue-600"});case"premium":return s.jsx(ww,{className:"h-6 w-6 text-purple-600"});case"enterprise":return s.jsx(gs,{className:"h-6 w-6 text-yellow-600"});default:return s.jsx(xi,{className:"h-6 w-6"})}},d=f=>a==="monthly"?f.monthly_price:f.annual_price;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold",children:"Choose Your Plan"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Upgrade your landscaping business with premium features"}),s.jsx("div",{className:"flex justify-center mt-4",children:s.jsxs("div",{className:"bg-gray-100 p-1 rounded-lg",children:[s.jsx("button",{onClick:()=>i("monthly"),className:`px-4 py-2 rounded ${a==="monthly"?"bg-white shadow":""}`,children:"Monthly"}),s.jsx("button",{onClick:()=>i("annual"),className:`px-4 py-2 rounded ${a==="annual"?"bg-white shadow":""}`,children:"Annual (Save 20%)"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(f=>s.jsxs(C,{className:`relative ${r===f.id?"ring-2 ring-blue-500":""}`,children:[f.plan_type==="premium"&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsx(Y,{className:"bg-purple-600",children:"Most Popular"})}),s.jsxs(M,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-2",children:u(f.plan_type)}),s.jsx(L,{className:"text-xl",children:f.plan_name}),s.jsxs("div",{className:"text-3xl font-bold",children:["$",d(f),s.jsxs("span",{className:"text-sm font-normal text-gray-600",children:["/",a==="monthly"?"month":"year"]})]})]}),s.jsxs(T,{className:"space-y-4",children:[s.jsx("ul",{className:"space-y-2",children:f.features.features.map((h,p)=>s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(Ho,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:h})]},p))}),s.jsx(I,{onClick:()=>c(f.id),className:"w-full",variant:r===f.id?"secondary":"default",disabled:r===f.id,children:r===f.id?"Current Plan":"Subscribe"})]})]},f.id))}),r&&s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Current Subscription"})}),s.jsx(T,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:e.find(f=>f.id===r)?.plan_name}),s.jsx("p",{className:"text-sm text-gray-600",children:"Active subscription"})]}),s.jsx(I,{variant:"outline",children:"Manage Subscription"})]})})]})]})},o0e=()=>{const[e,t]=m.useState({totalAssignments:0,autoAssignments:0,avgResponseTime:"2.3 hours"}),r=async()=>{try{const{data:a,error:i}=await P.functions.invoke("auto-job-assignment",{body:{jobId:"test-job-id"}});if(i)throw i;alert(`Auto-assignment completed! ${a.assignmentsCreated} landscapers notified.`)}catch(a){console.error("Auto-assignment failed:",a),alert("Auto-assignment failed. Please try again.")}},n=async()=>{try{const{data:a,error:i}=await P.functions.invoke("marketing-automation",{body:{campaignType:"email",targetAudience:{userType:"customer"},content:{name:"Spring Promotion",subject:"Spring Landscaping Special - 20% Off!",html:"<h1>Spring is here!</h1><p>Get 20% off your next landscaping service.</p>"}}});if(i)throw i;alert(`Campaign sent to ${a.sentCount} users!`)}catch(a){console.error("Campaign failed:",a),alert("Campaign failed. Please try again.")}};return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center space-x-2",children:[s.jsx(Ot,{className:"h-8 w-8"}),s.jsx("span",{children:"Business Automation"})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage automated systems, pricing, referrals, and subscriptions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(C,{children:s.jsx(T,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xi,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold",children:e.totalAssignments}),s.jsx("p",{className:"text-xs text-gray-600",children:"Auto Assignments"})]})]})})}),s.jsx(C,{children:s.jsx(T,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ks,{className:"h-6 w-6 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold",children:"94%"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Success Rate"})]})]})})}),s.jsx(C,{children:s.jsx(T,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ec,{className:"h-6 w-6 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold",children:"156"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Referrals"})]})]})})}),s.jsx(C,{children:s.jsx(T,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ww,{className:"h-6 w-6 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold",children:"89"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Subscribers"})]})]})})})]}),s.jsxs(wn,{defaultValue:"assignments",className:"space-y-6",children:[s.jsxs(Yr,{className:"grid w-full grid-cols-5",children:[s.jsx(fe,{value:"assignments",children:"Auto Assignment"}),s.jsx(fe,{value:"pricing",children:"Pricing Engine"}),s.jsx(fe,{value:"referrals",children:"Referrals"}),s.jsx(fe,{value:"subscriptions",children:"Subscriptions"}),s.jsx(fe,{value:"marketing",children:"Marketing"})]}),s.jsx(ge,{value:"assignments",children:s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Automated Job Assignment"})}),s.jsxs(T,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-blue-800",children:"How it works:"}),s.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-700 mt-2 space-y-1",children:[s.jsx("li",{children:"Jobs are automatically scored based on landscaper ratings, distance, and availability"}),s.jsx("li",{children:"Top 3 best-matched landscapers receive instant notifications"}),s.jsx("li",{children:"First to accept gets the job, others are notified"}),s.jsxs("li",{children:["Average response time: ",e.avgResponseTime]})]})]}),s.jsx(I,{onClick:r,className:"w-full",children:"Test Auto Assignment"})]})]})}),s.jsx(ge,{value:"pricing",children:s.jsx(s0e,{})}),s.jsx(ge,{value:"referrals",children:s.jsx(a0e,{})}),s.jsx(ge,{value:"subscriptions",children:s.jsx(i0e,{})}),s.jsx(ge,{value:"marketing",children:s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Marketing Automation"})}),s.jsxs(T,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-green-800",children:"Campaign Features:"}),s.jsxs("ul",{className:"list-disc list-inside text-sm text-green-700 mt-2 space-y-1",children:[s.jsx("li",{children:"Targeted email campaigns to customers and landscapers"}),s.jsx("li",{children:"Automated seasonal promotions"}),s.jsx("li",{children:"Push notifications for mobile users"}),s.jsx("li",{children:"Performance tracking and analytics"})]})]}),s.jsx(I,{onClick:n,className:"w-full",children:"Send Test Campaign"})]})]})})]})]})};function l0e(){const e=Ae();return s.jsxs("div",{className:"min-h-screen bg-black relative overflow-hidden",children:[s.jsx(Wn,{}),s.jsx($w,{}),s.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:s.jsxs("div",{className:"w-full max-w-4xl",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold bg-gradient-to-r from-emerald-400 via-emerald-300 to-emerald-400 bg-clip-text text-transparent mb-4 drop-shadow-[0_0_20px_rgba(16,185,129,0.5)]",children:"Get Started"}),s.jsx("p",{className:"text-gray-300 text-xl",children:"Choose how you'd like to join GreenScape Lux"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[s.jsxs(C,{className:"group bg-black/60 backdrop-blur-xl border border-emerald-500/30 hover:border-emerald-400 rounded-2xl p-8 transition-all duration-300 hover:shadow-2xl hover:shadow-emerald-500/40 transform hover:scale-[1.02] relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent rounded-2xl"}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-6 relative z-10",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 shadow-2xl shadow-emerald-500/50 group-hover:animate-pulse",children:s.jsx(mr,{className:"w-10 h-10 text-black"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-4 group-hover:text-emerald-300 transition-colors",children:"Client Portal"}),s.jsx("p",{className:"text-lg text-gray-300 group-hover:text-emerald-200 transition-colors mb-6",children:"Request luxury landscaping services"}),s.jsx("div",{className:"space-y-4",children:s.jsxs(I,{onClick:()=>e("/client-login"),className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-black font-bold py-4 px-6 rounded-xl transition-all duration-300 transform hover:scale-[1.02] hover:shadow-[0_0_30px_rgba(16,185,129,0.6)] shadow-lg shadow-emerald-500/50 flex items-center justify-center",children:[s.jsx(mr,{className:"w-5 h-5 mr-2"}),"Access Portal"]})})]})]})]}),s.jsxs(C,{className:"group bg-black/60 backdrop-blur-xl border border-emerald-500/30 hover:border-emerald-400 rounded-2xl p-8 transition-all duration-300 hover:shadow-2xl hover:shadow-emerald-500/40 transform hover:scale-[1.02] relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent rounded-2xl"}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-6 relative z-10",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 shadow-2xl shadow-emerald-500/50 group-hover:animate-pulse",children:s.jsx(Ln,{className:"w-10 h-10 text-black"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-4 group-hover:text-emerald-300 transition-colors",children:"Professional Portal"}),s.jsx("p",{className:"text-lg text-gray-300 group-hover:text-emerald-200 transition-colors mb-6",children:"Join our network of elite landscaping professionals"}),s.jsx("div",{className:"space-y-4",children:s.jsxs(I,{onClick:()=>e("/pro-login"),className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-black font-bold py-4 px-6 rounded-xl transition-all duration-300 transform hover:scale-[1.02] hover:shadow-[0_0_30px_rgba(16,185,129,0.6)] shadow-lg shadow-emerald-500/50 flex items-center justify-center",children:[s.jsx(Ln,{className:"w-5 h-5 mr-2"}),"Access Portal"]})})]})]})]})]}),s.jsx("div",{className:"text-center mt-12",children:s.jsx("p",{className:"text-gray-500 text-sm",children:"Need help choosing? Contact our support team"})})]})})]})}function c0e({channelStats:e}){const{isConnected:t,connectionStatus:r,subscribe:n}=hv(),[a,i]=m.useState(e),[o,l]=m.useState(!1);m.useEffect(()=>n("channel_stats_update",p=>{i(g=>({...g,[p.channel]:{...g?.[p.channel],...p.stats}})),l(!0),setTimeout(()=>l(!1),300)}),[n]);const c=a||{slack:{status:"healthy",successRate:98.5,lastSent:new Date,avgDeliveryTime:1.2,totalSent:1250,failures:18},email:{status:"healthy",successRate:99.1,lastSent:new Date,avgDeliveryTime:2.8,totalSent:892,failures:8},sms:{status:"degraded",successRate:94.2,lastSent:new Date,avgDeliveryTime:5.1,totalSent:156,failures:9}},u=h=>{switch(h){case"healthy":return s.jsx(Ne,{className:"h-5 w-5 text-green-600"});case"degraded":return s.jsx(gt,{className:"h-5 w-5 text-yellow-600"});case"down":return s.jsx(gt,{className:"h-5 w-5 text-red-600"});default:return s.jsx(gt,{className:"h-5 w-5 text-gray-600"})}},d=h=>{switch(h){case"healthy":return"bg-green-100 text-green-800";case"degraded":return"bg-yellow-100 text-yellow-800";case"down":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=[{name:"Slack",icon:s.jsx(Ao,{className:"h-6 w-6"}),stats:c.slack,description:"Real-time team notifications"},{name:"Email",icon:s.jsx($s,{className:"h-6 w-6"}),stats:c.email,description:"SMTP fallback notifications"},{name:"SMS",icon:s.jsx(Nw,{className:"h-6 w-6"}),stats:c.sms,description:"Critical alert notifications"}];return s.jsxs("div",{className:"space-y-4",children:[s.jsx(C,{className:`transition-all duration-300 ${o?"ring-2 ring-blue-500":""}`,children:s.jsx(M,{className:"pb-3",children:s.jsxs(L,{className:"flex items-center gap-2",children:[t?s.jsx(zp,{className:"h-4 w-4 text-green-500"}):s.jsx(ZO,{className:"h-4 w-4 text-red-500"}),"Real-time Status",s.jsx(Y,{variant:t?"default":"destructive",children:r})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:f.map(h=>s.jsxs(C,{className:"transition-all duration-300 hover:shadow-lg",children:[s.jsxs(M,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[h.icon,s.jsx(L,{className:"text-lg",children:h.name})]}),u(h.stats.status)]}),s.jsx("p",{className:"text-sm text-gray-600",children:h.description})]}),s.jsxs(T,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Status"}),s.jsx(Y,{className:d(h.stats.status),children:h.stats.status.charAt(0).toUpperCase()+h.stats.status.slice(1)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Success Rate"}),s.jsxs("span",{className:"text-sm font-bold text-green-600",children:[h.stats.successRate,"%"]})]}),s.jsx(yo,{value:h.stats.successRate,className:"h-2"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Avg Delivery"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[h.stats.avgDeliveryTime,"s"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Last Sent"}),s.jsx("span",{className:"text-sm text-gray-600",children:h.stats.lastSent.toLocaleTimeString()})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 text-xs",children:[s.jsxs("div",{className:"text-center p-2 bg-green-50 rounded",children:[s.jsx("div",{className:"font-bold text-green-600",children:h.stats.totalSent}),s.jsx("div",{className:"text-green-600",children:"Sent"})]}),s.jsxs("div",{className:"text-center p-2 bg-red-50 rounded",children:[s.jsx("div",{className:"font-bold text-red-600",children:h.stats.failures}),s.jsx("div",{className:"text-red-600",children:"Failed"})]})]}),s.jsx("div",{className:"flex gap-2 pt-2",children:s.jsxs(I,{variant:"outline",size:"sm",className:"flex-1",children:[s.jsx(sr,{className:"h-3 w-3 mr-1"}),"Test"]})})]})]},h.name))})]})}function u0e(){const{isConnected:e,subscribe:t}=hv(),[r,n]=m.useState({channelPerformance:[{channel:"Slack",sent:1250,delivered:1232,failed:18,avgDeliveryTime:1.2},{channel:"Email",sent:892,delivered:884,failed:8,avgDeliveryTime:2.8},{channel:"SMS",sent:156,delivered:147,failed:9,avgDeliveryTime:5.1}],hourlyTrends:[{hour:"12:00",sent:45,success:43,failed:2},{hour:"13:00",sent:52,success:51,failed:1},{hour:"14:00",sent:38,success:37,failed:1},{hour:"15:00",sent:61,success:58,failed:3},{hour:"16:00",sent:73,success:70,failed:3},{hour:"17:00",sent:89,success:85,failed:4},{hour:"18:00",sent:67,success:65,failed:2}],failureReasons:[{reason:"Network Timeout",count:15,percentage:45},{reason:"Invalid Recipient",count:8,percentage:24},{reason:"Rate Limit",count:6,percentage:18},{reason:"Service Unavailable",count:4,percentage:13}]}),[a,i]=m.useState({totalSent:2298,totalDelivered:2263,totalFailed:35,avgDeliveryTime:2.4,uptime:99.2});m.useEffect(()=>{const l=t("metrics_update",u=>{n(d=>({...d,...u}))}),c=t("live_metrics",u=>{i(d=>({...d,...u}))});return()=>{l(),c()}},[t]);const o=["#10B981","#F59E0B","#EF4444","#8B5CF6"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsx(C,{children:s.jsxs(T,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.totalSent}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Sent"})]})}),s.jsx(C,{children:s.jsxs(T,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.totalDelivered}),s.jsx("div",{className:"text-sm text-gray-600",children:"Delivered"})]})}),s.jsx(C,{children:s.jsxs(T,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.totalFailed}),s.jsx("div",{className:"text-sm text-gray-600",children:"Failed"})]})}),s.jsx(C,{children:s.jsxs(T,{className:"p-4 text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[a.avgDeliveryTime,"s"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Avg Delivery"})]})}),s.jsx(C,{children:s.jsxs(T,{className:"p-4 text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[a.uptime,"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Uptime"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(vi,{className:"h-5 w-5"}),"Channel Performance",e&&s.jsx(Y,{variant:"outline",className:"text-xs",children:"Live"})]})}),s.jsx(T,{children:s.jsx(Ts,{width:"100%",height:300,children:s.jsxs(yp,{data:r.channelPerformance,children:[s.jsx(fi,{strokeDasharray:"3 3"}),s.jsx(hi,{dataKey:"channel"}),s.jsx(mi,{}),s.jsx(Rs,{}),s.jsx(fc,{dataKey:"delivered",fill:"#10B981",name:"Delivered"}),s.jsx(fc,{dataKey:"failed",fill:"#EF4444",name:"Failed"})]})})})]}),s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(it,{className:"h-5 w-5"}),"Failure Analysis"]})}),s.jsx(T,{children:s.jsx(Ts,{width:"100%",height:300,children:s.jsxs(PN,{children:[s.jsx(uv,{data:r.failureReasons,cx:"50%",cy:"50%",labelLine:!1,label:({reason:l,percentage:c})=>`${l}: ${c}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:r.failureReasons.map((l,c)=>s.jsx(Zo,{fill:o[c%o.length]},`cell-${c}`))}),s.jsx(Rs,{})]})})})]})]}),s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(nt,{className:"h-5 w-5"}),"Hourly Delivery Trends"]})}),s.jsx(T,{children:s.jsx(Ts,{width:"100%",height:300,children:s.jsxs(kN,{data:r.hourlyTrends,children:[s.jsx(fi,{strokeDasharray:"3 3"}),s.jsx(hi,{dataKey:"hour"}),s.jsx(mi,{}),s.jsx(Rs,{}),s.jsx(mc,{type:"monotone",dataKey:"success",stroke:"#10B981",strokeWidth:2,name:"Success"}),s.jsx(mc,{type:"monotone",dataKey:"failed",stroke:"#EF4444",strokeWidth:2,name:"Failed"})]})})})]}),s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Detailed Channel Metrics"})}),s.jsx(T,{children:s.jsx("div",{className:"space-y-4",children:r.channelPerformance.map(l=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-medium",children:l.channel}),s.jsxs(Y,{variant:"outline",children:[(l.delivered/l.sent*100).toFixed(1),"% success"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-600",children:"Sent"}),s.jsx("div",{className:"font-bold",children:l.sent})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-600",children:"Delivered"}),s.jsx("div",{className:"font-bold text-green-600",children:l.delivered})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-600",children:"Failed"}),s.jsx("div",{className:"font-bold text-red-600",children:l.failed})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-600",children:"Avg Time"}),s.jsxs("div",{className:"font-bold",children:[l.avgDeliveryTime,"s"]})]})]})]},l.channel))})})]})]})}function d0e(){const[e,t]=m.useState(""),[r,n]=m.useState("all"),[a,i]=m.useState("all"),o=[{id:"1",channel:"slack",type:"deployment_success",recipient:"#deployments",status:"delivered",timestamp:new Date(Date.now()-3e5),deliveryTime:1.2},{id:"2",channel:"email",type:"validation_failed",recipient:"dev-team@company.com",status:"delivered",timestamp:new Date(Date.now()-9e5),deliveryTime:2.8},{id:"3",channel:"sms",type:"critical_alert",recipient:"+1234567890",status:"failed",timestamp:new Date(Date.now()-18e5),deliveryTime:0,errorMessage:"Network timeout after 30s"}],l=f=>{switch(f){case"slack":return s.jsx(Ao,{className:"h-4 w-4"});case"email":return s.jsx($s,{className:"h-4 w-4"});case"sms":return s.jsx(Nw,{className:"h-4 w-4"});default:return null}},c=f=>{switch(f){case"delivered":return s.jsx(Ne,{className:"h-4 w-4 text-green-600"});case"failed":return s.jsx(dt,{className:"h-4 w-4 text-red-600"});case"pending":return s.jsx(nt,{className:"h-4 w-4 text-yellow-600"});default:return null}},u=f=>{switch(f){case"delivered":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},d=o.filter(f=>{const h=f.type.toLowerCase().includes(e.toLowerCase())||f.recipient.toLowerCase().includes(e.toLowerCase()),p=r==="all"||f.channel===r,g=a==="all"||f.status===a;return h&&p&&g});return s.jsxs(C,{children:[s.jsxs(M,{children:[s.jsx(L,{children:"Notification History"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(sd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(le,{placeholder:"Search notifications...",value:e,onChange:f=>t(f.target.value),className:"pl-10"})]}),s.jsxs(pr,{value:r,onValueChange:n,children:[s.jsx(ar,{className:"w-full sm:w-40",children:s.jsx(gr,{placeholder:"Channel"})}),s.jsxs(ir,{children:[s.jsx(ae,{value:"all",children:"All Channels"}),s.jsx(ae,{value:"slack",children:"Slack"}),s.jsx(ae,{value:"email",children:"Email"}),s.jsx(ae,{value:"sms",children:"SMS"})]})]}),s.jsxs(pr,{value:a,onValueChange:i,children:[s.jsx(ar,{className:"w-full sm:w-40",children:s.jsx(gr,{placeholder:"Status"})}),s.jsxs(ir,{children:[s.jsx(ae,{value:"all",children:"All Status"}),s.jsx(ae,{value:"delivered",children:"Delivered"}),s.jsx(ae,{value:"failed",children:"Failed"}),s.jsx(ae,{value:"pending",children:"Pending"})]})]}),s.jsxs(I,{variant:"outline",children:[s.jsx(Ri,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),s.jsx(T,{children:s.jsx("div",{className:"space-y-3",children:d.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[l(f.channel),s.jsx("span",{className:"font-medium capitalize",children:f.channel})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:f.type.replace("_"," ")}),s.jsx("div",{className:"text-sm text-gray-600",children:f.recipient})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm",children:f.timestamp.toLocaleTimeString()}),f.status==="delivered"&&s.jsxs("div",{className:"text-xs text-gray-500",children:[f.deliveryTime,"s"]}),f.errorMessage&&s.jsx("div",{className:"text-xs text-red-600 max-w-40 truncate",title:f.errorMessage,children:f.errorMessage})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[c(f.status),s.jsx(Y,{className:u(f.status),children:f.status})]})]})]},f.id))})})]})}function f0e(){const[e,t]=m.useState("slack"),[r,n]=m.useState(""),[a,i]=m.useState(""),[o,l]=m.useState("custom"),[c,u]=m.useState(!1),[d,f]=m.useState([]),h={deployment_success:{title:"Deployment Success",message:`✅ Deployment completed successfully!

Commit: abc123
Branch: main
Duration: 2m 34s`},validation_failed:{title:"Validation Failed",message:`❌ Environment validation failed!

Error: Missing STRIPE_SECRET_KEY
Action: Update environment variables`},critical_alert:{title:"Critical Alert",message:`🚨 CRITICAL: System experiencing high error rates

Error Rate: 15%
Affected Services: Payment Processing`}},p=async()=>{u(!0);const y=Date.now();await new Promise(S=>setTimeout(S,Math.random()*2e3+500));const b=Date.now()-y,w=Math.random()>.2,j={channel:e,status:w?"success":"failed",timestamp:new Date,responseTime:b,errorMessage:w?void 0:"Connection timeout after 30 seconds"};f(S=>[j,...S.slice(0,9)]),u(!1)},g=async()=>{const y=["slack","email","sms"];for(const b of y){u(!0);const w=Date.now();await new Promise(_=>setTimeout(_,Math.random()*1500+500));const j=Date.now()-w,S=Math.random()>.15,N={channel:b,status:S?"success":"failed",timestamp:new Date,responseTime:j,errorMessage:S?void 0:`${b} service unavailable`};f(_=>[N,..._])}u(!1)},v=y=>{switch(y){case"slack":return s.jsx(Ao,{className:"h-4 w-4"});case"email":return s.jsx($s,{className:"h-4 w-4"});case"sms":return s.jsx(Nw,{className:"h-4 w-4"});default:return null}},x=y=>{switch(y){case"success":return s.jsx(Ne,{className:"h-4 w-4 text-green-600"});case"failed":return s.jsx(dt,{className:"h-4 w-4 text-red-600"});case"pending":return s.jsx(nt,{className:"h-4 w-4 text-yellow-600"});default:return null}};return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Manual Test"})}),s.jsxs(T,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Channel"}),s.jsxs(pr,{value:e,onValueChange:t,children:[s.jsx(ar,{children:s.jsx(gr,{})}),s.jsxs(ir,{children:[s.jsx(ae,{value:"slack",children:"Slack"}),s.jsx(ae,{value:"email",children:"Email"}),s.jsx(ae,{value:"sms",children:"SMS"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Template"}),s.jsxs(pr,{value:o,onValueChange:l,children:[s.jsx(ar,{children:s.jsx(gr,{})}),s.jsxs(ir,{children:[s.jsx(ae,{value:"custom",children:"Custom Message"}),s.jsx(ae,{value:"deployment_success",children:"Deployment Success"}),s.jsx(ae,{value:"validation_failed",children:"Validation Failed"}),s.jsx(ae,{value:"critical_alert",children:"Critical Alert"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Recipient"}),s.jsx(le,{placeholder:e==="slack"?"#channel or @user":e==="email"?"email@example.com":"+1234567890",value:r,onChange:y=>n(y.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Message"}),s.jsx(ka,{placeholder:"Enter your test message...",rows:4,value:o==="custom"?a:h[o]?.message||"",onChange:y=>i(y.target.value),disabled:o!=="custom"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(I,{onClick:p,disabled:c||!r,className:"flex-1",children:[s.jsx(GO,{className:"h-4 w-4 mr-2"}),c?"Sending...":"Send Test"]}),s.jsxs(I,{variant:"outline",onClick:g,disabled:c,children:[s.jsx(YO,{className:"h-4 w-4 mr-2"}),"Test All"]})]})]})]}),s.jsxs(C,{children:[s.jsx(M,{children:s.jsx(L,{children:"Test Results"})}),s.jsx(T,{children:s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:d.length===0?s.jsx("div",{className:"text-center text-gray-500 py-8",children:"No test results yet. Run a test to see results here."}):d.map((y,b)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[v(y.channel),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium capitalize",children:y.channel}),s.jsx("div",{className:"text-sm text-gray-600",children:y.timestamp.toLocaleTimeString()})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm",children:[y.responseTime,"ms"]}),y.errorMessage&&s.jsx("div",{className:"text-xs text-red-600 max-w-32 truncate",title:y.errorMessage,children:y.errorMessage})]}),x(y.status)]})]},b))})})]})]})}const h0e=()=>s.jsx(P$,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notification Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Real-time monitoring and management of all notification channels"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(Y,{variant:"outline",className:"text-green-600",children:[s.jsx(zp,{className:"w-3 h-3 mr-1"}),"Live Monitoring Active"]})})]}),s.jsxs(wn,{defaultValue:"live",className:"space-y-6",children:[s.jsxs(Yr,{className:"grid w-full grid-cols-6",children:[s.jsxs(fe,{value:"live",className:"flex items-center gap-2",children:[s.jsx(vi,{className:"h-4 w-4"}),"Live Feed"]}),s.jsxs(fe,{value:"channels",className:"flex items-center gap-2",children:[s.jsx(Dn,{className:"h-4 w-4"}),"Channels"]}),s.jsxs(fe,{value:"metrics",className:"flex items-center gap-2",children:[s.jsx(xi,{className:"h-4 w-4"}),"Metrics"]}),s.jsxs(fe,{value:"history",className:"flex items-center gap-2",children:[s.jsx(DV,{className:"h-4 w-4"}),"History"]}),s.jsxs(fe,{value:"testing",className:"flex items-center gap-2",children:[s.jsx(pn,{className:"h-4 w-4"}),"Testing"]}),s.jsxs(fe,{value:"preferences",className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-4 w-4"}),"Push Settings"]})]}),s.jsx(ge,{value:"live",children:s.jsx(MN,{})}),s.jsx(ge,{value:"channels",children:s.jsx(c0e,{})}),s.jsx(ge,{value:"metrics",children:s.jsx(u0e,{})}),s.jsx(ge,{value:"history",children:s.jsx(d0e,{})}),s.jsx(ge,{value:"testing",children:s.jsx(f0e,{})}),s.jsx(ge,{value:"preferences",children:s.jsx(J$,{})})]})]})})});class m0e{cache=new Map;historicalData=[];async generateQuote(t){try{const r=this.getCacheKey(t);if(this.cache.has(r))return He.info("Returning cached quote estimate"),this.cache.get(r);He.info("Generating new AI quote estimate");const{data:n,error:a}=await P.functions.invoke("ai-quote-analyzer",{body:t});if(a)throw He.error("AI quote generation failed:",a),new Error("Failed to generate quote estimate");const i=n;return this.cache.set(r,i),await this.storeQuoteData(t,i),He.info("AI quote generated successfully",{confidence:i.confidence}),i}catch(r){throw He.error("Quote generation error:",r),r}}async getHistoricalAccuracy(){try{const{data:t,error:r}=await P.from("quotes").select("estimated_price, final_price, created_at").not("final_price","is",null).limit(100);if(r)throw r;if(!t||t.length===0)return .85;const n=t.map(a=>{const i=1-Math.abs(a.final_price-a.estimated_price)/a.final_price;return Math.max(0,Math.min(1,i))});return n.reduce((a,i)=>a+i,0)/n.length}catch(t){return He.error("Failed to calculate historical accuracy:",t),.85}}async updateModelWithActual(t,r){try{await P.from("quotes").update({final_price:r,updated_at:new Date().toISOString()}).eq("id",t),He.info("Updated quote with actual price for ML training",{quoteId:t,actualPrice:r})}catch(n){He.error("Failed to update quote with actual price:",n)}}getCacheKey(t){return`${t.address}_${t.squareFootage}_${t.services.sort().join("_")}`}async storeQuoteData(t,r){try{await P.from("quotes").insert({address:t.address,square_footage:t.squareFootage,services:t.services,property_type:t.propertyType,estimated_price:r.estimatedPrice,confidence_score:r.confidence,breakdown:r.breakdown,recommendations:r.recommendations,created_at:new Date().toISOString()})}catch(n){He.warn("Failed to store quote data:",n)}}}const V6=new m0e,p0e=[{id:"lawn-mowing",label:"Lawn Mowing",price:"$0.15/sqft"},{id:"hedge-trimming",label:"Hedge Trimming",price:"$25/hour"},{id:"garden-maintenance",label:"Garden Maintenance",price:"$0.25/sqft"},{id:"tree-pruning",label:"Tree Pruning",price:"$75/tree"},{id:"landscape-design",label:"Landscape Design",price:"$2.50/sqft"}],g0e=()=>{const[e,t]=m.useState({address:"",squareFootage:"",propertyType:"residential",services:[]}),[r,n]=m.useState([]),[a,i]=m.useState(null),[o,l]=m.useState(!1),[c,u]=m.useState(null),d=g=>{const v=g.target.files;v&&Array.from(v).forEach(x=>{const y=new FileReader;y.onload=b=>{b.target?.result&&n(w=>[...w,b.target.result])},y.readAsDataURL(x)})},f=g=>{t(v=>({...v,services:v.services.includes(g)?v.services.filter(x=>x!==g):[...v.services,g]}))},h=async()=>{if(!e.address||!e.squareFootage||e.services.length===0){He.warn("Incomplete quote form data");return}l(!0);try{const g={images:r,address:e.address,squareFootage:parseInt(e.squareFootage),services:e.services,propertyType:e.propertyType},v=await V6.generateQuote(g);i(v),He.info("Quote generated successfully")}catch(g){He.error("Quote generation failed:",g)}finally{l(!1)}},p=()=>{c&&a&&(i({...a,estimatedPrice:c,confidence:.9}),u(null))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(UO,{className:"h-5 w-5 text-blue-600"}),"AI-Powered Quote Estimation"]})}),s.jsxs(T,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"address",children:"Property Address"}),s.jsxs("div",{className:"flex",children:[s.jsx(Vs,{className:"h-4 w-4 mt-3 mr-2 text-gray-400"}),s.jsx(le,{id:"address",placeholder:"123 Main St, City, State",value:e.address,onChange:g=>t(v=>({...v,address:g.target.value}))})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"squareFootage",children:"Square Footage"}),s.jsx(le,{id:"squareFootage",type:"number",placeholder:"5000",value:e.squareFootage,onChange:g=>t(v=>({...v,squareFootage:g.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Services Required"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:p0e.map(g=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ld,{id:g.id,checked:e.services.includes(g.id),onCheckedChange:()=>f(g.id)}),s.jsxs(ie,{htmlFor:g.id,className:"text-sm",children:[g.label," ",s.jsxs("span",{className:"text-gray-500",children:["(",g.price,")"]})]})]},g.id))})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"images",children:"Property Images"}),s.jsxs("div",{className:"mt-2",children:[s.jsx("input",{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:d,className:"hidden"}),s.jsxs(I,{type:"button",variant:"outline",onClick:()=>document.getElementById("images")?.click(),className:"w-full",children:[s.jsx(QO,{className:"h-4 w-4 mr-2"}),"Upload Property Images (",r.length," selected)"]})]})]}),s.jsx(I,{onClick:h,disabled:o,className:"w-full",children:o?"Analyzing...":"Generate AI Quote"})]})]}),a&&s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Nt,{className:"h-5 w-5 text-green-600"}),"Quote Estimate"]}),s.jsxs(Y,{variant:a.confidence>.8?"default":"secondary",children:[Math.round(a.confidence*100),"% Confidence"]})]})}),s.jsxs(T,{className:"space-y-4",children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["$",a.estimatedPrice.toFixed(2)]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Price Breakdown"}),Object.entries(a.breakdown).map(([g,v])=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"capitalize",children:g.replace("-"," ")}),s.jsxs("span",{children:["$",v.toFixed(2)]})]},g))]}),a.recommendations.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"AI Recommendations"}),s.jsx("ul",{className:"list-disc list-inside space-y-1",children:a.recommendations.map((g,v)=>s.jsx("li",{className:"text-sm text-gray-600",children:g},v))})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Manual Override"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{type:"number",placeholder:"Enter custom price",value:c||"",onChange:g=>u(parseFloat(g.target.value))}),s.jsx(I,{onClick:p,variant:"outline",children:"Apply"})]})]})]})]})]})},v0e=[{season:"spring",multiplier:1.2,description:"High demand season"},{season:"summer",multiplier:1,description:"Standard pricing"},{season:"fall",multiplier:1.1,description:"Cleanup season"},{season:"winter",multiplier:.8,description:"Low demand season"}],x0e=()=>{const[e,t]=m.useState(v0e),[r,n]=m.useState(""),[a,i]=m.useState(0),[o,l]=m.useState(!1);m.useEffect(()=>{const p=new Date().getMonth();let g="summer";p>=2&&p<=4?g="spring":p>=8&&p<=10?g="fall":(p===11||p<=1)&&(g="winter"),n(g),c()},[]);const c=async()=>{try{const p=await V6.getHistoricalAccuracy();i(p)}catch(p){He.error("Failed to load historical accuracy:",p)}},u=(p,g)=>{t(v=>v.map(x=>x.season===p?{...x,multiplier:g}:x))},d=()=>{localStorage.setItem("seasonalMultipliers",JSON.stringify(e)),l(!1),He.info("Seasonal multipliers updated")},f=()=>e.find(p=>p.season===r)?.multiplier||1,h=p=>({spring:"🌸",summer:"☀️",fall:"🍂",winter:"❄️"})[p]||"📅";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(cr,{className:"h-5 w-5 text-blue-600"}),"Seasonal Pricing Engine"]})}),s.jsxs(T,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl mb-2",children:[h(r)," ",r.charAt(0).toUpperCase()+r.slice(1)]}),s.jsx(Y,{variant:"outline",children:"Current Season"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600 mb-2",children:[(f()*100).toFixed(0),"%"]}),s.jsx(Y,{variant:"outline",children:"Price Multiplier"})]})]}),s.jsx("div",{className:"space-y-3",children:e.map(({season:p,multiplier:g,description:v})=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xl",children:h(p)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium capitalize",children:p}),s.jsx("div",{className:"text-sm text-gray-500",children:v})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:o?s.jsx(le,{type:"number",step:"0.1",min:"0.1",max:"2.0",value:g,onChange:x=>u(p,parseFloat(x.target.value)),className:"w-20"}):s.jsxs(Y,{variant:p===r?"default":"secondary",children:[g,"x"]})})]},p))}),s.jsx("div",{className:"flex gap-2 mt-4",children:o?s.jsxs(s.Fragment,{children:[s.jsx(I,{onClick:d,className:"flex-1",children:"Save Changes"}),s.jsx(I,{onClick:()=>l(!1),variant:"outline",children:"Cancel"})]}):s.jsxs(I,{onClick:()=>l(!0),variant:"outline",className:"flex-1",children:[s.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Edit Multipliers"]})})]})]}),s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"h-5 w-5 text-green-600"}),"Model Performance"]})}),s.jsxs(T,{children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[(a*100).toFixed(1),"%"]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Historical Accuracy"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[f()>1?"+":"",((f()-1)*100).toFixed(0),"%"]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Current Adjustment"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"AI + Seasonal"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Pricing Model"})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Current Season Impact:"})," ",r==="spring"?"Prices increased due to high demand":r==="summer"?"Standard pricing in effect":r==="fall"?"Slight increase for cleanup services":"Reduced pricing for winter season"]})})]})]})]})},y0e=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"AI Quote Estimation Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Leverage machine learning and computer vision for accurate landscaping quotes"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[s.jsxs(C,{children:[s.jsx(M,{className:"pb-2",children:s.jsxs(L,{className:"flex items-center gap-2 text-lg",children:[s.jsx(UO,{className:"h-5 w-5 text-blue-600"}),"AI Analysis"]})}),s.jsxs(T,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:"GPT-4 Vision"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Advanced image analysis for property assessment"})]})]}),s.jsxs(C,{children:[s.jsx(M,{className:"pb-2",children:s.jsxs(L,{className:"flex items-center gap-2 text-lg",children:[s.jsx(VO,{className:"h-5 w-5 text-green-600"}),"ML Training"]})}),s.jsxs(T,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:"Historical Data"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Continuous learning from completed jobs"})]})]}),s.jsxs(C,{children:[s.jsx(M,{className:"pb-2",children:s.jsxs(L,{className:"flex items-center gap-2 text-lg",children:[s.jsx(xi,{className:"h-5 w-5 text-purple-600"}),"Instant Quotes"]})}),s.jsxs(T,{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:"Real-time"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Generate accurate quotes in seconds"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[s.jsx("div",{children:s.jsx(g0e,{})}),s.jsx("div",{children:s.jsx(x0e,{})})]}),s.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"How AI Quote Estimation Works"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl",children:"📸"})}),s.jsx("h4",{className:"font-medium mb-2",children:"Image Analysis"}),s.jsx("p",{className:"text-sm text-gray-600",children:"AI analyzes property photos to identify lawn area, landscaping complexity, and maintenance needs"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl",children:"🗺️"})}),s.jsx("h4",{className:"font-medium mb-2",children:"Location Data"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Google Maps integration provides climate data, accessibility, and regional pricing factors"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl",children:"🧠"})}),s.jsx("h4",{className:"font-medium mb-2",children:"Smart Pricing"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Machine learning models trained on historical data provide accurate, competitive quotes"})]})]})]})]})});function Wo({children:e,activeTab:t="overview"}){const r=Ae();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs(I,{variant:"ghost",onClick:()=>r("/client-dashboard"),className:"text-white hover:text-green-400 hover:bg-slate-800",children:[s.jsx(ps,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Payment Management"}),s.jsx("p",{className:"text-lg text-gray-300",children:"Manage your payment methods, subscriptions, and billing"})]}),s.jsx("div",{className:"w-24"})," "]}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"inline-flex bg-slate-800 border border-slate-700 rounded-lg p-1",children:[s.jsxs("button",{onClick:()=>r("/payments/overview"),className:`flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-all ${t==="overview"?"bg-green-600 text-white shadow-md":"text-gray-300 hover:text-white hover:bg-slate-700"}`,children:[s.jsx(Ks,{className:"h-4 w-4"}),"Overview"]}),s.jsxs("button",{onClick:()=>r("/payments/methods"),className:`flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-all ${t==="methods"?"bg-green-600 text-white shadow-md":"text-gray-300 hover:text-white hover:bg-slate-700"}`,children:[s.jsx(st,{className:"h-4 w-4"}),"Methods"]}),s.jsxs("button",{onClick:()=>r("/payments/subscriptions"),className:`flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-all ${t==="subscriptions"?"bg-green-600 text-white shadow-md":"text-gray-300 hover:text-white hover:bg-slate-700"}`,children:[s.jsx(xm,{className:"h-4 w-4"}),"Subscriptions"]}),s.jsxs("button",{onClick:()=>r("/payments/security"),className:`flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-all ${t==="security"?"bg-green-600 text-white shadow-md":"text-gray-300 hover:text-white hover:bg-slate-700"}`,children:[s.jsx(pn,{className:"h-4 w-4"}),"Security"]})]})})}),s.jsx("div",{className:"max-w-6xl mx-auto",children:e})]})})}function b0e(){const{user:e}=Lw(),[t,r]=m.useState({totalRevenue:0,pendingPayments:0,completedPayments:0,refundedAmount:0,monthlyRevenue:0,subscriptionRevenue:0}),[n,a]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(!1),{toast:u}=Jn(),d=e?.id||"demo-user-123",f=e?.user_metadata?.role||"client";m.useEffect(()=>{h()},[d,f]);const h=async()=>{try{o(!0);let y=P.from("payments").select("*");f==="client"?y=y.eq("client_id",d):f==="landscaper"&&(y=y.eq("landscaper_id",d));const{data:b,error:w}=await y.order("created_at",{ascending:!1});if(w&&w.code!=="PGRST116")throw w;const j=b||[];a(j);const S=new Date().getMonth(),N=new Date().getFullYear(),_={totalRevenue:j.filter(E=>E.status==="succeeded").reduce((E,k)=>E+(k.amount||0),0),pendingPayments:j.filter(E=>E.status==="pending").length,completedPayments:j.filter(E=>E.status==="succeeded").length,refundedAmount:j.filter(E=>E.status==="refunded").reduce((E,k)=>E+(k.amount||0),0),monthlyRevenue:j.filter(E=>{const k=new Date(E.created_at);return E.status==="succeeded"&&k.getMonth()===S&&k.getFullYear()===N}).reduce((E,k)=>E+(k.amount||0),0),subscriptionRevenue:j.filter(E=>E.status==="succeeded"&&E.subscription_id).reduce((E,k)=>E+(k.amount||0),0)};r(_)}catch(y){console.error("Error fetching payment data:",y),u({title:"Error",description:"Failed to load payment data",variant:"destructive"})}finally{o(!1)}},p=async()=>{c(!0),await h(),c(!1),u({title:"Refreshed",description:"Payment data has been updated"})},g=async y=>{try{const{data:b,error:w}=await P.functions.invoke("generate-invoice",{body:{transactionId:y,userId:d}});if(w)throw w;const j=new Blob([b],{type:"application/pdf"}),S=window.URL.createObjectURL(j),N=document.createElement("a");N.href=S,N.download=`invoice-${y}.pdf`,N.click(),u({title:"Success",description:"Invoice downloaded successfully"})}catch{u({title:"Error",description:"Failed to download invoice",variant:"destructive"})}},v=y=>{const b={succeeded:{label:"Completed",color:"bg-green-100 text-green-800"},pending:{label:"Pending",color:"bg-yellow-100 text-yellow-800"},failed:{label:"Failed",color:"bg-red-100 text-red-800"},refunded:{label:"Refunded",color:"bg-gray-100 text-gray-800"}},w=b[y]||b.pending;return s.jsx(Y,{className:w.color,children:w.label})},x=({title:y,value:b,icon:w,color:j,trend:S})=>s.jsx(C,{className:"bg-slate-800 border-slate-700 hover:bg-slate-750 transition-colors",children:s.jsx(T,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-300",children:y}),s.jsx("p",{className:"text-2xl font-bold text-white",children:b}),S&&s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:S})]}),s.jsx(w,{className:`h-8 w-8 ${j}`})]})})});return i?s.jsx(Wo,{activeTab:"overview",children:s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(y=>s.jsx(C,{className:"bg-slate-800 border-slate-700",children:s.jsx(T,{className:"p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-slate-600 rounded mb-2"}),s.jsx("div",{className:"h-8 bg-slate-600 rounded"})]})})},y))})})}):s.jsx(Wo,{activeTab:"overview",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Payment Overview"}),s.jsxs(I,{variant:"outline",onClick:p,disabled:l,className:"border-slate-600 text-white hover:bg-slate-700",children:[s.jsx(sr,{className:`h-4 w-4 mr-2 ${l?"animate-spin":""}`}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(x,{title:f==="client"?"Total Spent":"Total Revenue",value:`$${(t.totalRevenue/100).toFixed(2)}`,icon:Nt,color:"text-green-400",trend:"+12% from last month"}),s.jsx(x,{title:"This Month",value:`$${(t.monthlyRevenue/100).toFixed(2)}`,icon:Ks,color:"text-blue-400"}),s.jsx(x,{title:"Pending Payments",value:t.pendingPayments,icon:nt,color:"text-yellow-400"}),s.jsx(x,{title:"Completed",value:t.completedPayments,icon:Ne,color:"text-green-400"}),s.jsx(x,{title:"Subscriptions",value:`$${(t.subscriptionRevenue/100).toFixed(2)}`,icon:xm,color:"text-purple-400"}),s.jsx(x,{title:"Refunded",value:`$${(t.refundedAmount/100).toFixed(2)}`,icon:gt,color:"text-red-400"})]}),s.jsxs(C,{className:"bg-slate-800 border-slate-700",children:[s.jsx(M,{children:s.jsxs(L,{className:"text-white flex items-center gap-2",children:[s.jsx(st,{className:"h-5 w-5"}),"Recent Transactions"]})}),s.jsx(T,{children:n.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(xm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No transactions yet"}),s.jsx("p",{className:"text-gray-400",children:"Your payment history will appear here"})]}):s.jsx("div",{className:"space-y-4",children:n.slice(0,10).map(y=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[s.jsx("p",{className:"font-medium text-white truncate",children:y.description||"Payment"}),s.jsx("p",{className:"text-sm text-gray-400",children:new Date(y.created_at).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"font-semibold text-white",children:["$",(y.amount/100).toFixed(2)]}),v(y.status),s.jsx(I,{variant:"outline",size:"sm",onClick:()=>g(y.id),className:"border-slate-600 text-white hover:bg-slate-600",children:s.jsx(Ri,{className:"h-4 w-4"})})]})]},y.id))})})]})]})})}function w0e(){const{user:e}=Lw(),[t,r]=m.useState([]),[n,a]=m.useState(!0),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[u,d]=m.useState(!1),[f,h]=m.useState({number:"",expiry:"",cvc:"",name:""}),{toast:p}=Jn(),g=e?.id||"demo-user-123";m.useEffect(()=>{v()},[g]);const v=async()=>{try{a(!0);const{data:N,error:_}=await P.functions.invoke("get-payment-methods",{body:{userId:g}});if(_)throw _;r(N?.paymentMethods||[])}catch(N){console.error("Error fetching payment methods:",N),p({title:"Error",description:"Failed to load payment methods",variant:"destructive"})}finally{a(!1)}},x=async()=>{d(!0),await v(),d(!1),p({title:"Refreshed",description:"Payment methods updated"})},y=async()=>{try{o(!0);const{data:N,error:_}=await P.functions.invoke("attach-payment-method",{body:{userId:g,cardData:f}});if(_)throw _;p({title:"Success",description:"Payment method added successfully"}),h({number:"",expiry:"",cvc:"",name:""}),c(!1),v()}catch{p({title:"Error",description:"Failed to add payment method",variant:"destructive"})}finally{o(!1)}},b=async N=>{try{const{error:_}=await P.functions.invoke("set-default-payment-method",{body:{userId:g,paymentMethodId:N}});if(_)throw _;p({title:"Success",description:"Default payment method updated"}),v()}catch{p({title:"Error",description:"Failed to update default payment method",variant:"destructive"})}},w=async N=>{try{const{error:_}=await P.functions.invoke("delete-payment-method",{body:{userId:g,paymentMethodId:N}});if(_)throw _;p({title:"Success",description:"Payment method removed"}),v()}catch{p({title:"Error",description:"Failed to remove payment method",variant:"destructive"})}},j=N=>s.jsx(st,{className:"h-5 w-5 text-blue-400"}),S=(N,_,E)=>N==="expired"||_&&E&&new Date>new Date(E,_-1)?s.jsx(Y,{className:"bg-red-100 text-red-800",children:"Expired"}):N==="requires_action"?s.jsx(Y,{className:"bg-yellow-100 text-yellow-800",children:"Requires Action"}):s.jsx(Y,{className:"bg-green-100 text-green-800",children:"Active"});return n?s.jsx(Wo,{activeTab:"methods",children:s.jsxs(C,{className:"bg-slate-800 border-slate-700",children:[s.jsx(M,{children:s.jsx(L,{className:"text-white",children:"Payment Methods"})}),s.jsx(T,{children:s.jsx("div",{className:"space-y-4",children:[1,2].map(N=>s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-16 bg-slate-600 rounded-lg"})},N))})})]})}):s.jsx(Wo,{activeTab:"methods",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Payment Methods"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(I,{variant:"outline",onClick:x,disabled:u,className:"border-slate-600 text-white hover:bg-slate-700",children:[s.jsx(sr,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),"Refresh"]}),s.jsxs(Jo,{open:l,onOpenChange:c,children:[s.jsx(wR,{asChild:!0,children:s.jsxs(I,{className:"bg-green-600 hover:bg-green-700",children:[s.jsx(tc,{className:"h-4 w-4 mr-2"}),"Add Method"]})}),s.jsxs(Fi,{className:"bg-slate-800 border-slate-700",children:[s.jsx(Bi,{children:s.jsx(Ui,{className:"text-white",children:"Add Payment Method"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"cardName",className:"text-gray-300",children:"Cardholder Name"}),s.jsx(le,{id:"cardName",value:f.name,onChange:N=>h(_=>({..._,name:N.target.value})),placeholder:"John Doe",className:"bg-slate-700 border-slate-600 text-white"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"cardNumber",className:"text-gray-300",children:"Card Number"}),s.jsx(le,{id:"cardNumber",value:f.number,onChange:N=>h(_=>({..._,number:N.target.value})),placeholder:"1234 5678 9012 3456",maxLength:19,className:"bg-slate-700 border-slate-600 text-white"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"expiry",className:"text-gray-300",children:"Expiry"}),s.jsx(le,{id:"expiry",value:f.expiry,onChange:N=>h(_=>({..._,expiry:N.target.value})),placeholder:"MM/YY",maxLength:5,className:"bg-slate-700 border-slate-600 text-white"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"cvc",className:"text-gray-300",children:"CVC"}),s.jsx(le,{id:"cvc",value:f.cvc,onChange:N=>h(_=>({..._,cvc:N.target.value})),placeholder:"123",maxLength:4,className:"bg-slate-700 border-slate-600 text-white"})]})]}),s.jsx(I,{onClick:y,disabled:i,className:"w-full bg-green-600 hover:bg-green-700",children:i?"Adding...":"Add Payment Method"})]})]})]})]})]}),s.jsxs(C,{className:"bg-slate-800 border-slate-700",children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2 text-white",children:[s.jsx(pn,{className:"h-5 w-5 text-green-400"}),"Stored Payment Methods"]})}),s.jsxs(T,{children:[t.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(st,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No payment methods"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"Add a payment method to get started"})]}):s.jsx("div",{className:"space-y-4",children:t.map(N=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-700 rounded-lg hover:bg-slate-600 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[j(N.brand),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-medium text-white",children:[N.brand?.toUpperCase()," •••• ",N.last4]}),N.is_default&&s.jsxs(Y,{className:"bg-yellow-100 text-yellow-800 text-xs",children:[s.jsx(gs,{className:"h-3 w-3 mr-1"}),"Default"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[N.exp_month&&N.exp_year&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(cr,{className:"h-3 w-3"}),N.exp_month.toString().padStart(2,"0"),"/",N.exp_year]}),S(N.status,N.exp_month,N.exp_year)]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!N.is_default&&s.jsx(I,{variant:"outline",size:"sm",onClick:()=>b(N.id),className:"border-slate-600 text-white hover:bg-slate-600",children:"Set Default"}),s.jsx(I,{variant:"outline",size:"sm",onClick:()=>w(N.id),className:"border-red-600 text-red-400 hover:bg-red-600 hover:text-white",children:s.jsx(_w,{className:"h-4 w-4"})})]})]},N.id))}),s.jsx("div",{className:"mt-6 p-4 bg-blue-900/30 rounded-lg border border-blue-500/30",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(pn,{className:"h-5 w-5 text-blue-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-300",children:"Secure Payment Processing"}),s.jsx("p",{className:"text-sm text-blue-200 mt-1",children:"Your payment information is encrypted and securely processed by Stripe. We never store your full card details on our servers."})]})]})})]})]})]})})}const j0e=[{id:"basic_monthly",name:"Basic",amount:999,interval:"month",features:["Up to 3 requests/month","Email support","Mobile access"]},{id:"premium_monthly",name:"Premium",amount:2999,interval:"month",popular:!0,features:["Unlimited requests","Priority support","Advanced scheduling"]}];function S0e(){const{user:e}=Lw(),[t,r]=m.useState(null),[n,a]=m.useState(!0),{toast:i}=Jn(),o=e?.id||"demo-user-123";m.useEffect(()=>{l()},[o]);const l=async()=>{try{const{data:u,error:d}=await P.from("subscriptions").select("*").eq("user_id",o).single();if(d&&d.code!=="PGRST116")throw d;r(u)}catch(u){console.error("Error:",u)}finally{a(!1)}},c=async u=>{try{const{data:d,error:f}=await P.functions.invoke("create-subscription",{body:{userId:o,planId:u}});if(f)throw f;d.checkoutUrl&&(window.location.href=d.checkoutUrl)}catch{i({title:"Error",description:"Failed to create subscription",variant:"destructive"})}};return n?s.jsx(Wo,{activeTab:"subscriptions",children:s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-32 bg-slate-700 rounded-lg"})})}):s.jsx(Wo,{activeTab:"subscriptions",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Subscriptions"}),t?s.jsxs(C,{className:"bg-slate-800 border-slate-700",children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2 text-white",children:[s.jsx(ww,{className:"h-5 w-5 text-yellow-400"}),"Current Subscription"]})}),s.jsxs(T,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg text-white",children:t.plan_name}),s.jsxs("p",{className:"text-gray-300",children:["$",(t.amount/100).toFixed(2),"/",t.interval]})]}),s.jsx(Y,{className:"bg-green-100 text-green-800",children:t.status})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[s.jsx(cr,{className:"h-4 w-4"}),"Next billing: ",new Date(t.current_period_end).toLocaleDateString()]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(I,{variant:"outline",className:"border-slate-600 text-white",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Manage Billing"]}),s.jsx(I,{variant:"destructive",children:"Cancel Subscription"})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Choose Your Plan"}),s.jsx("p",{className:"text-gray-400",children:"Select the perfect plan for your needs"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:j0e.map(u=>s.jsxs(C,{className:`bg-slate-800 border-slate-700 ${u.popular?"ring-2 ring-blue-500":""}`,children:[u.popular&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsxs(Y,{className:"bg-blue-500 text-white",children:[s.jsx(gs,{className:"h-3 w-3 mr-1"}),"Popular"]})}),s.jsxs(M,{children:[s.jsx(L,{className:"text-white",children:u.name}),s.jsxs("div",{className:"text-3xl font-bold text-white",children:["$",(u.amount/100).toFixed(2),s.jsxs("span",{className:"text-lg font-normal text-gray-400",children:["/",u.interval]})]})]}),s.jsxs(T,{className:"space-y-4",children:[s.jsx("ul",{className:"space-y-2",children:u.features.map((d,f)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-300",children:[s.jsx(Ho,{className:"h-4 w-4 text-green-400"}),d]},f))}),s.jsx(I,{className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>c(u.id),children:"Choose Plan"})]})]},u.id))})]})]})})}function N0e(){return s.jsx(Wo,{activeTab:"security",children:s.jsxs(C,{className:"bg-slate-800 border-slate-700",children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2 text-white",children:[s.jsx(pn,{className:"h-5 w-5 text-green-400"}),"Security & Compliance"]})}),s.jsxs(T,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg text-white",children:"Payment Security"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"PCI DSS Level 1 Compliant"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"256-bit SSL Encryption"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Tokenized Card Storage"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"3D Secure Authentication"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg text-white",children:"Compliance"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"GDPR Compliant"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"SOC 2 Type II"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"CCPA Compliant"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"Regular Security Audits"]})]})]})]}),s.jsxs("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-500/30",children:[s.jsx("h4",{className:"font-medium text-blue-300 mb-2",children:"Data Protection"}),s.jsx("p",{className:"text-sm text-blue-200",children:"We never store your complete payment information on our servers. All sensitive data is securely processed and stored by Stripe, our PCI-compliant payment processor."})]})]})]})})}const _0e=({className:e="",size:t=16})=>s.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),s.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]});class go{static instance;static getInstance(){return go.instance||(go.instance=new go),go.instance}checkLocalStorage(){const t={};try{const r=localStorage.getItem("GSL_SUPABASE_URL")||localStorage.getItem("supabaseUrl"),n=localStorage.getItem("GSL_SUPABASE_ANON")||localStorage.getItem("supabaseAnonKey");r&&(t.VITE_SUPABASE_URL=r),n&&(t.VITE_SUPABASE_PUBLISHABLE_KEY=n);const a=localStorage.getItem("STRIPE_PUBLISHABLE_KEY")||localStorage.getItem("GSL_STRIPE_KEY"),i=localStorage.getItem("GOOGLE_MAPS_API_KEY")||localStorage.getItem("GSL_MAPS_KEY"),o=localStorage.getItem("RESEND_API_KEY")||localStorage.getItem("GSL_RESEND_KEY");a&&(t.VITE_STRIPE_PUBLISHABLE_KEY=a),i&&(t.VITE_GOOGLE_MAPS_API_KEY=i),o&&(t.VITE_RESEND_API_KEY=o)}catch(r){console.error("Error checking localStorage:",r)}return{name:"localStorage",keys:t,source:"localStorage"}}checkQueryParams(){const t={};try{const r=new URLSearchParams(window.location.search),n=r.get("sb");if(n)try{const c=atob(n),[u,d]=c.split("|");u&&(t.VITE_SUPABASE_URL=u),d&&(t.VITE_SUPABASE_PUBLISHABLE_KEY=d)}catch{console.warn("Failed to decode sb parameter")}const a=r.get("supabase_url"),i=r.get("supabase_anon"),o=r.get("stripe_key"),l=r.get("maps_key");a&&(t.VITE_SUPABASE_URL=a),i&&(t.VITE_SUPABASE_PUBLISHABLE_KEY=i),o&&(t.VITE_STRIPE_PUBLISHABLE_KEY=o),l&&(t.VITE_GOOGLE_MAPS_API_KEY=l)}catch(r){console.error("Error checking query params:",r)}return{name:"queryParams",keys:t,source:"queryParams"}}getAllSources(){return[this.checkLocalStorage(),this.checkQueryParams()]}generateEnvContent(){const t=this.getAllSources(),r={};return t.forEach(a=>{Object.assign(r,a.keys)}),`# Supabase Configuration
# For Vercel deployment, add these exact values as environment variables:
VITE_SUPABASE_URL=${r.VITE_SUPABASE_URL||"https://mwvcbedvnimabfwubazz.supabase.co"}
VITE_SUPABASE_PUBLISHABLE_KEY=${r.VITE_SUPABASE_PUBLISHABLE_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY"}
VITE_SUPABASE_FUNCTIONS_URL=https://mwvcbedvnimabfwubazz.functions.supabase.co
VITE_SITE_URL=https://greenscapelux.com

# Admin Email Configuration
VITE_ADMIN_EMAIL=cmatthews@greenscapelux.com

# Development Settings
VITE_APP_ENV=development


# Stripe Configuration (Required for payments)
# Get these from https://dashboard.stripe.com/apikeys
VITE_STRIPE_PUBLISHABLE_KEY=${r.VITE_STRIPE_PUBLISHABLE_KEY||"pk_test_your_publishable_key_here"}
VITE_STRIPE_SECRET_KEY=${r.VITE_STRIPE_SECRET_KEY||"sk_test_your_secret_key_here"}
VITE_STRIPE_WEBHOOK_SECRET=${r.VITE_STRIPE_WEBHOOK_SECRET||"whsec_your_webhook_secret_here"}

# Google Maps API (Required for location services)
# Get from https://console.cloud.google.com/apis/credentials
VITE_GOOGLE_MAPS_API_KEY=${r.VITE_GOOGLE_MAPS_API_KEY||"your-google-maps-api-key-here"}

# Resend Email API (Optional for notifications)
# Get from https://resend.com/api-keys
VITE_RESEND_API_KEY=${r.VITE_RESEND_API_KEY||"re_your_resend_api_key_here"}`}generateReport(){const t=this.getAllSources();let r=`🔍 API Key Discovery Report
`;return r+="=".repeat(50)+`

`,t.forEach(n=>{const a=Object.keys(n.keys).length;r+=`📍 ${n.name} (${a} keys found):
`,a===0?r+=`  No API keys found

`:(Object.entries(n.keys).forEach(([i,o])=>{const l=o.length>10?`${o.slice(0,6)}...${o.slice(-4)}`:o;r+=`  ✓ ${i}: ${l}
`}),r+=`
`)}),r}}const Q2={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"",VITE_APP_ENV:"production",VITE_GOOGLE_MAPS_API_KEY:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4",VITE_RESEND_API_KEY:"re_your_resend_api_key_here",VITE_SITE_URL:"",VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_your_publishable_key_here",VITE_SUPABASE_ANON_KEY:"sb_publishable_EPF-r4VsfAE13EBn6SNwTQ_QS-5h6ex",VITE_SUPABASE_FUNCTIONS_URL:"https://mwvcbedvnimabfwubazz.functions.supabase.co",VITE_SUPABASE_PUBLISHABLE_KEY:"sb_publishable_test_placeholder",VITE_SUPABASE_URL:"https://mwvcbedvnimabfwubazz.supabase.co"};class Tl{static instance;updateQueue=[];isProcessing=!1;static getInstance(){return Tl.instance||(Tl.instance=new Tl),Tl.instance}queueUpdate(t,r){const n={key:t,value:r,timestamp:new Date};this.updateQueue=this.updateQueue.filter(a=>a.key!==t),this.updateQueue.push(n),console.log(`📝 Queued env update: ${t}`),this.isProcessing||this.processQueue()}async processQueue(){if(!(this.updateQueue.length===0||this.isProcessing)){this.isProcessing=!0;try{const t=[...this.updateQueue];this.updateQueue=[],await this.applyUpdates(t),console.log(`✅ Applied ${t.length} environment updates`)}catch(t){console.error("❌ Failed to process env updates:",t),this.updateQueue.unshift(...this.updateQueue)}finally{this.isProcessing=!1,this.updateQueue.length>0&&setTimeout(()=>this.processQueue(),1e3)}}}async applyUpdates(t){t.forEach(n=>{localStorage.setItem(`GSL_${n.key}`,n.value),localStorage.setItem(n.key,n.value),typeof window<"u"&&window.ENV&&(window.ENV[n.key]=n.value)});const r=new CustomEvent("env-file-updated",{detail:{updates:t}});window.dispatchEvent(r)}logEnvFileContent(t){console.group("📄 .env.local file content:");const n={...this.getCurrentEnvVars()};t.forEach(a=>{n[a.key]=a.value}),Object.entries(n).forEach(([a,i])=>{console.log(`${a}=${i}`)}),console.groupEnd()}getCurrentEnvVars(){const t={};typeof window<"u"&&Q2&&Object.entries(Q2).forEach(([r,n])=>{typeof n=="string"&&(t[r]=n)});for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);if(n?.startsWith("GSL_")||n?.startsWith("VITE_")){const a=n.startsWith("GSL_")?n.slice(4):n;t[a]=localStorage.getItem(n)||""}}return t}generateEnvFileContent(){const t=this.getCurrentEnvVars();return`# Auto-generated .env.local file
# Last updated: ${new Date().toISOString()}

# Supabase Configuration
VITE_SUPABASE_URL=${t.VITE_SUPABASE_URL||"https://mwvcbedvnimabfwubazz.supabase.co"}
VITE_SUPABASE_PUBLISHABLE_KEY=${t.VITE_SUPABASE_PUBLISHABLE_KEY||"your-supabase-anon-key"}
VITE_SUPABASE_FUNCTIONS_URL=https://mwvcbedvnimabfwubazz.functions.supabase.co
VITE_SITE_URL=https://greenscapelux.com

# Admin Configuration
VITE_ADMIN_EMAIL=cmatthews@greenscapelux.com

# Development Settings
VITE_APP_ENV=development

# API Keys
VITE_STRIPE_PUBLISHABLE_KEY=${t.VITE_STRIPE_PUBLISHABLE_KEY||"pk_test_your_stripe_key"}
VITE_GOOGLE_MAPS_API_KEY=${t.VITE_GOOGLE_MAPS_API_KEY||"your-google-maps-key"}
VITE_RESEND_API_KEY=${t.VITE_RESEND_API_KEY||"re_your_resend_key"}
`}getPendingUpdatesCount(){return this.updateQueue.length}isProcessingUpdates(){return this.isProcessing}}class Il{static instance;intervalId=null;status={isRunning:!1,lastSync:null,syncCount:0,errors:[],discoveredKeys:{}};SYNC_INTERVAL=3e4;MAX_ERRORS=10;static getInstance(){return Il.instance||(Il.instance=new Il),Il.instance}start(){if(typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1")){console.log("🌿 Production environment detected - skipping AutoSync service");return}if(this.status.isRunning){console.log("🔄 AutoSync already running");return}console.log("🚀 Starting AutoSync service..."),this.status.isRunning=!0,this.performSync(),this.intervalId=window.setInterval(()=>{this.performSync()},this.SYNC_INTERVAL)}stop(){this.status.isRunning&&(console.log("⏹️ Stopping AutoSync service..."),this.status.isRunning=!1,this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null))}async performSync(){try{const r=go.getInstance().getAllSources(),n={};r.forEach(a=>{Object.entries(a.keys).forEach(([i,o])=>{(!this.status.discoveredKeys[i]||this.status.discoveredKeys[i]!==o)&&(n[i]=o)})}),Object.keys(n).length>0&&(console.log("🔍 New API keys discovered:",Object.keys(n)),this.status.discoveredKeys={...this.status.discoveredKeys,...n},await this.updateEnvironment(n),this.notifyEnvironmentChange(n)),this.status.lastSync=new Date,this.status.syncCount++}catch(t){const r=t instanceof Error?t.message:"Unknown sync error";this.status.errors.push(`${new Date().toISOString()}: ${r}`),this.status.errors.length>this.MAX_ERRORS&&(this.status.errors=this.status.errors.slice(-this.MAX_ERRORS)),console.error("❌ AutoSync error:",t)}}async updateEnvironment(t){try{if(!(typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1")))try{const n=Tl.getInstance();Object.entries(t).forEach(([a,i])=>{n.queueUpdate(a,i)})}catch(n){console.warn("Failed to update .env file:",n)}Object.entries(t).forEach(([n,a])=>{localStorage.setItem(`GSL_${n}`,a)}),Object.entries(t).forEach(([n,a])=>{window.ENV&&(window.ENV[n]=a)}),console.log("✅ Environment updated with new keys")}catch(r){throw console.error("❌ Failed to update environment:",r),r}}notifyEnvironmentChange(t){const r=new CustomEvent("env-keys-updated",{detail:{newKeys:t,allKeys:this.status.discoveredKeys}});window.dispatchEvent(r)}getStatus(){return{...this.status}}async forcSync(){console.log("🔄 Force sync requested..."),await this.performSync()}clearErrors(){this.status.errors=[]}}class Rl{static syncStatus={isRunning:!1,lastSync:null,keysFound:[],errors:[]};static getStatus(){return{...this.syncStatus}}static discoverKeys(){const t={};try{const r=localStorage.getItem("famous_setup");if(r){const a=JSON.parse(r);t.supabaseUrl=a.supabaseUrl,t.supabaseAnonKey=a.supabaseAnonKey,t.stripePublishableKey=a.stripePublishableKey,t.stripeSecretKey=a.stripeSecretKey,t.googleMapsApiKey=a.googleMapsApiKey,t.resendApiKey=a.resendApiKey}["VITE_SUPABASE_URL","VITE_SUPABASE_PUBLISHABLE_KEY","VITE_STRIPE_PUBLISHABLE_KEY","VITE_STRIPE_SECRET_KEY","VITE_GOOGLE_MAPS_API_KEY","VITE_RESEND_API_KEY"].forEach(a=>{const i=localStorage.getItem(a);if(i){const o=a.replace(/^VITE_/,"").toLowerCase().replace(/_([a-z])/g,(l,c)=>c.toUpperCase());t[o]=i}}),this.syncStatus.keysFound=Object.keys(t).filter(a=>t[a])}catch(r){this.syncStatus.errors.push(`Discovery error: ${r}`)}return t}static async syncToProduction(){if(typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1"))return console.info("🌿 Production environment detected - using build-time environment variables"),!0;try{this.syncStatus.isRunning=!0,this.syncStatus.errors=[];const r=this.discoverKeys(),n=Object.keys(r).length;return n>0?(console.info(`🔑 Discovered ${n} API keys from Famous setup`),this.syncStatus.lastSync=new Date,!0):!1}catch(r){return this.syncStatus.errors.push(`Sync error: ${r}`),!1}finally{this.syncStatus.isRunning=!1}}static validateProductionConfig(){return typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1")?typeof import.meta<"u"&&"https://mwvcbedvnimabfwubazz.supabase.co"&&(typeof import.meta<"u"&&"sb_publishable_test_placeholder")?{isValid:!0,message:"Production environment variables detected"}:{isValid:!1,message:"Production deployment missing environment variables. Using fallback configuration."}:{isValid:!0,message:"Development environment"}}}function E0e(){const[e,t]=m.useState(Rl.getStatus()),[r,n]=m.useState(Rl.validateProductionConfig());m.useEffect(()=>{const o=setInterval(()=>{t(Rl.getStatus()),n(Rl.validateProductionConfig())},5e3);return()=>clearInterval(o)},[]);const a=o=>o?s.jsx(Ne,{className:"h-4 w-4 text-green-600"}):s.jsx(dt,{className:"h-4 w-4 text-red-600"}),i=o=>o?s.jsx(Y,{className:"bg-green-100 text-green-800",children:"Ready"}):s.jsx(Y,{variant:"destructive",children:"Issues"});return s.jsx("div",{className:"space-y-4",children:s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Production Environment Status"}),i(r.isValid)]})}),s.jsxs(T,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a(r.isValid),s.jsx("span",{className:"text-sm",children:r.message})]}),!r.isValid&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(it,{className:"h-4 w-4 text-yellow-600"}),s.jsx("span",{className:"font-medium text-yellow-800",children:"Action Required"})]}),s.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"Your production deployment is missing environment variables. The app is running with fallback values."}),s.jsxs("div",{className:"text-xs text-yellow-600 space-y-1",children:[s.jsx("p",{children:"• Go to Vercel Dashboard → Settings → Environment Variables"}),s.jsx("p",{children:"• Add VITE_SUPABASE_URL and VITE_SUPABASE_PUBLISHABLE_KEY"}),s.jsx("p",{children:"• Set for Production, Preview, and Development"}),s.jsx("p",{children:"• Redeploy your application"})]})]})]})]})})}const k0e=["your-key","your_key_here","your-project","your_publishable_key_here","your_secret_key_here","your_webhook_secret_here","your_resend_api_key_here","example-key","test-key","placeholder","pk_test_your_publishable_key_here","sk_test_your_secret_key_here","sk_live_your_secret_key_here"];class ls{static validateSupabaseUrl(t){const r="Supabase URL";return!t||t.trim()===""?{isValid:!1,error:"Supabase URL is required",service:r,key:t}:this.isPlaceholder(t)?{isValid:!1,error:"Supabase URL contains placeholder value",service:r,key:t,isPlaceholder:!0}:t.includes(".supabase.co")?{isValid:!0,service:r,key:t}:{isValid:!1,error:"Invalid Supabase URL format (must contain .supabase.co)",service:r,key:t}}static validateSupabaseAnonKey(t){const r="Supabase Anon Key";return!t||t.trim()===""?{isValid:!1,error:"Supabase anon key is required",service:r,key:t}:this.isPlaceholder(t)?{isValid:!1,error:"Supabase anon key contains placeholder value",service:r,key:t,isPlaceholder:!0}:t.startsWith("eyJ")?{isValid:!0,service:r,key:t}:{isValid:!1,error:"Invalid Supabase anon key format (must be JWT)",service:r,key:t}}static validateStripePublishableKey(t){const r="Stripe Publishable Key";return!t||t.trim()===""?{isValid:!0,service:r,key:t}:this.isPlaceholder(t)?{isValid:!1,error:"Stripe publishable key contains placeholder value",service:r,key:t,isPlaceholder:!0}:t.startsWith("pk_")?{isValid:!0,service:r,key:t}:{isValid:!1,error:"Invalid Stripe publishable key format (must start with pk_)",service:r,key:t}}static validateGoogleMapsKey(t){const r="Google Maps API Key";return!t||t.trim()===""?{isValid:!1,error:"Google Maps API key is required for location services",service:r,key:t}:this.isPlaceholder(t)?{isValid:!1,error:"Google Maps API key contains placeholder value",service:r,key:t,isPlaceholder:!0}:t.startsWith("AIza")?{isValid:!0,service:r,key:t}:{isValid:!1,error:"Invalid Google Maps API key format (must start with AIza)",service:r,key:t}}static validateResendKey(t){const r="Resend API Key";return!t||t.trim()===""?{isValid:!0,service:r,key:t}:this.isPlaceholder(t)?{isValid:!1,error:"Resend API key contains placeholder value",service:r,key:t,isPlaceholder:!0}:t.startsWith("re_")?{isValid:!0,service:r,key:t}:{isValid:!1,error:"Invalid Resend API key format (must start with re_)",service:r,key:t}}static isPlaceholder(t){if(!t||t.trim()==="")return!1;const r=t.toLowerCase();return k0e.some(n=>r.includes(n.toLowerCase()))}static validateAllKeys(t){const r=[this.validateSupabaseUrl(t.supabase?.url),this.validateSupabaseAnonKey(t.supabase?.anonKey),this.validateStripePublishableKey(t.stripe?.publishableKey),this.validateGoogleMapsKey(t.googleMaps?.apiKey),this.validateResendKey(t.resend?.apiKey)],n=r.filter(l=>!l.isValid).map(l=>`${l.service}: ${l.error}`),a=[],i=r.filter(l=>!l.isValid&&(!l.key||l.key.trim()==="")&&l.service!=="Resend API Key").map(l=>l.service),o=r.filter(l=>l.isPlaceholder).map(l=>l.service);return(!t.resend?.apiKey||t.resend.apiKey.trim()==="")&&a.push("Resend API key not configured - email notifications will be limited"),{allValid:n.length===0,errors:n,warnings:a,criticalMissing:i,placeholderKeys:o}}}const Z2={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"",VITE_APP_ENV:"production",VITE_GOOGLE_MAPS_API_KEY:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4",VITE_RESEND_API_KEY:"re_your_resend_api_key_here",VITE_SITE_URL:"",VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_your_publishable_key_here",VITE_SUPABASE_ANON_KEY:"sb_publishable_EPF-r4VsfAE13EBn6SNwTQ_QS-5h6ex",VITE_SUPABASE_FUNCTIONS_URL:"https://mwvcbedvnimabfwubazz.functions.supabase.co",VITE_SUPABASE_PUBLISHABLE_KEY:"sb_publishable_test_placeholder",VITE_SUPABASE_URL:"https://mwvcbedvnimabfwubazz.supabase.co"};function mu(e){if(typeof import.meta<"u"&&Z2){const t=Z2[e];if(t&&t.trim()!=="")return t.trim()}if(typeof window<"u"&&window.import?.meta?.env){const t=window.import.meta.env[e];if(t&&t.trim()!=="")return t.trim()}}function P0e(){return!1}function C0e(){return!0}const yb={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"",VITE_APP_ENV:"production",VITE_GOOGLE_MAPS_API_KEY:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4",VITE_RESEND_API_KEY:"re_your_resend_api_key_here",VITE_SITE_URL:"",VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_your_publishable_key_here",VITE_SUPABASE_ANON_KEY:"sb_publishable_EPF-r4VsfAE13EBn6SNwTQ_QS-5h6ex",VITE_SUPABASE_FUNCTIONS_URL:"https://mwvcbedvnimabfwubazz.functions.supabase.co",VITE_SUPABASE_PUBLISHABLE_KEY:"sb_publishable_test_placeholder",VITE_SUPABASE_URL:"https://mwvcbedvnimabfwubazz.supabase.co"},xh={supabase:{url:"https://mwvcbedvnimabfwubazz.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY"},stripe:{publishableKey:"pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK"},googleMaps:{apiKey:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4"}};function yh(e){const t=yb?.[e];if(t&&t!==""&&!t.includes("placeholder"))return t;switch(e){case"VITE_SUPABASE_URL":return console.warn("⚠️ Using fallback Supabase URL"),xh.supabase.url;case"VITE_SUPABASE_PUBLISHABLE_KEY":return console.warn("⚠️ Using fallback Supabase anon key"),xh.supabase.anonKey;case"VITE_STRIPE_PUBLISHABLE_KEY":return console.warn("⚠️ Using fallback Stripe publishable key"),xh.stripe.publishableKey;case"VITE_GOOGLE_MAPS_API_KEY":return console.warn("⚠️ Using fallback Google Maps API key"),xh.googleMaps.apiKey;default:return console.warn(`⚠️ No fallback available for ${e}`),""}}function A0e(){const e=["VITE_SUPABASE_URL","VITE_SUPABASE_PUBLISHABLE_KEY"],t=["VITE_STRIPE_PUBLISHABLE_KEY","VITE_GOOGLE_MAPS_API_KEY"],r=[],n=[];for(const a of e){const i=yb?.[a];(!i||i===""||i.includes("placeholder"))&&n.push(a)}for(const a of t){const i=yb?.[a];(!i||i===""||i.includes("placeholder"))&&n.push(a)}return{isValid:r.length===0,missingKeys:r,usingFallbacks:n}}function eC(){const e=A0e();return e.usingFallbacks.length>0&&(console.warn("🔧 Environment Fallback System Active"),console.warn("Using fallbacks for:",e.usingFallbacks),console.warn("Please configure proper environment variables for production")),{supabase:{url:yh("VITE_SUPABASE_URL"),anonKey:yh("VITE_SUPABASE_PUBLISHABLE_KEY")},stripe:{publishableKey:yh("VITE_STRIPE_PUBLISHABLE_KEY")},googleMaps:{apiKey:yh("VITE_GOOGLE_MAPS_API_KEY")},app:{name:"GreenScape Lux",version:"1.0.0",environment:"production"}}}console.log("🔍 Vercel Env Check (Build Time):",{supabaseUrl:"https://mwvcbedvnimabfwubazz.supabase.co",anonKey:"sb_publishable_test_placeholder",stripeKey:"pk_test_your_publishable_key_here",googleMapsKey:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4",mode:"production",prod:!0,dev:!1});function O0e(){try{const e={supabase:{url:mu("VITE_SUPABASE_URL")||"",anonKey:mu("VITE_SUPABASE_PUBLISHABLE_KEY")||""},stripe:{publishableKey:mu("VITE_STRIPE_PUBLISHABLE_KEY")||""},googleMaps:{apiKey:mu("VITE_GOOGLE_MAPS_API_KEY")||""},resend:{apiKey:mu("VITE_RESEND_API_KEY")||""},app:{name:"GreenScape Lux",version:"1.0.0",environment:C0e()?"production":P0e()?"development":"unknown"}};if(e.supabase.url&&e.supabase.anonKey&&!e.supabase.url.includes("placeholder")&&!e.supabase.anonKey.includes("placeholder"))return console.log("✅ Using standard environment configuration"),e;{console.warn("⚠️ Critical environment variables missing, using fallback configuration");const r=eC();return{...e,...r}}}catch(e){return console.error("🚨 Configuration error, using emergency fallback:",e),eC()}}const It=O0e(),T0e=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState([]),a=async()=>{const f=[],h=ls.validateSupabaseUrl(It.supabase.url),p=ls.validateSupabaseAnonKey(It.supabase.anonKey);f.push({service:"Supabase URL",success:h.isValid,message:h.error||"Configuration valid",isPlaceholder:h.isPlaceholder}),f.push({service:"Supabase Anon Key",success:p.isValid,message:p.error||"Configuration valid",isPlaceholder:p.isPlaceholder});const g=ls.validateStripePublishableKey(It.stripe.publishableKey);f.push({service:"Stripe",success:g.isValid,message:g.error||"Configuration valid",details:g.isValid?"Publishable key format correct":void 0,isPlaceholder:g.isPlaceholder});const v=ls.validateGoogleMapsKey(It.googleMaps.apiKey);f.push({service:"Google Maps",success:v.isValid,message:v.error||"Configuration valid",details:v.isValid?"API key format correct":void 0,isPlaceholder:v.isPlaceholder});const x=ls.validateResendKey(It.resend.apiKey);return f.push({service:"Resend",success:x.isValid,message:x.error||(It.resend.apiKey?"Configuration valid":"Optional service - not configured"),details:x.isValid?"API key format correct":"Email notifications will be limited",isPlaceholder:x.isPlaceholder}),f},i=async()=>{t(!0),n([]);try{const f=await a();n(f)}catch(f){console.error("API testing failed:",f),n([{service:"System",success:!1,message:"Failed to run API tests",details:f instanceof Error?f.message:"Unknown error"}])}finally{t(!1)}},o=f=>f.isPlaceholder?s.jsx(it,{className:"h-4 w-4 text-yellow-500"}):f.success?s.jsx(Ne,{className:"h-4 w-4 text-green-500"}):s.jsx(dt,{className:"h-4 w-4 text-red-500"}),l=f=>f.isPlaceholder?s.jsx(Y,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Placeholder"}):s.jsx(Y,{variant:f.success?"default":"destructive",children:f.success?"Valid":"Invalid"}),c=f=>f.isPlaceholder?"border-yellow-500 bg-yellow-50":f.success?"border-green-500 bg-green-50":"border-red-500 bg-red-50",u=r.some(f=>f.isPlaceholder),d=r.some(f=>!f.success&&!f.isPlaceholder&&f.service!=="Resend");return s.jsxs(C,{children:[s.jsx(M,{children:s.jsxs(L,{className:"flex items-center gap-2",children:[s.jsx(K0,{className:"h-5 w-5"}),"API Configuration Validator"]})}),s.jsx(T,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(I,{onClick:i,disabled:e,className:"w-full",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Bn,{className:"h-4 w-4 mr-2 animate-spin"}),"Validating Configuration..."]}):"Validate All API Keys"}),r.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-3 rounded-lg border bg-gray-50",children:s.jsxs("div",{className:"text-sm",children:[d&&s.jsx("p",{className:"text-red-700 font-medium",children:"❌ Critical configuration errors detected"}),u&&s.jsx("p",{className:"text-yellow-700 font-medium",children:"⚠️ Placeholder values need replacement"}),!d&&!u&&s.jsx("p",{className:"text-green-700 font-medium",children:"✅ All API keys properly configured"})]})}),s.jsx("div",{className:"space-y-3",children:r.map((f,h)=>s.jsx(Be,{className:c(f),children:s.jsxs("div",{className:"flex items-center gap-2",children:[o(f),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:f.service}),l(f)]}),s.jsxs(Ue,{className:"mt-1",children:[f.message,f.details&&s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:f.details})]})]})]})},h))}),(u||d)&&s.jsxs(Be,{className:"border-red-200 bg-red-50",children:[s.jsx(it,{className:"h-4 w-4 text-red-600"}),s.jsxs(Ue,{children:[s.jsx("strong",{children:"Production Deployment Blocked:"})," Fix the above issues before deploying to production. Replace placeholder values with real API keys from your service providers."]})]})]})]})})]})},I0e={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"",VITE_APP_ENV:"production",VITE_GOOGLE_MAPS_API_KEY:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4",VITE_RESEND_API_KEY:"re_your_resend_api_key_here",VITE_SITE_URL:"",VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_your_publishable_key_here",VITE_SUPABASE_ANON_KEY:"sb_publishable_EPF-r4VsfAE13EBn6SNwTQ_QS-5h6ex",VITE_SUPABASE_FUNCTIONS_URL:"https://mwvcbedvnimabfwubazz.functions.supabase.co",VITE_SUPABASE_PUBLISHABLE_KEY:"sb_publishable_test_placeholder",VITE_SUPABASE_URL:"https://mwvcbedvnimabfwubazz.supabase.co"};var tC={};class bb{requiredEnvVars=[{key:"VITE_SUPABASE_URL",required:!0,validator:t=>t.startsWith("https://")&&t.includes(".supabase.co"),error:"Must be a valid Supabase URL"},{key:"VITE_SUPABASE_PUBLISHABLE_KEY",required:!0,validator:t=>t.startsWith("eyJ")&&t.length>100,error:"Must be a valid Supabase anon key (JWT token)"},{key:"VITE_STRIPE_PUBLISHABLE_KEY",required:!0,validator:t=>t.startsWith("pk_"),error:"Must be a valid Stripe publishable key (starts with pk_)",warning:t=>t.startsWith("pk_live_")?"Using LIVE Stripe key":void 0},{key:"VITE_GOOGLE_MAPS_API_KEY",required:!0,validator:t=>t.length>20,error:"Must be a valid Google Maps API key"}];supabaseSecrets=[{key:"RESEND_API_KEY",required:!0,validator:t=>t.startsWith("re_"),error:"Must be a valid Resend API key"},{key:"STRIPE_SECRET_KEY",required:!0,validator:t=>t.startsWith("sk_"),error:"Must be a valid Stripe secret key"},{key:"STRIPE_WEBHOOK_SECRET",required:!0,validator:t=>t.startsWith("whsec_"),error:"Must be a valid Stripe webhook secret"}];validateLocal(){const t=[],r=[],n=[],a=[];for(const l of this.requiredEnvVars){const c=I0e[l.key],u={key:l.key,value:c?this.maskValue(c):void 0,required:l.required,valid:!1,source:"local"};if(!c)r.push(l.key),u.error="Missing required environment variable";else if(!l.validator(c))n.push(l.key),u.error=l.error;else if(u.valid=!0,l.warning){const d=l.warning(c);d&&(a.push(`${l.key}: ${d}`),u.warning=d)}t.push(u)}const i=r.length===0&&n.length===0,o=this.calculateScore(t);return{valid:i,checks:t,missing:r,invalid:n,warnings:a,score:o}}async validateVercel(){const t=[],r=[],n=[],a=[],i=tC.VERCEL_TOKEN,o=tC.VERCEL_PROJECT_ID;if(!i||!o)return{valid:!1,checks:[{key:"VERCEL_CONFIG",required:!0,valid:!1,error:"VERCEL_TOKEN or VERCEL_PROJECT_ID not configured",source:"vercel"}],missing:["VERCEL_TOKEN","VERCEL_PROJECT_ID"],invalid:[],warnings:[],score:0};try{const u=await fetch(`https://api.vercel.com/v9/projects/${o}/env`,{headers:{Authorization:`Bearer ${i}`}});if(!u.ok)throw new Error(`Vercel API error: ${u.status}`);const f=(await u.json()).envs||[];for(const h of this.requiredEnvVars){const p=f.find(v=>v.key===h.key),g={key:h.key,required:h.required,valid:!1,source:"vercel"};if(!p)r.push(h.key),g.error="Missing in Vercel environment";else if(g.value=this.maskValue(p.value),!h.validator(p.value))n.push(h.key),g.error=h.error;else if(g.valid=!0,h.warning){const v=h.warning(p.value);v&&(a.push(`${h.key}: ${v}`),g.warning=v)}t.push(g)}}catch(u){return{valid:!1,checks:[{key:"VERCEL_API",required:!0,valid:!1,error:u instanceof Error?u.message:"Unknown error",source:"vercel"}],missing:[],invalid:[],warnings:[],score:0}}const l=r.length===0&&n.length===0,c=this.calculateScore(t);return{valid:l,checks:t,missing:r,invalid:n,warnings:a,score:c}}async validateSupabase(){const t=[],r=[],n=[],a=[];for(const i of this.supabaseSecrets)t.push({key:i.key,required:i.required,valid:!0,source:"supabase",warning:"Cannot validate Supabase secrets directly - manual verification required"}),a.push(`${i.key}: Manual verification required`);return{valid:!0,checks:t,missing:r,invalid:n,warnings:a,score:75}}async compareEnvironments(){const t=this.validateLocal(),r=await this.validateVercel(),n=[],a=[];for(const i of t.checks){const o=r.checks.find(l=>l.key===i.key);i.valid&&o?.valid?i.value!==o.value&&n.push({key:i.key,local:i.value,vercel:o.value}):i.valid&&!o?.valid?a.push(`Sync ${i.key} to Vercel`):!i.valid&&o?.valid&&a.push(`Update local ${i.key} from Vercel`)}return{mismatches:n,recommendations:a}}maskValue(t){return t.length<=8?t:t.substring(0,8)+"..."}calculateScore(t){if(t.length===0)return 0;const r=t.filter(n=>n.valid).length;return Math.round(r/t.length*100)}generateReport(){const t=this.validateLocal();let r=`# Environment Validation Report

`;return r+=`**Overall Score:** ${t.score}/100
`,r+=`**Status:** ${t.valid?"✅ VALID":"❌ INVALID"}

`,t.missing.length>0&&(r+=`## Missing Variables
`,t.missing.forEach(n=>{r+=`- ❌ ${n}
`}),r+=`
`),t.invalid.length>0&&(r+=`## Invalid Variables
`,t.invalid.forEach(n=>{const a=t.checks.find(i=>i.key===n);r+=`- ❌ ${n}: ${a?.error}
`}),r+=`
`),t.warnings.length>0&&(r+=`## Warnings
`,t.warnings.forEach(n=>{r+=`- ⚠️ ${n}
`}),r+=`
`),r+=`## All Variables
`,t.checks.forEach(n=>{const a=n.valid?"✅":"❌";r+=`- ${a} ${n.key}: ${n.value||"Not set"}
`,n.error&&(r+=`  - Error: ${n.error}
`),n.warning&&(r+=`  - Warning: ${n.warning}
`)}),r}}function R0e({onComplete:e}){const[t,r]=m.useState(0),[n,a]=m.useState({stripe:"",googleMaps:"",resend:""}),[i,o]=m.useState(null),[l,c]=m.useState(!1),[u,d]=m.useState(null);m.useEffect(()=>{if(Rl.validateProductionConfig().isValid){console.log("✅ Production environment detected with valid config");return}if(Rl.syncToProduction().then(w=>{w&&console.log("✅ Famous API keys synced successfully")}).catch(w=>{console.warn("API key sync failed:",w)}),!(typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1")))try{const w=go.getInstance(),j=w.getAllSources();d(j),j.some(S=>Object.keys(S.keys).length>0)&&(c(!0),console.log("🔍 Discovered API keys from Famous setup:",w.generateReport()),Il.getInstance().start(),c(!1))}catch(w){console.warn("Key discovery failed:",w)}o(bb.validateAll())},[]);const f=()=>!u||u.every(y=>Object.keys(y.keys).length===0)?null:s.jsxs(C,{className:"mb-6 border-blue-200 bg-blue-50",children:[s.jsx(M,{children:s.jsxs(L,{className:"text-lg text-blue-800 flex items-center gap-2",children:[s.jsx(sr,{className:"h-5 w-5"}),"API Keys Discovered from Famous Setup"]})}),s.jsx(T,{children:s.jsxs("div",{className:"space-y-3",children:[u.map((y,b)=>{const w=Object.keys(y.keys).length;return w===0?null:s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsxs("h4",{className:"font-medium text-gray-800 mb-2",children:["Found in ",y.name," (",w," keys)"]}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.entries(y.keys).map(([j,S])=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-mono text-gray-600",children:j}),s.jsx(Y,{variant:"outline",className:"text-xs",children:S.length>10?`${S.slice(0,6)}...${S.slice(-4)}`:S})]},j))})]},b)}),s.jsx("div",{className:"bg-green-50 border border-green-200 p-3 rounded",children:s.jsx("p",{className:"text-sm text-green-800",children:"✅ These keys have been automatically synced to your .env.local file. Restart your development server to apply changes."})})]})})]}),h=[{title:"Supabase Configuration",description:"Database and authentication backend",validation:i?.supabase,instructions:["1. Go to https://supabase.com and create a new project","2. In your project settings, copy the Project URL","3. Copy the anon/public API key","4. Add to .env.local: VITE_SUPABASE_URL=your-url","5. Add to .env.local: VITE_SUPABASE_PUBLISHABLE_KEY=your-key"]},{title:"Stripe Payment Setup",description:"Payment processing for landscaping services",validation:i?.stripe,instructions:["1. Create account at https://stripe.com","2. Go to Developers > API Keys in your dashboard","3. Copy the Publishable key (starts with pk_)","4. Copy the Secret key (starts with sk_)","5. Add to .env.local: VITE_STRIPE_PUBLISHABLE_KEY=pk_...","6. Add to .env.local: VITE_STRIPE_SECRET_KEY=sk_..."]},{title:"Google Maps API",description:"Location services and mapping",validation:i?.googleMaps,instructions:["1. Go to https://console.cloud.google.com","2. Create a new project or select existing","3. Enable Maps JavaScript API","4. Create credentials > API Key","5. Restrict the key to your domain","6. Add to .env.local: VITE_GOOGLE_MAPS_API_KEY=your-key"]},{title:"Resend Email API",description:"Email notifications and communications",validation:i?.resend,instructions:["1. Sign up at https://resend.com","2. Go to API Keys in your dashboard","3. Create a new API key","4. Copy the key (starts with re_)","5. Add to .env.local: VITE_RESEND_API_KEY=re_..."]}],p=y=>y?y.isValid?s.jsx(Ne,{className:"h-5 w-5 text-green-500"}):s.jsx(dt,{className:"h-5 w-5 text-red-500"}):s.jsx(_0e,{className:"h-5 w-5 text-yellow-500"}),g=y=>y?y.isValid?s.jsx(Y,{variant:"default",className:"bg-green-500",children:"Valid"}):s.jsx(Y,{variant:"destructive",children:"Invalid"}):s.jsx(Y,{variant:"secondary",children:"Not Checked"}),v=()=>{o(bb.validateAll())},x=i?.overall.isValid;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"GreenScape Lux Setup Wizard"}),s.jsx("p",{className:"text-gray-600",children:"Configure your API keys to enable all features"})]}),i?.overall&&!i.overall.isValid&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded",children:s.jsx("p",{className:"text-red-800",children:i.overall.message})}),f(),s.jsx("div",{className:"grid gap-6",children:h.map((y,b)=>s.jsxs(C,{className:"relative",children:[s.jsx(M,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[p(y.validation),s.jsxs("div",{children:[s.jsx(L,{className:"text-lg",children:y.title}),s.jsx("p",{className:"text-sm text-gray-600",children:y.description})]})]}),g(y.validation)]})}),s.jsxs(T,{children:[y.validation&&!y.validation.isValid&&s.jsx(Be,{className:"mb-4",children:s.jsx(Ue,{children:y.validation.message})}),s.jsx("div",{className:"space-y-2",children:y.instructions.map((w,j)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600 min-w-0 flex-1",children:w}),w.includes("https://")&&s.jsx(Td,{className:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"})]},j))})]})]},b))}),s.jsx("div",{className:"mt-6",children:s.jsx(E0e,{})}),s.jsx("div",{className:"mt-6",children:s.jsx(T0e,{})}),s.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[s.jsx(I,{onClick:v,variant:"outline",children:"Refresh Status"}),x?s.jsx(I,{onClick:e,className:"bg-green-600 hover:bg-green-700",children:"Complete Setup"}):s.jsx(I,{disabled:!0,children:"Complete Setup (Fix Issues First)"})]}),s.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Environment File Location"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Create a ",s.jsx("code",{className:"bg-gray-200 px-1 rounded",children:".env.local"})," file in your project root directory and add the API keys as shown above."]})]})]})})}function M0e(){const e=bb.validateAll(),t=(n,a)=>n?s.jsx(Ne,{className:"h-5 w-5 text-green-600"}):s.jsx(dt,{className:"h-5 w-5 text-red-600"}),r=(n,a)=>n?s.jsx(Y,{variant:"default",className:"bg-green-100 text-green-800",children:"Valid"}):s.jsx(Y,{variant:"destructive",children:"Invalid"});return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Production Status"}),s.jsx("p",{className:"text-gray-600",children:"System configuration and API key validation status"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs(L,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(qO,{className:"h-4 w-4"}),"Supabase"]}),r(e.supabase.isValid)]}),s.jsx(T,{children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t(e.supabase.isValid),s.jsx("span",{className:"text-sm",children:e.supabase.message})]})})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs(L,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(st,{className:"h-4 w-4"}),"Stripe"]}),r(e.stripe.isValid)]}),s.jsx(T,{children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t(e.stripe.isValid),s.jsx("span",{className:"text-sm",children:e.stripe.message})]})})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs(L,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Vs,{className:"h-4 w-4"}),"Google Maps"]}),r(e.googleMaps.isValid)]}),s.jsx(T,{children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t(e.googleMaps.isValid),s.jsx("span",{className:"text-sm",children:e.googleMaps.message})]})})]}),s.jsxs(C,{children:[s.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs(L,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx($s,{className:"h-4 w-4"}),"Resend"]}),r(e.resend.isValid)]}),s.jsx(T,{children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t(e.resend.isValid),s.jsx("span",{className:"text-sm",children:e.resend.message})]})})]})]}),s.jsxs(C,{className:"mt-6",children:[s.jsx(M,{children:s.jsx(L,{children:"Overall System Status"})}),s.jsx(T,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Critical Services"}),s.jsxs("div",{className:"flex items-center gap-2",children:[e.supabase.isValid?s.jsx(Ne,{className:"h-4 w-4 text-green-600"}):s.jsx(dt,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{className:"text-sm",children:e.supabase.isValid?"Operational":"Issues Detected"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Payment Processing"}),s.jsxs("div",{className:"flex items-center gap-2",children:[e.stripe.isValid?s.jsx(Ne,{className:"h-4 w-4 text-green-600"}):s.jsx(dt,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{className:"text-sm",children:e.stripe.isValid?"Ready":"Configuration Required"})]})]})]})})]})]})})}const rC=({children:e,fallbackRoute:t="/login",showLoadingMessage:r=!0})=>{const n=Ae(),a=Vt(),[i,o]=m.useState(!0),[l,c]=m.useState(null);return m.useEffect(()=>{(async()=>{try{o(!0),c(null),await zh.handleGenericDashboardRedirect(a.pathname,n);const d=await zh.getUserRoleInfo();if(!d.isAuthenticated){console.log("❌ User not authenticated, redirecting to:",t),n(t,{replace:!0});return}d.error&&c(d.error),await zh.navigateToRoleDashboard(n,{fallbackRoute:t,onError:c})}catch(d){console.error("❌ Error in IntelligentDashboardRedirect:",d),c(String(d))}finally{o(!1)}})()},[n,a.pathname,t]),i?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(G$,{size:"lg"}),r&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Setting up your dashboard..."}),s.jsx("p",{className:"text-gray-600",children:"Detecting your account type and preparing your personalized experience"})]})]})}):l?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"max-w-md w-full",children:s.jsxs(Be,{className:"border-red-200 bg-red-50",children:[s.jsx(gt,{className:"h-4 w-4 text-red-600"}),s.jsxs(Ue,{className:"text-red-800",children:[s.jsx("strong",{children:"Dashboard Setup Error:"})," ",l,s.jsx("br",{}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 text-red-600 underline hover:text-red-800",children:"Try again"})]})]})})}):s.jsx(s.Fragment,{children:e})};typeof window<"u"&&!window.__GSL_ONERROR&&(window.__GSL_ONERROR=!0,window.addEventListener("error",e=>{const t=String(e?.error?.message||e?.message||"Unknown error");console.error("Global error",t,e?.error||e)}),window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection",e?.reason)}));const bh=()=>s.jsx(IN,{userType:"client"}),nC=()=>s.jsx(IN,{userType:"landscaper"}),D0e=()=>s.jsx(qV,{children:s.jsx(x9,{children:s.jsx(y9,{children:s.jsx(T8,{children:s.jsxs(S9,{children:[s.jsx(_9,{}),s.jsx(D8,{}),s.jsxs(yw,{children:[s.jsx(Z,{path:"/",element:s.jsx(T9,{})}),s.jsx(Z,{path:"/about",element:s.jsx(P9,{})}),s.jsx(Z,{path:"/professionals",element:s.jsx(hq,{})}),s.jsx(Z,{path:"/terms",element:s.jsx(mq,{})}),s.jsx(Z,{path:"/privacy",element:s.jsx(pq,{})}),s.jsx(Z,{path:"/get-started",element:s.jsx(l0e,{})}),s.jsx(Z,{path:"/get-quote",element:s.jsx(Oq,{})}),s.jsx(Z,{path:"/get-quote-enhanced",element:s.jsx(Xs,{to:"/get-quote",replace:!0})}),s.jsx(Z,{path:"/get-a-quote",element:s.jsx(Xs,{to:"/get-quote",replace:!0})}),s.jsx(Z,{path:"/instant-quote",element:s.jsx(Xs,{to:"/get-quote",replace:!0})}),s.jsx(Z,{path:"/quote-form",element:s.jsx(Xs,{to:"/get-quote",replace:!0})}),s.jsx(Z,{path:"/thank-you",element:s.jsx(Tq,{})}),s.jsx(Z,{path:"/search",element:s.jsx(Wx,{})}),s.jsx(Z,{path:"/search-jobs",element:s.jsx(Wx,{})}),s.jsx(Z,{path:"/find-landscapers",element:s.jsx(Wx,{})}),s.jsx(Z,{path:"/client-login",element:s.jsx(bh,{})}),s.jsx(Z,{path:"/client-signup",element:s.jsx(bh,{})}),s.jsx(Z,{path:"/pro-login",element:s.jsx(nC,{})}),s.jsx(Z,{path:"/pro-signup",element:s.jsx(nC,{})}),s.jsx(Z,{path:"/landscaper-login",element:s.jsx(Xs,{to:"/pro-login",replace:!0})}),s.jsx(Z,{path:"/landscaper-signup",element:s.jsx(Xs,{to:"/pro-signup",replace:!0})}),s.jsx(Z,{path:"/login",element:s.jsx(bh,{})}),s.jsx(Z,{path:"/signup",element:s.jsx(bh,{})}),s.jsx(Z,{path:"/admin-login",element:s.jsx(RH,{})}),s.jsx(Z,{path:"/auth",element:s.jsx(IN,{})}),s.jsx(Z,{path:"/reset-password",element:s.jsx(MH,{})}),s.jsx(Z,{path:"/forgot-password",element:s.jsx(Xs,{to:"/login",replace:!0})}),s.jsx(Z,{path:"/client-dashboard/*",element:s.jsx(Ze,{requiredRole:"client",children:s.jsx(upe,{})})}),s.jsx(Z,{path:"/dashboard/*",element:s.jsx(rC,{})}),s.jsx(Z,{path:"/dashboard",element:s.jsx(rC,{})}),s.jsx(Z,{path:"/landscaper-dashboard/*",element:s.jsx(Ze,{requiredRole:"landscaper",children:s.jsx(H2,{})})}),s.jsx(Z,{path:"/pro-dashboard/*",element:s.jsx(Ze,{requiredRole:"landscaper",children:s.jsx(H2,{})})}),s.jsx(Z,{path:"/landscaper-jobs",element:s.jsx(Ze,{requiredRole:"landscaper",children:s.jsx(HH,{})})}),s.jsx(Z,{path:"/new-requests",element:s.jsx(Ze,{requiredRole:"landscaper",children:s.jsx(YH,{})})}),s.jsx(Z,{path:"/job-complete/:jobId",element:s.jsx(Ze,{requiredRole:"landscaper",children:s.jsx(GH,{})})}),s.jsx(Z,{path:"/landscaper-onboarding",element:s.jsx(Ze,{requiredRole:"landscaper",children:s.jsx(XH,{})})}),s.jsx(Z,{path:"/landscaper-profile",element:s.jsx(Ze,{requiredRole:"landscaper",children:s.jsx(OY,{})})}),s.jsx(Z,{path:"/landscaper-earnings",element:s.jsx(Ze,{requiredRole:"landscaper",children:s.jsx(Qxe,{})})}),s.jsx(Z,{path:"/landscaper-payouts",element:s.jsx(Ze,{requiredRole:"landscaper",children:s.jsx(X2,{})})}),s.jsx(Z,{path:"/pro-payouts",element:s.jsx(Ze,{requiredRole:"landscaper",children:s.jsx(X2,{})})}),s.jsx(Z,{path:"/client-quote",element:s.jsx(Ze,{requiredRole:"client",children:s.jsx(TY,{})})}),s.jsx(Z,{path:"/admin-dashboard",element:s.jsx(Ze,{requiredRole:"admin",children:s.jsx(tme,{})})}),s.jsx(Z,{path:"/admin",element:s.jsx(Ze,{requiredRole:"admin",children:s.jsx(IH,{})})}),s.jsx(Z,{path:"/business-automation",element:s.jsx(Ze,{requiredRole:"admin",children:s.jsx(o0e,{})})}),s.jsx(Z,{path:"/notifications",element:s.jsx(Ze,{requiredRole:"admin",children:s.jsx(h0e,{})})}),s.jsx(Z,{path:"/ai-quotes",element:s.jsx(Ze,{requiredRole:"admin",children:s.jsx(y0e,{})})}),s.jsx(Z,{path:"/setup",element:s.jsx(R0e,{onComplete:()=>window.location.href="/"})}),s.jsx(Z,{path:"/status",element:s.jsx(M0e,{})}),s.jsx(Z,{path:"/profile",element:s.jsx(Ze,{requiredRole:"client",children:s.jsx(mpe,{})})}),s.jsx(Z,{path:"/billing/history",element:s.jsx(Ze,{requiredRole:"client",children:s.jsx(ppe,{})})}),s.jsx(Z,{path:"/subscriptions",element:s.jsx(Ze,{requiredRole:"client",children:s.jsx(ype,{})})}),s.jsx(Z,{path:"/client-history",element:s.jsx(Ze,{requiredRole:"client",children:s.jsx(hpe,{})})}),s.jsx(Z,{path:"/chat",element:s.jsx(Ze,{requiredRole:"client",children:s.jsx(bpe,{})})}),s.jsx(Z,{path:"/payments/overview",element:s.jsx(Ze,{requiredRole:"client",children:s.jsx(b0e,{})})}),s.jsx(Z,{path:"/payments/methods",element:s.jsx(Ze,{requiredRole:"client",children:s.jsx(w0e,{})})}),s.jsx(Z,{path:"/payments/subscriptions",element:s.jsx(Ze,{requiredRole:"client",children:s.jsx(S0e,{})})}),s.jsx(Z,{path:"/payments/security",element:s.jsx(Ze,{requiredRole:"client",children:s.jsx(N0e,{})})}),s.jsx(Z,{path:"/payments",element:s.jsx(Xs,{to:"/payments/overview",replace:!0})}),s.jsx(Z,{path:"*",element:s.jsx(Iq,{})})]})]})})})})}),L0e=()=>{const e=typeof window<"u"&&window.import?.meta,t=e?.env||{};return console.log("import.meta.env available:",!!e),console.log("VITE_SUPABASE_URL:",t.VITE_SUPABASE_URL||"UNDEFINED"),console.log("VITE_SUPABASE_PUBLISHABLE_KEY:",t.VITE_SUPABASE_PUBLISHABLE_KEY?"SET":"UNDEFINED"),console.log("DEV mode:",t.DEV),console.log("Environment object keys:",Object.keys(t)),{hasImportMeta:!!e,env:t,supabaseUrl:t.VITE_SUPABASE_URL,supabaseKey:t.VITE_SUPABASE_PUBLISHABLE_KEY,isDev:t.DEV}},$0e=typeof window<"u"&&window.import?.meta?.env||{};$0e.DEV&&L0e();class qh{static sanitizeEmail(t){return!t||typeof t!="string"?"":t.trim().toLowerCase().replace(/[<>'"]/g,"")}static sanitizePhone(t){return!t||typeof t!="string"?"":t.replace(/[^\d\-\+\(\)\s]/g,"").trim()}static sanitizeName(t){return!t||typeof t!="string"?"":t.replace(/[<>'"&]/g,"").replace(/[^\w\s\-']/g,"").trim().slice(0,100)}static sanitizeAddress(t){return!t||typeof t!="string"?"":t.replace(/[<>'"]/g,"").trim().slice(0,200)}static sanitizeText(t,r=1e3){return!t||typeof t!="string"?"":t.replace(/[<>]/g,"").trim().slice(0,r)}static sanitizeUrl(t){if(!t||typeof t!="string")return"";try{const r=new URL(t);return r.protocol!=="http:"&&r.protocol!=="https:"?"":r.toString()}catch{return""}}static sanitizeFormData(t){const r={};for(const[n,a]of Object.entries(t))if(typeof a=="string")switch(n){case"email":r[n]=this.sanitizeEmail(a);break;case"phone":r[n]=this.sanitizePhone(a);break;case"firstName":case"lastName":case"name":r[n]=this.sanitizeName(a);break;case"address":case"street":case"city":case"state":r[n]=this.sanitizeAddress(a);break;case"website":case"url":r[n]=this.sanitizeUrl(a);break;default:r[n]=this.sanitizeText(a)}else r[n]=a;return r}static createRateLimiter(t,r){const n=new Map;return{isLimited:a=>{const i=Date.now(),o=n.get(a);return!o||i>o.resetTime?(n.set(a,{count:1,resetTime:i+r}),!1):o.count>=t?!0:(o.count++,!1)},reset:a=>{n.delete(a)}}}}const F0e={"Content-Security-Policy":["default-src 'self'","script-src 'self' 'unsafe-inline' 'unsafe-eval' https://js.stripe.com https://maps.googleapis.com","style-src 'self' 'unsafe-inline' https://fonts.googleapis.com","font-src 'self' https://fonts.gstatic.com","img-src 'self' data: https: blob:","connect-src 'self' https://mwvcbedvnimabfwubazz.supabase.co https://api.stripe.com https://maps.googleapis.com","frame-src https://js.stripe.com https://hooks.stripe.com","object-src 'none'","base-uri 'self'"].join("; ")},B0e={...F0e,"X-Content-Type-Options":"nosniff","X-Frame-Options":"DENY","X-XSS-Protection":"1; mode=block","Referrer-Policy":"strict-origin-when-cross-origin","Permissions-Policy":"camera=(), microphone=(), geolocation=(self)"},ml={auth:{maxAttempts:5,windowMs:15*60*1e3},api:{maxAttempts:100,windowMs:60*1e3},upload:{maxAttempts:10,windowMs:60*1e3}},U0e={auth:qh.createRateLimiter(ml.auth.maxAttempts,ml.auth.windowMs),api:qh.createRateLimiter(ml.api.maxAttempts,ml.api.windowMs),upload:qh.createRateLimiter(ml.upload.maxAttempts,ml.upload.windowMs)};function V0e(e){const t=[],r=qh.sanitizeFormData(e);return e.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)&&t.push("Invalid email format"),e.password&&e.password.length<8&&t.push("Password must be at least 8 characters"),e.phone&&r.phone&&!/^[\d\-\+\(\)\s]{10,}$/.test(r.phone)&&t.push("Invalid phone number format"),{isValid:t.length===0,errors:t,sanitized:r}}function z0e(){const e=[];if(typeof window<"u"){const t=window.location.hostname!=="localhost",r=window.location.protocol==="https:";t&&!r&&e.push("Application should run over HTTPS in production")}return typeof window<"u"&&window.location.hostname!=="localhost"&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&e.push("React DevTools detected in production build"),{isSecure:e.length===0,warnings:e}}class z6{options;constructor(t={}){this.options={enableRateLimit:!0,enableCSP:!0,enableXSSProtection:!0,...t}}applySecurityHeaders(t){if(!this.options.enableCSP)return t;const r=new Headers(t.headers);return Object.entries(B0e).forEach(([n,a])=>{r.set(n,a)}),this.options.customHeaders&&Object.entries(this.options.customHeaders).forEach(([n,a])=>{r.set(n,a)}),new Response(t.body,{status:t.status,statusText:t.statusText,headers:r})}checkRateLimit(t,r="api"){return this.options.enableRateLimit?!U0e[r].isLimited(t):!0}validateRequest(t){return V0e(t)}createSecureFetch(){return async(t,r={})=>{if(!this.checkRateLimit("global-api"))throw new Error("Rate limit exceeded");const n={...r,headers:{"X-Requested-With":"XMLHttpRequest",...r.headers}};return fetch(t,n)}}}new z6;const W0e=m.createContext(null);function q0e({children:e,enableRateLimit:t=!0,enableCSP:r=!0}){const[n]=m.useState(()=>new z6({enableRateLimit:t,enableCSP:r,enableXSSProtection:!0})),[a,i]=m.useState({isSecure:!0,warnings:[]});m.useEffect(()=>{const c=z0e();i(c),c.warnings.length>0},[]);const o=()=>{if(typeof document<"u"){const c=document.createElement("meta");c.httpEquiv="Content-Security-Policy",c.content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://js.stripe.com https://maps.googleapis.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' data: https: blob:; connect-src 'self' https://mwvcbedvnimabfwubazz.supabase.co https://api.stripe.com https://maps.googleapis.com;",document.head.appendChild(c)}},l={middleware:n,isSecure:a.isSecure,warnings:a.warnings,enforceCSP:o};return s.jsx(W0e.Provider,{value:l,children:e})}const ks=e=>{try{return typeof globalThis<"u"&&globalThis.import?.meta?.env?globalThis.import.meta.env[e]:void 0}catch{return}},K0e=!!(ks("VITE_SUPABASE_URL")&&ks("VITE_SUPABASE_PUBLISHABLE_KEY")),H0e=()=>{(ks("DEV")||ks("MODE")==="development")&&(console.log("🔍 Environment Variables Check:"),console.log("VITE_SUPABASE_URL:",ks("VITE_SUPABASE_URL")?"✅ Set":"❌ Missing"),console.log("VITE_SUPABASE_PUBLISHABLE_KEY:",ks("VITE_SUPABASE_PUBLISHABLE_KEY")?"✅ Set":"❌ Missing"),console.log("VITE_SUPABASE_FUNCTIONS_URL:",ks("VITE_SUPABASE_FUNCTIONS_URL")?"✅ Set":"❌ Missing"),console.log("VITE_ADMIN_EMAIL:",ks("VITE_ADMIN_EMAIL")?"✅ Set":"❌ Missing"),console.log("📋 Raw values:"),console.log("  URL:",ks("VITE_SUPABASE_URL")||"undefined"),console.log("  Key:",ks("VITE_SUPABASE_PUBLISHABLE_KEY")?"[PRESENT]":"undefined"),K0e?console.log("✅ All required environment variables are properly set"):(console.warn("⚠️ Missing environment variables detected!"),console.log("🔧 Quick fixes:"),console.log("  1. Create .env.local file: cp .env.local.template .env.local"),console.log("  2. Restart dev server: npm run dev"),console.log("  3. For production: Set Vercel environment variables")))};class Ml{static instance;validation=null;isInitialized=!1;constructor(){}static getInstance(){return Ml.instance||(Ml.instance=new Ml),Ml.instance}async initializeForRoute(t,r){const n=this.determineRouteType(t),i={...{strictMode:n==="admin"&&It.app.environment==="production",allowPlaceholders:It.app.environment==="development",requiredServices:this.getRequiredServicesForRoute(n),routeType:n},...r};console.log(`🔒 EnvironmentGuard: Initializing for ${n} route with config:`,i);try{if(this.validation=ls.validateAllKeys(It),this.logValidationResults(this.validation,i),n==="admin"){if(!this.validation.allValid){const o=this.validation.errors.filter(l=>i.requiredServices.some(c=>l.includes(c)));if(o.length>0&&(console.error("🚨 Admin route - Critical services missing:",o),i.strictMode))throw new Error(`Admin dashboard requires: ${o.join(", ")}`)}}else if(!this.validation.allValid){const o=this.validation.errors.filter(l=>i.requiredServices.some(c=>l.includes(c)));o.length>0&&(console.warn(`⚠️ ${n} route - Some services unavailable:`,o),console.warn("🔧 App will continue with limited functionality"))}if(!i.allowPlaceholders&&this.validation.placeholderKeys.length>0){const o=this.validation.placeholderKeys.filter(l=>i.requiredServices.includes(l));if(o.length>0&&n==="admin")throw new Error(`Admin dashboard - Placeholder values detected: ${o.join(", ")}`);o.length>0&&console.warn(`⚠️ ${n} route - Placeholder values found:`,o)}return this.isInitialized=!0,this.validation}catch(o){if(n==="admin")throw console.error("🚨 EnvironmentGuard: Admin validation failed:",o),o;return console.warn("⚠️ EnvironmentGuard: Non-admin validation issues (non-blocking):",o),this.validation||{allValid:!1,errors:[],warnings:[],placeholderKeys:[]}}}async initialize(t){return this.initializeForRoute(void 0,t)}determineRouteType(t){return t||typeof window<"u"&&(t=window.location.pathname),t?t.includes("/admin")?"admin":t.includes("/client")||t.includes("/dashboard")?"client":t.includes("/landscaper")||t.includes("/pro")?"landscaper":"public":"public"}getRequiredServicesForRoute(t){switch(t){case"admin":return["Supabase URL","Supabase Anon Key","Stripe Publishable Key","Google Maps API Key","Resend API Key"];case"client":case"landscaper":return["Supabase URL","Supabase Anon Key"];case"public":default:return["Supabase URL","Supabase Anon Key"]}}logValidationResults(t,r){const n=r.routeType?`[${r.routeType.toUpperCase()}]`:"";if(t.allValid)console.log(`✅ EnvironmentGuard ${n}: All environment variables validated successfully`);else{const a=r.routeType==="admin"?"error":"warn";console[a](`⚠️ EnvironmentGuard ${n}: Environment validation issues detected`),t.errors.length>0&&console[a]("❌ Errors:",t.errors),t.warnings.length>0&&console.warn("⚠️ Warnings:",t.warnings),t.placeholderKeys.length>0&&console.warn("🔧 Placeholder keys found:",t.placeholderKeys)}}getValidation(){return this.validation}isValid(){return this.validation?.allValid??!1}getErrors(){return this.validation?.errors??[]}getWarnings(){return this.validation?.warnings??[]}hasPlaceholders(){return(this.validation?.placeholderKeys.length??0)>0}isServiceConfigured(t){return this.validation?this.validation.errors.filter(n=>n.toLowerCase().includes(t.toLowerCase())).length===0:!1}validateService(t){switch(t){case"supabase":return ls.validateSupabaseUrl(It.supabase.url).isValid&&ls.validateSupabaseAnonKey(It.supabase.anonKey).isValid;case"stripe":return ls.validateStripePublishableKey(It.stripe.publishableKey).isValid;case"googleMaps":return ls.validateGoogleMapsKey(It.googleMaps.apiKey).isValid;case"resend":return ls.validateResendKey(It.resend.apiKey).isValid;default:return!1}}debugConfiguration(){if(It.app.environment!=="development"){console.warn("🚫 Debug configuration only available in development mode");return}console.group("🔧 Environment Configuration Debug"),console.log("Environment:",It.app.environment),console.log("Supabase URL:",It.supabase.url?"✅ Configured":"❌ Missing"),console.log("Supabase Key:",It.supabase.anonKey?"✅ Configured":"❌ Missing"),console.log("Stripe Key:",It.stripe.publishableKey?"✅ Configured":"❌ Missing"),console.log("Google Maps Key:",It.googleMaps.apiKey?"✅ Configured":"❌ Missing"),console.log("Resend Key:",It.resend.apiKey?"✅ Configured":"❌ Missing"),this.validation&&(console.log("Validation Status:",this.validation.allValid?"✅ Valid":"❌ Invalid"),this.validation.allValid||(console.log("Errors:",this.validation.errors),console.log("Warnings:",this.validation.warnings))),console.groupEnd()}}const Y0e=Ml.getInstance();function G0e(){const t=Object.entries({VITE_SUPABASE_URL:"https://mwvcbedvnimabfwubazz.supabase.co",VITE_SUPABASE_PUBLISHABLE_KEY:"sb_publishable_test_placeholder"}).filter(([r,n])=>!n||n==="undefined").map(([r])=>r);return t.length>0?{isValid:!1,missing:t,message:`Missing environment variables: ${t.join(", ")}. 
      
Please configure GitHub Secrets:
1. Go to: https://github.com/Los1911/greenscape-lux-live/settings/secrets/actions
2. Add required secrets (see GITHUB_SECRETS_SETUP_GUIDE.md)
3. Trigger new deployment

For local development, copy .env.local.template to .env.local`}:{isValid:!0,missing:[],message:"All environment variables configured"}}function J0e(e){const t=document.getElementById("root");t&&(t.innerHTML=`
    <div style="
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      padding: 20px;
    ">
      <div style="
        background: white;
        border-radius: 12px;
        padding: 40px;
        max-width: 600px;
        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      ">
        <h1 style="color: #dc2626; margin: 0 0 20px 0;">⚠️ Configuration Required</h1>
        <p style="color: #374151; line-height: 1.6; margin-bottom: 20px;">
          GreenScape Lux requires environment variables to function. 
          The following are missing:
        </p>
        <ul style="background: #fef2f2; padding: 20px; border-radius: 8px; color: #991b1b;">
          ${e.map(r=>`<li style="margin: 8px 0;"><code>${r}</code></li>`).join("")}
        </ul>
        <div style="margin-top: 30px; padding: 20px; background: #f3f4f6; border-radius: 8px;">
          <h3 style="margin: 0 0 12px 0; color: #1f2937;">🔧 Quick Fix:</h3>
          <ol style="color: #4b5563; line-height: 1.8; margin: 0; padding-left: 20px;">
            <li>Go to <a href="https://github.com/Los1911/greenscape-lux-live/settings/secrets/actions" 
                style="color: #2563eb;">GitHub Secrets</a></li>
            <li>Add required environment variables</li>
            <li>Trigger new deployment</li>
          </ol>
        </div>
        <p style="margin-top: 20px; color: #6b7280; font-size: 14px;">
          📖 See <code>GITHUB_SECRETS_SETUP_GUIDE.md</code> for detailed instructions
        </p>
      </div>
    </div>
  `)}const wh=G0e();if(!wh.isValid)throw console.error("❌ CRITICAL: Missing environment variables:",wh.missing),console.error(wh.message),J0e(wh.missing),new Error("Missing critical environment variables");console.group("🔍 Environment Variables Debug");console.log("Build Mode:","production");console.log("Is Production:",!0);console.log("Is Development:",!1);console.log(`
📦 Environment Variables (injected at build time):`);console.log("VITE_SUPABASE_URL:","https://mwvcbedvnimabfwubazz.supabase.co");console.log("VITE_SUPABASE_PUBLISHABLE_KEY:",`✅ SET (${"sb_publishable_test_placeholder".substring(0,20)}...)`);console.log("VITE_STRIPE_PUBLISHABLE_KEY:",`✅ SET (${"pk_test_your_publishable_key_here".substring(0,20)}...)`);console.log("VITE_GOOGLE_MAPS_API_KEY:","✅ SET");console.log(`
💡 If all show ❌ UNDEFINED, environment variables are NOT configured properly in your hosting environment`);console.groupEnd();(async()=>{try{await Y0e.initializeForRoute(window.location.pathname,{strictMode:!0,allowPlaceholders:!1})}catch(e){const t=window.location.pathname.includes("/admin");if(console.error("Environment validation failed:",e),t)throw document.body.innerHTML=`
        <div style="padding: 20px; font-family: sans-serif;">
          <h1>Configuration Error</h1>
          <p>Admin dashboard requires proper environment configuration. Please contact support.</p>
        </div>
      `,e;console.warn("⚠️ Environment validation issues detected but continuing for non-admin route")}})();H0e();b9();vO(document.getElementById("root")).render(s.jsx(m.StrictMode,{children:s.jsx(q0e,{enableCSP:!0,enableRateLimit:!0,children:s.jsx(E9,{children:s.jsx(D0e,{})})})}));
