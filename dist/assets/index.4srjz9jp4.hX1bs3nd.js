var i6=Object.defineProperty;var o6=(e,t,r)=>t in e?i6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Fe=(e,t,r)=>o6(e,typeof t!="symbol"?t+"":t,r);function l6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const c6="modulepreload",u6=function(e){return"/"+e},bN={},Vo=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=u6(c),c in bN)return;bN[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":c6,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};var br=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function d6(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var IA={exports:{}},hg={},$A={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sf=Symbol.for("react.element"),f6=Symbol.for("react.portal"),h6=Symbol.for("react.fragment"),m6=Symbol.for("react.strict_mode"),p6=Symbol.for("react.profiler"),g6=Symbol.for("react.provider"),v6=Symbol.for("react.context"),x6=Symbol.for("react.forward_ref"),y6=Symbol.for("react.suspense"),b6=Symbol.for("react.memo"),w6=Symbol.for("react.lazy"),wN=Symbol.iterator;function j6(e){return e===null||typeof e!="object"?null:(e=wN&&e[wN]||e["@@iterator"],typeof e=="function"?e:null)}var MA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DA=Object.assign,LA={};function Bc(e,t,r){this.props=e,this.context=t,this.refs=LA,this.updater=r||MA}Bc.prototype.isReactComponent={};Bc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function FA(){}FA.prototype=Bc.prototype;function Qw(e,t,r){this.props=e,this.context=t,this.refs=LA,this.updater=r||MA}var Zw=Qw.prototype=new FA;Zw.constructor=Qw;DA(Zw,Bc.prototype);Zw.isPureReactComponent=!0;var jN=Array.isArray,BA=Object.prototype.hasOwnProperty,ej={current:null},UA={key:!0,ref:!0,__self:!0,__source:!0};function VA(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)BA.call(t,n)&&!UA.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Sf,type:e,key:i,ref:o,props:a,_owner:ej.current}}function S6(e,t){return{$$typeof:Sf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tj(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sf}function N6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var SN=/\/+/g;function sx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?N6(""+e.key):t.toString(36)}function Qh(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Sf:case f6:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+sx(o,0):n,jN(a)?(r="",e!=null&&(r=e.replace(SN,"$&/")+"/"),Qh(a,t,r,"",function(u){return u})):a!=null&&(tj(a)&&(a=S6(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(SN,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",jN(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+sx(i,l);o+=Qh(i,t,r,c,a)}else if(c=j6(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+sx(i,l++),o+=Qh(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xf(e,t,r){if(e==null)return e;var n=[],a=0;return Qh(e,n,"","",function(i){return t.call(r,i,a++)}),n}function _6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kr={current:null},Zh={transition:null},E6={ReactCurrentDispatcher:kr,ReactCurrentBatchConfig:Zh,ReactCurrentOwner:ej};function zA(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Xf,forEach:function(e,t,r){Xf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Xf(e,function(){t++}),t},toArray:function(e){return Xf(e,function(t){return t})||[]},only:function(e){if(!tj(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ie.Component=Bc;Ie.Fragment=h6;Ie.Profiler=p6;Ie.PureComponent=Qw;Ie.StrictMode=m6;Ie.Suspense=y6;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E6;Ie.act=zA;Ie.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=DA({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ej.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)BA.call(t,c)&&!UA.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Sf,type:e.type,key:a,ref:i,props:n,_owner:o}};Ie.createContext=function(e){return e={$$typeof:v6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:g6,_context:e},e.Consumer=e};Ie.createElement=VA;Ie.createFactory=function(e){var t=VA.bind(null,e);return t.type=e,t};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(e){return{$$typeof:x6,render:e}};Ie.isValidElement=tj;Ie.lazy=function(e){return{$$typeof:w6,_payload:{_status:-1,_result:e},_init:_6}};Ie.memo=function(e,t){return{$$typeof:b6,type:e,compare:t===void 0?null:t}};Ie.startTransition=function(e){var t=Zh.transition;Zh.transition={};try{e()}finally{Zh.transition=t}};Ie.unstable_act=zA;Ie.useCallback=function(e,t){return kr.current.useCallback(e,t)};Ie.useContext=function(e){return kr.current.useContext(e)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(e){return kr.current.useDeferredValue(e)};Ie.useEffect=function(e,t){return kr.current.useEffect(e,t)};Ie.useId=function(){return kr.current.useId()};Ie.useImperativeHandle=function(e,t,r){return kr.current.useImperativeHandle(e,t,r)};Ie.useInsertionEffect=function(e,t){return kr.current.useInsertionEffect(e,t)};Ie.useLayoutEffect=function(e,t){return kr.current.useLayoutEffect(e,t)};Ie.useMemo=function(e,t){return kr.current.useMemo(e,t)};Ie.useReducer=function(e,t,r){return kr.current.useReducer(e,t,r)};Ie.useRef=function(e){return kr.current.useRef(e)};Ie.useState=function(e){return kr.current.useState(e)};Ie.useSyncExternalStore=function(e,t,r){return kr.current.useSyncExternalStore(e,t,r)};Ie.useTransition=function(){return kr.current.useTransition()};Ie.version="18.3.1";$A.exports=Ie;var b=$A.exports;const k=qe(b),rj=l6({__proto__:null,default:k},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P6=b,k6=Symbol.for("react.element"),C6=Symbol.for("react.fragment"),A6=Object.prototype.hasOwnProperty,O6=P6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T6={key:!0,ref:!0,__self:!0,__source:!0};function WA(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)A6.call(t,n)&&!T6.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:k6,type:e,key:i,ref:o,props:a,_owner:O6.current}}hg.Fragment=C6;hg.jsx=WA;hg.jsxs=WA;IA.exports=hg;var s=IA.exports,qA={exports:{}},un={},HA={exports:{}},KA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,M){var q=A.length;A.push(M);e:for(;0<q;){var Y=q-1>>>1,G=A[Y];if(0<a(G,M))A[Y]=M,A[q]=G,q=Y;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var M=A[0],q=A.pop();if(q!==M){A[0]=q;e:for(var Y=0,G=A.length,ee=G>>>1;Y<ee;){var ie=2*(Y+1)-1,Se=A[ie],Me=ie+1,te=A[Me];if(0>a(Se,q))Me<G&&0>a(te,Se)?(A[Y]=te,A[Me]=q,Y=Me):(A[Y]=Se,A[ie]=q,Y=ie);else if(Me<G&&0>a(te,q))A[Y]=te,A[Me]=q,Y=Me;else break e}}return M}function a(A,M){var q=A.sortIndex-M.sortIndex;return q!==0?q:A.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=A)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function N(A){if(p=!1,w(A),!g)if(r(c)!==null)g=!0,U(S);else{var M=r(u);M!==null&&$(N,M.startTime-A)}}function S(A,M){g=!1,p&&(p=!1,x(E),E=-1),m=!0;var q=h;try{for(w(M),f=r(c);f!==null&&(!(f.expirationTime>M)||A&&!T());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var G=Y(f.expirationTime<=M);M=e.unstable_now(),typeof G=="function"?f.callback=G:f===r(c)&&n(c),w(M)}else n(c);f=r(c)}if(f!==null)var ee=!0;else{var ie=r(u);ie!==null&&$(N,ie.startTime-M),ee=!1}return ee}finally{f=null,h=q,m=!1}}var j=!1,_=null,E=-1,P=5,C=-1;function T(){return!(e.unstable_now()-C<P)}function O(){if(_!==null){var A=e.unstable_now();C=A;var M=!0;try{M=_(!0,A)}finally{M?F():(j=!1,_=null)}}else j=!1}var F;if(typeof y=="function")F=function(){y(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,B=V.port2;V.port1.onmessage=O,F=function(){B.postMessage(null)}}else F=function(){v(O,0)};function U(A){_=A,j||(j=!0,F())}function $(A,M){E=v(function(){A(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,U(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var q=h;h=M;try{return A()}finally{h=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,M){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var q=h;h=A;try{return M()}finally{h=q}},e.unstable_scheduleCallback=function(A,M,q){var Y=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Y+q:Y):q=Y,A){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=q+G,A={id:d++,callback:M,priorityLevel:A,startTime:q,expirationTime:G,sortIndex:-1},q>Y?(A.sortIndex=q,t(u,A),r(c)===null&&A===r(u)&&(p?(x(E),E=-1):p=!0,$(N,q-Y))):(A.sortIndex=G,t(c,A),g||m||(g=!0,U(S))),A},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(A){var M=h;return function(){var q=h;h=M;try{return A.apply(this,arguments)}finally{h=q}}}})(KA);HA.exports=KA;var R6=HA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I6=b,ln=R6;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GA=new Set,pd={};function zo(e,t){Ql(e,t),Ql(e+"Capture",t)}function Ql(e,t){for(pd[e]=t,e=0;e<t.length;e++)GA.add(t[e])}var ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ly=Object.prototype.hasOwnProperty,$6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NN={},_N={};function M6(e){return Ly.call(_N,e)?!0:Ly.call(NN,e)?!1:$6.test(e)?_N[e]=!0:(NN[e]=!0,!1)}function D6(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L6(e,t,r,n){if(t===null||typeof t>"u"||D6(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cr(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){hr[e]=new Cr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];hr[t]=new Cr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){hr[e]=new Cr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){hr[e]=new Cr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){hr[e]=new Cr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){hr[e]=new Cr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){hr[e]=new Cr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){hr[e]=new Cr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){hr[e]=new Cr(e,5,!1,e.toLowerCase(),null,!1,!1)});var nj=/[\-:]([a-z])/g;function sj(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nj,sj);hr[t]=new Cr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nj,sj);hr[t]=new Cr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nj,sj);hr[t]=new Cr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){hr[e]=new Cr(e,1,!1,e.toLowerCase(),null,!1,!1)});hr.xlinkHref=new Cr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){hr[e]=new Cr(e,1,!1,e.toLowerCase(),null,!0,!0)});function aj(e,t,r,n){var a=hr.hasOwnProperty(t)?hr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(L6(t,r,a,n)&&(r=null),n||a===null?M6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pa=I6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qf=Symbol.for("react.element"),wl=Symbol.for("react.portal"),jl=Symbol.for("react.fragment"),ij=Symbol.for("react.strict_mode"),Fy=Symbol.for("react.profiler"),YA=Symbol.for("react.provider"),JA=Symbol.for("react.context"),oj=Symbol.for("react.forward_ref"),By=Symbol.for("react.suspense"),Uy=Symbol.for("react.suspense_list"),lj=Symbol.for("react.memo"),za=Symbol.for("react.lazy"),XA=Symbol.for("react.offscreen"),EN=Symbol.iterator;function pu(e){return e===null||typeof e!="object"?null:(e=EN&&e[EN]||e["@@iterator"],typeof e=="function"?e:null)}var Nt=Object.assign,ax;function Uu(e){if(ax===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ax=t&&t[1]||""}return`
`+ax+e}var ix=!1;function ox(e,t){if(!e||ix)return"";ix=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ix=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Uu(e):""}function F6(e){switch(e.tag){case 5:return Uu(e.type);case 16:return Uu("Lazy");case 13:return Uu("Suspense");case 19:return Uu("SuspenseList");case 0:case 2:case 15:return e=ox(e.type,!1),e;case 11:return e=ox(e.type.render,!1),e;case 1:return e=ox(e.type,!0),e;default:return""}}function Vy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jl:return"Fragment";case wl:return"Portal";case Fy:return"Profiler";case ij:return"StrictMode";case By:return"Suspense";case Uy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case JA:return(e.displayName||"Context")+".Consumer";case YA:return(e._context.displayName||"Context")+".Provider";case oj:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lj:return t=e.displayName||null,t!==null?t:Vy(e.type)||"Memo";case za:t=e._payload,e=e._init;try{return Vy(e(t))}catch{}}return null}function B6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vy(t);case 8:return t===ij?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function QA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function U6(e){var t=QA(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zf(e){e._valueTracker||(e._valueTracker=U6(e))}function ZA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=QA(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function wm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zy(e,t){var r=t.checked;return Nt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function PN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=mi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function eO(e,t){t=t.checked,t!=null&&aj(e,"checked",t,!1)}function Wy(e,t){eO(e,t);var r=mi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qy(e,t.type,r):t.hasOwnProperty("defaultValue")&&qy(e,t.type,mi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kN(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function qy(e,t,r){(t!=="number"||wm(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vu=Array.isArray;function Ll(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+mi(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Hy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Nt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function CN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Q(92));if(Vu(r)){if(1<r.length)throw Error(Q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:mi(r)}}function tO(e,t){var r=mi(t.value),n=mi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function AN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ky(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var eh,nO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(eh=eh||document.createElement("div"),eh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Gu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V6=["Webkit","ms","Moz","O"];Object.keys(Gu).forEach(function(e){V6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gu[t]=Gu[e]})});function sO(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Gu.hasOwnProperty(e)&&Gu[e]?(""+t).trim():t+"px"}function aO(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=sO(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var z6=Nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gy(e,t){if(t){if(z6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function Yy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jy=null;function cj(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xy=null,Fl=null,Bl=null;function ON(e){if(e=Ef(e)){if(typeof Xy!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=xg(t),Xy(e.stateNode,e.type,t))}}function iO(e){Fl?Bl?Bl.push(e):Bl=[e]:Fl=e}function oO(){if(Fl){var e=Fl,t=Bl;if(Bl=Fl=null,ON(e),t)for(e=0;e<t.length;e++)ON(t[e])}}function lO(e,t){return e(t)}function cO(){}var lx=!1;function uO(e,t,r){if(lx)return e(t,r);lx=!0;try{return lO(e,t,r)}finally{lx=!1,(Fl!==null||Bl!==null)&&(cO(),oO())}}function vd(e,t){var r=e.stateNode;if(r===null)return null;var n=xg(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Q(231,t,typeof r));return r}var Qy=!1;if(ga)try{var gu={};Object.defineProperty(gu,"passive",{get:function(){Qy=!0}}),window.addEventListener("test",gu,gu),window.removeEventListener("test",gu,gu)}catch{Qy=!1}function W6(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Yu=!1,jm=null,Sm=!1,Zy=null,q6={onError:function(e){Yu=!0,jm=e}};function H6(e,t,r,n,a,i,o,l,c){Yu=!1,jm=null,W6.apply(q6,arguments)}function K6(e,t,r,n,a,i,o,l,c){if(H6.apply(this,arguments),Yu){if(Yu){var u=jm;Yu=!1,jm=null}else throw Error(Q(198));Sm||(Sm=!0,Zy=u)}}function Wo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function dO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function TN(e){if(Wo(e)!==e)throw Error(Q(188))}function G6(e){var t=e.alternate;if(!t){if(t=Wo(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return TN(a),e;if(i===n)return TN(a),t;i=i.sibling}throw Error(Q(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?e:t}function fO(e){return e=G6(e),e!==null?hO(e):null}function hO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hO(e);if(t!==null)return t;e=e.sibling}return null}var mO=ln.unstable_scheduleCallback,RN=ln.unstable_cancelCallback,Y6=ln.unstable_shouldYield,J6=ln.unstable_requestPaint,Ot=ln.unstable_now,X6=ln.unstable_getCurrentPriorityLevel,uj=ln.unstable_ImmediatePriority,pO=ln.unstable_UserBlockingPriority,Nm=ln.unstable_NormalPriority,Q6=ln.unstable_LowPriority,gO=ln.unstable_IdlePriority,mg=null,Rs=null;function Z6(e){if(Rs&&typeof Rs.onCommitFiberRoot=="function")try{Rs.onCommitFiberRoot(mg,e,void 0,(e.current.flags&128)===128)}catch{}}var rs=Math.clz32?Math.clz32:r8,e8=Math.log,t8=Math.LN2;function r8(e){return e>>>=0,e===0?32:31-(e8(e)/t8|0)|0}var th=64,rh=4194304;function zu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _m(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=zu(l):(i&=o,i!==0&&(n=zu(i)))}else o=r&~a,o!==0?n=zu(o):i!==0&&(n=zu(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-rs(t),a=1<<r,n|=e[r],t&=~a;return n}function n8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-rs(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=n8(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function e0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vO(){var e=th;return th<<=1,!(th&4194240)&&(th=64),e}function cx(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Nf(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rs(t),e[t]=r}function a8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-rs(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function dj(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-rs(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ge=0;function xO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yO,fj,bO,wO,jO,t0=!1,nh=[],ri=null,ni=null,si=null,xd=new Map,yd=new Map,Ha=[],i8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IN(e,t){switch(e){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":xd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yd.delete(t.pointerId)}}function vu(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ef(t),t!==null&&fj(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function o8(e,t,r,n,a){switch(t){case"focusin":return ri=vu(ri,e,t,r,n,a),!0;case"dragenter":return ni=vu(ni,e,t,r,n,a),!0;case"mouseover":return si=vu(si,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return xd.set(i,vu(xd.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,yd.set(i,vu(yd.get(i)||null,e,t,r,n,a)),!0}return!1}function SO(e){var t=oo(e.target);if(t!==null){var r=Wo(t);if(r!==null){if(t=r.tag,t===13){if(t=dO(r),t!==null){e.blockedOn=t,jO(e.priority,function(){bO(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function em(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=r0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Jy=n,r.target.dispatchEvent(n),Jy=null}else return t=Ef(r),t!==null&&fj(t),e.blockedOn=r,!1;t.shift()}return!0}function $N(e,t,r){em(e)&&r.delete(t)}function l8(){t0=!1,ri!==null&&em(ri)&&(ri=null),ni!==null&&em(ni)&&(ni=null),si!==null&&em(si)&&(si=null),xd.forEach($N),yd.forEach($N)}function xu(e,t){e.blockedOn===t&&(e.blockedOn=null,t0||(t0=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,l8)))}function bd(e){function t(a){return xu(a,e)}if(0<nh.length){xu(nh[0],e);for(var r=1;r<nh.length;r++){var n=nh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ri!==null&&xu(ri,e),ni!==null&&xu(ni,e),si!==null&&xu(si,e),xd.forEach(t),yd.forEach(t),r=0;r<Ha.length;r++)n=Ha[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ha.length&&(r=Ha[0],r.blockedOn===null);)SO(r),r.blockedOn===null&&Ha.shift()}var Ul=Pa.ReactCurrentBatchConfig,Em=!0;function c8(e,t,r,n){var a=Ge,i=Ul.transition;Ul.transition=null;try{Ge=1,hj(e,t,r,n)}finally{Ge=a,Ul.transition=i}}function u8(e,t,r,n){var a=Ge,i=Ul.transition;Ul.transition=null;try{Ge=4,hj(e,t,r,n)}finally{Ge=a,Ul.transition=i}}function hj(e,t,r,n){if(Em){var a=r0(e,t,r,n);if(a===null)yx(e,t,n,Pm,r),IN(e,n);else if(o8(a,e,t,r,n))n.stopPropagation();else if(IN(e,n),t&4&&-1<i8.indexOf(e)){for(;a!==null;){var i=Ef(a);if(i!==null&&yO(i),i=r0(e,t,r,n),i===null&&yx(e,t,n,Pm,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else yx(e,t,n,null,r)}}var Pm=null;function r0(e,t,r,n){if(Pm=null,e=cj(n),e=oo(e),e!==null)if(t=Wo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=dO(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pm=e,null}function NO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X6()){case uj:return 1;case pO:return 4;case Nm:case Q6:return 16;case gO:return 536870912;default:return 16}default:return 16}}var Xa=null,mj=null,tm=null;function _O(){if(tm)return tm;var e,t=mj,r=t.length,n,a="value"in Xa?Xa.value:Xa.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return tm=a.slice(e,1<n?1-n:void 0)}function rm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sh(){return!0}function MN(){return!1}function dn(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sh:MN,this.isPropagationStopped=MN,this}return Nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=sh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=sh)},persist:function(){},isPersistent:sh}),t}var Uc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pj=dn(Uc),_f=Nt({},Uc,{view:0,detail:0}),d8=dn(_f),ux,dx,yu,pg=Nt({},_f,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gj,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yu&&(yu&&e.type==="mousemove"?(ux=e.screenX-yu.screenX,dx=e.screenY-yu.screenY):dx=ux=0,yu=e),ux)},movementY:function(e){return"movementY"in e?e.movementY:dx}}),DN=dn(pg),f8=Nt({},pg,{dataTransfer:0}),h8=dn(f8),m8=Nt({},_f,{relatedTarget:0}),fx=dn(m8),p8=Nt({},Uc,{animationName:0,elapsedTime:0,pseudoElement:0}),g8=dn(p8),v8=Nt({},Uc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),x8=dn(v8),y8=Nt({},Uc,{data:0}),LN=dn(y8),b8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=j8[e])?!!t[e]:!1}function gj(){return S8}var N8=Nt({},_f,{key:function(e){if(e.key){var t=b8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gj,charCode:function(e){return e.type==="keypress"?rm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_8=dn(N8),E8=Nt({},pg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FN=dn(E8),P8=Nt({},_f,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gj}),k8=dn(P8),C8=Nt({},Uc,{propertyName:0,elapsedTime:0,pseudoElement:0}),A8=dn(C8),O8=Nt({},pg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),T8=dn(O8),R8=[9,13,27,32],vj=ga&&"CompositionEvent"in window,Ju=null;ga&&"documentMode"in document&&(Ju=document.documentMode);var I8=ga&&"TextEvent"in window&&!Ju,EO=ga&&(!vj||Ju&&8<Ju&&11>=Ju),BN=" ",UN=!1;function PO(e,t){switch(e){case"keyup":return R8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sl=!1;function $8(e,t){switch(e){case"compositionend":return kO(t);case"keypress":return t.which!==32?null:(UN=!0,BN);case"textInput":return e=t.data,e===BN&&UN?null:e;default:return null}}function M8(e,t){if(Sl)return e==="compositionend"||!vj&&PO(e,t)?(e=_O(),tm=mj=Xa=null,Sl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return EO&&t.locale!=="ko"?null:t.data;default:return null}}var D8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!D8[e.type]:t==="textarea"}function CO(e,t,r,n){iO(n),t=km(t,"onChange"),0<t.length&&(r=new pj("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xu=null,wd=null;function L8(e){BO(e,0)}function gg(e){var t=El(e);if(ZA(t))return e}function F8(e,t){if(e==="change")return t}var AO=!1;if(ga){var hx;if(ga){var mx="oninput"in document;if(!mx){var zN=document.createElement("div");zN.setAttribute("oninput","return;"),mx=typeof zN.oninput=="function"}hx=mx}else hx=!1;AO=hx&&(!document.documentMode||9<document.documentMode)}function WN(){Xu&&(Xu.detachEvent("onpropertychange",OO),wd=Xu=null)}function OO(e){if(e.propertyName==="value"&&gg(wd)){var t=[];CO(t,wd,e,cj(e)),uO(L8,t)}}function B8(e,t,r){e==="focusin"?(WN(),Xu=t,wd=r,Xu.attachEvent("onpropertychange",OO)):e==="focusout"&&WN()}function U8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gg(wd)}function V8(e,t){if(e==="click")return gg(t)}function z8(e,t){if(e==="input"||e==="change")return gg(t)}function W8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var os=typeof Object.is=="function"?Object.is:W8;function jd(e,t){if(os(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Ly.call(t,a)||!os(e[a],t[a]))return!1}return!0}function qN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function HN(e,t){var r=qN(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qN(r)}}function TO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?TO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function RO(){for(var e=window,t=wm();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=wm(e.document)}return t}function xj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function q8(e){var t=RO(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&TO(r.ownerDocument.documentElement,r)){if(n!==null&&xj(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=HN(r,i);var o=HN(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var H8=ga&&"documentMode"in document&&11>=document.documentMode,Nl=null,n0=null,Qu=null,s0=!1;function KN(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;s0||Nl==null||Nl!==wm(n)||(n=Nl,"selectionStart"in n&&xj(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Qu&&jd(Qu,n)||(Qu=n,n=km(n0,"onSelect"),0<n.length&&(t=new pj("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Nl)))}function ah(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _l={animationend:ah("Animation","AnimationEnd"),animationiteration:ah("Animation","AnimationIteration"),animationstart:ah("Animation","AnimationStart"),transitionend:ah("Transition","TransitionEnd")},px={},IO={};ga&&(IO=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function vg(e){if(px[e])return px[e];if(!_l[e])return e;var t=_l[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in IO)return px[e]=t[r];return e}var $O=vg("animationend"),MO=vg("animationiteration"),DO=vg("animationstart"),LO=vg("transitionend"),FO=new Map,GN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(e,t){FO.set(e,t),zo(t,[e])}for(var gx=0;gx<GN.length;gx++){var vx=GN[gx],K8=vx.toLowerCase(),G8=vx[0].toUpperCase()+vx.slice(1);wi(K8,"on"+G8)}wi($O,"onAnimationEnd");wi(MO,"onAnimationIteration");wi(DO,"onAnimationStart");wi("dblclick","onDoubleClick");wi("focusin","onFocus");wi("focusout","onBlur");wi(LO,"onTransitionEnd");Ql("onMouseEnter",["mouseout","mouseover"]);Ql("onMouseLeave",["mouseout","mouseover"]);Ql("onPointerEnter",["pointerout","pointerover"]);Ql("onPointerLeave",["pointerout","pointerover"]);zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function YN(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,K6(n,t,void 0,e),e.currentTarget=null}function BO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;YN(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;YN(a,l,u),i=c}}}if(Sm)throw e=Zy,Sm=!1,Zy=null,e}function ft(e,t){var r=t[c0];r===void 0&&(r=t[c0]=new Set);var n=e+"__bubble";r.has(n)||(UO(t,e,2,!1),r.add(n))}function xx(e,t,r){var n=0;t&&(n|=4),UO(r,e,n,t)}var ih="_reactListening"+Math.random().toString(36).slice(2);function Sd(e){if(!e[ih]){e[ih]=!0,GA.forEach(function(r){r!=="selectionchange"&&(Y8.has(r)||xx(r,!1,e),xx(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ih]||(t[ih]=!0,xx("selectionchange",!1,t))}}function UO(e,t,r,n){switch(NO(t)){case 1:var a=c8;break;case 4:a=u8;break;default:a=hj}r=a.bind(null,t,r,e),a=void 0,!Qy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function yx(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=oo(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}uO(function(){var u=i,d=cj(r),f=[];e:{var h=FO.get(e);if(h!==void 0){var m=pj,g=e;switch(e){case"keypress":if(rm(r)===0)break e;case"keydown":case"keyup":m=_8;break;case"focusin":g="focus",m=fx;break;case"focusout":g="blur",m=fx;break;case"beforeblur":case"afterblur":m=fx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=DN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=h8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=k8;break;case $O:case MO:case DO:m=g8;break;case LO:m=A8;break;case"scroll":m=d8;break;case"wheel":m=T8;break;case"copy":case"cut":case"paste":m=x8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=FN}var p=(t&4)!==0,v=!p&&e==="scroll",x=p?h!==null?h+"Capture":null:h;p=[];for(var y=u,w;y!==null;){w=y;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,x!==null&&(N=vd(y,x),N!=null&&p.push(Nd(y,N,w)))),v)break;y=y.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Jy&&(g=r.relatedTarget||r.fromElement)&&(oo(g)||g[va]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?oo(g):null,g!==null&&(v=Wo(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=DN,N="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=FN,N="onPointerLeave",x="onPointerEnter",y="pointer"),v=m==null?h:El(m),w=g==null?h:El(g),h=new p(N,y+"leave",m,r,d),h.target=v,h.relatedTarget=w,N=null,oo(d)===u&&(p=new p(x,y+"enter",g,r,d),p.target=w,p.relatedTarget=v,N=p),v=N,m&&g)t:{for(p=m,x=g,y=0,w=p;w;w=rl(w))y++;for(w=0,N=x;N;N=rl(N))w++;for(;0<y-w;)p=rl(p),y--;for(;0<w-y;)x=rl(x),w--;for(;y--;){if(p===x||x!==null&&p===x.alternate)break t;p=rl(p),x=rl(x)}p=null}else p=null;m!==null&&JN(f,h,m,p,!1),g!==null&&v!==null&&JN(f,v,g,p,!0)}}e:{if(h=u?El(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=F8;else if(VN(h))if(AO)S=z8;else{S=U8;var j=B8}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=V8);if(S&&(S=S(e,u))){CO(f,S,r,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&qy(h,"number",h.value)}switch(j=u?El(u):window,e){case"focusin":(VN(j)||j.contentEditable==="true")&&(Nl=j,n0=u,Qu=null);break;case"focusout":Qu=n0=Nl=null;break;case"mousedown":s0=!0;break;case"contextmenu":case"mouseup":case"dragend":s0=!1,KN(f,r,d);break;case"selectionchange":if(H8)break;case"keydown":case"keyup":KN(f,r,d)}var _;if(vj)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Sl?PO(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(EO&&r.locale!=="ko"&&(Sl||E!=="onCompositionStart"?E==="onCompositionEnd"&&Sl&&(_=_O()):(Xa=d,mj="value"in Xa?Xa.value:Xa.textContent,Sl=!0)),j=km(u,E),0<j.length&&(E=new LN(E,e,null,r,d),f.push({event:E,listeners:j}),_?E.data=_:(_=kO(r),_!==null&&(E.data=_)))),(_=I8?$8(e,r):M8(e,r))&&(u=km(u,"onBeforeInput"),0<u.length&&(d=new LN("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}BO(f,t)})}function Nd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function km(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=vd(e,r),i!=null&&n.unshift(Nd(e,i,a)),i=vd(e,t),i!=null&&n.push(Nd(e,i,a))),e=e.return}return n}function rl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function JN(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=vd(r,i),c!=null&&o.unshift(Nd(r,c,l))):a||(c=vd(r,i),c!=null&&o.push(Nd(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var J8=/\r\n?/g,X8=/\u0000|\uFFFD/g;function XN(e){return(typeof e=="string"?e:""+e).replace(J8,`
`).replace(X8,"")}function oh(e,t,r){if(t=XN(t),XN(e)!==t&&r)throw Error(Q(425))}function Cm(){}var a0=null,i0=null;function o0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var l0=typeof setTimeout=="function"?setTimeout:void 0,Q8=typeof clearTimeout=="function"?clearTimeout:void 0,QN=typeof Promise=="function"?Promise:void 0,Z8=typeof queueMicrotask=="function"?queueMicrotask:typeof QN<"u"?function(e){return QN.resolve(null).then(e).catch(eF)}:l0;function eF(e){setTimeout(function(){throw e})}function bx(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),bd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);bd(t)}function ai(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ZN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Vc=Math.random().toString(36).slice(2),Ps="__reactFiber$"+Vc,_d="__reactProps$"+Vc,va="__reactContainer$"+Vc,c0="__reactEvents$"+Vc,tF="__reactListeners$"+Vc,rF="__reactHandles$"+Vc;function oo(e){var t=e[Ps];if(t)return t;for(var r=e.parentNode;r;){if(t=r[va]||r[Ps]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ZN(e);e!==null;){if(r=e[Ps])return r;e=ZN(e)}return t}e=r,r=e.parentNode}return null}function Ef(e){return e=e[Ps]||e[va],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function El(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function xg(e){return e[_d]||null}var u0=[],Pl=-1;function ji(e){return{current:e}}function pt(e){0>Pl||(e.current=u0[Pl],u0[Pl]=null,Pl--)}function at(e,t){Pl++,u0[Pl]=e.current,e.current=t}var pi={},wr=ji(pi),Lr=ji(!1),So=pi;function Zl(e,t){var r=e.type.contextTypes;if(!r)return pi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Fr(e){return e=e.childContextTypes,e!=null}function Am(){pt(Lr),pt(wr)}function e_(e,t,r){if(wr.current!==pi)throw Error(Q(168));at(wr,t),at(Lr,r)}function VO(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Q(108,B6(e)||"Unknown",a));return Nt({},r,n)}function Om(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pi,So=wr.current,at(wr,e),at(Lr,Lr.current),!0}function t_(e,t,r){var n=e.stateNode;if(!n)throw Error(Q(169));r?(e=VO(e,t,So),n.__reactInternalMemoizedMergedChildContext=e,pt(Lr),pt(wr),at(wr,e)):pt(Lr),at(Lr,r)}var na=null,yg=!1,wx=!1;function zO(e){na===null?na=[e]:na.push(e)}function nF(e){yg=!0,zO(e)}function Si(){if(!wx&&na!==null){wx=!0;var e=0,t=Ge;try{var r=na;for(Ge=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}na=null,yg=!1}catch(a){throw na!==null&&(na=na.slice(e+1)),mO(uj,Si),a}finally{Ge=t,wx=!1}}return null}var kl=[],Cl=0,Tm=null,Rm=0,xn=[],yn=0,No=null,aa=1,ia="";function qi(e,t){kl[Cl++]=Rm,kl[Cl++]=Tm,Tm=e,Rm=t}function WO(e,t,r){xn[yn++]=aa,xn[yn++]=ia,xn[yn++]=No,No=e;var n=aa;e=ia;var a=32-rs(n)-1;n&=~(1<<a),r+=1;var i=32-rs(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,aa=1<<32-rs(t)+a|r<<a|n,ia=i+e}else aa=1<<i|r<<a|n,ia=e}function yj(e){e.return!==null&&(qi(e,1),WO(e,1,0))}function bj(e){for(;e===Tm;)Tm=kl[--Cl],kl[Cl]=null,Rm=kl[--Cl],kl[Cl]=null;for(;e===No;)No=xn[--yn],xn[yn]=null,ia=xn[--yn],xn[yn]=null,aa=xn[--yn],xn[yn]=null}var nn=null,rn=null,xt=!1,Zn=null;function qO(e,t){var r=wn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function r_(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nn=e,rn=ai(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nn=e,rn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=No!==null?{id:aa,overflow:ia}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=wn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,nn=e,rn=null,!0):!1;default:return!1}}function d0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function f0(e){if(xt){var t=rn;if(t){var r=t;if(!r_(e,t)){if(d0(e))throw Error(Q(418));t=ai(r.nextSibling);var n=nn;t&&r_(e,t)?qO(n,r):(e.flags=e.flags&-4097|2,xt=!1,nn=e)}}else{if(d0(e))throw Error(Q(418));e.flags=e.flags&-4097|2,xt=!1,nn=e}}}function n_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nn=e}function lh(e){if(e!==nn)return!1;if(!xt)return n_(e),xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!o0(e.type,e.memoizedProps)),t&&(t=rn)){if(d0(e))throw HO(),Error(Q(418));for(;t;)qO(e,t),t=ai(t.nextSibling)}if(n_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){rn=ai(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}rn=null}}else rn=nn?ai(e.stateNode.nextSibling):null;return!0}function HO(){for(var e=rn;e;)e=ai(e.nextSibling)}function ec(){rn=nn=null,xt=!1}function wj(e){Zn===null?Zn=[e]:Zn.push(e)}var sF=Pa.ReactCurrentBatchConfig;function bu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,e))}return e}function ch(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function s_(e){var t=e._init;return t(e._payload)}function KO(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=ci(x,y),x.index=0,x.sibling=null,x}function i(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,w,N){return y===null||y.tag!==6?(y=kx(w,x.mode,N),y.return=x,y):(y=a(y,w),y.return=x,y)}function c(x,y,w,N){var S=w.type;return S===jl?d(x,y,w.props.children,N,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===za&&s_(S)===y.type)?(N=a(y,w.props),N.ref=bu(x,y,w),N.return=x,N):(N=cm(w.type,w.key,w.props,null,x.mode,N),N.ref=bu(x,y,w),N.return=x,N)}function u(x,y,w,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Cx(w,x.mode,N),y.return=x,y):(y=a(y,w.children||[]),y.return=x,y)}function d(x,y,w,N,S){return y===null||y.tag!==7?(y=xo(w,x.mode,N,S),y.return=x,y):(y=a(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=kx(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Qf:return w=cm(y.type,y.key,y.props,null,x.mode,w),w.ref=bu(x,null,y),w.return=x,w;case wl:return y=Cx(y,x.mode,w),y.return=x,y;case za:var N=y._init;return f(x,N(y._payload),w)}if(Vu(y)||pu(y))return y=xo(y,x.mode,w,null),y.return=x,y;ch(x,y)}return null}function h(x,y,w,N){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(x,y,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qf:return w.key===S?c(x,y,w,N):null;case wl:return w.key===S?u(x,y,w,N):null;case za:return S=w._init,h(x,y,S(w._payload),N)}if(Vu(w)||pu(w))return S!==null?null:d(x,y,w,N,null);ch(x,w)}return null}function m(x,y,w,N,S){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(w)||null,l(y,x,""+N,S);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Qf:return x=x.get(N.key===null?w:N.key)||null,c(y,x,N,S);case wl:return x=x.get(N.key===null?w:N.key)||null,u(y,x,N,S);case za:var j=N._init;return m(x,y,w,j(N._payload),S)}if(Vu(N)||pu(N))return x=x.get(w)||null,d(y,x,N,S,null);ch(y,N)}return null}function g(x,y,w,N){for(var S=null,j=null,_=y,E=y=0,P=null;_!==null&&E<w.length;E++){_.index>E?(P=_,_=null):P=_.sibling;var C=h(x,_,w[E],N);if(C===null){_===null&&(_=P);break}e&&_&&C.alternate===null&&t(x,_),y=i(C,y,E),j===null?S=C:j.sibling=C,j=C,_=P}if(E===w.length)return r(x,_),xt&&qi(x,E),S;if(_===null){for(;E<w.length;E++)_=f(x,w[E],N),_!==null&&(y=i(_,y,E),j===null?S=_:j.sibling=_,j=_);return xt&&qi(x,E),S}for(_=n(x,_);E<w.length;E++)P=m(_,x,E,w[E],N),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?E:P.key),y=i(P,y,E),j===null?S=P:j.sibling=P,j=P);return e&&_.forEach(function(T){return t(x,T)}),xt&&qi(x,E),S}function p(x,y,w,N){var S=pu(w);if(typeof S!="function")throw Error(Q(150));if(w=S.call(w),w==null)throw Error(Q(151));for(var j=S=null,_=y,E=y=0,P=null,C=w.next();_!==null&&!C.done;E++,C=w.next()){_.index>E?(P=_,_=null):P=_.sibling;var T=h(x,_,C.value,N);if(T===null){_===null&&(_=P);break}e&&_&&T.alternate===null&&t(x,_),y=i(T,y,E),j===null?S=T:j.sibling=T,j=T,_=P}if(C.done)return r(x,_),xt&&qi(x,E),S;if(_===null){for(;!C.done;E++,C=w.next())C=f(x,C.value,N),C!==null&&(y=i(C,y,E),j===null?S=C:j.sibling=C,j=C);return xt&&qi(x,E),S}for(_=n(x,_);!C.done;E++,C=w.next())C=m(_,x,E,C.value,N),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?E:C.key),y=i(C,y,E),j===null?S=C:j.sibling=C,j=C);return e&&_.forEach(function(O){return t(x,O)}),xt&&qi(x,E),S}function v(x,y,w,N){if(typeof w=="object"&&w!==null&&w.type===jl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Qf:e:{for(var S=w.key,j=y;j!==null;){if(j.key===S){if(S=w.type,S===jl){if(j.tag===7){r(x,j.sibling),y=a(j,w.props.children),y.return=x,x=y;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===za&&s_(S)===j.type){r(x,j.sibling),y=a(j,w.props),y.ref=bu(x,j,w),y.return=x,x=y;break e}r(x,j);break}else t(x,j);j=j.sibling}w.type===jl?(y=xo(w.props.children,x.mode,N,w.key),y.return=x,x=y):(N=cm(w.type,w.key,w.props,null,x.mode,N),N.ref=bu(x,y,w),N.return=x,x=N)}return o(x);case wl:e:{for(j=w.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=a(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=Cx(w,x.mode,N),y.return=x,x=y}return o(x);case za:return j=w._init,v(x,y,j(w._payload),N)}if(Vu(w))return g(x,y,w,N);if(pu(w))return p(x,y,w,N);ch(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=a(y,w),y.return=x,x=y):(r(x,y),y=kx(w,x.mode,N),y.return=x,x=y),o(x)):r(x,y)}return v}var tc=KO(!0),GO=KO(!1),Im=ji(null),$m=null,Al=null,jj=null;function Sj(){jj=Al=$m=null}function Nj(e){var t=Im.current;pt(Im),e._currentValue=t}function h0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Vl(e,t){$m=e,jj=Al=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($r=!0),e.firstContext=null)}function Cn(e){var t=e._currentValue;if(jj!==e)if(e={context:e,memoizedValue:t,next:null},Al===null){if($m===null)throw Error(Q(308));Al=e,$m.dependencies={lanes:0,firstContext:e}}else Al=Al.next=e;return t}var lo=null;function _j(e){lo===null?lo=[e]:lo.push(e)}function YO(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,_j(t)):(r.next=a.next,a.next=r),t.interleaved=r,xa(e,n)}function xa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Wa=!1;function Ej(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ii(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Le&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,xa(e,r)}return a=n.interleaved,a===null?(t.next=t,_j(n)):(t.next=a.next,a.next=t),n.interleaved=t,xa(e,r)}function nm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dj(e,r)}}function a_(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Mm(e,t,r,n){var a=e.updateQueue;Wa=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Nt({},f,h);break e;case 2:Wa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Eo|=o,e.lanes=o,e.memoizedState=f}}function i_(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Q(191,a));a.call(n)}}}var Pf={},Is=ji(Pf),Ed=ji(Pf),Pd=ji(Pf);function co(e){if(e===Pf)throw Error(Q(174));return e}function Pj(e,t){switch(at(Pd,t),at(Ed,e),at(Is,Pf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ky(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ky(t,e)}pt(Is),at(Is,t)}function rc(){pt(Is),pt(Ed),pt(Pd)}function XO(e){co(Pd.current);var t=co(Is.current),r=Ky(t,e.type);t!==r&&(at(Ed,e),at(Is,r))}function kj(e){Ed.current===e&&(pt(Is),pt(Ed))}var wt=ji(0);function Dm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jx=[];function Cj(){for(var e=0;e<jx.length;e++)jx[e]._workInProgressVersionPrimary=null;jx.length=0}var sm=Pa.ReactCurrentDispatcher,Sx=Pa.ReactCurrentBatchConfig,_o=0,St=null,qt=null,Zt=null,Lm=!1,Zu=!1,kd=0,aF=0;function mr(){throw Error(Q(321))}function Aj(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!os(e[r],t[r]))return!1;return!0}function Oj(e,t,r,n,a,i){if(_o=i,St=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sm.current=e===null||e.memoizedState===null?cF:uF,e=r(n,a),Zu){i=0;do{if(Zu=!1,kd=0,25<=i)throw Error(Q(301));i+=1,Zt=qt=null,t.updateQueue=null,sm.current=dF,e=r(n,a)}while(Zu)}if(sm.current=Fm,t=qt!==null&&qt.next!==null,_o=0,Zt=qt=St=null,Lm=!1,t)throw Error(Q(300));return e}function Tj(){var e=kd!==0;return kd=0,e}function js(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?St.memoizedState=Zt=e:Zt=Zt.next=e,Zt}function An(){if(qt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=qt.next;var t=Zt===null?St.memoizedState:Zt.next;if(t!==null)Zt=t,qt=e;else{if(e===null)throw Error(Q(310));qt=e,e={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Zt===null?St.memoizedState=Zt=e:Zt=Zt.next=e}return Zt}function Cd(e,t){return typeof t=="function"?t(e):t}function Nx(e){var t=An(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=qt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((_o&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,St.lanes|=d,Eo|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,os(n,t.memoizedState)||($r=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,St.lanes|=i,Eo|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function _x(e){var t=An(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);os(i,t.memoizedState)||($r=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function QO(){}function ZO(e,t){var r=St,n=An(),a=t(),i=!os(n.memoizedState,a);if(i&&(n.memoizedState=a,$r=!0),n=n.queue,Rj(rT.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Zt!==null&&Zt.memoizedState.tag&1){if(r.flags|=2048,Ad(9,tT.bind(null,r,n,a,t),void 0,null),sr===null)throw Error(Q(349));_o&30||eT(r,t,a)}return a}function eT(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=St.updateQueue,t===null?(t={lastEffect:null,stores:null},St.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function tT(e,t,r,n){t.value=r,t.getSnapshot=n,nT(t)&&sT(e)}function rT(e,t,r){return r(function(){nT(t)&&sT(e)})}function nT(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!os(e,r)}catch{return!0}}function sT(e){var t=xa(e,1);t!==null&&ns(t,e,1,-1)}function o_(e){var t=js();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cd,lastRenderedState:e},t.queue=e,e=e.dispatch=lF.bind(null,St,e),[t.memoizedState,e]}function Ad(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=St.updateQueue,t===null?(t={lastEffect:null,stores:null},St.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function aT(){return An().memoizedState}function am(e,t,r,n){var a=js();St.flags|=e,a.memoizedState=Ad(1|t,r,void 0,n===void 0?null:n)}function bg(e,t,r,n){var a=An();n=n===void 0?null:n;var i=void 0;if(qt!==null){var o=qt.memoizedState;if(i=o.destroy,n!==null&&Aj(n,o.deps)){a.memoizedState=Ad(t,r,i,n);return}}St.flags|=e,a.memoizedState=Ad(1|t,r,i,n)}function l_(e,t){return am(8390656,8,e,t)}function Rj(e,t){return bg(2048,8,e,t)}function iT(e,t){return bg(4,2,e,t)}function oT(e,t){return bg(4,4,e,t)}function lT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cT(e,t,r){return r=r!=null?r.concat([e]):null,bg(4,4,lT.bind(null,t,e),r)}function Ij(){}function uT(e,t){var r=An();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Aj(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function dT(e,t){var r=An();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Aj(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function fT(e,t,r){return _o&21?(os(r,t)||(r=vO(),St.lanes|=r,Eo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$r=!0),e.memoizedState=r)}function iF(e,t){var r=Ge;Ge=r!==0&&4>r?r:4,e(!0);var n=Sx.transition;Sx.transition={};try{e(!1),t()}finally{Ge=r,Sx.transition=n}}function hT(){return An().memoizedState}function oF(e,t,r){var n=li(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},mT(e))pT(t,r);else if(r=YO(e,t,r,n),r!==null){var a=Pr();ns(r,e,n,a),gT(r,t,n)}}function lF(e,t,r){var n=li(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(mT(e))pT(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,os(l,o)){var c=t.interleaved;c===null?(a.next=a,_j(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=YO(e,t,a,n),r!==null&&(a=Pr(),ns(r,e,n,a),gT(r,t,n))}}function mT(e){var t=e.alternate;return e===St||t!==null&&t===St}function pT(e,t){Zu=Lm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function gT(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dj(e,r)}}var Fm={readContext:Cn,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},cF={readContext:Cn,useCallback:function(e,t){return js().memoizedState=[e,t===void 0?null:t],e},useContext:Cn,useEffect:l_,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,am(4194308,4,lT.bind(null,t,e),r)},useLayoutEffect:function(e,t){return am(4194308,4,e,t)},useInsertionEffect:function(e,t){return am(4,2,e,t)},useMemo:function(e,t){var r=js();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=js();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=oF.bind(null,St,e),[n.memoizedState,e]},useRef:function(e){var t=js();return e={current:e},t.memoizedState=e},useState:o_,useDebugValue:Ij,useDeferredValue:function(e){return js().memoizedState=e},useTransition:function(){var e=o_(!1),t=e[0];return e=iF.bind(null,e[1]),js().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=St,a=js();if(xt){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=t(),sr===null)throw Error(Q(349));_o&30||eT(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,l_(rT.bind(null,n,i,e),[e]),n.flags|=2048,Ad(9,tT.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=js(),t=sr.identifierPrefix;if(xt){var r=ia,n=aa;r=(n&~(1<<32-rs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=kd++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=aF++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uF={readContext:Cn,useCallback:uT,useContext:Cn,useEffect:Rj,useImperativeHandle:cT,useInsertionEffect:iT,useLayoutEffect:oT,useMemo:dT,useReducer:Nx,useRef:aT,useState:function(){return Nx(Cd)},useDebugValue:Ij,useDeferredValue:function(e){var t=An();return fT(t,qt.memoizedState,e)},useTransition:function(){var e=Nx(Cd)[0],t=An().memoizedState;return[e,t]},useMutableSource:QO,useSyncExternalStore:ZO,useId:hT,unstable_isNewReconciler:!1},dF={readContext:Cn,useCallback:uT,useContext:Cn,useEffect:Rj,useImperativeHandle:cT,useInsertionEffect:iT,useLayoutEffect:oT,useMemo:dT,useReducer:_x,useRef:aT,useState:function(){return _x(Cd)},useDebugValue:Ij,useDeferredValue:function(e){var t=An();return qt===null?t.memoizedState=e:fT(t,qt.memoizedState,e)},useTransition:function(){var e=_x(Cd)[0],t=An().memoizedState;return[e,t]},useMutableSource:QO,useSyncExternalStore:ZO,useId:hT,unstable_isNewReconciler:!1};function Gn(e,t){if(e&&e.defaultProps){t=Nt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function m0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Nt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wg={isMounted:function(e){return(e=e._reactInternals)?Wo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pr(),a=li(e),i=da(n,a);i.payload=t,r!=null&&(i.callback=r),t=ii(e,i,a),t!==null&&(ns(t,e,a,n),nm(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pr(),a=li(e),i=da(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ii(e,i,a),t!==null&&(ns(t,e,a,n),nm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pr(),n=li(e),a=da(r,n);a.tag=2,t!=null&&(a.callback=t),t=ii(e,a,n),t!==null&&(ns(t,e,n,r),nm(t,e,n))}};function c_(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!jd(r,n)||!jd(a,i):!0}function vT(e,t,r){var n=!1,a=pi,i=t.contextType;return typeof i=="object"&&i!==null?i=Cn(i):(a=Fr(t)?So:wr.current,n=t.contextTypes,i=(n=n!=null)?Zl(e,a):pi),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wg,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function u_(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&wg.enqueueReplaceState(t,t.state,null)}function p0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ej(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Cn(i):(i=Fr(t)?So:wr.current,a.context=Zl(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(m0(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&wg.enqueueReplaceState(a,a.state,null),Mm(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function nc(e,t){try{var r="",n=t;do r+=F6(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Ex(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function g0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fF=typeof WeakMap=="function"?WeakMap:Map;function xT(e,t,r){r=da(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Um||(Um=!0,E0=n),g0(e,t)},r}function yT(e,t,r){r=da(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){g0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){g0(e,t),typeof n!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function d_(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new fF;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=EF.bind(null,e,t,r),t.then(e,e))}function f_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function h_(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=da(-1,1),t.tag=2,ii(r,t,1))),r.lanes|=1),e)}var hF=Pa.ReactCurrentOwner,$r=!1;function jr(e,t,r,n){t.child=e===null?GO(t,null,r,n):tc(t,e.child,r,n)}function m_(e,t,r,n,a){r=r.render;var i=t.ref;return Vl(t,a),n=Oj(e,t,r,n,i,a),r=Tj(),e!==null&&!$r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ya(e,t,a)):(xt&&r&&yj(t),t.flags|=1,jr(e,t,n,a),t.child)}function p_(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Vj(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,bT(e,t,i,n,a)):(e=cm(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:jd,r(o,n)&&e.ref===t.ref)return ya(e,t,a)}return t.flags|=1,e=ci(i,n),e.ref=t.ref,e.return=t,t.child=e}function bT(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(jd(i,n)&&e.ref===t.ref)if($r=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&($r=!0);else return t.lanes=e.lanes,ya(e,t,a)}return v0(e,t,r,n,a)}function wT(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Tl,Xr),Xr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,at(Tl,Xr),Xr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,at(Tl,Xr),Xr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,at(Tl,Xr),Xr|=n;return jr(e,t,a,r),t.child}function jT(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function v0(e,t,r,n,a){var i=Fr(r)?So:wr.current;return i=Zl(t,i),Vl(t,a),r=Oj(e,t,r,n,i,a),n=Tj(),e!==null&&!$r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ya(e,t,a)):(xt&&n&&yj(t),t.flags|=1,jr(e,t,r,a),t.child)}function g_(e,t,r,n,a){if(Fr(r)){var i=!0;Om(t)}else i=!1;if(Vl(t,a),t.stateNode===null)im(e,t),vT(t,r,n),p0(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Cn(u):(u=Fr(r)?So:wr.current,u=Zl(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&u_(t,o,n,u),Wa=!1;var h=t.memoizedState;o.state=h,Mm(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Lr.current||Wa?(typeof d=="function"&&(m0(t,r,d,n),c=t.memoizedState),(l=Wa||c_(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,JO(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Gn(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Cn(c):(c=Fr(r)?So:wr.current,c=Zl(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&u_(t,o,n,c),Wa=!1,h=t.memoizedState,o.state=h,Mm(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||Lr.current||Wa?(typeof m=="function"&&(m0(t,r,m,n),g=t.memoizedState),(u=Wa||c_(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return x0(e,t,r,n,i,a)}function x0(e,t,r,n,a,i){jT(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&t_(t,r,!1),ya(e,t,i);n=t.stateNode,hF.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=tc(t,e.child,null,i),t.child=tc(t,null,l,i)):jr(e,t,l,i),t.memoizedState=n.state,a&&t_(t,r,!0),t.child}function ST(e){var t=e.stateNode;t.pendingContext?e_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&e_(e,t.context,!1),Pj(e,t.containerInfo)}function v_(e,t,r,n,a){return ec(),wj(a),t.flags|=256,jr(e,t,r,n),t.child}var y0={dehydrated:null,treeContext:null,retryLane:0};function b0(e){return{baseLanes:e,cachePool:null,transitions:null}}function NT(e,t,r){var n=t.pendingProps,a=wt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),at(wt,a&1),e===null)return f0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ng(o,n,0,null),e=xo(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=b0(r),t.memoizedState=y0,e):$j(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return mF(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ci(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ci(l,i):(i=xo(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?b0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=y0,n}return i=e.child,e=i.sibling,n=ci(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function $j(e,t){return t=Ng({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function uh(e,t,r,n){return n!==null&&wj(n),tc(t,e.child,null,r),e=$j(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mF(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ex(Error(Q(422))),uh(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Ng({mode:"visible",children:n.children},a,0,null),i=xo(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&tc(t,e.child,null,o),t.child.memoizedState=b0(o),t.memoizedState=y0,i);if(!(t.mode&1))return uh(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Q(419)),n=Ex(i,n,void 0),uh(e,t,o,n)}if(l=(o&e.childLanes)!==0,$r||l){if(n=sr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,xa(e,a),ns(n,e,a,-1))}return Uj(),n=Ex(Error(Q(421))),uh(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=PF.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,rn=ai(a.nextSibling),nn=t,xt=!0,Zn=null,e!==null&&(xn[yn++]=aa,xn[yn++]=ia,xn[yn++]=No,aa=e.id,ia=e.overflow,No=t),t=$j(t,n.children),t.flags|=4096,t)}function x_(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),h0(e.return,t,r)}function Px(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function _T(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(jr(e,t,n.children,r),n=wt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&x_(e,r,t);else if(e.tag===19)x_(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(at(wt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Dm(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Px(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Dm(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Px(t,!0,r,null,i);break;case"together":Px(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function im(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ya(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Eo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,r=ci(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ci(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function pF(e,t,r){switch(t.tag){case 3:ST(t),ec();break;case 5:XO(t);break;case 1:Fr(t.type)&&Om(t);break;case 4:Pj(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;at(Im,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(at(wt,wt.current&1),t.flags|=128,null):r&t.child.childLanes?NT(e,t,r):(at(wt,wt.current&1),e=ya(e,t,r),e!==null?e.sibling:null);at(wt,wt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return _T(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),at(wt,wt.current),n)break;return null;case 22:case 23:return t.lanes=0,wT(e,t,r)}return ya(e,t,r)}var ET,w0,PT,kT;ET=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};w0=function(){};PT=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,co(Is.current);var i=null;switch(r){case"input":a=zy(e,a),n=zy(e,n),i=[];break;case"select":a=Nt({},a,{value:void 0}),n=Nt({},n,{value:void 0}),i=[];break;case"textarea":a=Hy(e,a),n=Hy(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Cm)}Gy(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pd.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ft("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};kT=function(e,t,r,n){r!==n&&(t.flags|=4)};function wu(e,t){if(!xt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function gF(e,t,r){var n=t.pendingProps;switch(bj(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(t),null;case 1:return Fr(t.type)&&Am(),pr(t),null;case 3:return n=t.stateNode,rc(),pt(Lr),pt(wr),Cj(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(lh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zn!==null&&(C0(Zn),Zn=null))),w0(e,t),pr(t),null;case 5:kj(t);var a=co(Pd.current);if(r=t.type,e!==null&&t.stateNode!=null)PT(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Q(166));return pr(t),null}if(e=co(Is.current),lh(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ps]=t,n[_d]=i,e=(t.mode&1)!==0,r){case"dialog":ft("cancel",n),ft("close",n);break;case"iframe":case"object":case"embed":ft("load",n);break;case"video":case"audio":for(a=0;a<Wu.length;a++)ft(Wu[a],n);break;case"source":ft("error",n);break;case"img":case"image":case"link":ft("error",n),ft("load",n);break;case"details":ft("toggle",n);break;case"input":PN(n,i),ft("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ft("invalid",n);break;case"textarea":CN(n,i),ft("invalid",n)}Gy(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&oh(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&oh(n.textContent,l,e),a=["children",""+l]):pd.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ft("scroll",n)}switch(r){case"input":Zf(n),kN(n,i,!0);break;case"textarea":Zf(n),AN(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Cm)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rO(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ps]=t,e[_d]=n,ET(e,t,!1,!1),t.stateNode=e;e:{switch(o=Yy(r,n),r){case"dialog":ft("cancel",e),ft("close",e),a=n;break;case"iframe":case"object":case"embed":ft("load",e),a=n;break;case"video":case"audio":for(a=0;a<Wu.length;a++)ft(Wu[a],e);a=n;break;case"source":ft("error",e),a=n;break;case"img":case"image":case"link":ft("error",e),ft("load",e),a=n;break;case"details":ft("toggle",e),a=n;break;case"input":PN(e,n),a=zy(e,n),ft("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Nt({},n,{value:void 0}),ft("invalid",e);break;case"textarea":CN(e,n),a=Hy(e,n),ft("invalid",e);break;default:a=n}Gy(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?aO(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nO(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&gd(e,c):typeof c=="number"&&gd(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(pd.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ft("scroll",e):c!=null&&aj(e,i,c,o))}switch(r){case"input":Zf(e),kN(e,n,!1);break;case"textarea":Zf(e),AN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+mi(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ll(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ll(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Cm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pr(t),null;case 6:if(e&&t.stateNode!=null)kT(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Q(166));if(r=co(Pd.current),co(Is.current),lh(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ps]=t,(i=n.nodeValue!==r)&&(e=nn,e!==null))switch(e.tag){case 3:oh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oh(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ps]=t,t.stateNode=n}return pr(t),null;case 13:if(pt(wt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xt&&rn!==null&&t.mode&1&&!(t.flags&128))HO(),ec(),t.flags|=98560,i=!1;else if(i=lh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[Ps]=t}else ec(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pr(t),i=!1}else Zn!==null&&(C0(Zn),Zn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||wt.current&1?Yt===0&&(Yt=3):Uj())),t.updateQueue!==null&&(t.flags|=4),pr(t),null);case 4:return rc(),w0(e,t),e===null&&Sd(t.stateNode.containerInfo),pr(t),null;case 10:return Nj(t.type._context),pr(t),null;case 17:return Fr(t.type)&&Am(),pr(t),null;case 19:if(pt(wt),i=t.memoizedState,i===null)return pr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)wu(i,!1);else{if(Yt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Dm(e),o!==null){for(t.flags|=128,wu(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return at(wt,wt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ot()>sc&&(t.flags|=128,n=!0,wu(i,!1),t.lanes=4194304)}else{if(!n)if(e=Dm(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),wu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!xt)return pr(t),null}else 2*Ot()-i.renderingStartTime>sc&&r!==1073741824&&(t.flags|=128,n=!0,wu(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ot(),t.sibling=null,r=wt.current,at(wt,n?r&1|2:r&1),t):(pr(t),null);case 22:case 23:return Bj(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Xr&1073741824&&(pr(t),t.subtreeFlags&6&&(t.flags|=8192)):pr(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function vF(e,t){switch(bj(t),t.tag){case 1:return Fr(t.type)&&Am(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rc(),pt(Lr),pt(wr),Cj(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kj(t),null;case 13:if(pt(wt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));ec()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pt(wt),null;case 4:return rc(),null;case 10:return Nj(t.type._context),null;case 22:case 23:return Bj(),null;case 24:return null;default:return null}}var dh=!1,vr=!1,xF=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ol(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Pt(e,t,n)}else r.current=null}function j0(e,t,r){try{r()}catch(n){Pt(e,t,n)}}var y_=!1;function yF(e,t){if(a0=Em,e=RO(),xj(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(i0={focusedElem:e,selectionRange:r},Em=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:Gn(t.type,p),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(N){Pt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return g=y_,y_=!1,g}function ed(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&j0(t,r,i)}a=a.next}while(a!==n)}}function jg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function S0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function CT(e){var t=e.alternate;t!==null&&(e.alternate=null,CT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ps],delete t[_d],delete t[c0],delete t[tF],delete t[rF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function AT(e){return e.tag===5||e.tag===3||e.tag===4}function b_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||AT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function N0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Cm));else if(n!==4&&(e=e.child,e!==null))for(N0(e,t,r),e=e.sibling;e!==null;)N0(e,t,r),e=e.sibling}function _0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(_0(e,t,r),e=e.sibling;e!==null;)_0(e,t,r),e=e.sibling}var lr=null,Yn=!1;function $a(e,t,r){for(r=r.child;r!==null;)OT(e,t,r),r=r.sibling}function OT(e,t,r){if(Rs&&typeof Rs.onCommitFiberUnmount=="function")try{Rs.onCommitFiberUnmount(mg,r)}catch{}switch(r.tag){case 5:vr||Ol(r,t);case 6:var n=lr,a=Yn;lr=null,$a(e,t,r),lr=n,Yn=a,lr!==null&&(Yn?(e=lr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):lr.removeChild(r.stateNode));break;case 18:lr!==null&&(Yn?(e=lr,r=r.stateNode,e.nodeType===8?bx(e.parentNode,r):e.nodeType===1&&bx(e,r),bd(e)):bx(lr,r.stateNode));break;case 4:n=lr,a=Yn,lr=r.stateNode.containerInfo,Yn=!0,$a(e,t,r),lr=n,Yn=a;break;case 0:case 11:case 14:case 15:if(!vr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&j0(r,t,o),a=a.next}while(a!==n)}$a(e,t,r);break;case 1:if(!vr&&(Ol(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Pt(r,t,l)}$a(e,t,r);break;case 21:$a(e,t,r);break;case 22:r.mode&1?(vr=(n=vr)||r.memoizedState!==null,$a(e,t,r),vr=n):$a(e,t,r);break;default:$a(e,t,r)}}function w_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new xF),t.forEach(function(n){var a=kF.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function zn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:lr=l.stateNode,Yn=!1;break e;case 3:lr=l.stateNode.containerInfo,Yn=!0;break e;case 4:lr=l.stateNode.containerInfo,Yn=!0;break e}l=l.return}if(lr===null)throw Error(Q(160));OT(i,o,a),lr=null,Yn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Pt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)TT(t,e),t=t.sibling}function TT(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zn(t,e),bs(e),n&4){try{ed(3,e,e.return),jg(3,e)}catch(p){Pt(e,e.return,p)}try{ed(5,e,e.return)}catch(p){Pt(e,e.return,p)}}break;case 1:zn(t,e),bs(e),n&512&&r!==null&&Ol(r,r.return);break;case 5:if(zn(t,e),bs(e),n&512&&r!==null&&Ol(r,r.return),e.flags&32){var a=e.stateNode;try{gd(a,"")}catch(p){Pt(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&eO(a,i),Yy(l,o);var u=Yy(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?aO(a,f):d==="dangerouslySetInnerHTML"?nO(a,f):d==="children"?gd(a,f):aj(a,d,f,u)}switch(l){case"input":Wy(a,i);break;case"textarea":tO(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ll(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ll(a,!!i.multiple,i.defaultValue,!0):Ll(a,!!i.multiple,i.multiple?[]:"",!1))}a[_d]=i}catch(p){Pt(e,e.return,p)}}break;case 6:if(zn(t,e),bs(e),n&4){if(e.stateNode===null)throw Error(Q(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Pt(e,e.return,p)}}break;case 3:if(zn(t,e),bs(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{bd(t.containerInfo)}catch(p){Pt(e,e.return,p)}break;case 4:zn(t,e),bs(e);break;case 13:zn(t,e),bs(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Lj=Ot())),n&4&&w_(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(vr=(u=vr)||d,zn(t,e),vr=u):zn(t,e),bs(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(oe=e,d=e.child;d!==null;){for(f=oe=d;oe!==null;){switch(h=oe,m=h.child,h.tag){case 0:case 11:case 14:case 15:ed(4,h,h.return);break;case 1:Ol(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Pt(n,r,p)}}break;case 5:Ol(h,h.return);break;case 22:if(h.memoizedState!==null){S_(f);continue}}m!==null?(m.return=h,oe=m):S_(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=sO("display",o))}catch(p){Pt(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Pt(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zn(t,e),bs(e),n&4&&w_(e);break;case 21:break;default:zn(t,e),bs(e)}}function bs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(AT(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(gd(a,""),n.flags&=-33);var i=b_(e);_0(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=b_(e);N0(e,l,o);break;default:throw Error(Q(161))}}catch(c){Pt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bF(e,t,r){oe=e,RT(e)}function RT(e,t,r){for(var n=(e.mode&1)!==0;oe!==null;){var a=oe,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||dh;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||vr;l=dh;var u=vr;if(dh=o,(vr=c)&&!u)for(oe=a;oe!==null;)o=oe,c=o.child,o.tag===22&&o.memoizedState!==null?N_(a):c!==null?(c.return=o,oe=c):N_(a);for(;i!==null;)oe=i,RT(i),i=i.sibling;oe=a,dh=l,vr=u}j_(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,oe=i):j_(e)}}function j_(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vr||jg(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!vr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Gn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&i_(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}i_(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&bd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}vr||t.flags&512&&S0(t)}catch(h){Pt(t,t.return,h)}}if(t===e){oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,oe=r;break}oe=t.return}}function S_(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,oe=r;break}oe=t.return}}function N_(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{jg(4,t)}catch(c){Pt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Pt(t,a,c)}}var i=t.return;try{S0(t)}catch(c){Pt(t,i,c)}break;case 5:var o=t.return;try{S0(t)}catch(c){Pt(t,o,c)}}}catch(c){Pt(t,t.return,c)}if(t===e){oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,oe=l;break}oe=t.return}}var wF=Math.ceil,Bm=Pa.ReactCurrentDispatcher,Mj=Pa.ReactCurrentOwner,En=Pa.ReactCurrentBatchConfig,Le=0,sr=null,Mt=null,fr=0,Xr=0,Tl=ji(0),Yt=0,Od=null,Eo=0,Sg=0,Dj=0,td=null,Rr=null,Lj=0,sc=1/0,ea=null,Um=!1,E0=null,oi=null,fh=!1,Qa=null,Vm=0,rd=0,P0=null,om=-1,lm=0;function Pr(){return Le&6?Ot():om!==-1?om:om=Ot()}function li(e){return e.mode&1?Le&2&&fr!==0?fr&-fr:sF.transition!==null?(lm===0&&(lm=vO()),lm):(e=Ge,e!==0||(e=window.event,e=e===void 0?16:NO(e.type)),e):1}function ns(e,t,r,n){if(50<rd)throw rd=0,P0=null,Error(Q(185));Nf(e,r,n),(!(Le&2)||e!==sr)&&(e===sr&&(!(Le&2)&&(Sg|=r),Yt===4&&Ka(e,fr)),Br(e,n),r===1&&Le===0&&!(t.mode&1)&&(sc=Ot()+500,yg&&Si()))}function Br(e,t){var r=e.callbackNode;s8(e,t);var n=_m(e,e===sr?fr:0);if(n===0)r!==null&&RN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&RN(r),t===1)e.tag===0?nF(__.bind(null,e)):zO(__.bind(null,e)),Z8(function(){!(Le&6)&&Si()}),r=null;else{switch(xO(n)){case 1:r=uj;break;case 4:r=pO;break;case 16:r=Nm;break;case 536870912:r=gO;break;default:r=Nm}r=UT(r,IT.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function IT(e,t){if(om=-1,lm=0,Le&6)throw Error(Q(327));var r=e.callbackNode;if(zl()&&e.callbackNode!==r)return null;var n=_m(e,e===sr?fr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=zm(e,n);else{t=n;var a=Le;Le|=2;var i=MT();(sr!==e||fr!==t)&&(ea=null,sc=Ot()+500,vo(e,t));do try{NF();break}catch(l){$T(e,l)}while(!0);Sj(),Bm.current=i,Le=a,Mt!==null?t=0:(sr=null,fr=0,t=Yt)}if(t!==0){if(t===2&&(a=e0(e),a!==0&&(n=a,t=k0(e,a))),t===1)throw r=Od,vo(e,0),Ka(e,n),Br(e,Ot()),r;if(t===6)Ka(e,n);else{if(a=e.current.alternate,!(n&30)&&!jF(a)&&(t=zm(e,n),t===2&&(i=e0(e),i!==0&&(n=i,t=k0(e,i))),t===1))throw r=Od,vo(e,0),Ka(e,n),Br(e,Ot()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Q(345));case 2:Hi(e,Rr,ea);break;case 3:if(Ka(e,n),(n&130023424)===n&&(t=Lj+500-Ot(),10<t)){if(_m(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Pr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=l0(Hi.bind(null,e,Rr,ea),t);break}Hi(e,Rr,ea);break;case 4:if(Ka(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-rs(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Ot()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wF(n/1960))-n,10<n){e.timeoutHandle=l0(Hi.bind(null,e,Rr,ea),n);break}Hi(e,Rr,ea);break;case 5:Hi(e,Rr,ea);break;default:throw Error(Q(329))}}}return Br(e,Ot()),e.callbackNode===r?IT.bind(null,e):null}function k0(e,t){var r=td;return e.current.memoizedState.isDehydrated&&(vo(e,t).flags|=256),e=zm(e,t),e!==2&&(t=Rr,Rr=r,t!==null&&C0(t)),e}function C0(e){Rr===null?Rr=e:Rr.push.apply(Rr,e)}function jF(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!os(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ka(e,t){for(t&=~Dj,t&=~Sg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-rs(t),n=1<<r;e[r]=-1,t&=~n}}function __(e){if(Le&6)throw Error(Q(327));zl();var t=_m(e,0);if(!(t&1))return Br(e,Ot()),null;var r=zm(e,t);if(e.tag!==0&&r===2){var n=e0(e);n!==0&&(t=n,r=k0(e,n))}if(r===1)throw r=Od,vo(e,0),Ka(e,t),Br(e,Ot()),r;if(r===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hi(e,Rr,ea),Br(e,Ot()),null}function Fj(e,t){var r=Le;Le|=1;try{return e(t)}finally{Le=r,Le===0&&(sc=Ot()+500,yg&&Si())}}function Po(e){Qa!==null&&Qa.tag===0&&!(Le&6)&&zl();var t=Le;Le|=1;var r=En.transition,n=Ge;try{if(En.transition=null,Ge=1,e)return e()}finally{Ge=n,En.transition=r,Le=t,!(Le&6)&&Si()}}function Bj(){Xr=Tl.current,pt(Tl)}function vo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Q8(r)),Mt!==null)for(r=Mt.return;r!==null;){var n=r;switch(bj(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Am();break;case 3:rc(),pt(Lr),pt(wr),Cj();break;case 5:kj(n);break;case 4:rc();break;case 13:pt(wt);break;case 19:pt(wt);break;case 10:Nj(n.type._context);break;case 22:case 23:Bj()}r=r.return}if(sr=e,Mt=e=ci(e.current,null),fr=Xr=t,Yt=0,Od=null,Dj=Sg=Eo=0,Rr=td=null,lo!==null){for(t=0;t<lo.length;t++)if(r=lo[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}lo=null}return e}function $T(e,t){do{var r=Mt;try{if(Sj(),sm.current=Fm,Lm){for(var n=St.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Lm=!1}if(_o=0,Zt=qt=St=null,Zu=!1,kd=0,Mj.current=null,r===null||r.return===null){Yt=1,Od=t,Mt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=fr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=f_(o);if(m!==null){m.flags&=-257,h_(m,o,l,i,t),m.mode&1&&d_(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){d_(i,u,t),Uj();break e}c=Error(Q(426))}}else if(xt&&l.mode&1){var v=f_(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),h_(v,o,l,i,t),wj(nc(c,l));break e}}i=c=nc(c,l),Yt!==4&&(Yt=2),td===null?td=[i]:td.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=xT(i,c,t);a_(i,x);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(oi===null||!oi.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=yT(i,l,t);a_(i,N);break e}}i=i.return}while(i!==null)}LT(r)}catch(S){t=S,Mt===r&&r!==null&&(Mt=r=r.return);continue}break}while(!0)}function MT(){var e=Bm.current;return Bm.current=Fm,e===null?Fm:e}function Uj(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),sr===null||!(Eo&268435455)&&!(Sg&268435455)||Ka(sr,fr)}function zm(e,t){var r=Le;Le|=2;var n=MT();(sr!==e||fr!==t)&&(ea=null,vo(e,t));do try{SF();break}catch(a){$T(e,a)}while(!0);if(Sj(),Le=r,Bm.current=n,Mt!==null)throw Error(Q(261));return sr=null,fr=0,Yt}function SF(){for(;Mt!==null;)DT(Mt)}function NF(){for(;Mt!==null&&!Y6();)DT(Mt)}function DT(e){var t=BT(e.alternate,e,Xr);e.memoizedProps=e.pendingProps,t===null?LT(e):Mt=t,Mj.current=null}function LT(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=vF(r,t),r!==null){r.flags&=32767,Mt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Yt=6,Mt=null;return}}else if(r=gF(r,t,Xr),r!==null){Mt=r;return}if(t=t.sibling,t!==null){Mt=t;return}Mt=t=e}while(t!==null);Yt===0&&(Yt=5)}function Hi(e,t,r){var n=Ge,a=En.transition;try{En.transition=null,Ge=1,_F(e,t,r,n)}finally{En.transition=a,Ge=n}return null}function _F(e,t,r,n){do zl();while(Qa!==null);if(Le&6)throw Error(Q(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(a8(e,i),e===sr&&(Mt=sr=null,fr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fh||(fh=!0,UT(Nm,function(){return zl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=En.transition,En.transition=null;var o=Ge;Ge=1;var l=Le;Le|=4,Mj.current=null,yF(e,r),TT(r,e),q8(i0),Em=!!a0,i0=a0=null,e.current=r,bF(r),J6(),Le=l,Ge=o,En.transition=i}else e.current=r;if(fh&&(fh=!1,Qa=e,Vm=a),i=e.pendingLanes,i===0&&(oi=null),Z6(r.stateNode),Br(e,Ot()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Um)throw Um=!1,e=E0,E0=null,e;return Vm&1&&e.tag!==0&&zl(),i=e.pendingLanes,i&1?e===P0?rd++:(rd=0,P0=e):rd=0,Si(),null}function zl(){if(Qa!==null){var e=xO(Vm),t=En.transition,r=Ge;try{if(En.transition=null,Ge=16>e?16:e,Qa===null)var n=!1;else{if(e=Qa,Qa=null,Vm=0,Le&6)throw Error(Q(331));var a=Le;for(Le|=4,oe=e.current;oe!==null;){var i=oe,o=i.child;if(oe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(oe=u;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:ed(8,d,i)}var f=d.child;if(f!==null)f.return=d,oe=f;else for(;oe!==null;){d=oe;var h=d.sibling,m=d.return;if(CT(d),d===u){oe=null;break}if(h!==null){h.return=m,oe=h;break}oe=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,oe=o;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ed(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,oe=x;break e}oe=i.return}}var y=e.current;for(oe=y;oe!==null;){o=oe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,oe=w;else e:for(o=y;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:jg(9,l)}}catch(S){Pt(l,l.return,S)}if(l===o){oe=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,oe=N;break e}oe=l.return}}if(Le=a,Si(),Rs&&typeof Rs.onPostCommitFiberRoot=="function")try{Rs.onPostCommitFiberRoot(mg,e)}catch{}n=!0}return n}finally{Ge=r,En.transition=t}}return!1}function E_(e,t,r){t=nc(r,t),t=xT(e,t,1),e=ii(e,t,1),t=Pr(),e!==null&&(Nf(e,1,t),Br(e,t))}function Pt(e,t,r){if(e.tag===3)E_(e,e,r);else for(;t!==null;){if(t.tag===3){E_(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(oi===null||!oi.has(n))){e=nc(r,e),e=yT(t,e,1),t=ii(t,e,1),e=Pr(),t!==null&&(Nf(t,1,e),Br(t,e));break}}t=t.return}}function EF(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Pr(),e.pingedLanes|=e.suspendedLanes&r,sr===e&&(fr&r)===r&&(Yt===4||Yt===3&&(fr&130023424)===fr&&500>Ot()-Lj?vo(e,0):Dj|=r),Br(e,t)}function FT(e,t){t===0&&(e.mode&1?(t=rh,rh<<=1,!(rh&130023424)&&(rh=4194304)):t=1);var r=Pr();e=xa(e,t),e!==null&&(Nf(e,t,r),Br(e,r))}function PF(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),FT(e,r)}function kF(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(t),FT(e,r)}var BT;BT=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lr.current)$r=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $r=!1,pF(e,t,r);$r=!!(e.flags&131072)}else $r=!1,xt&&t.flags&1048576&&WO(t,Rm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;im(e,t),e=t.pendingProps;var a=Zl(t,wr.current);Vl(t,r),a=Oj(null,t,n,e,a,r);var i=Tj();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fr(n)?(i=!0,Om(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ej(t),a.updater=wg,t.stateNode=a,a._reactInternals=t,p0(t,n,e,r),t=x0(null,t,n,!0,i,r)):(t.tag=0,xt&&i&&yj(t),jr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(im(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=AF(n),e=Gn(n,e),a){case 0:t=v0(null,t,n,e,r);break e;case 1:t=g_(null,t,n,e,r);break e;case 11:t=m_(null,t,n,e,r);break e;case 14:t=p_(null,t,n,Gn(n.type,e),r);break e}throw Error(Q(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gn(n,a),v0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gn(n,a),g_(e,t,n,a,r);case 3:e:{if(ST(t),e===null)throw Error(Q(387));n=t.pendingProps,i=t.memoizedState,a=i.element,JO(e,t),Mm(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=nc(Error(Q(423)),t),t=v_(e,t,n,r,a);break e}else if(n!==a){a=nc(Error(Q(424)),t),t=v_(e,t,n,r,a);break e}else for(rn=ai(t.stateNode.containerInfo.firstChild),nn=t,xt=!0,Zn=null,r=GO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ec(),n===a){t=ya(e,t,r);break e}jr(e,t,n,r)}t=t.child}return t;case 5:return XO(t),e===null&&f0(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,o0(n,a)?o=null:i!==null&&o0(n,i)&&(t.flags|=32),jT(e,t),jr(e,t,o,r),t.child;case 6:return e===null&&f0(t),null;case 13:return NT(e,t,r);case 4:return Pj(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=tc(t,null,n,r):jr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gn(n,a),m_(e,t,n,a,r);case 7:return jr(e,t,t.pendingProps,r),t.child;case 8:return jr(e,t,t.pendingProps.children,r),t.child;case 12:return jr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,at(Im,n._currentValue),n._currentValue=o,i!==null)if(os(i.value,o)){if(i.children===a.children&&!Lr.current){t=ya(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=da(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),h0(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),h0(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}jr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Vl(t,r),a=Cn(a),n=n(a),t.flags|=1,jr(e,t,n,r),t.child;case 14:return n=t.type,a=Gn(n,t.pendingProps),a=Gn(n.type,a),p_(e,t,n,a,r);case 15:return bT(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gn(n,a),im(e,t),t.tag=1,Fr(n)?(e=!0,Om(t)):e=!1,Vl(t,r),vT(t,n,a),p0(t,n,a,r),x0(null,t,n,!0,e,r);case 19:return _T(e,t,r);case 22:return wT(e,t,r)}throw Error(Q(156,t.tag))};function UT(e,t){return mO(e,t)}function CF(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,t,r,n){return new CF(e,t,r,n)}function Vj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function AF(e){if(typeof e=="function")return Vj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oj)return 11;if(e===lj)return 14}return 2}function ci(e,t){var r=e.alternate;return r===null?(r=wn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function cm(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")Vj(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case jl:return xo(r.children,a,i,t);case ij:o=8,a|=8;break;case Fy:return e=wn(12,r,t,a|2),e.elementType=Fy,e.lanes=i,e;case By:return e=wn(13,r,t,a),e.elementType=By,e.lanes=i,e;case Uy:return e=wn(19,r,t,a),e.elementType=Uy,e.lanes=i,e;case XA:return Ng(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case YA:o=10;break e;case JA:o=9;break e;case oj:o=11;break e;case lj:o=14;break e;case za:o=16,n=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=wn(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function xo(e,t,r,n){return e=wn(7,e,n,t),e.lanes=r,e}function Ng(e,t,r,n){return e=wn(22,e,n,t),e.elementType=XA,e.lanes=r,e.stateNode={isHidden:!1},e}function kx(e,t,r){return e=wn(6,e,null,t),e.lanes=r,e}function Cx(e,t,r){return t=wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function OF(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cx(0),this.expirationTimes=cx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cx(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zj(e,t,r,n,a,i,o,l,c){return e=new OF(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=wn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ej(i),e}function TF(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function VT(e){if(!e)return pi;e=e._reactInternals;e:{if(Wo(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var r=e.type;if(Fr(r))return VO(e,r,t)}return t}function zT(e,t,r,n,a,i,o,l,c){return e=zj(r,n,!0,e,a,i,o,l,c),e.context=VT(null),r=e.current,n=Pr(),a=li(r),i=da(n,a),i.callback=t??null,ii(r,i,a),e.current.lanes=a,Nf(e,a,n),Br(e,n),e}function _g(e,t,r,n){var a=t.current,i=Pr(),o=li(a);return r=VT(r),t.context===null?t.context=r:t.pendingContext=r,t=da(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ii(a,t,o),e!==null&&(ns(e,a,o,i),nm(e,a,o)),o}function Wm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function P_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Wj(e,t){P_(e,t),(e=e.alternate)&&P_(e,t)}function RF(){return null}var WT=typeof reportError=="function"?reportError:function(e){console.error(e)};function qj(e){this._internalRoot=e}Eg.prototype.render=qj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));_g(e,t,null,null)};Eg.prototype.unmount=qj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Po(function(){_g(null,e,null,null)}),t[va]=null}};function Eg(e){this._internalRoot=e}Eg.prototype.unstable_scheduleHydration=function(e){if(e){var t=wO();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ha.length&&t!==0&&t<Ha[r].priority;r++);Ha.splice(r,0,e),r===0&&SO(e)}};function Hj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function k_(){}function IF(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Wm(o);i.call(u)}}var o=zT(t,n,e,0,null,!1,!1,"",k_);return e._reactRootContainer=o,e[va]=o.current,Sd(e.nodeType===8?e.parentNode:e),Po(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Wm(c);l.call(u)}}var c=zj(e,0,!1,null,null,!1,!1,"",k_);return e._reactRootContainer=c,e[va]=c.current,Sd(e.nodeType===8?e.parentNode:e),Po(function(){_g(t,c,r,n)}),c}function kg(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Wm(o);l.call(c)}}_g(t,o,e,a)}else o=IF(r,t,e,a,n);return Wm(o)}yO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=zu(t.pendingLanes);r!==0&&(dj(t,r|1),Br(t,Ot()),!(Le&6)&&(sc=Ot()+500,Si()))}break;case 13:Po(function(){var n=xa(e,1);if(n!==null){var a=Pr();ns(n,e,1,a)}}),Wj(e,1)}};fj=function(e){if(e.tag===13){var t=xa(e,134217728);if(t!==null){var r=Pr();ns(t,e,134217728,r)}Wj(e,134217728)}};bO=function(e){if(e.tag===13){var t=li(e),r=xa(e,t);if(r!==null){var n=Pr();ns(r,e,t,n)}Wj(e,t)}};wO=function(){return Ge};jO=function(e,t){var r=Ge;try{return Ge=e,t()}finally{Ge=r}};Xy=function(e,t,r){switch(t){case"input":if(Wy(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=xg(n);if(!a)throw Error(Q(90));ZA(n),Wy(n,a)}}}break;case"textarea":tO(e,r);break;case"select":t=r.value,t!=null&&Ll(e,!!r.multiple,t,!1)}};lO=Fj;cO=Po;var $F={usingClientEntryPoint:!1,Events:[Ef,El,xg,iO,oO,Fj]},ju={findFiberByHostInstance:oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MF={bundleType:ju.bundleType,version:ju.version,rendererPackageName:ju.rendererPackageName,rendererConfig:ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fO(e),e===null?null:e.stateNode},findFiberByHostInstance:ju.findFiberByHostInstance||RF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{mg=hh.inject(MF),Rs=hh}catch{}}un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$F;un.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hj(t))throw Error(Q(200));return TF(e,t,null,r)};un.createRoot=function(e,t){if(!Hj(e))throw Error(Q(299));var r=!1,n="",a=WT;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=zj(e,1,!1,null,null,r,!1,n,a),e[va]=t.current,Sd(e.nodeType===8?e.parentNode:e),new qj(t)};un.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=fO(t),e=e===null?null:e.stateNode,e};un.flushSync=function(e){return Po(e)};un.hydrate=function(e,t,r){if(!Pg(t))throw Error(Q(200));return kg(null,e,t,!0,r)};un.hydrateRoot=function(e,t,r){if(!Hj(e))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=WT;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=zT(t,null,e,1,r??null,a,!1,i,o),e[va]=t.current,Sd(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Eg(t)};un.render=function(e,t,r){if(!Pg(t))throw Error(Q(200));return kg(null,e,t,!1,r)};un.unmountComponentAtNode=function(e){if(!Pg(e))throw Error(Q(40));return e._reactRootContainer?(Po(function(){kg(null,null,e,!1,function(){e._reactRootContainer=null,e[va]=null})}),!0):!1};un.unstable_batchedUpdates=Fj;un.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Pg(r))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return kg(e,t,r,!1,n)};un.version="18.3.1-next-f1338f8080-20240426";function qT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qT)}catch(e){console.error(e)}}qT(),qA.exports=un;var zc=qA.exports;const HT=qe(zc);var KT,C_=zc;KT=C_.createRoot,C_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Td(){return Td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Td.apply(this,arguments)}var Za;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Za||(Za={}));const A_="popstate";function DF(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return A0("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:qm(a)}return FF(t,r,null,e)}function Tt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function GT(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function LF(){return Math.random().toString(36).substr(2,8)}function O_(e,t){return{usr:e.state,key:e.key,idx:t}}function A0(e,t,r,n){return r===void 0&&(r=null),Td({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wc(t):t,{state:r,key:t&&t.key||n||LF()})}function qm(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function FF(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Za.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Td({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Za.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:x})}function h(v,x){l=Za.Push;let y=A0(p.location,v,x);u=d()+1;let w=O_(y,u),N=p.createHref(y);try{o.pushState(w,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(N)}i&&c&&c({action:l,location:p.location,delta:1})}function m(v,x){l=Za.Replace;let y=A0(p.location,v,x);u=d();let w=O_(y,u),N=p.createHref(y);o.replaceState(w,"",N),i&&c&&c({action:l,location:p.location,delta:0})}function g(v){let x=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof v=="string"?v:qm(v);return y=y.replace(/ $/,"%20"),Tt(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let p={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(A_,f),c=v,()=>{a.removeEventListener(A_,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(v){return o.go(v)}};return p}var T_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(T_||(T_={}));function BF(e,t,r){return r===void 0&&(r="/"),UF(e,t,r)}function UF(e,t,r,n){let a=typeof t=="string"?Wc(t):t,i=Kj(a.pathname||"/",r);if(i==null)return null;let o=YT(e);VF(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=eB(i);l=XF(o[c],u)}return l}function YT(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Tt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ui([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Tt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),YT(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:YF(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of JT(i.path))a(i,o,c)}),t}function JT(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=JT(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function VF(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:JF(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const zF=/^:[\w-]+$/,WF=3,qF=2,HF=1,KF=10,GF=-2,R_=e=>e==="*";function YF(e,t){let r=e.split("/"),n=r.length;return r.some(R_)&&(n+=GF),t&&(n+=qF),r.filter(a=>!R_(a)).reduce((a,i)=>a+(zF.test(i)?WF:i===""?HF:KF),n)}function JF(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function XF(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=QF({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:ui([i,f.pathname]),pathnameBase:sB(ui([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ui([i,f.pathnameBase]))}return o}function QF(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ZF(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function ZF(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),GT(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function eB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return GT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Kj(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function tB(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Wc(e):e;return{pathname:r?r.startsWith("/")?r:rB(r,t):t,search:aB(n),hash:iB(a)}}function rB(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ax(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nB(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Gj(e,t){let r=nB(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Yj(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Wc(e):(a=Td({},e),Tt(!a.pathname||!a.pathname.includes("?"),Ax("?","pathname","search",a)),Tt(!a.pathname||!a.pathname.includes("#"),Ax("#","pathname","hash",a)),Tt(!a.search||!a.search.includes("#"),Ax("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=tB(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ui=e=>e.join("/").replace(/\/\/+/g,"/"),sB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const XT=["post","put","patch","delete"];new Set(XT);const lB=["get",...XT];new Set(lB);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rd(){return Rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rd.apply(this,arguments)}const Jj=b.createContext(null),cB=b.createContext(null),Ni=b.createContext(null),Cg=b.createContext(null),_i=b.createContext({outlet:null,matches:[],isDataRoute:!1}),QT=b.createContext(null);function uB(e,t){let{relative:r}=t===void 0?{}:t;qc()||Tt(!1);let{basename:n,navigator:a}=b.useContext(Ni),{hash:i,pathname:o,search:l}=e4(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ui([n,o])),a.createHref({pathname:c,search:l,hash:i})}function qc(){return b.useContext(Cg)!=null}function Ft(){return qc()||Tt(!1),b.useContext(Cg).location}function ZT(e){b.useContext(Ni).static||b.useLayoutEffect(e)}function $e(){let{isDataRoute:e}=b.useContext(_i);return e?SB():dB()}function dB(){qc()||Tt(!1);let e=b.useContext(Jj),{basename:t,future:r,navigator:n}=b.useContext(Ni),{matches:a}=b.useContext(_i),{pathname:i}=Ft(),o=JSON.stringify(Gj(a,r.v7_relativeSplatPath)),l=b.useRef(!1);return ZT(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Yj(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ui([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function e4(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(Ni),{matches:a}=b.useContext(_i),{pathname:i}=Ft(),o=JSON.stringify(Gj(a,n.v7_relativeSplatPath));return b.useMemo(()=>Yj(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function fB(e,t){return hB(e,t)}function hB(e,t,r,n){qc()||Tt(!1);let{navigator:a}=b.useContext(Ni),{matches:i}=b.useContext(_i),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ft(),d;if(t){var f;let v=typeof t=="string"?Wc(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Tt(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=BF(e,{pathname:m}),p=xB(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:ui([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:ui([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&p?b.createElement(Cg.Provider,{value:{location:Rd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Za.Pop}},p):p}function mB(){let e=jB(),t=oB(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:a},r):null,null)}const pB=b.createElement(mB,null);class gB extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(_i.Provider,{value:this.props.routeContext},b.createElement(QT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vB(e){let{routeContext:t,match:r,children:n}=e,a=b.useContext(Jj);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(_i.Provider,{value:t},n)}function xB(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Tt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||pB,c&&(u<0&&h===0?(NB("route-fallback"),g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),y=()=>{let w;return m?w=p:g?w=v:f.route.Component?w=b.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,b.createElement(vB,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(gB,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var t4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(t4||{}),r4=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(r4||{});function yB(e){let t=b.useContext(Jj);return t||Tt(!1),t}function bB(e){let t=b.useContext(cB);return t||Tt(!1),t}function wB(e){let t=b.useContext(_i);return t||Tt(!1),t}function n4(e){let t=wB(),r=t.matches[t.matches.length-1];return r.route.id||Tt(!1),r.route.id}function jB(){var e;let t=b.useContext(QT),r=bB(),n=n4();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function SB(){let{router:e}=yB(t4.UseNavigateStable),t=n4(r4.UseNavigateStable),r=b.useRef(!1);return ZT(()=>{r.current=!0}),b.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Rd({fromRouteId:t},i)))},[e,t])}const I_={};function NB(e,t,r){I_[e]||(I_[e]=!0)}function _B(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Zs(e){let{to:t,replace:r,state:n,relative:a}=e;qc()||Tt(!1);let{future:i,static:o}=b.useContext(Ni),{matches:l}=b.useContext(_i),{pathname:c}=Ft(),u=$e(),d=Yj(t,Gj(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function ae(e){Tt(!1)}function EB(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Za.Pop,navigator:i,static:o=!1,future:l}=e;qc()&&Tt(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:Rd({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Wc(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=b.useMemo(()=>{let v=Kj(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:g},navigationType:a}},[c,d,f,h,m,g,a]);return p==null?null:b.createElement(Ni.Provider,{value:u},b.createElement(Cg.Provider,{children:r,value:p}))}function Xj(e){let{children:t,location:r}=e;return fB(O0(t),r)}new Promise(()=>{});function O0(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,a)=>{if(!b.isValidElement(n))return;let i=[...t,a];if(n.type===b.Fragment){r.push.apply(r,O0(n.props.children,i));return}n.type!==ae&&Tt(!1),!n.props.index||!n.props.children||Tt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=O0(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(this,arguments)}function PB(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function kB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function CB(e,t){return e.button===0&&(!t||t==="_self")&&!kB(e)}function R0(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function AB(e,t){let r=R0(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const OB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TB="6";try{window.__reactRouterVersion=TB}catch{}const RB="startTransition",$_=rj[RB];function IB(e){let{basename:t,children:r,future:n,window:a}=e,i=b.useRef();i.current==null&&(i.current=DF({window:a,v5Compat:!0}));let o=i.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(f=>{u&&$_?$_(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>_B(n),[n]),b.createElement(EB,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const $B=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jn=b.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=PB(t,OB),{basename:m}=b.useContext(Ni),g,p=!1;if(typeof u=="string"&&MB.test(u)&&(g=u,$B))try{let w=new URL(window.location.href),N=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=Kj(N.pathname,m);N.origin===w.origin&&S!=null?u=S+N.search+N.hash:p=!0}catch{}let v=uB(u,{relative:a}),x=DB(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||x(w)}return b.createElement("a",T0({},h,{href:g||v,onClick:p||i?n:y,ref:r,target:c}))});var M_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(M_||(M_={}));var D_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(D_||(D_={}));function DB(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=$e(),u=Ft(),d=e4(e,{relative:o});return b.useCallback(f=>{if(CB(f,r)){f.preventDefault();let h=n!==void 0?n:qm(u)===qm(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function Ag(e){let t=b.useRef(R0(e)),r=b.useRef(!1),n=Ft(),a=b.useMemo(()=>AB(n.search,r.current?null:t.current),[n.search]),i=$e(),o=b.useCallback((l,c)=>{const u=R0(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}const LB=()=>{const{pathname:e}=Ft();return b.useEffect(()=>{window.scrollTo(0,0)},[e]),null};function L_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function s4(...e){return t=>{let r=!1;const n=e.map(a=>{const i=L_(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():L_(e[a],null)}}}}function De(...e){return b.useCallback(s4(...e),e)}function ko(e){const t=BB(e),r=b.forwardRef((n,a)=>{const{children:i,...o}=n,l=b.Children.toArray(i),c=l.find(VB);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var FB=ko("Slot");function BB(e){const t=b.forwardRef((r,n)=>{const{children:a,...i}=r;if(b.isValidElement(a)){const o=WB(a),l=zB(i,a.props);return a.type!==b.Fragment&&(l.ref=n?s4(n,o):o),b.cloneElement(a,l)}return b.Children.count(a)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var UB=Symbol("radix.slottable");function VB(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===UB}function zB(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function WB(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function a4(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=a4(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ae(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=a4(e))&&(n&&(n+=" "),n+=t);return n}const F_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,B_=Ae,Og=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return B_(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=F_(d)||F_(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...i,...l}[p]):{...i,...l}[p]===v})?[...u,f,h]:u},[]);return B_(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},Qj="-",qB=e=>{const t=KB(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Qj);return l[0]===""&&l.length!==1&&l.shift(),i4(l,t)||HB(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},i4=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?i4(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Qj);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},U_=/^\[(.+)\]$/,HB=e=>{if(U_.test(e)){const t=U_.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},KB=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return YB(Object.entries(e.classGroups),r).forEach(([i,o])=>{I0(o,n,i,t)}),n},I0=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:V_(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(GB(a)){I0(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{I0(o,V_(t,i),r,n)})})},V_=(e,t)=>{let r=e;return t.split(Qj).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},GB=e=>e.isThemeGetter,YB=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,JB=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},o4="!",XB=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let x=l[v];if(u===0){if(x===a&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(o4),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},QB=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ZB=e=>({cache:JB(e.cacheSize),parseClassName:XB(e),...qB(e)}),eU=/\s+/,tU=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(eU);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=QB(d).join(":"),x=f?v+o4:v,y=x+p;if(i.includes(y))continue;i.push(y);const w=a(p,g);for(let N=0;N<w.length;++N){const S=w[N];i.push(x+S)}l=u+(l.length>0?" "+l:l)}return l};function rU(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=l4(t))&&(n&&(n+=" "),n+=r);return n}const l4=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=l4(e[n]))&&(r&&(r+=" "),r+=t);return r};function nU(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=ZB(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=tU(c,r);return a(c,d),d}return function(){return i(rU.apply(null,arguments))}}const dt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},c4=/^\[(?:([a-z-]+):)?(.+)\]$/i,sU=/^\d+\/\d+$/,aU=new Set(["px","full","screen"]),iU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Js=e=>Wl(e)||aU.has(e)||sU.test(e),Ma=e=>Hc(e,"length",xU),Wl=e=>!!e&&!Number.isNaN(Number(e)),Ox=e=>Hc(e,"number",Wl),Su=e=>!!e&&Number.isInteger(Number(e)),dU=e=>e.endsWith("%")&&Wl(e.slice(0,-1)),Te=e=>c4.test(e),Da=e=>iU.test(e),fU=new Set(["length","size","percentage"]),hU=e=>Hc(e,fU,u4),mU=e=>Hc(e,"position",u4),pU=new Set(["image","url"]),gU=e=>Hc(e,pU,bU),vU=e=>Hc(e,"",yU),Nu=()=>!0,Hc=(e,t,r)=>{const n=c4.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},xU=e=>oU.test(e)&&!lU.test(e),u4=()=>!1,yU=e=>cU.test(e),bU=e=>uU.test(e),wU=()=>{const e=dt("colors"),t=dt("spacing"),r=dt("blur"),n=dt("brightness"),a=dt("borderColor"),i=dt("borderRadius"),o=dt("borderSpacing"),l=dt("borderWidth"),c=dt("contrast"),u=dt("grayscale"),d=dt("hueRotate"),f=dt("invert"),h=dt("gap"),m=dt("gradientColorStops"),g=dt("gradientColorStopPositions"),p=dt("inset"),v=dt("margin"),x=dt("opacity"),y=dt("padding"),w=dt("saturate"),N=dt("scale"),S=dt("sepia"),j=dt("skew"),_=dt("space"),E=dt("translate"),P=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",Te,t],O=()=>[Te,t],F=()=>["",Js,Ma],V=()=>["auto",Wl,Te],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Te],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Wl,Te];return{cacheSize:500,separator:":",theme:{colors:[Nu],spacing:[Js,Ma],blur:["none","",Da,Te],brightness:Y(),borderColor:[e],borderRadius:["none","","full",Da,Te],borderSpacing:O(),borderWidth:F(),contrast:Y(),grayscale:M(),hueRotate:Y(),invert:M(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[dU,Ma],inset:T(),margin:T(),opacity:Y(),padding:O(),saturate:Y(),scale:Y(),sepia:M(),skew:Y(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Te]}],container:["container"],columns:[{columns:[Da]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Te]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Su,Te]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Te]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Su,Te]}],"grid-cols":[{"grid-cols":[Nu]}],"col-start-end":[{col:["auto",{span:["full",Su,Te]},Te]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Nu]}],"row-start-end":[{row:["auto",{span:[Su,Te]},Te]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Te]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Te,t]}],"min-w":[{"min-w":[Te,t,"min","max","fit"]}],"max-w":[{"max-w":[Te,t,"none","full","min","max","fit","prose",{screen:[Da]},Da]}],h:[{h:[Te,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Te,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Te,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Te,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Da,Ma]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ox]}],"font-family":[{font:[Nu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Te]}],"line-clamp":[{"line-clamp":["none",Wl,Ox]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Js,Te]}],"list-image":[{"list-image":["none",Te]}],"list-style-type":[{list:["none","disc","decimal",Te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Js,Ma]}],"underline-offset":[{"underline-offset":["auto",Js,Te]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),mU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gU]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:U()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Js,Te]}],"outline-w":[{outline:[Js,Ma]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Js,Ma]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Da,vU]}],"shadow-color":[{shadow:[Nu]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Da,Te]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Te]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",Te]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",Te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Su,Te]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Te]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Js,Ma,Ox]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jU=nU(wU);function fe(...e){return jU(Ae(e))}const $0=Og("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:scale-[1.02] active:scale-[0.98] touch-manipulation",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 sm:h-10 px-4 sm:px-6 py-2 text-base sm:text-sm",sm:"h-10 sm:h-9 px-3 sm:px-4 text-sm",lg:"h-12 px-6 sm:px-8 text-base",icon:"h-11 w-11 sm:h-10 sm:w-10"}},defaultVariants:{variant:"default",size:"default"}}),L=b.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?FB:"button";return s.jsx(o,{className:fe($0({variant:t,size:r,className:e})),ref:i,...a})});L.displayName="Button";const I=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:fe("rounded-3xl border border-border/40 bg-card shadow-sm transition-all duration-200 hover:shadow-lg",e),...t}));I.displayName="Card";const z=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:fe("flex flex-col space-y-1.5 p-6",e),...t}));z.displayName="CardHeader";const W=b.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:fe("text-2xl font-semibold leading-none tracking-tight text-foreground",e),...t}));W.displayName="CardTitle";const Be=b.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));Be.displayName="CardDescription";const D=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:fe("p-6 pt-0",e),...t}));D.displayName="CardContent";const SU=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:fe("flex items-center p-6 pt-0",e),...t}));SU.displayName="CardFooter";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d4=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _U={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,..._U,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:d4("lucide",a),...l},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const r=b.forwardRef(({className:n,...a},i)=>b.createElement(EU,{ref:i,iconNode:t,className:d4(`lucide-${NU(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=re("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=re("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=re("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=re("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=re("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=re("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=re("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=re("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=re("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=re("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=re("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=re("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=re("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=re("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=re("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=re("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=re("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=re("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=re("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=re("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=re("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=re("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=re("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=re("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=re("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=re("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=re("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=re("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=re("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=re("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=re("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=re("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=re("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=re("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=re("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);class qU extends b.Component{constructor(r){super(r);Fe(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){var a,i;console.error("ErrorBoundary caught an error:",r,n),(i=(a=this.props).onError)==null||i.call(a,r,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs(I,{className:"w-full max-w-md",children:[s.jsxs(z,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(ct,{className:"w-6 h-6 text-red-600"})}),s.jsx(W,{children:"Something went wrong"}),s.jsx(Be,{children:"We encountered an unexpected error. Please try refreshing the page."})]}),s.jsxs(D,{className:"space-y-4",children:[!1,s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(L,{onClick:this.handleRetry,className:"flex-1",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Try Again"]}),s.jsx(L,{variant:"outline",onClick:()=>window.location.reload(),className:"flex-1",children:"Reload Page"})]})]})]})}):this.props.children}}const HU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Vo(async()=>{const{default:n}=await Promise.resolve().then(()=>Gc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class s1 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class H_ extends s1{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class K_ extends s1{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class G_ extends s1{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var L0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(L0||(L0={}));var KU=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class GU{constructor(t,{headers:r={},customFetch:n,region:a=L0.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=HU(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return KU(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)));const m=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:c}).catch(x=>{throw x.name==="AbortError"?x:new H_(x)}),g=m.headers.get("x-relay-error");if(g&&g==="true")throw new K_(m);if(!m.ok)throw new G_(m);let p=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield m.json():p==="application/octet-stream"?v=yield m.blob():p==="text/event-stream"?v=m:p==="multipart/form-data"?v=yield m.formData():v=yield m.text(),{data:v,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new H_(i)}:{data:null,error:i,response:i instanceof G_||i instanceof K_?i.context:void 0}}})}}var Ir={},a1={},Ig={},Cf={},$g={},Mg={},YU=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ic=YU();const JU=ic.fetch,_4=ic.fetch.bind(ic),E4=ic.Headers,XU=ic.Request,QU=ic.Response,Gc=Object.freeze(Object.defineProperty({__proto__:null,Headers:E4,Request:XU,Response:QU,default:_4,fetch:JU},Symbol.toStringTag,{value:"Module"})),ZU=d6(Gc);var Dg={};Object.defineProperty(Dg,"__esModule",{value:!0});let e9=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Dg.default=e9;var P4=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mg,"__esModule",{value:!0});const t9=P4(ZU),r9=P4(Dg);let n9=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=t9.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,f=null,h=null,m=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=y:f=JSON.parse(y))}const v=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(f=[],d=null,m=200,g="OK")}catch{i.status===404&&v===""?(m=204,g="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,g="OK"),d&&this.shouldThrowOnError)throw new r9.default(d)}return{error:d,data:f,count:h,status:m,statusText:g}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Mg.default=n9;var s9=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($g,"__esModule",{value:!0});const a9=s9(Mg);let i9=class extends a9.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};$g.default=i9;var o9=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cf,"__esModule",{value:!0});const l9=o9($g);let c9=class extends l9.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Cf.default=c9;var u9=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ig,"__esModule",{value:!0});const _u=u9(Cf);let d9=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,r){const{head:n=!1,count:a}=r??{},i=n?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),a&&this.headers.append("Prefer",`count=${a}`),new _u.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new _u.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new _u.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new _u.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new _u.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Ig.default=d9;var k4=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(a1,"__esModule",{value:!0});const f9=k4(Ig),h9=k4(Cf);let m9=class C4{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new f9.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new C4(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new h9.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};a1.default=m9;var Yc=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.PostgrestError=Ir.PostgrestBuilder=Ir.PostgrestTransformBuilder=Ir.PostgrestFilterBuilder=Ir.PostgrestQueryBuilder=Ir.PostgrestClient=void 0;const A4=Yc(a1);Ir.PostgrestClient=A4.default;const O4=Yc(Ig);Ir.PostgrestQueryBuilder=O4.default;const T4=Yc(Cf);Ir.PostgrestFilterBuilder=T4.default;const R4=Yc($g);Ir.PostgrestTransformBuilder=R4.default;const I4=Yc(Mg);Ir.PostgrestBuilder=I4.default;const $4=Yc(Dg);Ir.PostgrestError=$4.default;var p9=Ir.default={PostgrestClient:A4.default,PostgrestQueryBuilder:O4.default,PostgrestFilterBuilder:T4.default,PostgrestTransformBuilder:R4.default,PostgrestBuilder:I4.default,PostgrestError:$4.default};const{PostgrestClient:g9,PostgrestQueryBuilder:v2e,PostgrestFilterBuilder:x2e,PostgrestTransformBuilder:y2e,PostgrestBuilder:b2e,PostgrestError:w2e}=p9;class v9{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const x9="2.75.0",y9=`realtime-js/${x9}`,b9="1.0.0",F0=1e4,w9=1e3,j9=100;var sd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(sd||(sd={}));var Wt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Wt||(Wt={}));var Jn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Jn||(Jn={}));var B0;(function(e){e.websocket="websocket"})(B0||(B0={}));var Qi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Qi||(Qi={}));class S9{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class M4{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(rt||(rt={}));const Y_=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=N9(o,e,t,a),i),{}):{}},N9=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?D4(i,o):U0(o)},D4=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return k9(t,r)}switch(e){case rt.bool:return _9(t);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return E9(t);case rt.json:case rt.jsonb:return P9(t);case rt.timestamp:return C9(t);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return U0(t);default:return U0(t)}},U0=e=>e,_9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},E9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},P9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},k9=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>D4(t,l))}return e},C9=e=>typeof e=="string"?e.replace(" ","T"):e,L4=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Rx{constructor(t,r,n={},a=F0){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var J_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(J_||(J_={}));class ad{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ad.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=ad.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ad.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),g=d.filter(v=>m.indexOf(v.presence_ref)<0),p=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var X_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(X_||(X_={}));var id;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(id||(id={}));var ta;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ta||(ta={}));class i1{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Rx(this,Jn.join,this.params,this.timeout),this.rejoinTimer=new M4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jn.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new ad(this),this.broadcastEndpointURL=L4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Wt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[id.PRESENCE]&&this.bindings[id.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(ta.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(ta.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){t==null||t(ta.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,x=[];for(let y=0;y<v;y++){const w=p[y],{filter:{event:N,schema:S,table:j,filter:_}}=w,E=m&&m[y];if(E&&E.event===N&&E.schema===S&&E.table===j&&E.filter===_)x.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=Wt.errored,t==null||t(ta.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(ta.SUBSCRIBED);return}}).receive("error",m=>{this.state=Wt.errored,t==null||t(ta.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ta.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Wt.joined&&t===id.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Wt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Rx(this,Jn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Wt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Rx(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>j9){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Jn;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,p,v;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(p=m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,p,v,x,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const N=m.id,S=(g=m.filter)===null||g===void 0?void 0:g.event;return N&&((p=r.ids)===null||p===void 0?void 0:p.includes(N))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const N=(y=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return N==="*"||N===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:v,commit_timestamp:x,type:y,errors:w}=g;h=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:x,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===Wt.closed}_isJoined(){return this.state===Wt.joined}_isJoining(){return this.state===Wt.joining}_isLeaving(){return this.state===Wt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&i1.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Jn.close,{},t)}_onError(t){this._on(Jn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Y_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Y_(t.columns,t.old_record)),r}}const Ix=()=>{},mh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},A9=[1e3,2e3,5e3,1e4],O9=1e4,T9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class R9{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=F0,this.transport=null,this.heartbeatIntervalMs=mh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ix,this.ref=0,this.reconnectTimer=null,this.logger=Ix,this.conn=null,this.sendBuffer=[],this.serializer=new S9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Vo(async()=>{const{default:l}=await Promise.resolve().then(()=>Gc);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${B0.websocket}`,this.httpEndpoint=L4(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=v9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:b9}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case sd.connecting:return Qi.Connecting;case sd.open:return Qi.Open;case sd.closing:return Qi.Closing;default:return Qi.Closed}}isConnected(){return this.connectionState()===Qi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new i1(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(w9,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},mh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Jn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([T9],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:y9};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Jn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new M4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:F0,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:mh.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Ix,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>A9[f-1]||O9,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class o1 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $t(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class I9 extends o1{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class V0 extends o1{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var $9=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const F4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Vo(async()=>{const{default:n}=await Promise.resolve().then(()=>Gc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},M9=()=>$9(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vo(()=>Promise.resolve().then(()=>Gc),void 0)).Response:Response}),z0=e=>{if(Array.isArray(e))return e.map(r=>z0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=z0(n)}),t},D9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ho=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const $x=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),L9=(e,t,r)=>Ho(void 0,void 0,void 0,function*(){const n=yield M9();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new I9($x(a),i,o))}).catch(a=>{t(new V0($x(a),a))}):t(new V0($x(e),e))}),F9=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(D9(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Af(e,t,r,n,a,i){return Ho(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,F9(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>L9(c,l,n))})})}function Gm(e,t,r,n){return Ho(this,void 0,void 0,function*(){return Af(e,"GET",t,r,n)})}function Ss(e,t,r,n,a){return Ho(this,void 0,void 0,function*(){return Af(e,"POST",t,n,a,r)})}function W0(e,t,r,n,a){return Ho(this,void 0,void 0,function*(){return Af(e,"PUT",t,n,a,r)})}function B9(e,t,r,n){return Ho(this,void 0,void 0,function*(){return Af(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function B4(e,t,r,n,a){return Ho(this,void 0,void 0,function*(){return Af(e,"DELETE",t,n,a,r)})}var U9=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class V9{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return U9(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}}var z9=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class W9{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new V9(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return z9(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}}var Or=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const q9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Q_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class H9{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=F4(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Or(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Q_),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?W0:Ss)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Or(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Or(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Q_.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield W0(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if($t(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Or(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Ss(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new o1("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}update(t,r,n){return Or(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Or(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($t(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Or(this,void 0,void 0,function*(){try{return{data:{path:(yield Ss(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($t(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Or(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Ss(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($t(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Or(this,void 0,void 0,function*(){try{const a=yield Ss(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($t(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>Gm(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new W9(c,this.shouldThrowOnError)}info(t){return Or(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Gm(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:z0(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}exists(t){return Or(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield B9(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n)&&n instanceof V0){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Or(this,void 0,void 0,function*(){try{return{data:yield B4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}list(t,r,n){return Or(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},q9),r),{prefix:t||""});return{data:yield Ss(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($t(a))return{data:null,error:a};throw a}})}listV2(t,r){return Or(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ss(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const K9="2.75.0",G9={"X-Client-Info":`storage-js/${K9}`};var nl=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Y9{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},G9),r),this.fetch=F4(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return nl(this,void 0,void 0,function*(){try{return{data:yield Gm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}getBucket(t){return nl(this,void 0,void 0,function*(){try{return{data:yield Gm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}createBucket(t){return nl(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ss(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($t(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return nl(this,void 0,void 0,function*(){try{return{data:yield W0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}emptyBucket(t){return nl(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}deleteBucket(t){return nl(this,void 0,void 0,function*(){try{return{data:yield B4(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}}class J9 extends Y9{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new H9(this.url,this.headers,t,this.fetch)}}const X9="2.75.0";let qu="";typeof Deno<"u"?qu="deno":typeof document<"u"?qu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qu="react-native":qu="node";const Q9={"X-Client-Info":`supabase-js-${qu}/${X9}`},Z9={headers:Q9},eV={schema:"public"},tV={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rV={};var nV=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const sV=e=>{let t;return e?t=e:typeof fetch>"u"?t=_4:t=fetch,(...r)=>t(...r)},aV=()=>typeof Headers>"u"?E4:Headers,iV=(e,t,r)=>{const n=sV(r),a=aV();return(i,o)=>nV(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var oV=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function lV(e){return e.endsWith("/")?e:e+"/"}function cV(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>oV(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function uV(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lV(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const U4="2.75.0",yl=30*1e3,q0=3,Mx=q0*yl,dV="http://localhost:9999",fV="supabase.auth.token",hV={"X-Client-Info":`gotrue-js/${U4}`},H0="X-Supabase-Api-Version",V4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mV=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pV=10*60*1e3;class $d extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class gV extends $d{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function vV(e){return ge(e)&&e.name==="AuthApiError"}class Zi extends $d{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Pi extends $d{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Ua extends Pi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xV(e){return ge(e)&&e.name==="AuthSessionMissingError"}class sl extends Pi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ph extends Pi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class gh extends Pi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yV(e){return ge(e)&&e.name==="AuthImplicitGrantRedirectError"}class Z_ extends Pi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class K0 extends Pi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Dx(e){return ge(e)&&e.name==="AuthRetryableFetchError"}class eE extends Pi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class G0 extends Pi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ym="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tE=` 	
\r=`.split(""),bV=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<tE.length;t+=1)e[tE[t].charCodeAt(0)]=-2;for(let t=0;t<Ym.length;t+=1)e[Ym[t].charCodeAt(0)]=t;return e})();function rE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ym[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ym[n]),t.queuedBits-=6}}function z4(e,t,r){const n=bV[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function nE(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{SV(o,n,r)};for(let o=0;o<e.length;o+=1)z4(e.charCodeAt(o),a,i);return t.join("")}function wV(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jV(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}wV(n,t)}}function SV(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ql(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)z4(e.charCodeAt(a),r,n);return new Uint8Array(t)}function NV(e){const t=[];return jV(e,r=>t.push(r)),new Uint8Array(t)}function uo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>rE(a,r,n)),rE(null,r,n),t.join("")}function _V(e){return Math.round(Date.now()/1e3)+e}function EV(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Yr=()=>typeof window<"u"&&typeof document<"u",Bi={tested:!1,writable:!1},W4=()=>{if(!Yr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bi.tested)return Bi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Bi.tested=!0,Bi.writable=!0}catch{Bi.tested=!0,Bi.writable=!1}return Bi.writable};function PV(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const q4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Vo(async()=>{const{default:n}=await Promise.resolve().then(()=>Gc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},kV=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",bl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ui=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},La=async(e,t)=>{await e.removeItem(t)};class Lg{constructor(){this.promise=new Lg.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Lg.promiseConstructor=Promise;function Lx(e){const t=e.split(".");if(t.length!==3)throw new G0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!mV.test(t[n]))throw new G0("JWT not in base64url format");return{header:JSON.parse(nE(t[0])),payload:JSON.parse(nE(t[1])),signature:ql(t[2]),raw:{header:t[0],payload:t[1]}}}async function CV(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function AV(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function OV(e){return("0"+e.toString(16)).substr(-2)}function TV(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,OV).join("")}async function RV(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function IV(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await RV(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function al(e,t,r=!1){const n=TV();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await bl(e,`${t}-code-verifier`,a);const i=await IV(n);return[i,n===i?"plain":"s256"]}const $V=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function MV(e){const t=e.headers.get(H0);if(!t||!t.match($V))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function DV(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function LV(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const FV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function il(e){if(!FV.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fx(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sE(e){return JSON.parse(JSON.stringify(e))}var BV=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Ki=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UV=[502,503,504];async function aE(e){var t;if(!kV(e))throw new K0(Ki(e),0);if(UV.includes(e.status))throw new K0(Ki(e),e.status);let r;try{r=await e.json()}catch(i){throw new Zi(Ki(i),i)}let n;const a=MV(e);if(a&&a.getTime()>=V4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new eE(Ki(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ua}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new eE(Ki(r),e.status,r.weak_password.reasons);throw new gV(Ki(r),e.status||500,n)}const VV=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Pe(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[H0]||(i[H0]=V4["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await zV(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function zV(e,t,r,n,a,i){const o=VV(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new K0(Ki(c),0)}if(l.ok||await aE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await aE(c)}}function Hn(e){var t;let r=null;HV(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=_V(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function iE(e){const t=Hn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ga(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function WV(e){return{data:e,error:null}}function qV(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=BV(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function oE(e){return e}function HV(e){return e.access_token&&e.refresh_token&&e.expires_in}const Bx=["global","local","others"];var KV=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class GV{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=q4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Bx[0]){if(Bx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bx.join(", ")}`);try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ga})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=KV(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:qV,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ge(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ga})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:oE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ge(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){il(t);try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ga})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){il(t);try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ga})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){il(t);try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ga})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){il(t.userId);try{const{data:r,error:n}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _deleteFactor(t){il(t.userId),il(t.id);try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:oE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ge(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}}function lE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ol={debug:!!(globalThis&&W4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class H4 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class YV extends H4{}async function JV(e,t,r){ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ol.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new YV(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ol.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function XV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function K4(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function QV(e){return parseInt(e,16)}function ZV(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function ez(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=K4(e.address),g=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}x+=y}return`${v}
${x}`}class It extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Jm extends It{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function tz({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new It({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new It({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new It({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new It({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new It({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new It({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new It({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new It({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Y4(o)){if(i.rp.id!==o)return new It({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new It({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new It({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new It({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new It({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function rz({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new It({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new It({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Y4(n)){if(r.rpId!==n)return new It({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new It({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new It({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new It({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var G4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class nz{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const sz=new nz;function az(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=G4(e,["challenge","user","excludeCredentials"]),i=ql(t).buffer,o=Object.assign(Object.assign({},r),{id:ql(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:ql(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function iz(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=G4(e,["challenge","allowCredentials"]),a=ql(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:ql(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function oz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:uo(new Uint8Array(e.response.attestationObject)),clientDataJSON:uo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function lz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:uo(new Uint8Array(a.authenticatorData)),clientDataJSON:uo(new Uint8Array(a.clientDataJSON)),signature:uo(new Uint8Array(a.signature)),userHandle:a.userHandle?uo(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Y4(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function cE(){var e,t;return!!(Yr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function cz(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Jm("Browser returned unexpected credential type",t)}:{data:null,error:new Jm("Empty credential response",t)}}catch(t){return{data:null,error:tz({error:t,options:e})}}}async function uz(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Jm("Browser returned unexpected credential type",t)}:{data:null,error:new Jm("Empty credential response",t)}}catch(t){return{data:null,error:rz({error:t,options:e})}}}const dz={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},fz={userVerification:"preferred",hints:["security-key"]};function Xm(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Xm(l,o):n[i]=Xm(o)}else n[i]=o}return n}function hz(e,t){return Xm(dz,e,t||{})}function mz(e,t){return Xm(fz,e,t||{})}class pz{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??sz.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=hz(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await cz({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=mz(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await uz(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return ge(o)?{data:null,error:o}:{data:null,error:new Zi("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new $d("rpId is required for WebAuthn authentication")};try{if(!cE())return{data:null,error:new Zi("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return ge(o)?{data:null,error:o}:{data:null,error:new Zi("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new $d("rpId is required for WebAuthn registration")};try{if(!cE())return{data:null,error:new Zi("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ge(o)?{data:null,error:o}:{data:null,error:new Zi("Unexpected error in register",o)}}}}XV();const gz={url:dV,storageKey:fV,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hV,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function uE(e,t,r){return await r()}const ll={};class Md{get jwks(){var t,r;return(r=(t=ll[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ll[this.storageKey]=Object.assign(Object.assign({},ll[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ll[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ll[this.storageKey]=Object.assign(Object.assign({},ll[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Md.nextInstanceID,Md.nextInstanceID+=1,this.instanceID>0&&Yr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},gz),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new GV({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=q4(a.fetch),this.lock=a.lock||uE,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Yr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=JV:this.lock=uE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new pz(this)},this.persistSession?(a.storage?this.storage=a.storage:W4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lE(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=lE(this.memoryStorage)),Yr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${U4}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=PV(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Yr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),yV(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ge(r)?{error:r}:{error:new Zi("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Hn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ge(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await al(this.storage,this.storageKey)),i=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Hn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Hn})}else throw new ph("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ge(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:iE})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:iE})}else throw new ph("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new sl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ge(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:v,statement:x,options:y}=t;let w;if(Yr())if(typeof v=="object")w=v;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")w=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const N=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=K4(S[0]);let _=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const P=await w.request({method:"eth_chainId"});_=QV(P)}const E={domain:N.host,address:j,statement:x,uri:N.href,version:"1",chainId:_,nonce:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=ez(E),g=await w.request({method:"personal_sign",params:[ZV(m),j]})}try{const{data:p,error:v}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Hn});if(v)throw v;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new sl}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:v})}catch(p){if(ge(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:v,wallet:x,statement:y,options:w}=t;let N;if(Yr())if(typeof x=="object")N=x;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))N=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=x}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const j=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let _;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")_=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)_=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)g=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),p=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const j=await N.signMessage(new TextEncoder().encode(g),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=j}}try{const{data:v,error:x}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:uo(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Hn});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new sl}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(ge(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await Ui(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Hn});if(await La(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new sl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(ge(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Hn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new sl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ge(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await al(this.storage,this.storageKey));const{error:f}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ph("You must provide either an email or phone number.")}catch(l){if(ge(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Hn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ge(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await al(this.storage,this.storageKey)),await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:WV})}catch(i){if(ge(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ua;const{error:a}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ge(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Pe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ph("You must provide either an email or phone number and a type")}catch(r){if(ge(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ui(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Mx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ui(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Fx()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ga}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ua}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ga})})}catch(r){if(ge(r))return xV(r)&&(await this._removeSession(),await La(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ua;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await al(this.storage,this.storageKey));const{data:u,error:d}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ga});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ua;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Lx(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ge(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ua;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ge(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Yr())throw new gh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Z_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Z_("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new gh("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=yl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(ge(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ui(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(vV(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await La(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=EV(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await al(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ge(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Yr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ge(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Hn}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new sl}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(ge(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await AV(async a=>(a>0&&await CV(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Hn})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Dx(i)&&Date.now()+o-n<yl})}catch(n){if(this._debug(r,"error",n),ge(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Yr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ui(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ui(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await bl(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Fx()}else if(a&&!a.user&&!a.user){const o=await Ui(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await La(this.storage,this.storageKey+"-user"),await bl(this.storage,this.storageKey,a)):a.user=Fx()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Mx;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Mx}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Dx(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ua;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Lg;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ua;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),ge(i)){const o={data:null,error:i};return Dx(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await bl(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=sE(a);await bl(this.storage,this.storageKey,i)}else{const a=sE(r);await bl(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await La(this.storage,this.storageKey),await La(this.storage,this.storageKey+"-code-verifier"),await La(this.storage,this.storageKey+"-user"),this.userStorage&&await La(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Yr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/yl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${yl}ms, refresh threshold is ${q0} ticks`),a<=q0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof H4)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await al(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?oz(t.webauthn.credential_response):lz(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(ge(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:az(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:iz(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ge(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Lx(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+pV>a)return n;const{data:i,error:o}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Lx(n);r!=null&&r.allowExpired||DV(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=LV(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,NV(`${l}.${c}`)))throw new G0("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}}Md.nextInstanceID=0;const vz=Md;class xz extends vz{constructor(t){super(t)}}var yz=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class bz{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=uV(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:eV,realtime:rV,auth:Object.assign(Object.assign({},tV),{storageKey:c}),global:Z9},d=cV(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=iV(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new g9(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new J9(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new GU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return yz(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xz({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new R9(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wz=(e,t,r)=>new bz(e,t,r);function jz(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}jz()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const J4="https://mwvcbedvnimabfwubazz.supabase.co",X4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY",Sz="pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK";{if(!/^https:\/\/[a-z0-9-]+\.supabase\.co$/.test(J4))throw new Error("❌ Invalid or missing VITE_SUPABASE_URL in production");if(X4.split(".").length<3)throw new Error("❌ Invalid or missing VITE_SUPABASE_ANON_KEY in production");if(!/^pk_live_[A-Za-z0-9]+$/.test(Sz))throw new Error("❌ Invalid or missing VITE_STRIPE_PUBLISHABLE_KEY in production")}const R=wz(J4,X4),Nz=b.createContext(null);function _z({children:e}){const t=b.useMemo(()=>({url:null,anon:null,setConfigOpen:()=>{}}),[]);return s.jsx(Nz.Provider,{value:t,children:e})}function Jc(){return R}const dE={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Y0=()=>{const e=a=>{var i,o;if(typeof import.meta<"u"&&dE)return dE[a];if(typeof window<"u"&&((o=(i=window.import)==null?void 0:i.meta)!=null&&o.env))return window.import.meta.env[a]},t=e("VITE_SUPABASE_URL")||"https://mwvcbedvnimabfwubazz.supabase.co",r=e("VITE_SUPABASE_ANON_KEY")||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY",n=!!e("VITE_SUPABASE_URL");return{supabase:{url:t,anonKey:r,isConfigured:!0},url:t,anon:r,source:n?"environment":"fallback",domain:typeof window<"u"?window.location.hostname:"unknown"}};function Ez({children:e}){const[t,r]=b.useState(null),[n,a]=b.useState(!1);return b.useEffect(()=>{(async()=>{try{const o=Y0();if(typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1")){console.info("✅ Production mode: Using configuration fallbacks"),a(!0);return}if(!o.url||!o.anon||o.url==="undefined"||o.anon==="undefined")throw new Error("Development environment requires proper configuration");console.info("✅ Configuration validated:",{url:o.url.replace(/https?:\/\//,"").split(".")[0]+"...",source:o.source}),a(!0)}catch(o){const l=o instanceof Error?o.message:"Configuration error";console.error("❌ Config validation failed:",l),r(l),a(!0)}})()},[]),t?typeof window<"u"&&!window.location.pathname.includes("/setup")?(window.location.href="/setup",null):s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f9fafb",fontFamily:"system-ui, -apple-system, sans-serif",zIndex:9999,padding:"1rem"},children:s.jsx("div",{style:{maxWidth:"32rem",width:"100%",padding:"2rem",backgroundColor:"white",borderRadius:"0.75rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"🚨"}),s.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#dc2626",marginBottom:"1rem",lineHeight:"1.2"},children:"Environment Configuration Required"}),s.jsx("p",{style:{color:"#374151",marginBottom:"1.5rem",lineHeight:"1.6",fontSize:"1rem"},children:t}),s.jsxs("div",{style:{fontSize:"0.875rem",color:"#6b7280",backgroundColor:"#f9fafb",padding:"1rem",borderRadius:"0.5rem",marginTop:"1rem",textAlign:"left",lineHeight:"1.5"},children:[s.jsx("strong",{style:{color:"#374151"},children:"Setup Instructions:"}),s.jsx("br",{}),s.jsx("br",{}),"1. Go to ",s.jsx("strong",{children:"Vercel Dashboard"}),s.jsx("br",{}),"2. Select your project → ",s.jsx("strong",{children:"Settings"})," → ",s.jsx("strong",{children:"Environment Variables"}),s.jsx("br",{}),"3. Add these variables:",s.jsx("br",{}),"  • ",s.jsx("code",{children:"VITE_SUPABASE_URL"}),s.jsx("br",{}),"  • ",s.jsx("code",{children:"VITE_SUPABASE_ANON_KEY"}),s.jsx("br",{}),"4. Set for ",s.jsx("strong",{children:"Production, Preview, and Development"}),s.jsx("br",{}),"5. ",s.jsx("strong",{children:"Redeploy"})," your application"]})]})})}):n?s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"fixed inset-0 min-h-screen flex items-center justify-center bg-gray-900 text-white z-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4 animate-spin",children:"🌿"}),s.jsx("div",{className:"text-xl",children:"Loading GreenScape Lux..."})]})})}const J0="G-XXXXXXXXXX",Pz=()=>{if(typeof window>"u")return;const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${J0}`,document.head.appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",J0,{page_title:document.title,page_location:window.location.href})},kz=(e,t)=>{typeof window>"u"||!window.gtag||window.gtag("config",J0,{page_path:e,page_title:document.title})},X0=(e,t,r,n)=>{typeof window>"u"||!window.gtag||window.gtag("event",e,{event_category:t,event_label:r,value:n})},Cz=(e,t)=>{typeof window>"u"||!window.gtag||window.gtag("event","conversion",{send_to:e,value:t,currency:"USD"})},Az=(e,t)=>{X0("quote_submitted","form",e.join(", "),t),Cz("AW-XXXXXXXXX/XXXXXXXXX",t)},Oz=({children:e})=>{const t=Ft();return b.useEffect(()=>{kz(t.pathname+t.search)},[t]),s.jsx(s.Fragment,{children:e})},Tz=Og("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground shadow-sm",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-600 dark:text-green-400 [&>svg]:text-green-600 dark:[&>svg]:text-green-400 bg-green-50 dark:bg-green-950/20",warning:"border-yellow-500/50 text-yellow-600 dark:text-yellow-400 [&>svg]:text-yellow-600 dark:[&>svg]:text-yellow-400 bg-yellow-50 dark:bg-yellow-950/20",info:"border-primary/50 text-primary dark:text-primary-foreground [&>svg]:text-primary bg-primary/10 dark:bg-primary/20"}},defaultVariants:{variant:"default"}}),ze=b.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:fe(Tz({variant:t}),e),...r}));ze.displayName="Alert";const Q4=b.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:fe("mb-1 font-medium leading-none tracking-tight",e),...t}));Q4.displayName="AlertTitle";const We=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:fe("text-sm [&_p]:leading-relaxed opacity-90",e),...t}));We.displayName="AlertDescription";function Rz(){const[e,t]=b.useState(null),[r,n]=b.useState(!1);return b.useEffect(()=>{const a=async()=>{try{const l=await(await fetch(`/version.json?t=${Date.now()}`)).json();t(l);const c=localStorage.getItem("app_version");c&&c!==l.commitHash?(n(!0),setTimeout(()=>{localStorage.setItem("app_version",l.commitHash),window.location.reload()},3e3)):localStorage.setItem("app_version",l.commitHash)}catch(o){console.error("Version check failed:",o)}};a();const i=setInterval(a,6e4);return()=>clearInterval(i)},[]),r?s.jsx(ze,{className:"fixed bottom-4 right-4 w-auto z-50",children:s.jsx(We,{children:"New version available. Reloading..."})}):null}const l1=({size:e="medium",className:t=""})=>{const r={small:"w-16 h-16",medium:"w-32 h-32 md:w-40 md:h-40",large:"w-40 h-40 md:w-48 md:h-48"};return s.jsx("img",{src:"https://d64gsuwffb70l.cloudfront.net/68366206d4e44998c9b3046b_1753842719826_a8c02e0b.png",alt:"GreenScape Lux Logo",className:`${r[e]} drop-shadow-[0_0_20px_rgba(34,197,94,0.5)] hover:drop-shadow-[0_0_30px_rgba(34,197,94,0.7)] transition-all duration-300 ${t}`})};async function Of(e,t="/client-login"){try{console.log("Starting logout process..."),document.cookie.split(";").forEach(n=>{const a=n.split("=")[0].trim();(a.includes("supabase")||a.includes("auth")||a.includes("sb-"))&&(document.cookie=`${a}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=${window.location.hostname}`,document.cookie=`${a}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`)});const{error:r}=await e.auth.signOut();r?console.error("Supabase signOut error:",r):console.log("Supabase signOut successful");try{sessionStorage.clear(),console.log("Session storage cleared")}catch(n){console.error("Session storage clear failed:",n)}try{localStorage.clear(),console.log("Local storage cleared")}catch(n){console.error("Local storage clear failed:",n)}console.log("Redirecting to:",t),window.location.href=t}catch(r){console.error("Logout process failed:",r),window.location.href=t}}const Z4=b.createContext({user:null,session:null,loading:!0,role:null,signOut:async()=>{},refreshUserRole:async()=>{}}),_t=()=>{const e=b.useContext(Z4);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},c1=_t,Iz=({children:e})=>{const[t,r]=b.useState(null),[n,a]=b.useState(null),[i,o]=b.useState(!0),[l,c]=b.useState(null),u=async g=>{var p;try{console.log("🔍 Looking up role for user ID:",g.id);const v=(p=g.user_metadata)==null?void 0:p.role;if(v)return console.log("✅ Got role from metadata:",v),v;console.log("🔍 No role in metadata, querying database...");const{data:x,error:y}=await R.from("users").select("role").eq("id",g.id).single();return y?(console.error("❌ Database role lookup error:",y),"client"):x!=null&&x.role?(console.log("✅ Got role from database:",x.role),x.role):(console.log("🔍 No role found, defaulting to client"),"client")}catch(v){return console.error("❌ Exception in getUserRole:",v),"client"}},d=async g=>{var p,v,x;try{if(!g.id||!g.email)return;const{data:y}=await R.from("users").select("id").eq("id",g.id).single();if(y)return;const{error:w}=await R.from("users").insert({id:g.id,email:g.email,role:((p=g.user_metadata)==null?void 0:p.role)||"client",first_name:((v=g.user_metadata)==null?void 0:v.first_name)||null,last_name:((x=g.user_metadata)==null?void 0:x.last_name)||null});w?console.error("❌ Error creating user record:",w):console.log("✅ Created user record for:",g.email)}catch(y){console.error("❌ Exception in ensureUserRecord:",y)}},f=async()=>{if(!t)return;console.log("🔄 Refreshing user role for:",t.email);const g=await u(t);c(g)},h=async()=>{try{console.log("🔄 AuthContext signOut called"),r(null),a(null),c(null),await R.auth.signOut(),window.location.href="/"}catch(g){console.error("❌ Exception during sign out:",g),window.location.href="/"}};b.useEffect(()=>{let g=!0;const p=async(x,y)=>{var w,N;if(g){if(console.log("🔄 Auth state change:",x,((w=y==null?void 0:y.user)==null?void 0:w.email)||"no user"),a(y),r((y==null?void 0:y.user)||null),(N=y==null?void 0:y.user)!=null&&N.email){await d(y.user);const S=await u(y.user);if(g&&(c(S),x==="SIGNED_IN"&&S)){console.log("✅ Login successful, redirecting based on role:",S);const j=S==="admin"?"/admin-dashboard":S==="landscaper"?"/landscaper-dashboard":"/client-dashboard";console.log("🔀 Redirecting to:",j),setTimeout(()=>{window.location.href=j},100)}}else g&&c(null);g&&o(!1)}};R.auth.getSession().then(({data:{session:x}})=>{g&&p("INITIAL_SESSION",x)});const{data:{subscription:v}}=R.auth.onAuthStateChange(p);return()=>{g=!1,v.unsubscribe()}},[]);const m={user:t,session:n,loading:i,role:l,signOut:h,refreshUserRole:f};return s.jsx(Z4.Provider,{value:m,children:e})};function $z(){const[e,t]=b.useState(!1),[r,n]=b.useState(!1),[a,i]=b.useState(!1),o=$e(),l=b.useRef(null),{user:c,role:u}=_t();b.useEffect(()=>{c&&u?(n(u==="client"||u==="admin"),i(u==="landscaper"||u==="admin")):(n(!1),i(!1))},[c,u]),b.useEffect(()=>{const h=m=>{l.current&&!l.current.contains(m.target)&&t(!1)};return e&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[e]);const d=async()=>{t(!1),await Of(R,"/client-login")};if(!(c!=null&&c.email))return null;const f=r&&a;return s.jsxs("div",{className:"relative",ref:l,children:[s.jsxs("button",{className:"px-3 py-2 rounded-2xl bg-emerald-500/15 hover:bg-emerald-500/25 text-emerald-300 shadow-[0_0_20px_rgba(52,211,153,0.15)] ring-1 ring-emerald-500/30 transition-all duration-200 hover:shadow-[0_0_30px_rgba(52,211,153,0.25)] max-w-[200px] sm:max-w-none",onClick:()=>t(h=>!h),"aria-haspopup":"menu","aria-expanded":e,children:[s.jsx("span",{className:"hidden sm:inline",children:c.email}),s.jsx("span",{className:"sm:hidden",children:c.email.length>15?`${c.email.substring(0,12)}...`:c.email})]}),e&&s.jsxs("div",{className:"absolute right-0 mt-2 w-64 rounded-2xl bg-[#0B0F0D] ring-1 ring-emerald-500/30 shadow-xl shadow-emerald-500/10 p-2 z-50",role:"menu",children:[f&&s.jsx("div",{className:"px-4 py-2 text-emerald-400 text-sm font-medium",children:"Switch Portal"}),r&&s.jsx("button",{className:"w-full text-left px-4 py-3 rounded-xl text-emerald-300 hover:bg-emerald-500/10 hover:shadow-[0_0_15px_rgba(52,211,153,0.1)] transition-all duration-200",onClick:()=>{t(!1),o("/client-dashboard")},role:"menuitem",children:"Client Dashboard"}),a&&s.jsx("button",{className:"w-full text-left px-4 py-3 rounded-xl text-emerald-300 hover:bg-emerald-500/10 hover:shadow-[0_0_15px_rgba(52,211,153,0.1)] transition-all duration-200",onClick:()=>{t(!1),o("/landscaper-dashboard")},role:"menuitem",children:"Pro Dashboard"}),(r||a)&&s.jsx("div",{className:"my-2 h-px bg-emerald-500/20"}),s.jsx("button",{className:"w-full text-left px-4 py-3 rounded-xl text-red-300 hover:bg-red-500/10 hover:text-red-200 transition-all duration-200",onClick:d,role:"menuitem",children:"Logout"})]})]})}const u1=({showNavigation:e=!0})=>{$e();const[t,r]=b.useState(!1),{user:n}=_t();return s.jsx("header",{className:"relative z-20 bg-black border-b border-emerald-400/20",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(jn,{to:"/",className:"flex items-center min-w-0 flex-shrink",children:[s.jsx(l1,{size:"small",className:"w-12 h-12 flex-shrink-0"}),s.jsx("span",{className:"ml-3 text-xl font-bold text-white hidden sm:block",children:"GreenScape Lux"}),s.jsx("span",{className:"ml-2 text-lg font-bold text-white sm:hidden",children:"GreenScape"})]}),s.jsx("div",{className:"flex items-center space-x-4 flex-shrink-0",children:n&&s.jsx($z,{})})]})})})},d1=()=>{const e=$e(),t=Ft(),r=t.pathname.startsWith("/landscaper-dashboard")||t.pathname.startsWith("/pro-dashboard");return s.jsx("footer",{className:"bg-black py-12 px-6 border-t border-emerald-500/10",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 mb-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-emerald-400 flex items-center justify-center shadow-lg shadow-emerald-400/25",children:s.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z"})})})}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed max-w-xs",children:"Elevated outdoor living through premium landscaping services. Transform your space with luxury design and expert craftsmanship."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold text-sm mb-4",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(jn,{to:"/",className:"text-gray-300 hover:text-emerald-400 transition-colors text-sm",children:"Home"})}),s.jsx("li",{children:s.jsx(jn,{to:"/about",className:"text-gray-300 hover:text-emerald-400 transition-colors text-sm",children:"About Us"})}),s.jsx("li",{children:s.jsx(jn,{to:"/terms",className:"text-gray-300 hover:text-emerald-400 transition-colors text-sm",children:"Terms of Service"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold text-sm mb-4",children:"Support"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("a",{href:"mailto:support@greenscapelux.com",className:"text-gray-300 hover:text-emerald-400 transition-colors text-sm",children:"📧 Email Support"})}),s.jsx("li",{children:s.jsx(jn,{to:"/privacy",className:"text-gray-300 hover:text-emerald-400 transition-colors text-sm",children:"Privacy Policy"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold text-sm mb-4",children:"Contact"}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsx("p",{className:"text-gray-300 text-sm",children:"✉️ info@greenscapelux.com"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"🎧 support@greenscapelux.com"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("a",{href:"https://www.facebook.com/GreenScapeLux",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),s.jsx("a",{href:"https://www.instagram.com/greenscape_lux/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]})]}),s.jsx("div",{className:"border-t border-gray-800 pt-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("p",{className:"text-gray-400 text-sm text-center sm:text-left",children:"© 2025 GreenScape Lux. All rights reserved."}),!r&&s.jsx("button",{onClick:()=>e("/get-quote-enhanced"),className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-xl font-semibold text-sm hover:from-emerald-600 hover:to-emerald-700 transition-all duration-300 shadow-lg shadow-emerald-500/25 hover:shadow-emerald-500/40 hover:scale-105",children:"Request a Quote"})]})})]})})},Tf=({children:e})=>s.jsxs("div",{className:"min-h-screen bg-[#050b08] flex flex-col",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-emerald-500/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-emerald-400/15 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-900/5 via-transparent to-emerald-800/5"})]}),s.jsx(u1,{}),s.jsx("main",{className:"flex-1 relative z-10",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:e})}),s.jsx(d1,{})]}),On=()=>s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute inset-0",children:Array.from({length:20},(e,t)=>s.jsx("div",{className:"absolute rounded-full bg-emerald-500/10 animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,width:`${Math.random()*100+50}px`,height:`${Math.random()*100+50}px`,animationDelay:`${Math.random()*2}s`,animationDuration:`${Math.random()*3+2}s`}},t))}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-900/5 via-transparent to-emerald-800/5"})]}),Mz=()=>(b.useEffect(()=>{window.scrollTo(0,0)},[]),s.jsx(Tf,{children:s.jsxs("div",{className:"relative",children:[s.jsx(On,{}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("section",{className:"container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["About ",s.jsx("span",{className:"text-green-400 drop-shadow-[0_0_20px_rgba(74,222,128,0.5)]",children:"GreenScape Lux"})]}),s.jsx("h2",{className:"text-xl md:text-2xl text-green-400 mb-8 drop-shadow-[0_0_15px_rgba(74,222,128,0.3)]",children:"Elevated Outdoor Living. Backed by Decades of Experience"}),s.jsxs("div",{className:"space-y-6 text-gray-300 text-lg leading-relaxed",children:[s.jsx("p",{children:"At GreenScape Lux, luxury begins outdoors. We transform everyday lawns into high end landscapes that speak to style, comfort, and craftsmanship."}),s.jsx("p",{children:"Co-founded by Carlos Matthews and Bradley Green, GreenScape Lux is the result of over 25 combined years of professionalism across customer service, operations, and elite landscaping."}),s.jsx("p",{className:"text-green-400 font-semibold",children:"We are not just building beautiful yards. We are building a legacy of elevated outdoor living."})]})]})}),s.jsxs("section",{className:"container mx-auto px-4 py-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-16",children:s.jsx("span",{className:"text-green-400 drop-shadow-[0_0_20px_rgba(74,222,128,0.5)]",children:"👔 Meet the Founders"})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-2xl p-8 border border-green-400/20",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Carlos Matthews"}),s.jsx("p",{className:"text-green-400 mb-6 font-semibold",children:"Co-Founder • Director of Customer Relations"}),s.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"With over a decade in leadership and client experience, Carlos is the strategic force behind our white glove service. He brings an unmatched passion for people and process, ensuring every GreenScape Lux client feels informed, cared for, and confident throughout their journey."}),s.jsx("p",{className:"text-green-400 font-medium",children:"Carlos sets the tone for luxury level communication and professionalism from the first click to the final walkthrough."})]}),s.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-2xl p-8 border border-green-400/20",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Bradley Green"}),s.jsx("p",{className:"text-green-400 mb-6 font-semibold",children:"Co-Founder • Director of Field Operations"}),s.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Bradley has spent more than 15 years mastering the art of landscaping. As the owner of BeGreen Landscaping and now the co-founder of GreenScape Lux, his expertise spans everything from residential lawn care to premium outdoor installations."}),s.jsx("p",{className:"text-green-400 font-medium",children:"Bradley leads every project with integrity, excellence, and a reputation that speaks for itself — because he has built it yard by yard."})]})]})]})]})]})})),Dz=()=>{const e=$e();return s.jsxs("section",{className:"min-h-screen flex flex-col items-center justify-center text-center px-4 relative z-10 pb-4",children:[s.jsxs("div",{className:"mb-8 relative",children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-emerald-500/30 blur-3xl animate-pulse scale-150"}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-emerald-400/20 blur-2xl animate-pulse scale-125 animation-delay-500"}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-emerald-300/10 blur-xl animate-pulse scale-110 animation-delay-1000"}),s.jsx("img",{src:"https://d64gsuwffb70l.cloudfront.net/68366206d4e44998c9b3046b_1753839626505_2eaea86f.png",alt:"GreenScape Lux Logo",className:"relative z-10 mx-auto w-32 h-32 md:w-40 md:h-40 drop-shadow-[0_0_20px_rgba(34,197,94,0.5)] hover:drop-shadow-[0_0_30px_rgba(34,197,94,0.7)] transition-all duration-300"})]}),s.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold text-emerald-400 mb-4",children:"GreenScape Lux"}),s.jsx("h2",{className:"text-xl md:text-2xl text-white mb-4 font-semibold",children:"Your Lawn. Our Luxury."}),s.jsx("p",{className:"text-lg md:text-xl text-gray-300 mb-8 max-w-2xl leading-relaxed",children:"Charlotte's elite landscaping service offering instant booking and luxury-level care all at your fingertips."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[s.jsx(L,{onClick:()=>e("/get-started"),className:"bg-emerald-500 hover:bg-emerald-600 text-black px-8 py-4 font-bold rounded-full shadow-md hover:shadow-emerald-500/50 transition-all duration-300 text-lg glow-emerald hover:glow-emerald-strong",children:"Get Started"}),s.jsx(L,{onClick:()=>{console.log("🚀 Get a Quote button triggered from Hero Section"),e("/get-a-quote")},variant:"outline",className:"bg-transparent border-2 border-emerald-500 text-emerald-500 hover:bg-emerald-500 hover:text-black px-8 py-4 font-bold rounded-full shadow-md hover:shadow-emerald-500/50 transition-all duration-300 text-lg",children:"Get a Quote"})]})]})},Lz=[{icon:"🏡",title:"Lawn Care",description:"Premium mowing, edging, and maintenance"},{icon:"🌺",title:"Garden Design",description:"Custom landscape design and installation"},{icon:"🌳",title:"Tree Services",description:"Professional pruning and arborist care"},{icon:"💧",title:"Irrigation Systems",description:"Smart sprinkler and water management"}],Fz=()=>{const e=$e(),[t,r]=b.useState(null),n=a=>{r(t===a?null:a)};return s.jsx("section",{className:"py-8 px-4 relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-center mb-6 md:mb-8 bg-gradient-to-r from-green-400 to-green-600 bg-clip-text text-transparent",children:"Luxury Services"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4 mb-8 md:mb-10",children:Lz.map((a,i)=>s.jsx(I,{className:"bg-gray-900/60 border border-green-500/30 hover:border-green-400 hover:shadow-lg hover:shadow-green-500/20 transition-all duration-300 group rounded-2xl",children:s.jsxs(D,{className:"p-4 md:p-6 text-center h-full flex flex-col justify-center",children:[s.jsx("div",{className:"text-xl md:text-2xl mb-2 group-hover:scale-110 transition-transform",children:a.icon}),s.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-1",children:a.title}),s.jsx("p",{className:"text-gray-300 text-xs md:text-sm leading-tight",children:a.description})]})},i))}),s.jsxs("div",{className:"space-y-3 md:space-y-4 mb-8 md:mb-10",children:[s.jsx(I,{className:"bg-gray-900/60 border border-green-500/30 rounded-2xl",children:s.jsxs(D,{className:"p-0",children:[s.jsx("button",{onClick:()=>n("core"),className:"w-full p-4 md:p-6 text-left hover:bg-gray-800/50 transition-colors",children:s.jsxs("div",{className:"flex justify-between items-start md:items-center",children:[s.jsxs("div",{className:"flex-1 pr-4",children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-1 md:mb-2",children:"🌿 Core Year-Round Services"}),s.jsx("p",{className:"text-green-400 font-bold text-sm md:text-base shadow-lg shadow-green-500/20 bg-green-500/10 px-2 py-1 rounded-2xl inline-block",children:"Available in NC & FL"})]}),s.jsx("span",{className:"text-green-400 text-xl md:text-2xl flex-shrink-0 font-bold",children:t==="core"?"−":"+"})]})}),t==="core"&&s.jsx("div",{className:"px-4 md:px-6 pb-4 md:pb-6",children:s.jsxs("ul",{className:"space-y-2 md:space-y-2.5 text-gray-300 text-sm md:text-base",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Lawn mowing & edging"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Leaf blowing & cleanup"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Mulch installation"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Bush trimming & hedge shaping"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Weed removal & prevention"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Sod installation"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Flower bed maintenance"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Basic to premium landscape design"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Gravel & rock placement"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Pressure washing (driveways, walkways)"]})]})})]})}),s.jsx(I,{className:"bg-gray-900/60 border border-green-500/30 rounded-2xl",children:s.jsxs(D,{className:"p-0",children:[s.jsx("button",{onClick:()=>n("seasonal"),className:"w-full p-4 md:p-6 text-left hover:bg-gray-800/50 transition-colors",children:s.jsxs("div",{className:"flex justify-between items-start md:items-center",children:[s.jsxs("div",{className:"flex-1 pr-4",children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-1 md:mb-2",children:"❄️ Seasonal & Winter Services"}),s.jsx("p",{className:"text-green-400 font-bold text-sm md:text-base shadow-lg shadow-green-500/20 bg-green-500/10 px-2 py-1 rounded-2xl inline-block",children:"NC Only"})]}),s.jsx("span",{className:"text-green-400 text-xl md:text-2xl flex-shrink-0 font-bold",children:t==="seasonal"?"−":"+"})]})}),t==="seasonal"&&s.jsx("div",{className:"px-4 md:px-6 pb-4 md:pb-6",children:s.jsxs("ul",{className:"space-y-2 md:space-y-2.5 text-gray-300 text-sm md:text-base",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Leaf removal"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Gutter cleaning"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Winter pruning (shrubs, small trees)"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Holiday lighting installation/removal"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Snow removal (driveways, walkways)"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Ice salting and de-icing"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"•"}),"Seasonal plant protection and dormancy prep"]})]})})]})})]}),s.jsx("div",{className:"text-center",children:s.jsx("button",{onClick:()=>e("/get-quote-enhanced"),className:"bg-emerald-500 hover:bg-emerald-600 text-black font-semibold px-8 py-3 rounded-lg transition-all duration-200 hover:shadow-lg hover:shadow-emerald-500/25 text-lg",children:"Get Your Quote Today"})})]})})},Bz=()=>{const e=$e();return b.useEffect(()=>{new URLSearchParams(window.location.hash.substring(1)).get("type")==="recovery"&&e("/reset-password")},[e]),s.jsxs("div",{className:"relative bg-black min-h-screen",children:[s.jsx(On,{}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("section",{className:"mb-4",children:s.jsx(Dz,{})}),s.jsx("section",{className:"mb-4",children:s.jsx(Fz,{})})]}),s.jsx(d1,{})]})},Uz=Og("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border-border",success:"border-transparent bg-green-500/20 text-green-700 dark:text-green-300 border-green-500/30",warning:"border-transparent bg-yellow-500/20 text-yellow-700 dark:text-yellow-300 border-yellow-500/30",info:"border-transparent bg-primary/10 text-primary border-primary/30"},size:{default:"px-2.5 py-0.5 text-xs",sm:"px-2 py-0.5 text-[10px]",lg:"px-3 py-0.5 text-sm"}},defaultVariants:{variant:"default",size:"default"}});function J({className:e,variant:t,size:r,...n}){return s.jsx("div",{className:fe(Uz({variant:t,size:r}),e),...n})}function be(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Vz(e,t){const r=b.createContext(t),n=i=>{const{children:o,...l}=i,c=b.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=b.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Rn(e,t=[]){let r=[];function n(i,o){const l=b.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:m,...g}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=b.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=b.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,zz(a,...t)]}function zz(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function eR(e){const t=e+"CollectionProvider",[r,n]=Rn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:x}=p,y=k.useRef(null),w=k.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:w,collectionRef:y,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=ko(l),u=k.forwardRef((p,v)=>{const{scope:x,children:y}=p,w=i(l,x),N=De(v,w.collectionRef);return s.jsx(c,{ref:N,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=ko(d),m=k.forwardRef((p,v)=>{const{scope:x,children:y,...w}=p,N=k.useRef(null),S=De(v,N),j=i(d,x);return k.useEffect(()=>(j.itemMap.set(N,{ref:N,...w}),()=>void j.itemMap.delete(N))),s.jsx(h,{[f]:"",ref:S,children:y})});m.displayName=d;function g(p){const v=i(e+"CollectionConsumer",p);return k.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((j,_)=>w.indexOf(j.ref.current)-w.indexOf(_.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}var Lt=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},Wz=rj[" useId ".trim().toString()]||(()=>{}),qz=0;function fa(e){const[t,r]=b.useState(Wz());return Lt(()=>{r(n=>n??String(qz++))},[e]),t?`radix-${t}`:""}var Hz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ye=Hz.reduce((e,t)=>{const r=ko(`Primitive.${t}`),n=b.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Kz(e,t){e&&zc.flushSync(()=>e.dispatchEvent(t))}function yr(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var Gz=rj[" useInsertionEffect ".trim().toString()]||Lt;function xi({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=Yz({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=b.useRef(e!==void 0);b.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=b.useCallback(d=>{var f;if(l){const h=Jz(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function Yz({defaultProp:e,onChange:t}){const[r,n]=b.useState(e),a=b.useRef(r),i=b.useRef(t);return Gz(()=>{i.current=t},[t]),b.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function Jz(e){return typeof e=="function"}var Xz=b.createContext(void 0);function Fg(e){const t=b.useContext(Xz);return e||t||"ltr"}var Ux="rovingFocusGroup.onEntryFocus",Qz={bubbles:!1,cancelable:!0},Rf="RovingFocusGroup",[Q0,tR,Zz]=eR(Rf),[e7,rR]=Rn(Rf,[Zz]),[t7,r7]=e7(Rf),nR=b.forwardRef((e,t)=>s.jsx(Q0.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Q0.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(n7,{...e,ref:t})})}));nR.displayName=Rf;var n7=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=b.useRef(null),m=De(t,h),g=Fg(i),[p,v]=xi({prop:o,defaultProp:l??null,onChange:c,caller:Rf}),[x,y]=b.useState(!1),w=yr(u),N=tR(r),S=b.useRef(!1),[j,_]=b.useState(0);return b.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(Ux,w),()=>E.removeEventListener(Ux,w)},[w]),s.jsx(t7,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:p,onItemFocus:b.useCallback(E=>v(E),[v]),onItemShiftTab:b.useCallback(()=>y(!0),[]),onFocusableItemAdd:b.useCallback(()=>_(E=>E+1),[]),onFocusableItemRemove:b.useCallback(()=>_(E=>E-1),[]),children:s.jsx(ye.div,{tabIndex:x||j===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:be(e.onMouseDown,()=>{S.current=!0}),onFocus:be(e.onFocus,E=>{const P=!S.current;if(E.target===E.currentTarget&&P&&!x){const C=new CustomEvent(Ux,Qz);if(E.currentTarget.dispatchEvent(C),!C.defaultPrevented){const T=N().filter(U=>U.focusable),O=T.find(U=>U.active),F=T.find(U=>U.id===p),B=[O,F,...T].filter(Boolean).map(U=>U.ref.current);iR(B,d)}}S.current=!1}),onBlur:be(e.onBlur,()=>y(!1))})})}),sR="RovingFocusGroupItem",aR=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=fa(),u=i||c,d=r7(sR,r),f=d.currentTabStopId===u,h=tR(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return b.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),s.jsx(Q0.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(ye.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:be(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:be(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:be(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=i7(v,d.orientation,d.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(N=>N.focusable).map(N=>N.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const N=w.indexOf(v.currentTarget);w=d.loop?o7(w,N+1):w.slice(N+1)}setTimeout(()=>iR(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});aR.displayName=sR;var s7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function a7(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function i7(e,t,r){const n=a7(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return s7[n]}function iR(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function o7(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var l7=nR,c7=aR;function u7(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var In=e=>{const{present:t,children:r}=e,n=d7(t),a=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),i=De(n.ref,f7(a));return typeof r=="function"||n.isPresent?b.cloneElement(a,{ref:i}):null};In.displayName="Presence";function d7(e){const[t,r]=b.useState(),n=b.useRef(null),a=b.useRef(e),i=b.useRef("none"),o=e?"mounted":"unmounted",[l,c]=u7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=vh(n.current);i.current=l==="mounted"?u:"none"},[l]),Lt(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=vh(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Lt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=vh(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(i.current=vh(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function vh(e){return(e==null?void 0:e.animationName)||"none"}function f7(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Bg="Tabs",[h7]=Rn(Bg,[rR]),oR=rR(),[m7,f1]=h7(Bg),lR=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Fg(l),[f,h]=xi({prop:n,onChange:a,defaultProp:i??"",caller:Bg});return s.jsx(m7,{scope:r,baseId:fa(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(ye.div,{dir:d,"data-orientation":o,...u,ref:t})})});lR.displayName=Bg;var cR="TabsList",uR=b.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=f1(cR,r),o=oR(r);return s.jsx(l7,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(ye.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});uR.displayName=cR;var dR="TabsTrigger",fR=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=f1(dR,r),l=oR(r),c=pR(o.baseId,n),u=gR(o.baseId,n),d=n===o.value;return s.jsx(c7,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(ye.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:be(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:be(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:be(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});fR.displayName=dR;var hR="TabsContent",mR=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=f1(hR,r),c=pR(l.baseId,n),u=gR(l.baseId,n),d=n===l.value,f=b.useRef(d);return b.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(In,{present:a||d,children:({present:h})=>s.jsx(ye.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});mR.displayName=hR;function pR(e,t){return`${e}-trigger-${t}`}function gR(e,t){return`${e}-content-${t}`}var p7=lR,vR=uR,xR=fR,yR=mR;const fn=p7,zr=b.forwardRef(({className:e,...t},r)=>s.jsx(vR,{ref:r,className:fe("inline-flex h-10 items-center justify-center rounded-md bg-muted/50 p-1 text-muted-foreground",e),...t}));zr.displayName=vR.displayName;const he=b.forwardRef(({className:e,...t},r)=>s.jsx(xR,{ref:r,className:fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm hover:text-foreground",e),...t}));he.displayName=xR.displayName;const me=b.forwardRef(({className:e,...t},r)=>s.jsx(yR,{ref:r,className:fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 animate-in fade-in-0 data-[state=inactive]:animate-out data-[state=inactive]:fade-out-0 duration-200",e),...t}));me.displayName=yR.displayName;const fE={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},g7={development:{required:["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY"],optional:["VITE_STRIPE_PUBLISHABLE_KEY","VITE_GOOGLE_MAPS_API_KEY","VITE_RESEND_API_KEY"],validationRules:{VITE_SUPABASE_URL:e=>e.startsWith("https://")&&e.includes("supabase"),VITE_SUPABASE_ANON_KEY:e=>e.length>100,VITE_STRIPE_PUBLISHABLE_KEY:e=>e.startsWith("pk_test_")||e==="",VITE_GOOGLE_MAPS_API_KEY:e=>e.length>20||e===""},errorMessages:{VITE_SUPABASE_URL:"Must be a valid Supabase URL starting with https://",VITE_SUPABASE_ANON_KEY:"Must be a valid Supabase anonymous key (100+ chars)",VITE_STRIPE_PUBLISHABLE_KEY:"Must be a test key starting with pk_test_ in development",VITE_GOOGLE_MAPS_API_KEY:"Must be a valid Google Maps API key"},placeholderPatterns:["your_","YOUR_","placeholder","PLACEHOLDER","replace_me","REPLACE_ME","sk_test_123","pk_test_123","example.com","localhost:3000"]},staging:{required:["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY","VITE_STRIPE_PUBLISHABLE_KEY"],optional:["VITE_GOOGLE_MAPS_API_KEY","VITE_RESEND_API_KEY"],validationRules:{VITE_SUPABASE_URL:e=>e.startsWith("https://")&&e.includes("supabase"),VITE_SUPABASE_ANON_KEY:e=>e.length>100,VITE_STRIPE_PUBLISHABLE_KEY:e=>e.startsWith("pk_test_"),VITE_GOOGLE_MAPS_API_KEY:e=>e.length>20},errorMessages:{VITE_SUPABASE_URL:"Must be a valid Supabase URL for staging environment",VITE_SUPABASE_ANON_KEY:"Must be a valid Supabase anonymous key for staging",VITE_STRIPE_PUBLISHABLE_KEY:"Must be a Stripe test key for staging (pk_test_)",VITE_GOOGLE_MAPS_API_KEY:"Google Maps API key required for staging"},placeholderPatterns:["your_","YOUR_","placeholder","PLACEHOLDER","replace_me","REPLACE_ME","sk_test_123","pk_test_123","example.com"]},production:{required:["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY","VITE_STRIPE_PUBLISHABLE_KEY","VITE_GOOGLE_MAPS_API_KEY"],optional:["VITE_RESEND_API_KEY"],validationRules:{VITE_SUPABASE_URL:e=>e.startsWith("https://")&&e.includes("supabase"),VITE_SUPABASE_ANON_KEY:e=>e.length>100,VITE_STRIPE_PUBLISHABLE_KEY:e=>e.startsWith("pk_live_"),VITE_GOOGLE_MAPS_API_KEY:e=>e.length>20},errorMessages:{VITE_SUPABASE_URL:"Must be a valid production Supabase URL",VITE_SUPABASE_ANON_KEY:"Must be a valid production Supabase anonymous key",VITE_STRIPE_PUBLISHABLE_KEY:"Must be a live Stripe key for production (pk_live_)",VITE_GOOGLE_MAPS_API_KEY:"Google Maps API key is required in production"},placeholderPatterns:["your_","YOUR_","placeholder","PLACEHOLDER","replace_me","REPLACE_ME","sk_test_","pk_test_","example.com","localhost","staging"]}};class v7{constructor(){Fe(this,"environment");Fe(this,"config");this.environment=this.detectEnvironment(),this.config=g7[this.environment]}detectEnvironment(){return"production"}getCurrentEnvironment(){return this.environment}validateEnvironment(){const t={isValid:!0,environment:this.environment,errors:[],warnings:[],missingRequired:[],invalidValues:{},placeholderValues:{}};for(const r of this.config.required){const n=fE[r];if(!n){t.missingRequired.push(r),t.errors.push(`Missing required variable: ${r}`),t.isValid=!1;continue}if(this.isPlaceholderValue(n)){t.placeholderValues[r]=n,t.errors.push(`${r} contains placeholder value: ${n}`),t.isValid=!1;continue}const a=this.config.validationRules[r];a&&!a(n)&&(t.invalidValues[r]=this.config.errorMessages[r]||"Invalid value",t.errors.push(`${r}: ${this.config.errorMessages[r]}`),t.isValid=!1)}for(const r of this.config.optional){const n=fE[r];if(n)if(this.isPlaceholderValue(n))t.placeholderValues[r]=n,t.warnings.push(`${r} contains placeholder value: ${n}`);else{const a=this.config.validationRules[r];a&&!a(n)&&(t.invalidValues[r]=this.config.errorMessages[r]||"Invalid value",t.warnings.push(`${r}: ${this.config.errorMessages[r]}`))}}return t}isPlaceholderValue(t){return this.config.placeholderPatterns.some(r=>t.toLowerCase().includes(r.toLowerCase()))}getEnvironmentRequirements(){return{...this.config}}getValidationSummary(){const t=this.validateEnvironment(),r=[`Environment: ${t.environment.toUpperCase()}`,`Status: ${t.isValid?"✅ Valid":"❌ Invalid"}`,""];return t.errors.length>0&&(r.push("ERRORS:"),t.errors.forEach(n=>r.push(`  ❌ ${n}`)),r.push("")),t.warnings.length>0&&(r.push("WARNINGS:"),t.warnings.forEach(n=>r.push(`  ⚠️  ${n}`)),r.push("")),t.isValid&&r.push("All environment variables are properly configured! 🎉"),r.join(`
`)}}const Hl=new v7,hE={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},x7=()=>{const[e,t]=b.useState(null),[r,n]=b.useState(!0),a=()=>{n(!0),setTimeout(()=>{const l=Hl.validateEnvironment();t(l),n(!1)},500)};b.useEffect(()=>{a()},[]);const i=l=>{switch(l){case"production":return"destructive";case"staging":return"secondary";case"development":return"default"}},o=l=>r?s.jsx(tr,{className:"h-4 w-4 animate-spin"}):l?s.jsx(Oe,{className:"h-4 w-4 text-green-500"}):s.jsx(gt,{className:"h-4 w-4 text-red-500"});return r?s.jsx(I,{className:"w-full max-w-4xl mx-auto",children:s.jsxs(z,{children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(Ct,{className:"h-5 w-5"}),"Environment Validation",s.jsx(tr,{className:"h-4 w-4 animate-spin"})]}),s.jsx(Be,{children:"Validating environment configuration..."})]})}):e?s.jsx("div",{className:"w-full max-w-6xl mx-auto space-y-6",children:s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsxs(W,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ct,{className:"h-5 w-5"}),"Environment Configuration Status",o(e.isValid)]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(J,{variant:i(e.environment),children:e.environment.toUpperCase()}),s.jsxs(L,{onClick:a,variant:"outline",size:"sm",children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),"Revalidate"]})]})]}),s.jsxs(Be,{children:["Multi-environment validation for ",e.environment," environment"]})]}),s.jsxs(D,{children:[!e.isValid&&s.jsxs(ze,{className:"mb-4",children:[s.jsx(gt,{className:"h-4 w-4"}),s.jsx(We,{children:"Environment validation failed. Please fix the issues below before proceeding."})]}),e.isValid&&s.jsxs(ze,{className:"mb-4 border-green-200 bg-green-50",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600"}),s.jsxs(We,{className:"text-green-800",children:["All environment variables are properly configured for ",e.environment,"!"]})]}),s.jsxs(fn,{defaultValue:"overview",className:"w-full",children:[s.jsxs(zr,{className:"grid w-full grid-cols-4",children:[s.jsx(he,{value:"overview",children:"Overview"}),s.jsxs(he,{value:"errors",children:["Errors (",e.errors.length,")"]}),s.jsxs(he,{value:"warnings",children:["Warnings (",e.warnings.length,")"]}),s.jsx(he,{value:"requirements",children:"Requirements"})]}),s.jsx(me,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(I,{children:[s.jsx(z,{className:"pb-2",children:s.jsx(W,{className:"text-sm font-medium",children:"Environment"})}),s.jsx(D,{children:s.jsx(J,{variant:i(e.environment),className:"text-lg",children:e.environment.toUpperCase()})})]}),s.jsxs(I,{children:[s.jsx(z,{className:"pb-2",children:s.jsx(W,{className:"text-sm font-medium",children:"Status"})}),s.jsx(D,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[o(e.isValid),s.jsx("span",{className:e.isValid?"text-green-600":"text-red-600",children:e.isValid?"Valid":"Invalid"})]})})]}),s.jsxs(I,{children:[s.jsx(z,{className:"pb-2",children:s.jsx(W,{className:"text-sm font-medium",children:"Issues"})}),s.jsxs(D,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.errors.length+e.warnings.length}),s.jsxs("div",{className:"text-sm text-gray-500",children:[e.errors.length," errors, ",e.warnings.length," warnings"]})]})]})]})}),s.jsxs(me,{value:"errors",className:"space-y-4",children:[e.errors.length===0?s.jsxs(ze,{className:"border-green-200 bg-green-50",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600"}),s.jsx(We,{className:"text-green-800",children:"No errors found! All required environment variables are properly configured."})]}):s.jsx("div",{className:"space-y-2",children:e.errors.map((l,c)=>s.jsxs(ze,{variant:"destructive",children:[s.jsx(gt,{className:"h-4 w-4"}),s.jsx(We,{children:l})]},c))}),e.missingRequired.length>0&&s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{className:"text-red-600",children:"Missing Required Variables"})}),s.jsx(D,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:e.missingRequired.map(l=>s.jsx(J,{variant:"destructive",children:l},l))})})]}),Object.keys(e.placeholderValues).length>0&&s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{className:"text-orange-600",children:"Placeholder Values Detected"})}),s.jsx(D,{children:s.jsx("div",{className:"space-y-2",children:Object.entries(e.placeholderValues).map(([l,c])=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-orange-50 rounded",children:[s.jsx(J,{variant:"secondary",children:l}),s.jsx("code",{className:"text-sm text-orange-700",children:c})]},l))})})]})]}),s.jsx(me,{value:"warnings",className:"space-y-4",children:e.warnings.length===0?s.jsxs(ze,{className:"border-green-200 bg-green-50",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600"}),s.jsx(We,{className:"text-green-800",children:"No warnings! Optional environment variables are properly configured."})]}):s.jsx("div",{className:"space-y-2",children:e.warnings.map((l,c)=>s.jsxs(ze,{className:"border-yellow-200 bg-yellow-50",children:[s.jsx(ct,{className:"h-4 w-4 text-yellow-600"}),s.jsx(We,{className:"text-yellow-800",children:l})]},c))})}),s.jsx(me,{value:"requirements",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsx(W,{className:"text-red-600",children:"Required Variables"}),s.jsxs(Be,{children:["These variables must be set for ",e.environment," environment"]})]}),s.jsx(D,{children:s.jsx("div",{className:"space-y-2",children:Hl.getEnvironmentRequirements().required.map(l=>{const c=hE[l];return s.jsxs("div",{className:"flex items-center justify-between p-2 rounded border",children:[s.jsx("code",{className:"text-sm",children:l}),c?s.jsx(Oe,{className:"h-4 w-4 text-green-500"}):s.jsx(gt,{className:"h-4 w-4 text-red-500"})]},l)})})})]}),s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsx(W,{className:"text-blue-600",children:"Optional Variables"}),s.jsxs(Be,{children:["These variables are optional but recommended for ",e.environment]})]}),s.jsx(D,{children:s.jsx("div",{className:"space-y-2",children:Hl.getEnvironmentRequirements().optional.map(l=>{const c=hE[l];return s.jsxs("div",{className:"flex items-center justify-between p-2 rounded border",children:[s.jsx("code",{className:"text-sm",children:l}),c?s.jsx(Oe,{className:"h-4 w-4 text-green-500"}):s.jsx(ct,{className:"h-4 w-4 text-yellow-500"})]},l)})})})]})]})})]})]})]})}):null};function y7(){const[e,t]=b.useState([{name:"Supabase URL",key:"VITE_SUPABASE_URL",configured:!0},{name:"Supabase Anon Key",key:"VITE_SUPABASE_ANON_KEY",configured:!0},{name:"Stripe Publishable Key",key:"VITE_STRIPE_PUBLISHABLE_KEY",configured:!0}]),r=e.every(a=>a.configured),n=async()=>{const a=[...e],i=a.find(l=>l.key==="VITE_SUPABASE_URL");if(i){i.testing=!0,t([...a]);try{const{error:l}=await R.from("profiles").select("count").limit(1);i.valid=!l,i.error=l==null?void 0:l.message}catch(l){i.valid=!1,i.error=l.message}i.testing=!1}const o=a.find(l=>l.key==="VITE_STRIPE_PUBLISHABLE_KEY");if(o){o.testing=!0,t([...a]);const l=void 0;o.valid=l==null?void 0:l.startsWith("pk_"),o.error=o.valid?void 0:"Invalid Stripe key format",o.testing=!1}t([...a])};return r?null:s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs(I,{className:"max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs(z,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ct,{className:"h-6 w-6 text-yellow-500"}),s.jsx(W,{children:"Environment Configuration Required"})]}),s.jsx(Be,{children:"Your application is using fallback values. Configure environment variables in Vercel."})]}),s.jsxs(D,{className:"space-y-6",children:[s.jsx("div",{className:"grid gap-3",children:e.map(a=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:a.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:a.key}),a.error&&s.jsx("div",{className:"text-sm text-red-500 mt-1",children:a.error})]}),a.testing?s.jsx(Pn,{className:"h-5 w-5 animate-spin text-blue-500"}):a.valid===!0?s.jsx(Oe,{className:"h-5 w-5 text-green-500"}):a.valid===!1?s.jsx(gt,{className:"h-5 w-5 text-red-500"}):a.configured?null:s.jsx(gt,{className:"h-5 w-5 text-yellow-500"})]},a.key))}),s.jsx(L,{onClick:n,className:"w-full",children:"Test Connections"}),s.jsxs(ze,{children:[s.jsx(Q4,{children:"Configuration Steps"}),s.jsxs(We,{className:"mt-2 space-y-2 text-sm",children:[s.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[s.jsx("li",{children:"Go to your Vercel project dashboard"}),s.jsx("li",{children:"Navigate to Settings → Environment Variables"}),s.jsxs("li",{children:["Add these variables:",s.jsxs("ul",{className:"list-disc list-inside ml-4 mt-1 space-y-1",children:[s.jsx("li",{children:s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"VITE_SUPABASE_URL"})}),s.jsx("li",{children:s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"VITE_SUPABASE_ANON_KEY"})}),s.jsx("li",{children:s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"VITE_STRIPE_PUBLISHABLE_KEY"})})]})]}),s.jsx("li",{children:"Redeploy your application"})]}),s.jsxs("a",{href:"https://vercel.com/docs/projects/environment-variables",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-500 hover:underline mt-2",children:["View Vercel Documentation ",s.jsx(kf,{className:"h-3 w-3"})]})]})]})]})]})})}const b7=()=>{var h,m,g,p;const[e,t]=b.useState(null),[r,n]=b.useState(!0),a=b.useCallback(()=>{n(!0),setTimeout(()=>{try{const v=Hl.validateEnvironment();t(v)}catch(v){console.error("Environment validation failed:",v),t({isValid:!1,environment:Hl.getCurrentEnvironment(),errors:["Environment validation failed"],warnings:[],missingRequired:[],invalidValues:{},placeholderValues:{}})}finally{n(!1)}},100)},[]),i=b.useCallback(()=>{a()},[a]);b.useEffect(()=>{a()},[a]);const o=Hl.getCurrentEnvironment(),l=(e==null?void 0:e.isValid)??!1,c=(((h=e==null?void 0:e.errors)==null?void 0:h.length)??0)>0,u=(((m=e==null?void 0:e.warnings)==null?void 0:m.length)??0)>0,d=((g=e==null?void 0:e.errors)==null?void 0:g.length)??0,f=((p=e==null?void 0:e.warnings)==null?void 0:p.length)??0;return{validationResult:e,isLoading:r,environment:o,revalidate:i,isValid:l,hasErrors:c,hasWarnings:u,errorCount:d,warningCount:f}},kn=()=>{const{environment:e,isValid:t,errorCount:r,warningCount:n}=b7(),a=i=>{switch(i){case"production":return"text-red-600 bg-red-100";case"staging":return"text-yellow-600 bg-yellow-100";case"development":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(y7,{}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[s.jsx("div",{className:"p-3 bg-blue-600 rounded-xl",children:s.jsx(vi,{className:"h-8 w-8 text-white"})}),s.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Multi-Environment Config Manager"})]}),s.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto leading-relaxed",children:"Advanced configuration management system that handles different sets of environment variables for development, staging, and production environments with validation rules specific to each environment type."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[s.jsx(I,{className:"border-0 shadow-lg bg-white/70 backdrop-blur-sm",children:s.jsxs(D,{className:"p-6 text-center",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 ${e==="production"?"bg-red-100":e==="staging"?"bg-yellow-100":"bg-green-100"}`,children:s.jsx(Ct,{className:`h-8 w-8 ${e==="production"?"text-red-600":e==="staging"?"text-yellow-600":"text-green-600"}`})}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:e.toUpperCase()}),s.jsx("div",{className:"text-sm text-gray-600",children:"Current Environment"})]})}),s.jsx(I,{className:"border-0 shadow-lg bg-white/70 backdrop-blur-sm",children:s.jsxs(D,{className:"p-6 text-center",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 ${t?"bg-green-100":"bg-red-100"}`,children:t?s.jsx(Oe,{className:"h-8 w-8 text-green-600"}):s.jsx(gt,{className:"h-8 w-8 text-red-600"})}),s.jsx("div",{className:`text-2xl font-bold mb-1 ${t?"text-green-600":"text-red-600"}`,children:t?"VALID":"INVALID"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Validation Status"})]})}),s.jsx(I,{className:"border-0 shadow-lg bg-white/70 backdrop-blur-sm",children:s.jsxs(D,{className:"p-6 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 mb-4",children:s.jsx(gt,{className:"h-8 w-8 text-red-600"})}),s.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:r}),s.jsx("div",{className:"text-sm text-gray-600",children:"Critical Errors"})]})}),s.jsx(I,{className:"border-0 shadow-lg bg-white/70 backdrop-blur-sm",children:s.jsxs(D,{className:"p-6 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-yellow-100 mb-4",children:s.jsx(ct,{className:"h-8 w-8 text-yellow-600"})}),s.jsx("div",{className:"text-2xl font-bold text-yellow-600 mb-1",children:n}),s.jsx("div",{className:"text-sm text-gray-600",children:"Warnings"})]})})]}),s.jsxs(I,{className:"border-0 shadow-lg bg-white/70 backdrop-blur-sm mb-8",children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${a(e)}`,children:s.jsx(Ct,{className:"h-5 w-5"})}),e.charAt(0).toUpperCase()+e.slice(1)," Environment Configuration"]})}),s.jsx(D,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Environment Type"}),s.jsx(J,{className:`${a(e)} border-0 text-lg px-4 py-2`,children:e.toUpperCase()})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Security Level"}),s.jsx(J,{variant:e==="production"?"destructive":"secondary",className:"text-lg px-4 py-2",children:e==="production"?"MAXIMUM":e==="staging"?"HIGH":"STANDARD"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Key Requirements"}),s.jsx(J,{variant:"outline",className:"text-lg px-4 py-2",children:e==="production"?"LIVE KEYS":"TEST KEYS"})]})]})})]}),s.jsx(x7,{}),s.jsx("div",{className:"mt-12 text-center",children:s.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-white/70 backdrop-blur-sm rounded-full border shadow-lg",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Multi-Environment Configuration System Active"})]})})]})]})},w7=()=>s.jsx(kn,{children:s.jsx("div",{className:"min-h-screen bg-black text-white py-12 pb-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("h1",{className:"text-3xl md:text-5xl font-bold mb-6",children:["🔍 ",s.jsx("span",{className:"text-white",children:"Find a"})," ",s.jsx("span",{className:"text-green-400 glow-text",children:"Landscaping Professional"})," ",s.jsx("br",{}),s.jsx("span",{className:"text-white",children:"You Can Trust"})]}),s.jsx("h2",{className:"text-lg md:text-xl text-white mb-6",children:"Connecting You With Charlotte's Most Trusted Landscape Experts"}),s.jsx("p",{className:"text-gray-300 text-base max-w-3xl mx-auto leading-relaxed",children:"GreenScape Lux partners with certified, vetted landscapers who take pride in delivering premium outdoor results. Whether you need a one time service or a full landscape renovation, our platform connects you with professionals ready to exceed your expectations."})]}),s.jsxs("div",{className:"mb-16",children:[s.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-12",children:["💼 ",s.jsx("span",{className:"text-green-400 glow-text",children:"How It Works"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs(I,{className:"bg-gray-900/50 border-green-500/30 p-8 text-center hover:border-green-400/50 transition-all duration-300 hover:shadow-[0_0_15px_rgba(74,222,128,0.2)] h-full flex flex-col",children:[s.jsx("div",{className:"text-green-400 text-4xl mb-4",children:"1️⃣"}),s.jsx("h3",{className:"text-white font-bold text-xl mb-4",children:"Request a Quote"}),s.jsx("p",{className:"text-gray-300 text-sm flex-1",children:"Fill out our Instant Quote form with a few simple details about your yard, needs, and timeline."})]}),s.jsxs(I,{className:"bg-gray-900/50 border-green-500/30 p-8 text-center hover:border-green-400/50 transition-all duration-300 hover:shadow-[0_0_15px_rgba(74,222,128,0.2)] h-full flex flex-col",children:[s.jsx("div",{className:"text-green-400 text-4xl mb-4",children:"2️⃣"}),s.jsx("h3",{className:"text-white font-bold text-xl mb-4",children:"Get Matched"}),s.jsx("p",{className:"text-gray-300 text-sm flex-1",children:"We assign your request to a top-rated landscaper in our network based on location, availability, and service type."})]}),s.jsxs(I,{className:"bg-gray-900/50 border-green-500/30 p-8 text-center hover:border-green-400/50 transition-all duration-300 hover:shadow-[0_0_15px_rgba(74,222,128,0.2)] h-full flex flex-col",children:[s.jsx("div",{className:"text-green-400 text-4xl mb-4",children:"3️⃣"}),s.jsx("h3",{className:"text-white font-bold text-xl mb-4",children:"Review and Approve"}),s.jsx("p",{className:"text-gray-300 text-sm flex-1",children:"You receive a detailed quote, schedule a consultation, and approve the job when ready."})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-6",children:[s.jsxs(I,{className:"bg-gray-900/50 border-green-500/30 p-8 hover:border-green-400/50 transition-all duration-300 h-full",children:[s.jsxs("h3",{className:"text-xl font-bold mb-6",children:["🛠️ ",s.jsx("span",{className:"text-green-400 glow-text",children:"Services Offered"})]}),s.jsxs("ul",{className:"space-y-3 text-gray-300",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Lawn Care and Maintenance"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Mulch and Rock Installation"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Edging and Borders"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Seasonal Cleanups"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Hardscaping and Custom Features"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Tree and Shrub Care"})]})]})]}),s.jsxs(I,{className:"bg-gray-900/50 border-green-500/30 p-8 hover:border-green-400/50 transition-all duration-300 h-full",children:[s.jsxs("h3",{className:"text-xl font-bold mb-6",children:["🌟 ",s.jsx("span",{className:"text-green-400 glow-text",children:"Why Choose Our Professionals?"})]}),s.jsxs("ul",{className:"space-y-3 text-gray-300",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Verified skills and local reputation"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Licensed and insured"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Fast response times"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"High-end results with no stress"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Competitive pricing"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-3 text-lg",children:"•"}),s.jsx("span",{children:"Quality guarantee on all work"})]})]})]})]})]})})}),j7=()=>s.jsx(Tf,{children:s.jsx("div",{className:"py-12 px-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl font-bold text-green-400 mb-4",children:"Terms of Service"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Effective Date: January 2025"})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"1."}),"Introduction"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Welcome to GreenScape Lux. By accessing our website or using our services, you agree to be bound by these Terms of Service."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"2."}),"Services Provided"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"GreenScape Lux offers landscaping services, including but not limited to design, maintenance, and consultation."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"3."}),"User Accounts"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed space-y-3",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-white",children:"Registration:"})," Users may need to create an account to access certain features."]}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-white",children:"Responsibility:"})," Users are responsible for maintaining the confidentiality of their account information."]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"4."}),"Payments and Refunds"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed space-y-3",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-white",children:"Pricing:"})," All prices are listed on our website and are subject to change."]}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-white",children:"Refunds:"})," Refund policies are outlined in our Refund Policy."]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"5."}),"User Conduct"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[s.jsx("p",{className:"mb-3",children:"Users agree not to:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"Violate any laws or regulations."}),s.jsx("li",{children:"Infringe upon the rights of others."}),s.jsx("li",{children:"Post harmful or offensive content."})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"6."}),"Intellectual Property"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"All content on this site is the property of GreenScape Lux and is protected by intellectual property laws."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"7."}),"Disclaimers and Limitation of Liability"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:'Services are provided "as is" without warranties of any kind. GreenScape Lux is not liable for any damages arising from the use of our services.'})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"8."}),"Termination"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"We reserve the right to terminate or suspend access to our services at our discretion, without prior notice."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"9."}),"Changes to Terms"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"We may modify these Terms of Service at any time. Continued use of our services constitutes acceptance of the new terms."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"10."}),"Contact Information"]}),s.jsxs("p",{className:"text-gray-300 leading-relaxed",children:["For any questions regarding these Terms, please contact us at"," ",s.jsx("a",{href:"mailto:contact@greenscapelux.com",className:"text-green-400 hover:text-green-300 underline",children:"contact@greenscapelux.com"})]})]})]})]})})}),S7=()=>s.jsx(Tf,{children:s.jsx("div",{className:"py-12 px-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl font-bold text-green-400 mb-4",children:"Privacy Policy"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Effective Date: January 1, 2024"})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"1."}),"Information We Collect"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-white mb-2",children:"Personal Information:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[s.jsx("li",{children:"Full name"}),s.jsx("li",{children:"Email address"}),s.jsx("li",{children:"Phone number"}),s.jsx("li",{children:"Property address"}),s.jsx("li",{children:"Any details submitted through forms or service requests"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-white mb-2",children:"Technical Information:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[s.jsx("li",{children:"Browser type and version"}),s.jsx("li",{children:"Device and operating system"}),s.jsx("li",{children:"IP address"}),s.jsx("li",{children:"Pages visited and time spent on site"})]})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"2."}),"How We Use Your Information"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[s.jsx("p",{className:"mb-3",children:"We use your information to:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"Respond to service inquiries and process quotes"}),s.jsx("li",{children:"Schedule and confirm landscaping appointments"}),s.jsx("li",{children:"Communicate updates or promotions"}),s.jsx("li",{children:"Improve our website performance and content"}),s.jsx("li",{children:"Comply with legal obligations"})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"3."}),"Sharing Your Information"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[s.jsx("p",{className:"mb-3",children:"We do not sell your information. We may share it with:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"Verified GreenScape Lux landscapers or subcontractors"}),s.jsx("li",{children:"Website and communication service providers"}),s.jsx("li",{children:"Legal authorities if required by law"})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"4."}),"Cookies and Tracking"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"We use cookies to improve user experience and track site usage. You can disable cookies in your browser settings."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"5."}),"How We Protect Your Information"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4 text-gray-300",children:[s.jsx("li",{children:"Data is encrypted in transit"}),s.jsx("li",{children:"Access is restricted to authorized team members"}),s.jsx("li",{children:"Secure platforms are used for storage"})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"6."}),"Your Rights"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[s.jsx("p",{className:"mb-3",children:"You may:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"Request access to your data"}),s.jsx("li",{children:"Update or delete your information"}),s.jsx("li",{children:"Unsubscribe from emails"}),s.jsxs("li",{children:["Contact us at"," ",s.jsx("a",{href:"mailto:privacy@greenscapelux.com",className:"text-green-400 hover:text-green-300 underline",children:"privacy@greenscapelux.com"})," ","for requests"]})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"7."}),"Policy Updates"]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"We may update this policy. The new version will be posted with a revised effective date."})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-green-400 mb-4",children:[s.jsx("span",{className:"text-green-400 mr-2",children:"8."}),"Contact Us"]}),s.jsxs("div",{className:"text-gray-300 leading-relaxed space-y-2",children:[s.jsxs("p",{children:["📧"," ",s.jsx("a",{href:"mailto:privacy@greenscapelux.com",className:"text-green-400 hover:text-green-300 underline",children:"privacy@greenscapelux.com"})]}),s.jsx("p",{children:"📍 GreenScape Lux – Charlotte, NC"})]})]})]})]})})});function N7({children:e}){return s.jsx("div",{className:"bg-black text-white min-h-screen",children:s.jsx("main",{className:"px-4 py-8 sm:px-6 lg:px-8",children:e})})}function h1(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function m1(e){const[t,r]=b.useState(void 0);return Lt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Ug="Checkbox",[_7]=Rn(Ug),[E7,p1]=_7(Ug);function P7(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=xi({prop:r,defaultProp:a??!1,onChange:c,caller:Ug}),[g,p]=b.useState(null),[v,x]=b.useState(null),y=b.useRef(!1),w=g?!!o||!!g.closest("form"):!0,N={checked:h,disabled:i,setChecked:m,control:g,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:di(a)?!1:a,isFormControl:w,bubbleInput:v,setBubbleInput:x};return s.jsx(E7,{scope:t,...N,children:k7(f)?f(N):n})}var bR="CheckboxTrigger",wR=b.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:g}=p1(bR,e),p=De(a,d),v=b.useRef(c);return b.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const y=()=>f(v.current);return x.addEventListener("reset",y),()=>x.removeEventListener("reset",y)}},[i,f]),s.jsx(ye.button,{type:"button",role:"checkbox","aria-checked":di(c)?"mixed":c,"aria-required":u,"data-state":ER(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:be(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:be(r,x=>{f(y=>di(y)?!0:!y),g&&m&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});wR.displayName=bR;var g1=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(P7,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(wR,{...f,ref:t,__scopeCheckbox:r}),h&&s.jsx(_R,{__scopeCheckbox:r})]})})});g1.displayName=Ug;var jR="CheckboxIndicator",SR=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=p1(jR,r);return s.jsx(In,{present:n||di(i.checked)||i.checked===!0,children:s.jsx(ye.span,{"data-state":ER(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});SR.displayName=jR;var NR="CheckboxBubbleInput",_R=b.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=p1(NR,e),g=De(r,m),p=h1(i),v=m1(n);b.useEffect(()=>{const y=h;if(!y)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,j=!a.current;if(p!==i&&S){const _=new Event("click",{bubbles:j});y.indeterminate=di(i),S.call(y,di(i)?!1:i),y.dispatchEvent(_)}},[h,p,i,a]);const x=b.useRef(di(i)?!1:i);return s.jsx(ye.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_R.displayName=NR;function k7(e){return typeof e=="function"}function di(e){return e==="indeterminate"}function ER(e){return di(e)?"indeterminate":e?"checked":"unchecked"}const Dd=b.forwardRef(({className:e,...t},r)=>s.jsx(g1,{ref:r,className:fe("peer h-4 w-4 shrink-0 rounded-sm border border-primary/60 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground transition-colors duration-200",e),...t,children:s.jsx(SR,{className:fe("flex items-center justify-center text-current"),children:s.jsx(qo,{className:"h-3.5 w-3.5 transition-transform duration-200"})})}));Dd.displayName=g1.displayName;var C7="Label",PR=b.forwardRef((e,t)=>s.jsx(ye.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));PR.displayName=C7;var kR=PR;const A7=Og("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",{variants:{variant:{default:"text-foreground",muted:"text-muted-foreground",accent:"text-primary"},size:{default:"text-sm",xs:"text-xs",sm:"text-sm",lg:"text-base"}},defaultVariants:{variant:"default",size:"default"}}),ue=b.forwardRef(({className:e,variant:t,size:r,...n},a)=>s.jsx(kR,{ref:a,className:fe(A7({variant:t,size:r}),e),...n}));ue.displayName=kR.displayName;const de=b.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:fe("flex h-11 sm:h-12 w-full rounded-full border border-border/60 bg-background px-3 sm:px-4 py-2.5 sm:py-3 text-base sm:text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200 touch-manipulation",e),ref:n,...r}));de.displayName="Input";const O7={"CORE LANDSCAPING SERVICES":["Lawn Mowing","Lawn Care and Maintenance","Hedge and Shrub Trimming","Edging and Borders","Mulch Installation","Rock Installation","Sod Installation","Seasonal Cleanups (Fall/Spring)","Hardscaping and Custom Features","Flower Bed Installation and Design","Weed Control"],"WINTER SERVICES":["Snow Removal","Salting / De-icing","Winter Yard Prep"],"ADD-ON / PARTNERED SERVICES":["Pressure Washing","Gutter Cleaning","Pest Control (via partners)","Leaf Removal","Yard Waste Disposal"],"PREMIUM SERVICES":["Full Landscape Renovation","Weekly or Biweekly Recurring Maintenance","Property Flip Cleanups (Real Estate Ready)","Airbnb / Rental Property Lawn Services","HOA or Multi-Property Contracts"]};function CR({selectedServices:e,otherService:t,onServiceChange:r,onOtherServiceChange:n}){return s.jsxs("div",{className:"space-y-6",children:[Object.entries(O7).map(([a,i])=>s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-green-400 font-bold text-sm uppercase tracking-wide",children:a}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 pl-2",children:i.map(o=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dd,{id:o,checked:e.includes(o),onCheckedChange:l=>r(o,l),className:"border-green-500 data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),s.jsx(ue,{htmlFor:o,className:"text-sm text-gray-300 hover:text-green-400 cursor-pointer transition-colors",children:o})]},o))})]},a)),s.jsxs("div",{className:"space-y-3 pt-2 border-t border-gray-700",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dd,{id:"other",checked:t.length>0,onCheckedChange:a=>{a||n("")},className:"border-green-500 data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),s.jsx(ue,{htmlFor:"other",className:"text-sm text-gray-300 font-semibold",children:"Other"})]}),t.length>0&&s.jsx(de,{placeholder:"Please specify...",value:t,onChange:a=>n(a.target.value),className:"bg-gray-900 border-green-500 text-white text-sm ml-6"})]})]})}function v1({variant:e="primary",size:t="md",label:r,description:n,className:a,onClick:i,disabled:o,loading:l=!1,type:c="button",icon:u,...d}){const f=()=>{switch(e){case"primary":return"bg-emerald-600 hover:bg-emerald-700 text-white border-emerald-600 glow-emerald hover:glow-emerald-strong focus-visible:ring-2 focus-visible:ring-emerald-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black";case"secondary":return"bg-gray-700 hover:bg-gray-600 text-white border-gray-700 focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black";case"outline":return"border-emerald-500/25 text-emerald-300 hover:bg-emerald-500/20 bg-transparent focus-visible:ring-2 focus-visible:ring-emerald-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black";case"ghost":return"text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10 bg-transparent border-transparent focus-visible:ring-2 focus-visible:ring-emerald-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black";case"danger":return"bg-red-600 hover:bg-red-700 text-white border-red-600 focus-visible:ring-2 focus-visible:ring-red-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black";default:return"bg-emerald-600 hover:bg-emerald-700 text-white border-emerald-600 glow-emerald hover:glow-emerald-strong focus-visible:ring-2 focus-visible:ring-emerald-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black"}},h=()=>{switch(t){case"sm":return"px-3 py-1.5 text-sm h-8";case"lg":return"px-6 py-3 text-lg h-12";default:return"px-4 py-2 text-base h-10"}},m=o||l;return s.jsxs(L,{type:c,onClick:i,disabled:m,"aria-label":r,className:fe("font-medium rounded-lg transition-all duration-200 flex items-center gap-2 focus-visible:outline-none","whitespace-nowrap truncate leading-tight",f(),h(),m&&"opacity-50 cursor-not-allowed transform-none shadow-none",l&&"pointer-events-none",a),...d,children:[l?s.jsx(Pn,{className:"h-4 w-4 animate-spin"}):u&&u,s.jsx("span",{className:"whitespace-nowrap truncate leading-tight",children:r})]})}const ka=b.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 transition-colors resize-none",e),ref:r,...t}));ka.displayName="Textarea";async function AR(){try{const{data:{user:e}}=await R.auth.getUser();if(!e)return{hasClient:!1,hasPro:!1,role:null,loading:!1};const{data:t,error:r}=await R.from("users").select("id,email,role").eq("email",e.email).single();if(r)return console.error("❌ Database error fetching role in useRole:",r),console.error("Error code:",r.code),console.error("Error message:",r.message),{hasClient:!1,hasPro:!1,role:null,loading:!0};if(!t)return console.warn("⚠️ No user data found in users table for authenticated user"),{hasClient:!1,hasPro:!1,role:null,loading:!0};let n=t.role;return e.email==="admin.1@greenscapelux.com"&&(console.log("🔐 USE_ROLE ADMIN OVERRIDE: Forcing admin role for admin.1@greenscapelux.com"),n="admin"),{hasClient:n==="client",hasPro:n==="landscaper",role:n,loading:!1}}catch(e){return console.error("❌ Exception in getUserRoles:",e),{hasClient:!1,hasPro:!1,role:null,loading:!0}}}const mE={"/get-quote":"/","/get-a-quote":"/","/instant-quote":"/","/thank-you":"/get-quote","/login":"/","/signup":"/","/client-login":"/","/client-signup":"/","/landscaper-login":"/","/landscaper-signup":"/","/pro-login":"/","/pro-signup":"/","/get-started":"/","/forgot-password":"/client-login","/reset-password":"/client-login","/client/dashboard":"/","/client/profile":"/client/dashboard","/landscaper/dashboard":"/","/landscaper-dashboard":"/","/landscaper/profile":"/landscaper/dashboard","/landscaper-profile":"/landscaper-dashboard","/landscaper/jobs":"/landscaper/dashboard","/landscaper-jobs":"/landscaper-dashboard","/admin":"/","/admin/profile":"/admin","/admin/notifications":"/admin","/about":"/","/professionals":"/","/privacy":"/","/terms":"/","/search":"/"},OR=async(e,t)=>{const{role:r,loading:n}=await AR();if(n){const o=mE[t]||"/";e(o);return}const a=T7(r||void 0);if(t.includes("/profile")||t.includes("/jobs")||t.includes("/earnings")||t.includes("/chat")||t.includes("/notifications")){e(a);return}if(t===a){e("/");return}const i=mE[t]||a;e(i)},T7=e=>{switch(e){case"admin":return"/admin-dashboard";case"landscaper":return"/landscaper-dashboard";case"client":return"/client-dashboard";default:return"/"}},R7=({showBack:e=!0,showHome:t=!0,showClose:r=!1,customBackPath:n,onClose:a,className:i=""})=>{const o=$e(),l=Ft(),c=async()=>{if(n){o(n);return}await OR(o,l.pathname)},u=()=>{o("/")},d=()=>{a?a():o("/")};return l.pathname==="/"?null:s.jsxs("div",{className:`flex items-center space-x-2 ${i}`,children:[e&&s.jsxs(L,{variant:"ghost",onClick:c,className:"text-white/80 hover:text-white hover:bg-white/10 transition-colors",children:[s.jsx(ls,{className:"w-4 h-4 mr-1"}),"Back"]}),t&&s.jsxs(L,{variant:"ghost",size:"sm",onClick:u,className:"text-white/80 hover:text-white hover:bg-white/10 transition-colors",children:[s.jsx(oa,{className:"w-4 h-4 mr-1"}),"Home"]}),r&&s.jsxs(L,{variant:"ghost",size:"sm",onClick:d,className:"text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:[s.jsx(ps,{className:"w-4 h-4 mr-1"}),"Close"]})]})},I7=({items:e,className:t=""})=>{const r=Ft(),a=e||(()=>{const i=r.pathname.split("/").filter(Boolean),o=[{label:"Home",path:"/"}];let l="";return i.forEach((c,u)=>{l+=`/${c}`;const d=u===i.length-1,f=c.split("-").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" ");o.push({label:f,path:l,isActive:d})}),o})();return a.length<=1?null:s.jsx("nav",{className:`flex items-center space-x-1 text-sm ${t}`,"aria-label":"Breadcrumb",children:a.map((i,o)=>s.jsxs("div",{className:"flex items-center",children:[o>0&&s.jsx(p4,{className:"w-4 h-4 text-gray-400 mx-1"}),i.isActive?s.jsx("span",{className:"text-gray-900 font-medium",children:i.label}):s.jsx(jn,{to:i.path,className:"text-gray-500 hover:text-gray-700 transition-colors",children:o===0?s.jsx(oa,{className:"w-4 h-4"}):i.label})]},i.path))})},xh=(e,t)=>t.required&&!e.trim()?t.message||"This field is required":t.pattern&&e&&!t.pattern.test(e)?t.message||"Invalid format":null,$7={required:!0,message:"Please enter your full name"},M7={required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email address"},D7={pattern:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,message:"Please enter a valid phone number"},L7={required:!0,message:"Please enter your property address"},yh=({error:e})=>s.jsx("div",{className:"text-red-400 text-sm mt-1",children:e});function F7(){const e=$e(),[t,r]=b.useState({name:"",email:"",phone:"",propertyAddress:"",selectedServices:[],otherService:"",date:"",comments:""}),[n,a]=b.useState(!1),[i,o]=b.useState({}),[l,c]=b.useState({});b.useEffect(()=>{X0("form_start","quote_form","get_quote_page")},[]);const u=()=>{const m={},g=xh(t.name,$7);g&&(m.name=g);const p=xh(t.email,M7);if(p&&(m.email=p),t.phone){const x=xh(t.phone,D7);x&&(m.phone=x)}const v=xh(t.propertyAddress,L7);return v&&(m.propertyAddress=v),t.selectedServices.length===0&&!t.otherService&&(m.services="Please select at least one service"),o(m),Object.keys(m).length===0},d=(m,g)=>{if(r(p=>({...p,[m]:g})),c(p=>({...p,[m]:!0})),l[m]){const p={...i};delete p[m],o(p)}},f=(m,g)=>{const p=g?[...t.selectedServices,m]:t.selectedServices.filter(v=>v!==m);if(r(v=>({...v,selectedServices:p})),c(v=>({...v,services:!0})),X0(g?"service_selected":"service_deselected","quote_form",m),p.length>0||t.otherService){const v={...i};delete v.services,o(v)}},h=async m=>{if(m.preventDefault(),n){console.log("⚠️ Submission already in progress, ignoring...");return}if(c(["name","email","phone","propertyAddress","services"].reduce((p,v)=>({...p,[v]:!0}),{})),!u()){console.log("❌ Form validation failed");return}console.log("🚀 Starting quote submission..."),a(!0);try{const p=[...t.selectedServices];t.otherService&&p.push(t.otherService),console.log("📝 Submitting quote to database...",{name:t.name,email:t.email,services:p});const{data:v,error:x}=await R.from("quote_requests").insert({name:t.name,email:t.email,phone:t.phone||null,property_address:t.propertyAddress,services:p,preferred_date:t.date||null,comments:t.comments||null,status:"pending"}).select().single();if(x)throw console.error("❌ Database error:",x),new Error(`Failed to save quote: ${x.message}`);console.log("✅ Quote saved to database:",v.id),console.log("📧 Preparing to send email notification via unified-email...");const y="https://mwvcbedvnimabfwubazz.supabase.co",w=void 0,N={type:"quote_confirmation",to:t.email,data:{name:t.name,email:t.email,phone:t.phone||"",propertyAddress:t.propertyAddress,services:p,date:t.date||"",comments:t.comments||""}};console.log("📨 Sending unified-email payload:",{type:"quote_confirmation",to:t.email,hasData:!!t}),console.log("📤 Full email payload:",JSON.stringify(N,null,2)),fetch(`${y}/functions/v1/unified-email`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`,apikey:w},body:JSON.stringify(N)}).then(async S=>{console.log("📬 Email response received:",{status:S.status,statusText:S.statusText,ok:S.ok});const j=await S.json();console.log("📧 Email response data:",j),S.ok&&j.success?console.log("✅ Email sent successfully via unified-email"):console.error("⚠️ Email failed (quote still saved):",{status:S.status,data:j})}).catch(S=>{console.error("❌ Email request failed (quote still saved):",{message:S.message,stack:S.stack})}),Az(p),console.log("✅ Analytics tracked"),r({name:"",email:"",phone:"",propertyAddress:"",selectedServices:[],otherService:"",date:"",comments:""}),console.log("✅ Form cleared, navigating to thank you page..."),e("/thank-you")}catch(p){console.error("❌ Quote submission error:",p),o({submit:p.message||"Failed to submit quote request. Please try again."})}finally{console.log("🔄 Resetting loading state"),a(!1)}};return s.jsxs(N7,{children:[s.jsx(On,{}),s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[s.jsxs("div",{className:"w-full max-w-4xl mb-8",children:[s.jsx(R7,{}),s.jsx(I7,{items:[{label:"Home",path:"/"},{label:"Get Quote",path:"/get-quote",isActive:!0}],className:"mt-2"})]}),s.jsx("div",{className:"mb-8",children:s.jsx(l1,{size:"large"})}),s.jsxs(I,{className:"w-full max-w-4xl bg-black/95 border-2 border-green-500 shadow-2xl shadow-green-500/30 backdrop-blur-sm",children:[s.jsxs(z,{className:"text-center",children:[s.jsx(W,{className:"text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-green-600 mb-2",children:"Instant Landscaping Quote"}),s.jsx("p",{className:"text-gray-300 text-lg",children:"Tell us about your property — we'll provide a detailed quote within 24 hours."})]}),s.jsxs(D,{children:[i.submit&&s.jsx("div",{className:"mb-6 p-4 bg-red-900/30 border-2 border-red-500 rounded-lg text-red-300 shadow-lg shadow-red-500/20",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-3"}),i.submit]})}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"name",className:"text-green-400 font-semibold",children:"Full Name *"}),s.jsx(de,{id:"name",type:"text",value:t.name,onChange:m=>d("name",m.target.value),className:`bg-gray-900/80 text-white ${i.name?"border-red-500":"border-green-500"}`,placeholder:"Enter your full name"}),i.name&&s.jsx("div",{className:"text-red-400 text-sm mt-1",children:i.name})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"email",className:"text-green-400 font-semibold",children:"Email Address *"}),s.jsx(de,{id:"email",type:"email",value:t.email,onChange:m=>d("email",m.target.value),className:`bg-gray-900/80 text-white ${i.email?"border-red-500":"border-green-500"}`,placeholder:"you@example.com"}),i.email&&s.jsx(yh,{error:i.email})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"phone",className:"text-green-400 font-semibold",children:"Phone Number"}),s.jsx(de,{id:"phone",type:"tel",value:t.phone,onChange:m=>d("phone",m.target.value),className:`bg-gray-900/80 text-white ${i.phone?"border-red-500":"border-green-500"}`,placeholder:"(123) 456-7890"}),i.phone&&s.jsx(yh,{error:i.phone})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"date",className:"text-green-400 font-semibold",children:"Preferred Start Date"}),s.jsx(de,{id:"date",type:"date",value:t.date,onChange:m=>d("date",m.target.value),className:"bg-gray-900/80 border-green-500 text-white",min:new Date().toISOString().split("T")[0]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"propertyAddress",className:"text-green-400 font-semibold",children:"Property Address *"}),s.jsx(de,{id:"propertyAddress",type:"text",value:t.propertyAddress,onChange:m=>d("propertyAddress",m.target.value),className:`bg-gray-900/80 text-white ${i.propertyAddress?"border-red-500":"border-green-500"}`,placeholder:"123 Main Street, City, State, ZIP"}),i.propertyAddress&&s.jsx(yh,{error:i.propertyAddress})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-green-400 font-semibold mb-4 block text-lg",children:"Services Needed *"}),s.jsx("div",{className:`bg-gray-900/50 rounded-lg p-6 ${i.services?"border border-red-500":"border border-green-500/50"}`,children:s.jsx(CR,{selectedServices:t.selectedServices,otherService:t.otherService,onServiceChange:f,onOtherServiceChange:m=>d("otherService",m)})}),i.services&&s.jsx(yh,{error:i.services})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"comments",className:"text-green-400 font-semibold",children:"Project Details & Special Requests"}),s.jsx(ka,{id:"comments",value:t.comments,onChange:m=>d("comments",m.target.value),className:"bg-gray-900/80 border-green-500 text-white min-h-[120px]",placeholder:"Tell us about your vision, property size, timeline, budget range, or any special requirements..."})]}),s.jsx(v1,{type:"submit",disabled:n,label:n?"Submitting Quote Request...":"Get a Quote",className:"w-full bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-500 hover:to-emerald-600 text-white font-bold py-4 px-8 rounded-lg shadow-lg shadow-emerald-500/30 hover:shadow-emerald-500/50 transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed text-lg border border-emerald-400/20 hover:border-emerald-400/40",loading:n}),s.jsx("p",{className:"text-center text-gray-400 text-sm",children:"* Required fields. We'll respond within 24 hours with your personalized quote."})]})]})]})]})]})}function B7(){const{user:e}=_t(),[t,r]=b.useState(8),[n,a]=b.useState(!1),i=$e();b.useEffect(()=>{if(e){a(!0);const l=setInterval(()=>{r(u=>u<=1?(clearInterval(l),i("/client-dashboard"),0):u-1)},1e3),c=setTimeout(()=>{a(!1)},6e3);return()=>{clearInterval(l),clearTimeout(c)}}},[e,i]);const o=!!e;return s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:s.jsx("div",{className:"max-w-2xl w-full",children:s.jsx("div",{className:"bg-black/90 backdrop-blur-sm rounded-2xl border border-green-500/20 p-8 md:p-12 shadow-2xl shadow-green-500/10",children:s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-green-400 mb-6 animate-pulse",children:"Thank You!"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-white text-lg md:text-xl leading-relaxed",children:"Your quote request has been received."}),s.jsx("p",{className:"text-gray-300 text-base md:text-lg",children:"We'll follow up with your personalized estimate shortly."})]}),o&&n&&s.jsx("div",{className:`transition-opacity duration-1000 ${n?"opacity-100":"opacity-0"}`,children:s.jsxs("p",{className:"text-green-300 text-sm",children:["Redirecting to your dashboard in ",t," seconds..."]})}),s.jsxs("div",{className:"pt-8 space-y-4",children:[o&&s.jsx("div",{className:"animate-fade-in",children:s.jsx(jn,{to:"/client-dashboard",children:s.jsx(L,{className:"w-full sm:w-auto bg-gradient-to-r from-green-500 to-green-600 hover:from-green-400 hover:to-green-500 text-white px-8 py-3 rounded-xl text-lg font-semibold transition-all duration-300 shadow-lg shadow-green-500/40 hover:shadow-green-400/60 hover:scale-105 border border-green-400/30 hover:border-green-300/50 glow-green mb-4",children:"Back to Dashboard"})})}),s.jsx("div",{className:"animate-fade-in-delayed",children:s.jsx(jn,{to:"/",children:s.jsx(L,{className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg text-lg font-semibold transition-all duration-300 shadow-lg shadow-green-500/25 hover:shadow-green-500/40 hover:scale-105",children:"Return to Home"})})})]})]})})})})}const U7=()=>{const e=Ft();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsxs("div",{className:"min-h-screen bg-black text-white",children:[s.jsx(u1,{}),s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:s.jsxs("div",{className:"text-center max-w-lg mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-8xl font-bold text-emerald-400 mb-4 drop-shadow-[0_0_20px_rgba(34,197,94,0.6)]",children:"404"}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Page Not Found"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"The page you're looking for doesn't exist or has been moved."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(L,{onClick:()=>navigate("/"),variant:"outline",className:"border-emerald-500 text-emerald-400 hover:bg-emerald-500/10 px-6 py-3",children:[s.jsx(ls,{className:"w-4 h-4 mr-2"}),"Go Back"]}),s.jsx(jn,{to:"/",children:s.jsxs(L,{className:"bg-emerald-500 hover:bg-emerald-600 text-black px-6 py-3",children:[s.jsx(oa,{className:"w-4 h-4 mr-2"}),"Return Home"]})})]})]})}),s.jsx(d1,{})]})};function Z0(e,[t,r]){return Math.min(r,Math.max(t,e))}function V7(e,t=globalThis==null?void 0:globalThis.document){const r=yr(e);b.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var z7="DismissableLayer",eb="dismissableLayer.update",W7="dismissableLayer.pointerDownOutside",q7="dismissableLayer.focusOutside",pE,TR=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vg=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=b.useContext(TR),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),g=De(t,_=>f(_)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(v),y=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,N=y>=x,S=G7(_=>{const E=_.target,P=[...u.branches].some(C=>C.contains(E));!N||P||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},h),j=Y7(_=>{const E=_.target;[...u.branches].some(C=>C.contains(E))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},h);return V7(_=>{y===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(pE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),gE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=pE)}},[d,h,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),gE())},[d,u]),b.useEffect(()=>{const _=()=>m({});return document.addEventListener(eb,_),()=>document.removeEventListener(eb,_)},[]),s.jsx(ye.div,{...c,ref:g,style:{pointerEvents:w?N?"auto":"none":void 0,...e.style},onFocusCapture:be(e.onFocusCapture,j.onFocusCapture),onBlurCapture:be(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:be(e.onPointerDownCapture,S.onPointerDownCapture)})});Vg.displayName=z7;var H7="DismissableLayerBranch",K7=b.forwardRef((e,t)=>{const r=b.useContext(TR),n=b.useRef(null),a=De(t,n);return b.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(ye.div,{...e,ref:a})});K7.displayName=H7;function G7(e,t=globalThis==null?void 0:globalThis.document){const r=yr(e),n=b.useRef(!1),a=b.useRef(()=>{});return b.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){RR(W7,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Y7(e,t=globalThis==null?void 0:globalThis.document){const r=yr(e),n=b.useRef(!1);return b.useEffect(()=>{const a=i=>{i.target&&!n.current&&RR(q7,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function gE(){const e=new CustomEvent(eb);document.dispatchEvent(e)}function RR(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Kz(a,i):a.dispatchEvent(i)}var Vx=0;function x1(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vE()),document.body.insertAdjacentElement("beforeend",e[1]??vE()),Vx++,()=>{Vx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Vx--}},[])}function vE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zx="focusScope.autoFocusOnMount",Wx="focusScope.autoFocusOnUnmount",xE={bubbles:!1,cancelable:!0},J7="FocusScope",zg=b.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=b.useState(null),u=yr(a),d=yr(i),f=b.useRef(null),h=De(t,p=>c(p)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const N=w.target;l.contains(N)?f.current=N:Va(f.current,{select:!0})},v=function(w){if(m.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||Va(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Va(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),y.disconnect()}}},[n,l,m.paused]),b.useEffect(()=>{if(l){bE.add(m);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(zx,xE);l.addEventListener(zx,u),l.dispatchEvent(x),x.defaultPrevented||(X7(rW(IR(l)),{select:!0}),document.activeElement===p&&Va(l))}return()=>{l.removeEventListener(zx,u),setTimeout(()=>{const x=new CustomEvent(Wx,xE);l.addEventListener(Wx,d),l.dispatchEvent(x),x.defaultPrevented||Va(p??document.body,{select:!0}),l.removeEventListener(Wx,d),bE.remove(m)},0)}}},[l,u,d,m]);const g=b.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(v&&x){const y=p.currentTarget,[w,N]=Q7(y);w&&N?!p.shiftKey&&x===N?(p.preventDefault(),r&&Va(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&Va(N,{select:!0})):x===y&&p.preventDefault()}},[r,n,m.paused]);return s.jsx(ye.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});zg.displayName=J7;function X7(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Va(n,{select:t}),document.activeElement!==r)return}function Q7(e){const t=IR(e),r=yE(t,e),n=yE(t.reverse(),e);return[r,n]}function IR(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function yE(e,t){for(const r of e)if(!Z7(r,{upTo:t}))return r}function Z7(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function eW(e){return e instanceof HTMLInputElement&&"select"in e}function Va(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&eW(e)&&t&&e.select()}}var bE=tW();function tW(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=wE(e,t),e.unshift(t)},remove(t){var r;e=wE(e,t),(r=e[0])==null||r.resume()}}}function wE(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function rW(e){return e.filter(t=>t.tagName!=="A")}const nW=["top","right","bottom","left"],yi=Math.min,Zr=Math.max,Qm=Math.round,bh=Math.floor,Ms=e=>({x:e,y:e}),sW={left:"right",right:"left",bottom:"top",top:"bottom"},aW={start:"end",end:"start"};function tb(e,t,r){return Zr(e,yi(t,r))}function wa(e,t){return typeof e=="function"?e(t):e}function ja(e){return e.split("-")[0]}function Xc(e){return e.split("-")[1]}function y1(e){return e==="x"?"y":"x"}function b1(e){return e==="y"?"height":"width"}const iW=new Set(["top","bottom"]);function Cs(e){return iW.has(ja(e))?"y":"x"}function w1(e){return y1(Cs(e))}function oW(e,t,r){r===void 0&&(r=!1);const n=Xc(e),a=w1(e),i=b1(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Zm(o)),[o,Zm(o)]}function lW(e){const t=Zm(e);return[rb(e),t,rb(t)]}function rb(e){return e.replace(/start|end/g,t=>aW[t])}const jE=["left","right"],SE=["right","left"],cW=["top","bottom"],uW=["bottom","top"];function dW(e,t,r){switch(e){case"top":case"bottom":return r?t?SE:jE:t?jE:SE;case"left":case"right":return t?cW:uW;default:return[]}}function fW(e,t,r,n){const a=Xc(e);let i=dW(ja(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(rb)))),i}function Zm(e){return e.replace(/left|right|bottom|top/g,t=>sW[t])}function hW(e){return{top:0,right:0,bottom:0,left:0,...e}}function $R(e){return typeof e!="number"?hW(e):{top:e,right:e,bottom:e,left:e}}function ep(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function NE(e,t,r){let{reference:n,floating:a}=e;const i=Cs(t),o=w1(t),l=b1(o),c=ja(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Xc(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const mW=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=NE(u,n,c),h=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:v,fn:x}=l[p],{x:y,y:w,data:N,reset:S}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=w??f,m={...m,[v]:{...m[v],...N}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=NE(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Ld(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=wa(t,e),g=$R(m),v=l[h?f==="floating"?"reference":"floating":f],x=ep(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=ep(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(x.top-S.top+g.top)/N.y,bottom:(S.bottom-x.bottom+g.bottom)/N.y,left:(x.left-S.left+g.left)/N.x,right:(S.right-x.right+g.right)/N.x}}const pW=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=wa(e,t)||{};if(u==null)return{};const f=$R(d),h={x:r,y:n},m=w1(a),g=b1(m),p=await o.getDimensions(u),v=m==="y",x=v?"top":"left",y=v?"bottom":"right",w=v?"clientHeight":"clientWidth",N=i.reference[g]+i.reference[m]-h[m]-i.floating[g],S=h[m]-i.reference[m],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=j?j[w]:0;(!_||!await(o.isElement==null?void 0:o.isElement(j)))&&(_=l.floating[w]||i.floating[g]);const E=N/2-S/2,P=_/2-p[g]/2-1,C=yi(f[x],P),T=yi(f[y],P),O=C,F=_-p[g]-T,V=_/2-p[g]/2+E,B=tb(O,V,F),U=!c.arrow&&Xc(a)!=null&&V!==B&&i.reference[g]/2-(V<O?C:T)-p[g]/2<0,$=U?V<O?V-O:V-F:0;return{[m]:h[m]+$,data:{[m]:B,centerOffset:V-B-$,...U&&{alignmentOffset:$}},reset:U}}}),gW=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=wa(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=ja(a),y=Cs(l),w=ja(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(w||!p?[Zm(l)]:lW(l)),j=g!=="none";!h&&j&&S.push(...fW(l,p,g,N));const _=[l,...S],E=await Ld(t,v),P=[];let C=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(E[x]),f){const V=oW(a,o,N);P.push(E[V[0]],E[V[1]])}if(C=[...C,{placement:a,overflows:P}],!P.every(V=>V<=0)){var T,O;const V=(((T=i.flip)==null?void 0:T.index)||0)+1,B=_[V];if(B&&(!(f==="alignment"?y!==Cs(B):!1)||C.every(A=>Cs(A.placement)===y?A.overflows[0]>0:!0)))return{data:{index:V,overflows:C},reset:{placement:B}};let U=(O=C.filter($=>$.overflows[0]<=0).sort(($,A)=>$.overflows[1]-A.overflows[1])[0])==null?void 0:O.placement;if(!U)switch(m){case"bestFit":{var F;const $=(F=C.filter(A=>{if(j){const M=Cs(A.placement);return M===y||M==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(M=>M>0).reduce((M,q)=>M+q,0)]).sort((A,M)=>A[1]-M[1])[0])==null?void 0:F[0];$&&(U=$);break}case"initialPlacement":U=l;break}if(a!==U)return{reset:{placement:U}}}return{}}}};function _E(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function EE(e){return nW.some(t=>e[t]>=0)}const vW=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=wa(e,t);switch(n){case"referenceHidden":{const i=await Ld(t,{...a,elementContext:"reference"}),o=_E(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:EE(o)}}}case"escaped":{const i=await Ld(t,{...a,altBoundary:!0}),o=_E(i,r.floating);return{data:{escapedOffsets:o,escaped:EE(o)}}}default:return{}}}}},MR=new Set(["left","top"]);async function xW(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=ja(r),l=Xc(r),c=Cs(r)==="y",u=MR.has(o)?-1:1,d=i&&c?-1:1,f=wa(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const yW=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await xW(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},bW=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x,y}=v;return{x,y}}},...c}=wa(e,t),u={x:r,y:n},d=await Ld(t,c),f=Cs(ja(a)),h=y1(f);let m=u[h],g=u[f];if(i){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=m+d[v],w=m-d[x];m=tb(y,m,w)}if(o){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=g+d[v],w=g-d[x];g=tb(y,g,w)}const p=l.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:i,[f]:o}}}}}},wW=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=wa(e,t),d={x:r,y:n},f=Cs(a),h=y1(f);let m=d[h],g=d[f];const p=wa(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",N=i.reference[h]-i.floating[w]+v.mainAxis,S=i.reference[h]+i.reference[w]-v.mainAxis;m<N?m=N:m>S&&(m=S)}if(u){var x,y;const w=h==="y"?"width":"height",N=MR.has(ja(a)),S=i.reference[f]-i.floating[w]+(N&&((x=o.offset)==null?void 0:x[f])||0)+(N?0:v.crossAxis),j=i.reference[f]+i.reference[w]+(N?0:((y=o.offset)==null?void 0:y[f])||0)-(N?v.crossAxis:0);g<S?g=S:g>j&&(g=j)}return{[h]:m,[f]:g}}}},jW=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=wa(e,t),d=await Ld(t,u),f=ja(a),h=Xc(a),m=Cs(a)==="y",{width:g,height:p}=i.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const y=p-d.top-d.bottom,w=g-d.left-d.right,N=yi(p-d[v],y),S=yi(g-d[x],w),j=!t.middlewareData.shift;let _=N,E=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=y),j&&!h){const C=Zr(d.left,0),T=Zr(d.right,0),O=Zr(d.top,0),F=Zr(d.bottom,0);m?E=g-2*(C!==0||T!==0?C+T:Zr(d.left,d.right)):_=p-2*(O!==0||F!==0?O+F:Zr(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:_});const P=await o.getDimensions(l.floating);return g!==P.width||p!==P.height?{reset:{rects:!0}}:{}}}};function Wg(){return typeof window<"u"}function Qc(e){return DR(e)?(e.nodeName||"").toLowerCase():"#document"}function sn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Hs(e){var t;return(t=(DR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function DR(e){return Wg()?e instanceof Node||e instanceof sn(e).Node:!1}function us(e){return Wg()?e instanceof Element||e instanceof sn(e).Element:!1}function Us(e){return Wg()?e instanceof HTMLElement||e instanceof sn(e).HTMLElement:!1}function PE(e){return!Wg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sn(e).ShadowRoot}const SW=new Set(["inline","contents"]);function If(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ds(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!SW.has(a)}const NW=new Set(["table","td","th"]);function _W(e){return NW.has(Qc(e))}const EW=[":popover-open",":modal"];function qg(e){return EW.some(t=>{try{return e.matches(t)}catch{return!1}})}const PW=["transform","translate","scale","rotate","perspective"],kW=["transform","translate","scale","rotate","perspective","filter"],CW=["paint","layout","strict","content"];function j1(e){const t=S1(),r=us(e)?ds(e):e;return PW.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||kW.some(n=>(r.willChange||"").includes(n))||CW.some(n=>(r.contain||"").includes(n))}function AW(e){let t=bi(e);for(;Us(t)&&!oc(t);){if(j1(t))return t;if(qg(t))return null;t=bi(t)}return null}function S1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const OW=new Set(["html","body","#document"]);function oc(e){return OW.has(Qc(e))}function ds(e){return sn(e).getComputedStyle(e)}function Hg(e){return us(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function bi(e){if(Qc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||PE(e)&&e.host||Hs(e);return PE(t)?t.host:t}function LR(e){const t=bi(e);return oc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Us(t)&&If(t)?t:LR(t)}function Fd(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=LR(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=sn(a);if(i){const l=nb(o);return t.concat(o,o.visualViewport||[],If(a)?a:[],l&&r?Fd(l):[])}return t.concat(a,Fd(a,[],r))}function nb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function FR(e){const t=ds(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Us(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Qm(r)!==i||Qm(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function N1(e){return us(e)?e:e.contextElement}function Kl(e){const t=N1(e);if(!Us(t))return Ms(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=FR(t);let o=(i?Qm(r.width):r.width)/n,l=(i?Qm(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const TW=Ms(0);function BR(e){const t=sn(e);return!S1()||!t.visualViewport?TW:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function RW(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==sn(e)?!1:t}function Ao(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=N1(e);let o=Ms(1);t&&(n?us(n)&&(o=Kl(n)):o=Kl(e));const l=RW(i,r,n)?BR(i):Ms(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=sn(i),m=n&&us(n)?sn(n):n;let g=h,p=nb(g);for(;p&&n&&m!==g;){const v=Kl(p),x=p.getBoundingClientRect(),y=ds(p),w=x.left+(p.clientLeft+parseFloat(y.paddingLeft))*v.x,N=x.top+(p.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=N,g=sn(p),p=nb(g)}}return ep({width:d,height:f,x:c,y:u})}function Kg(e,t){const r=Hg(e).scrollLeft;return t?t.left+r:Ao(Hs(e)).left+r}function UR(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Kg(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function IW(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Hs(n),l=t?qg(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ms(1);const d=Ms(0),f=Us(n);if((f||!f&&!i)&&((Qc(n)!=="body"||If(o))&&(c=Hg(n)),Us(n))){const m=Ao(n);u=Kl(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?UR(o,c):Ms(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function $W(e){return Array.from(e.getClientRects())}function MW(e){const t=Hs(e),r=Hg(e),n=e.ownerDocument.body,a=Zr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Zr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Kg(e);const l=-r.scrollTop;return ds(n).direction==="rtl"&&(o+=Zr(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const kE=25;function DW(e,t){const r=sn(e),n=Hs(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=S1();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=Kg(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-m);g<=kE&&(i-=g)}else u<=kE&&(i+=u);return{width:i,height:o,x:l,y:c}}const LW=new Set(["absolute","fixed"]);function FW(e,t){const r=Ao(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Us(e)?Kl(e):Ms(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function CE(e,t,r){let n;if(t==="viewport")n=DW(e,r);else if(t==="document")n=MW(Hs(e));else if(us(t))n=FW(t,r);else{const a=BR(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ep(n)}function VR(e,t){const r=bi(e);return r===t||!us(r)||oc(r)?!1:ds(r).position==="fixed"||VR(r,t)}function BW(e,t){const r=t.get(e);if(r)return r;let n=Fd(e,[],!1).filter(l=>us(l)&&Qc(l)!=="body"),a=null;const i=ds(e).position==="fixed";let o=i?bi(e):e;for(;us(o)&&!oc(o);){const l=ds(o),c=j1(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&LW.has(a.position)||If(o)&&!c&&VR(e,o))?n=n.filter(d=>d!==o):a=l,o=bi(o)}return t.set(e,n),n}function UW(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?qg(t)?[]:BW(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=CE(t,d,a);return u.top=Zr(f.top,u.top),u.right=yi(f.right,u.right),u.bottom=yi(f.bottom,u.bottom),u.left=Zr(f.left,u.left),u},CE(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function VW(e){const{width:t,height:r}=FR(e);return{width:t,height:r}}function zW(e,t,r){const n=Us(t),a=Hs(t),i=r==="fixed",o=Ao(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ms(0);function u(){c.x=Kg(a)}if(n||!n&&!i)if((Qc(t)!=="body"||If(a))&&(l=Hg(t)),n){const m=Ao(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?UR(a,l):Ms(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function qx(e){return ds(e).position==="static"}function AE(e,t){if(!Us(e)||ds(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Hs(e)===r&&(r=r.ownerDocument.body),r}function zR(e,t){const r=sn(e);if(qg(e))return r;if(!Us(e)){let a=bi(e);for(;a&&!oc(a);){if(us(a)&&!qx(a))return a;a=bi(a)}return r}let n=AE(e,t);for(;n&&_W(n)&&qx(n);)n=AE(n,t);return n&&oc(n)&&qx(n)&&!j1(n)?r:n||AW(e)||r}const WW=async function(e){const t=this.getOffsetParent||zR,r=this.getDimensions,n=await r(e.floating);return{reference:zW(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function qW(e){return ds(e).direction==="rtl"}const HW={convertOffsetParentRelativeRectToViewportRelativeRect:IW,getDocumentElement:Hs,getClippingRect:UW,getOffsetParent:zR,getElementRects:WW,getClientRects:$W,getDimensions:VW,getScale:Kl,isElement:us,isRTL:qW};function WR(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function KW(e,t){let r=null,n;const a=Hs(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=bh(f),p=bh(a.clientWidth-(d+h)),v=bh(a.clientHeight-(f+m)),x=bh(d),w={rootMargin:-g+"px "+-p+"px "+-v+"px "+-x+"px",threshold:Zr(0,yi(1,c))||1};let N=!0;function S(j){const _=j[0].intersectionRatio;if(_!==c){if(!N)return o();_?o(!1,_):n=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!WR(u,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(S,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return o(!0),i}function GW(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=N1(e),d=a||i?[...u?Fd(u):[],...Fd(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=u&&l?KW(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?Ao(e):null;c&&v();function v(){const x=Ao(e);p&&!WR(p,x)&&r(),p=x,g=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const YW=yW,JW=bW,XW=gW,QW=jW,ZW=vW,OE=pW,eq=wW,tq=(e,t,r)=>{const n=new Map,a={platform:HW,...r},i={...a.platform,_c:n};return mW(e,t,{...a,platform:i})};var rq=typeof document<"u",nq=function(){},um=rq?b.useLayoutEffect:nq;function tp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!tp(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!tp(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function qR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function TE(e,t){const r=qR(e);return Math.round(t*r)/r}function Hx(e){const t=b.useRef(e);return um(()=>{t.current=e}),t}function sq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=b.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=b.useState(n);tp(h,n)||m(n);const[g,p]=b.useState(null),[v,x]=b.useState(null),y=b.useCallback(A=>{A!==j.current&&(j.current=A,p(A))},[]),w=b.useCallback(A=>{A!==_.current&&(_.current=A,x(A))},[]),N=i||g,S=o||v,j=b.useRef(null),_=b.useRef(null),E=b.useRef(d),P=c!=null,C=Hx(c),T=Hx(a),O=Hx(u),F=b.useCallback(()=>{if(!j.current||!_.current)return;const A={placement:t,strategy:r,middleware:h};T.current&&(A.platform=T.current),tq(j.current,_.current,A).then(M=>{const q={...M,isPositioned:O.current!==!1};V.current&&!tp(E.current,q)&&(E.current=q,zc.flushSync(()=>{f(q)}))})},[h,t,r,T,O]);um(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const V=b.useRef(!1);um(()=>(V.current=!0,()=>{V.current=!1}),[]),um(()=>{if(N&&(j.current=N),S&&(_.current=S),N&&S){if(C.current)return C.current(N,S,F);F()}},[N,S,F,C,P]);const B=b.useMemo(()=>({reference:j,floating:_,setReference:y,setFloating:w}),[y,w]),U=b.useMemo(()=>({reference:N,floating:S}),[N,S]),$=b.useMemo(()=>{const A={position:r,left:0,top:0};if(!U.floating)return A;const M=TE(U.floating,d.x),q=TE(U.floating,d.y);return l?{...A,transform:"translate("+M+"px, "+q+"px)",...qR(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:q}},[r,l,U.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:F,refs:B,elements:U,floatingStyles:$}),[d,F,B,U,$])}const aq=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?OE({element:n.current,padding:a}).fn(r):{}:n?OE({element:n,padding:a}).fn(r):{}}}},iq=(e,t)=>({...YW(e),options:[e,t]}),oq=(e,t)=>({...JW(e),options:[e,t]}),lq=(e,t)=>({...eq(e),options:[e,t]}),cq=(e,t)=>({...XW(e),options:[e,t]}),uq=(e,t)=>({...QW(e),options:[e,t]}),dq=(e,t)=>({...ZW(e),options:[e,t]}),fq=(e,t)=>({...aq(e),options:[e,t]});var hq="Arrow",HR=b.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(ye.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});HR.displayName=hq;var mq=HR,_1="Popper",[KR,Gg]=Rn(_1),[pq,GR]=KR(_1),YR=e=>{const{__scopePopper:t,children:r}=e,[n,a]=b.useState(null);return s.jsx(pq,{scope:t,anchor:n,onAnchorChange:a,children:r})};YR.displayName=_1;var JR="PopperAnchor",XR=b.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=GR(JR,r),o=b.useRef(null),l=De(t,o),c=b.useRef(null);return b.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(ye.div,{...a,ref:l})});XR.displayName=JR;var E1="PopperContent",[gq,vq]=KR(E1),QR=b.forwardRef((e,t)=>{var te,Ee,X,se,ne,H;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=GR(E1,r),[x,y]=b.useState(null),w=De(t,Re=>y(Re)),[N,S]=b.useState(null),j=m1(N),_=(j==null?void 0:j.width)??0,E=(j==null?void 0:j.height)??0,P=n+(i!=="center"?"-"+i:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],O=T.length>0,F={padding:C,boundary:T.filter(yq),altBoundary:O},{refs:V,floatingStyles:B,placement:U,isPositioned:$,middlewareData:A}=sq({strategy:"fixed",placement:P,whileElementsMounted:(...Re)=>GW(...Re,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[iq({mainAxis:a+E,alignmentAxis:o}),c&&oq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?lq():void 0,...F}),c&&cq({...F}),uq({...F,apply:({elements:Re,rects:Ne,availableWidth:Ze,availableHeight:Je})=>{const{width:Et,height:Ar}=Ne.reference,qr=Re.floating.style;qr.setProperty("--radix-popper-available-width",`${Ze}px`),qr.setProperty("--radix-popper-available-height",`${Je}px`),qr.setProperty("--radix-popper-anchor-width",`${Et}px`),qr.setProperty("--radix-popper-anchor-height",`${Ar}px`)}}),N&&fq({element:N,padding:l}),bq({arrowWidth:_,arrowHeight:E}),h&&dq({strategy:"referenceHidden",...F})]}),[M,q]=tI(U),Y=yr(g);Lt(()=>{$&&(Y==null||Y())},[$,Y]);const G=(te=A.arrow)==null?void 0:te.x,ee=(Ee=A.arrow)==null?void 0:Ee.y,ie=((X=A.arrow)==null?void 0:X.centerOffset)!==0,[Se,Me]=b.useState();return Lt(()=>{x&&Me(window.getComputedStyle(x).zIndex)},[x]),s.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:$?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(se=A.transformOrigin)==null?void 0:se.x,(ne=A.transformOrigin)==null?void 0:ne.y].join(" "),...((H=A.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(gq,{scope:r,placedSide:M,onArrowChange:S,arrowX:G,arrowY:ee,shouldHideArrow:ie,children:s.jsx(ye.div,{"data-side":M,"data-align":q,...p,ref:w,style:{...p.style,animation:$?void 0:"none"}})})})});QR.displayName=E1;var ZR="PopperArrow",xq={top:"bottom",right:"left",bottom:"top",left:"right"},eI=b.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=vq(ZR,n),o=xq[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(mq,{...a,ref:r,style:{...a.style,display:"block"}})})});eI.displayName=ZR;function yq(e){return e!==null}var bq=e=>({name:"transformOrigin",options:e,fn(t){var v,x,y;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=tI(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,m=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function tI(e){const[t,r="center"]=e.split("-");return[t,r]}var rI=YR,P1=XR,nI=QR,sI=eI,wq="Portal",Yg=b.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=b.useState(!1);Lt(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?HT.createPortal(s.jsx(ye.div,{...n,ref:t}),o):null});Yg.displayName=wq;var aI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jq="VisuallyHidden",Sq=b.forwardRef((e,t)=>s.jsx(ye.span,{...e,ref:t,style:{...aI,...e.style}}));Sq.displayName=jq;var Nq=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},cl=new WeakMap,wh=new WeakMap,jh={},Kx=0,iI=function(e){return e&&(e.host||iI(e.parentNode))},_q=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=iI(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Eq=function(e,t,r,n){var a=_q(t,Array.isArray(e)?e:[e]);jh[r]||(jh[r]=new WeakMap);var i=jh[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(cl.get(h)||0)+1,v=(i.get(h)||0)+1;cl.set(h,p),i.set(h,v),o.push(h),p===1&&g&&wh.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),Kx++,function(){o.forEach(function(f){var h=cl.get(f)-1,m=i.get(f)-1;cl.set(f,h),i.set(f,m),h||(wh.has(f)||f.removeAttribute(n),wh.delete(f)),m||f.removeAttribute(r)}),Kx--,Kx||(cl=new WeakMap,cl=new WeakMap,wh=new WeakMap,jh={})}},k1=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Nq(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Eq(n,a,r,"aria-hidden")):function(){return null}},ks=function(){return ks=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ks.apply(this,arguments)};function oI(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Pq(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var dm="right-scroll-bar-position",fm="width-before-scroll-bar",kq="with-scroll-bars-hidden",Cq="--removed-body-scroll-bar-size";function Gx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Aq(e,t){var r=b.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Oq=typeof window<"u"?b.useLayoutEffect:b.useEffect,RE=new WeakMap;function Tq(e,t){var r=Aq(null,function(n){return e.forEach(function(a){return Gx(a,n)})});return Oq(function(){var n=RE.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Gx(l,null)}),i.forEach(function(l){a.has(l)||Gx(l,o)})}RE.set(r,e)},[e]),r}function Rq(e){return e}function Iq(e,t){t===void 0&&(t=Rq);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function $q(e){e===void 0&&(e={});var t=Iq(null);return t.options=ks({async:!0,ssr:!1},e),t}var lI=function(e){var t=e.sideCar,r=oI(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,ks({},r))};lI.isSideCarExport=!0;function Mq(e,t){return e.useMedium(t),lI}var cI=$q(),Yx=function(){},Jg=b.forwardRef(function(e,t){var r=b.useRef(null),n=b.useState({onScrollCapture:Yx,onWheelCapture:Yx,onTouchMoveCapture:Yx}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,v=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,w=e.gapMode,N=oI(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,j=Tq([r,t]),_=ks(ks({},N),a);return b.createElement(b.Fragment,null,d&&b.createElement(S,{sideCar:cI,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?b.cloneElement(b.Children.only(l),ks(ks({},_),{ref:j})):b.createElement(y,ks({},_,{className:c,ref:j}),l))});Jg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jg.classNames={fullWidth:fm,zeroRight:dm};var Dq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Lq(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Dq();return t&&e.setAttribute("nonce",t),e}function Fq(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Bq(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Uq=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Lq())&&(Fq(t,r),Bq(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Vq=function(){var e=Uq();return function(t,r){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},uI=function(){var e=Vq(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},zq={left:0,top:0,right:0,gap:0},Jx=function(e){return parseInt(e||"",10)||0},Wq=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Jx(r),Jx(n),Jx(a)]},qq=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zq;var t=Wq(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Hq=uI(),Gl="data-scroll-locked",Kq=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(kq,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Gl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dm,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(fm,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(dm," .").concat(dm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(fm," .").concat(fm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Gl,`] {
    `).concat(Cq,": ").concat(l,`px;
  }
`)},IE=function(){var e=parseInt(document.body.getAttribute(Gl)||"0",10);return isFinite(e)?e:0},Gq=function(){b.useEffect(function(){return document.body.setAttribute(Gl,(IE()+1).toString()),function(){var e=IE()-1;e<=0?document.body.removeAttribute(Gl):document.body.setAttribute(Gl,e.toString())}},[])},Yq=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Gq();var i=b.useMemo(function(){return qq(a)},[a]);return b.createElement(Hq,{styles:Kq(i,!t,a,r?"":"!important")})},sb=!1;if(typeof window<"u")try{var Sh=Object.defineProperty({},"passive",{get:function(){return sb=!0,!0}});window.addEventListener("test",Sh,Sh),window.removeEventListener("test",Sh,Sh)}catch{sb=!1}var ul=sb?{passive:!1}:!1,Jq=function(e){return e.tagName==="TEXTAREA"},dI=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Jq(e)&&r[t]==="visible")},Xq=function(e){return dI(e,"overflowY")},Qq=function(e){return dI(e,"overflowX")},$E=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=fI(e,n);if(a){var i=hI(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Zq=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},eH=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},fI=function(e,t){return e==="v"?Xq(t):Qq(t)},hI=function(e,t){return e==="v"?Zq(t):eH(t)},tH=function(e,t){return e==="h"&&t==="rtl"?-1:1},rH=function(e,t,r,n,a){var i=tH(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=hI(e,l),g=m[0],p=m[1],v=m[2],x=p-v-i*g;(g||x)&&fI(e,l)&&(f+=x,h+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Nh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ME=function(e){return[e.deltaX,e.deltaY]},DE=function(e){return e&&"current"in e?e.current:e},nH=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sH=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},aH=0,dl=[];function iH(e){var t=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),a=b.useState(aH++)[0],i=b.useState(uI)[0],o=b.useRef(e);b.useEffect(function(){o.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Pq([e.lockRef.current],(e.shards||[]).map(DE),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=b.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=Nh(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-x[0],N="deltaY"in p?p.deltaY:y[1]-x[1],S,j=p.target,_=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in p&&_==="h"&&j.type==="range")return!1;var E=$E(_,j);if(!E)return!0;if(E?S=_:(S=_==="v"?"h":"v",E=$E(_,j)),!E)return!1;if(!n.current&&"changedTouches"in p&&(w||N)&&(n.current=S),!S)return!0;var P=n.current||S;return rH(P,v,p,P==="h"?w:N)},[]),c=b.useCallback(function(p){var v=p;if(!(!dl.length||dl[dl.length-1]!==i)){var x="deltaY"in v?ME(v):Nh(v),y=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&nH(S.delta,x)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(DE).filter(Boolean).filter(function(S){return S.contains(v.target)}),N=w.length>0?l(v,w[0]):!o.current.noIsolation;N&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(p,v,x,y){var w={name:p,delta:v,target:x,should:y,shadowParent:oH(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(N){return N!==w})},1)},[]),d=b.useCallback(function(p){r.current=Nh(p),n.current=void 0},[]),f=b.useCallback(function(p){u(p.type,ME(p),p.target,l(p,e.lockRef.current))},[]),h=b.useCallback(function(p){u(p.type,Nh(p),p.target,l(p,e.lockRef.current))},[]);b.useEffect(function(){return dl.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ul),document.addEventListener("touchmove",c,ul),document.addEventListener("touchstart",d,ul),function(){dl=dl.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,ul),document.removeEventListener("touchmove",c,ul),document.removeEventListener("touchstart",d,ul)}},[]);var m=e.removeScrollBar,g=e.inert;return b.createElement(b.Fragment,null,g?b.createElement(i,{styles:sH(a)}):null,m?b.createElement(Yq,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function oH(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lH=Mq(cI,iH);var Xg=b.forwardRef(function(e,t){return b.createElement(Jg,ks({},e,{ref:t,sideCar:lH}))});Xg.classNames=Jg.classNames;var cH=[" ","Enter","ArrowUp","ArrowDown"],uH=[" ","Enter"],Oo="Select",[Qg,Zg,dH]=eR(Oo),[Zc]=Rn(Oo,[dH,Gg]),ev=Gg(),[fH,ki]=Zc(Oo),[hH,mH]=Zc(Oo),mI=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=ev(t),[v,x]=b.useState(null),[y,w]=b.useState(null),[N,S]=b.useState(!1),j=Fg(u),[_,E]=xi({prop:n,defaultProp:a??!1,onChange:i,caller:Oo}),[P,C]=xi({prop:o,defaultProp:l,onChange:c,caller:Oo}),T=b.useRef(null),O=v?g||!!v.closest("form"):!0,[F,V]=b.useState(new Set),B=Array.from(F).map(U=>U.props.value).join(";");return s.jsx(rI,{...p,children:s.jsxs(fH,{required:m,scope:t,trigger:v,onTriggerChange:x,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:S,contentId:fa(),value:P,onValueChange:C,open:_,onOpenChange:E,dir:j,triggerPointerDownPosRef:T,disabled:h,children:[s.jsx(Qg.Provider,{scope:t,children:s.jsx(hH,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(U=>{V($=>new Set($).add(U))},[]),onNativeOptionRemove:b.useCallback(U=>{V($=>{const A=new Set($);return A.delete(U),A})},[]),children:r})}),O?s.jsxs(LI,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:U=>C(U.target.value),disabled:h,form:g,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(F)]},B):null]})})};mI.displayName=Oo;var pI="SelectTrigger",gI=b.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=ev(r),o=ki(pI,r),l=o.disabled||n,c=De(t,o.onTriggerChange),u=Zg(r),d=b.useRef("touch"),[f,h,m]=BI(p=>{const v=u().filter(w=>!w.disabled),x=v.find(w=>w.value===o.value),y=UI(v,p,x);y!==void 0&&o.onValueChange(y.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(P1,{asChild:!0,...i,children:s.jsx(ye.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":FI(o.value)?"":void 0,...a,ref:c,onClick:be(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:be(a.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:be(a.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&cH.includes(p.key)&&(g(),p.preventDefault())})})})});gI.displayName=pI;var vI="SelectValue",xI=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=ki(vI,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=De(t,c.onValueNodeChange);return Lt(()=>{u(d)},[u,d]),s.jsx(ye.span,{...l,ref:f,style:{pointerEvents:"none"},children:FI(c.value)?s.jsx(s.Fragment,{children:o}):i})});xI.displayName=vI;var pH="SelectIcon",yI=b.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(ye.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});yI.displayName=pH;var gH="SelectPortal",bI=e=>s.jsx(Yg,{asChild:!0,...e});bI.displayName=gH;var To="SelectContent",wI=b.forwardRef((e,t)=>{const r=ki(To,e.__scopeSelect),[n,a]=b.useState();if(Lt(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?zc.createPortal(s.jsx(jI,{scope:e.__scopeSelect,children:s.jsx(Qg.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(SI,{...e,ref:t})});wI.displayName=To;var Kn=10,[jI,Ci]=Zc(To),vH="SelectContentImpl",xH=ko("SelectContent.RemoveScroll"),SI=b.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...x}=e,y=ki(To,r),[w,N]=b.useState(null),[S,j]=b.useState(null),_=De(t,te=>N(te)),[E,P]=b.useState(null),[C,T]=b.useState(null),O=Zg(r),[F,V]=b.useState(!1),B=b.useRef(!1);b.useEffect(()=>{if(w)return k1(w)},[w]),x1();const U=b.useCallback(te=>{const[Ee,...X]=O().map(H=>H.ref.current),[se]=X.slice(-1),ne=document.activeElement;for(const H of te)if(H===ne||(H==null||H.scrollIntoView({block:"nearest"}),H===Ee&&S&&(S.scrollTop=0),H===se&&S&&(S.scrollTop=S.scrollHeight),H==null||H.focus(),document.activeElement!==ne))return},[O,S]),$=b.useCallback(()=>U([E,w]),[U,E,w]);b.useEffect(()=>{F&&$()},[F,$]);const{onOpenChange:A,triggerPointerDownPosRef:M}=y;b.useEffect(()=>{if(w){let te={x:0,y:0};const Ee=se=>{var ne,H;te={x:Math.abs(Math.round(se.pageX)-(((ne=M.current)==null?void 0:ne.x)??0)),y:Math.abs(Math.round(se.pageY)-(((H=M.current)==null?void 0:H.y)??0))}},X=se=>{te.x<=10&&te.y<=10?se.preventDefault():w.contains(se.target)||A(!1),document.removeEventListener("pointermove",Ee),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",X,{capture:!0})}}},[w,A,M]),b.useEffect(()=>{const te=()=>A(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[A]);const[q,Y]=BI(te=>{const Ee=O().filter(ne=>!ne.disabled),X=Ee.find(ne=>ne.ref.current===document.activeElement),se=UI(Ee,te,X);se&&setTimeout(()=>se.ref.current.focus())}),G=b.useCallback((te,Ee,X)=>{const se=!B.current&&!X;(y.value!==void 0&&y.value===Ee||se)&&(P(te),se&&(B.current=!0))},[y.value]),ee=b.useCallback(()=>w==null?void 0:w.focus(),[w]),ie=b.useCallback((te,Ee,X)=>{const se=!B.current&&!X;(y.value!==void 0&&y.value===Ee||se)&&T(te)},[y.value]),Se=n==="popper"?ab:NI,Me=Se===ab?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return s.jsx(jI,{scope:r,content:w,viewport:S,onViewportChange:j,itemRefCallback:G,selectedItem:E,onItemLeave:ee,itemTextRefCallback:ie,focusSelectedItem:$,selectedItemText:C,position:n,isPositioned:F,searchRef:q,children:s.jsx(Xg,{as:xH,allowPinchZoom:!0,children:s.jsx(zg,{asChild:!0,trapped:y.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:be(a,te=>{var Ee;(Ee=y.trigger)==null||Ee.focus({preventScroll:!0}),te.preventDefault()}),children:s.jsx(Vg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(Se,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:te=>te.preventDefault(),...x,...Me,onPlaced:()=>V(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:be(x.onKeyDown,te=>{const Ee=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!Ee&&te.key.length===1&&Y(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let se=O().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);if(["ArrowUp","End"].includes(te.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const ne=te.target,H=se.indexOf(ne);se=se.slice(H+1)}setTimeout(()=>U(se)),te.preventDefault()}})})})})})})});SI.displayName=vH;var yH="SelectItemAlignedPosition",NI=b.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=ki(To,r),o=Ci(To,r),[l,c]=b.useState(null),[u,d]=b.useState(null),f=De(t,_=>d(_)),h=Zg(r),m=b.useRef(!1),g=b.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:x,focusSelectedItem:y}=o,w=b.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&v&&x){const _=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),C=x.getBoundingClientRect();if(i.dir!=="rtl"){const ne=C.left-E.left,H=P.left-ne,Re=_.left-H,Ne=_.width+Re,Ze=Math.max(Ne,E.width),Je=window.innerWidth-Kn,Et=Z0(H,[Kn,Math.max(Kn,Je-Ze)]);l.style.minWidth=Ne+"px",l.style.left=Et+"px"}else{const ne=E.right-C.right,H=window.innerWidth-P.right-ne,Re=window.innerWidth-_.right-H,Ne=_.width+Re,Ze=Math.max(Ne,E.width),Je=window.innerWidth-Kn,Et=Z0(H,[Kn,Math.max(Kn,Je-Ze)]);l.style.minWidth=Ne+"px",l.style.right=Et+"px"}const T=h(),O=window.innerHeight-Kn*2,F=p.scrollHeight,V=window.getComputedStyle(u),B=parseInt(V.borderTopWidth,10),U=parseInt(V.paddingTop,10),$=parseInt(V.borderBottomWidth,10),A=parseInt(V.paddingBottom,10),M=B+U+F+A+$,q=Math.min(v.offsetHeight*5,M),Y=window.getComputedStyle(p),G=parseInt(Y.paddingTop,10),ee=parseInt(Y.paddingBottom,10),ie=_.top+_.height/2-Kn,Se=O-ie,Me=v.offsetHeight/2,te=v.offsetTop+Me,Ee=B+U+te,X=M-Ee;if(Ee<=ie){const ne=T.length>0&&v===T[T.length-1].ref.current;l.style.bottom="0px";const H=u.clientHeight-p.offsetTop-p.offsetHeight,Re=Math.max(Se,Me+(ne?ee:0)+H+$),Ne=Ee+Re;l.style.height=Ne+"px"}else{const ne=T.length>0&&v===T[0].ref.current;l.style.top="0px";const Re=Math.max(ie,B+p.offsetTop+(ne?G:0)+Me)+X;l.style.height=Re+"px",p.scrollTop=Ee-ie+p.offsetTop}l.style.margin=`${Kn}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,v,x,i.dir,n]);Lt(()=>w(),[w]);const[N,S]=b.useState();Lt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const j=b.useCallback(_=>{_&&g.current===!0&&(w(),y==null||y(),g.current=!1)},[w,y]);return s.jsx(wH,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(ye.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});NI.displayName=yH;var bH="SelectPopperPosition",ab=b.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Kn,...i}=e,o=ev(r);return s.jsx(nI,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ab.displayName=bH;var[wH,C1]=Zc(To,{}),ib="SelectViewport",_I=b.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Ci(ib,r),o=C1(ib,r),l=De(t,i.onViewportChange),c=b.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Qg.Slot,{scope:r,children:s.jsx(ye.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:be(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-Kn*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(p,v);if(x<g){const y=x+m,w=Math.min(g,y),N=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});_I.displayName=ib;var EI="SelectGroup",[jH,SH]=Zc(EI),NH=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=fa();return s.jsx(jH,{scope:r,id:a,children:s.jsx(ye.div,{role:"group","aria-labelledby":a,...n,ref:t})})});NH.displayName=EI;var PI="SelectLabel",kI=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=SH(PI,r);return s.jsx(ye.div,{id:a.id,...n,ref:t})});kI.displayName=PI;var rp="SelectItem",[_H,CI]=Zc(rp),AI=b.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=ki(rp,r),c=Ci(rp,r),u=l.value===n,[d,f]=b.useState(i??""),[h,m]=b.useState(!1),g=De(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,a)}),p=fa(),v=b.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(_H,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:b.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(Qg.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(ye.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:be(o.onFocus,()=>m(!0)),onBlur:be(o.onBlur,()=>m(!1)),onClick:be(o.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:be(o.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:be(o.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:be(o.onPointerMove,y=>{var w;v.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:be(o.onKeyDown,y=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&y.key===" "||(uH.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});AI.displayName=rp;var Hu="SelectItemText",OI=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=ki(Hu,r),l=Ci(Hu,r),c=CI(Hu,r),u=mH(Hu,r),[d,f]=b.useState(null),h=De(t,x=>f(x),c.onItemTextChange,x=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=b.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return Lt(()=>(p(g),()=>v(g)),[p,v,g]),s.jsxs(s.Fragment,{children:[s.jsx(ye.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?zc.createPortal(i.children,o.valueNode):null]})});OI.displayName=Hu;var TI="SelectItemIndicator",RI=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return CI(TI,r).isSelected?s.jsx(ye.span,{"aria-hidden":!0,...n,ref:t}):null});RI.displayName=TI;var ob="SelectScrollUpButton",II=b.forwardRef((e,t)=>{const r=Ci(ob,e.__scopeSelect),n=C1(ob,e.__scopeSelect),[a,i]=b.useState(!1),o=De(t,n.onScrollButtonChange);return Lt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(MI,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});II.displayName=ob;var lb="SelectScrollDownButton",$I=b.forwardRef((e,t)=>{const r=Ci(lb,e.__scopeSelect),n=C1(lb,e.__scopeSelect),[a,i]=b.useState(!1),o=De(t,n.onScrollButtonChange);return Lt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(MI,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});$I.displayName=lb;var MI=b.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Ci("SelectScrollButton",r),o=b.useRef(null),l=Zg(r),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),Lt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(ye.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:be(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:be(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:be(a.onPointerLeave,()=>{c()})})}),EH="SelectSeparator",DI=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(ye.div,{"aria-hidden":!0,...n,ref:t})});DI.displayName=EH;var cb="SelectArrow",PH=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ev(r),i=ki(cb,r),o=Ci(cb,r);return i.open&&o.position==="popper"?s.jsx(sI,{...a,...n,ref:t}):null});PH.displayName=cb;var kH="SelectBubbleInput",LI=b.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=b.useRef(null),i=De(n,a),o=h1(t);return b.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(ye.select,{...r,style:{...aI,...r.style},ref:i,defaultValue:t})});LI.displayName=kH;function FI(e){return e===""||e===void 0}function BI(e){const t=yr(e),r=b.useRef(""),n=b.useRef(0),a=b.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function UI(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=CH(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function CH(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var AH=mI,VI=gI,OH=xI,TH=yI,RH=bI,zI=wI,IH=_I,WI=kI,qI=AI,$H=OI,MH=RI,HI=II,KI=$I,GI=DI;const ur=AH,dr=OH,rr=b.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(VI,{ref:n,className:fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-colors",e),...r,children:[t,s.jsx(TH,{asChild:!0,children:s.jsx(m4,{className:"h-4 w-4 opacity-50 transition-transform duration-200 ease-in-out group-data-[state=open]:rotate-180"})})]}));rr.displayName=VI.displayName;const YI=b.forwardRef(({className:e,...t},r)=>s.jsx(HI,{ref:r,className:fe("flex cursor-default items-center justify-center py-1 text-muted-foreground",e),...t,children:s.jsx(TU,{className:"h-4 w-4"})}));YI.displayName=HI.displayName;const JI=b.forwardRef(({className:e,...t},r)=>s.jsx(KI,{ref:r,className:fe("flex cursor-default items-center justify-center py-1 text-muted-foreground",e),...t,children:s.jsx(m4,{className:"h-4 w-4"})}));JI.displayName=KI.displayName;const nr=b.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(RH,{children:s.jsxs(zI,{ref:a,className:fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border/40 bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 duration-200",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(YI,{}),s.jsx(IH,{className:fe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(JI,{})]})}));nr.displayName=zI.displayName;const DH=b.forwardRef(({className:e,...t},r)=>s.jsx(WI,{ref:r,className:fe("py-1.5 pl-8 pr-2 text-sm font-medium text-muted-foreground",e),...t}));DH.displayName=WI.displayName;const ce=b.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(qI,{ref:n,className:fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent/50 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(MH,{children:s.jsx(qo,{className:"h-4 w-4 text-primary"})})}),s.jsx($H,{children:t})]}));ce.displayName=qI.displayName;const LH=b.forwardRef(({className:e,...t},r)=>s.jsx(GI,{ref:r,className:fe("-mx-1 my-1 h-px bg-muted",e),...t}));LH.displayName=GI.displayName;const FH=["profile_confirmation","job_assignment","job_completion","appointment_reminder","welcome_email","password_reset"],BH=[{key:"user.name",label:"User Name"},{key:"user.email",label:"User Email"},{key:"job.title",label:"Job Title"},{key:"job.date",label:"Job Date"},{key:"job.address",label:"Job Address"},{key:"landscaper.name",label:"Landscaper Name"},{key:"company.name",label:"Company Name"},{key:"company.phone",label:"Company Phone"}];function UH(){const[e,t]=b.useState([]),[r,n]=b.useState(null),[a,i]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(""),[d,f]=b.useState(""),[h,m]=b.useState(!1),[g,p]=b.useState(!1),v=b.useCallback(async()=>{try{const{data:j,error:_}=await R.from("email_templates").select("*").order("updated_at",{ascending:!1});if(_)throw _;t(j||[])}catch(j){console.error("Error loading templates:",j)}},[]);k.useEffect(()=>{v()},[v]);const x=async()=>{if(!(!a||!o||!c)){m(!0);try{const j={name:a,type:o,subject:c,html_content:d,version:r?r.version+1:1};if(r){const{error:_}=await R.from("email_templates").update(j).eq("id",r.id);if(_)throw _}else{const{error:_}=await R.from("email_templates").insert([j]);if(_)throw _}await v()}catch(j){console.error("Error saving template:",j)}finally{m(!1)}}},y=j=>{n(j),i(j.name),l(j.type),u(j.subject),f(j.html_content)},w=()=>{n(null),i(""),l(""),u(""),f(S())},N=j=>{f(_=>_+`{{${j}}}`)},S=()=>`
<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
  <h1 style="color: #16a34a;">{{company.name}}</h1>
  <p>Hello {{user.name}},</p>
  <p>This is a notification email.</p>
  <p>Best regards,<br>The {{company.name}} Team</p>
</div>`;return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Email Template Builder"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Create and manage email templates"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsx(W,{children:"Templates"}),s.jsxs(L,{onClick:w,size:"sm",children:[s.jsx(ac,{className:"h-4 w-4 mr-2"}),"New Template"]})]}),s.jsx(D,{className:"space-y-2 max-h-96 overflow-y-auto",children:e.map(j=>s.jsxs("div",{className:"p-3 border rounded cursor-pointer hover:bg-gray-50",onClick:()=>y(j),children:[s.jsx("div",{className:"font-medium",children:j.name}),s.jsx("div",{className:"text-sm text-gray-500",children:j.type}),s.jsxs(J,{variant:"outline",className:"text-xs",children:["v",j.version]})]},j.id))})]}),s.jsxs(I,{className:"lg:col-span-2",children:[s.jsx(z,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(W,{children:"Template Editor"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(L,{variant:"outline",onClick:()=>p(!g),children:[s.jsx(Tg,{className:"h-4 w-4 mr-2"}),g?"Edit":"Preview"]}),s.jsxs(L,{onClick:x,disabled:h,children:[s.jsx(t1,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})}),s.jsx(D,{className:"space-y-4",children:g?s.jsx("div",{className:"border rounded-lg p-4 bg-white min-h-96",children:s.jsx("div",{dangerouslySetInnerHTML:{__html:d}})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(de,{placeholder:"Template Name",value:a,onChange:j=>i(j.target.value)}),s.jsxs(ur,{value:o,onValueChange:l,children:[s.jsx(rr,{children:s.jsx(dr,{placeholder:"Template Type"})}),s.jsx(nr,{children:FH.map(j=>s.jsx(ce,{value:j,children:j.replace("_"," ").toUpperCase()},j))})]})]}),s.jsx(de,{placeholder:"Email Subject",value:c,onChange:j=>u(j.target.value)}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Variables"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:BH.map(j=>s.jsx(J,{variant:"outline",className:"cursor-pointer hover:bg-gray-100",onClick:()=>N(j.key),children:j.label},j.key))})]}),s.jsx(ka,{placeholder:"HTML Content",value:d,onChange:j=>f(j.target.value),rows:15,className:"font-mono text-sm"})]})})]})]})]})})}function VH(){const[e,t]=b.useState([]),[r,n]=b.useState(!0);b.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:l,error:c}=await R.from("contacts").select("*").order("created_at",{ascending:!1});if(c)throw c;t(l||[])}catch(l){console.error("Error fetching contacts:",l)}finally{n(!1)}},i=async l=>{try{const{error:c}=await R.from("contacts").delete().eq("id",l);if(c)throw c;t(e.filter(u=>u.id!==l))}catch(c){console.error("Error deleting contact:",c)}},o=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading contacts..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Panel"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage system settings and content"})]}),s.jsxs(fn,{defaultValue:"contacts",className:"space-y-6",children:[s.jsxs(zr,{className:"grid w-full grid-cols-2",children:[s.jsxs(he,{value:"contacts",className:"flex items-center space-x-2",children:[s.jsx($s,{className:"h-4 w-4"}),s.jsx("span",{children:"Contact Management"})]}),s.jsxs(he,{value:"templates",className:"flex items-center space-x-2",children:[s.jsx(Fs,{className:"h-4 w-4"}),s.jsx("span",{children:"Email Templates"})]})]}),s.jsx(me,{value:"contacts",className:"space-y-6",children:s.jsx("div",{className:"grid gap-6",children:e.length===0?s.jsx(I,{children:s.jsxs(D,{className:"text-center py-12",children:[s.jsx($s,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No contacts yet"}),s.jsx("p",{className:"text-gray-600",children:"Contact form submissions will appear here."})]})}):e.map(l=>s.jsxs(I,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsx(W,{className:"text-xl font-semibold text-gray-900",children:l.name}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(J,{variant:"secondary",children:l.service_type}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>i(l.id),className:"text-red-600 hover:text-red-700",children:s.jsx(n1,{className:"h-4 w-4"})})]})]}),s.jsxs(D,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx($s,{className:"h-4 w-4"}),s.jsx("span",{children:l.email})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(e1,{className:"h-4 w-4"}),s.jsx("span",{children:l.phone})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(Bs,{className:"h-4 w-4"}),s.jsx("span",{children:l.address})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(ar,{className:"h-4 w-4"}),s.jsx("span",{children:o(l.created_at)})]})]}),l.message&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Message:"}),s.jsx("p",{className:"text-gray-700",children:l.message})]})]})]},l.id))})}),s.jsx(me,{value:"templates",children:s.jsx(UH,{})})]})]})})}function zH(){const e=$e(),{user:t,role:r}=_t(),[n,a]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(""),[u,d]=b.useState({email:"",password:""});b.useEffect(()=>{t&&r==="admin"&&e("/admin-dashboard",{replace:!0})},[t,r,e]);const f=async h=>{var m,g;h.preventDefault(),o(!0),c("");try{const{data:p,error:v}=await R.auth.signInWithPassword({email:u.email,password:u.password});if(v)throw v;if(((g=(m=p.user)==null?void 0:m.user_metadata)==null?void 0:g.role)!=="admin")throw await R.auth.signOut(),new Error("Access denied. Admin credentials required.");await R.from("admin_login_logs").insert({admin_id:p.user.id,email:p.user.email,ip_address:"browser",user_agent:navigator.userAgent}),e("/admin-dashboard",{replace:!0})}catch(p){c(p.message||"Login failed")}finally{o(!1)}};return s.jsxs("div",{className:"min-h-screen bg-black relative overflow-hidden",children:[s.jsx(On,{}),s.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8 animate-fade-in",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-red-500/30 blur-xl rounded-full animate-pulse"}),s.jsx("div",{className:"relative p-5 rounded-full bg-gradient-to-br from-red-500/20 to-red-600/20 border-2 border-red-500/40 shadow-[0_0_30px_rgba(239,68,68,0.4)]",children:s.jsx(cn,{className:"w-10 h-10 text-red-400","aria-hidden":"true"})})]})}),s.jsx("h1",{className:"text-4xl sm:text-5xl font-bold bg-gradient-to-r from-red-400 via-red-500 to-red-400 bg-clip-text text-transparent mb-3",children:"Admin Portal"}),s.jsxs("p",{className:"text-gray-300 flex items-center justify-center gap-2 text-sm sm:text-base",children:[s.jsx(q_,{className:"w-4 h-4 text-red-400","aria-hidden":"true"}),"Secure System Administration"]})]}),s.jsxs(I,{className:"relative bg-black/80 border-2 border-red-500/30 backdrop-blur-xl shadow-[0_0_40px_rgba(239,68,68,0.3)] hover:shadow-[0_0_50px_rgba(239,68,68,0.4)] hover:border-red-500/50 transition-all duration-500",children:[s.jsxs(z,{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-red-500/10 to-red-600/10 border-2 border-red-500/40 rounded-xl p-4 shadow-[0_0_20px_rgba(239,68,68,0.2)]",role:"alert","aria-live":"polite",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ct,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5","aria-hidden":"true"}),s.jsx("p",{className:"text-sm text-red-200 leading-relaxed",children:"This portal is restricted to authorized administrators only. All login attempts are logged and monitored."})]})}),s.jsxs("form",{onSubmit:f,className:"space-y-5",noValidate:!0,children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"admin-email",className:"sr-only",children:"Admin Email Address"}),s.jsx(de,{id:"admin-email",type:"email",name:"email",placeholder:"Admin Email",value:u.email,onChange:h=>d(m=>({...m,email:h.target.value})),required:!0,autoComplete:"email","aria-required":"true","aria-invalid":l?"true":"false",className:"bg-black/60 border-2 border-red-500/30 text-white placeholder:text-gray-500 focus:border-red-500/60 focus:ring-4 focus:ring-red-500/20 transition-all duration-300 h-12"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"admin-password",className:"sr-only",children:"Admin Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(de,{id:"admin-password",type:n?"text":"password",name:"password",placeholder:"Admin Password",value:u.password,onChange:h=>d(m=>({...m,password:h.target.value})),required:!0,autoComplete:"current-password","aria-required":"true","aria-invalid":l?"true":"false",className:"bg-black/60 border-2 border-red-500/30 text-white placeholder:text-gray-500 focus:border-red-500/60 focus:ring-4 focus:ring-red-500/20 transition-all duration-300 h-12 pr-12"}),s.jsx("button",{type:"button",onClick:()=>a(!n),"aria-label":n?"Hide password":"Show password","aria-pressed":n,className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-400 hover:text-red-300 focus:outline-none focus:ring-2 focus:ring-red-500/50 rounded-md p-1 transition-colors duration-200",children:n?s.jsx(v4,{className:"w-5 h-5","aria-hidden":"true"}):s.jsx(Tg,{className:"w-5 h-5","aria-hidden":"true"})})]})]}),s.jsx(L,{type:"submit",disabled:i,className:"w-full h-12 bg-gradient-to-r from-red-600 via-red-500 to-red-600 text-white font-bold text-base hover:from-red-700 hover:via-red-600 hover:to-red-700 hover:shadow-[0_0_30px_rgba(239,68,68,0.5)] hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 focus:ring-4 focus:ring-red-500/50","aria-busy":i,children:i?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin","aria-hidden":"true"}),"Authenticating..."]}):"Admin Sign In"})]})]}),l&&s.jsx(D,{children:s.jsx("div",{className:"bg-red-500/10 border-2 border-red-500/40 rounded-lg p-4 shadow-[0_0_15px_rgba(239,68,68,0.2)]",role:"alert","aria-live":"assertive",children:s.jsx("p",{className:"text-sm text-red-300 font-medium",children:l})})})]}),s.jsxs("p",{className:"text-center text-gray-500 text-sm mt-6 flex items-center justify-center gap-2",children:[s.jsx(q_,{className:"w-3 h-3","aria-hidden":"true"}),"Protected by enterprise-grade security"]})]})})]})}var A1=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(A1||{});const to=class to{constructor(){Fe(this,"logLevel");Fe(this,"isDevelopment");this.isDevelopment=!1,this.logLevel=this.isDevelopment?0:2}static getInstance(){return to.instance||(to.instance=new to),to.instance}shouldLog(t){return t>=this.logLevel}formatMessage(t,r,n){const a=new Date().toISOString(),i=A1[t],o=n?`[${n}]`:"";return`${a} ${i} ${o} ${r}`}log(t,r,n,a){if(!this.shouldLog(t))return;const i=this.formatMessage(t,r,a);if(this.isDevelopment)switch(t){case 0:console.debug(i,n||"");break;case 1:console.info(i,n||"");break;case 2:console.warn(i,n||"");break;case 3:console.error(i,n||"");break}else t>=3&&this.sendToExternalService({level:t,message:r,data:n,timestamp:new Date().toISOString(),component:a})}sendToExternalService(t){try{const r=JSON.parse(sessionStorage.getItem("app_logs")||"[]");r.push(t),r.length>100&&r.splice(0,r.length-100),sessionStorage.setItem("app_logs",JSON.stringify(r))}catch{}}debug(t,r,n){this.log(0,t,r,n)}info(t,r,n){this.log(1,t,r,n)}warn(t,r,n){this.log(2,t,r,n)}error(t,r,n){this.log(3,t,r,n)}};Fe(to,"instance");let ub=to;const Ke=ub.getInstance(),WH=Object.freeze(Object.defineProperty({__proto__:null,LogLevel:A1,logger:Ke},Symbol.toStringTag,{value:"Module"})),qH=()=>{const e=$e(),[t,r]=b.useState(""),[n,a]=b.useState(""),[i,o]=b.useState(""),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!0);b.useEffect(()=>{(async()=>{try{Ke.debug("Processing password reset token",{hasHash:!!window.location.hash},"ResetPassword");const p=window.location.hash;if(!p){Ke.warn("No reset token found in URL",{},"ResetPassword"),o("No reset token found in URL"),h(!1);return}Ke.debug("Attempting token exchange",{},"ResetPassword");const{data:v,error:x}=await R.auth.exchangeCodeForSession(p);if(x){Ke.error("Token exchange failed",{error:x.message},"ResetPassword"),o("Invalid or expired reset link. Please request a new one."),h(!1);return}v.session?(Ke.info("Password reset session established successfully",{},"ResetPassword"),d(!0),window.history.replaceState({},document.title,window.location.pathname)):(Ke.warn("Failed to establish reset session",{},"ResetPassword"),o("Failed to establish session"))}catch(p){Ke.error("Token exchange unexpected error",{error:p.message},"ResetPassword"),o("Failed to process reset link")}finally{h(!1)}})()},[]);const m=async g=>{if(g.preventDefault(),o(""),t!==n){o("Passwords do not match");return}if(t.length<6){o("Password must be at least 6 characters");return}try{c(!0);const{error:p}=await R.auth.updateUser({password:t});if(p){Ke.error("Password update failed",{error:p.message},"ResetPassword"),o(p.message);return}const{data:{user:v}}=await R.auth.getUser();if(!v){o("Failed to get user information");return}const{data:x,error:y}=await R.from("profiles").select("role").eq("id",v.id).single();if(y||!x){Ke.warn("Profile fetch failed, redirecting to login",{error:y==null?void 0:y.message},"ResetPassword"),alert("Password updated successfully! Please sign in with your new password."),e("/unified-login");return}switch(Ke.info("Password updated successfully, redirecting user",{role:x.role},"ResetPassword"),alert("Password updated successfully!"),x.role){case"client":e("/dashboard/client");break;case"landscaper":e("/dashboard/landscaper");break;case"admin":e("/dashboard/admin");break;default:e("/unified-login");break}}catch(p){Ke.error("Password update process failed",{error:p.message},"ResetPassword"),o("Failed to update password. Please try again.")}finally{c(!1)}};return f?s.jsx(kn,{children:s.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-300",children:"Processing reset link..."})]})})}):u?s.jsx(kn,{children:s.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:s.jsx("div",{className:"max-w-md mx-auto p-8",children:s.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-green-500/30 rounded-2xl p-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:s.jsx("span",{className:"bg-gradient-to-r from-green-400 to-green-600 bg-clip-text text-transparent",children:"Set New Password"})}),i&&s.jsx("div",{className:"text-red-400 text-sm text-center bg-red-900/20 p-3 rounded-lg border border-red-500/30 mb-6",children:i}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"password",className:"text-white font-medium",children:"New Password"}),s.jsx(de,{id:"password",type:"password",value:t,onChange:g=>r(g.target.value),className:"mt-2 bg-gray-800/50 border border-green-500/30 text-white h-12 rounded-lg focus:border-green-400",required:!0,minLength:6,disabled:l,placeholder:"Enter your new password"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"confirmPassword",className:"text-white font-medium",children:"Confirm Password"}),s.jsx(de,{id:"confirmPassword",type:"password",value:n,onChange:g=>a(g.target.value),className:"mt-2 bg-gray-800/50 border border-green-500/30 text-white h-12 rounded-lg focus:border-green-400",required:!0,minLength:6,disabled:l,placeholder:"Confirm your new password"})]}),s.jsx(L,{type:"submit",disabled:l,className:"w-full h-12 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold rounded-lg transition-all duration-300 disabled:opacity-50",children:l?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Updating Password..."]}):"Update Password"})]})]})})})}):s.jsx(kn,{children:s.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md mx-auto text-center p-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-red-400 mb-4",children:"Invalid Reset Link"}),s.jsx("p",{className:"text-gray-300 mb-6",children:i}),s.jsx(L,{onClick:()=>e("/forgot-password"),className:"bg-green-600 hover:bg-green-700",children:"Request New Reset Link"})]})})})};function HH({title:e,icon:t,children:r}){return s.jsxs("div",{className:"rounded-2xl border border-emerald-800/40 bg-emerald-900/10 p-4 md:p-5 backdrop-blur",children:[s.jsxs("div",{className:"mb-2 md:mb-3 flex items-center gap-2",children:[t,s.jsx("div",{className:"text-base md:text-lg font-semibold text-emerald-100",children:e})]}),r]})}function KH({status:e}){const t=String(e).toLowerCase();let r="bg-gray-500/20 text-gray-300";return t==="scheduled"?r="bg-emerald-500/20 text-emerald-300":(t==="in_progress"||t==="in progress")&&(r="bg-yellow-500/20 text-yellow-300"),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${r}`,children:t==="in_progress"?"In Progress":t.charAt(0).toUpperCase()+t.slice(1)})}function GH(){return s.jsxs("div",{className:"mt-4 md:mt-5 flex items-center gap-3 md:gap-4 text-xs md:text-sm",children:[s.jsxs("span",{className:"flex items-center gap-2 text-emerald-200/80",children:[s.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-emerald-500"})," Scheduled"]}),s.jsxs("span",{className:"flex items-center gap-2 text-emerald-200/80",children:[s.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-yellow-400"})," In Progress"]}),s.jsxs("span",{className:"flex items-center gap-2 text-emerald-200/80",children:[s.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-gray-400"})," Completed"]})]})}function XI(e){return e?new Date(e).toLocaleString(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"TBA"}function QI(e){try{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e||0)}catch{return`$${(e||0).toFixed(2)}`}}const YH=1,JH=1e6;let Xx=0;function XH(){return Xx=(Xx+1)%Number.MAX_SAFE_INTEGER,Xx.toString()}const Qx=new Map,LE=e=>{if(Qx.has(e))return;const t=setTimeout(()=>{Qx.delete(e),od({type:"REMOVE_TOAST",toastId:e})},JH);Qx.set(e,t)},QH=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,YH)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?LE(r):e.toasts.forEach(n=>{LE(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},hm=[];let mm={toasts:[]};function od(e){mm=QH(mm,e),hm.forEach(t=>{t(mm)})}function ZH({...e}){const t=XH(),r=a=>od({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>od({type:"DISMISS_TOAST",toastId:t});return od({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function $n(){const[e,t]=b.useState(mm);return b.useEffect(()=>(hm.push(t),()=>{const r=hm.indexOf(t);r>-1&&hm.splice(r,1)}),[e]),{...e,toast:ZH,dismiss:r=>od({type:"DISMISS_TOAST",toastId:r})}}function eK({job:e,isOpen:t,onClose:r,onUpdate:n}){const{toast:a}=$n(),[i,o]=b.useState(e.notes||""),[l,c]=b.useState(null),[u,d]=b.useState(!1),f=async()=>{d(!0);try{const{error:m}=await R.from("jobs").update({status:"in_progress",started_at:new Date().toISOString()}).eq("id",e.id).select().single();if(m)throw m;a({title:"Job started successfully"}),n()}catch{a({title:"Failed to start job",variant:"destructive"})}finally{d(!1)}},h=async()=>{d(!0);try{const{error:m}=await R.from("jobs").update({status:"completed",completed_at:new Date().toISOString()}).eq("id",e.id).select().single();if(m)throw m;a({title:"Job completed successfully"}),n()}catch{a({title:"Failed to complete job",variant:"destructive"})}finally{d(!1)}};return t?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center md:items-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:r}),s.jsxs("div",{className:"relative w-full max-w-md rounded-t-2xl md:rounded-2xl border border-emerald-800/40 bg-emerald-900/20 p-4 md:p-5 backdrop-blur animate-in slide-in-from-bottom-full md:slide-in-from-bottom-0 duration-200",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-emerald-100",children:"Job Details"}),s.jsx(L,{onClick:r,variant:"ghost",size:"sm",children:"Close"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-emerald-100 truncate",title:e.service_name||"",children:e.service_name||"Untitled Job"}),s.jsx(KH,{status:e.status||"scheduled"})]}),s.jsxs("div",{className:"text-sm text-emerald-200/70 truncate",title:e.service_address||"",children:["📍 ",e.service_address||"Address TBA"]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-emerald-200/70",children:XI(e.preferred_date)}),s.jsx("div",{className:"text-emerald-400 font-semibold",children:QI(e.price||0)})]}),s.jsxs("div",{className:"flex gap-2",children:[e.status!=="in_progress"&&e.status!=="completed"&&s.jsx(L,{onClick:f,disabled:u,className:"flex-1 bg-emerald-600 hover:bg-emerald-500",children:"Start Job"}),e.status!=="completed"&&s.jsx(L,{onClick:h,disabled:u,className:"flex-1 bg-emerald-600 hover:bg-emerald-500",children:"Mark Complete"})]})]})]})]}):null}const ZI=()=>{const e=Ft(),[t,r]=b.useState("overview"),n=[{id:"overview",label:"Overview",icon:oa,path:"/landscaper-dashboard/overview"},{id:"jobs",label:"Jobs",icon:Nn,path:"/landscaper-dashboard/jobs",badge:3},{id:"earnings",label:"Earnings",icon:jt,path:"/landscaper-dashboard/earnings"},{id:"profile",label:"Profile",icon:cr,path:"/landscaper-dashboard/profile"}];b.useEffect(()=>{const i=e.pathname,o=n.find(l=>l.path===i);o&&r(o.id)},[e.pathname]);const a=i=>{"vibrate"in navigator&&navigator.vibrate(50),r(i)};return s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-black/95 backdrop-blur-xl border-t border-emerald-500/20 z-50 md:hidden shadow-[0_-4px_20px_rgba(52,211,153,0.15)]",children:s.jsx("div",{className:"flex justify-around items-center py-2 px-1",children:n.map(i=>{const o=i.icon,l=t===i.id;return s.jsxs(jn,{to:i.path,className:`flex flex-col items-center justify-center min-w-0 flex-1 py-2 px-1 rounded-lg transition-all duration-300 ${l?"text-emerald-400":"text-emerald-200/50 hover:text-emerald-300 active:bg-emerald-500/10"}`,onTouchStart:()=>a(i.id),onClick:()=>a(i.id),children:[s.jsxs("div",{className:"relative",children:[s.jsx(o,{size:24,className:`transition-all duration-300 ${l?"scale-110 drop-shadow-[0_0_8px_rgba(52,211,153,0.8)]":"scale-100"}`}),i.badge&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center shadow-lg shadow-red-500/50",children:i.badge})]}),s.jsx("span",{className:`text-xs mt-1 font-medium truncate transition-all duration-300 ${l?"text-emerald-300 drop-shadow-[0_0_4px_rgba(52,211,153,0.6)]":"text-emerald-200/50"}`,children:i.label})]},i.id)})})})};async function tK(){var t,r;const{data:e}=await R.auth.getUser();return{email:((t=e.user)==null?void 0:t.email)??null,uid:((r=e.user)==null?void 0:r.id)??null}}function rK(e,t){const r=[];return e&&(r.push(`landscaper_id.eq.${e}`),r.push(`assigned_to.eq.${e}`)),t&&(r.push(`landscaper_email.eq.${t}`),r.push(`assigned_email.eq.${t}`)),r.join(",")}async function FE(){const{email:e,uid:t}=await tK(),r=rK(t,e),{data:n,error:a}=await R.from("jobs").select("id,service_name,service_type,service_address,scheduled_at,completed_at,status,price,landscaper_id,landscaper_email,assigned_to,assigned_email").or(r).order("scheduled_at",{ascending:!0});return a?[]:n||[]}function BE(){const e=new Date(Date.now()+36e5).toISOString(),t=new Date(Date.now()+3*60*60*1e3).toISOString(),r=new Date(Date.now()-24*60*60*1e3).toISOString();return[{id:"d1",title:"Weekly Lawn Care",service:"Mow Edge Blow",address:"742 Evergreen Ter",scheduled_at:e,status:"scheduled",price:85},{id:"d2",title:"Hedge Trim",service:"Shrub shaping set of 10",address:"19 Parkway Dr",scheduled_at:t,status:"scheduled",price:120},{id:"d3",title:"Mulch Install",service:"Red mulch 8 bags",address:"1215 Ivy Ridge",scheduled_at:r,status:"completed",price:260}]}function nK(){const[e,t]=Ag(),[r,n]=b.useState(!0),[a,i]=b.useState([]),[o,l]=b.useState(()=>localStorage.getItem("landscaperJobsActiveTab")||"upcoming"),[c,u]=b.useState(""),[d,f]=b.useState(()=>localStorage.getItem("landscaperJobsSortOption")||"date_asc"),[h,m]=b.useState(null),[g,p]=b.useState(!1),{toast:v}=$n();b.useEffect(()=>{let N=!0;async function S(){n(!0);const j=await FE();N&&(i(j.length?j:BE()),n(!1))}return S(),()=>{N=!1}},[]),b.useEffect(()=>{const N=e.get("id");if(N&&a.length>0){const S=a.find(j=>j.id===N);if(S){m(S),p(!0);const j=String(S.status).toLowerCase();l(j==="completed"?"completed":"upcoming"),t({})}else v({title:"Job not found",description:"The requested job could not be found.",variant:"destructive"})}},[e,a,t,v]),b.useEffect(()=>{localStorage.setItem("landscaperJobsActiveTab",o)},[o]),b.useEffect(()=>{localStorage.setItem("landscaperJobsSortOption",d)},[d]);const x=b.useMemo(()=>{let N=a;if(o==="upcoming"?N=N.filter(S=>String(S.status).toLowerCase()!=="completed"):o==="completed"&&(N=N.filter(S=>String(S.status).toLowerCase()==="completed")),c.trim()){const S=c.toLowerCase();N=N.filter(j=>String(j.service_name||j.title||"").toLowerCase().includes(S)||String(j.service_address||j.address||"").toLowerCase().includes(S))}return N.sort((S,j)=>d==="date_asc"?(S.scheduled_at||"").localeCompare(j.scheduled_at||""):d==="date_desc"?(j.scheduled_at||"").localeCompare(S.scheduled_at||""):d==="price_desc"?(j.price||0)-(S.price||0):d==="price_asc"?(S.price||0)-(j.price||0):0),N},[a,o,c,d]),y=N=>{m(N),p(!0)},w=async()=>{const N=await FE();i(N.length?N:BE())};return s.jsxs("div",{className:"min-h-screen bg-black text-white pb-20 md:pb-0",children:[s.jsxs("div",{className:"mx-auto w-full max-w-4xl px-3 md:px-4 py-5 md:py-6",children:[s.jsxs("section",{className:"mb-4 md:mb-6",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-emerald-100",children:"Jobs"}),s.jsx("p",{className:"mt-1 text-emerald-200/70",children:"Manage and track your work"})]}),s.jsxs("section",{className:"sticky top-0 z-40 bg-black/95 backdrop-blur pb-3 mb-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:["upcoming","completed","all"].map(N=>s.jsx("button",{onClick:()=>l(N),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${o===N?"bg-emerald-600 text-white":"bg-emerald-900/20 text-emerald-200 hover:bg-emerald-800/30"}`,children:N.charAt(0).toUpperCase()+N.slice(1)},N))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{placeholder:"Search jobs...",value:c,onChange:N=>u(N.target.value),className:"flex-1 bg-emerald-900/20 border-emerald-800/40 text-white placeholder:text-emerald-200/50"}),s.jsxs(ur,{value:d,onValueChange:f,children:[s.jsx(rr,{className:"w-48 bg-emerald-900/20 border-emerald-800/40 text-white",children:s.jsx(dr,{})}),s.jsxs(nr,{className:"bg-emerald-900/90 border-emerald-800/40",children:[s.jsx(ce,{value:"date_asc",children:"Date: Soonest first"}),s.jsx(ce,{value:"date_desc",children:"Date: Latest first"}),s.jsx(ce,{value:"price_desc",children:"Price: High to low"}),s.jsx(ce,{value:"price_asc",children:"Price: Low to high"})]})]})]})]}),s.jsx("section",{className:"mb-6",children:s.jsxs(HH,{title:`${o.charAt(0).toUpperCase()+o.slice(1)} Jobs`,children:[r?s.jsx("div",{className:"py-8 text-center text-emerald-200/70",children:"Loading..."}):x.length===0?s.jsxs("div",{className:"py-8 text-center",children:[s.jsx("div",{className:"text-emerald-200/70 mb-3",children:o==="all"?"No jobs found":`No ${o} jobs`}),o!=="all"&&s.jsx(L,{onClick:()=>l("all"),variant:"secondary",size:"sm",children:"View All"})]}):s.jsx("div",{className:"divide-y divide-emerald-900/50",children:x.map(N=>s.jsxs("div",{onClick:()=>y(N),className:"flex items-center justify-between py-3 md:py-4 cursor-pointer hover:bg-emerald-900/10 rounded transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[s.jsx("div",{className:`w-2 h-2 rounded-full shrink-0 ${String(N.status).toLowerCase()==="completed"?"bg-gray-400":String(N.status).toLowerCase()==="in_progress"?"bg-yellow-400":"bg-emerald-500"}`}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"font-medium text-sm md:text-base truncate",title:N.service_name||N.title||N.service_type||"",children:N.service_name||N.title||N.service_type||"Untitled Job"}),s.jsx("div",{className:"text-xs md:text-sm text-emerald-200/70 truncate",title:N.service_address||N.address||"",children:N.service_address||N.address||"Address TBA"})]})]}),s.jsxs("div",{className:"text-right shrink-0",children:[s.jsx("div",{className:"text-xs md:text-sm text-emerald-200/70",children:XI(N.scheduled_at)}),s.jsx("div",{className:"text-emerald-400 font-semibold",children:QI(N.price||0)})]})]},N.id))}),s.jsx(GH,{})]})})]}),s.jsx(eK,{job:h,isOpen:g,onClose:()=>p(!1),onUpdate:w}),s.jsx(ZI,{})]})}const sK=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(null),[o,l]=b.useState(null);b.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const{data:d,error:f}=await R.from("jobs").select(`
          id, customer_name, service_address, service_type, 
          preferred_date, price, selected_services, notes, status
        `).eq("status","pending").is("landscaper_id",null).order("created_at",{ascending:!1});if(f)throw f;t(d||[])}catch(d){i(d.message)}finally{n(!1)}},u=async d=>{try{l(d);const{data:{user:f}}=await R.auth.getUser();if(!f)throw new Error("Not authenticated");const{role:h}=await AR();if(h!=="landscaper")throw new Error("Only landscapers can accept jobs");const{error:m}=await R.from("jobs").update({landscaper_id:f.id,status:"accepted",updated_at:new Date().toISOString()}).eq("id",d);if(m)throw m;try{await R.functions.invoke("job-acceptance-notification",{body:{jobId:d,landscaperId:f.id}})}catch(g){console.warn("Failed to send notification:",g)}t(e.filter(g=>g.id!==d))}catch(f){i(f.message)}finally{l(null)}};return r?s.jsx(kn,{children:s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:s.jsx(Pn,{className:"h-8 w-8 animate-spin text-green-400"})})}):s.jsx(kn,{children:s.jsx("div",{className:"min-h-screen bg-black text-white py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center mb-12 text-green-400 animate-pulse",children:"New Job Requests"}),a&&s.jsxs(ze,{className:"mb-6 bg-red-900/20 border-red-500",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsx(We,{className:"text-red-400",children:a})]}),e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-400 text-lg",children:"No new job requests available"}),s.jsx(L,{onClick:c,className:"mt-4 bg-green-500 hover:bg-green-600 text-black",children:"Refresh"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(d=>s.jsxs(I,{className:"bg-black/80 border-2 border-green-500/30 hover:border-green-400 transition-all duration-300 hover:shadow-lg hover:shadow-green-400/20",children:[s.jsx(z,{className:"pb-4",children:s.jsx(W,{className:"text-green-400 text-xl font-bold",children:d.service_type||"General Service"})}),s.jsxs(D,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Customer:"}),s.jsx("p",{className:"text-white",children:d.customer_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Address:"}),s.jsx("p",{className:"text-white",children:d.service_address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Preferred Date:"}),s.jsx("p",{className:"text-white",children:new Date(d.preferred_date).toLocaleDateString()})]}),d.selected_services&&d.selected_services.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Services:"}),s.jsx("p",{className:"text-white text-sm",children:d.selected_services.join(", ")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Price:"}),s.jsxs("p",{className:"text-green-400 font-bold text-lg",children:["$",d.price]})]}),d.notes&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Notes:"}),s.jsx("p",{className:"text-white text-sm",children:d.notes})]}),s.jsx(L,{onClick:()=>u(d.id),disabled:o===d.id,className:"w-full bg-green-500 hover:bg-green-600 text-black font-bold py-2 px-4 rounded-lg transition-all duration-300 hover:shadow-[0_0_15px_rgba(34,197,94,0.5)] hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:o===d.id?s.jsxs(s.Fragment,{children:[s.jsx(Pn,{className:"mr-2 h-4 w-4 animate-spin"}),"Accepting..."]}):"Accept Job"})]})]},d.id))})]})})})},aK=()=>s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-2xl",children:s.jsxs("div",{className:"bg-black/60 backdrop-blur-lg border border-green-500/30 rounded-2xl p-8 shadow-2xl shadow-green-500/20",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Oe,{className:"h-16 w-16 text-green-400 animate-bounce"})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white text-center mb-6 animate-pulse",children:"Job Marked as Complete!"}),s.jsx("p",{className:"text-xl text-green-400 text-center mb-8",children:"Your update has been submitted and is now under review."}),s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx(jn,{to:"/landscaper-dashboard",children:s.jsx(L,{className:"bg-green-500 hover:bg-green-600 text-black font-semibold px-8 py-3 rounded-xl shadow-lg shadow-green-500/30 hover:shadow-green-500/50 hover:scale-105 transition-all duration-300 text-lg",children:"Return to Dashboard"})})}),s.jsx("p",{className:"text-gray-400 text-center text-sm",children:"Thanks for helping us maintain quality landscaping experiences."})]})})});function iK({landscaperId:e,email:t,businessName:r,onComplete:n}){const[a,i]=b.useState(!1),[o,l]=b.useState(""),c=async()=>{var u;i(!0),l("");try{const{data:d}=await R.auth.getUser(),{data:f,error:h}=await R.functions.invoke("create-stripe-connect-account",{body:{email:t,businessName:r,userId:(u=d==null?void 0:d.user)==null?void 0:u.id}});if(h||!(f!=null&&f.success))throw new Error((f==null?void 0:f.error)||"Failed to create Connect account");await R.from("landscapers").update({stripe_connect_id:f.accountId,connect_account_status:"pending"}).eq("id",e),window.location.href=f.onboardingUrl}catch(d){l(d.message),i(!1)}};return s.jsxs(I,{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Payment Setup"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Connect your bank account to receive payments for completed jobs."}),o&&s.jsxs(ze,{variant:"destructive",className:"mb-4",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsx(We,{children:o})]}),s.jsx(L,{onClick:c,disabled:a,className:"w-full",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Pn,{className:"mr-2 h-4 w-4 animate-spin"}),"Setting up..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ba,{className:"mr-2 h-4 w-4"}),"Connect Bank Account"]})})]})}function oK(){const e=$e(),[t]=Ag(),[r,n]=b.useState(!1),[a,i]=b.useState(""),[o,l]=b.useState(null),[c,u]=b.useState(""),[d,f]=b.useState(!1),[h,m]=b.useState({firstName:"",lastName:"",businessName:"",serviceArea:"",experience:""}),g=t.get("success")==="true";t.get("refresh"),b.useEffect(()=>{(async()=>{const{data:{user:y},error:w}=await R.auth.getUser();if(y){l(y),y.user_metadata&&m(S=>({...S,firstName:y.user_metadata.first_name||"",lastName:y.user_metadata.last_name||""}));const{data:N}=await R.from("landscapers").select("id, stripe_connect_id").eq("user_id",y.id).single();N&&(u(N.id),f(!N.stripe_connect_id))}})(),g&&setTimeout(()=>e("/landscaper-dashboard"),2e3)},[g]);const p=(x,y)=>{m(w=>({...w,[x]:y}))},v=async x=>{x.preventDefault(),n(!0),i("");try{const{data:{user:y},error:w}=await R.auth.getUser();if(w||!y)throw new Error("User not authenticated");const{data:N,error:S}=await R.from("landscapers").select("id").eq("user_id",y.id).maybeSingle();if(!N&&S&&S.code!=="PGRST116")throw S;if(N){const{error:j}=await R.from("landscapers").update({first_name:h.firstName,last_name:h.lastName,business_name:h.businessName,service_area:h.serviceArea,years_experience:h.experience}).eq("user_id",y.id);if(j)throw j}else{const{error:j}=await R.from("landscapers").insert([{user_id:y.id,first_name:h.firstName,last_name:h.lastName,business_name:h.businessName,service_area:h.serviceArea,years_experience:h.experience}]);if(j)throw j}e("/landscaper-dashboard")}catch(y){i(y.message||"An error occurred")}finally{n(!1)}};return s.jsxs(kn,{children:[s.jsx(On,{}),s.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 pt-24",children:s.jsxs(I,{className:"w-full max-w-2xl bg-black/90 border-2 border-green-500 shadow-2xl shadow-green-500/20",children:[s.jsxs(z,{children:[s.jsx(W,{className:"text-3xl font-bold text-green-400 text-center",children:"Complete Your Profile"}),s.jsx("p",{className:"text-gray-300 text-center",children:"Professional landscaper setup"})]}),s.jsxs(D,{children:[g&&s.jsxs(ze,{className:"mb-4 bg-green-900/50 border-green-500",children:[s.jsx(ba,{className:"h-4 w-4 text-green-400"}),s.jsx(We,{className:"text-green-300",children:"Payment setup complete! Redirecting to dashboard..."})]}),a&&s.jsx("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 rounded text-red-300",children:a}),s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"firstName",className:"text-green-400",children:"First Name"}),s.jsx(de,{id:"firstName",value:h.firstName,onChange:x=>p("firstName",x.target.value),className:"bg-gray-900 border-green-500 text-white",placeholder:"First name",required:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"lastName",className:"text-green-400",children:"Last Name"}),s.jsx(de,{id:"lastName",value:h.lastName,onChange:x=>p("lastName",x.target.value),className:"bg-gray-900 border-green-500 text-white",placeholder:"Last name",required:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"businessName",className:"text-green-400",children:"Business Name"}),s.jsx(de,{id:"businessName",value:h.businessName,onChange:x=>p("businessName",x.target.value),className:"bg-gray-900 border-green-500 text-white",placeholder:"Your landscaping business name",required:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"serviceArea",className:"text-green-400",children:"Service Area"}),s.jsx(de,{id:"serviceArea",value:h.serviceArea,onChange:x=>p("serviceArea",x.target.value),className:"bg-gray-900 border-green-500 text-white",placeholder:"ZIP codes or areas you serve",required:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"experience",className:"text-green-400",children:"Years of Experience"}),s.jsxs(ur,{onValueChange:x=>p("experience",x),required:!0,children:[s.jsx(rr,{className:"bg-gray-900 border-green-500 text-white",children:s.jsx(dr,{placeholder:"Select experience level"})}),s.jsxs(nr,{children:[s.jsx(ce,{value:"1-2",children:"1-2 years"}),s.jsx(ce,{value:"3-5",children:"3-5 years"}),s.jsx(ce,{value:"6-10",children:"6-10 years"}),s.jsx(ce,{value:"10+",children:"10+ years"})]})]})]}),d&&c&&(o==null?void 0:o.email)&&s.jsx(iK,{landscaperId:c,email:o.email,businessName:h.businessName}),!d&&c&&s.jsxs("div",{className:"bg-green-900/50 border border-green-500 rounded-lg p-4",children:[s.jsx("h3",{className:"text-green-400 font-semibold mb-2",children:"✓ Payment Setup Complete"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Your bank account is connected and ready to receive payments."})]}),s.jsx(L,{type:"submit",disabled:r,className:"w-full bg-green-600 hover:bg-green-700 text-white",children:r?"Saving...":"Complete Profile Setup"})]})]})]})})]})}const lK=({jobId:e,status:t,beforeUrl:r,afterUrl:n})=>{const a=$e(),i=t==="Completed",[o,l]=b.useState(null),[c,u]=b.useState(null),[d,f]=b.useState(!1),[h,m]=b.useState(""),[g,p]=b.useState(!1),v=async(y,w)=>{const N=`${e}/${w}/${Date.now()}-${y.name}`,{error:S}=await R.storage.from("job-photos").upload(N,y,{cacheControl:"3600",upsert:!1});if(S)throw S;const{data:j}=R.storage.from("job-photos").getPublicUrl(N);return j.publicUrl},x=async y=>{y.preventDefault(),m(""),f(!0);try{if(!o||!c)throw new Error("Please select both before and after photos");const w=await v(o,"before"),N=await v(c,"after"),{error:S}=await R.from("jobs").update({before_photo_url:w,after_photo_url:N,status:"Completed"}).eq("id",e);if(S)throw S;p(!0),a("/job-complete")}catch(w){m(w.message),p(!1)}finally{f(!1)}};return s.jsxs("div",{className:"bg-gray-900 border border-green-500/30 rounded-lg p-6 shadow-lg",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Complete Job"}),i&&s.jsxs("div",{className:"mb-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-400 font-medium",children:"Before Photo"}),r?s.jsx("img",{src:r,alt:"Before",className:"mt-2 rounded border border-green-600 w-full max-w-xs"}):s.jsx("p",{className:"text-gray-400",children:"No photo available"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-green-400 font-medium",children:"After Photo"}),n?s.jsx("img",{src:n,alt:"After",className:"mt-2 rounded border border-green-600 w-full max-w-xs"}):s.jsx("p",{className:"text-gray-400",children:"No photo available"})]})]}),!i&&s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-green-400 font-medium mb-2",children:"Before Photo *"}),s.jsx(de,{type:"file",accept:"image/*",onChange:y=>{var w;return l(((w=y.target.files)==null?void 0:w[0])||null)},className:"bg-gray-800 border-gray-700 text-white file:bg-green-500 file:text-black file:border-0 file:rounded file:px-3 file:py-1",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-green-400 font-medium mb-2",children:"After Photo *"}),s.jsx(de,{type:"file",accept:"image/*",onChange:y=>{var w;return u(((w=y.target.files)==null?void 0:w[0])||null)},className:"bg-gray-800 border-gray-700 text-white file:bg-green-500 file:text-black file:border-0 file:rounded file:px-3 file:py-1",required:!0})]}),h&&s.jsx("div",{className:`p-3 rounded ${g?"bg-green-900/30 border border-green-500/30":"bg-red-900/30 border border-red-500/30"}`,children:s.jsx("p",{className:g?"text-green-400":"text-red-400",children:h})}),s.jsx(L,{type:"submit",disabled:d||!o||!c,className:"w-full bg-green-500 hover:bg-green-400 text-black font-semibold py-3",children:d?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-black mr-2"}),"Uploading..."]}):"Submit Photos"})]})]})};var tv="Dialog",[e5]=Rn(tv),[cK,gs]=e5(tv),t5=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=b.useRef(null),c=b.useRef(null),[u,d]=xi({prop:n,defaultProp:a??!1,onChange:i,caller:tv});return s.jsx(cK,{scope:t,triggerRef:l,contentRef:c,contentId:fa(),titleId:fa(),descriptionId:fa(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};t5.displayName=tv;var r5="DialogTrigger",n5=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=gs(r5,r),i=De(t,a.triggerRef);return s.jsx(ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":R1(a.open),...n,ref:i,onClick:be(e.onClick,a.onOpenToggle)})});n5.displayName=r5;var O1="DialogPortal",[uK,s5]=e5(O1,{forceMount:void 0}),a5=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=gs(O1,t);return s.jsx(uK,{scope:t,forceMount:r,children:b.Children.map(n,o=>s.jsx(In,{present:r||i.open,children:s.jsx(Yg,{asChild:!0,container:a,children:o})}))})};a5.displayName=O1;var np="DialogOverlay",i5=b.forwardRef((e,t)=>{const r=s5(np,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=gs(np,e.__scopeDialog);return i.modal?s.jsx(In,{present:n||i.open,children:s.jsx(fK,{...a,ref:t})}):null});i5.displayName=np;var dK=ko("DialogOverlay.RemoveScroll"),fK=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=gs(np,r);return s.jsx(Xg,{as:dK,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(ye.div,{"data-state":R1(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ro="DialogContent",o5=b.forwardRef((e,t)=>{const r=s5(Ro,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=gs(Ro,e.__scopeDialog);return s.jsx(In,{present:n||i.open,children:i.modal?s.jsx(hK,{...a,ref:t}):s.jsx(mK,{...a,ref:t})})});o5.displayName=Ro;var hK=b.forwardRef((e,t)=>{const r=gs(Ro,e.__scopeDialog),n=b.useRef(null),a=De(t,r.contentRef,n);return b.useEffect(()=>{const i=n.current;if(i)return k1(i)},[]),s.jsx(l5,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:be(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:be(e.onFocusOutside,i=>i.preventDefault())})}),mK=b.forwardRef((e,t)=>{const r=gs(Ro,e.__scopeDialog),n=b.useRef(!1),a=b.useRef(!1);return s.jsx(l5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),l5=b.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=gs(Ro,r),c=b.useRef(null),u=De(t,c);return x1(),s.jsxs(s.Fragment,{children:[s.jsx(zg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Vg,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":R1(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(pK,{titleId:l.titleId}),s.jsx(vK,{contentRef:c,descriptionId:l.descriptionId})]})]})}),T1="DialogTitle",c5=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=gs(T1,r);return s.jsx(ye.h2,{id:a.titleId,...n,ref:t})});c5.displayName=T1;var u5="DialogDescription",d5=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=gs(u5,r);return s.jsx(ye.p,{id:a.descriptionId,...n,ref:t})});d5.displayName=u5;var f5="DialogClose",h5=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=gs(f5,r);return s.jsx(ye.button,{type:"button",...n,ref:t,onClick:be(e.onClick,()=>a.onOpenChange(!1))})});h5.displayName=f5;function R1(e){return e?"open":"closed"}var m5="DialogTitleWarning",[j2e,p5]=Vz(m5,{contentName:Ro,titleName:T1,docsSlug:"dialog"}),pK=({titleId:e})=>{const t=p5(m5),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},gK="DialogDescriptionWarning",vK=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${p5(gK).contentName}}.`;return b.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},xK=t5,yK=n5,bK=a5,g5=i5,v5=o5,x5=c5,y5=d5,wK=h5;const Ko=xK,b5=yK,jK=bK,w5=b.forwardRef(({className:e,...t},r)=>s.jsx(g5,{ref:r,className:fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));w5.displayName=g5.displayName;const Ai=b.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(jK,{children:[s.jsx(w5,{}),s.jsxs(v5,{ref:n,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border/40 bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(wK,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(ps,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ai.displayName=v5.displayName;const Oi=({className:e,...t})=>s.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Oi.displayName="DialogHeader";const Ti=b.forwardRef(({className:e,...t},r)=>s.jsx(x5,{ref:r,className:fe("text-lg font-semibold leading-none tracking-tight text-foreground",e),...t}));Ti.displayName=x5.displayName;const SK=b.forwardRef(({className:e,...t},r)=>s.jsx(y5,{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));SK.displayName=y5.displayName;const I1=({rating:e,maxRating:t=5,size:r="md",interactive:n=!1,onRatingChange:a,className:i})=>{const o={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l=c=>{n&&a&&a(c)};return s.jsx("div",{className:fe("flex items-center gap-1",i),children:Array.from({length:t},(c,u)=>{const d=u+1,f=d<=e,h=e>u&&e<d;return s.jsx("button",{type:"button",onClick:()=>l(d),disabled:!n,className:fe(o[r],n&&"cursor-pointer hover:scale-110 transition-transform",!n&&"cursor-default"),children:s.jsx(cs,{className:fe("transition-colors",f||h?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200")})},u)})})};var j5={exports:{}},S5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lc=b;function NK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _K=typeof Object.is=="function"?Object.is:NK,EK=lc.useState,PK=lc.useEffect,kK=lc.useLayoutEffect,CK=lc.useDebugValue;function AK(e,t){var r=t(),n=EK({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return kK(function(){a.value=r,a.getSnapshot=t,Zx(a)&&i({inst:a})},[e,r,t]),PK(function(){return Zx(a)&&i({inst:a}),e(function(){Zx(a)&&i({inst:a})})},[e]),CK(r),r}function Zx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_K(e,r)}catch{return!0}}function OK(e,t){return t()}var TK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?OK:AK;S5.useSyncExternalStore=lc.useSyncExternalStore!==void 0?lc.useSyncExternalStore:TK;j5.exports=S5;var RK=j5.exports;function IK(){return RK.useSyncExternalStore($K,()=>!0,()=>!1)}function $K(){return()=>{}}var $1="Avatar",[MK]=Rn($1),[DK,N5]=MK($1),_5=b.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=b.useState("idle");return s.jsx(DK,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(ye.span,{...n,ref:t})})});_5.displayName=$1;var E5="AvatarImage",P5=b.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=N5(E5,r),l=LK(n,i),c=yr(u=>{a(u),o.onImageLoadingStatusChange(u)});return Lt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(ye.img,{...i,ref:t,src:n}):null});P5.displayName=E5;var k5="AvatarFallback",C5=b.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=N5(k5,r),[o,l]=b.useState(n===void 0);return b.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(ye.span,{...a,ref:t}):null});C5.displayName=k5;function UE(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function LK(e,{referrerPolicy:t,crossOrigin:r}){const n=IK(),a=b.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=b.useState(()=>UE(i,e));return Lt(()=>{l(UE(i,e))},[i,e]),Lt(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var A5=_5,O5=P5,T5=C5;const R5=b.forwardRef(({className:e,size:t="md",...r},n)=>s.jsx(A5,{ref:n,className:fe("relative flex shrink-0 overflow-hidden rounded-full border border-border/30 ring-offset-background",t==="sm"&&"h-8 w-8",t==="md"&&"h-10 w-10",t==="lg"&&"h-12 w-12",t==="xl"&&"h-16 w-16",e),...r}));R5.displayName=A5.displayName;const I5=b.forwardRef(({className:e,...t},r)=>s.jsx(O5,{ref:r,className:fe("aspect-square h-full w-full object-cover",e),...t}));I5.displayName=O5.displayName;const $5=b.forwardRef(({className:e,...t},r)=>s.jsx(T5,{ref:r,className:fe("flex h-full w-full items-center justify-center rounded-full bg-muted text-muted-foreground",e),...t}));$5.displayName=T5.displayName;const FK=({review:e,canRespond:t=!1,landscaperId:r})=>{const[n,a]=b.useState(!1),[i,o]=b.useState(""),[l,c]=b.useState(!1),u=async()=>{if(!(!i.trim()||!r)){c(!0);try{const{error:f}=await R.from("reviews").update({response:i.trim(),response_date:new Date().toISOString()}).eq("id",e.id).eq("landscaper_id",r);if(f)throw f;a(!1),o(""),window.location.reload()}catch(f){console.error("Error submitting response:",f)}finally{c(!1)}}},d=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return s.jsx(I,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs(R5,{className:"w-12 h-12",children:[s.jsx(I5,{src:e.customer.avatar_url}),s.jsxs($5,{children:[e.customer.first_name[0],e.customer.last_name[0]]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("h4",{className:"font-semibold",children:[e.customer.first_name," ",e.customer.last_name[0],"."]}),e.is_verified&&s.jsxs(J,{variant:"secondary",className:"text-xs",children:[s.jsx(Oe,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(I1,{rating:e.rating,size:"sm"}),s.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[s.jsx(ar,{className:"w-4 h-4"}),d(e.created_at)]})]}),e.title&&s.jsx("h5",{className:"font-medium mb-2",children:e.title}),e.comment&&s.jsx("p",{className:"text-gray-700 mb-4",children:e.comment}),e.photos&&e.photos.length>0&&s.jsx("div",{className:"flex gap-2 mb-4",children:e.photos.map((f,h)=>s.jsx("img",{src:f,alt:`Review photo ${h+1}`,className:"w-20 h-20 object-cover rounded-lg cursor-pointer hover:opacity-80",onClick:()=>window.open(f,"_blank")},h))}),e.response&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Co,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Response from landscaper"}),e.response_date&&s.jsx("span",{className:"text-xs text-gray-500",children:d(e.response_date)})]}),s.jsx("p",{className:"text-sm text-gray-700",children:e.response})]}),t&&!e.response&&!n&&s.jsxs(L,{variant:"outline",size:"sm",onClick:()=>a(!0),className:"mt-3",children:[s.jsx(Co,{className:"w-4 h-4 mr-2"}),"Respond to review"]}),n&&s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx(ka,{value:i,onChange:f=>o(f.target.value),placeholder:"Thank your customer and address any concerns...",rows:3,maxLength:500}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(L,{size:"sm",onClick:u,disabled:!i.trim()||l,children:l?"Submitting...":"Submit Response"}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>{a(!1),o("")},disabled:l,children:"Cancel"})]})]})]})]})})},BK=({jobId:e,landscaperId:t,customerId:r,onSubmit:n,onCancel:a})=>{const[i,o]=b.useState(0),[l,c]=b.useState(""),[u,d]=b.useState(""),[f,h]=b.useState([]),[m,g]=b.useState(!1),p=y=>{const w=Array.from(y.target.files||[]);h(N=>[...N,...w].slice(0,5))},v=y=>{h(w=>w.filter((N,S)=>S!==y))},x=async y=>{if(y.preventDefault(),i!==0){g(!0);try{const w=[];for(const S of f){const j=`review-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,{data:_,error:E}=await R.storage.from("job-photos").upload(`reviews/${j}`,S);if(!E&&_){const{data:{publicUrl:P}}=R.storage.from("job-photos").getPublicUrl(_.path);w.push(P)}}const{error:N}=await R.from("reviews").insert({customer_id:r,landscaper_id:t,job_id:e,rating:i,title:l.trim()||null,comment:u.trim()||null,photos:w.length>0?w:null});if(N)throw N;n()}catch(w){console.error("Error submitting review:",w)}finally{g(!1)}}};return s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Rate your experience *"}),s.jsx(I1,{rating:i,interactive:!0,onRatingChange:o,size:"lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Review title (optional)"}),s.jsx(de,{value:l,onChange:y=>c(y.target.value),placeholder:"Great work on my lawn!",maxLength:100})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tell us about your experience"}),s.jsx(ka,{value:u,onChange:y=>d(y.target.value),placeholder:"Share details about the quality of work, professionalism, timeliness...",rows:4,maxLength:1e3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add photos (optional)"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((y,w)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:URL.createObjectURL(y),alt:`Upload ${w+1}`,className:"w-20 h-20 object-cover rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>v(w),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:s.jsx(ps,{className:"w-3 h-3"})})]},w))}),f.length<5&&s.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2 border border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx(CU,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Add photos"}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:p,className:"hidden"})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(L,{type:"submit",disabled:i===0||m,className:"flex-1",children:m?"Submitting...":"Submit Review"}),s.jsx(L,{type:"button",variant:"outline",onClick:a,disabled:m,children:"Cancel"})]})]})},UK=({landscaperId:e,canWriteReview:t=!1,jobId:r,customerId:n,showAddReview:a=!1})=>{const[i,o]=b.useState([]),[l,c]=b.useState({averageRating:0,totalReviews:0,ratingBreakdown:{}}),[u,d]=b.useState(!1),[f,h]=b.useState(!0);b.useEffect(()=>{m()},[e]);const m=async()=>{try{const{data:v,error:x}=await R.from("reviews").select(`
          *,
          customer:customers(first_name, last_name, avatar_url)
        `).eq("landscaper_id",e).eq("is_approved",!0).order("created_at",{ascending:!1});if(x)throw x;o(v||[]),g(v||[])}catch(v){console.error("Error fetching reviews:",v)}finally{h(!1)}},g=v=>{if(v.length===0){c({averageRating:0,totalReviews:0,ratingBreakdown:{}});return}const x=v.length,w=v.reduce((S,j)=>S+j.rating,0)/x,N=v.reduce((S,j)=>(S[j.rating]=(S[j.rating]||0)+1,S),{});c({averageRating:w,totalReviews:x,ratingBreakdown:N})},p=()=>{d(!1),m()};return f?s.jsx("div",{className:"animate-pulse",children:"Loading reviews..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(I,{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(cs,{className:"w-8 h-8 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-3xl font-bold",children:l.averageRating.toFixed(1)})]}),s.jsx(I1,{rating:Math.round(l.averageRating)}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Based on ",l.totalReviews," reviews"]})]}),s.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(v=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"w-3",children:v}),s.jsx(cs,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${(l.ratingBreakdown[v]||0)/l.totalReviews*100}%`}})}),s.jsx("span",{className:"w-8 text-right",children:l.ratingBreakdown[v]||0})]},v))}),s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(qs,{className:"w-8 h-8 text-green-600 mb-2"}),s.jsxs("p",{className:"text-sm text-center text-gray-600",children:[l.averageRating>=4.5?"Excellent":l.averageRating>=4?"Very Good":l.averageRating>=3.5?"Good":l.averageRating>=3?"Average":"Below Average"," rating"]})]})]}),t&&a&&s.jsx("div",{className:"mt-6 pt-6 border-t",children:s.jsxs(L,{onClick:()=>d(!0),className:"w-full",children:[s.jsx(Co,{className:"w-4 h-4 mr-2"}),"Write a Review"]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-xl font-semibold",children:["Customer Reviews (",l.totalReviews,")"]}),i.length===0?s.jsxs(I,{className:"p-8 text-center",children:[s.jsx(Co,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No reviews yet"})]}):i.map(v=>s.jsx(FK,{review:v},v.id))]}),s.jsx(Ko,{open:u,onOpenChange:d,children:s.jsxs(Ai,{className:"max-w-2xl",children:[s.jsx(Oi,{children:s.jsx(Ti,{children:"Write a Review"})}),r&&n&&s.jsx(BK,{jobId:r,landscaperId:e,customerId:n,onSubmit:p,onCancel:()=>d(!1)})]})})]})};function VK(){const e=$e(),[t,r]=b.useState(null),[n,a]=b.useState([]),[i,o]=b.useState(null),[l,c]=b.useState(null),u=["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],d=5,f=g=>{var v;const p=(v=g.target.files)==null?void 0:v[0];if(p){if(!u.includes(p.type)){alert("Upload must be a PDF, JPG, PNG, or Word document.");return}if(p.size>d*1024*1024){alert("File must be less than 5MB");return}o(p)}},h=g=>{var v;const p=(v=g.target.files)==null?void 0:v[0];if(p){if(!u.includes(p.type)){alert("Upload must be a PDF, JPG, PNG, or Word document.");return}if(p.size>d*1024*1024){alert("File must be less than 5MB");return}c(p)}},m=async()=>{const{data:{user:g},error:p}=await R.auth.getUser();if(!g){alert("User not logged in");return}if(!i||!l){alert("Please upload both insurance and license files.");return}const v=Date.now(),x=`insurance/${g.id}-${v}-${i.name}`,y=`license/${g.id}-${v}-${l.name}`,{error:w}=await R.storage.from("landscaper-uploads").upload(x,i,{upsert:!0});if(w){alert("Error uploading insurance file."),console.error(w.message);return}const{error:N}=await R.storage.from("landscaper-uploads").upload(y,l,{upsert:!0});if(N){alert("Error uploading license file."),console.error(N.message);return}const{error:S}=await R.from("landscapers").update({insurance_file:x,license_file:y,profile_complete:!0}).eq("user_id",g.id);S?(alert("Error updating profile."),console.error(S.message)):(alert("Documents uploaded successfully. You can now access the dashboard."),e("/landscaper-dashboard",{replace:!0}))};return b.useEffect(()=>{(async()=>{const{data:{user:p},error:v}=await R.auth.getUser();if(v){console.error("Error getting user:",v.message);return}const{data:x,error:y}=await R.from("landscapers").select("*").eq("email",p.email).maybeSingle();if(!x){console.warn("No landscaper profile found for this user yet."),r(null);return}y?console.error("Error fetching landscaper:",y.message):r(x);const{data:w,error:N}=await R.from("jobs").select("*").eq("assigned_email",p.email).order("date",{ascending:!0});N?console.error("Error fetching jobs:",N.message):a(w)})()},[]),s.jsxs(kn,{children:[s.jsx(On,{}),s.jsxs("div",{className:"flex flex-col items-center justify-start min-h-screen px-4 pt-24",children:[s.jsxs("div",{className:"w-full max-w-3xl bg-black/80 border border-green-500 rounded-lg p-8 shadow-lg",children:[s.jsx("h1",{className:"text-3xl font-bold text-green-400 mb-6 text-center",children:"Landscaper Profile"}),t?s.jsxs("div",{className:"text-white space-y-4",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Full Name:"})," ",t.full_name]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Email:"})," ",t.email]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Business Name:"})," ",t.business_name]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Service Area:"})," ",t.service_area]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Experience:"})," ",t.years_experience," years"]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-green-400",children:"Upload Insurance File"}),s.jsx("br",{}),s.jsx("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf,.doc,.docx",onChange:f}),i&&s.jsxs("p",{className:"text-green-400 mt-1",children:["Selected: ",i.name]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-green-400",children:"Upload License File"}),s.jsx("br",{}),s.jsx("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf,.doc,.docx",onChange:h}),l&&s.jsxs("p",{className:"text-green-400 mt-1",children:["Selected: ",l.name]})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx("button",{className:"bg-green-500 text-black font-semibold px-4 py-2 rounded hover:bg-green-600 transition",onClick:m,children:"Submit Documents & Complete Profile"})}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Insurance:"})," ",t.insurance_file?s.jsx("a",{href:`${Y0().url}/storage/v1/object/public/landscaper-uploads/${t.insurance_file}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 underline",children:"View Insurance File 📄"}):"❌ Not uploaded"]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"License:"})," ",t.license_file?s.jsx("a",{href:`${Y0().url}/storage/v1/object/public/landscaper-uploads/${t.license_file}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 underline",children:"View License File 📄"}):"❌ Not uploaded"]})]}):s.jsx("p",{className:"text-gray-400 text-center",children:"Loading profile..."})]}),t&&s.jsxs("div",{className:"mt-8 w-full max-w-3xl bg-black/80 border border-green-500 rounded-lg p-6 shadow-lg",children:[s.jsx("h2",{className:"text-2xl text-green-400 font-semibold mb-4 text-center",children:"Upcoming Jobs"}),n.length>0?s.jsx("ul",{className:"divide-y divide-green-700",children:n.map((g,p)=>s.jsxs("li",{className:"py-6 text-white",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Date:"})," ",g.date]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Time:"})," ",g.time]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Address:"})," ",g.address]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Price:"})," $",g.price]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-400",children:"Status:"})," ",g.status]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upload Job Photos"}),s.jsx(lK,{jobId:g.id,status:g.status,beforeUrl:g.before_photo_url,afterUrl:g.after_photo_url})]})]},p))}):s.jsx("p",{className:"text-gray-400 text-center",children:"No upcoming jobs assigned yet."})]}),t&&s.jsx("div",{className:"mt-8 w-full max-w-3xl bg-black/80 border border-green-500 rounded-lg p-6 shadow-lg",children:s.jsx(UK,{landscaperId:t.id,canRespond:!0})})]})]})}function zK(){console.log("🏁 ClientQuoteForm component mounted/rendered");const e=$e(),[t,r]=b.useState({name:"",email:"",phone:"",propertyAddress:"",propertySize:"",budget:"",selectedServices:[],otherService:"",date:"",comments:""}),[n,a]=b.useState(!1),[i,o]=b.useState(""),[l,c]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const{data:{user:m},error:g}=await R.auth.getUser();if(g||!m){e("/client-login");return}const{data:p}=await R.from("profiles").select("first_name, last_name, email, phone, address").eq("id",m.id).maybeSingle();r(v=>{var x;return{...v,name:p?`${p.first_name||""} ${p.last_name||""}`.trim():((x=m.user_metadata)==null?void 0:x.name)||"",email:(p==null?void 0:p.email)||m.email||"",phone:(p==null?void 0:p.phone)||"",propertyAddress:(p==null?void 0:p.address)||""}})}catch(m){console.error("Error fetching client data:",m),o("Failed to load your information. Please try again.")}finally{c(!1)}})()},[e]);const u=(h,m)=>{r(g=>({...g,[h]:m}))},d=(h,m)=>{r(g=>({...g,selectedServices:m?[...g.selectedServices,h]:g.selectedServices.filter(p=>p!==h)}))},f=async h=>{if(h.preventDefault(),console.log("🎯 STEP 1: Form submit event fired - preventDefault() called"),n){console.log("⚠️ STEP 1 BLOCKED: Submission already in progress");return}a(!0),o(""),console.log("🎯 STEP 2: Loading state set to TRUE");const m=setTimeout(()=>{console.error("🚨 FAILSAFE TRIGGERED: Resetting loading state after 15s"),a(!1),o("Request timed out. Please try again or contact support.")},15e3);if(t.selectedServices.length===0&&!t.otherService){console.log("❌ STEP 2 FAILED: No services selected"),o("Please select at least one service."),a(!1),clearTimeout(m);return}console.log("🎯 STEP 3: Validation passed - starting submission"),console.log("🔍 Environment check:",{mode:"production",supabaseUrl:void 0,hasAnonKey:!1,urlLength:0});try{const g=[...t.selectedServices];t.otherService&&g.push(t.otherService),console.log("🎯 STEP 4: Inserting quote to database...");const p=Date.now(),v=R.from("quote_requests").insert({name:t.name,email:t.email,phone:t.phone||null,property_address:t.propertyAddress,services:g,preferred_date:t.date||null,comments:t.comments||null,status:"pending"}).select().single(),x=new Promise((_,E)=>setTimeout(()=>E(new Error("Database timeout after 8s")),8e3)),{data:y,error:w}=await Promise.race([v,x]),N=Date.now()-p;if(console.log(`🎯 STEP 5: Database operation completed in ${N}ms`),w)throw console.error("❌ STEP 5 FAILED: Database error:",w),new Error(`Failed to save quote: ${w.message}`);if(!y)throw console.error("❌ STEP 5 FAILED: No data returned from database"),new Error("Failed to save quote: No data returned");console.log("✅ STEP 5 SUCCESS: Quote saved with ID:",y.id);const S=void 0,j=void 0;console.log("🎯 STEP 6: Checking environment variables for email..."),console.log("📋 Environment variables status:",{supabaseUrl:S||"MISSING",supabaseUrlType:typeof S,anonKeyPresent:!!j,anonKeyType:typeof j}),(!S||!j)&&(console.error("❌ STEP 6 FAILED: Missing environment variables!"),console.error("⚠️ Email will be skipped - this should NOT happen in production!"),console.error("🔍 Check Vercel environment variables configuration")),clearTimeout(m),console.log("✅ STEP 10: Failsafe timeout cleared"),console.log("🎯 STEP 11: Navigating to /thank-you page..."),e("/thank-you"),console.log("✅ STEP 11 SUCCESS: navigate() called")}catch(g){console.error("❌ SUBMISSION FAILED - Error caught in catch block:",g),console.error("📋 Error details:",{message:g.message,stack:g.stack,name:g.name}),clearTimeout(m),o(g.message||"Failed to submit quote. Please try again or contact support.")}finally{setTimeout(()=>{a(!1),console.log("✅ FINALLY BLOCK FIRED: Loading state reset complete.")},100)}};return console.log("🔍 RENDER CHECK: handleSubmit function exists:",typeof f=="function"),console.log("🔍 RENDER CHECK: loading state:",n),console.log("🔍 RENDER CHECK: Component rendering at:",new Date().toISOString()),l?s.jsxs(kn,{children:[s.jsx(On,{}),s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-green-400 text-xl",children:"Loading..."})})]}):s.jsxs(kn,{children:[s.jsx(On,{}),s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen px-4 pt-24 pb-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx(l1,{size:"large"})}),s.jsxs(I,{className:"w-full max-w-4xl bg-black/95 border-2 border-green-500 shadow-2xl shadow-green-500/30",children:[s.jsxs(z,{className:"text-center",children:[s.jsx(W,{className:"text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-green-600 mb-2",children:"Instant Landscaping Quote"}),s.jsx("p",{className:"text-gray-300 text-lg",children:"Tell us about your property — we'll provide a detailed quote within 24 hours."})]}),s.jsxs(D,{children:[i&&s.jsx("div",{className:"mb-6 p-4 bg-red-900/30 border-2 border-red-500 rounded-lg text-red-300",children:i}),s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"name",className:"text-green-400 font-semibold",children:"Full Name *"}),s.jsx(de,{id:"name",type:"text",required:!0,value:t.name,onChange:h=>u("name",h.target.value),className:"bg-gray-900/80 border-green-500 text-white"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"email",className:"text-green-400 font-semibold",children:"Email Address *"}),s.jsx(de,{id:"email",type:"email",required:!0,value:t.email,onChange:h=>u("email",h.target.value),className:"bg-gray-900/80 border-green-500 text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"phone",className:"text-green-400 font-semibold",children:"Phone Number"}),s.jsx(de,{id:"phone",type:"tel",value:t.phone,onChange:h=>u("phone",h.target.value),className:"bg-gray-900/80 border-green-500 text-white",placeholder:"(123) 456-7890"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"date",className:"text-green-400 font-semibold",children:"Preferred Start Date"}),s.jsx(de,{id:"date",type:"date",value:t.date,onChange:h=>u("date",h.target.value),className:"bg-gray-900/80 border-green-500 text-white"})]})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"propertyAddress",className:"text-green-400 font-semibold",children:"Property Address *"}),s.jsx(de,{id:"propertyAddress",type:"text",required:!0,value:t.propertyAddress,onChange:h=>u("propertyAddress",h.target.value),className:"bg-gray-900/80 border-green-500 text-white",placeholder:"606 NC Music Factory Blvd"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-green-400 font-semibold mb-4 block text-lg",children:"Services Needed *"}),s.jsx("div",{className:"bg-gray-900/50 border border-green-500/50 rounded-lg p-6",children:s.jsx(CR,{selectedServices:t.selectedServices,otherService:t.otherService,onServiceChange:d,onOtherServiceChange:h=>u("otherService",h)})})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"comments",className:"text-green-400 font-semibold",children:"Project Details & Special Requests"}),s.jsx(ka,{id:"comments",value:t.comments,onChange:h=>u("comments",h.target.value),className:"bg-gray-900/80 border-green-500 text-white min-h-[100px]",placeholder:"Tell us about your vision, property size, timeline, budget range, or any special requirements..."})]}),s.jsx(L,{type:"submit",disabled:n,onClick:h=>{console.log("🖱️ BUTTON CLICKED - Direct onClick handler fired"),console.log("🖱️ Button type:",h.currentTarget.type),console.log("🖱️ Loading state at click:",n),console.log("🖱️ Form element:",h.currentTarget.form)},className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 text-white font-bold py-4 px-8 rounded-lg shadow-lg shadow-green-500/30 hover:shadow-green-500/50 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:n?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-3"}),"Submitting Quote Request..."]}):"Get My Free Quote"}),s.jsx("p",{className:"text-center text-gray-400 text-sm mt-4",children:"* Required fields. We'll respond with your personalized quote within 24 hours."})]})]})]})]})]})}var WK={};class qK{constructor(){Fe(this,"config",{failureThreshold:100,ipThreshold:15,rateLimitThreshold:10,checkInterval:5});Fe(this,"monitoringActive",!1);Fe(this,"intervalId",null)}async startMonitoring(){if(this.monitoringActive){console.log("Monitoring already active");return}this.monitoringActive=!0,console.log("Starting Stripe key monitoring..."),this.intervalId=setInterval(async()=>{await this.performSecurityCheck()},this.config.checkInterval*60*1e3),await this.performSecurityCheck()}stopMonitoring(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.monitoringActive=!1,console.log("Stripe key monitoring stopped")}async performSecurityCheck(){try{const t=await this.detectCompromiseIndicators();t.length>0&&await this.handleSecurityIncident(t),await this.logMonitoringActivity(t)}catch(t){console.error("Security check failed:",t)}}async detectCompromiseIndicators(){const t=[],r=new Date(Date.now()-864e5).toISOString();try{const{data:n}=await R.from("stripe_api_logs").select("*").gte("created_at",r);if(!n)return t;const a=n.filter(u=>u.status>=400);a.length>this.config.failureThreshold&&t.push({type:"high_failure_rate",severity:a.length>this.config.failureThreshold*2?"critical":"high",count:a.length,details:{threshold:this.config.failureThreshold,timeframe:"24 hours"}});const i=new Set(n.map(u=>u.ip_address)).size;i>this.config.ipThreshold&&t.push({type:"unusual_ip_activity",severity:i>this.config.ipThreshold*2?"high":"medium",count:i,details:{threshold:this.config.ipThreshold,timeframe:"24 hours"}});const o=n.filter(u=>u.status===429);o.length>this.config.rateLimitThreshold&&t.push({type:"rate_limit_exceeded",severity:"medium",count:o.length,details:{threshold:this.config.rateLimitThreshold,timeframe:"24 hours"}});const l=n.map(u=>u.ip_location).filter(Boolean),c=new Set(l.map(u=>{var d;return(d=u.split(",").pop())==null?void 0:d.trim()})).size;c>5&&t.push({type:"geographic_anomaly",severity:c>10?"high":"medium",count:c,details:{countries:Array.from(new Set(l.map(u=>{var d;return(d=u.split(",").pop())==null?void 0:d.trim()}))),timeframe:"24 hours"}})}catch(n){console.error("Error detecting compromise indicators:",n)}return t}async handleSecurityIncident(t){const r=t.filter(a=>a.severity==="critical"),n=t.filter(a=>a.severity==="high");for(const a of t)await R.from("stripe_compromise_alerts").insert({alert_type:a.type,severity:a.severity,details:a,resolved:!1});r.length>0?(console.log("Critical security incident detected, initiating automatic key rotation"),await this.initiateKeyRotation("Automated: Critical security incident detected")):n.length>=2&&(console.log("Multiple high-severity incidents detected, initiating automatic key rotation"),await this.initiateKeyRotation("Automated: Multiple high-severity security incidents")),await this.sendSecurityAlert(t)}async initiateKeyRotation(t){try{const{data:r,error:n}=await R.functions.invoke("stripe-key-rotation-manager",{body:{action:"rotate_keys",reason:t,environment:"production"}});n?(console.error("Key rotation failed:",n),await this.logRotationFailure(t,n.message)):console.log("Key rotation successful:",r)}catch(r){console.error("Key rotation error:",r),await this.logRotationFailure(t,String(r))}}async sendSecurityAlert(t){const r=t.filter(a=>a.severity==="critical").length,n=t.filter(a=>a.severity==="high").length;await R.functions.invoke("send-admin-notification",{body:{type:"security_alert",subject:`Stripe Security Alert - ${r} Critical, ${n} High Severity`,message:"Suspicious activity detected on Stripe API keys",details:{indicators:t,total_alerts:t.length,critical_count:r,high_count:n,timestamp:new Date().toISOString()}}})}async logMonitoringActivity(t){console.log(`Security check completed: ${t.length} indicators found`)}async logRotationFailure(t,r){var n;await R.from("stripe_key_rotation_logs").insert({event_type:"rotation_failed",old_key_hint:((n=WK.STRIPE_SECRET_KEY)==null?void 0:n.substring(0,8))+"***"||"unknown",new_key_hint:"",reason:`${t} - Failed: ${r}`,environment:"production"})}updateConfig(t){this.config={...this.config,...t},console.log("Monitoring configuration updated:",this.config)}getConfig(){return{...this.config}}isMonitoring(){return this.monitoringActive}}const VE=new qK;function HK(){const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,i]=b.useState(!1),[o,l]=b.useState(null);b.useEffect(()=>{c(),u(),d()},[]);const c=async()=>{const{data:p}=await R.from("stripe_key_rotation_logs").select("*").order("timestamp",{ascending:!1}).limit(10);p&&t(p)},u=async()=>{const{data:p}=await R.from("stripe_compromise_alerts").select("*").eq("resolved",!1).order("created_at",{ascending:!1});p&&n(p)},d=()=>{const p=setInterval(async()=>{await f(),l(new Date)},3e5);return()=>clearInterval(p)},f=async()=>{try{const{data:p}=await R.functions.invoke("stripe-key-rotation-manager",{body:{action:"check_compromise"}});if(p!=null&&p.compromise_detected){for(const v of p.indicators)await R.from("stripe_compromise_alerts").insert({alert_type:v.type,severity:v.severity,details:v});u(),p.indicators.some(v=>v.severity==="critical")&&await h("Automated: Critical compromise detected")}}catch(p){console.error("Error checking for compromise:",p)}},h=async p=>{i(!0);try{const{data:v}=await R.functions.invoke("stripe-key-rotation-manager",{body:{action:"rotate_keys",reason:p,environment:"production"}});v!=null&&v.success&&(c(),alert("Keys rotated successfully! Please update your environment variables."))}catch(v){console.error("Key rotation failed:",v),alert("Key rotation failed. Please check logs.")}finally{i(!1)}},m=async p=>{await R.from("stripe_compromise_alerts").update({resolved:!0,resolved_at:new Date().toISOString()}).eq("id",p),u()},g=p=>{switch(p){case"critical":return"destructive";case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"secondary"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Stripe Key Security"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage API key security"})]}),s.jsxs(L,{onClick:()=>h("Manual rotation"),disabled:a,className:"flex items-center gap-2",children:[s.jsx(nd,{className:"h-4 w-4"}),a?"Rotating...":"Rotate Keys"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Security Status"}),s.jsx(cn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(D,{children:s.jsx("div",{className:"flex items-center gap-2",children:r.length===0?s.jsxs(s.Fragment,{children:[s.jsx(Oe,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm text-green-600",children:"Secure"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ct,{className:"h-4 w-4 text-red-500"}),s.jsxs("span",{className:"text-sm text-red-600",children:[r.length," Alert",r.length!==1?"s":""]})]})})})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Last Rotation"}),s.jsx(Hm,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(D,{children:s.jsx("div",{className:"text-sm",children:e[0]?new Date(e[0].timestamp).toLocaleDateString():"Never"})})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Last Check"}),s.jsx(ct,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(D,{children:s.jsx("div",{className:"text-sm",children:o?o.toLocaleTimeString():"Starting..."})})]})]}),r.length>0&&s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(ct,{className:"h-5 w-5 text-red-500"}),"Security Alerts"]}),s.jsx(Be,{children:"Active security alerts requiring attention"})]}),s.jsx(D,{className:"space-y-4",children:r.map(p=>{var v;return s.jsx(ze,{children:s.jsxs(We,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(J,{variant:g(p.severity),children:p.severity}),s.jsx("span",{children:p.alert_type.replace("_"," ")}),((v=p.details)==null?void 0:v.count)&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",p.details.count," incidents)"]})]}),s.jsx(L,{size:"sm",variant:"outline",onClick:()=>m(p.id),children:"Resolve"})]})},p.id)})})]}),s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsx(W,{children:"Rotation History"}),s.jsx(Be,{children:"Recent key rotation events"})]}),s.jsx(D,{children:s.jsxs("div",{className:"space-y-4",children:[e.map(p=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:p.reason}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(p.timestamp).toLocaleString()," • ",p.environment]})]}),s.jsx(J,{variant:p.event_type==="rotation"?"default":"destructive",children:p.event_type})]},p.id)),e.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No rotation history available"})]})})]})]})}function KK(){const[e,t]=b.useState([]),[r,n]=b.useState("greenscape-lux.vercel.app"),[a,i]=b.useState(!1),[o,l]=b.useState("idle"),[c,u]=b.useState(""),d=async()=>{i(!0),l("idle");try{const m=await(await fetch("/api/supabase/functions/stripe-production-webhook-setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({domain:r})})).json();if(m.success)t(m.webhooks),l("success"),u("Production webhooks configured successfully!");else throw new Error(m.error)}catch(h){l("error"),u(h instanceof Error?h.message:"Configuration failed")}finally{i(!1)}},f=["payment_intent.succeeded","customer.subscription.updated","invoice.payment_succeeded"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(Ct,{className:"h-5 w-5"}),"Stripe Production Configuration"]}),s.jsx(Be,{children:"Configure live Stripe webhooks for production payment processing"})]}),s.jsxs(D,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ue,{htmlFor:"domain",children:"Production Domain"}),s.jsx(de,{id:"domain",value:r,onChange:h=>n(h.target.value),placeholder:"your-domain.vercel.app"})]}),s.jsx(L,{onClick:d,disabled:a,className:"w-full",children:a?"Configuring...":"Configure Production Webhooks"}),o!=="idle"&&s.jsxs(ze,{className:o==="success"?"border-green-200":"border-red-200",children:[s.jsx(ct,{className:"h-4 w-4"}),s.jsx(We,{children:c})]})]})]}),s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(WU,{className:"h-5 w-5"}),"Webhook Endpoints"]}),s.jsx(Be,{children:"Production webhook endpoints for payment processing"})]}),s.jsx(D,{children:s.jsx("div",{className:"space-y-4",children:e.length>0?e.map(h=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:h.url}),s.jsx(J,{variant:h.status==="active"?"default":"secondary",children:h.status})]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:h.events.map(m=>s.jsx(J,{variant:"outline",className:"text-xs",children:m},m))})]},h.id)):s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No webhooks configured yet"})})})]}),s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsx(W,{children:"Required Events"}),s.jsx(Be,{children:"Essential webhook events for payment processing"})]}),s.jsx(D,{children:s.jsx("div",{className:"space-y-2",children:f.map(h=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-500"}),s.jsx("code",{className:"text-sm",children:h})]},h))})})]})]})}var M1="Progress",D1=100,[GK]=Rn(M1),[YK,JK]=GK(M1),M5=b.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=XK,...o}=e;(a||a===0)&&!zE(a)&&console.error(QK(`${a}`,"Progress"));const l=zE(a)?a:D1;n!==null&&!WE(n,l)&&console.error(ZK(`${n}`,"Progress"));const c=WE(n,l)?n:null,u=sp(c)?i(c,l):void 0;return s.jsx(YK,{scope:r,value:c,max:l,children:s.jsx(ye.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":sp(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":F5(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});M5.displayName=M1;var D5="ProgressIndicator",L5=b.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=JK(D5,r);return s.jsx(ye.div,{"data-state":F5(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});L5.displayName=D5;function XK(e,t){return`${Math.round(e/t*100)}%`}function F5(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function sp(e){return typeof e=="number"}function zE(e){return sp(e)&&!isNaN(e)&&e>0}function WE(e,t){return sp(e)&&!isNaN(e)&&e<=t&&e>=0}function QK(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${D1}\`.`}function ZK(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${D1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var B5=M5,eG=L5;const yo=b.forwardRef(({className:e,value:t,variant:r="default",...n},a)=>s.jsx(B5,{ref:a,className:fe("relative h-2 w-full overflow-hidden rounded-full bg-secondary/40",e),...n,children:s.jsx(eG,{className:fe("h-full w-full flex-1 transition-all duration-300 ease-in-out",r==="default"&&"bg-primary",r==="success"&&"bg-green-500",r==="warning"&&"bg-yellow-500",r==="error"&&"bg-destructive"),style:{transform:`translateX(-${100-(t||0)}%)`}})}));yo.displayName=B5.displayName;const db=()=>{const[e,t]=b.useState({database:"healthy",webhooks:"healthy",stripe:"healthy",edgeFunctions:"healthy",uptime:99.9,responseTime:150,errorRate:.1}),[r,n]=b.useState([]),[a,i]=b.useState(!0),[o,l]=b.useState(new Date);b.useEffect(()=>{c();const f=setInterval(c,6e4);return()=>clearInterval(f)},[]);const c=async()=>{try{i(!0);const f=Date.now(),{error:h}=await R.from("payments").select("count").limit(1),m=Date.now()-f,{data:g}=await R.from("webhook_logs").select("*").gte("created_at",new Date(Date.now()-24*60*60*1e3).toISOString()),{data:p}=await R.from("edge_function_errors").select("*").gte("created_at",new Date(Date.now()-24*60*60*1e3).toISOString()),v=(g==null?void 0:g.filter(j=>j.status==="error").length)||0,x=(g==null?void 0:g.length)||1,y=v/x*100,w=(p==null?void 0:p.length)||0;t({database:h?"critical":m>1e3?"warning":"healthy",webhooks:y>10?"critical":y>5?"warning":"healthy",stripe:"healthy",edgeFunctions:w>10?"critical":w>5?"warning":"healthy",uptime:99.9-w*.1,responseTime:m,errorRate:y});const S=["stripe-webhook","payment-notifications","subscription-updates"].map(j=>({endpoint:j,status:Math.random()>.1?"active":"error",lastSuccess:new Date(Date.now()-Math.random()*36e5).toISOString(),errorCount:Math.floor(Math.random()*5)}));n(S),l(new Date)}catch(f){console.error("Error checking system health:",f)}finally{i(!1)}},u=f=>{switch(f){case"healthy":return"text-green-600 bg-green-50";case"warning":return"text-yellow-600 bg-yellow-50";case"critical":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},d=f=>{switch(f){case"healthy":return s.jsx(Oe,{className:"h-4 w-4 text-green-500"});case"warning":return s.jsx(ct,{className:"h-4 w-4 text-yellow-500"});case"critical":return s.jsx(ct,{className:"h-4 w-4 text-red-500"});default:return s.jsx(gi,{className:"h-4 w-4 text-gray-500"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Database"}),s.jsx(g4,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(D,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[d(e.database),s.jsx(J,{className:u(e.database),children:e.database})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Response: ",e.responseTime,"ms"]})]})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Webhooks"}),s.jsx(vi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(D,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[d(e.webhooks),s.jsx(J,{className:u(e.webhooks),children:e.webhooks})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Error rate: ",e.errorRate.toFixed(1),"%"]})]})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Stripe API"}),s.jsx(BU,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(D,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[d(e.stripe),s.jsx(J,{className:u(e.stripe),children:e.stripe})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"All systems operational"})]})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Edge Functions"}),s.jsx(gi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(D,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[d(e.edgeFunctions),s.jsx(J,{className:u(e.edgeFunctions),children:e.edgeFunctions})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Uptime: ",e.uptime.toFixed(1),"%"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"System Metrics"})}),s.jsxs(D,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{children:"Uptime"}),s.jsxs("span",{children:[e.uptime.toFixed(1),"%"]})]}),s.jsx(yo,{value:e.uptime,className:"h-2"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{children:"Response Time"}),s.jsxs("span",{children:[e.responseTime,"ms"]})]}),s.jsx(yo,{value:Math.max(0,100-e.responseTime/10),className:"h-2"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{children:"Error Rate"}),s.jsxs("span",{children:[e.errorRate.toFixed(1),"%"]})]}),s.jsx(yo,{value:Math.max(0,100-e.errorRate*10),className:"h-2"})]})]})]}),s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(W,{children:"Webhook Endpoints"}),s.jsx(L,{size:"sm",onClick:c,disabled:a,children:a?"Checking...":"Refresh"})]})}),s.jsxs(D,{children:[s.jsx("div",{className:"space-y-3",children:r.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:f.endpoint}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last success: ",new Date(f.lastSuccess).toLocaleTimeString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(J,{className:f.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:f.status}),f.errorCount>0&&s.jsxs("span",{className:"text-xs text-red-600",children:[f.errorCount," errors"]})]})]},f.endpoint))}),s.jsxs("div",{className:"mt-4 text-xs text-muted-foreground",children:["Last checked: ",o.toLocaleTimeString()]})]})]})]})]})};function qE({clients:e,landscapers:t}){const[r,n]=b.useState("clients"),[a,i]=b.useState(""),[o,l]=b.useState("all"),[c,u]=b.useState("all"),[d,f]=b.useState(null),[h,m]=b.useState(!1),{toast:g}=$n(),p=[...e.map(j=>({...j,role:"client"})),...t.map(j=>({...j,role:"landscaper"}))],x=(o==="all"?p:o==="client"?e.map(j=>({...j,role:"client"})):t.map(j=>({...j,role:"landscaper"}))).filter(j=>{const _=j.name.toLowerCase().includes(a.toLowerCase())||j.email.toLowerCase().includes(a.toLowerCase()),E=c==="all"||j.status===c;return _&&E}),y=async j=>{f(j),m(!0)},w=async j=>{try{const{error:_}=await R.functions.invoke("unified-email",{body:{type:"password_reset",to:j.email,data:{user_email:j.email,reset_link:`${window.location.origin}/reset-password`}}});if(_)throw _;g({title:"Password Reset Sent",description:`Reset email sent to ${j.email}`})}catch(_){g({title:"Error",description:_.message||"Failed to send reset email",variant:"destructive"})}},N=async j=>{try{const{error:_}=await R.from("users").update({is_active:!1}).eq("id",j.id);if(_)throw _;g({title:"User Suspended",description:`${j.name} has been suspended`})}catch(_){g({title:"Error",description:_.message||"Failed to suspend user",variant:"destructive"})}},S=j=>({active:"bg-green-500/20 text-green-300 border-green-500/30",suspended:"bg-red-500/20 text-red-300 border-red-500/30",pending:"bg-yellow-500/20 text-yellow-300 border-yellow-500/30"})[j]||"bg-gray-500/20 text-gray-300 border-gray-500/30";return s.jsxs(s.Fragment,{children:[s.jsx(I,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl ring-1 ring-green-500/20 shadow-[0_0_25px_-10px_rgba(34,197,94,0.25)] hover:shadow-[0_0_35px_-5px_rgba(34,197,94,0.35)] transition-all duration-300 col-span-2",children:s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Kc,{className:"w-5 h-5 text-green-400"}),s.jsx("h2",{className:"text-lg font-semibold text-green-300",children:"User Management"})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(L,{onClick:()=>n("clients"),className:`flex-1 rounded-full text-xs ${r==="clients"?"bg-blue-600/30 border-blue-500/50 text-blue-300":"bg-blue-600/10 hover:bg-blue-600/20 border-blue-500/20 text-blue-400"}`,children:["Clients (",e.length,")"]}),s.jsxs(L,{onClick:()=>n("landscapers"),className:`flex-1 rounded-full text-xs ${r==="landscapers"?"bg-purple-600/30 border-purple-500/50 text-purple-300":"bg-purple-600/10 hover:bg-purple-600/20 border-purple-500/20 text-purple-400"}`,children:["Landscapers (",t.length,")"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Id,{className:"w-3 h-3 absolute left-2 top-2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:j=>i(j.target.value),className:"w-full pl-7 pr-3 py-1.5 text-xs bg-black/40 border border-gray-600 rounded-lg text-white placeholder-gray-400"})]}),s.jsxs("select",{value:o,onChange:j=>l(j.target.value),className:"text-xs bg-black/40 border border-gray-600 rounded-lg px-2 py-1 text-green-300",children:[s.jsx("option",{value:"all",children:"All Roles"}),s.jsx("option",{value:"client",children:"Clients"}),s.jsx("option",{value:"landscaper",children:"Landscapers"})]}),s.jsxs("select",{value:c,onChange:j=>u(j.target.value),className:"text-xs bg-black/40 border border-gray-600 rounded-lg px-2 py-1 text-green-300",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"suspended",children:"Suspended"}),s.jsx("option",{value:"pending",children:"Pending"})]})]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto mb-4",children:x.slice(0,4).map(j=>s.jsxs("div",{className:"rounded-xl bg-black/40 border border-gray-700/50 p-3 hover:bg-black/60 hover:border-green-500/30 transition-all duration-200 hover:shadow-[0_0_10px_rgba(34,197,94,0.2)]",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-sm font-medium text-green-300",children:j.name}),"role"in j&&s.jsx(J,{className:`text-xs ${j.role==="client"?"bg-blue-500/20 text-blue-300 border-blue-500/30":"bg-purple-500/20 text-purple-300 border-purple-500/30"}`,children:j.role})]}),s.jsx(J,{className:`text-xs ${S(j.status)}`,children:j.status})]}),s.jsx("div",{className:"text-xs text-gray-400",children:j.email}),s.jsx("div",{className:"text-xs text-gray-500",children:j.city||"Charlotte, NC"})]},j.id))}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[s.jsxs(L,{onClick:()=>x[0]&&y(x[0]),disabled:x.length===0,className:"rounded-full bg-green-600/20 hover:bg-green-600/30 border border-green-500/40 text-green-300 text-xs",children:[s.jsx(VU,{className:"w-3 h-3 mr-1"}),"View"]}),s.jsxs(L,{onClick:()=>x[0]&&w(x[0]),disabled:x.length===0,className:"rounded-full bg-yellow-600/20 hover:bg-yellow-600/30 border border-yellow-500/40 text-yellow-300 text-xs",children:[s.jsx(nd,{className:"w-3 h-3 mr-1"}),"Reset"]}),s.jsxs(L,{onClick:()=>x[0]&&N(x[0]),disabled:x.length===0,className:"rounded-full bg-red-600/20 hover:bg-red-600/30 border border-red-500/40 text-red-300 text-xs",children:[s.jsx(zU,{className:"w-3 h-3 mr-1"}),"Suspend"]})]}),s.jsxs(L,{className:"w-full rounded-full bg-green-600/20 hover:bg-green-600/30 border border-green-500/40 text-green-300 text-sm hover:shadow-[0_0_15px_rgba(34,197,94,0.3)]",children:[s.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Manage All Users"]})]})}),s.jsx(Ko,{open:h,onOpenChange:m,children:s.jsxs(Ai,{children:[s.jsx(Oi,{children:s.jsx(Ti,{children:"User Details"})}),d&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Name"}),s.jsx("p",{className:"text-lg",children:d.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Email"}),s.jsx("p",{children:d.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Role"}),s.jsx(J,{children:d.role})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsx(J,{className:S(d.status),children:d.status})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Location"}),s.jsx("p",{children:d.city||"Charlotte, NC"})]})]})]})})]})}var rv="Switch",[tG]=Rn(rv),[rG,nG]=tG(rv),U5=b.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=b.useState(null),g=De(t,w=>m(w)),p=b.useRef(!1),v=h?d||!!h.closest("form"):!0,[x,y]=xi({prop:a,defaultProp:i??!1,onChange:u,caller:rv});return s.jsxs(rG,{scope:r,checked:x,disabled:l,children:[s.jsx(ye.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":q5(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:be(e.onClick,w=>{y(N=>!N),v&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),v&&s.jsx(W5,{control:h,bubbles:!p.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});U5.displayName=rv;var V5="SwitchThumb",z5=b.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=nG(V5,r);return s.jsx(ye.span,{"data-state":q5(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});z5.displayName=V5;var sG="SwitchBubbleInput",W5=b.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=b.useRef(null),l=De(o,i),c=h1(r),u=m1(t);return b.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});W5.displayName=sG;function q5(e){return e?"checked":"unchecked"}var H5=U5,aG=z5;const Ya=b.forwardRef(({className:e,...t},r)=>s.jsx(H5,{className:fe("peer inline-flex h-5 w-10 shrink-0 cursor-pointer items-center rounded-full border border-transparent transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(aG,{className:fe("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-md ring-0 transition-transform duration-200 ease-in-out data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0.5 data-[state=checked]:bg-white")})}));Ya.displayName=H5.displayName;function iG({landscaper:e,onApprovalChange:t}){const[r,n]=b.useState(!1),a=e.insurance_file&&e.license_file;a&&e.approved;const i=async()=>{if(a){n(!0);try{const o=!e.approved,{error:l}=await R.from("landscapers").update({approved:o,approval_date:o?new Date().toISOString():null}).eq("id",e.id);if(l)throw l;await R.from("approval_logs").insert({landscaper_id:e.id,action:o?"approved":"revoked",timestamp:new Date().toISOString()}),t(e.id,o)}catch(o){console.error("Error updating approval status:",o)}finally{n(!1)}}};return s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium",children:[e.first_name," ",e.last_name]}),s.jsx("p",{className:"text-sm text-gray-600",children:e.email})]}),s.jsx("div",{className:"flex items-center space-x-2",children:e.approved?s.jsxs(J,{className:"bg-green-100 text-green-800",children:[s.jsx(Oe,{className:"h-3 w-3 mr-1"}),"Approved"]}):s.jsxs(J,{variant:"secondary",children:[s.jsx(it,{className:"h-3 w-3 mr-1"}),"Pending"]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex space-x-4 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Fs,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{className:e.insurance_file?"text-green-600":"text-red-600",children:["Insurance: ",e.insurance_file?"✓":"✗"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Fs,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{className:e.license_file?"text-green-600":"text-red-600",children:["License: ",e.license_file?"✓":"✗"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[!a&&s.jsxs("div",{className:"flex items-center text-amber-600 text-sm",children:[s.jsx(bt,{className:"h-4 w-4 mr-1"}),"Missing docs"]}),s.jsx(Ya,{checked:e.approved,onCheckedChange:i,disabled:!a||r})]})]})]})}function oG(){const[e,t]=b.useState([]),[r,n]=b.useState(!0);b.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:o,error:l}=await R.from("landscapers").select("id, name, email, phone, approved, created_at, business_name, experience_years").order("created_at",{ascending:!1});if(l)throw l;t(o||[])}catch(o){console.error("Error fetching landscapers:",o)}finally{n(!1)}},i=(o,l)=>{t(c=>c.map(u=>u.id===o?{...u,approved:l,approval_date:l?new Date().toISOString():null}:u))};return r?s.jsx("div",{className:"p-4 text-white",children:"Loading landscapers..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cn,{className:"h-6 w-6 text-green-400"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Landscaper Approval System"})]}),s.jsxs("div",{className:"grid gap-4",children:[e.map(o=>s.jsx(iG,{landscaper:{id:o.id,first_name:o.first_name,last_name:o.last_name,email:o.email,approved:o.approved,insurance_file:o.insurance_file,license_file:o.license_file,documents_uploaded:o.documents_uploaded},onApprovalChange:i},o.id)),e.length===0&&s.jsx(I,{className:"bg-black/40 border-green-500/25 p-6",children:s.jsx("div",{className:"text-center text-gray-400",children:"No landscapers found. New signups will appear here for approval."})})]})]})}const L1=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:fe("w-full caption-bottom text-sm",e),...t})}));L1.displayName="Table";const F1=b.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:fe("[&_tr]:border-b",e),...t}));F1.displayName="TableHeader";const B1=b.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:fe("[&_tr:last-child]:border-0",e),...t}));B1.displayName="TableBody";const lG=b.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));lG.displayName="TableFooter";const Bd=b.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Bd.displayName="TableRow";const _s=b.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:fe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));_s.displayName="TableHead";const Es=b.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:fe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Es.displayName="TableCell";const cG=b.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:fe("mt-4 text-sm text-muted-foreground",e),...t}));cG.displayName="TableCaption";async function uG(e,t=100){try{let r=R.from("system_audit_logs").select("*").order("created_at",{ascending:!1}).limit(t);e!=null&&e.type&&(r=r.eq("type",e.type)),e!=null&&e.userId&&(r=r.eq("user_id",e.userId)),e!=null&&e.startDate&&(r=r.gte("created_at",e.startDate.toISOString())),e!=null&&e.endDate&&(r=r.lte("created_at",e.endDate.toISOString()));const{data:n,error:a}=await r;return a?(console.error("Failed to retrieve audit logs:",a),[]):n||[]}catch(r){return console.error("Error retrieving audit logs:",r),[]}}function dG(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(null);b.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0),i(null);const u=await uG({limit:100});t(u)}catch(u){console.error("Error loading audit logs:",u),i("Failed to load system logs")}finally{n(!1)}},l=u=>new Date(u).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),c=u=>u.includes("success")||u.includes("approved")?"bg-green-500/20 text-green-300 border-green-500/30":u.includes("failed")||u.includes("error")?"bg-red-500/20 text-red-300 border-red-500/30":u.includes("logout")?"bg-yellow-500/20 text-yellow-300 border-yellow-500/30":"bg-blue-500/20 text-blue-300 border-blue-500/30";return s.jsxs(I,{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl",children:[s.jsx(z,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Fs,{className:"h-6 w-6 text-emerald-400"}),s.jsxs("div",{children:[s.jsx(W,{className:"text-white",children:"System Logs"}),s.jsx(Be,{className:"text-emerald-300/70",children:"Last 100 audit events"})]})]})}),s.jsx(D,{children:r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Pn,{className:"h-8 w-8 text-emerald-400 animate-spin"})}):a?s.jsxs("div",{className:"flex items-center gap-3 text-red-400 py-8 justify-center",children:[s.jsx(bt,{className:"h-5 w-5"}),s.jsx("span",{children:a})]}):e.length===0?s.jsx("div",{className:"text-center py-12 text-gray-400",children:"No audit logs found"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(L1,{children:[s.jsx(F1,{children:s.jsxs(Bd,{className:"border-emerald-500/20 hover:bg-transparent",children:[s.jsx(_s,{className:"text-emerald-300",children:"Event Type"}),s.jsx(_s,{className:"text-emerald-300",children:"User ID"}),s.jsx(_s,{className:"text-emerald-300",children:"Timestamp"})]})}),s.jsx(B1,{children:e.map(u=>s.jsxs(Bd,{className:"border-emerald-500/10 hover:bg-emerald-500/5",children:[s.jsx(Es,{children:s.jsx(J,{className:c(u.type),children:u.type})}),s.jsx(Es,{className:"text-gray-300 font-mono text-sm",children:u.user_id||"N/A"}),s.jsx(Es,{className:"text-gray-400 text-sm",children:l(u.created_at)})]},u.id))})]})})})]})}const fg=class fg{static getInstance(){return this.instance||(this.instance=new fg),this.instance}async validateStripeKey(t){const r={isValid:!1,keyType:"unknown",environment:"unknown",errors:[]};if(!t||typeof t!="string")return r.errors.push("Key is required and must be a string"),r;if(t.startsWith("pk_test_"))r.keyType="publishable",r.environment="test";else if(t.startsWith("pk_live_"))r.keyType="publishable",r.environment="live";else if(t.startsWith("sk_test_"))r.keyType="secret",r.environment="test";else if(t.startsWith("sk_live_"))r.keyType="secret",r.environment="live";else if(t.startsWith("whsec_"))r.keyType="webhook",r.environment="both";else return r.errors.push("Invalid Stripe key format"),r;try{const n=await R.functions.invoke("validate-stripe-key",{body:{key:t,keyType:r.keyType}});n.error?r.errors.push("Key validation failed: "+n.error.message):r.isValid=!0}catch{r.errors.push("Failed to validate key with Stripe API")}return r}async syncEnvironmentVariables(t,r){try{const{data:n,error:a}=await R.functions.invoke("sync-environment-variables",{body:{sourceEnv:t,targetEnv:r}});if(a)throw a;return n.success}catch(n){return console.error("Environment sync failed:",n),!1}}async rotateStripeKeys(t){try{const{data:r,error:n}=await R.functions.invoke("rotate-stripe-keys",{body:{environment:t}});if(n)throw n;return await this.logKeyRotation(t,"stripe_keys","success"),!0}catch(r){return await this.logKeyRotation(t,"stripe_keys","failed"),console.error("Key rotation failed:",r),!1}}async logKeyRotation(t,r,n){await R.from("stripe_key_rotation_logs").insert({environment:t,key_type:r,status:n,rotated_at:new Date().toISOString()})}async getEnvironmentStatus(t){try{const{data:r,error:n}=await R.functions.invoke("get-environment-status",{body:{environment:t}});if(n)throw n;return r}catch(r){return console.error("Failed to get environment status:",r),null}}};Fe(fg,"instance");let fb=fg;function fG(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(!1),[o,l]=b.useState(null),c=fb.getInstance();b.useEffect(()=>{u()},[]);const u=async()=>{n(!0);try{const g=["development","staging","production"],p=await Promise.all(g.map(async v=>{const x=await c.getEnvironmentStatus(v);return{environment:v,keys:(x==null?void 0:x.keys)||{publishable:{status:"unknown"},secret:{status:"unknown"},webhook:{status:"unknown"}},lastSync:x==null?void 0:x.lastSync}}));t(p)}catch(g){console.error("Failed to load environment statuses:",g)}finally{n(!1)}},d=async(g,p)=>{i(!0);try{await c.syncEnvironmentVariables(g,p)&&await u()}catch(v){console.error("Sync failed:",v)}finally{i(!1)}},f=async g=>{l(g);try{await c.rotateStripeKeys(g)&&await u()}catch(p){console.error("Rotation failed:",p)}finally{l(null)}},h=g=>{switch(g){case"valid":return"bg-green-500";case"invalid":return"bg-red-500";case"expired":return"bg-yellow-500";default:return"bg-gray-500"}},m=g=>{switch(g){case"valid":return s.jsx(Oe,{className:"h-4 w-4"});case"invalid":return s.jsx(ct,{className:"h-4 w-4"});default:return s.jsx(cn,{className:"h-4 w-4"})}};return r?s.jsx(I,{children:s.jsx(D,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx(tr,{className:"h-6 w-6 animate-spin mr-2"}),"Loading environment statuses..."]})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(I,{children:s.jsxs(z,{children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(Hm,{className:"h-5 w-5"}),"Environment Variables Management"]}),s.jsx(Be,{children:"Manage and sync Stripe API keys across development, staging, and production environments"})]})}),s.jsxs(fn,{defaultValue:"overview",className:"space-y-4",children:[s.jsxs(zr,{children:[s.jsx(he,{value:"overview",children:"Overview"}),s.jsx(he,{value:"sync",children:"Environment Sync"}),s.jsx(he,{value:"rotation",children:"Key Rotation"})]}),s.jsx(me,{value:"overview",className:"space-y-4",children:s.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:e.map(g=>s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs(W,{className:"capitalize flex items-center justify-between",children:[g.environment,s.jsx(J,{variant:g.environment==="production"?"destructive":"secondary",children:g.environment==="production"?"LIVE":"TEST"})]})}),s.jsxs(D,{className:"space-y-3",children:[Object.entries(g.keys).map(([p,v])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm capitalize",children:p.replace("_"," ")}),s.jsxs("div",{className:"flex items-center gap-2",children:[m(v.status),s.jsx(J,{className:h(v.status),children:v.status})]})]},p)),g.lastSync&&s.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Last sync: ",new Date(g.lastSync).toLocaleString()]})]})]},g.environment))})}),s.jsxs(me,{value:"sync",className:"space-y-4",children:[s.jsxs(ze,{children:[s.jsx(nd,{className:"h-4 w-4"}),s.jsx(We,{children:"Sync environment variables between environments. Always test in staging before production."})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsx(W,{children:"Development → Staging"}),s.jsx(Be,{children:"Sync test keys to staging environment"})]}),s.jsx(D,{children:s.jsxs(L,{onClick:()=>d("development","staging"),disabled:a,className:"w-full",children:[a?s.jsx(tr,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(nd,{className:"h-4 w-4 mr-2"}),"Sync to Staging"]})})]}),s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsx(W,{children:"Staging → Production"}),s.jsx(Be,{children:"Deploy validated keys to production"})]}),s.jsx(D,{children:s.jsxs(L,{onClick:()=>d("staging","production"),disabled:a,variant:"destructive",className:"w-full",children:[a?s.jsx(tr,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(nd,{className:"h-4 w-4 mr-2"}),"Deploy to Production"]})})]})]})]}),s.jsxs(me,{value:"rotation",className:"space-y-4",children:[s.jsxs(ze,{children:[s.jsx(cn,{className:"h-4 w-4"}),s.jsx(We,{children:"Rotate API keys for security. This will generate new keys and update all environments."})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:e.map(g=>s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsx(W,{className:"capitalize",children:g.environment}),s.jsx(Be,{children:"Rotate all Stripe keys for this environment"})]}),s.jsx(D,{children:s.jsxs(L,{onClick:()=>f(g.environment),disabled:o===g.environment,variant:g.environment==="production"?"destructive":"default",className:"w-full",children:[o===g.environment?s.jsx(tr,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(Hm,{className:"h-4 w-4 mr-2"}),"Rotate Keys"]})})]},g.environment))})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(L,{onClick:u,variant:"outline",children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),"Refresh Status"]})})]})}function hG(){const[e,t]=b.useState(null),[r,n]=b.useState(!1),[a,i]=b.useState([]),[o,l]=b.useState(null),c=async()=>{n(!0);try{const{data:f,error:h}=await R.functions.invoke("vercel-credentials-detector");if(h)throw h;t(f)}catch(f){console.error("Failed to detect credentials:",f)}finally{n(!1)}},u=async f=>{n(!0);try{const{data:h,error:m}=await R.functions.invoke("sync-environment-variables",{body:{environment:f,variables:{STRIPE_SECRET_KEY:"sk_test_...",VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_..."}}});if(m)throw m;l(h)}catch(h){console.error("Sync failed:",h)}finally{n(!1)}},d=async()=>{n(!0);try{const f=await R.functions.invoke("validate-stripe-key",{body:{key:"sk_test_...",type:"secret",blockDeployment:!0}}),h=await R.functions.invoke("validate-stripe-key",{body:{key:"pk_test_...",type:"publishable",blockDeployment:!0}});console.log("Validation results:",{secretValidation:f,publishableValidation:h})}catch(f){console.error("Validation failed:",f)}finally{n(!1)}};return b.useEffect(()=>{c()},[]),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Vercel Integration"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage environment variables and deployments across all environments"})]}),s.jsxs(L,{onClick:c,disabled:r,children:[s.jsx(tr,{className:`mr-2 h-4 w-4 ${r?"animate-spin":""}`}),"Refresh"]})]}),s.jsxs(fn,{defaultValue:"setup",className:"space-y-4",children:[s.jsxs(zr,{children:[s.jsx(he,{value:"setup",children:"Setup"}),s.jsx(he,{value:"sync",children:"Environment Sync"}),s.jsx(he,{value:"deployments",children:"Deployments"}),s.jsx(he,{value:"validation",children:"Key Validation"})]}),s.jsx(me,{value:"setup",className:"space-y-4",children:s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsx(W,{children:"Vercel Credentials Status"}),s.jsx(Be,{children:"Configure your Vercel integration credentials"})]}),s.jsx(D,{className:"space-y-4",children:e!=null&&e.user?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-5 w-5 text-green-500"}),s.jsxs("span",{children:["Connected as ",e.user.name||e.user.email]})]}),e.teams&&e.teams.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Available Teams:"}),s.jsx("div",{className:"space-y-2",children:e.teams.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsx("span",{children:f.name}),s.jsx(J,{variant:"outline",children:f.id})]},f.id))})]}),e.projects&&e.projects.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Available Projects:"}),s.jsx("div",{className:"space-y-2",children:e.projects.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsx("span",{children:f.name}),s.jsx(J,{variant:"outline",children:f.id})]},f.id))})]})]}):s.jsxs(ze,{children:[s.jsx(ct,{className:"h-4 w-4"}),s.jsx(We,{children:"Vercel credentials not configured. Please add VERCEL_TOKEN, VERCEL_ORG_ID, and VERCEL_PROJECT_ID to your Supabase secrets."})]})})]})}),s.jsxs(me,{value:"sync",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsx(W,{children:"Development"}),s.jsx(Be,{children:"Sync to development environment"})]}),s.jsx(D,{children:s.jsx(L,{onClick:()=>u("development"),disabled:r,className:"w-full",children:"Sync Development"})})]}),s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsx(W,{children:"Staging"}),s.jsx(Be,{children:"Sync to staging environment"})]}),s.jsx(D,{children:s.jsx(L,{onClick:()=>u("preview"),disabled:r,className:"w-full",children:"Sync Staging"})})]}),s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsx(W,{children:"Production"}),s.jsx(Be,{children:"Sync to production environment"})]}),s.jsx(D,{children:s.jsx(L,{onClick:()=>u("production"),disabled:r,className:"w-full",variant:"destructive",children:"Sync Production"})})]})]}),o&&s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Last Sync Result"})}),s.jsx(D,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[o.success?s.jsx(Oe,{className:"h-5 w-5 text-green-500"}):s.jsx(gt,{className:"h-5 w-5 text-red-500"}),s.jsxs("span",{children:["Environment: ",o.environment]})]}),o.syncedVariables&&s.jsx("div",{children:s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Synced: ",o.syncedVariables.join(", ")]})}),o.deployment&&s.jsx("div",{children:s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Deployment: ",o.deployment.id]})})]})})]})]}),s.jsx(me,{value:"validation",className:"space-y-4",children:s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsx(W,{children:"Stripe Key Validation"}),s.jsx(Be,{children:"Validate Stripe keys and block deployments if invalid"})]}),s.jsx(D,{children:s.jsx(L,{onClick:d,disabled:r,children:"Validate Keys"})})]})})]})]})}function mG({dispute:e,onClose:t,onUpdate:r}){var c,u,d,f,h;const[n,a]=b.useState(""),[i,o]=b.useState(!1),l=async m=>{o(!0);try{const{error:g}=await R.from("payout_disputes").update({status:m,resolution_notes:n,resolved_at:m==="resolved"||m==="rejected"?new Date().toISOString():null}).eq("id",e.id);if(g)throw g;await R.functions.invoke("unified-email",{body:{type:"payout_dispute_status_update",to:e.landscaper.email,data:{disputeId:e.id,status:m,notes:n}}}),r(),t()}catch(g){console.error("Error updating dispute:",g)}finally{o(!1)}};return s.jsx(Ko,{open:!0,onOpenChange:t,children:s.jsxs(Ai,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Oi,{children:s.jsx(Ti,{children:"Review Dispute"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Landscaper"}),s.jsx("p",{className:"font-semibold",children:(c=e.landscaper)==null?void 0:c.business_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(u=e.landscaper)==null?void 0:u.email})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Payout Amount"}),s.jsxs("p",{className:"font-semibold",children:["$",(d=e.payout)==null?void 0:d.amount]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stripe ID: ",(f=e.payout)==null?void 0:f.stripe_payout_id]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Dispute Reason"}),s.jsx(J,{children:e.dispute_reason.replace(/_/g," ")})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Details"}),s.jsx("p",{className:"text-sm",children:e.dispute_details})]}),((h=e.evidence_urls)==null?void 0:h.length)>0&&s.jsxs("div",{children:[s.jsx(ue,{children:"Evidence"}),s.jsx("div",{className:"space-y-2",children:e.evidence_urls.map((m,g)=>s.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-blue-600 hover:underline",children:[s.jsx(kf,{className:"h-4 w-4"}),"Evidence ",g+1]},g))})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Resolution Notes"}),s.jsx(ka,{value:n,onChange:m=>a(m.target.value),placeholder:"Add notes about the resolution...",rows:4})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(L,{onClick:()=>l("under_review"),disabled:i,variant:"outline",children:"Mark Under Review"}),s.jsx(L,{onClick:()=>l("resolved"),disabled:i,className:"bg-green-600 hover:bg-green-700",children:"Resolve"}),s.jsx(L,{onClick:()=>l("rejected"),disabled:i,variant:"destructive",children:"Reject"})]})]})]})})}function pG(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(null),[o,l]=b.useState("pending");b.useEffect(()=>{c()},[o]);const c=async()=>{n(!0);const{data:d,error:f}=await R.from("payout_disputes").select(`
        *,
        landscaper:landscapers(business_name, email),
        payout:payouts(amount, stripe_payout_id)
      `).eq("status",o).order("created_at",{ascending:!1});!f&&d&&t(d),n(!1)},u=d=>({pending:"bg-yellow-500",under_review:"bg-blue-500",resolved:"bg-green-500",rejected:"bg-red-500"})[d]||"bg-gray-500";return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Payout Dispute Queue"})}),s.jsx(D,{children:s.jsxs(fn,{value:o,onValueChange:l,children:[s.jsxs(zr,{children:[s.jsx(he,{value:"pending",children:"Pending"}),s.jsx(he,{value:"under_review",children:"Under Review"}),s.jsx(he,{value:"resolved",children:"Resolved"}),s.jsx(he,{value:"rejected",children:"Rejected"})]}),s.jsx(me,{value:o,className:"space-y-4 mt-4",children:r?s.jsx("p",{children:"Loading disputes..."}):e.length===0?s.jsxs("p",{className:"text-muted-foreground",children:["No ",o," disputes"]}):e.map(d=>{var f,h;return s.jsx(I,{children:s.jsx(D,{className:"pt-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(J,{className:u(d.status),children:d.status}),s.jsx("span",{className:"font-semibold",children:(f=d.landscaper)==null?void 0:f.business_name})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Reason: ",d.dispute_reason.replace(/_/g," ")]}),s.jsxs("p",{className:"text-sm",children:["Amount: $",(h=d.payout)==null?void 0:h.amount]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(d.created_at).toLocaleDateString()})]}),s.jsx(L,{onClick:()=>i(d),children:"Review"})]})})},d.id)})})]})})]}),a&&s.jsx(mG,{dispute:a,onClose:()=>i(null),onUpdate:c})]})}function _e(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Vr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Sr(e,t){const r=_e(e);return isNaN(t)?Vr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function fs(e,t){const r=_e(e);if(isNaN(t))return Vr(e,NaN);if(!t)return r;const n=r.getDate(),a=Vr(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const U1=6048e5,gG=864e5,_h=43200,HE=1440;let vG={};function eu(){return vG}function Vs(e,t){var l,c,u,d;const r=eu(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=_e(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Io(e){return Vs(e,{weekStartsOn:1})}function K5(e){const t=_e(e),r=t.getFullYear(),n=Vr(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Io(n),i=Vr(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Io(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function cc(e){const t=_e(e);return t.setHours(0,0,0,0),t}function uc(e){const t=_e(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function As(e,t){const r=cc(e),n=cc(t),a=+r-uc(r),i=+n-uc(n);return Math.round((a-i)/gG)}function xG(e){const t=K5(e),r=Vr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Io(r)}function hb(e,t){const r=t*7;return Sr(e,r)}function yG(e,t){return fs(e,t*12)}function bG(e){let t;return e.forEach(function(r){const n=_e(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function wG(e){let t;return e.forEach(r=>{const n=_e(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function pm(e,t){const r=_e(e),n=_e(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function jG(e){return Vr(e,Date.now())}function Mr(e,t){const r=cc(e),n=cc(t);return+r==+n}function V1(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function SG(e){if(!V1(e)&&typeof e!="number")return!1;const t=_e(e);return!isNaN(Number(t))}function dc(e,t){const r=_e(e),n=_e(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function NG(e,t,r){const n=Vs(e,r),a=Vs(t,r),i=+n-uc(n),o=+a-uc(a);return Math.round((i-o)/U1)}function _G(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function EG(e,t){return+_e(e)-+_e(t)}function PG(e){const t=_e(e);return t.setHours(23,59,59,999),t}function nv(e){const t=_e(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function kG(e){const t=_e(e);return+PG(t)==+nv(t)}function CG(e,t){const r=_e(e),n=_e(t),a=pm(r,n),i=Math.abs(dc(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=pm(r,n)===-a;kG(_e(e))&&i===1&&pm(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function AG(e,t,r){const n=EG(e,t)/1e3;return _G(r==null?void 0:r.roundingMethod)(n)}function Ur(e){const t=_e(e);return t.setDate(1),t.setHours(0,0,0,0),t}function G5(e){const t=_e(e),r=Vr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function z1(e,t){var l,c,u,d;const r=eu(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=_e(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function Y5(e){return z1(e,{weekStartsOn:1})}const OG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},TG=(e,t,r)=>{let n;const a=OG[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ey(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const RG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},IG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$G={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},MG={date:ey({formats:RG,defaultWidth:"full"}),time:ey({formats:IG,defaultWidth:"full"}),dateTime:ey({formats:$G,defaultWidth:"full"})},DG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},LG=(e,t,r,n)=>DG[e];function Eu(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const FG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},BG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},UG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},VG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},WG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qG=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},HG={ordinalNumber:qG,era:Eu({values:FG,defaultWidth:"wide"}),quarter:Eu({values:BG,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Eu({values:UG,defaultWidth:"wide"}),day:Eu({values:VG,defaultWidth:"wide"}),dayPeriod:Eu({values:zG,defaultWidth:"wide",formattingValues:WG,defaultFormattingWidth:"wide"})};function Pu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?GG(l,f=>f.test(o)):KG(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function KG(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function GG(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function YG(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const JG=/^(\d+)(th|st|nd|rd)?/i,XG=/\d+/i,QG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ZG={any:[/^b/i,/^(a|c)/i]},eY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tY={any:[/1/i,/2/i,/3/i,/4/i]},rY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lY={ordinalNumber:YG({matchPattern:JG,parsePattern:XG,valueCallback:e=>parseInt(e,10)}),era:Pu({matchPatterns:QG,defaultMatchWidth:"wide",parsePatterns:ZG,defaultParseWidth:"any"}),quarter:Pu({matchPatterns:eY,defaultMatchWidth:"wide",parsePatterns:tY,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Pu({matchPatterns:rY,defaultMatchWidth:"wide",parsePatterns:nY,defaultParseWidth:"any"}),day:Pu({matchPatterns:sY,defaultMatchWidth:"wide",parsePatterns:aY,defaultParseWidth:"any"}),dayPeriod:Pu({matchPatterns:iY,defaultMatchWidth:"any",parsePatterns:oY,defaultParseWidth:"any"})},W1={code:"en-US",formatDistance:TG,formatLong:MG,formatRelative:LG,localize:HG,match:lY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cY(e){const t=_e(e);return As(t,G5(t))+1}function J5(e){const t=_e(e),r=+Io(t)-+xG(t);return Math.round(r/U1)+1}function X5(e,t){var d,f,h,m;const r=_e(e),n=r.getFullYear(),a=eu(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Vr(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Vs(o,t),c=Vr(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Vs(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function uY(e,t){var l,c,u,d;const r=eu(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=X5(e,t),i=Vr(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Vs(i,t)}function Q5(e,t){const r=_e(e),n=+Vs(r,t)-+uY(r,t);return Math.round(n/U1)+1}function He(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Fa={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return He(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):He(r+1,2)},d(e,t){return He(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return He(e.getHours()%12||12,t.length)},H(e,t){return He(e.getHours(),t.length)},m(e,t){return He(e.getMinutes(),t.length)},s(e,t){return He(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return He(a,t.length)}},fl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},KE={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Fa.y(e,t)},Y:function(e,t,r,n){const a=X5(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return He(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):He(i,t.length)},R:function(e,t){const r=K5(e);return He(r,t.length)},u:function(e,t){const r=e.getFullYear();return He(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return He(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return He(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Fa.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return He(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Q5(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):He(a,t.length)},I:function(e,t,r){const n=J5(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):He(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Fa.d(e,t)},D:function(e,t,r){const n=cY(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):He(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return He(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return He(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return He(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=fl.noon:n===0?a=fl.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=fl.evening:n>=12?a=fl.afternoon:n>=4?a=fl.morning:a=fl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Fa.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Fa.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):He(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):He(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Fa.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Fa.s(e,t)},S:function(e,t){return Fa.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return YE(n);case"XXXX":case"XX":return Gi(n);case"XXXXX":case"XXX":default:return Gi(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return YE(n);case"xxxx":case"xx":return Gi(n);case"xxxxx":case"xxx":default:return Gi(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+GE(n,":");case"OOOO":default:return"GMT"+Gi(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+GE(n,":");case"zzzz":default:return"GMT"+Gi(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return He(n,t.length)},T:function(e,t,r){const n=e.getTime();return He(n,t.length)}};function GE(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+He(i,2)}function YE(e,t){return e%60===0?(e>0?"-":"+")+He(Math.abs(e)/60,2):Gi(e,t)}function Gi(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=He(Math.trunc(n/60),2),i=He(n%60,2);return r+a+t+i}const JE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Z5=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},dY=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return JE(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",JE(n,t)).replace("{{time}}",Z5(a,t))},fY={p:Z5,P:dY},hY=/^D+$/,mY=/^Y+$/,pY=["D","DD","YY","YYYY"];function gY(e){return hY.test(e)}function vY(e){return mY.test(e)}function xY(e,t,r){const n=yY(e,t,r);if(console.warn(n),pY.includes(e))throw new RangeError(n)}function yY(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jY=/^'([^]*?)'?$/,SY=/''/g,NY=/[a-zA-Z]/;function Ht(e,t,r){var d,f,h,m,g,p,v,x;const n=eu(),a=(r==null?void 0:r.locale)??n.locale??W1,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((x=(v=n.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,l=_e(e);if(!SG(l))throw new RangeError("Invalid time value");let c=t.match(wY).map(y=>{const w=y[0];if(w==="p"||w==="P"){const N=fY[w];return N(y,a.formatLong)}return y}).join("").match(bY).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:_Y(y)};if(KE[w])return{isToken:!0,value:y};if(w.match(NY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&vY(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&gY(w))&&xY(w,t,String(e));const N=KE[w[0]];return N(l,w,a.localize,u)}).join("")}function _Y(e){const t=e.match(jY);return t?t[1].replace(SY,"'"):e}function EY(e,t,r){const n=eu(),a=(r==null?void 0:r.locale)??n.locale??W1,i=2520,o=pm(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=_e(t),u=_e(e)):(c=_e(e),u=_e(t));const d=AG(u,c),f=(uc(u)-uc(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<HE){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<_h){const g=Math.round(h/HE);return a.formatDistance("xDays",g,l)}else if(h<_h*2)return m=Math.round(h/_h),a.formatDistance("aboutXMonths",m,l)}if(m=CG(u,c),m<12){const g=Math.round(h/_h);return a.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?a.formatDistance("aboutXYears",p,l):g<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function ap(e,t){return EY(e,jG(e),t)}function PY(e){const t=_e(e),r=t.getFullYear(),n=t.getMonth(),a=Vr(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function kY(e){return Math.trunc(+_e(e)/1e3)}function CY(e){const t=_e(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function AY(e,t){return NG(CY(e),Ur(e),t)+1}function mb(e,t){const r=_e(e),n=_e(t);return r.getTime()>n.getTime()}function e$(e,t){const r=_e(e),n=_e(t);return+r<+n}function q1(e,t){const r=_e(e),n=_e(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function OY(e,t){const r=_e(e),n=_e(t);return r.getFullYear()===n.getFullYear()}function ty(e,t){return Sr(e,-t)}function ry(e,t){const r=_e(e),n=r.getFullYear(),a=r.getDate(),i=Vr(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=PY(i);return r.setMonth(t,Math.min(a,o)),r}function XE(e,t){const r=_e(e);return isNaN(+r)?Vr(e,NaN):(r.setFullYear(t),r)}var TY=Array.isArray,Wr=TY,RY=typeof br=="object"&&br&&br.Object===Object&&br,t$=RY,IY=t$,$Y=typeof self=="object"&&self&&self.Object===Object&&self,MY=IY||$Y||Function("return this")(),Ks=MY,DY=Ks,LY=DY.Symbol,$f=LY,QE=$f,r$=Object.prototype,FY=r$.hasOwnProperty,BY=r$.toString,ku=QE?QE.toStringTag:void 0;function UY(e){var t=FY.call(e,ku),r=e[ku];try{e[ku]=void 0;var n=!0}catch{}var a=BY.call(e);return n&&(t?e[ku]=r:delete e[ku]),a}var VY=UY,zY=Object.prototype,WY=zY.toString;function qY(e){return WY.call(e)}var HY=qY,ZE=$f,KY=VY,GY=HY,YY="[object Null]",JY="[object Undefined]",e2=ZE?ZE.toStringTag:void 0;function XY(e){return e==null?e===void 0?JY:YY:e2&&e2 in Object(e)?KY(e):GY(e)}var Ca=XY;function QY(e){return e!=null&&typeof e=="object"}var Aa=QY,ZY=Ca,eJ=Aa,tJ="[object Symbol]";function rJ(e){return typeof e=="symbol"||eJ(e)&&ZY(e)==tJ}var tu=rJ,nJ=Wr,sJ=tu,aJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,iJ=/^\w*$/;function oJ(e,t){if(nJ(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||sJ(e)?!0:iJ.test(e)||!aJ.test(e)||t!=null&&e in Object(t)}var H1=oJ;function lJ(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ri=lJ;const ru=qe(Ri);var cJ=Ca,uJ=Ri,dJ="[object AsyncFunction]",fJ="[object Function]",hJ="[object GeneratorFunction]",mJ="[object Proxy]";function pJ(e){if(!uJ(e))return!1;var t=cJ(e);return t==fJ||t==hJ||t==dJ||t==mJ}var K1=pJ;const je=qe(K1);var gJ=Ks,vJ=gJ["__core-js_shared__"],xJ=vJ,ny=xJ,t2=function(){var e=/[^.]+$/.exec(ny&&ny.keys&&ny.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function yJ(e){return!!t2&&t2 in e}var bJ=yJ,wJ=Function.prototype,jJ=wJ.toString;function SJ(e){if(e!=null){try{return jJ.call(e)}catch{}try{return e+""}catch{}}return""}var n$=SJ,NJ=K1,_J=bJ,EJ=Ri,PJ=n$,kJ=/[\\^$.*+?()[\]{}|]/g,CJ=/^\[object .+?Constructor\]$/,AJ=Function.prototype,OJ=Object.prototype,TJ=AJ.toString,RJ=OJ.hasOwnProperty,IJ=RegExp("^"+TJ.call(RJ).replace(kJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $J(e){if(!EJ(e)||_J(e))return!1;var t=NJ(e)?IJ:CJ;return t.test(PJ(e))}var MJ=$J;function DJ(e,t){return e==null?void 0:e[t]}var LJ=DJ,FJ=MJ,BJ=LJ;function UJ(e,t){var r=BJ(e,t);return FJ(r)?r:void 0}var Go=UJ,VJ=Go,zJ=VJ(Object,"create"),sv=zJ,r2=sv;function WJ(){this.__data__=r2?r2(null):{},this.size=0}var qJ=WJ;function HJ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var KJ=HJ,GJ=sv,YJ="__lodash_hash_undefined__",JJ=Object.prototype,XJ=JJ.hasOwnProperty;function QJ(e){var t=this.__data__;if(GJ){var r=t[e];return r===YJ?void 0:r}return XJ.call(t,e)?t[e]:void 0}var ZJ=QJ,eX=sv,tX=Object.prototype,rX=tX.hasOwnProperty;function nX(e){var t=this.__data__;return eX?t[e]!==void 0:rX.call(t,e)}var sX=nX,aX=sv,iX="__lodash_hash_undefined__";function oX(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=aX&&t===void 0?iX:t,this}var lX=oX,cX=qJ,uX=KJ,dX=ZJ,fX=sX,hX=lX;function nu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}nu.prototype.clear=cX;nu.prototype.delete=uX;nu.prototype.get=dX;nu.prototype.has=fX;nu.prototype.set=hX;var mX=nu;function pX(){this.__data__=[],this.size=0}var gX=pX;function vX(e,t){return e===t||e!==e&&t!==t}var G1=vX,xX=G1;function yX(e,t){for(var r=e.length;r--;)if(xX(e[r][0],t))return r;return-1}var av=yX,bX=av,wX=Array.prototype,jX=wX.splice;function SX(e){var t=this.__data__,r=bX(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():jX.call(t,r,1),--this.size,!0}var NX=SX,_X=av;function EX(e){var t=this.__data__,r=_X(t,e);return r<0?void 0:t[r][1]}var PX=EX,kX=av;function CX(e){return kX(this.__data__,e)>-1}var AX=CX,OX=av;function TX(e,t){var r=this.__data__,n=OX(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var RX=TX,IX=gX,$X=NX,MX=PX,DX=AX,LX=RX;function su(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}su.prototype.clear=IX;su.prototype.delete=$X;su.prototype.get=MX;su.prototype.has=DX;su.prototype.set=LX;var iv=su,FX=Go,BX=Ks,UX=FX(BX,"Map"),Y1=UX,n2=mX,VX=iv,zX=Y1;function WX(){this.size=0,this.__data__={hash:new n2,map:new(zX||VX),string:new n2}}var qX=WX;function HX(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var KX=HX,GX=KX;function YX(e,t){var r=e.__data__;return GX(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ov=YX,JX=ov;function XX(e){var t=JX(this,e).delete(e);return this.size-=t?1:0,t}var QX=XX,ZX=ov;function eQ(e){return ZX(this,e).get(e)}var tQ=eQ,rQ=ov;function nQ(e){return rQ(this,e).has(e)}var sQ=nQ,aQ=ov;function iQ(e,t){var r=aQ(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var oQ=iQ,lQ=qX,cQ=QX,uQ=tQ,dQ=sQ,fQ=oQ;function au(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}au.prototype.clear=lQ;au.prototype.delete=cQ;au.prototype.get=uQ;au.prototype.has=dQ;au.prototype.set=fQ;var J1=au,s$=J1,hQ="Expected a function";function X1(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(hQ);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(X1.Cache||s$),r}X1.Cache=s$;var a$=X1;const mQ=qe(a$);var pQ=a$,gQ=500;function vQ(e){var t=pQ(e,function(n){return r.size===gQ&&r.clear(),n}),r=t.cache;return t}var xQ=vQ,yQ=xQ,bQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wQ=/\\(\\)?/g,jQ=yQ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(bQ,function(r,n,a,i){t.push(a?i.replace(wQ,"$1"):n||r)}),t}),SQ=jQ;function NQ(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Q1=NQ,s2=$f,_Q=Q1,EQ=Wr,PQ=tu,a2=s2?s2.prototype:void 0,i2=a2?a2.toString:void 0;function i$(e){if(typeof e=="string")return e;if(EQ(e))return _Q(e,i$)+"";if(PQ(e))return i2?i2.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var kQ=i$,CQ=kQ;function AQ(e){return e==null?"":CQ(e)}var o$=AQ,OQ=Wr,TQ=H1,RQ=SQ,IQ=o$;function $Q(e,t){return OQ(e)?e:TQ(e,t)?[e]:RQ(IQ(e))}var l$=$Q,MQ=tu;function DQ(e){if(typeof e=="string"||MQ(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var lv=DQ,LQ=l$,FQ=lv;function BQ(e,t){t=LQ(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[FQ(t[r++])];return r&&r==n?e:void 0}var Z1=BQ,UQ=Z1;function VQ(e,t,r){var n=e==null?void 0:UQ(e,t);return n===void 0?r:n}var c$=VQ;const an=qe(c$);function zQ(e){return e==null}var WQ=zQ;const ke=qe(WQ);var qQ=Ca,HQ=Wr,KQ=Aa,GQ="[object String]";function YQ(e){return typeof e=="string"||!HQ(e)&&KQ(e)&&qQ(e)==GQ}var JQ=YQ;const $o=qe(JQ);var u$={exports:{}},Ye={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eS=Symbol.for("react.element"),tS=Symbol.for("react.portal"),cv=Symbol.for("react.fragment"),uv=Symbol.for("react.strict_mode"),dv=Symbol.for("react.profiler"),fv=Symbol.for("react.provider"),hv=Symbol.for("react.context"),XQ=Symbol.for("react.server_context"),mv=Symbol.for("react.forward_ref"),pv=Symbol.for("react.suspense"),gv=Symbol.for("react.suspense_list"),vv=Symbol.for("react.memo"),xv=Symbol.for("react.lazy"),QQ=Symbol.for("react.offscreen"),d$;d$=Symbol.for("react.module.reference");function Mn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case eS:switch(e=e.type,e){case cv:case dv:case uv:case pv:case gv:return e;default:switch(e=e&&e.$$typeof,e){case XQ:case hv:case mv:case xv:case vv:case fv:return e;default:return t}}case tS:return t}}}Ye.ContextConsumer=hv;Ye.ContextProvider=fv;Ye.Element=eS;Ye.ForwardRef=mv;Ye.Fragment=cv;Ye.Lazy=xv;Ye.Memo=vv;Ye.Portal=tS;Ye.Profiler=dv;Ye.StrictMode=uv;Ye.Suspense=pv;Ye.SuspenseList=gv;Ye.isAsyncMode=function(){return!1};Ye.isConcurrentMode=function(){return!1};Ye.isContextConsumer=function(e){return Mn(e)===hv};Ye.isContextProvider=function(e){return Mn(e)===fv};Ye.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===eS};Ye.isForwardRef=function(e){return Mn(e)===mv};Ye.isFragment=function(e){return Mn(e)===cv};Ye.isLazy=function(e){return Mn(e)===xv};Ye.isMemo=function(e){return Mn(e)===vv};Ye.isPortal=function(e){return Mn(e)===tS};Ye.isProfiler=function(e){return Mn(e)===dv};Ye.isStrictMode=function(e){return Mn(e)===uv};Ye.isSuspense=function(e){return Mn(e)===pv};Ye.isSuspenseList=function(e){return Mn(e)===gv};Ye.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===cv||e===dv||e===uv||e===pv||e===gv||e===QQ||typeof e=="object"&&e!==null&&(e.$$typeof===xv||e.$$typeof===vv||e.$$typeof===fv||e.$$typeof===hv||e.$$typeof===mv||e.$$typeof===d$||e.getModuleId!==void 0)};Ye.typeOf=Mn;u$.exports=Ye;var ZQ=u$.exports,eZ=Ca,tZ=Aa,rZ="[object Number]";function nZ(e){return typeof e=="number"||tZ(e)&&eZ(e)==rZ}var f$=nZ;const sZ=qe(f$);var aZ=f$;function iZ(e){return aZ(e)&&e!=+e}var oZ=iZ;const Mf=qe(oZ);var Nr=function(t){return t===0?0:t>0?1:-1},fo=function(t){return $o(t)&&t.indexOf("%")===t.length-1},Z=function(t){return sZ(t)&&!Mf(t)},lZ=function(t){return ke(t)},Jt=function(t){return Z(t)||$o(t)},cZ=0,iu=function(t){var r=++cZ;return"".concat(t||"").concat(r)},_r=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(t)&&!$o(t))return n;var i;if(fo(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Mf(i)&&(i=n),a&&i>r&&(i=r),i},Ja=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},uZ=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},en=function(t,r){return Z(t)&&Z(r)?function(n){return t+n*(r-t)}:function(){return r}};function ip(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):an(n,t))===r})}var dZ=function(t,r){return Z(t)&&Z(r)?t-r:$o(t)&&$o(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Yl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function pb(e){"@babel/helpers - typeof";return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pb(e)}var fZ=["viewBox","children"],hZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],o2=["points","pathLength"],sy={svg:fZ,polygon:o2,polyline:o2},rS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],op=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),!ru(n))return null;var a={};return Object.keys(n).forEach(function(i){rS.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},mZ=function(t,r,n){return function(a){return t(r,n,a),null}},Mo=function(t,r,n){if(!ru(t)||pb(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];rS.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=mZ(o,r,n))}),a},pZ=["children"],gZ=["children"];function l2(e,t){if(e==null)return{};var r=vZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gb(e){"@babel/helpers - typeof";return gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gb(e)}var c2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ha=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},u2=null,ay=null,nS=function e(t){if(t===u2&&Array.isArray(ay))return ay;var r=[];return b.Children.forEach(t,function(n){ke(n)||(ZQ.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ay=r,u2=t,r};function on(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ha(a)}):n=[ha(t)],nS(e).forEach(function(a){var i=an(a,"type.displayName")||an(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Qr(e,t){var r=on(e,t);return r&&r[0]}var d2=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Z(n)||n<=0||!Z(a)||a<=0)},xZ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],yZ=function(t){return t&&t.type&&$o(t.type)&&xZ.indexOf(t.type)>=0},bZ=function(t){return t&&gb(t)==="object"&&"clipDot"in t},wZ=function(t,r,n,a){var i,o=(i=sy==null?void 0:sy[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!je(t)&&(a&&o.includes(r)||hZ.includes(r))||n&&rS.includes(r)},ve=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(b.isValidElement(t)&&(a=t.props),!ru(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;wZ((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},vb=function e(t,r){if(t===r)return!0;var n=b.Children.count(t);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return f2(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!f2(i,o))return!1}return!0},f2=function(t,r){if(ke(t)&&ke(r))return!0;if(!ke(t)&&!ke(r)){var n=t.props||{},a=n.children,i=l2(n,pZ),o=r.props||{},l=o.children,c=l2(o,gZ);return a&&l?Yl(i,c)&&vb(a,l):!a&&!l?Yl(i,c):!1}return!1},h2=function(t,r){var n=[],a={};return nS(t).forEach(function(i,o){if(yZ(i))n.push(i);else if(i){var l=ha(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},jZ=function(t){var r=t&&t.type;return r&&c2[r]?c2[r]:null},SZ=function(t,r){return nS(r).indexOf(t)},NZ=["children","width","height","viewBox","className","style","title","desc"];function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xb.apply(this,arguments)}function _Z(e,t){if(e==null)return{};var r=EZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yb(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=_Z(e,NZ),d=a||{width:r,height:n,x:0,y:0},f=Ae("recharts-surface",i);return k.createElement("svg",xb({},ve(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),k.createElement("title",null,l),k.createElement("desc",null,c),t)}var PZ=["children","className"];function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bb.apply(this,arguments)}function kZ(e,t){if(e==null)return{};var r=CZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ue=k.forwardRef(function(e,t){var r=e.children,n=e.className,a=kZ(e,PZ),i=Ae("recharts-layer",n);return k.createElement("g",bb({className:i},ve(a,!0),{ref:t}),r)}),ss=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function AZ(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var OZ=AZ,TZ=OZ;function RZ(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:TZ(e,t,r)}var IZ=RZ,$Z="\\ud800-\\udfff",MZ="\\u0300-\\u036f",DZ="\\ufe20-\\ufe2f",LZ="\\u20d0-\\u20ff",FZ=MZ+DZ+LZ,BZ="\\ufe0e\\ufe0f",UZ="\\u200d",VZ=RegExp("["+UZ+$Z+FZ+BZ+"]");function zZ(e){return VZ.test(e)}var h$=zZ;function WZ(e){return e.split("")}var qZ=WZ,m$="\\ud800-\\udfff",HZ="\\u0300-\\u036f",KZ="\\ufe20-\\ufe2f",GZ="\\u20d0-\\u20ff",YZ=HZ+KZ+GZ,JZ="\\ufe0e\\ufe0f",XZ="["+m$+"]",wb="["+YZ+"]",jb="\\ud83c[\\udffb-\\udfff]",QZ="(?:"+wb+"|"+jb+")",p$="[^"+m$+"]",g$="(?:\\ud83c[\\udde6-\\uddff]){2}",v$="[\\ud800-\\udbff][\\udc00-\\udfff]",ZZ="\\u200d",x$=QZ+"?",y$="["+JZ+"]?",eee="(?:"+ZZ+"(?:"+[p$,g$,v$].join("|")+")"+y$+x$+")*",tee=y$+x$+eee,ree="(?:"+[p$+wb+"?",wb,g$,v$,XZ].join("|")+")",nee=RegExp(jb+"(?="+jb+")|"+ree+tee,"g");function see(e){return e.match(nee)||[]}var aee=see,iee=qZ,oee=h$,lee=aee;function cee(e){return oee(e)?lee(e):iee(e)}var uee=cee,dee=IZ,fee=h$,hee=uee,mee=o$;function pee(e){return function(t){t=mee(t);var r=fee(t)?hee(t):void 0,n=r?r[0]:t.charAt(0),a=r?dee(r,1).join(""):t.slice(1);return n[e]()+a}}var gee=pee,vee=gee,xee=vee("toUpperCase"),yee=xee;const yv=qe(yee);function st(e){return function(){return e}}const b$=Math.cos,lp=Math.sin,vs=Math.sqrt,cp=Math.PI,bv=2*cp,Sb=Math.PI,Nb=2*Sb,Yi=1e-6,bee=Nb-Yi;function w$(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function wee(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return w$;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class jee{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?w$:wee(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Yi)if(!(Math.abs(f*c-u*d)>Yi)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,p=c*c+u*u,v=m*m+g*g,x=Math.sqrt(p),y=Math.sqrt(h),w=i*Math.tan((Sb-Math.acos((p+h-v)/(2*x*y)))/2),N=w/y,S=w/x;Math.abs(N-1)>Yi&&this._append`L${t+N*d},${r+N*f}`,this._append`A${i},${i},0,0,${+(f*m>d*g)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Yi||Math.abs(this._y1-d)>Yi)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Nb+Nb),h>bee?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Yi&&this._append`A${n},${n},0,${+(h>=Sb)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function sS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new jee(t)}function aS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function j$(e){this._context=e}j$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function wv(e){return new j$(e)}function S$(e){return e[0]}function N$(e){return e[1]}function _$(e,t){var r=st(!0),n=null,a=wv,i=null,o=sS(l);e=typeof e=="function"?e:e===void 0?S$:st(e),t=typeof t=="function"?t:t===void 0?N$:st(t);function l(c){var u,d=(c=aS(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:st(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:st(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:st(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Eh(e,t,r){var n=null,a=st(!0),i=null,o=wv,l=null,c=sS(u);e=typeof e=="function"?e:e===void 0?S$:st(+e),t=typeof t=="function"?t:st(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?N$:st(+r);function u(f){var h,m,g,p=(f=aS(f)).length,v,x=!1,y,w=new Array(p),N=new Array(p);for(i==null&&(l=o(y=c())),h=0;h<=p;++h){if(!(h<p&&a(v=f[h],h,f))===x)if(x=!x)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],N[g]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(v,h,f),N[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):N[h]))}if(y)return l=null,y+""||null}function d(){return _$().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:st(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:st(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:st(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:st(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:st(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:st(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:st(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class E${constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function See(e){return new E$(e,!0)}function Nee(e){return new E$(e,!1)}const iS={draw(e,t){const r=vs(t/cp);e.moveTo(r,0),e.arc(0,0,r,0,bv)}},_ee={draw(e,t){const r=vs(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},P$=vs(1/3),Eee=P$*2,Pee={draw(e,t){const r=vs(t/Eee),n=r*P$;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},kee={draw(e,t){const r=vs(t),n=-r/2;e.rect(n,n,r,r)}},Cee=.8908130915292852,k$=lp(cp/10)/lp(7*cp/10),Aee=lp(bv/10)*k$,Oee=-b$(bv/10)*k$,Tee={draw(e,t){const r=vs(t*Cee),n=Aee*r,a=Oee*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=bv*i/5,l=b$(o),c=lp(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},iy=vs(3),Ree={draw(e,t){const r=-vs(t/(iy*3));e.moveTo(0,r*2),e.lineTo(-iy*r,-r),e.lineTo(iy*r,-r),e.closePath()}},mn=-.5,pn=vs(3)/2,_b=1/vs(12),Iee=(_b/2+1)*3,$ee={draw(e,t){const r=vs(t/Iee),n=r/2,a=r*_b,i=n,o=r*_b+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(mn*n-pn*a,pn*n+mn*a),e.lineTo(mn*i-pn*o,pn*i+mn*o),e.lineTo(mn*l-pn*c,pn*l+mn*c),e.lineTo(mn*n+pn*a,mn*a-pn*n),e.lineTo(mn*i+pn*o,mn*o-pn*i),e.lineTo(mn*l+pn*c,mn*c-pn*l),e.closePath()}};function Mee(e,t){let r=null,n=sS(a);e=typeof e=="function"?e:st(e||iS),t=typeof t=="function"?t:st(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:st(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:st(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function up(){}function dp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function C$(e){this._context=e}C$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dee(e){return new C$(e)}function A$(e){this._context=e}A$.prototype={areaStart:up,areaEnd:up,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:dp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Lee(e){return new A$(e)}function O$(e){this._context=e}O$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:dp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fee(e){return new O$(e)}function T$(e){this._context=e}T$.prototype={areaStart:up,areaEnd:up,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Bee(e){return new T$(e)}function m2(e){return e<0?-1:1}function p2(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(m2(i)+m2(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function g2(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function oy(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function fp(e){this._context=e}fp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:oy(this,this._t0,g2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,oy(this,g2(this,r=p2(this,e,t)),r);break;default:oy(this,this._t0,r=p2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function R$(e){this._context=new I$(e)}(R$.prototype=Object.create(fp.prototype)).point=function(e,t){fp.prototype.point.call(this,t,e)};function I$(e){this._context=e}I$.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Uee(e){return new fp(e)}function Vee(e){return new R$(e)}function $$(e){this._context=e}$$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=v2(e),a=v2(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function v2(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function zee(e){return new $$(e)}function jv(e,t){this._context=e,this._t=t}jv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Wee(e){return new jv(e,.5)}function qee(e){return new jv(e,0)}function Hee(e){return new jv(e,1)}function fc(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Eb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Kee(e,t){return e[t]}function Gee(e){const t=[];return t.key=e,t}function Yee(){var e=st([]),t=Eb,r=fc,n=Kee;function a(i){var o=Array.from(e.apply(this,arguments),Gee),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=aS(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:st(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:st(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Eb:typeof i=="function"?i:st(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??fc,a):r},a}function Jee(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}fc(e,t)}}function Xee(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}fc(e,t)}}function Qee(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],v=p[n][1]||0,x=p[n-1][1]||0;m+=v-x}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,fc(e,t)}}function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}var Zee=["type","size","sizeType"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pb.apply(this,arguments)}function x2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(r),!0).forEach(function(n){ete(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ete(e,t,r){return t=tte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tte(e){var t=rte(e,"string");return Ud(t)=="symbol"?t:t+""}function rte(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nte(e,t){if(e==null)return{};var r=ste(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ste(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var M$={symbolCircle:iS,symbolCross:_ee,symbolDiamond:Pee,symbolSquare:kee,symbolStar:Tee,symbolTriangle:Ree,symbolWye:$ee},ate=Math.PI/180,ite=function(t){var r="symbol".concat(yv(t));return M$[r]||iS},ote=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*ate;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},lte=function(t,r){M$["symbol".concat(yv(t))]=r},oS=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=nte(t,Zee),u=y2(y2({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=ite(n),x=Mee().type(v).size(ote(i,l,n));return x()},f=u.className,h=u.cx,m=u.cy,g=ve(u,!0);return h===+h&&m===+m&&i===+i?k.createElement("path",Pb({},g,{className:Ae("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};oS.registerSymbol=lte;function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kb.apply(this,arguments)}function b2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(r),!0).forEach(function(n){Vd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ute(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L$(n.key),n)}}function fte(e,t,r){return t&&dte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hte(e,t,r){return t=hp(t),mte(e,D$()?Reflect.construct(t,r||[],hp(e).constructor):t.apply(e,r))}function mte(e,t){if(t&&(hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pte(e)}function pte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D$=function(){return!!e})()}function hp(e){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hp(e)}function gte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cb(e,t)}function Cb(e,t){return Cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cb(e,t)}function Vd(e,t,r){return t=L$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L$(e){var t=vte(e,"string");return hc(t)=="symbol"?t:t+""}function vte(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gn=32,lS=function(e){function t(){return ute(this,t),hte(this,t,arguments)}return gte(t,e),fte(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=gn/2,o=gn/6,l=gn/3,c=n.inactive?a:n.color;if(n.type==="plainline")return k.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:gn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(gn,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return k.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(gn/8,"h").concat(gn,"v").concat(gn*3/4,"h").concat(-gn,"z"),className:"recharts-legend-icon"});if(k.isValidElement(n.legendIcon)){var u=cte({},n);return delete u.legendIcon,k.cloneElement(n.legendIcon,u)}return k.createElement(oS,{fill:c,cx:i,cy:i,size:gn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:gn,height:gn},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||c,v=Ae(Vd(Vd({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=je(m.value)?null:m.value;ss(!je(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return k.createElement("li",kb({className:v,style:f,key:"legend-item-".concat(g)},Mo(n.props,m,g)),k.createElement(yb,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(x,m,g):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(b.PureComponent);Vd(lS,"displayName","Legend");Vd(lS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var xte=iv;function yte(){this.__data__=new xte,this.size=0}var bte=yte;function wte(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var jte=wte;function Ste(e){return this.__data__.get(e)}var Nte=Ste;function _te(e){return this.__data__.has(e)}var Ete=_te,Pte=iv,kte=Y1,Cte=J1,Ate=200;function Ote(e,t){var r=this.__data__;if(r instanceof Pte){var n=r.__data__;if(!kte||n.length<Ate-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Cte(n)}return r.set(e,t),this.size=r.size,this}var Tte=Ote,Rte=iv,Ite=bte,$te=jte,Mte=Nte,Dte=Ete,Lte=Tte;function ou(e){var t=this.__data__=new Rte(e);this.size=t.size}ou.prototype.clear=Ite;ou.prototype.delete=$te;ou.prototype.get=Mte;ou.prototype.has=Dte;ou.prototype.set=Lte;var F$=ou,Fte="__lodash_hash_undefined__";function Bte(e){return this.__data__.set(e,Fte),this}var Ute=Bte;function Vte(e){return this.__data__.has(e)}var zte=Vte,Wte=J1,qte=Ute,Hte=zte;function mp(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Wte;++t<r;)this.add(e[t])}mp.prototype.add=mp.prototype.push=qte;mp.prototype.has=Hte;var B$=mp;function Kte(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var U$=Kte;function Gte(e,t){return e.has(t)}var V$=Gte,Yte=B$,Jte=U$,Xte=V$,Qte=1,Zte=2;function ere(e,t,r,n,a,i){var o=r&Qte,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&Zte?new Yte:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var v=o?n(p,g,f,t,e,i):n(g,p,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!Jte(t,function(x,y){if(!Xte(m,y)&&(g===x||a(g,x,r,n,i)))return m.push(y)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var z$=ere,tre=Ks,rre=tre.Uint8Array,nre=rre;function sre(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var are=sre;function ire(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var cS=ire,w2=$f,j2=nre,ore=G1,lre=z$,cre=are,ure=cS,dre=1,fre=2,hre="[object Boolean]",mre="[object Date]",pre="[object Error]",gre="[object Map]",vre="[object Number]",xre="[object RegExp]",yre="[object Set]",bre="[object String]",wre="[object Symbol]",jre="[object ArrayBuffer]",Sre="[object DataView]",S2=w2?w2.prototype:void 0,ly=S2?S2.valueOf:void 0;function Nre(e,t,r,n,a,i,o){switch(r){case Sre:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case jre:return!(e.byteLength!=t.byteLength||!i(new j2(e),new j2(t)));case hre:case mre:case vre:return ore(+e,+t);case pre:return e.name==t.name&&e.message==t.message;case xre:case bre:return e==t+"";case gre:var l=cre;case yre:var c=n&dre;if(l||(l=ure),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=fre,o.set(e,t);var d=lre(l(e),l(t),n,a,i,o);return o.delete(e),d;case wre:if(ly)return ly.call(e)==ly.call(t)}return!1}var _re=Nre;function Ere(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var W$=Ere,Pre=W$,kre=Wr;function Cre(e,t,r){var n=t(e);return kre(e)?n:Pre(n,r(e))}var Are=Cre;function Ore(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Tre=Ore;function Rre(){return[]}var Ire=Rre,$re=Tre,Mre=Ire,Dre=Object.prototype,Lre=Dre.propertyIsEnumerable,N2=Object.getOwnPropertySymbols,Fre=N2?function(e){return e==null?[]:(e=Object(e),$re(N2(e),function(t){return Lre.call(e,t)}))}:Mre,Bre=Fre;function Ure(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Vre=Ure,zre=Ca,Wre=Aa,qre="[object Arguments]";function Hre(e){return Wre(e)&&zre(e)==qre}var Kre=Hre,_2=Kre,Gre=Aa,q$=Object.prototype,Yre=q$.hasOwnProperty,Jre=q$.propertyIsEnumerable,Xre=_2(function(){return arguments}())?_2:function(e){return Gre(e)&&Yre.call(e,"callee")&&!Jre.call(e,"callee")},uS=Xre,pp={exports:{}};function Qre(){return!1}var Zre=Qre;pp.exports;(function(e,t){var r=Ks,n=Zre,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(pp,pp.exports);var H$=pp.exports,ene=9007199254740991,tne=/^(?:0|[1-9]\d*)$/;function rne(e,t){var r=typeof e;return t=t??ene,!!t&&(r=="number"||r!="symbol"&&tne.test(e))&&e>-1&&e%1==0&&e<t}var dS=rne,nne=9007199254740991;function sne(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=nne}var fS=sne,ane=Ca,ine=fS,one=Aa,lne="[object Arguments]",cne="[object Array]",une="[object Boolean]",dne="[object Date]",fne="[object Error]",hne="[object Function]",mne="[object Map]",pne="[object Number]",gne="[object Object]",vne="[object RegExp]",xne="[object Set]",yne="[object String]",bne="[object WeakMap]",wne="[object ArrayBuffer]",jne="[object DataView]",Sne="[object Float32Array]",Nne="[object Float64Array]",_ne="[object Int8Array]",Ene="[object Int16Array]",Pne="[object Int32Array]",kne="[object Uint8Array]",Cne="[object Uint8ClampedArray]",Ane="[object Uint16Array]",One="[object Uint32Array]",ht={};ht[Sne]=ht[Nne]=ht[_ne]=ht[Ene]=ht[Pne]=ht[kne]=ht[Cne]=ht[Ane]=ht[One]=!0;ht[lne]=ht[cne]=ht[wne]=ht[une]=ht[jne]=ht[dne]=ht[fne]=ht[hne]=ht[mne]=ht[pne]=ht[gne]=ht[vne]=ht[xne]=ht[yne]=ht[bne]=!1;function Tne(e){return one(e)&&ine(e.length)&&!!ht[ane(e)]}var Rne=Tne;function Ine(e){return function(t){return e(t)}}var K$=Ine,gp={exports:{}};gp.exports;(function(e,t){var r=t$,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(gp,gp.exports);var $ne=gp.exports,Mne=Rne,Dne=K$,E2=$ne,P2=E2&&E2.isTypedArray,Lne=P2?Dne(P2):Mne,G$=Lne,Fne=Vre,Bne=uS,Une=Wr,Vne=H$,zne=dS,Wne=G$,qne=Object.prototype,Hne=qne.hasOwnProperty;function Kne(e,t){var r=Une(e),n=!r&&Bne(e),a=!r&&!n&&Vne(e),i=!r&&!n&&!a&&Wne(e),o=r||n||a||i,l=o?Fne(e.length,String):[],c=l.length;for(var u in e)(t||Hne.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||zne(u,c)))&&l.push(u);return l}var Gne=Kne,Yne=Object.prototype;function Jne(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Yne;return e===r}var Xne=Jne;function Qne(e,t){return function(r){return e(t(r))}}var Y$=Qne,Zne=Y$,ese=Zne(Object.keys,Object),tse=ese,rse=Xne,nse=tse,sse=Object.prototype,ase=sse.hasOwnProperty;function ise(e){if(!rse(e))return nse(e);var t=[];for(var r in Object(e))ase.call(e,r)&&r!="constructor"&&t.push(r);return t}var ose=ise,lse=K1,cse=fS;function use(e){return e!=null&&cse(e.length)&&!lse(e)}var Df=use,dse=Gne,fse=ose,hse=Df;function mse(e){return hse(e)?dse(e):fse(e)}var Sv=mse,pse=Are,gse=Bre,vse=Sv;function xse(e){return pse(e,vse,gse)}var yse=xse,k2=yse,bse=1,wse=Object.prototype,jse=wse.hasOwnProperty;function Sse(e,t,r,n,a,i){var o=r&bse,l=k2(e),c=l.length,u=k2(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:jse.call(t,h)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var v=o;++f<c;){h=l[f];var x=e[h],y=t[h];if(n)var w=o?n(y,x,h,t,e,i):n(x,y,h,e,t,i);if(!(w===void 0?x===y||a(x,y,r,n,i):w)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var N=e.constructor,S=t.constructor;N!=S&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof S=="function"&&S instanceof S)&&(p=!1)}return i.delete(e),i.delete(t),p}var Nse=Sse,_se=Go,Ese=Ks,Pse=_se(Ese,"DataView"),kse=Pse,Cse=Go,Ase=Ks,Ose=Cse(Ase,"Promise"),Tse=Ose,Rse=Go,Ise=Ks,$se=Rse(Ise,"Set"),J$=$se,Mse=Go,Dse=Ks,Lse=Mse(Dse,"WeakMap"),Fse=Lse,Ab=kse,Ob=Y1,Tb=Tse,Rb=J$,Ib=Fse,X$=Ca,lu=n$,C2="[object Map]",Bse="[object Object]",A2="[object Promise]",O2="[object Set]",T2="[object WeakMap]",R2="[object DataView]",Use=lu(Ab),Vse=lu(Ob),zse=lu(Tb),Wse=lu(Rb),qse=lu(Ib),Ji=X$;(Ab&&Ji(new Ab(new ArrayBuffer(1)))!=R2||Ob&&Ji(new Ob)!=C2||Tb&&Ji(Tb.resolve())!=A2||Rb&&Ji(new Rb)!=O2||Ib&&Ji(new Ib)!=T2)&&(Ji=function(e){var t=X$(e),r=t==Bse?e.constructor:void 0,n=r?lu(r):"";if(n)switch(n){case Use:return R2;case Vse:return C2;case zse:return A2;case Wse:return O2;case qse:return T2}return t});var Hse=Ji,cy=F$,Kse=z$,Gse=_re,Yse=Nse,I2=Hse,$2=Wr,M2=H$,Jse=G$,Xse=1,D2="[object Arguments]",L2="[object Array]",Ph="[object Object]",Qse=Object.prototype,F2=Qse.hasOwnProperty;function Zse(e,t,r,n,a,i){var o=$2(e),l=$2(t),c=o?L2:I2(e),u=l?L2:I2(t);c=c==D2?Ph:c,u=u==D2?Ph:u;var d=c==Ph,f=u==Ph,h=c==u;if(h&&M2(e)){if(!M2(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new cy),o||Jse(e)?Kse(e,t,r,n,a,i):Gse(e,t,c,r,n,a,i);if(!(r&Xse)){var m=d&&F2.call(e,"__wrapped__"),g=f&&F2.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return i||(i=new cy),a(p,v,r,n,i)}}return h?(i||(i=new cy),Yse(e,t,r,n,a,i)):!1}var eae=Zse,tae=eae,B2=Aa;function Q$(e,t,r,n,a){return e===t?!0:e==null||t==null||!B2(e)&&!B2(t)?e!==e&&t!==t:tae(e,t,r,n,Q$,a)}var hS=Q$,rae=F$,nae=hS,sae=1,aae=2;function iae(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new rae;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?nae(d,u,sae|aae,n,f):h))return!1}}return!0}var oae=iae,lae=Ri;function cae(e){return e===e&&!lae(e)}var Z$=cae,uae=Z$,dae=Sv;function fae(e){for(var t=dae(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,uae(a)]}return t}var hae=fae;function mae(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var eM=mae,pae=oae,gae=hae,vae=eM;function xae(e){var t=gae(e);return t.length==1&&t[0][2]?vae(t[0][0],t[0][1]):function(r){return r===e||pae(r,e,t)}}var yae=xae;function bae(e,t){return e!=null&&t in Object(e)}var wae=bae,jae=l$,Sae=uS,Nae=Wr,_ae=dS,Eae=fS,Pae=lv;function kae(e,t,r){t=jae(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=Pae(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Eae(a)&&_ae(o,a)&&(Nae(e)||Sae(e)))}var Cae=kae,Aae=wae,Oae=Cae;function Tae(e,t){return e!=null&&Oae(e,t,Aae)}var Rae=Tae,Iae=hS,$ae=c$,Mae=Rae,Dae=H1,Lae=Z$,Fae=eM,Bae=lv,Uae=1,Vae=2;function zae(e,t){return Dae(e)&&Lae(t)?Fae(Bae(e),t):function(r){var n=$ae(r,e);return n===void 0&&n===t?Mae(r,e):Iae(t,n,Uae|Vae)}}var Wae=zae;function qae(e){return e}var cu=qae;function Hae(e){return function(t){return t==null?void 0:t[e]}}var Kae=Hae,Gae=Z1;function Yae(e){return function(t){return Gae(t,e)}}var Jae=Yae,Xae=Kae,Qae=Jae,Zae=H1,eie=lv;function tie(e){return Zae(e)?Xae(eie(e)):Qae(e)}var rie=tie,nie=yae,sie=Wae,aie=cu,iie=Wr,oie=rie;function lie(e){return typeof e=="function"?e:e==null?aie:typeof e=="object"?iie(e)?sie(e[0],e[1]):nie(e):oie(e)}var Gs=lie;function cie(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var tM=cie;function uie(e){return e!==e}var die=uie;function fie(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var hie=fie,mie=tM,pie=die,gie=hie;function vie(e,t,r){return t===t?gie(e,t,r):mie(e,pie,r)}var xie=vie,yie=xie;function bie(e,t){var r=e==null?0:e.length;return!!r&&yie(e,t,0)>-1}var wie=bie;function jie(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Sie=jie;function Nie(){}var _ie=Nie,uy=J$,Eie=_ie,Pie=cS,kie=1/0,Cie=uy&&1/Pie(new uy([,-0]))[1]==kie?function(e){return new uy(e)}:Eie,Aie=Cie,Oie=B$,Tie=wie,Rie=Sie,Iie=V$,$ie=Aie,Mie=cS,Die=200;function Lie(e,t,r){var n=-1,a=Tie,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=Rie;else if(i>=Die){var u=t?null:$ie(e);if(u)return Mie(u);o=!1,a=Iie,c=new Oie}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Fie=Lie,Bie=Gs,Uie=Fie;function Vie(e,t){return e&&e.length?Uie(e,Bie(t)):[]}var zie=Vie;const U2=qe(zie);function rM(e,t,r){return t===!0?U2(e,r):je(t)?U2(e,t):e}function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}var Wie=["ref"];function V2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(r),!0).forEach(function(n){Nv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sM(n.key),n)}}function Hie(e,t,r){return t&&z2(e.prototype,t),r&&z2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kie(e,t,r){return t=vp(t),Gie(e,nM()?Reflect.construct(t,r||[],vp(e).constructor):t.apply(e,r))}function Gie(e,t){if(t&&(mc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yie(e)}function Yie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nM=function(){return!!e})()}function vp(e){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vp(e)}function Jie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$b(e,t)}function $b(e,t){return $b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$b(e,t)}function Nv(e,t,r){return t=sM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sM(e){var t=Xie(e,"string");return mc(t)=="symbol"?t:t+""}function Xie(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Qie(e,t){if(e==null)return{};var r=Zie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eoe(e){return e.value}function toe(e,t){if(k.isValidElement(e))return k.cloneElement(e,t);if(typeof e=="function")return k.createElement(e,t);t.ref;var r=Qie(t,Wie);return k.createElement(lS,r)}var W2=1,bo=function(e){function t(){var r;qie(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Kie(this,t,[].concat(a)),Nv(r,"lastBoundingBox",{width:-1,height:-1}),r}return Jie(t,e),Hie(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>W2||Math.abs(a.height-this.lastBoundingBox.height)>W2)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Xs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Xs(Xs({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Xs(Xs({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return k.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},toe(i,Xs(Xs({},this.props),{},{payload:rM(d,u,eoe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Xs(Xs({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Z(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(b.PureComponent);Nv(bo,"displayName","Legend");Nv(bo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var q2=$f,roe=uS,noe=Wr,H2=q2?q2.isConcatSpreadable:void 0;function soe(e){return noe(e)||roe(e)||!!(H2&&e&&e[H2])}var aoe=soe,ioe=W$,ooe=aoe;function aM(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=ooe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?aM(l,t-1,r,n,a):ioe(a,l):n||(a[a.length]=l)}return a}var iM=aM;function loe(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var coe=loe,uoe=coe,doe=uoe(),foe=doe,hoe=foe,moe=Sv;function poe(e,t){return e&&hoe(e,t,moe)}var oM=poe,goe=Df;function voe(e,t){return function(r,n){if(r==null)return r;if(!goe(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var xoe=voe,yoe=oM,boe=xoe,woe=boe(yoe),mS=woe,joe=mS,Soe=Df;function Noe(e,t){var r=-1,n=Soe(e)?Array(e.length):[];return joe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var lM=Noe;function _oe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Eoe=_oe,K2=tu;function Poe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=K2(e),o=t!==void 0,l=t===null,c=t===t,u=K2(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var koe=Poe,Coe=koe;function Aoe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=Coe(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Ooe=Aoe,dy=Q1,Toe=Z1,Roe=Gs,Ioe=lM,$oe=Eoe,Moe=K$,Doe=Ooe,Loe=cu,Foe=Wr;function Boe(e,t,r){t.length?t=dy(t,function(i){return Foe(i)?function(o){return Toe(o,i.length===1?i[0]:i)}:i}):t=[Loe];var n=-1;t=dy(t,Moe(Roe));var a=Ioe(e,function(i,o,l){var c=dy(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return $oe(a,function(i,o){return Doe(i,o,r)})}var Uoe=Boe;function Voe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var zoe=Voe,Woe=zoe,G2=Math.max;function qoe(e,t,r){return t=G2(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=G2(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Woe(e,this,l)}}var Hoe=qoe;function Koe(e){return function(){return e}}var Goe=Koe,Yoe=Go,Joe=function(){try{var e=Yoe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),cM=Joe,Xoe=Goe,Y2=cM,Qoe=cu,Zoe=Y2?function(e,t){return Y2(e,"toString",{configurable:!0,enumerable:!1,value:Xoe(t),writable:!0})}:Qoe,ele=Zoe,tle=800,rle=16,nle=Date.now;function sle(e){var t=0,r=0;return function(){var n=nle(),a=rle-(n-r);if(r=n,a>0){if(++t>=tle)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var ale=sle,ile=ele,ole=ale,lle=ole(ile),cle=lle,ule=cu,dle=Hoe,fle=cle;function hle(e,t){return fle(dle(e,t,ule),e+"")}var mle=hle,ple=G1,gle=Df,vle=dS,xle=Ri;function yle(e,t,r){if(!xle(r))return!1;var n=typeof t;return(n=="number"?gle(r)&&vle(t,r.length):n=="string"&&t in r)?ple(r[t],e):!1}var _v=yle,ble=iM,wle=Uoe,jle=mle,J2=_v,Sle=jle(function(e,t){if(e==null)return[];var r=t.length;return r>1&&J2(e,t[0],t[1])?t=[]:r>2&&J2(t[0],t[1],t[2])&&(t=[t[0]]),wle(e,ble(t,1),[])}),Nle=Sle;const pS=qe(Nle);function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mb.apply(this,arguments)}function _le(e,t){return Cle(e)||kle(e,t)||Ple(e,t)||Ele()}function Ele(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ple(e,t){if(e){if(typeof e=="string")return X2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X2(e,t)}}function X2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Cle(e){if(Array.isArray(e))return e}function Q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(r),!0).forEach(function(n){Ale(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ale(e,t,r){return t=Ole(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ole(e){var t=Tle(e,"string");return zd(t)=="symbol"?t:t+""}function Tle(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rle(e){return Array.isArray(e)&&Jt(e[0])&&Jt(e[1])?e.join(" ~ "):e}var Ile=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,x=t.accessibilityLayer,y=x===void 0?!1:x,w=function(){if(d&&d.length){var O={padding:0,margin:0},F=(h?pS(d,h):d).map(function(V,B){if(V.type==="none")return null;var U=fy({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},l),$=V.formatter||f||Rle,A=V.value,M=V.name,q=A,Y=M;if($&&q!=null&&Y!=null){var G=$(A,M,V,B,d);if(Array.isArray(G)){var ee=_le(G,2);q=ee[0],Y=ee[1]}else q=G}return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:U},Jt(Y)?k.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Jt(Y)?k.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,k.createElement("span",{className:"recharts-tooltip-item-value"},q),k.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:O},F)}return null},N=fy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=fy({margin:0},u),j=!ke(p),_=j?p:"",E=Ae("recharts-default-tooltip",m),P=Ae("recharts-tooltip-label",g);j&&v&&d!==void 0&&d!==null&&(_=v(p,d));var C=y?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",Mb({className:E,style:N},C),k.createElement("p",{className:P,style:S},k.isValidElement(_)?_:"".concat(_)),w())};function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}function kh(e,t,r){return t=$le(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $le(e){var t=Mle(e,"string");return Wd(t)=="symbol"?t:t+""}function Mle(e,t){if(Wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cu="recharts-tooltip-wrapper",Dle={visibility:"hidden"};function Lle(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ae(Cu,kh(kh(kh(kh({},"".concat(Cu,"-right"),Z(r)&&t&&Z(t.x)&&r>=t.x),"".concat(Cu,"-left"),Z(r)&&t&&Z(t.x)&&r<t.x),"".concat(Cu,"-bottom"),Z(n)&&t&&Z(t.y)&&n>=t.y),"".concat(Cu,"-top"),Z(n)&&t&&Z(t.y)&&n<t.y))}function Z2(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Z(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function Fle(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Ble(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=Z2({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Z2({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Fle({translateX:d,translateY:f,useTranslate3d:l})):u=Dle,{cssProperties:u,cssClasses:Lle({translateX:d,translateY:f,coordinate:r})}}function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){Lb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ule(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dM(n.key),n)}}function zle(e,t,r){return t&&Vle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wle(e,t,r){return t=xp(t),qle(e,uM()?Reflect.construct(t,r||[],xp(e).constructor):t.apply(e,r))}function qle(e,t){if(t&&(pc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hle(e)}function Hle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uM=function(){return!!e})()}function xp(e){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xp(e)}function Kle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Db(e,t)}function Db(e,t){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Db(e,t)}function Lb(e,t,r){return t=dM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dM(e){var t=Gle(e,"string");return pc(t)=="symbol"?t:t+""}function Gle(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rP=1,Yle=function(e){function t(){var r;Ule(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Wle(this,t,[].concat(a)),Lb(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Lb(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Kle(t,e),zle(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>rP||Math.abs(n.height-this.state.lastBoundingBox.height)>rP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,y=a.wrapperStyle,w=Ble({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),N=w.cssClasses,S=w.cssProperties,j=tP(tP({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return k.createElement("div",{tabIndex:-1,className:N,style:j,ref:function(E){n.wrapperNode=E}},u)}}])}(b.PureComponent),Jle=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Yo={isSsr:Jle()};function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(n){gS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hM(n.key),n)}}function Zle(e,t,r){return t&&Qle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ece(e,t,r){return t=yp(t),tce(e,fM()?Reflect.construct(t,r||[],yp(e).constructor):t.apply(e,r))}function tce(e,t){if(t&&(gc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rce(e)}function rce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fM=function(){return!!e})()}function yp(e){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yp(e)}function nce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fb(e,t)}function Fb(e,t){return Fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fb(e,t)}function gS(e,t,r){return t=hM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hM(e){var t=sce(e,"string");return gc(t)=="symbol"?t:t+""}function sce(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ace(e){return e.dataKey}function ice(e,t){return k.isValidElement(e)?k.cloneElement(e,t):typeof e=="function"?k.createElement(e,t):k.createElement(Ile,t)}var Kt=function(e){function t(){return Xle(this,t),ece(this,t,arguments)}return nce(t,e),Zle(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,v=a.position,x=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,N=a.wrapperStyle,S=g??[];f&&S.length&&(S=rM(g.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),p,ace));var j=S.length>0;return k.createElement(Yle,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:j,offset:m,position:v,reverseDirection:x,useTranslate3d:y,viewBox:w,wrapperStyle:N},ice(u,sP(sP({},this.props),{},{payload:S})))}}])}(b.PureComponent);gS(Kt,"displayName","Tooltip");gS(Kt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Yo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var oce=Ks,lce=function(){return oce.Date.now()},cce=lce,uce=/\s/;function dce(e){for(var t=e.length;t--&&uce.test(e.charAt(t)););return t}var fce=dce,hce=fce,mce=/^\s+/;function pce(e){return e&&e.slice(0,hce(e)+1).replace(mce,"")}var gce=pce,vce=gce,aP=Ri,xce=tu,iP=NaN,yce=/^[-+]0x[0-9a-f]+$/i,bce=/^0b[01]+$/i,wce=/^0o[0-7]+$/i,jce=parseInt;function Sce(e){if(typeof e=="number")return e;if(xce(e))return iP;if(aP(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=aP(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=vce(e);var r=bce.test(e);return r||wce.test(e)?jce(e.slice(2),r?2:8):yce.test(e)?iP:+e}var mM=Sce,Nce=Ri,hy=cce,oP=mM,_ce="Expected a function",Ece=Math.max,Pce=Math.min;function kce(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(_ce);t=oP(t)||0,Nce(r)&&(d=!!r.leading,f="maxWait"in r,i=f?Ece(oP(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(j){var _=n,E=a;return n=a=void 0,u=j,o=e.apply(E,_),o}function g(j){return u=j,l=setTimeout(x,t),d?m(j):o}function p(j){var _=j-c,E=j-u,P=t-_;return f?Pce(P,i-E):P}function v(j){var _=j-c,E=j-u;return c===void 0||_>=t||_<0||f&&E>=i}function x(){var j=hy();if(v(j))return y(j);l=setTimeout(x,p(j))}function y(j){return l=void 0,h&&n?m(j):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function N(){return l===void 0?o:y(hy())}function S(){var j=hy(),_=v(j);if(n=arguments,a=this,c=j,_){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(x,t),m(c)}return l===void 0&&(l=setTimeout(x,t)),o}return S.cancel=w,S.flush=N,S}var Cce=kce,Ace=Cce,Oce=Ri,Tce="Expected a function";function Rce(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Tce);return Oce(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Ace(e,t,{leading:n,maxWait:t,trailing:a})}var Ice=Rce;const pM=qe(Ice);function qd(e){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qd(e)}function lP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(r),!0).forEach(function(n){$ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ce(e,t,r){return t=Mce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mce(e){var t=Dce(e,"string");return qd(t)=="symbol"?t:t+""}function Dce(e,t){if(qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lce(e,t){return Vce(e)||Uce(e,t)||Bce(e,t)||Fce()}function Fce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bce(e,t){if(e){if(typeof e=="string")return cP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cP(e,t)}}function cP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Vce(e){if(Array.isArray(e))return e}var Os=b.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,x=e.className,y=e.onResize,w=e.style,N=w===void 0?{}:w,S=b.useRef(null),j=b.useRef();j.current=y,b.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var _=b.useState({containerWidth:a.width,containerHeight:a.height}),E=Lce(_,2),P=E[0],C=E[1],T=b.useCallback(function(F,V){C(function(B){var U=Math.round(F),$=Math.round(V);return B.containerWidth===U&&B.containerHeight===$?B:{containerWidth:U,containerHeight:$}})},[]);b.useEffect(function(){var F=function(M){var q,Y=M[0].contentRect,G=Y.width,ee=Y.height;T(G,ee),(q=j.current)===null||q===void 0||q.call(j,G,ee)};p>0&&(F=pM(F,p,{trailing:!0,leading:!1}));var V=new ResizeObserver(F),B=S.current.getBoundingClientRect(),U=B.width,$=B.height;return T(U,$),V.observe(S.current),function(){V.disconnect()}},[T,p]);var O=b.useMemo(function(){var F=P.containerWidth,V=P.containerHeight;if(F<0||V<0)return null;ss(fo(o)||fo(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ss(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=fo(o)?F:o,U=fo(c)?V:c;r&&r>0&&(B?U=B/r:U&&(B=U*r),h&&U>h&&(U=h)),ss(B>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,U,o,c,d,f,r);var $=!Array.isArray(m)&&ha(m.type).endsWith("Chart");return k.Children.map(m,function(A){return k.isValidElement(A)?b.cloneElement(A,Ch({width:B,height:U},$?{style:Ch({height:"100%",width:"100%",maxHeight:U,maxWidth:B},A.props.style)}:{})):A})},[r,m,c,h,f,d,P,o]);return k.createElement("div",{id:v?"".concat(v):void 0,className:Ae("recharts-responsive-container",x),style:Ch(Ch({},N),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},O)}),uu=function(t){return null};uu.displayName="Cell";function Hd(e){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(e)}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){zce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zce(e,t,r){return t=Wce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wce(e){var t=qce(e,"string");return Hd(t)=="symbol"?t:t+""}function qce(e,t){if(Hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hl={widthCache:{},cacheCount:0},Hce=2e3,Kce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dP="recharts_measurement_span";function Gce(e){var t=Bb({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ld=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Yo.isSsr)return{width:0,height:0};var n=Gce(r),a=JSON.stringify({text:t,copyStyle:n});if(hl.widthCache[a])return hl.widthCache[a];try{var i=document.getElementById(dP);i||(i=document.createElement("span"),i.setAttribute("id",dP),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Bb(Bb({},Kce),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return hl.widthCache[a]=c,++hl.cacheCount>Hce&&(hl.cacheCount=0,hl.widthCache={}),c}catch{return{width:0,height:0}}},Yce=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}function bp(e,t){return Zce(e)||Qce(e,t)||Xce(e,t)||Jce()}function Jce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xce(e,t){if(e){if(typeof e=="string")return fP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fP(e,t)}}function fP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Zce(e){if(Array.isArray(e))return e}function eue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rue(n.key),n)}}function tue(e,t,r){return t&&hP(e.prototype,t),r&&hP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rue(e){var t=nue(e,"string");return Kd(t)=="symbol"?t:t+""}function nue(e,t){if(Kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iue=Object.keys(gM),Rl="NaN";function oue(e,t){return e*gM[t]}var Ah=function(){function e(t,r){eue(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!sue.test(r)&&(this.num=NaN,this.unit=""),iue.includes(r)&&(this.num=oue(t,r),this.unit="px")}return tue(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=aue.exec(r))!==null&&n!==void 0?n:[],i=bp(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function vM(e){if(e.includes(Rl))return Rl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=mP.exec(t))!==null&&r!==void 0?r:[],a=bp(n,4),i=a[1],o=a[2],l=a[3],c=Ah.parse(i??""),u=Ah.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Rl;t=t.replace(mP,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=pP.exec(t))!==null&&f!==void 0?f:[],m=bp(h,4),g=m[1],p=m[2],v=m[3],x=Ah.parse(g??""),y=Ah.parse(v??""),w=p==="+"?x.add(y):x.subtract(y);if(w.isNaN())return Rl;t=t.replace(pP,w.toString())}return t}var gP=/\(([^()]*)\)/;function lue(e){for(var t=e;t.includes("(");){var r=gP.exec(t),n=bp(r,2),a=n[1];t=t.replace(gP,vM(a))}return t}function cue(e){var t=e.replace(/\s+/g,"");return t=lue(t),t=vM(t),t}function uue(e){try{return cue(e)}catch{return Rl}}function my(e){var t=uue(e.slice(5,-1));return t===Rl?"":t}var due=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fue=["dx","dy","angle","className","breakAll"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ub.apply(this,arguments)}function vP(e,t){if(e==null)return{};var r=hue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xP(e,t){return vue(e)||gue(e,t)||pue(e,t)||mue()}function mue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pue(e,t){if(e){if(typeof e=="string")return yP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yP(e,t)}}function yP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function vue(e){if(Array.isArray(e))return e}var xM=/[ \f\n\r\t\v\u2028\u2029]+/,yM=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];ke(r)||(n?i=r.toString().split(""):i=r.toString().split(xM));var o=i.map(function(c){return{word:c,width:ld(c,a).width}}),l=n?0:ld(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},xue=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Z(o),f=l,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(U,$){var A=$.word,M=$.width,q=U[U.length-1];if(q&&(a==null||i||q.width+M+n<Number(a)))q.words.push(A),q.width+=M+n;else{var Y={words:[A],width:M};U.push(Y)}return U},[])},m=h(r),g=function(B){return B.reduce(function(U,$){return U.width>$.width?U:$})};if(!d)return m;for(var p="…",v=function(B){var U=f.slice(0,B),$=yM({breakAll:u,style:c,children:U+p}).wordsWithComputedWidth,A=h($),M=A.length>o||g(A).width>Number(a);return[M,A]},x=0,y=f.length-1,w=0,N;x<=y&&w<=f.length-1;){var S=Math.floor((x+y)/2),j=S-1,_=v(j),E=xP(_,2),P=E[0],C=E[1],T=v(S),O=xP(T,1),F=O[0];if(!P&&!F&&(x=S+1),P&&F&&(y=S-1),!P&&F){N=C;break}w++}return N||m},bP=function(t){var r=ke(t)?[]:t.toString().split(xM);return[{words:r}]},yue=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Yo.isSsr){var c,u,d=yM({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return bP(a);return xue({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return bP(a)},wP="#808080",Do=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,x=v===void 0?wP:v,y=vP(t,due),w=b.useMemo(function(){return yue({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),N=y.dx,S=y.dy,j=y.angle,_=y.className,E=y.breakAll,P=vP(y,fue);if(!Jt(n)||!Jt(i))return null;var C=n+(Z(N)?N:0),T=i+(Z(S)?S:0),O;switch(p){case"start":O=my("calc(".concat(u,")"));break;case"middle":O=my("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=my("calc(".concat(w.length-1," * -").concat(l,")"));break}var F=[];if(f){var V=w[0].width,B=y.width;F.push("scale(".concat((Z(B)?B/V:1)/V,")"))}return j&&F.push("rotate(".concat(j,", ").concat(C,", ").concat(T,")")),F.length&&(P.transform=F.join(" ")),k.createElement("text",Ub({},ve(P,!0),{x:C,y:T,className:Ae("recharts-text",_),textAnchor:m,fill:x.includes("url")?wP:x}),w.map(function(U,$){var A=U.words.join(E?"":" ");return k.createElement("tspan",{x:C,dy:$===0?O:l,key:"".concat(A,"-").concat($)},A)}))};function fi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bue(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vS(e){let t,r,n;e.length!==2?(t=fi,r=(l,c)=>fi(e(l),c),n=(l,c)=>e(l)-c):(t=e===fi||e===bue?e:wue,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function wue(){return 0}function bM(e){return e===null?NaN:+e}function*jue(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Sue=vS(fi),Lf=Sue.right;vS(bM).center;class jP extends Map{constructor(t,r=Eue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(SP(this,t))}has(t){return super.has(SP(this,t))}set(t,r){return super.set(Nue(this,t),r)}delete(t){return super.delete(_ue(this,t))}}function SP({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Nue({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function _ue({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Eue(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Pue(e=fi){if(e===fi)return wM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function wM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const kue=Math.sqrt(50),Cue=Math.sqrt(10),Aue=Math.sqrt(2);function wp(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=kue?10:i>=Cue?5:i>=Aue?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?wp(e,t,r*2):[l,c,u]}function Vb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?wp(t,e,r):wp(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function zb(e,t,r){return t=+t,e=+e,r=+r,wp(e,t,r)[2]}function Wb(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?zb(t,e,r):zb(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function NP(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function _P(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function jM(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?wM:Pue(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));jM(e,t,m,g,a)}const i=e[t];let o=r,l=n;for(Au(e,r,t),a(e[n],i)>0&&Au(e,r,n);o<l;){for(Au(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Au(e,r,l):(++l,Au(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Au(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Oue(e,t,r){if(e=Float64Array.from(jue(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return _P(e);if(t>=1)return NP(e);var n,a=(n-1)*t,i=Math.floor(a),o=NP(jM(e,i).subarray(0,i+1)),l=_P(e.subarray(i+1));return o+(l-o)*(a-i)}}function Tue(e,t,r=bM){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Rue(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Dn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Oa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const qb=Symbol("implicit");function xS(){var e=new jP,t=[],r=[],n=qb;function a(i){let o=e.get(i);if(o===void 0){if(n!==qb)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new jP;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return xS(t,r).unknown(n)},Dn.apply(a,arguments),a}function Gd(){var e=xS().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,p=m?n:a;i=(p-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=Rue(h).map(function(x){return g+i*x});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Gd(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Dn.apply(f(),arguments)}function SM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return SM(t())},e}function cd(){return SM(Gd.apply(null,arguments).paddingInner(1))}function yS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function NM(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ff(){}var Yd=.7,jp=1/Yd,Jl="\\s*([+-]?\\d+)\\s*",Jd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ds="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Iue=/^#([0-9a-f]{3,8})$/,$ue=new RegExp(`^rgb\\(${Jl},${Jl},${Jl}\\)$`),Mue=new RegExp(`^rgb\\(${Ds},${Ds},${Ds}\\)$`),Due=new RegExp(`^rgba\\(${Jl},${Jl},${Jl},${Jd}\\)$`),Lue=new RegExp(`^rgba\\(${Ds},${Ds},${Ds},${Jd}\\)$`),Fue=new RegExp(`^hsl\\(${Jd},${Ds},${Ds}\\)$`),Bue=new RegExp(`^hsla\\(${Jd},${Ds},${Ds},${Jd}\\)$`),EP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yS(Ff,Xd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PP,formatHex:PP,formatHex8:Uue,formatHsl:Vue,formatRgb:kP,toString:kP});function PP(){return this.rgb().formatHex()}function Uue(){return this.rgb().formatHex8()}function Vue(){return _M(this).formatHsl()}function kP(){return this.rgb().formatRgb()}function Xd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Iue.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?CP(t):r===3?new Dr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Oh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Oh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$ue.exec(e))?new Dr(t[1],t[2],t[3],1):(t=Mue.exec(e))?new Dr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Due.exec(e))?Oh(t[1],t[2],t[3],t[4]):(t=Lue.exec(e))?Oh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Fue.exec(e))?TP(t[1],t[2]/100,t[3]/100,1):(t=Bue.exec(e))?TP(t[1],t[2]/100,t[3]/100,t[4]):EP.hasOwnProperty(e)?CP(EP[e]):e==="transparent"?new Dr(NaN,NaN,NaN,0):null}function CP(e){return new Dr(e>>16&255,e>>8&255,e&255,1)}function Oh(e,t,r,n){return n<=0&&(e=t=r=NaN),new Dr(e,t,r,n)}function zue(e){return e instanceof Ff||(e=Xd(e)),e?(e=e.rgb(),new Dr(e.r,e.g,e.b,e.opacity)):new Dr}function Hb(e,t,r,n){return arguments.length===1?zue(e):new Dr(e,t,r,n??1)}function Dr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}yS(Dr,Hb,NM(Ff,{brighter(e){return e=e==null?jp:Math.pow(jp,e),new Dr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yd:Math.pow(Yd,e),new Dr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Dr(wo(this.r),wo(this.g),wo(this.b),Sp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AP,formatHex:AP,formatHex8:Wue,formatRgb:OP,toString:OP}));function AP(){return`#${ho(this.r)}${ho(this.g)}${ho(this.b)}`}function Wue(){return`#${ho(this.r)}${ho(this.g)}${ho(this.b)}${ho((isNaN(this.opacity)?1:this.opacity)*255)}`}function OP(){const e=Sp(this.opacity);return`${e===1?"rgb(":"rgba("}${wo(this.r)}, ${wo(this.g)}, ${wo(this.b)}${e===1?")":`, ${e})`}`}function Sp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ho(e){return e=wo(e),(e<16?"0":"")+e.toString(16)}function TP(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ts(e,t,r,n)}function _M(e){if(e instanceof ts)return new ts(e.h,e.s,e.l,e.opacity);if(e instanceof Ff||(e=Xd(e)),!e)return new ts;if(e instanceof ts)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new ts(o,l,c,e.opacity)}function que(e,t,r,n){return arguments.length===1?_M(e):new ts(e,t,r,n??1)}function ts(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}yS(ts,que,NM(Ff,{brighter(e){return e=e==null?jp:Math.pow(jp,e),new ts(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yd:Math.pow(Yd,e),new ts(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Dr(py(e>=240?e-240:e+120,a,n),py(e,a,n),py(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ts(RP(this.h),Th(this.s),Th(this.l),Sp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sp(this.opacity);return`${e===1?"hsl(":"hsla("}${RP(this.h)}, ${Th(this.s)*100}%, ${Th(this.l)*100}%${e===1?")":`, ${e})`}`}}));function RP(e){return e=(e||0)%360,e<0?e+360:e}function Th(e){return Math.max(0,Math.min(1,e||0))}function py(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const bS=e=>()=>e;function Hue(e,t){return function(r){return e+r*t}}function Kue(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Gue(e){return(e=+e)==1?EM:function(t,r){return r-t?Kue(t,r,e):bS(isNaN(t)?r:t)}}function EM(e,t){var r=t-e;return r?Hue(e,r):bS(isNaN(e)?t:e)}const IP=function e(t){var r=Gue(t);function n(a,i){var o=r((a=Hb(a)).r,(i=Hb(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=EM(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Yue(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Jue(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Xue(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=du(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function Que(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Np(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Zue(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=du(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Kb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gy=new RegExp(Kb.source,"g");function ede(e){return function(){return e}}function tde(e){return function(t){return e(t)+""}}function rde(e,t){var r=Kb.lastIndex=gy.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Kb.exec(e))&&(a=gy.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Np(n,a)})),r=gy.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?tde(c[0].x):ede(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function du(e,t){var r=typeof t,n;return t==null||r==="boolean"?bS(t):(r==="number"?Np:r==="string"?(n=Xd(t))?(t=n,IP):rde:t instanceof Xd?IP:t instanceof Date?Que:Jue(t)?Yue:Array.isArray(t)?Xue:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Zue:Np)(e,t)}function wS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function nde(e,t){t===void 0&&(t=e,e=du);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function sde(e){return function(){return e}}function _p(e){return+e}var $P=[0,1];function Er(e){return e}function Gb(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:sde(isNaN(t)?NaN:.5)}function ade(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ide(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Gb(a,n),i=r(o,i)):(n=Gb(n,a),i=r(i,o)),function(l){return i(n(l))}}function ode(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Gb(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Lf(e,l,1,n)-1;return i[c](a[c](l))}}function Bf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ev(){var e=$P,t=$P,r=du,n,a,i,o=Er,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Er&&(o=ade(e[0],e[h-1])),l=h>2?ode:ide,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Np)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,_p),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=wS,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Er,d()):o!==Er},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function jS(){return Ev()(Er,Er)}function lde(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ep(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function vc(e){return e=Ep(Math.abs(e)),e?e[1]:NaN}function cde(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function ude(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var dde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qd(e){if(!(t=dde.exec(e)))throw new Error("invalid format: "+e);var t;return new SS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Qd.prototype=SS.prototype;function SS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}SS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fde(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var PM;function hde(e,t){var r=Ep(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(PM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Ep(e,Math.max(0,t+i-1))[0]}function MP(e,t){var r=Ep(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const DP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lde,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>MP(e*100,t),r:MP,s:hde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function LP(e){return e}var FP=Array.prototype.map,BP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function mde(e){var t=e.grouping===void 0||e.thousands===void 0?LP:cde(FP.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?LP:ude(FP.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Qd(f);var h=f.fill,m=f.align,g=f.sign,p=f.symbol,v=f.zero,x=f.width,y=f.comma,w=f.precision,N=f.trim,S=f.type;S==="n"?(y=!0,S="g"):DP[S]||(w===void 0&&(w=12),N=!0,S="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var j=p==="$"?r:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",_=p==="$"?n:/[%p]/.test(S)?o:"",E=DP[S],P=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function C(T){var O=j,F=_,V,B,U;if(S==="c")F=E(T)+F,T="";else{T=+T;var $=T<0||1/T<0;if(T=isNaN(T)?c:E(Math.abs(T),w),N&&(T=fde(T)),$&&+T==0&&g!=="+"&&($=!1),O=($?g==="("?g:l:g==="-"||g==="("?"":g)+O,F=(S==="s"?BP[8+PM/3]:"")+F+($&&g==="("?")":""),P){for(V=-1,B=T.length;++V<B;)if(U=T.charCodeAt(V),48>U||U>57){F=(U===46?a+T.slice(V+1):T.slice(V))+F,T=T.slice(0,V);break}}}y&&!v&&(T=t(T,1/0));var A=O.length+T.length+F.length,M=A<x?new Array(x-A+1).join(h):"";switch(y&&v&&(T=t(M+T,M.length?x-F.length:1/0),M=""),m){case"<":T=O+T+F+M;break;case"=":T=O+M+T+F;break;case"^":T=M.slice(0,A=M.length>>1)+O+T+F+M.slice(A);break;default:T=M+O+T+F;break}return i(T)}return C.toString=function(){return f+""},C}function d(f,h){var m=u((f=Qd(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(vc(h)/3)))*3,p=Math.pow(10,-g),v=BP[8+g/3];return function(x){return m(p*x)+v}}return{format:u,formatPrefix:d}}var Rh,NS,kM;pde({thousands:",",grouping:[3],currency:["$",""]});function pde(e){return Rh=mde(e),NS=Rh.format,kM=Rh.formatPrefix,Rh}function gde(e){return Math.max(0,-vc(Math.abs(e)))}function vde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vc(t)/3)))*3-vc(Math.abs(e)))}function xde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vc(t)-vc(e))+1}function CM(e,t,r,n){var a=Wb(e,t,r),i;switch(n=Qd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=vde(a,o))&&(n.precision=i),kM(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=xde(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=gde(a))&&(n.precision=i-(n.type==="%")*2);break}}return NS(n)}function Ii(e){var t=e.domain;return e.ticks=function(r){var n=t();return Vb(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return CM(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=zb(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Pp(){var e=jS();return e.copy=function(){return Bf(e,Pp())},Dn.apply(e,arguments),Ii(e)}function AM(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,_p),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return AM(e).unknown(t)},e=arguments.length?Array.from(e,_p):[0,1],Ii(r)}function OM(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function UP(e){return Math.log(e)}function VP(e){return Math.exp(e)}function yde(e){return-Math.log(-e)}function bde(e){return-Math.exp(-e)}function wde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jde(e){return e===10?wde:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Sde(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function zP(e){return(t,r)=>-e(-t,r)}function _S(e){const t=e(UP,VP),r=t.domain;let n=10,a,i;function o(){return a=Sde(n),i=jde(n),r()[0]<0?(a=zP(a),i=zP(i),e(yde,bde)):e(UP,VP),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,p;const v=l==null?10:+l;let x=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;x.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;x.push(p)}x.length*2<v&&(x=Vb(u,d,v))}else x=Vb(h,m,Math.min(m-h,v)).map(i);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Qd(c)).precision==null&&(c.trim=!0),c=NS(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(OM(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function TM(){const e=_S(Ev()).domain([1,10]);return e.copy=()=>Bf(e,TM()).base(e.base()),Dn.apply(e,arguments),e}function WP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function qP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ES(e){var t=1,r=e(WP(t),qP(t));return r.constant=function(n){return arguments.length?e(WP(t=+n),qP(t)):t},Ii(r)}function RM(){var e=ES(Ev());return e.copy=function(){return Bf(e,RM()).constant(e.constant())},Dn.apply(e,arguments)}function HP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Nde(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _de(e){return e<0?-e*e:e*e}function PS(e){var t=e(Er,Er),r=1;function n(){return r===1?e(Er,Er):r===.5?e(Nde,_de):e(HP(r),HP(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ii(t)}function kS(){var e=PS(Ev());return e.copy=function(){return Bf(e,kS()).exponent(e.exponent())},Dn.apply(e,arguments),e}function Ede(){return kS.apply(null,arguments).exponent(.5)}function KP(e){return Math.sign(e)*e*e}function Pde(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function IM(){var e=jS(),t=[0,1],r=!1,n;function a(i){var o=Pde(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(KP(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,_p)).map(KP)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return IM(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Dn.apply(a,arguments),Ii(a)}function $M(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Tue(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Lf(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(fi),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return $M().domain(e).range(t).unknown(n)},Dn.apply(i,arguments)}function MM(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Lf(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return MM().domain([e,t]).range(a).unknown(i)},Dn.apply(Ii(o),arguments)}function DM(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Lf(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return DM().domain(e).range(t).unknown(r)},Dn.apply(a,arguments)}const vy=new Date,xy=new Date;function Xt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Xt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(vy.setTime(+i),xy.setTime(+o),e(vy),e(xy),Math.floor(r(vy,xy))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const kp=Xt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);kp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Xt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):kp);kp.range;const la=1e3,_n=la*60,ca=_n*60,Sa=ca*24,CS=Sa*7,GP=Sa*30,yy=Sa*365,mo=Xt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getUTCSeconds());mo.range;const AS=Xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*la)},(e,t)=>{e.setTime(+e+t*_n)},(e,t)=>(t-e)/_n,e=>e.getMinutes());AS.range;const OS=Xt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_n)},(e,t)=>(t-e)/_n,e=>e.getUTCMinutes());OS.range;const TS=Xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*la-e.getMinutes()*_n)},(e,t)=>{e.setTime(+e+t*ca)},(e,t)=>(t-e)/ca,e=>e.getHours());TS.range;const RS=Xt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ca)},(e,t)=>(t-e)/ca,e=>e.getUTCHours());RS.range;const Uf=Xt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_n)/Sa,e=>e.getDate()-1);Uf.range;const Pv=Xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sa,e=>e.getUTCDate()-1);Pv.range;const LM=Xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sa,e=>Math.floor(e/Sa));LM.range;function Jo(e){return Xt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*_n)/CS)}const kv=Jo(0),Cp=Jo(1),kde=Jo(2),Cde=Jo(3),xc=Jo(4),Ade=Jo(5),Ode=Jo(6);kv.range;Cp.range;kde.range;Cde.range;xc.range;Ade.range;Ode.range;function Xo(e){return Xt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/CS)}const Cv=Xo(0),Ap=Xo(1),Tde=Xo(2),Rde=Xo(3),yc=Xo(4),Ide=Xo(5),$de=Xo(6);Cv.range;Ap.range;Tde.range;Rde.range;yc.range;Ide.range;$de.range;const IS=Xt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());IS.range;const $S=Xt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());$S.range;const Na=Xt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Na.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Na.range;const _a=Xt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_a.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});_a.range;function FM(e,t,r,n,a,i){const o=[[mo,1,la],[mo,5,5*la],[mo,15,15*la],[mo,30,30*la],[i,1,_n],[i,5,5*_n],[i,15,15*_n],[i,30,30*_n],[a,1,ca],[a,3,3*ca],[a,6,6*ca],[a,12,12*ca],[n,1,Sa],[n,2,2*Sa],[r,1,CS],[t,1,GP],[t,3,3*GP],[e,1,yy]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=vS(([,,v])=>v).right(o,h);if(m===o.length)return e.every(Wb(u/yy,d/yy,f));if(m===0)return kp.every(Math.max(Wb(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[Mde,Dde]=FM(_a,$S,Cv,LM,RS,OS),[Lde,Fde]=FM(Na,IS,kv,Uf,TS,AS);function by(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ou(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Bde(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Tu(a),d=Ru(a),f=Tu(i),h=Ru(i),m=Tu(o),g=Ru(o),p=Tu(l),v=Ru(l),x=Tu(c),y=Ru(c),w={a:$,A,b:M,B:q,c:null,d:ek,e:ek,f:cfe,g:yfe,G:wfe,H:ife,I:ofe,j:lfe,L:BM,m:ufe,M:dfe,p:Y,q:G,Q:nk,s:sk,S:ffe,u:hfe,U:mfe,V:pfe,w:gfe,W:vfe,x:null,X:null,y:xfe,Y:bfe,Z:jfe,"%":rk},N={a:ee,A:ie,b:Se,B:Me,c:null,d:tk,e:tk,f:Efe,g:Mfe,G:Lfe,H:Sfe,I:Nfe,j:_fe,L:VM,m:Pfe,M:kfe,p:te,q:Ee,Q:nk,s:sk,S:Cfe,u:Afe,U:Ofe,V:Tfe,w:Rfe,W:Ife,x:null,X:null,y:$fe,Y:Dfe,Z:Ffe,"%":rk},S={a:C,A:T,b:O,B:F,c:V,d:QP,e:QP,f:rfe,g:XP,G:JP,H:ZP,I:ZP,j:Qde,L:tfe,m:Xde,M:Zde,p:P,q:Jde,Q:sfe,s:afe,S:efe,u:qde,U:Hde,V:Kde,w:Wde,W:Gde,x:B,X:U,y:XP,Y:JP,Z:Yde,"%":nfe};w.x=j(r,w),w.X=j(n,w),w.c=j(t,w),N.x=j(r,N),N.X=j(n,N),N.c=j(t,N);function j(X,se){return function(ne){var H=[],Re=-1,Ne=0,Ze=X.length,Je,Et,Ar;for(ne instanceof Date||(ne=new Date(+ne));++Re<Ze;)X.charCodeAt(Re)===37&&(H.push(X.slice(Ne,Re)),(Et=YP[Je=X.charAt(++Re)])!=null?Je=X.charAt(++Re):Et=Je==="e"?" ":"0",(Ar=se[Je])&&(Je=Ar(ne,Et)),H.push(Je),Ne=Re+1);return H.push(X.slice(Ne,Re)),H.join("")}}function _(X,se){return function(ne){var H=Ou(1900,void 0,1),Re=E(H,X,ne+="",0),Ne,Ze;if(Re!=ne.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(se&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(Ne=wy(Ou(H.y,0,1)),Ze=Ne.getUTCDay(),Ne=Ze>4||Ze===0?Ap.ceil(Ne):Ap(Ne),Ne=Pv.offset(Ne,(H.V-1)*7),H.y=Ne.getUTCFullYear(),H.m=Ne.getUTCMonth(),H.d=Ne.getUTCDate()+(H.w+6)%7):(Ne=by(Ou(H.y,0,1)),Ze=Ne.getDay(),Ne=Ze>4||Ze===0?Cp.ceil(Ne):Cp(Ne),Ne=Uf.offset(Ne,(H.V-1)*7),H.y=Ne.getFullYear(),H.m=Ne.getMonth(),H.d=Ne.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),Ze="Z"in H?wy(Ou(H.y,0,1)).getUTCDay():by(Ou(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(Ze+5)%7:H.w+H.U*7-(Ze+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,wy(H)):by(H)}}function E(X,se,ne,H){for(var Re=0,Ne=se.length,Ze=ne.length,Je,Et;Re<Ne;){if(H>=Ze)return-1;if(Je=se.charCodeAt(Re++),Je===37){if(Je=se.charAt(Re++),Et=S[Je in YP?se.charAt(Re++):Je],!Et||(H=Et(X,ne,H))<0)return-1}else if(Je!=ne.charCodeAt(H++))return-1}return H}function P(X,se,ne){var H=u.exec(se.slice(ne));return H?(X.p=d.get(H[0].toLowerCase()),ne+H[0].length):-1}function C(X,se,ne){var H=m.exec(se.slice(ne));return H?(X.w=g.get(H[0].toLowerCase()),ne+H[0].length):-1}function T(X,se,ne){var H=f.exec(se.slice(ne));return H?(X.w=h.get(H[0].toLowerCase()),ne+H[0].length):-1}function O(X,se,ne){var H=x.exec(se.slice(ne));return H?(X.m=y.get(H[0].toLowerCase()),ne+H[0].length):-1}function F(X,se,ne){var H=p.exec(se.slice(ne));return H?(X.m=v.get(H[0].toLowerCase()),ne+H[0].length):-1}function V(X,se,ne){return E(X,t,se,ne)}function B(X,se,ne){return E(X,r,se,ne)}function U(X,se,ne){return E(X,n,se,ne)}function $(X){return o[X.getDay()]}function A(X){return i[X.getDay()]}function M(X){return c[X.getMonth()]}function q(X){return l[X.getMonth()]}function Y(X){return a[+(X.getHours()>=12)]}function G(X){return 1+~~(X.getMonth()/3)}function ee(X){return o[X.getUTCDay()]}function ie(X){return i[X.getUTCDay()]}function Se(X){return c[X.getUTCMonth()]}function Me(X){return l[X.getUTCMonth()]}function te(X){return a[+(X.getUTCHours()>=12)]}function Ee(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var se=j(X+="",w);return se.toString=function(){return X},se},parse:function(X){var se=_(X+="",!1);return se.toString=function(){return X},se},utcFormat:function(X){var se=j(X+="",N);return se.toString=function(){return X},se},utcParse:function(X){var se=_(X+="",!0);return se.toString=function(){return X},se}}}var YP={"-":"",_:" ",0:"0"},ir=/^\s*\d+/,Ude=/^%/,Vde=/[\\^$*+?|[\]().{}]/g;function Ve(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function zde(e){return e.replace(Vde,"\\$&")}function Tu(e){return new RegExp("^(?:"+e.map(zde).join("|")+")","i")}function Ru(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Wde(e,t,r){var n=ir.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function qde(e,t,r){var n=ir.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Hde(e,t,r){var n=ir.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Kde(e,t,r){var n=ir.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Gde(e,t,r){var n=ir.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function JP(e,t,r){var n=ir.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function XP(e,t,r){var n=ir.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Yde(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Jde(e,t,r){var n=ir.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Xde(e,t,r){var n=ir.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function QP(e,t,r){var n=ir.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Qde(e,t,r){var n=ir.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ZP(e,t,r){var n=ir.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Zde(e,t,r){var n=ir.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function efe(e,t,r){var n=ir.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function tfe(e,t,r){var n=ir.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function rfe(e,t,r){var n=ir.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nfe(e,t,r){var n=Ude.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function sfe(e,t,r){var n=ir.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function afe(e,t,r){var n=ir.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ek(e,t){return Ve(e.getDate(),t,2)}function ife(e,t){return Ve(e.getHours(),t,2)}function ofe(e,t){return Ve(e.getHours()%12||12,t,2)}function lfe(e,t){return Ve(1+Uf.count(Na(e),e),t,3)}function BM(e,t){return Ve(e.getMilliseconds(),t,3)}function cfe(e,t){return BM(e,t)+"000"}function ufe(e,t){return Ve(e.getMonth()+1,t,2)}function dfe(e,t){return Ve(e.getMinutes(),t,2)}function ffe(e,t){return Ve(e.getSeconds(),t,2)}function hfe(e){var t=e.getDay();return t===0?7:t}function mfe(e,t){return Ve(kv.count(Na(e)-1,e),t,2)}function UM(e){var t=e.getDay();return t>=4||t===0?xc(e):xc.ceil(e)}function pfe(e,t){return e=UM(e),Ve(xc.count(Na(e),e)+(Na(e).getDay()===4),t,2)}function gfe(e){return e.getDay()}function vfe(e,t){return Ve(Cp.count(Na(e)-1,e),t,2)}function xfe(e,t){return Ve(e.getFullYear()%100,t,2)}function yfe(e,t){return e=UM(e),Ve(e.getFullYear()%100,t,2)}function bfe(e,t){return Ve(e.getFullYear()%1e4,t,4)}function wfe(e,t){var r=e.getDay();return e=r>=4||r===0?xc(e):xc.ceil(e),Ve(e.getFullYear()%1e4,t,4)}function jfe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ve(t/60|0,"0",2)+Ve(t%60,"0",2)}function tk(e,t){return Ve(e.getUTCDate(),t,2)}function Sfe(e,t){return Ve(e.getUTCHours(),t,2)}function Nfe(e,t){return Ve(e.getUTCHours()%12||12,t,2)}function _fe(e,t){return Ve(1+Pv.count(_a(e),e),t,3)}function VM(e,t){return Ve(e.getUTCMilliseconds(),t,3)}function Efe(e,t){return VM(e,t)+"000"}function Pfe(e,t){return Ve(e.getUTCMonth()+1,t,2)}function kfe(e,t){return Ve(e.getUTCMinutes(),t,2)}function Cfe(e,t){return Ve(e.getUTCSeconds(),t,2)}function Afe(e){var t=e.getUTCDay();return t===0?7:t}function Ofe(e,t){return Ve(Cv.count(_a(e)-1,e),t,2)}function zM(e){var t=e.getUTCDay();return t>=4||t===0?yc(e):yc.ceil(e)}function Tfe(e,t){return e=zM(e),Ve(yc.count(_a(e),e)+(_a(e).getUTCDay()===4),t,2)}function Rfe(e){return e.getUTCDay()}function Ife(e,t){return Ve(Ap.count(_a(e)-1,e),t,2)}function $fe(e,t){return Ve(e.getUTCFullYear()%100,t,2)}function Mfe(e,t){return e=zM(e),Ve(e.getUTCFullYear()%100,t,2)}function Dfe(e,t){return Ve(e.getUTCFullYear()%1e4,t,4)}function Lfe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?yc(e):yc.ceil(e),Ve(e.getUTCFullYear()%1e4,t,4)}function Ffe(){return"+0000"}function rk(){return"%"}function nk(e){return+e}function sk(e){return Math.floor(+e/1e3)}var ml,WM,qM;Bfe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bfe(e){return ml=Bde(e),WM=ml.format,ml.parse,qM=ml.utcFormat,ml.utcParse,ml}function Ufe(e){return new Date(e)}function Vfe(e){return e instanceof Date?+e:+new Date(+e)}function MS(e,t,r,n,a,i,o,l,c,u){var d=jS(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),w=u("%B"),N=u("%Y");function S(j){return(c(j)<j?m:l(j)<j?g:o(j)<j?p:i(j)<j?v:n(j)<j?a(j)<j?x:y:r(j)<j?w:N)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,Vfe)):h().map(Ufe)},d.ticks=function(j){var _=h();return e(_[0],_[_.length-1],j??10)},d.tickFormat=function(j,_){return _==null?S:u(_)},d.nice=function(j){var _=h();return(!j||typeof j.range!="function")&&(j=t(_[0],_[_.length-1],j??10)),j?h(OM(_,j)):d},d.copy=function(){return Bf(d,MS(e,t,r,n,a,i,o,l,c,u))},d}function zfe(){return Dn.apply(MS(Lde,Fde,Na,IS,kv,Uf,TS,AS,mo,WM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wfe(){return Dn.apply(MS(Mde,Dde,_a,$S,Cv,Pv,RS,OS,mo,qM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Av(){var e=0,t=1,r,n,a,i,o=Er,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(du),u.rangeRound=d(wS),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function $i(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function HM(){var e=Ii(Av()(Er));return e.copy=function(){return $i(e,HM())},Oa.apply(e,arguments)}function KM(){var e=_S(Av()).domain([1,10]);return e.copy=function(){return $i(e,KM()).base(e.base())},Oa.apply(e,arguments)}function GM(){var e=ES(Av());return e.copy=function(){return $i(e,GM()).constant(e.constant())},Oa.apply(e,arguments)}function DS(){var e=PS(Av());return e.copy=function(){return $i(e,DS()).exponent(e.exponent())},Oa.apply(e,arguments)}function qfe(){return DS.apply(null,arguments).exponent(.5)}function YM(){var e=[],t=Er;function r(n){if(n!=null&&!isNaN(n=+n))return t((Lf(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(fi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Oue(e,i/n))},r.copy=function(){return YM(t).domain(e)},Oa.apply(r,arguments)}function Ov(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Er,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var x,y,w;return arguments.length?([x,y,w]=v,u=nde(p,[x,y,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(du),m.rangeRound=g(wS),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function JM(){var e=Ii(Ov()(Er));return e.copy=function(){return $i(e,JM())},Oa.apply(e,arguments)}function XM(){var e=_S(Ov()).domain([.1,1,10]);return e.copy=function(){return $i(e,XM()).base(e.base())},Oa.apply(e,arguments)}function QM(){var e=ES(Ov());return e.copy=function(){return $i(e,QM()).constant(e.constant())},Oa.apply(e,arguments)}function LS(){var e=PS(Ov());return e.copy=function(){return $i(e,LS()).exponent(e.exponent())},Oa.apply(e,arguments)}function Hfe(){return LS.apply(null,arguments).exponent(.5)}const ak=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gd,scaleDiverging:JM,scaleDivergingLog:XM,scaleDivergingPow:LS,scaleDivergingSqrt:Hfe,scaleDivergingSymlog:QM,scaleIdentity:AM,scaleImplicit:qb,scaleLinear:Pp,scaleLog:TM,scaleOrdinal:xS,scalePoint:cd,scalePow:kS,scaleQuantile:$M,scaleQuantize:MM,scaleRadial:IM,scaleSequential:HM,scaleSequentialLog:KM,scaleSequentialPow:DS,scaleSequentialQuantile:YM,scaleSequentialSqrt:qfe,scaleSequentialSymlog:GM,scaleSqrt:Ede,scaleSymlog:RM,scaleThreshold:DM,scaleTime:zfe,scaleUtc:Wfe,tickFormat:CM},Symbol.toStringTag,{value:"Module"}));var Kfe=tu;function Gfe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Kfe(o):r(o,l)))var l=o,c=i}return c}var Tv=Gfe;function Yfe(e,t){return e>t}var ZM=Yfe,Jfe=Tv,Xfe=ZM,Qfe=cu;function Zfe(e){return e&&e.length?Jfe(e,Qfe,Xfe):void 0}var ehe=Zfe;const Rv=qe(ehe);function the(e,t){return e<t}var eD=the,rhe=Tv,nhe=eD,she=cu;function ahe(e){return e&&e.length?rhe(e,she,nhe):void 0}var ihe=ahe;const Iv=qe(ihe);var ohe=Q1,lhe=Gs,che=lM,uhe=Wr;function dhe(e,t){var r=uhe(e)?ohe:che;return r(e,lhe(t))}var fhe=dhe,hhe=iM,mhe=fhe;function phe(e,t){return hhe(mhe(e,t),1)}var ghe=phe;const vhe=qe(ghe);var xhe=hS;function yhe(e,t){return xhe(e,t)}var bhe=yhe;const Vf=qe(bhe);var fu=1e9,whe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},BS,yt=!0,Tn="[DecimalError] ",jo=Tn+"Invalid argument: ",FS=Tn+"Exponent out of range: ",hu=Math.floor,Xi=Math.pow,jhe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,tn,Qt=1e7,mt=7,tD=9007199254740991,Op=hu(tD/mt),le={};le.absoluteValue=le.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};le.comparedTo=le.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};le.decimalPlaces=le.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*mt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};le.dividedBy=le.div=function(e){return ma(this,new this.constructor(e))};le.dividedToIntegerBy=le.idiv=function(e){var t=this,r=t.constructor;return et(ma(t,new r(e),0,1),r.precision)};le.equals=le.eq=function(e){return!this.cmp(e)};le.exponent=function(){return Dt(this)};le.greaterThan=le.gt=function(e){return this.cmp(e)>0};le.greaterThanOrEqualTo=le.gte=function(e){return this.cmp(e)>=0};le.isInteger=le.isint=function(){return this.e>this.d.length-2};le.isNegative=le.isneg=function(){return this.s<0};le.isPositive=le.ispos=function(){return this.s>0};le.isZero=function(){return this.s===0};le.lessThan=le.lt=function(e){return this.cmp(e)<0};le.lessThanOrEqualTo=le.lte=function(e){return this.cmp(e)<1};le.logarithm=le.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(tn))throw Error(Tn+"NaN");if(r.s<1)throw Error(Tn+(r.s?"NaN":"-Infinity"));return r.eq(tn)?new n(0):(yt=!1,t=ma(Zd(r,i),Zd(e,i),i),yt=!0,et(t,a))};le.minus=le.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sD(t,e):rD(t,(e.s=-e.s,e))};le.modulo=le.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Tn+"NaN");return r.s?(yt=!1,t=ma(r,e,0,1).times(e),yt=!0,r.minus(t)):et(new n(r),a)};le.naturalExponential=le.exp=function(){return nD(this)};le.naturalLogarithm=le.ln=function(){return Zd(this)};le.negated=le.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};le.plus=le.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?rD(t,e):sD(t,(e.s=-e.s,e))};le.precision=le.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jo+e);if(t=Dt(a)+1,n=a.d.length-1,r=n*mt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};le.squareRoot=le.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Tn+"NaN")}for(e=Dt(l),yt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ts(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=hu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(ma(l,i,o+2)).times(.5),Ts(i.d).slice(0,o)===(t=Ts(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(et(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return yt=!0,et(n,r)};le.times=le.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%Qt|0,t=l/Qt|0;i[a]=(i[a]+t)%Qt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,yt?et(e,f.precision):e};le.toDecimalPlaces=le.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(zs(e,0,fu),t===void 0?t=n.rounding:zs(t,0,8),et(r,e+Dt(r)+1,t))};le.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Lo(n,!0):(zs(e,0,fu),t===void 0?t=a.rounding:zs(t,0,8),n=et(new a(n),e+1,t),r=Lo(n,!0,e+1)),r};le.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Lo(a):(zs(e,0,fu),t===void 0?t=i.rounding:zs(t,0,8),n=et(new i(a),e+Dt(a)+1,t),r=Lo(n.abs(),!1,e+Dt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};le.toInteger=le.toint=function(){var e=this,t=e.constructor;return et(new t(e),Dt(e)+1,t.rounding)};le.toNumber=function(){return+this};le.toPower=le.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(tn);if(l=new c(l),!l.s){if(e.s<1)throw Error(Tn+"Infinity");return l}if(l.eq(tn))return l;if(n=c.precision,e.eq(tn))return et(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=tD){for(a=new c(tn),t=Math.ceil(n/mt+4),yt=!1;r%2&&(a=a.times(l),ok(a.d,t)),r=hu(r/2),r!==0;)l=l.times(l),ok(l.d,t);return yt=!0,e.s<0?new c(tn).div(a):et(a,n)}}else if(i<0)throw Error(Tn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,yt=!1,a=e.times(Zd(l,n+u)),yt=!0,a=nD(a),a.s=i,a};le.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Dt(a),n=Lo(a,r<=i.toExpNeg||r>=i.toExpPos)):(zs(e,1,fu),t===void 0?t=i.rounding:zs(t,0,8),a=et(new i(a),e,t),r=Dt(a),n=Lo(a,e<=r||r<=i.toExpNeg,e)),n};le.toSignificantDigits=le.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(zs(e,1,fu),t===void 0?t=n.rounding:zs(t,0,8)),et(new n(r),e,t)};le.toString=le.valueOf=le.val=le.toJSON=le[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Dt(e),r=e.constructor;return Lo(e,t<=r.toExpNeg||t>=r.toExpPos)};function rD(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),yt?et(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/mt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Qt|0,c[i]%=Qt;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,yt?et(t,f):t}function zs(e,t,r){if(e!==~~e||e<t||e>r)throw Error(jo+e)}function Ts(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=mt-n.length,r&&(i+=qa(r)),i+=n;o=e[t],n=o+"",r=mt-n.length,r&&(i+=qa(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ma=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Qt|0,o=i/Qt|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Qt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,m,g,p,v,x,y,w,N,S,j,_,E,P=n.constructor,C=n.s==a.s?1:-1,T=n.d,O=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Tn+"Division by zero");for(c=n.e-a.e,_=O.length,S=T.length,m=new P(C),g=m.d=[],u=0;O[u]==(T[u]||0);)++u;if(O[u]>(T[u]||0)&&--c,i==null?y=i=P.precision:o?y=i+(Dt(n)-Dt(a))+1:y=i,y<0)return new P(0);if(y=y/mt+2|0,u=0,_==1)for(d=0,O=O[0],y++;(u<S||d)&&y--;u++)w=d*Qt+(T[u]||0),g[u]=w/O|0,d=w%O|0;else{for(d=Qt/(O[0]+1)|0,d>1&&(O=e(O,d),T=e(T,d),_=O.length,S=T.length),N=_,p=T.slice(0,_),v=p.length;v<_;)p[v++]=0;E=O.slice(),E.unshift(0),j=O[0],O[1]>=Qt/2&&++j;do d=0,l=t(O,p,_,v),l<0?(x=p[0],_!=v&&(x=x*Qt+(p[1]||0)),d=x/j|0,d>1?(d>=Qt&&(d=Qt-1),f=e(O,d),h=f.length,v=p.length,l=t(f,p,h,v),l==1&&(d--,r(f,_<h?E:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),l==-1&&(v=p.length,l=t(O,p,_,v),l<1&&(d++,r(p,_<v?E:O,v))),v=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[v++]=T[N]||0:(p=[T[N]],v=1);while((N++<S||p[0]!==void 0)&&y--)}return g[0]||g.shift(),m.e=c,et(m,o?i+Dt(m)+1:i)}}();function nD(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Dt(e)>16)throw Error(FS+Dt(e));if(!e.s)return new d(tn);for(yt=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Xi(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(tn),d.precision=l;;){if(a=et(a.times(e),l),r=r.times(++c),o=i.plus(ma(a,r,l)),Ts(o.d).slice(0,l)===Ts(i.d).slice(0,l)){for(;u--;)i=et(i.times(i),l);return d.precision=f,t==null?(yt=!0,et(i,f)):i}i=o}}function Dt(e){for(var t=e.e*mt,r=e.d[0];r>=10;r/=10)t++;return t}function jy(e,t,r){if(t>e.LN10.sd())throw yt=!0,r&&(e.precision=r),Error(Tn+"LN10 precision limit exceeded");return et(new e(e.LN10),t)}function qa(e){for(var t="";e--;)t+="0";return t}function Zd(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(Tn+(m.s?"NaN":"-Infinity"));if(m.eq(tn))return new p(0);if(t==null?(yt=!1,u=v):u=t,m.eq(10))return t==null&&(yt=!0),jy(p,u);if(u+=h,p.precision=u,r=Ts(g),n=r.charAt(0),i=Dt(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Ts(m.d),n=r.charAt(0),f++;i=Dt(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=jy(p,u+2,v).times(i+""),m=Zd(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?(yt=!0,et(m,v)):m;for(l=o=m=ma(m.minus(tn),m.plus(tn),u),d=et(m.times(m),u),a=3;;){if(o=et(o.times(d),u),c=l.plus(ma(o,new p(a),u)),Ts(c.d).slice(0,u)===Ts(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(jy(p,u+2,v).times(i+""))),l=ma(l,new p(f),u),p.precision=v,t==null?(yt=!0,et(l,v)):l;l=c,a+=2}}function ik(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=hu(r/mt),e.d=[],n=(r+1)%mt,r<0&&(n+=mt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=mt;n<a;)e.d.push(+t.slice(n,n+=mt));t=t.slice(n),n=mt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),yt&&(e.e>Op||e.e<-Op))throw Error(FS+r)}else e.s=0,e.e=0,e.d=[0];return e}function et(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=mt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/mt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=mt,a=n-mt+o}if(r!==void 0&&(i=Xi(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Xi(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Dt(e),f.length=1,t=t-i-1,f[0]=Xi(10,(mt-t%mt)%mt),e.e=hu(-t/mt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Xi(10,mt-n),f[d]=a>0?(u/Xi(10,o-a)%Xi(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Qt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Qt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(yt&&(e.e>Op||e.e<-Op))throw Error(FS+Dt(e));return e}function sD(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),yt?et(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/mt),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Qt-1;--c[i],c[a]+=Qt}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,yt?et(t,m):t):new h(0)}function Lo(e,t,r){var n,a=Dt(e),i=Ts(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+qa(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+qa(-a-1)+i,r&&(n=r-o)>0&&(i+=qa(n))):a>=o?(i+=qa(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+qa(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=qa(n))),e.s<0?"-"+i:i}function ok(e,t){if(e.length>t)return e.length=t,!0}function aD(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(jo+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return ik(o,i.toString())}else if(typeof i!="string")throw Error(jo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,jhe.test(i))ik(o,i);else throw Error(jo+i)}if(a.prototype=le,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=aD,a.config=a.set=She,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function She(e){if(!e||typeof e!="object")throw Error(Tn+"Object expected");var t,r,n,a=["precision",1,fu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(hu(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(jo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(jo+r+": "+n);return this}var BS=aD(whe);tn=new BS(1);const Qe=BS;function Nhe(e){return khe(e)||Phe(e)||Ehe(e)||_he()}function _he(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ehe(e,t){if(e){if(typeof e=="string")return Yb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yb(e,t)}}function Phe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function khe(e){if(Array.isArray(e))return Yb(e)}function Yb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Che=function(t){return t},iD={},oD=function(t){return t===iD},lk=function(t){return function r(){return arguments.length===0||arguments.length===1&&oD(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Ahe=function e(t,r){return t===1?r:lk(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==iD}).length;return o>=t?r.apply(void 0,a):e(t-o,lk(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return oD(f)?c.shift():f});return r.apply(void 0,Nhe(d).concat(c))}))})},$v=function(t){return Ahe(t.length,t)},Jb=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Ohe=$v(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),The=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Che;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Xb=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},lD=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function Rhe(e){var t;return e===0?t=1:t=Math.floor(new Qe(e).abs().log(10).toNumber())+1,t}function Ihe(e,t,r){for(var n=new Qe(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var $he=$v(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Mhe=$v(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Dhe=$v(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Mv={rangeStep:Ihe,getDigitCount:Rhe,interpolateNumber:$he,uninterpolateNumber:Mhe,uninterpolateTruncation:Dhe};function Qb(e){return Bhe(e)||Fhe(e)||cD(e)||Lhe()}function Lhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fhe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Bhe(e){if(Array.isArray(e))return Zb(e)}function ef(e,t){return zhe(e)||Vhe(e,t)||cD(e,t)||Uhe()}function Uhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cD(e,t){if(e){if(typeof e=="string")return Zb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zb(e,t)}}function Zb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vhe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function zhe(e){if(Array.isArray(e))return e}function uD(e){var t=ef(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function dD(e,t,r){if(e.lte(0))return new Qe(0);var n=Mv.getDigitCount(e.toNumber()),a=new Qe(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Qe(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Qe(Math.ceil(c))}function Whe(e,t,r){var n=1,a=new Qe(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Qe(10).pow(Mv.getDigitCount(e)-1),a=new Qe(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Qe(Math.floor(e)))}else e===0?a=new Qe(Math.floor((t-1)/2)):r||(a=new Qe(Math.floor(e)));var o=Math.floor((t-1)/2),l=The(Ohe(function(c){return a.add(new Qe(c-o).mul(n)).toNumber()}),Jb);return l(0,t)}function fD(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Qe(0),tickMin:new Qe(0),tickMax:new Qe(0)};var i=dD(new Qe(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Qe(0):(o=new Qe(e).add(t).div(2),o=o.sub(new Qe(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Qe(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?fD(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Qe(l).mul(i)),tickMax:o.add(new Qe(c).mul(i))})}function qhe(e){var t=ef(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=uD([r,n]),c=ef(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Qb(Jb(0,a-1).map(function(){return 1/0}))):[].concat(Qb(Jb(0,a-1).map(function(){return-1/0})),[d]);return r>n?Xb(f):f}if(u===d)return Whe(u,a,i);var h=fD(u,d,o,i),m=h.step,g=h.tickMin,p=h.tickMax,v=Mv.rangeStep(g,p.add(new Qe(.1).mul(m)),m);return r>n?Xb(v):v}function Hhe(e,t){var r=ef(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=uD([n,a]),l=ef(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=dD(new Qe(u).sub(c).div(d-1),i,0),h=[].concat(Qb(Mv.rangeStep(new Qe(c),new Qe(u).sub(new Qe(.99).mul(f)),f)),[u]);return n>a?Xb(h):h}var Khe=lD(qhe),Ghe=lD(Hhe),Yhe="Invariant failed";function Fo(e,t){throw new Error(Yhe)}var Jhe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tp.apply(this,arguments)}function Xhe(e,t){return tme(e)||eme(e,t)||Zhe(e,t)||Qhe()}function Qhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zhe(e,t){if(e){if(typeof e=="string")return ck(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ck(e,t)}}function ck(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function tme(e){if(Array.isArray(e))return e}function rme(e,t){if(e==null)return{};var r=nme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ame(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pD(n.key),n)}}function ime(e,t,r){return t&&ame(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ome(e,t,r){return t=Rp(t),lme(e,hD()?Reflect.construct(t,r||[],Rp(e).constructor):t.apply(e,r))}function lme(e,t){if(t&&(bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cme(e)}function cme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hD=function(){return!!e})()}function Rp(e){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rp(e)}function ume(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ew(e,t)}function ew(e,t){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ew(e,t)}function mD(e,t,r){return t=pD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pD(e){var t=dme(e,"string");return bc(t)=="symbol"?t:t+""}function dme(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zf=function(e){function t(){return sme(this,t),ome(this,t,arguments)}return ume(t,e),ime(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=rme(n,Jhe),m=ve(h,!1);this.props.direction==="x"&&d.type!=="number"&&Fo();var g=c.map(function(p){var v=u(p,l),x=v.x,y=v.y,w=v.value,N=v.errorVal;if(!N)return null;var S=[],j,_;if(Array.isArray(N)){var E=Xhe(N,2);j=E[0],_=E[1]}else j=_=N;if(i==="vertical"){var P=d.scale,C=y+a,T=C+o,O=C-o,F=P(w-j),V=P(w+_);S.push({x1:V,y1:T,x2:V,y2:O}),S.push({x1:F,y1:C,x2:V,y2:C}),S.push({x1:F,y1:T,x2:F,y2:O})}else if(i==="horizontal"){var B=f.scale,U=x+a,$=U-o,A=U+o,M=B(w-j),q=B(w+_);S.push({x1:$,y1:q,x2:A,y2:q}),S.push({x1:U,y1:M,x2:U,y2:q}),S.push({x1:$,y1:M,x2:A,y2:M})}return k.createElement(Ue,Tp({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},m),S.map(function(Y){return k.createElement("line",Tp({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return k.createElement(Ue,{className:"recharts-errorBars"},g)}}])}(k.Component);mD(zf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});mD(zf,"displayName","ErrorBar");function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(r),!0).forEach(function(n){fme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fme(e,t,r){return t=hme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hme(e){var t=mme(e,"string");return tf(t)=="symbol"?t:t+""}function mme(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gD=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Qr(r,bo);if(!o)return null;var l=bo.defaultProps,c=l!==void 0?Vi(Vi({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Vi(Vi({},h),f.props):{},g=m.dataKey,p=m.name,v=m.legendType,x=m.hide;return{inactive:x,dataKey:g,type:c.iconType||v||"square",color:US(f),value:p||g,payload:m}}),Vi(Vi(Vi({},c),bo.getWithHeight(o,a)),{},{payload:u,item:o})};function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function dk(e){return xme(e)||vme(e)||gme(e)||pme()}function pme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gme(e,t){if(e){if(typeof e=="string")return tw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tw(e,t)}}function vme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xme(e){if(Array.isArray(e))return tw(e)}function tw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(n){Xl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xl(e,t,r){return t=yme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yme(e){var t=bme(e,"string");return rf(t)=="symbol"?t:t+""}function bme(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gt(e,t,r){return ke(e)||ke(t)?r:Jt(t)?an(e,t,r):je(t)?t(e):r}function ud(e,t,r,n){var a=vhe(e,function(l){return Gt(l,t)});if(r==="number"){var i=a.filter(function(l){return Z(l)||parseFloat(l)});return i.length?[Iv(i),Rv(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!ke(l)}):a;return o.map(function(l){return Jt(l)||l instanceof Date?l:""})}var wme=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Nr(f-d)!==Nr(h-f)){var g=[];if(Nr(h-f)===Nr(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>x[0]&&t<=x[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var y=Math.min(d,h),w=Math.max(d,h);if(t>(y+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},US=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?kt(kt({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},jme=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,v=g.cateAxisId,x=p.filter(function(_){return ha(_.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,w=y!==void 0?kt(kt({},y),x[0].props):x[0].props,N=w.barSize,S=w[v];o[S]||(o[S]=[]);var j=ke(N)?r:N;o[S].push({item:x[0],stackList:x.slice(1),barSize:ke(j)?void 0:_r(j,n,0)})}}return o},Sme=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=_r(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,g=o.reduce(function(N,S){return N+S.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(h=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,v={offset:p-u,size:0};d=o.reduce(function(N,S){var j={item:S.item,position:{offset:v.offset+v.size+u,size:h?m:S.barSize}},_=[].concat(dk(N),[j]);return v=_[_.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){_.push({item:E,position:v})}),_},f)}else{var x=_r(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var y=(a-2*x-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;d=o.reduce(function(N,S,j){var _=[].concat(dk(N),[{item:S.item,position:{offset:x+(y+u)*j+(y-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){_.push({item:E,position:_[_.length-1].position})}),_},f)}return d},Nme=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=gD({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&Z(t[m]))return kt(kt({},t),{},Xl({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&Z(t[g]))return kt(kt({},t),{},Xl({},g,t[g]+(h||0)))}return t},_me=function(t,r,n){return ke(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},vD=function(t,r,n,a,i){var o=r.props.children,l=on(o,zf).filter(function(u){return _me(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Gt(d,n);if(ke(f))return u;var h=Array.isArray(f)?[Iv(f),Rv(f)]:[f,f],m=c.reduce(function(g,p){var v=Gt(d,p,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Eme=function(t,r,n,a,i){var o=r.map(function(l){return vD(t,l,n,i,a)}).filter(function(l){return!ke(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},xD=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&vD(t,c,u,a)||ud(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},yD=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},bD=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},ua=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Nr(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Mf(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Sy=new WeakMap,Ih=function(t,r){if(typeof r!="function")return t;Sy.has(t)||Sy.set(t,new WeakMap);var n=Sy.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},wD=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Gd(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Pp(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:cd(),realScaleType:"point"}:i==="category"?{scale:Gd(),realScaleType:"band"}:{scale:Pp(),realScaleType:"linear"};if($o(a)){var c="scale".concat(yv(a));return{scale:(ak[c]||cd)(),realScaleType:ak[c]?c:"point"}}return je(a)?{scale:a}:{scale:cd(),realScaleType:"point"}},hk=1e-4,jD=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-hk,o=Math.max(a[0],a[1])+hk,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},Pme=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},kme=function(t,r){if(!r||r.length!==2||!Z(r[0])||!Z(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Z(t[0])||t[0]<n)&&(i[0]=n),(!Z(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Cme=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Mf(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Ame=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Mf(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Ome={sign:Cme,expand:Jee,none:fc,silhouette:Xee,wiggle:Qee,positive:Ame},Tme=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=Ome[n],o=Yee().keys(a).value(function(l,c){return+Gt(l,c,0)}).order(Eb).offset(i);return o(t)},Rme=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?kt(kt({},h.type.defaultProps),h.props):h.props,p=g.stackId,v=g.hide;if(v)return f;var x=g[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(Jt(p)){var w=y.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[p]=w}else y.stackGroups[iu("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return kt(kt({},f),{},Xl({},x,y))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var x=m.stackGroups[v];return kt(kt({},p),{},Xl({},v,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:Tme(t,x.items,i)}))},g)}return kt(kt({},f),{},Xl({},h,m))},d)},SD=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Khe(u,i,l);return t.domain([Iv(d),Rv(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=Ghe(f,i,l);return{niceTicks:h}}return null};function mk(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ke(a[t.dataKey])){var l=ip(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Gt(a,ke(o)?t.dataKey:o);return ke(c)?null:t.scale(c)}var pk=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Gt(o,r.dataKey,r.domain[l]);return ke(c)?null:r.scale(c)-i/2+a},Ime=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},$me=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?kt(kt({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Jt(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Mme=function(t){return t.reduce(function(r,n){return[Iv(n.concat([r[0]]).filter(Z)),Rv(n.concat([r[1]]).filter(Z))]},[1/0,-1/0])},ND=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=Mme(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},gk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rw=function(t,r,n){if(je(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Z(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(gk.test(t[0])){var i=+gk.exec(t[0])[1];a[0]=r[0]-i}else je(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Z(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(vk.test(t[1])){var o=+vk.exec(t[1])[1];a[1]=r[1]+o}else je(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Ip=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=pS(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},xk=function(t,r,n){return!t||!t.length||Vf(t,an(n,"type.defaultProps.domain"))?r:t},_D=function(t,r){var n=t.type.defaultProps?kt(kt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return kt(kt({},ve(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:US(t),value:Gt(r,a),type:c,payload:r,chartType:u,hide:d})};function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(r),!0).forEach(function(n){ED(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ED(e,t,r){return t=Dme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dme(e){var t=Lme(e,"string");return nf(t)=="symbol"?t:t+""}function Lme(e,t){if(nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fme(e,t){return zme(e)||Vme(e,t)||Ume(e,t)||Bme()}function Bme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ume(e,t){if(e){if(typeof e=="string")return bk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bk(e,t)}}function bk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zme(e){if(Array.isArray(e))return e}var $p=Math.PI/180,Wme=function(t){return t*180/Math.PI},lt=function(t,r,n,a){return{x:t+Math.cos(-$p*a)*n,y:r+Math.sin(-$p*a)*n}},PD=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},qme=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=_r(t.cx,o,o/2),f=_r(t.cy,l,l/2),h=PD(o,l,n),m=_r(t.innerRadius,h,0),g=_r(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(v,x){var y=r[x],w=y.domain,N=y.reversed,S;if(ke(y.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[m,g]),N&&(S=[S[1],S[0]]);else{S=y.range;var j=S,_=Fme(j,2);c=_[0],u=_[1]}var E=wD(y,i),P=E.realScaleType,C=E.scale;C.domain(w).range(S),jD(C);var T=SD(C,ra(ra({},y),{},{realScaleType:P})),O=ra(ra(ra({},y),T),{},{range:S,radius:g,realScaleType:P,scale:C,cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return ra(ra({},v),{},ED({},x,O))},{})},Hme=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},Kme=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=Hme({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Wme(u),angleInRadian:u}},Gme=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},Yme=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},wk=function(t,r){var n=t.x,a=t.y,i=Kme({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Gme(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?ra(ra({},r),{},{radius:o,angle:Yme(m,r)}):null},kD=function(t){return!b.isValidElement(t)&&!je(t)&&typeof t!="boolean"?t.className:""};function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}var Jme=["offset"];function Xme(e){return tpe(e)||epe(e)||Zme(e)||Qme()}function Qme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zme(e,t){if(e){if(typeof e=="string")return nw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nw(e,t)}}function epe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tpe(e){if(Array.isArray(e))return nw(e)}function nw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rpe(e,t){if(e==null)return{};var r=npe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function npe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(r),!0).forEach(function(n){spe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function spe(e,t,r){return t=ape(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ape(e){var t=ipe(e,"string");return sf(t)=="symbol"?t:t+""}function ipe(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},af.apply(this,arguments)}var ope=function(t){var r=t.value,n=t.formatter,a=ke(t.children)?r:t.children;return je(n)?n(a):a},lpe=function(t,r){var n=Nr(r-t),a=Math.min(Math.abs(r-t),360);return n*a},cpe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(f+h)/2,x=lpe(m,g),y=x>=0?1:-1,w,N;a==="insideStart"?(w=m+y*o,N=p):a==="insideEnd"?(w=g-y*o,N=!p):a==="end"&&(w=g+y*o,N=p),N=x<=0?N:!N;var S=lt(u,d,v,w),j=lt(u,d,v,w+(N?1:-1)*359),_="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(j.x,",").concat(j.y),E=ke(t.id)?iu("recharts-radial-line-"):t.id;return k.createElement("text",af({},n,{dominantBaseline:"central",className:Ae("recharts-radial-bar-label",l)}),k.createElement("defs",null,k.createElement("path",{id:E,d:_})),k.createElement("textPath",{xlinkHref:"#".concat(E)},r))},upe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=lt(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=lt(o,l,v,h),y=x.x,w=x.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},dpe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,v=p*a,x=p>0?"end":"start",y=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return zt(zt({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var N={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return zt(zt({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return zt(zt({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var j={x:l+u+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return zt(zt({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var _=n?{width:u,height:d}:{};return i==="insideLeft"?zt({x:l+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},_):i==="insideRight"?zt({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},_):i==="insideTop"?zt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},_):i==="insideBottom"?zt({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},_):i==="insideTopLeft"?zt({x:l+v,y:c+h,textAnchor:y,verticalAnchor:g},_):i==="insideTopRight"?zt({x:l+u-v,y:c+h,textAnchor:x,verticalAnchor:g},_):i==="insideBottomLeft"?zt({x:l+v,y:c+d-h,textAnchor:y,verticalAnchor:m},_):i==="insideBottomRight"?zt({x:l+u-v,y:c+d-h,textAnchor:x,verticalAnchor:m},_):ru(i)&&(Z(i.x)||fo(i.x))&&(Z(i.y)||fo(i.y))?zt({x:l+_r(i.x,u),y:c+_r(i.y,d),textAnchor:"end",verticalAnchor:"end"},_):zt({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},fpe=function(t){return"cx"in t&&Z(t.cx)};function er(e){var t=e.offset,r=t===void 0?5:t,n=rpe(e,Jme),a=zt({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||ke(l)&&ke(c)&&!b.isValidElement(u)&&!je(u))return null;if(b.isValidElement(u))return b.cloneElement(u,a);var m;if(je(u)){if(m=b.createElement(u,a),b.isValidElement(m))return m}else m=ope(a);var g=fpe(i),p=ve(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return cpe(a,m,p);var v=g?upe(a):dpe(a);return k.createElement(Do,af({className:Ae("recharts-label",f)},p,v,{breakAll:h}),m)}er.displayName="Label";var CD=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,v=t.height,x=t.clockWise,y=t.labelViewBox;if(y)return y;if(Z(p)&&Z(v)){if(Z(f)&&Z(h))return{x:f,y:h,width:p,height:v};if(Z(m)&&Z(g))return{x:m,y:g,width:p,height:v}}return Z(f)&&Z(h)?{x:f,y:h,width:0,height:0}:Z(r)&&Z(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},hpe=function(t,r){return t?t===!0?k.createElement(er,{key:"label-implicit",viewBox:r}):Jt(t)?k.createElement(er,{key:"label-implicit",viewBox:r,value:t}):b.isValidElement(t)?t.type===er?b.cloneElement(t,{key:"label-implicit",viewBox:r}):k.createElement(er,{key:"label-implicit",content:t,viewBox:r}):je(t)?k.createElement(er,{key:"label-implicit",content:t,viewBox:r}):ru(t)?k.createElement(er,af({viewBox:r},t,{key:"label-implicit"})):null:null},mpe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=CD(t),o=on(a,er).map(function(c,u){return b.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=hpe(t.label,r||i);return[l].concat(Xme(o))};er.parseViewBox=CD;er.renderCallByParent=mpe;function ppe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var gpe=ppe;const vpe=qe(gpe);function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}var xpe=["valueAccessor"],ype=["data","dataKey","clockWise","id","textBreakAll"];function bpe(e){return Npe(e)||Spe(e)||jpe(e)||wpe()}function wpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jpe(e,t){if(e){if(typeof e=="string")return sw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sw(e,t)}}function Spe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Npe(e){if(Array.isArray(e))return sw(e)}function sw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mp.apply(this,arguments)}function Sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(r),!0).forEach(function(n){_pe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _pe(e,t,r){return t=Epe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Epe(e){var t=Ppe(e,"string");return of(t)=="symbol"?t:t+""}function Ppe(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _k(e,t){if(e==null)return{};var r=kpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Cpe=function(t){return Array.isArray(t.value)?vpe(t.value):t.value};function pa(e){var t=e.valueAccessor,r=t===void 0?Cpe:t,n=_k(e,xpe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=_k(n,ype);return!a||!a.length?null:k.createElement(Ue,{className:"recharts-label-list"},a.map(function(d,f){var h=ke(i)?r(d,f):Gt(d&&d.payload,i),m=ke(l)?{}:{id:"".concat(l,"-").concat(f)};return k.createElement(er,Mp({},ve(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:er.parseViewBox(ke(o)?d:Nk(Nk({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}pa.displayName="LabelList";function Ape(e,t){return e?e===!0?k.createElement(pa,{key:"labelList-implicit",data:t}):k.isValidElement(e)||je(e)?k.createElement(pa,{key:"labelList-implicit",data:t,content:e}):ru(e)?k.createElement(pa,Mp({data:t},e,{key:"labelList-implicit"})):null:null}function Ope(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=on(n,pa).map(function(o,l){return b.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=Ape(e.label,t);return[i].concat(bpe(a))}pa.renderCallByParent=Ope;function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aw.apply(this,arguments)}function Ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(r),!0).forEach(function(n){Tpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tpe(e,t,r){return t=Rpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rpe(e){var t=Ipe(e,"string");return lf(t)=="symbol"?t:t+""}function Ipe(e,t){if(lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $pe=function(t,r){var n=Nr(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},$h=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/$p,h=u?i:i+o*f,m=lt(r,n,d,h),g=lt(r,n,a,h),p=u?i-o*f:i,v=lt(r,n,d*Math.cos(f*$p),p);return{center:m,circleTangency:g,lineTangency:v,theta:f}},AD=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=$pe(o,l),u=o+c,d=lt(r,n,i,o),f=lt(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=lt(r,n,a,o),g=lt(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Mpe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Nr(d-u),h=$h({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,v=$h({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=v.circleTangency,y=v.lineTangency,w=v.theta,N=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(N<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):AD({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var j=$h({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=j.circleTangency,E=j.lineTangency,P=j.theta,C=$h({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=C.circleTangency,O=C.lineTangency,F=C.theta,V=c?Math.abs(u-d):Math.abs(u-d)-P-F;if(V<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},Dpe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},OD=function(t){var r=Pk(Pk({},Dpe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=Ae("recharts-sector",h),g=o-i,p=_r(l,g,0,!0),v;return p>0&&Math.abs(d-f)<360?v=Mpe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=AD({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),k.createElement("path",aw({},ve(r,!0),{className:m,d:v,role:"img"}))};function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iw.apply(this,arguments)}function kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ck(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(r),!0).forEach(function(n){Lpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lpe(e,t,r){return t=Fpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fpe(e){var t=Bpe(e,"string");return cf(t)=="symbol"?t:t+""}function Bpe(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ak={curveBasisClosed:Lee,curveBasisOpen:Fee,curveBasis:Dee,curveBumpX:See,curveBumpY:Nee,curveLinearClosed:Bee,curveLinear:wv,curveMonotoneX:Uee,curveMonotoneY:Vee,curveNatural:zee,curveStep:Wee,curveStepAfter:Hee,curveStepBefore:qee},Mh=function(t){return t.x===+t.x&&t.y===+t.y},Iu=function(t){return t.x},$u=function(t){return t.y},Upe=function(t,r){if(je(t))return t;var n="curve".concat(yv(t));return(n==="curveMonotone"||n==="curveBump")&&r?Ak["".concat(n).concat(r==="vertical"?"Y":"X")]:Ak[n]||wv},Vpe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Upe(n,l),f=u?i.filter(function(p){return Mh(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return Mh(p)}):o,g=f.map(function(p,v){return Ck(Ck({},p),{},{base:m[v]})});return l==="vertical"?h=Eh().y($u).x1(Iu).x0(function(p){return p.base.x}):h=Eh().x(Iu).y1($u).y0(function(p){return p.base.y}),h.defined(Mh).curve(d),h(g)}return l==="vertical"&&Z(o)?h=Eh().y($u).x1(Iu).x0(o):Z(o)?h=Eh().x(Iu).y1($u).y0(o):h=_$().x(Iu).y($u),h.defined(Mh).curve(d),h(f)},Dp=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?Vpe(t):a;return b.createElement("path",iw({},ve(t,!1),op(t),{className:Ae("recharts-curve",r),d:o,ref:i}))},TD={exports:{}},zpe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Wpe=zpe,qpe=Wpe;function RD(){}function ID(){}ID.resetWarningCache=RD;var Hpe=function(){function e(n,a,i,o,l,c){if(c!==qpe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ID,resetWarningCache:RD};return r.PropTypes=r,r};TD.exports=Hpe();var Kpe=TD.exports;const pe=qe(Kpe);var Gpe=Object.getOwnPropertyNames,Ype=Object.getOwnPropertySymbols,Jpe=Object.prototype.hasOwnProperty;function Ok(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Dh(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function Xpe(e){return e!=null?e[Symbol.toStringTag]:void 0}function Tk(e){return Gpe(e).concat(Ype(e))}var Qpe=Object.hasOwn||function(e,t){return Jpe.call(e,t)};function Qo(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Zpe="__v",ege="__o",tge="_owner",Rk=Object.getOwnPropertyDescriptor,Ik=Object.keys;function rge(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function nge(e,t){return Qo(e.getTime(),t.getTime())}function sge(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function age(e,t){return e===t}function $k(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var ige=Qo;function oge(e,t,r){var n=Ik(e),a=n.length;if(Ik(t).length!==a)return!1;for(;a-- >0;)if(!$D(e,t,r,n[a]))return!1;return!0}function Mu(e,t,r){var n=Tk(e),a=n.length;if(Tk(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!$D(e,t,r,i)||(o=Rk(e,i),l=Rk(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function lge(e,t){return Qo(e.valueOf(),t.valueOf())}function cge(e,t){return e.source===t.source&&e.flags===t.flags}function Mk(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function uge(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function dge(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function $D(e,t,r,n){return(n===tge||n===ege||n===Zpe)&&(e.$$typeof||t.$$typeof)?!0:Qpe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var fge="[object Arguments]",hge="[object Boolean]",mge="[object Date]",pge="[object Error]",gge="[object Map]",vge="[object Number]",xge="[object Object]",yge="[object RegExp]",bge="[object Set]",wge="[object String]",jge="[object URL]",Sge=Array.isArray,Dk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Lk=Object.assign,Nge=Object.prototype.toString.call.bind(Object.prototype.toString);function _ge(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual,m=e.unknownTagComparators;return function(p,v,x){if(p===v)return!0;if(p==null||v==null)return!1;var y=typeof p;if(y!==typeof v)return!1;if(y!=="object")return y==="number"?o(p,v,x):y==="function"?a(p,v,x):!1;var w=p.constructor;if(w!==v.constructor)return!1;if(w===Object)return l(p,v,x);if(Sge(p))return t(p,v,x);if(Dk!=null&&Dk(p))return f(p,v,x);if(w===Date)return r(p,v,x);if(w===RegExp)return u(p,v,x);if(w===Map)return i(p,v,x);if(w===Set)return d(p,v,x);var N=Nge(p);if(N===mge)return r(p,v,x);if(N===yge)return u(p,v,x);if(N===gge)return i(p,v,x);if(N===bge)return d(p,v,x);if(N===xge)return typeof p.then!="function"&&typeof v.then!="function"&&l(p,v,x);if(N===jge)return h(p,v,x);if(N===pge)return n(p,v,x);if(N===fge)return l(p,v,x);if(N===hge||N===vge||N===wge)return c(p,v,x);if(m){var S=m[N];if(!S){var j=Xpe(p);j&&(S=m[j])}if(S)return S(p,v,x)}return!1}}function Ege(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Mu:rge,areDatesEqual:nge,areErrorsEqual:sge,areFunctionsEqual:age,areMapsEqual:n?Ok($k,Mu):$k,areNumbersEqual:ige,areObjectsEqual:n?Mu:oge,arePrimitiveWrappersEqual:lge,areRegExpsEqual:cge,areSetsEqual:n?Ok(Mk,Mu):Mk,areTypedArraysEqual:n?Mu:uge,areUrlsEqual:dge,unknownTagComparators:void 0};if(r&&(a=Lk({},a,r(a))),t){var i=Dh(a.areArraysEqual),o=Dh(a.areMapsEqual),l=Dh(a.areObjectsEqual),c=Dh(a.areSetsEqual);a=Lk({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function Pge(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function kge(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var Cge=Mi();Mi({strict:!0});Mi({circular:!0});Mi({circular:!0,strict:!0});Mi({createInternalComparator:function(){return Qo}});Mi({strict:!0,createInternalComparator:function(){return Qo}});Mi({circular:!0,createInternalComparator:function(){return Qo}});Mi({circular:!0,createInternalComparator:function(){return Qo},strict:!0});function Mi(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=Ege(e),c=_ge(l),u=n?n(c):Pge(c);return kge({circular:r,comparator:c,createState:a,equals:u,strict:o})}function Age(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Fk(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Age(a)};requestAnimationFrame(n)}function ow(e){"@babel/helpers - typeof";return ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ow(e)}function Oge(e){return $ge(e)||Ige(e)||Rge(e)||Tge()}function Tge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rge(e,t){if(e){if(typeof e=="string")return Bk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bk(e,t)}}function Bk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ige(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ge(e){if(Array.isArray(e))return e}function Mge(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Oge(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Fk(a.bind(null,u),c);return}a(c),Fk(a.bind(null,u));return}ow(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function Uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(r),!0).forEach(function(n){MD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MD(e,t,r){return t=Dge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dge(e){var t=Lge(e,"string");return uf(t)==="symbol"?t:String(t)}function Lge(e,t){if(uf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fge=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Bge=function(t){return t},Uge=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},dd=function(t,r){return Object.keys(r).reduce(function(n,a){return Vk(Vk({},n),{},MD({},a,t(a,r[a])))},{})},zk=function(t,r,n){return t.map(function(a){return"".concat(Uge(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Vge(e,t){return qge(e)||Wge(e,t)||DD(e,t)||zge()}function zge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function qge(e){if(Array.isArray(e))return e}function Hge(e){return Yge(e)||Gge(e)||DD(e)||Kge()}function Kge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DD(e,t){if(e){if(typeof e=="string")return lw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lw(e,t)}}function Gge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yge(e){if(Array.isArray(e))return lw(e)}function lw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Lp=1e-4,LD=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},FD=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Wk=function(t,r){return function(n){var a=LD(t,r);return FD(a,n)}},Jge=function(t,r){return function(n){var a=LD(t,r),i=[].concat(Hge(a.map(function(o,l){return o*l}).slice(1)),[0]);return FD(i,n)}},qk=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Vge(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=Wk(a,o),h=Wk(i,l),m=Jge(a,o),g=function(x){return x>1?1:x<0?0:x},p=function(x){for(var y=x>1?1:x,w=y,N=0;N<8;++N){var S=f(w)-y,j=m(w);if(Math.abs(S-y)<Lp||j<Lp)return h(w);w=g(w-S/j)}return h(w)};return p.isStepper=!1,p},Xge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*i,p=h+(m-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Lp&&Math.abs(p)<Lp?[f,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},Qge=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qk(a);case"spring":return Xge();default:if(a.split("(")[0]==="cubic-bezier")return qk(a)}return typeof a=="function"?a:null};function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function Hk(e){return tve(e)||eve(e)||BD(e)||Zge()}function Zge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tve(e){if(Array.isArray(e))return uw(e)}function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(n){cw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cw(e,t,r){return t=rve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rve(e){var t=nve(e,"string");return df(t)==="symbol"?t:String(t)}function nve(e,t){if(df(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(df(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sve(e,t){return ove(e)||ive(e,t)||BD(e,t)||ave()}function ave(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BD(e,t){if(e){if(typeof e=="string")return uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uw(e,t)}}function uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ive(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ove(e){if(Array.isArray(e))return e}var Fp=function(t,r,n){return t+(r-t)*n},dw=function(t){var r=t.from,n=t.to;return r!==n},lve=function e(t,r,n){var a=dd(function(i,o){if(dw(o)){var l=t(o.from,o.to,o.velocity),c=sve(l,2),u=c[0],d=c[1];return or(or({},o),{},{from:u,velocity:d})}return o},r);return n<1?dd(function(i,o){return dw(o)?or(or({},o),{},{velocity:Fp(o.velocity,a[i].velocity,n),from:Fp(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const cve=function(e,t,r,n,a){var i=Fge(e,t),o=i.reduce(function(v,x){return or(or({},v),{},cw({},x,[e[x],t[x]]))},{}),l=i.reduce(function(v,x){return or(or({},v),{},cw({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return dd(function(x,y){return y.from},l)},m=function(){return!Object.values(l).filter(dw).length},g=function(x){u||(u=x);var y=x-u,w=y/r.dt;l=lve(r,l,w),a(or(or(or({},e),t),h())),u=x,m()||(c=requestAnimationFrame(f))},p=function(x){d||(d=x);var y=(x-d)/n,w=dd(function(S,j){return Fp.apply(void 0,Hk(j).concat([r(y)]))},o);if(a(or(or(or({},e),t),w)),y<1)c=requestAnimationFrame(f);else{var N=dd(function(S,j){return Fp.apply(void 0,Hk(j).concat([r(1)]))},o);a(or(or(or({},e),t),N))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}var uve=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dve(e,t){if(e==null)return{};var r=fve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fve(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Ny(e){return gve(e)||pve(e)||mve(e)||hve()}function hve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mve(e,t){if(e){if(typeof e=="string")return fw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fw(e,t)}}function pve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gve(e){if(Array.isArray(e))return fw(e)}function fw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(r),!0).forEach(function(n){Ku(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ku(e,t,r){return t=UD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UD(n.key),n)}}function yve(e,t,r){return t&&xve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UD(e){var t=bve(e,"string");return wc(t)==="symbol"?t:String(t)}function bve(e,t){if(wc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hw(e,t)}function hw(e,t){return hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hw(e,t)}function jve(e){var t=Sve();return function(){var n=Bp(e),a;if(t){var i=Bp(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return mw(this,a)}}function mw(e,t){if(t&&(wc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pw(e)}function pw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bp(e){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bp(e)}var Ws=function(e){wve(r,e);var t=jve(r);function r(n,a){var i;vve(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(pw(i)),i.changeStyle=i.changeStyle.bind(pw(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),mw(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},mw(i);i.state={style:c?Ku({},c,u):u}}else i.state={style:{}};return i}return yve(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?Ku({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(Cge(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:a.to;if(this.state&&h){var v={style:c?Ku({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(Wn(Wn({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=cve(o,l,Qge(u),c,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,v,x){if(x===0)return p;var y=v.duration,w=v.easing,N=w===void 0?"ease":w,S=v.style,j=v.properties,_=v.onAnimationEnd,E=x>0?o[x-1]:v,P=j||Object.keys(S);if(typeof N=="function"||N==="spring")return[].concat(Ny(p),[i.runJSAnimation.bind(i,{from:E.style,to:S,duration:y,easing:N}),y]);var C=zk(P,y,N),T=Wn(Wn(Wn({},E.style),S),{},{transition:C});return[].concat(Ny(p),[T,y,_]).filter(Bge)};return this.manager.start([c].concat(Ny(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Mge());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?Ku({},l,c):c,v=zk(Object.keys(p),o,u);g.start([d,i,Wn(Wn({},p),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=dve(a,uve),u=b.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,x=g.className,y=b.cloneElement(m,Wn(Wn({},c),{},{style:Wn(Wn({},v),d),className:x}));return y};return u===1?f(b.Children.only(i)):k.createElement("div",null,b.Children.map(i,function(h){return f(h)}))}}]),r}(b.PureComponent);Ws.displayName="Animate";Ws.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ws.propTypes={from:pe.oneOfType([pe.object,pe.string]),to:pe.oneOfType([pe.object,pe.string]),attributeName:pe.string,duration:pe.number,begin:pe.number,easing:pe.oneOfType([pe.string,pe.func]),steps:pe.arrayOf(pe.shape({duration:pe.number.isRequired,style:pe.object.isRequired,easing:pe.oneOfType([pe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),pe.func]),properties:pe.arrayOf("string"),onAnimationEnd:pe.func})),children:pe.oneOfType([pe.node,pe.func]),isActive:pe.bool,canBegin:pe.bool,onAnimationEnd:pe.func,shouldReAnimate:pe.bool,onAnimationStart:pe.func,onAnimationReStart:pe.func};function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Up.apply(this,arguments)}function Nve(e,t){return kve(e)||Pve(e,t)||Eve(e,t)||_ve()}function _ve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eve(e,t){if(e){if(typeof e=="string")return Yk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yk(e,t)}}function Yk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function kve(e){if(Array.isArray(e))return e}function Jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jk(Object(r),!0).forEach(function(n){Cve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cve(e,t,r){return t=Ave(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ave(e){var t=Ove(e,"string");return ff(t)=="symbol"?t:t+""}function Ove(e,t){if(ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qk=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Tve=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},Rve={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VS=function(t){var r=Xk(Xk({},Rve),t),n=b.useRef(),a=b.useState(-1),i=Nve(a,2),o=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Ae("recharts-rectangle",m);return y?k.createElement(Ws,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:y},function(N){var S=N.width,j=N.height,_=N.x,E=N.y;return k.createElement(Ws,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:x,easing:g},k.createElement("path",Up({},ve(r,!0),{className:w,d:Qk(_,E,S,j,h),ref:n})))}):k.createElement("path",Up({},ve(r,!0),{className:w,d:Qk(c,u,d,f,h)}))},Ive=["points","className","baseLinePoints","connectNulls"];function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Il.apply(this,arguments)}function $ve(e,t){if(e==null)return{};var r=Mve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zk(e){return Bve(e)||Fve(e)||Lve(e)||Dve()}function Dve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lve(e,t){if(e){if(typeof e=="string")return gw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gw(e,t)}}function Fve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bve(e){if(Array.isArray(e))return gw(e)}function gw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var eC=function(t){return t&&t.x===+t.x&&t.y===+t.y},Uve=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){eC(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),eC(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},fd=function(t,r){var n=Uve(t);r&&(n=[n.reduce(function(i,o){return[].concat(Zk(i),Zk(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Vve=function(t,r,n){var a=fd(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(fd(r.reverse(),n).slice(1))},zve=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=$ve(t,Ive);if(!r||!r.length)return null;var l=Ae("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=Vve(r,a,i);return k.createElement("g",{className:l},k.createElement("path",Il({},ve(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?k.createElement("path",Il({},ve(o,!0),{fill:"none",d:fd(r,i)})):null,c?k.createElement("path",Il({},ve(o,!0),{fill:"none",d:fd(a,i)})):null)}var d=fd(r,i);return k.createElement("path",Il({},ve(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vw.apply(this,arguments)}var Dv=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Ae("recharts-dot",i);return r===+r&&n===+n&&a===+a?b.createElement("circle",vw({},ve(t,!1),op(t),{className:o,cx:r,cy:n,r:a})):null};function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}var Wve=["x","y","top","left","width","height","className"];function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xw.apply(this,arguments)}function tC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(r),!0).forEach(function(n){Hve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hve(e,t,r){return t=Kve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kve(e){var t=Gve(e,"string");return hf(t)=="symbol"?t:t+""}function Gve(e,t){if(hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yve(e,t){if(e==null)return{};var r=Jve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Xve=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Qve=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=Yve(t,Wve),v=qve({x:n,y:i,top:l,left:u,width:f,height:m},p);return!Z(n)||!Z(i)||!Z(f)||!Z(m)||!Z(l)||!Z(u)?null:k.createElement("path",xw({},ve(v,!0),{className:Ae("recharts-cross",g),d:Xve(n,i,f,m,l,u)}))},Zve=Tv,exe=ZM,txe=Gs;function rxe(e,t){return e&&e.length?Zve(e,txe(t),exe):void 0}var nxe=rxe;const sxe=qe(nxe);var axe=Tv,ixe=Gs,oxe=eD;function lxe(e,t){return e&&e.length?axe(e,ixe(t),oxe):void 0}var cxe=lxe;const uxe=qe(cxe);var dxe=["cx","cy","angle","ticks","axisLine"],fxe=["ticks","tick","angle","tickFormatter","stroke"];function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hd.apply(this,arguments)}function rC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(r),!0).forEach(function(n){Lv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nC(e,t){if(e==null)return{};var r=hxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zD(n.key),n)}}function pxe(e,t,r){return t&&sC(e.prototype,t),r&&sC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gxe(e,t,r){return t=Vp(t),vxe(e,VD()?Reflect.construct(t,r||[],Vp(e).constructor):t.apply(e,r))}function vxe(e,t){if(t&&(jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xxe(e)}function xxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VD=function(){return!!e})()}function Vp(e){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vp(e)}function yxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yw(e,t)}function yw(e,t){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yw(e,t)}function Lv(e,t,r){return t=zD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zD(e){var t=bxe(e,"string");return jc(t)=="symbol"?t:t+""}function bxe(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fv=function(e){function t(){return mxe(this,t),gxe(this,t,arguments)}return yxe(t,e),pxe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return lt(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=sxe(l,function(d){return d.coordinate||0}),u=uxe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=nC(n,dxe),d=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),f=lt(a,i,d[0],o),h=lt(a,i,d[1],o),m=zi(zi(zi({},ve(u,!1)),{},{fill:"none"},ve(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return k.createElement("line",hd({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=nC(a,fxe),f=this.getTickTextAnchor(),h=ve(d,!1),m=ve(o,!1),g=i.map(function(p,v){var x=n.getTickValueCoord(p),y=zi(zi(zi(zi({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},x),{},{payload:p});return k.createElement(Ue,hd({className:Ae("recharts-polar-radius-axis-tick",kD(o)),key:"tick-".concat(p.coordinate)},Mo(n.props,p,v)),t.renderTickItem(o,y,c?c(p.value,v):p.value))});return k.createElement(Ue,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:k.createElement(Ue,{className:Ae("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),er.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return k.isValidElement(n)?o=k.cloneElement(n,a):je(n)?o=n(a):o=k.createElement(Do,hd({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(b.PureComponent);Lv(Fv,"displayName","PolarRadiusAxis");Lv(Fv,"axisType","radiusAxis");Lv(Fv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eo.apply(this,arguments)}function aC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aC(Object(r),!0).forEach(function(n){Bv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qD(n.key),n)}}function jxe(e,t,r){return t&&iC(e.prototype,t),r&&iC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sxe(e,t,r){return t=zp(t),Nxe(e,WD()?Reflect.construct(t,r||[],zp(e).constructor):t.apply(e,r))}function Nxe(e,t){if(t&&(Sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _xe(e)}function _xe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WD=function(){return!!e})()}function zp(e){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zp(e)}function Exe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bw(e,t)}function bw(e,t){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bw(e,t)}function Bv(e,t,r){return t=qD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qD(e){var t=Pxe(e,"string");return Sc(t)=="symbol"?t:t+""}function Pxe(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kxe=Math.PI/180,oC=1e-5,Uv=function(e){function t(){return wxe(this,t),Sxe(this,t,arguments)}return Exe(t,e),jxe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=lt(i,o,l,n.coordinate),h=lt(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*kxe),o;return i>oC?o=a==="outer"?"start":"end":i<-oC?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Wi(Wi({},ve(this.props,!1)),{},{fill:"none"},ve(l,!1));if(c==="circle")return k.createElement(Dv,eo({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return lt(a,i,o,h.coordinate)});return k.createElement(zve,eo({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=ve(this.props,!1),f=ve(o,!1),h=Wi(Wi({},d),{},{fill:"none"},ve(l,!1)),m=i.map(function(g,p){var v=n.getTickLineCoord(g),x=n.getTickTextAnchor(g),y=Wi(Wi(Wi({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:g,x:v.x2,y:v.y2});return k.createElement(Ue,eo({className:Ae("recharts-polar-angle-axis-tick",kD(o)),key:"tick-".concat(g.coordinate)},Mo(n.props,g,p)),l&&k.createElement("line",eo({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,y,c?c(g.value,p):g.value))});return k.createElement(Ue,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:k.createElement(Ue,{className:Ae("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return k.isValidElement(n)?o=k.cloneElement(n,a):je(n)?o=n(a):o=k.createElement(Do,eo({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(b.PureComponent);Bv(Uv,"displayName","PolarAngleAxis");Bv(Uv,"axisType","angleAxis");Bv(Uv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Cxe=Y$,Axe=Cxe(Object.getPrototypeOf,Object),Oxe=Axe,Txe=Ca,Rxe=Oxe,Ixe=Aa,$xe="[object Object]",Mxe=Function.prototype,Dxe=Object.prototype,HD=Mxe.toString,Lxe=Dxe.hasOwnProperty,Fxe=HD.call(Object);function Bxe(e){if(!Ixe(e)||Txe(e)!=$xe)return!1;var t=Rxe(e);if(t===null)return!0;var r=Lxe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&HD.call(r)==Fxe}var Uxe=Bxe;const Vxe=qe(Uxe);var zxe=Ca,Wxe=Aa,qxe="[object Boolean]";function Hxe(e){return e===!0||e===!1||Wxe(e)&&zxe(e)==qxe}var Kxe=Hxe;const Gxe=qe(Kxe);function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wp.apply(this,arguments)}function Yxe(e,t){return Zxe(e)||Qxe(e,t)||Xxe(e,t)||Jxe()}function Jxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xxe(e,t){if(e){if(typeof e=="string")return lC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lC(e,t)}}function lC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Zxe(e){if(Array.isArray(e))return e}function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(n){eye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eye(e,t,r){return t=tye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tye(e){var t=rye(e,"string");return mf(t)=="symbol"?t:t+""}function rye(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dC=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},nye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sye=function(t){var r=uC(uC({},nye),t),n=b.useRef(),a=b.useState(-1),i=Yxe(a,2),o=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Ae("recharts-trapezoid",m);return x?k.createElement(Ws,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:x},function(w){var N=w.upperWidth,S=w.lowerWidth,j=w.height,_=w.x,E=w.y;return k.createElement(Ws,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},k.createElement("path",Wp({},ve(r,!0),{className:y,d:dC(_,E,N,S,j),ref:n})))}):k.createElement("g",null,k.createElement("path",Wp({},ve(r,!0),{className:y,d:dC(c,u,d,f,h)})))},aye=["option","shapeType","propTransformer","activeClassName","isActive"];function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function iye(e,t){if(e==null)return{};var r=oye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(r),!0).forEach(function(n){lye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lye(e,t,r){return t=cye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cye(e){var t=uye(e,"string");return pf(t)=="symbol"?t:t+""}function uye(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dye(e,t){return qp(qp({},t),e)}function fye(e,t){return e==="symbols"}function hC(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return k.createElement(VS,r);case"trapezoid":return k.createElement(sye,r);case"sector":return k.createElement(OD,r);case"symbols":if(fye(t))return k.createElement(oS,r);break;default:return null}}function hye(e){return b.isValidElement(e)?e.props:e}function KD(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?dye:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=iye(e,aye),u;if(b.isValidElement(t))u=b.cloneElement(t,qp(qp({},c),hye(t)));else if(je(t))u=t(c);else if(Vxe(t)&&!Gxe(t)){var d=a(t,c);u=k.createElement(hC,{shapeType:r,elementProps:d})}else{var f=c;u=k.createElement(hC,{shapeType:r,elementProps:f})}return l?k.createElement(Ue,{className:o},u):u}function Vv(e,t){return t!=null&&"trapezoids"in e.props}function zv(e,t){return t!=null&&"sectors"in e.props}function gf(e,t){return t!=null&&"points"in e.props}function mye(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function pye(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function gye(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function vye(e,t){var r;return Vv(e,t)?r=mye:zv(e,t)?r=pye:gf(e,t)&&(r=gye),r}function xye(e,t){var r;return Vv(e,t)?r="trapezoids":zv(e,t)?r="sectors":gf(e,t)&&(r="points"),r}function yye(e,t){if(Vv(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(zv(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return gf(e,t)?t.payload:{}}function bye(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=xye(r,t),i=yye(r,t),o=n.filter(function(c,u){var d=Vf(i,c),f=r.props[a].filter(function(g){var p=vye(r,t);return p(g,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var gm;function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$l.apply(this,arguments)}function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(n){bn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YD(n.key),n)}}function jye(e,t,r){return t&&pC(e.prototype,t),r&&pC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sye(e,t,r){return t=Hp(t),Nye(e,GD()?Reflect.construct(t,r||[],Hp(e).constructor):t.apply(e,r))}function Nye(e,t){if(t&&(Nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ye(e)}function _ye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GD=function(){return!!e})()}function Hp(e){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hp(e)}function Eye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ww(e,t)}function ww(e,t){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ww(e,t)}function bn(e,t,r){return t=YD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YD(e){var t=Pye(e,"string");return Nc(t)=="symbol"?t:t+""}function Pye(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xs=function(e){function t(r){var n;return wye(this,t),n=Sye(this,t,[r]),bn(n,"pieRef",null),bn(n,"sectorRefs",[]),bn(n,"id",iu("recharts-pie-")),bn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),je(a)&&a()}),bn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),je(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Eye(t,e),jye(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=ve(this.props,!1),f=ve(o,!1),h=ve(l,!1),m=o&&o.offsetRadius||20,g=n.map(function(p,v){var x=(p.startAngle+p.endAngle)/2,y=lt(p.cx,p.cy,p.outerRadius+m,x),w=nt(nt(nt(nt({},d),p),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(y.x,p.cx)},y),N=nt(nt(nt(nt({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:v,points:[lt(p.cx,p.cy,p.outerRadius,x),y]}),S=c;return ke(c)&&ke(u)?S="value":ke(c)&&(S=u),k.createElement(Ue,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,w,Gt(p,S)))});return k.createElement(Ue,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,g=nt(nt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return k.createElement(Ue,$l({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Mo(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),k.createElement(KD,$l({option:m,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return k.createElement(Ws,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,v=[],x=i&&i[0],y=x.startAngle;return i.forEach(function(w,N){var S=h&&h[N],j=N>0?an(w,"paddingAngle",0):0;if(S){var _=en(S.endAngle-S.startAngle,w.endAngle-w.startAngle),E=nt(nt({},w),{},{startAngle:y+j,endAngle:y+_(p)+j});v.push(E),y=E.endAngle}else{var P=w.endAngle,C=w.startAngle,T=en(0,P-C),O=T(p),F=nt(nt({},w),{},{startAngle:y+j,endAngle:y+O+j});v.push(F),y=F.endAngle}}),k.createElement(Ue,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Vf(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!Z(u)||!Z(d)||!Z(f)||!Z(h))return null;var p=Ae("recharts-pie",l);return k.createElement(Ue,{tabIndex:this.props.rootTabIndex,className:p,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),er.renderCallByParent(this.props,null,!1),(!m||g)&&pa.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(k.isValidElement(n))return k.cloneElement(n,a);if(je(n))return n(a);var o=Ae("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return k.createElement(Dp,$l({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(k.isValidElement(n))return k.cloneElement(n,a);var o=i;if(je(n)&&(o=n(a),k.isValidElement(o)))return o;var l=Ae("recharts-pie-label-text",typeof n!="boolean"&&!je(n)?n.className:"");return k.createElement(Do,$l({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(b.PureComponent);gm=xs;bn(xs,"displayName","Pie");bn(xs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Yo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});bn(xs,"parseDeltaAngle",function(e,t){var r=Nr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});bn(xs,"getRealPieData",function(e){var t=e.data,r=e.children,n=ve(e,!1),a=on(r,uu);return t&&t.length?t.map(function(i,o){return nt(nt(nt({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return nt(nt({},n),i.props)}):[]});bn(xs,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=PD(a,i),l=n+_r(e.cx,a,a/2),c=r+_r(e.cy,i,i/2),u=_r(e.innerRadius,o,0),d=_r(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});bn(xs,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?nt(nt({},t.type.defaultProps),t.props):t.props,a=gm.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),g=gm.parseCoordinateOfPie(n,r),p=gm.parseDeltaAngle(o,l),v=Math.abs(p),x=u;ke(u)&&ke(f)?(ss(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):ke(u)&&(ss(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var y=a.filter(function(E){return Gt(E,x,0)!==0}).length,w=(v>=360?y:y-1)*c,N=v-y*m-w,S=a.reduce(function(E,P){var C=Gt(P,x,0);return E+(Z(C)?C:0)},0),j;if(S>0){var _;j=a.map(function(E,P){var C=Gt(E,x,0),T=Gt(E,d,P),O=(Z(C)?C:0)/S,F;P?F=_.endAngle+Nr(p)*c*(C!==0?1:0):F=o;var V=F+Nr(p)*((C!==0?m:0)+O*N),B=(F+V)/2,U=(g.innerRadius+g.outerRadius)/2,$=[{name:T,value:C,payload:E,dataKey:x,type:h}],A=lt(g.cx,g.cy,U,B);return _=nt(nt(nt({percent:O,cornerRadius:i,name:T,tooltipPayload:$,midAngle:B,middleRadius:U,tooltipPosition:A},E),g),{},{value:Gt(E,x),startAngle:F,endAngle:V,payload:E,paddingAngle:Nr(p)*c}),_})}return nt(nt({},g),{},{sectors:j,data:a})});var kye=Math.ceil,Cye=Math.max;function Aye(e,t,r,n){for(var a=-1,i=Cye(kye((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var Oye=Aye,Tye=mM,gC=1/0,Rye=17976931348623157e292;function Iye(e){if(!e)return e===0?e:0;if(e=Tye(e),e===gC||e===-gC){var t=e<0?-1:1;return t*Rye}return e===e?e:0}var JD=Iye,$ye=Oye,Mye=_v,_y=JD;function Dye(e){return function(t,r,n){return n&&typeof n!="number"&&Mye(t,r,n)&&(r=n=void 0),t=_y(t),r===void 0?(r=t,t=0):r=_y(r),n=n===void 0?t<r?1:-1:_y(n),$ye(t,r,n,e)}}var Lye=Dye,Fye=Lye,Bye=Fye(),Uye=Bye;const Kp=qe(Uye);function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function vC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(r),!0).forEach(function(n){XD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XD(e,t,r){return t=Vye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vye(e){var t=zye(e,"string");return vf(t)=="symbol"?t:t+""}function zye(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wye=["Webkit","Moz","O","ms"],qye=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Wye.reduce(function(i,o){return xC(xC({},i),{},XD({},o+n,r))},{});return a[t]=r,a};function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gp.apply(this,arguments)}function yC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ey(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(r),!0).forEach(function(n){Jr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZD(n.key),n)}}function Kye(e,t,r){return t&&bC(e.prototype,t),r&&bC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gye(e,t,r){return t=Yp(t),Yye(e,QD()?Reflect.construct(t,r||[],Yp(e).constructor):t.apply(e,r))}function Yye(e,t){if(t&&(_c(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jye(e)}function Jye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QD=function(){return!!e})()}function Yp(e){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yp(e)}function Xye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jw(e,t)}function jw(e,t){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jw(e,t)}function Jr(e,t,r){return t=ZD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZD(e){var t=Qye(e,"string");return _c(t)=="symbol"?t:t+""}function Qye(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zye=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=cd().domain(Kp(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},wC=function(t){return t.changedTouches&&!!t.changedTouches.length},Ec=function(e){function t(r){var n;return Hye(this,t),n=Gye(this,t,[r]),Jr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Jr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Jr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Jr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Jr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Jr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Jr(n,"handleSlideDragStart",function(a){var i=wC(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Xye(t,e),Kye(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Gt(i[n],l,n);return je(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=wC(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-m-u):y<0&&(y=Math.max(y,f-u)),x[o]=u+y;var w=this.getIndex(x),N=w.startIndex,S=w.endIndex,j=function(){var E=v.length-1;return o==="startX"&&(l>c?N%p===0:S%p===0)||l<c&&S===E||o==="endX"&&(l>c?S%p===0:N%p===0)||l>c&&S===E};this.setState(Jr(Jr({},o,u+y),"brushMoveStartX",n.pageX),function(){g&&j()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Jr({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return k.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=b.Children.only(u);return f?k.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),y=Ey(Ey({},ve(this.props,!1)),{},{x,y:u,width:d,height:f}),w=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return k.createElement(Ue,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return k.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return k.createElement(Ue,{className:"recharts-brush-texts"},k.createElement(Do,Gp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(a)),k.createElement(Do,Gp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!Z(l)||!Z(c)||!Z(u)||!Z(d)||u<=0||d<=0)return null;var w=Ae("recharts-brush",i),N=k.Children.count(o)===1,S=qye("userSelect","none");return k.createElement(Ue,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return k.createElement(k.Fragment,null,k.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),k.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),k.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return k.isValidElement(n)?i=k.cloneElement(n,a):je(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Ey({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Zye({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(b.PureComponent);Jr(Ec,"displayName","Brush");Jr(Ec,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var e0e=mS;function t0e(e,t){var r;return e0e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var r0e=t0e,n0e=U$,s0e=Gs,a0e=r0e,i0e=Wr,o0e=_v;function l0e(e,t,r){var n=i0e(e)?n0e:a0e;return r&&o0e(e,t,r)&&(t=void 0),n(e,s0e(t))}var c0e=l0e;const u0e=qe(c0e);var Ls=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},jC=cM;function d0e(e,t,r){t=="__proto__"&&jC?jC(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var f0e=d0e,h0e=f0e,m0e=oM,p0e=Gs;function g0e(e,t){var r={};return t=p0e(t),m0e(e,function(n,a,i){h0e(r,a,t(n,a,i))}),r}var v0e=g0e;const x0e=qe(v0e);function y0e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var b0e=y0e,w0e=mS;function j0e(e,t){var r=!0;return w0e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var S0e=j0e,N0e=b0e,_0e=S0e,E0e=Gs,P0e=Wr,k0e=_v;function C0e(e,t,r){var n=P0e(e)?N0e:_0e;return r&&k0e(e,t,r)&&(t=void 0),n(e,E0e(t))}var A0e=C0e;const e3=qe(A0e);var O0e=["x","y"];function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sw.apply(this,arguments)}function SC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(r),!0).forEach(function(n){T0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T0e(e,t,r){return t=R0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R0e(e){var t=I0e(e,"string");return xf(t)=="symbol"?t:t+""}function I0e(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $0e(e,t){if(e==null)return{};var r=M0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function M0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function D0e(e,t){var r=e.x,n=e.y,a=$0e(e,O0e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Du(Du(Du(Du(Du({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function NC(e){return k.createElement(KD,Sw({shapeType:"rectangle",propTransformer:D0e,activeClassName:"recharts-active-bar"},e))}var L0e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Z(n)||lZ(n);return i?t(n,a):(i||Fo(),r)}},F0e=["value","background"],t3;function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function B0e(e,t){if(e==null)return{};var r=U0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jp(){return Jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jp.apply(this,arguments)}function _C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(r),!0).forEach(function(n){ei(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n3(n.key),n)}}function z0e(e,t,r){return t&&EC(e.prototype,t),r&&EC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function W0e(e,t,r){return t=Xp(t),q0e(e,r3()?Reflect.construct(t,r||[],Xp(e).constructor):t.apply(e,r))}function q0e(e,t){if(t&&(Pc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H0e(e)}function H0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r3=function(){return!!e})()}function Xp(e){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xp(e)}function K0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nw(e,t)}function Nw(e,t){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Nw(e,t)}function ei(e,t,r){return t=n3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n3(e){var t=G0e(e,"string");return Pc(t)=="symbol"?t:t+""}function G0e(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hs=function(e){function t(){var r;V0e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=W0e(this,t,[].concat(a)),ei(r,"state",{isAnimationFinished:!1}),ei(r,"id",iu("recharts-bar-")),ei(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ei(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return K0e(t,e),z0e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=ve(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=Rt(Rt(Rt({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return k.createElement(Ue,Jp({className:"recharts-bar-rectangle"},Mo(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),k.createElement(NC,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return k.createElement(Ws,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(v,x){var y=h&&h[x];if(y){var w=en(y.x,v.x),N=en(y.y,v.y),S=en(y.width,v.width),j=en(y.height,v.height);return Rt(Rt({},v),{},{x:w(g),y:N(g),width:S(g),height:j(g)})}if(o==="horizontal"){var _=en(0,v.height),E=_(g);return Rt(Rt({},v),{},{y:v.y+v.height-E,height:E})}var P=en(0,v.width),C=P(g);return Rt(Rt({},v),{},{width:C})});return k.createElement(Ue,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Vf(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=ve(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=B0e(u,F0e);if(!f)return null;var m=Rt(Rt(Rt(Rt(Rt({},h),{},{fill:"#eee"},f),c),Mo(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return k.createElement(NC,Jp({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=on(d,zf);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,x){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:Gt(v,x)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return k.createElement(Ue,g,f.map(function(p){return k.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,x=Ae("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,N=y||w,S=ke(p)?this.id:p;return k.createElement(Ue,{className:x},y||w?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(S)},k.createElement("rect",{x:y?u:u-f/2,y:w?d:d-h/2,width:y?f:f*2,height:w?h:h*2}))):null,k.createElement(Ue,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,S),(!m||v)&&pa.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(b.PureComponent);t3=hs;ei(hs,"displayName","Bar");ei(hs,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Yo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ei(hs,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=Pme(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,v=p!==void 0?Rt(Rt({},p),r.props):r.props,x=v.dataKey,y=v.children,w=v.minPointSize,N=g==="horizontal"?o:i,S=u?N.scale.domain():null,j=Ime({numericAxis:N}),_=on(y,uu),E=f.map(function(P,C){var T,O,F,V,B,U;u?T=kme(u[d+C],S):(T=Gt(P,x),Array.isArray(T)||(T=[j,T]));var $=L0e(w,t3.defaultProps.minPointSize)(T[1],C);if(g==="horizontal"){var A,M=[o.scale(T[0]),o.scale(T[1])],q=M[0],Y=M[1];O=pk({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:P,index:C}),F=(A=Y??q)!==null&&A!==void 0?A:void 0,V=m.size;var G=q-Y;if(B=Number.isNaN(G)?0:G,U={x:O,y:o.y,width:V,height:o.height},Math.abs($)>0&&Math.abs(B)<Math.abs($)){var ee=Nr(B||$)*(Math.abs($)-Math.abs(B));F-=ee,B+=ee}}else{var ie=[i.scale(T[0]),i.scale(T[1])],Se=ie[0],Me=ie[1];if(O=Se,F=pk({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:P,index:C}),V=Me-Se,B=m.size,U={x:i.x,y:F,width:i.width,height:B},Math.abs($)>0&&Math.abs(V)<Math.abs($)){var te=Nr(V||$)*(Math.abs($)-Math.abs(V));V+=te}}return Rt(Rt(Rt({},P),{},{x:O,y:F,width:V,height:B,value:u?T:T[1],payload:P,background:U},_&&_[C]&&_[C].props),{},{tooltipPayload:[_D(r,P)],tooltipPosition:{x:O+V/2,y:F+B/2}})});return Rt({data:E,layout:g},h)});function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function Y0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s3(n.key),n)}}function J0e(e,t,r){return t&&PC(e.prototype,t),r&&PC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(r),!0).forEach(function(n){Wv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wv(e,t,r){return t=s3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s3(e){var t=X0e(e,"string");return yf(t)=="symbol"?t:t+""}function X0e(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a3=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Qr(u,hs);return d.reduce(function(m,g){var p=r[g],v=p.orientation,x=p.domain,y=p.padding,w=y===void 0?{}:y,N=p.mirror,S=p.reversed,j="".concat(v).concat(N?"Mirror":""),_,E,P,C,T;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var O=x[1]-x[0],F=1/0,V=p.categoricalDomain.sort(dZ);if(V.forEach(function(ie,Se){Se>0&&(F=Math.min((ie||0)-(V[Se-1]||0),F))}),Number.isFinite(F)){var B=F/O,U=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(_=B*U/2),p.padding==="no-gap"){var $=_r(t.barCategoryGap,B*U),A=B*U/2;_=A-$-(A-$)/U*$}}}a==="xAxis"?E=[n.left+(w.left||0)+(_||0),n.left+n.width-(w.right||0)-(_||0)]:a==="yAxis"?E=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(_||0),n.top+n.height-(w.bottom||0)-(_||0)]:E=p.range,S&&(E=[E[1],E[0]]);var M=wD(p,i,h),q=M.scale,Y=M.realScaleType;q.domain(x).range(E),jD(q);var G=SD(q,Xn(Xn({},p),{},{realScaleType:Y}));a==="xAxis"?(T=v==="top"&&!N||v==="bottom"&&N,P=n.left,C=f[j]-T*p.height):a==="yAxis"&&(T=v==="left"&&!N||v==="right"&&N,P=f[j]-T*p.width,C=n.top);var ee=Xn(Xn(Xn({},p),G),{},{realScaleType:Y,x:P,y:C,scale:q,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return ee.bandSize=Ip(ee,G),!p.hide&&a==="xAxis"?f[j]+=(T?-1:1)*ee.height:p.hide||(f[j]+=(T?-1:1)*ee.width),Xn(Xn({},m),{},Wv({},g,ee))},{})},i3=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},Q0e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return i3({x:r,y:n},{x:a,y:i})},o3=function(){function e(t){Y0e(this,e),this.scale=t}return J0e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Wv(o3,"EPS",1e-4);var zS=function(t){var r=Object.keys(t).reduce(function(n,a){return Xn(Xn({},n),{},Wv({},a,o3.create(t[a])))},{});return Xn(Xn({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return x0e(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return e3(a,function(i,o){return r[o].isInRange(i)})}})};function Z0e(e){return(e%180+180)%180}var ebe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Z0e(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},tbe=Gs,rbe=Df,nbe=Sv;function sbe(e){return function(t,r,n){var a=Object(t);if(!rbe(t)){var i=tbe(r);t=nbe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var abe=sbe,ibe=JD;function obe(e){var t=ibe(e),r=t%1;return t===t?r?t-r:t:0}var lbe=obe,cbe=tM,ube=Gs,dbe=lbe,fbe=Math.max;function hbe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:dbe(r);return a<0&&(a=fbe(n+a,0)),cbe(e,ube(t),a)}var mbe=hbe,pbe=abe,gbe=mbe,vbe=pbe(gbe),xbe=vbe;const ybe=qe(xbe);var bbe=mQ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),WS=b.createContext(void 0),qS=b.createContext(void 0),l3=b.createContext(void 0),c3=b.createContext({}),u3=b.createContext(void 0),d3=b.createContext(0),f3=b.createContext(0),CC=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=bbe(i);return k.createElement(WS.Provider,{value:n},k.createElement(qS.Provider,{value:a},k.createElement(c3.Provider,{value:i},k.createElement(l3.Provider,{value:d},k.createElement(u3.Provider,{value:o},k.createElement(d3.Provider,{value:u},k.createElement(f3.Provider,{value:c},l)))))))},wbe=function(){return b.useContext(u3)},h3=function(t){var r=b.useContext(WS);r==null&&Fo();var n=r[t];return n==null&&Fo(),n},jbe=function(){var t=b.useContext(WS);return Ja(t)},Sbe=function(){var t=b.useContext(qS),r=ybe(t,function(n){return e3(n.domain,Number.isFinite)});return r||Ja(t)},m3=function(t){var r=b.useContext(qS);r==null&&Fo();var n=r[t];return n==null&&Fo(),n},Nbe=function(){var t=b.useContext(l3);return t},_be=function(){return b.useContext(c3)},HS=function(){return b.useContext(f3)},KS=function(){return b.useContext(d3)};function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function Ebe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g3(n.key),n)}}function kbe(e,t,r){return t&&Pbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cbe(e,t,r){return t=Qp(t),Abe(e,p3()?Reflect.construct(t,r||[],Qp(e).constructor):t.apply(e,r))}function Abe(e,t){if(t&&(kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Obe(e)}function Obe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p3=function(){return!!e})()}function Qp(e){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qp(e)}function Tbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_w(e,t)}function _w(e,t){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_w(e,t)}function AC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(r),!0).forEach(function(n){GS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GS(e,t,r){return t=g3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g3(e){var t=Rbe(e,"string");return kc(t)=="symbol"?t:t+""}function Rbe(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ibe(e,t){return Lbe(e)||Dbe(e,t)||Mbe(e,t)||$be()}function $be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mbe(e,t){if(e){if(typeof e=="string")return TC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TC(e,t)}}function TC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Lbe(e){if(Array.isArray(e))return e}function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ew.apply(this,arguments)}var Fbe=function(t,r){var n;return k.isValidElement(t)?n=k.cloneElement(t,r):je(t)?n=t(r):n=k.createElement("line",Ew({},r,{className:"recharts-reference-line-line"})),n},Bbe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(Ls(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var x=u.x,y=t.x.apply(x,{position:o});if(Ls(u,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:f+m},{x:y,y:f}];return l==="top"?w.reverse():w}if(a){var N=u.segment,S=N.map(function(j){return t.apply(j,{position:o})});return Ls(u,"discard")&&u0e(S,function(j){return!t.isInRange(j)})?null:S}return null};function Ube(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=wbe(),d=h3(a),f=m3(i),h=Nbe();if(!u||!h)return null;ss(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=zS({x:d.scale,y:f.scale}),g=Jt(t),p=Jt(r),v=n&&n.length===2,x=Bbe(m,g,p,v,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var y=Ibe(x,2),w=y[0],N=w.x,S=w.y,j=y[1],_=j.x,E=j.y,P=Ls(e,"hidden")?"url(#".concat(u,")"):void 0,C=OC(OC({clipPath:P},ve(e,!0)),{},{x1:N,y1:S,x2:_,y2:E});return k.createElement(Ue,{className:Ae("recharts-reference-line",l)},Fbe(o,C),er.renderCallByParent(e,Q0e({x1:N,y1:S,x2:_,y2:E})))}var YS=function(e){function t(){return Ebe(this,t),Cbe(this,t,arguments)}return Tbe(t,e),kbe(t,[{key:"render",value:function(){return k.createElement(Ube,this.props)}}])}(k.Component);GS(YS,"displayName","ReferenceLine");GS(YS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pw.apply(this,arguments)}function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function RC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(r),!0).forEach(function(n){qv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x3(n.key),n)}}function Wbe(e,t,r){return t&&zbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qbe(e,t,r){return t=Zp(t),Hbe(e,v3()?Reflect.construct(t,r||[],Zp(e).constructor):t.apply(e,r))}function Hbe(e,t){if(t&&(Cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kbe(e)}function Kbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v3=function(){return!!e})()}function Zp(e){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zp(e)}function Gbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kw(e,t)}function kw(e,t){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kw(e,t)}function qv(e,t,r){return t=x3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x3(e){var t=Ybe(e,"string");return Cc(t)=="symbol"?t:t+""}function Ybe(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jbe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=zS({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ls(t,"discard")&&!o.isInRange(l)?null:l},Hv=function(e){function t(){return Vbe(this,t),qbe(this,t,arguments)}return Gbe(t,e),Wbe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Jt(a),d=Jt(i);if(ss(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Jbe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,v=g.className,x=Ls(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=IC(IC({clipPath:x},ve(this.props,!0)),{},{cx:h,cy:m});return k.createElement(Ue,{className:Ae("recharts-reference-dot",v)},t.renderDot(p,y),er.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(k.Component);qv(Hv,"displayName","ReferenceDot");qv(Hv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});qv(Hv,"renderDot",function(e,t){var r;return k.isValidElement(e)?r=k.cloneElement(e,t):je(e)?r=e(t):r=k.createElement(Dv,Pw({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cw.apply(this,arguments)}function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function $C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(r),!0).forEach(function(n){Kv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b3(n.key),n)}}function Zbe(e,t,r){return t&&Qbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ewe(e,t,r){return t=eg(t),twe(e,y3()?Reflect.construct(t,r||[],eg(e).constructor):t.apply(e,r))}function twe(e,t){if(t&&(Ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rwe(e)}function rwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y3=function(){return!!e})()}function eg(e){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eg(e)}function nwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aw(e,t)}function Aw(e,t){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Aw(e,t)}function Kv(e,t,r){return t=b3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b3(e){var t=swe(e,"string");return Ac(t)=="symbol"?t:t+""}function swe(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var awe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=zS({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ls(i,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:i3(m,g)},Gv=function(e){function t(){return Xbe(this,t),ewe(this,t,arguments)}return nwe(t,e),Zbe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ss(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Jt(a),h=Jt(i),m=Jt(o),g=Jt(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var v=awe(f,h,m,g,this.props);if(!v&&!p)return null;var x=Ls(this.props,"hidden")?"url(#".concat(d,")"):void 0;return k.createElement(Ue,{className:Ae("recharts-reference-area",c)},t.renderRect(p,MC(MC({clipPath:x},ve(this.props,!0)),v)),er.renderCallByParent(this.props,v))}}])}(k.Component);Kv(Gv,"displayName","ReferenceArea");Kv(Gv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Kv(Gv,"renderRect",function(e,t){var r;return k.isValidElement(e)?r=k.cloneElement(e,t):je(e)?r=e(t):r=k.createElement(VS,Cw({},t,{className:"recharts-reference-area-rect"})),r});function w3(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function iwe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return ebe(n,r)}function owe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function tg(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function lwe(e,t){return w3(e,t+1)}function cwe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:w3(n,u)};var p=c,v,x=function(){return v===void 0&&(v=r(g,p)),v},y=g.coordinate,w=c===0||tg(e,y,x,d,l);w||(c=0,d=o,u+=1),w&&(d=y+e*(x()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){uwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uwe(e,t,r){return t=dwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dwe(e){var t=fwe(e,"string");return bf(t)=="symbol"?t:t+""}function fwe(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hwe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var v=e*(m.coordinate+e*p()/2-c);i[h]=m=gr(gr({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[h]=m=gr(gr({},m),{},{tickCoord:m.coordinate});var x=tg(e,m.tickCoord,p,l,c);x&&(c=m.tickCoord-e*(p()/2+a),i[h]=gr(gr({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function mwe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=gr(gr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=tg(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=gr(gr({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(y){var w=o[y],N,S=function(){return N===void 0&&(N=r(w,y)),N};if(y===0){var j=e*(w.coordinate-e*S()/2-c);o[y]=w=gr(gr({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else o[y]=w=gr(gr({},w),{},{tickCoord:w.coordinate});var _=tg(e,w.tickCoord,S,c,u);_&&(c=w.tickCoord+e*(S()/2+a),o[y]=gr(gr({},w),{},{isShow:!0}))},v=0;v<g;v++)p(v);return o}function JS(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Z(c)||Yo.isSsr)return lwe(a,typeof c=="number"&&Z(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?ld(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,N){var S=je(u)?u(w.value,N):w.value;return m==="width"?iwe(ld(S,{fontSize:t,letterSpacing:r}),g,f):ld(S,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?Nr(a[1].coordinate-a[0].coordinate):1,x=owe(i,v,m);return c==="equidistantPreserveStart"?cwe(v,x,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=mwe(v,x,p,a,o,c==="preserveStartEnd"):h=hwe(v,x,p,a,o),h.filter(function(y){return y.isShow}))}var pwe=["viewBox"],gwe=["viewBox"],vwe=["ticks"];function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ml.apply(this,arguments)}function LC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(r),!0).forEach(function(n){XS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Py(e,t){if(e==null)return{};var r=xwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ywe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S3(n.key),n)}}function bwe(e,t,r){return t&&FC(e.prototype,t),r&&FC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wwe(e,t,r){return t=rg(t),jwe(e,j3()?Reflect.construct(t,r||[],rg(e).constructor):t.apply(e,r))}function jwe(e,t){if(t&&(Oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Swe(e)}function Swe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j3=function(){return!!e})()}function rg(e){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rg(e)}function Nwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ow(e,t)}function Ow(e,t){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ow(e,t)}function XS(e,t,r){return t=S3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S3(e){var t=_we(e,"string");return Oc(t)=="symbol"?t:t+""}function _we(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mu=function(e){function t(r){var n;return ywe(this,t),n=wwe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Nwe(t,e),bwe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Py(n,pwe),l=this.props,c=l.viewBox,u=Py(l,gwe);return!Yl(i,c)||!Yl(o,u)||!Yl(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,g,p,v,x,y,w=f?-1:1,N=n.tickSize||d,S=Z(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,v=o+ +!f*c,p=v-w*N,y=p-w*h,x=S;break;case"left":p=v=n.coordinate,g=i+ +!f*l,m=g-w*N,x=m-w*h,y=S;break;case"right":p=v=n.coordinate,g=i+ +f*l,m=g+w*N,x=m+w*h,y=S;break;default:m=g=n.coordinate,v=o+ +f*c,p=v+w*N,y=p+w*h,x=S;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Vt(Vt(Vt({},ve(this.props,!1)),ve(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Vt(Vt({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Vt(Vt({},f),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return k.createElement("line",Ml({},f,{className:Ae("recharts-cartesian-axis-line",an(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=JS(Vt(Vt({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=ve(this.props,!1),x=ve(d,!1),y=Vt(Vt({},v),{},{fill:"none"},ve(c,!1)),w=m.map(function(N,S){var j=o.getTickLineCoord(N),_=j.line,E=j.tick,P=Vt(Vt(Vt(Vt({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},x),E),{},{index:S,payload:N,visibleTicksCount:m.length,tickFormatter:f});return k.createElement(Ue,Ml({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Mo(o.props,N,S)),c&&k.createElement("line",Ml({},y,_,{className:Ae("recharts-cartesian-axis-tick-line",an(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(je(f)?f(N.value,S):N.value).concat(h||"")))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=Py(f,vwe),g=h;return je(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:k.createElement(Ue,{className:Ae("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),er.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=Ae(a.className,"recharts-cartesian-axis-tick-value");return k.isValidElement(n)?o=k.cloneElement(n,Vt(Vt({},a),{},{className:l})):je(n)?o=n(Vt(Vt({},a),{},{className:l})):o=k.createElement(Do,Ml({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(b.Component);XS(mu,"displayName","CartesianAxis");XS(mu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Ewe=["x1","y1","x2","y2","key"],Pwe=["offset"];function Bo(e){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bo(e)}function BC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(r),!0).forEach(function(n){kwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kwe(e,t,r){return t=Cwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cwe(e){var t=Awe(e,"string");return Bo(t)=="symbol"?t:t+""}function Awe(e,t){if(Bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function po(){return po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},po.apply(this,arguments)}function UC(e,t){if(e==null)return{};var r=Owe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Owe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Twe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return k.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function N3(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if(je(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=UC(t,Ewe),u=ve(c,!1);u.offset;var d=UC(u,Pwe);r=k.createElement("line",po({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function Rwe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=xr(xr({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return N3(a,u)});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Iwe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=xr(xr({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return N3(a,u)});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function $we(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+o-h:d[m+1]-h;if(p<=0)return null;var v=m%t.length;return k.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Mwe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?i+l-h:d[m+1]-h;if(p<=0)return null;var v=m%n.length;return k.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Dwe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return bD(JS(xr(xr(xr({},mu.defaultProps),n),{},{ticks:ua(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},Lwe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return bD(JS(xr(xr(xr({},mu.defaultProps),n),{},{ticks:ua(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},pl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function hi(e){var t,r,n,a,i,o,l=HS(),c=KS(),u=_be(),d=xr(xr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:pl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:pl.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:pl.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:pl.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:pl.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:pl.verticalFill,x:Z(e.x)?e.x:u.left,y:Z(e.y)?e.y:u.top,width:Z(e.width)?e.width:u.width,height:Z(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,y=jbe(),w=Sbe();if(!Z(m)||m<=0||!Z(g)||g<=0||!Z(f)||f!==+f||!Z(h)||h!==+h)return null;var N=d.verticalCoordinatesGenerator||Dwe,S=d.horizontalCoordinatesGenerator||Lwe,j=d.horizontalPoints,_=d.verticalPoints;if((!j||!j.length)&&je(S)){var E=v&&v.length,P=S({yAxis:w?xr(xr({},w),{},{ticks:E?v:w.ticks}):void 0,width:l,height:c,offset:u},E?!0:p);ss(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Bo(P),"]")),Array.isArray(P)&&(j=P)}if((!_||!_.length)&&je(N)){var C=x&&x.length,T=N({xAxis:y?xr(xr({},y),{},{ticks:C?x:y.ticks}):void 0,width:l,height:c,offset:u},C?!0:p);ss(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Bo(T),"]")),Array.isArray(T)&&(_=T)}return k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(Twe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),k.createElement(Rwe,po({},d,{offset:u,horizontalPoints:j,xAxis:y,yAxis:w})),k.createElement(Iwe,po({},d,{offset:u,verticalPoints:_,xAxis:y,yAxis:w})),k.createElement($we,po({},d,{horizontalPoints:j})),k.createElement(Mwe,po({},d,{verticalPoints:_})))}hi.displayName="CartesianGrid";var Fwe=["type","layout","connectNulls","ref"],Bwe=["key"];function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function VC(e,t){if(e==null)return{};var r=Uwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(this,arguments)}function zC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(r),!0).forEach(function(n){Qn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gl(e){return qwe(e)||Wwe(e)||zwe(e)||Vwe()}function Vwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zwe(e,t){if(e){if(typeof e=="string")return Tw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tw(e,t)}}function Wwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qwe(e){if(Array.isArray(e))return Tw(e)}function Tw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E3(n.key),n)}}function Kwe(e,t,r){return t&&WC(e.prototype,t),r&&WC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gwe(e,t,r){return t=ng(t),Ywe(e,_3()?Reflect.construct(t,r||[],ng(e).constructor):t.apply(e,r))}function Ywe(e,t){if(t&&(Tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jwe(e)}function Jwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_3=function(){return!!e})()}function ng(e){return ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ng(e)}function Xwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rw(e,t)}function Rw(e,t){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rw(e,t)}function Qn(e,t,r){return t=E3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E3(e){var t=Qwe(e,"string");return Tc(t)=="symbol"?t:t+""}function Qwe(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ea=function(e){function t(){var r;Hwe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Gwe(this,t,[].concat(a)),Qn(r,"state",{isAnimationFinished:!0,totalLength:0}),Qn(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Qn(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,y){return x+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>f){m=[].concat(gl(c.slice(0,g)),[f-p]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(gl(t.repeat(c,d)),gl(m),v).map(function(x){return"".concat(x,"px")}).join(", ")}),Qn(r,"id",iu("recharts-line-")),Qn(r,"pathRef",function(o){r.mainCurve=o}),Qn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Qn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Xwe(t,e),Kwe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=on(d,zf);if(!f)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:Gt(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return k.createElement(Ue,m,f.map(function(g){return k.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ve(this.props,!1),h=ve(c,!0),m=u.map(function(p,v){var x=Gr(Gr(Gr({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,x)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return k.createElement(Ue,md({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=VC(l,Fwe),h=Gr(Gr(Gr({},ve(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return k.createElement(Dp,md({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,v=o.height,x=this.state,y=x.prevPoints,w=x.totalLength;return k.createElement(Ws,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var S=N.t;if(y){var j=y.length/l.length,_=l.map(function(O,F){var V=Math.floor(F*j);if(y[V]){var B=y[V],U=en(B.x,O.x),$=en(B.y,O.y);return Gr(Gr({},O),{},{x:U(S),y:$(S)})}if(g){var A=en(p*2,O.x),M=en(v/2,O.y);return Gr(Gr({},O),{},{x:A(S),y:M(S)})}return Gr(Gr({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(_,n,a)}var E=en(0,w),P=E(S),C;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});C=i.getStrokeDasharray(P,w,T)}else C=i.generateSimpleStrokeDasharray(w,P);return i.renderCurveStatically(l,n,a,{strokeDasharray:C})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Vf(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,y=l.length===1,w=Ae("recharts-line",c),N=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,j=N||S,_=ke(v)?this.id:v,E=(n=ve(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=E.r,C=P===void 0?3:P,T=E.strokeWidth,O=T===void 0?2:T,F=bZ(o)?o:{},V=F.clipDot,B=V===void 0?!0:V,U=C*2+O;return k.createElement(Ue,{className:w},N||S?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(_)},k.createElement("rect",{x:N?h:h-m/2,y:S?f:f-g/2,width:N?m:m*2,height:S?g:g*2})),!B&&k.createElement("clipPath",{id:"clipPath-dots-".concat(_)},k.createElement("rect",{x:h-U/2,y:f-U/2,width:m+U,height:g+U}))):null,!y&&this.renderCurve(j,_),this.renderErrorBar(j,_),(y||o)&&this.renderDots(j,B,_),(!p||x)&&pa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(gl(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(gl(o),gl(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(k.isValidElement(n))i=k.cloneElement(n,a);else if(je(n))i=n(a);else{var o=a.key,l=VC(a,Bwe),c=Ae("recharts-line-dot",typeof n!="boolean"?n.className:"");i=k.createElement(Dv,md({key:o},l,{className:c}))}return i}}])}(b.PureComponent);Qn(Ea,"displayName","Line");Qn(Ea,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Yo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Qn(Ea,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var g=Gt(h,o);return d==="horizontal"?{x:mk({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:ke(g)?null:n.scale(g),value:g,payload:h}:{x:ke(g)?null:r.scale(g),y:mk({axis:n,ticks:i,bandSize:l,entry:h,index:m}),value:g,payload:h}});return Gr({points:f,layout:d},u)});function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function Zwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C3(n.key),n)}}function tje(e,t,r){return t&&eje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rje(e,t,r){return t=sg(t),nje(e,P3()?Reflect.construct(t,r||[],sg(e).constructor):t.apply(e,r))}function nje(e,t){if(t&&(Rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sje(e)}function sje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P3=function(){return!!e})()}function sg(e){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sg(e)}function aje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iw(e,t)}function Iw(e,t){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Iw(e,t)}function k3(e,t,r){return t=C3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C3(e){var t=ije(e,"string");return Rc(t)=="symbol"?t:t+""}function ije(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$w.apply(this,arguments)}function oje(e){var t=e.xAxisId,r=HS(),n=KS(),a=h3(t);return a==null?null:b.createElement(mu,$w({},a,{className:Ae("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ua(o,!0)}}))}var as=function(e){function t(){return Zwe(this,t),rje(this,t,arguments)}return aje(t,e),tje(t,[{key:"render",value:function(){return b.createElement(oje,this.props)}}])}(b.Component);k3(as,"displayName","XAxis");k3(as,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function lje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T3(n.key),n)}}function uje(e,t,r){return t&&cje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dje(e,t,r){return t=ag(t),fje(e,A3()?Reflect.construct(t,r||[],ag(e).constructor):t.apply(e,r))}function fje(e,t){if(t&&(Ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hje(e)}function hje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A3=function(){return!!e})()}function ag(e){return ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ag(e)}function mje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mw(e,t)}function Mw(e,t){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mw(e,t)}function O3(e,t,r){return t=T3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T3(e){var t=pje(e,"string");return Ic(t)=="symbol"?t:t+""}function pje(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dw.apply(this,arguments)}var gje=function(t){var r=t.yAxisId,n=HS(),a=KS(),i=m3(r);return i==null?null:b.createElement(mu,Dw({},i,{className:Ae("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return ua(l,!0)}}))},is=function(e){function t(){return lje(this,t),dje(this,t,arguments)}return mje(t,e),uje(t,[{key:"render",value:function(){return b.createElement(gje,this.props)}}])}(b.Component);O3(is,"displayName","YAxis");O3(is,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function qC(e){return bje(e)||yje(e)||xje(e)||vje()}function vje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xje(e,t){if(e){if(typeof e=="string")return Lw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lw(e,t)}}function yje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bje(e){if(Array.isArray(e))return Lw(e)}function Lw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Fw=function(t,r,n,a,i){var o=on(t,YS),l=on(t,Hv),c=[].concat(qC(o),qC(l)),u=on(t,Gv),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[d]===n&&Ls(v.props,"extendDomain")&&Z(v.props[f])){var x=v.props[f];return[Math.min(p[0],x),Math.max(p[1],x)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,v){if(v.props[d]===n&&Ls(v.props,"extendDomain")&&Z(v.props[m])&&Z(v.props[g])){var x=v.props[m],y=v.props[g];return[Math.min(p[0],x,y),Math.max(p[1],x,y)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,v){return Z(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},R3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],x=arguments.length,y,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,g),!0}for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];v.fn.apply(v.context,y)}else{var N=v.length,S;for(w=0;w<N;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!y)for(S=1,y=new Array(x-1);S<x;S++)y[S-1]=arguments[S];v[w].fn.apply(v[w].context,y)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,v=[],x=g.length;p<x;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(R3);var wje=R3.exports;const jje=qe(wje);var ky=new jje,Cy="recharts.syncMouseEvents";function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function Sje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I3(n.key),n)}}function _je(e,t,r){return t&&Nje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ay(e,t,r){return t=I3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I3(e){var t=Eje(e,"string");return wf(t)=="symbol"?t:t+""}function Eje(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pje=function(){function e(){Sje(this,e),Ay(this,"activeIndex",0),Ay(this,"coordinateList",[]),Ay(this,"layout","horizontal")}return _je(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function kje(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Z(n)&&Z(a))return!0}return!1}function Cje(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function $3(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=lt(t,r,n,a),l=lt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Aje(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=lt(l,c,u,f),m=lt(l,c,d,f);n=h.x,a=h.y,i=m.x,o=m.y}else return $3(t);return[{x:n,y:a},{x:i,y:o}]}function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function HC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(r),!0).forEach(function(n){Oje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oje(e,t,r){return t=Tje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tje(e){var t=Rje(e,"string");return jf(t)=="symbol"?t:t+""}function Rje(e,t){if(jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ije(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,p=Dp;if(h==="ScatterChart")g=o,p=Qve;else if(h==="BarChart")g=Cje(f,o,c,d),p=VS;else if(f==="radial"){var v=$3(o),x=v.cx,y=v.cy,w=v.radius,N=v.startAngle,S=v.endAngle;g={cx:x,cy:y,startAngle:N,endAngle:S,innerRadius:w,outerRadius:w},p=OD}else g={points:Aje(f,o,c)},p=Dp;var j=Lh(Lh(Lh(Lh({stroke:"#ccc",pointerEvents:"none"},c),g),ve(m,!1)),{},{payload:l,payloadIndex:u,className:Ae("recharts-tooltip-cursor",m.className)});return b.isValidElement(m)?b.cloneElement(m,j):b.createElement(p,j)}var $je=["item"],Mje=["children","className","width","height","style","compact","title","desc"];function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dl.apply(this,arguments)}function KC(e,t){return Fje(e)||Lje(e,t)||D3(e,t)||Dje()}function Dje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Fje(e){if(Array.isArray(e))return e}function GC(e,t){if(e==null)return{};var r=Bje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Uje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L3(n.key),n)}}function zje(e,t,r){return t&&Vje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wje(e,t,r){return t=ig(t),qje(e,M3()?Reflect.construct(t,r||[],ig(e).constructor):t.apply(e,r))}function qje(e,t){if(t&&($c(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hje(e)}function Hje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M3=function(){return!!e})()}function ig(e){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ig(e)}function Kje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bw(e,t)}function Bw(e,t){return Bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bw(e,t)}function Mc(e){return Jje(e)||Yje(e)||D3(e)||Gje()}function Gje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D3(e,t){if(e){if(typeof e=="string")return Uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uw(e,t)}}function Yje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jje(e){if(Array.isArray(e))return Uw(e)}function Uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(r),!0).forEach(function(n){xe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xe(e,t,r){return t=L3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L3(e){var t=Xje(e,"string");return $c(t)=="symbol"?t:t+""}function Xje(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qje={xAxis:["bottom","top"],yAxis:["left","right"]},Zje={width:"100%",height:"100%"},F3={x:0,y:0};function Fh(e){return e}var e1e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},t1e=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return K(K(K({},a),lt(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return K(K(K({},a),lt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return F3},Yv=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Mc(l),Mc(u)):l},[]);return o.length>0?o:t&&t.length&&Z(a)&&Z(i)?t.slice(a,i+1):[]};function B3(e){return e==="number"?[0,"auto"]:void 0}var Vw=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Yv(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=ip(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Mc(c),[_D(u,h)]):c},[])},JC=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=e1e(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=wme(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Vw(t,r,d,f),m=t1e(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},r1e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=yD(d,i);return n.reduce(function(g,p){var v,x=p.type.defaultProps!==void 0?K(K({},p.type.defaultProps),p.props):p.props,y=x.type,w=x.dataKey,N=x.allowDataOverflow,S=x.allowDuplicatedCategory,j=x.scale,_=x.ticks,E=x.includeHidden,P=x[o];if(g[P])return g;var C=Yv(t.data,{graphicalItems:a.filter(function(G){var ee,ie=o in G.props?G.props[o]:(ee=G.type.defaultProps)===null||ee===void 0?void 0:ee[o];return ie===P}),dataStartIndex:c,dataEndIndex:u}),T=C.length,O,F,V;kje(x.domain,N,y)&&(O=rw(x.domain,null,N),m&&(y==="number"||j!=="auto")&&(V=ud(C,w,"category")));var B=B3(y);if(!O||O.length===0){var U,$=(U=x.domain)!==null&&U!==void 0?U:B;if(w){if(O=ud(C,w,y),y==="category"&&m){var A=uZ(O);S&&A?(F=O,O=Kp(0,T)):S||(O=xk($,O,p).reduce(function(G,ee){return G.indexOf(ee)>=0?G:[].concat(Mc(G),[ee])},[]))}else if(y==="category")S?O=O.filter(function(G){return G!==""&&!ke(G)}):O=xk($,O,p).reduce(function(G,ee){return G.indexOf(ee)>=0||ee===""||ke(ee)?G:[].concat(Mc(G),[ee])},[]);else if(y==="number"){var M=Eme(C,a.filter(function(G){var ee,ie,Se=o in G.props?G.props[o]:(ee=G.type.defaultProps)===null||ee===void 0?void 0:ee[o],Me="hide"in G.props?G.props.hide:(ie=G.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return Se===P&&(E||!Me)}),w,i,d);M&&(O=M)}m&&(y==="number"||j!=="auto")&&(V=ud(C,w,"category"))}else m?O=Kp(0,T):l&&l[P]&&l[P].hasStack&&y==="number"?O=h==="expand"?[0,1]:ND(l[P].stackGroups,c,u):O=xD(C,a.filter(function(G){var ee=o in G.props?G.props[o]:G.type.defaultProps[o],ie="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ee===P&&(E||!ie)}),y,d,!0);if(y==="number")O=Fw(f,O,P,i,_),$&&(O=rw($,O,N));else if(y==="category"&&$){var q=$,Y=O.every(function(G){return q.indexOf(G)>=0});Y&&(O=q)}}return K(K({},g),{},xe({},P,K(K({},x),{},{axisType:i,domain:O,categoricalDomain:V,duplicateDomain:F,originalDomain:(v=x.domain)!==null&&v!==void 0?v:B,isCategorical:m,layout:d})))},{})},n1e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Yv(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=yD(d,i),p=-1;return n.reduce(function(v,x){var y=x.type.defaultProps!==void 0?K(K({},x.type.defaultProps),x.props):x.props,w=y[o],N=B3("number");if(!v[w]){p++;var S;return g?S=Kp(0,m):l&&l[w]&&l[w].hasStack?(S=ND(l[w].stackGroups,c,u),S=Fw(f,S,w,i)):(S=rw(N,xD(h,n.filter(function(j){var _,E,P=o in j.props?j.props[o]:(_=j.type.defaultProps)===null||_===void 0?void 0:_[o],C="hide"in j.props?j.props.hide:(E=j.type.defaultProps)===null||E===void 0?void 0:E.hide;return P===w&&!C}),"number",d),a.defaultProps.allowDataOverflow),S=Fw(f,S,w,i)),K(K({},v),{},xe({},w,K(K({axisType:i},a.defaultProps),{},{hide:!0,orientation:an(Qje,"".concat(i,".").concat(p%2),null),domain:S,originalDomain:N,isCategorical:g,layout:d})))}return v},{})},s1e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=on(d,i),m={};return h&&h.length?m=r1e(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=n1e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},a1e=function(t){var r=Ja(t),n=ua(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:pS(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ip(r,n)}},XC=function(t){var r=t.children,n=t.defaultShowTooltip,a=Qr(r,Ec),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},i1e=function(t){return!t||!t.length?!1:t.some(function(r){var n=ha(r&&r.type);return n&&n.indexOf("Bar")>=0})},QC=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},o1e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Qr(f,Ec),g=Qr(f,bo),p=Object.keys(c).reduce(function(S,j){var _=c[j],E=_.orientation;return!_.mirror&&!_.hide?K(K({},S),{},xe({},E,S[E]+_.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(S,j){var _=o[j],E=_.orientation;return!_.mirror&&!_.hide?K(K({},S),{},xe({},E,an(S,"".concat(E))+_.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=K(K({},v),p),y=x.bottom;m&&(x.bottom+=m.props.height||Ec.defaultProps.height),g&&r&&(x=Nme(x,a,n,r));var w=u-x.left-x.right,N=d-x.top-x.bottom;return K(K({brushBottom:y},x),{},{width:Math.max(w,0),height:Math.max(N,0)})},l1e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},QS=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(x,y){var w=y.graphicalItems,N=y.stackGroups,S=y.offset,j=y.updateId,_=y.dataStartIndex,E=y.dataEndIndex,P=x.barSize,C=x.layout,T=x.barGap,O=x.barCategoryGap,F=x.maxBarSize,V=QC(C),B=V.numericAxisName,U=V.cateAxisName,$=i1e(w),A=[];return w.forEach(function(M,q){var Y=Yv(x.data,{graphicalItems:[M],dataStartIndex:_,dataEndIndex:E}),G=M.type.defaultProps!==void 0?K(K({},M.type.defaultProps),M.props):M.props,ee=G.dataKey,ie=G.maxBarSize,Se=G["".concat(B,"Id")],Me=G["".concat(U,"Id")],te={},Ee=c.reduce(function(Hr,ys){var Fn=y["".concat(ys.axisType,"Map")],Gf=G["".concat(ys.axisType,"Id")];Fn&&Fn[Gf]||ys.axisType==="zAxis"||Fo();var Yf=Fn[Gf];return K(K({},Hr),{},xe(xe({},ys.axisType,Yf),"".concat(ys.axisType,"Ticks"),ua(Yf)))},te),X=Ee[U],se=Ee["".concat(U,"Ticks")],ne=N&&N[Se]&&N[Se].hasStack&&$me(M,N[Se].stackGroups),H=ha(M.type).indexOf("Bar")>=0,Re=Ip(X,se),Ne=[],Ze=$&&jme({barSize:P,stackGroups:N,totalSize:l1e(Ee,U)});if(H){var Je,Et,Ar=ke(ie)?F:ie,qr=(Je=(Et=Ip(X,se,!0))!==null&&Et!==void 0?Et:Ar)!==null&&Je!==void 0?Je:0;Ne=Sme({barGap:T,barCategoryGap:O,bandSize:qr!==Re?qr:Re,sizeList:Ze[Me],maxBarSize:Ar}),qr!==Re&&(Ne=Ne.map(function(Hr){return K(K({},Hr),{},{position:K(K({},Hr.position),{},{offset:Hr.position.offset-qr/2})})}))}var Li=M&&M.type&&M.type.getComposedData;Li&&A.push({props:K(K({},Li(K(K({},Ee),{},{displayedData:Y,props:x,dataKey:ee,item:M,bandSize:Re,barPosition:Ne,offset:S,stackedData:ne,layout:C,dataStartIndex:_,dataEndIndex:E}))),{},xe(xe(xe({key:M.key||"item-".concat(q)},B,Ee[B]),U,Ee[U]),"animationId",j)),childIndex:SZ(M,x.children),item:M})}),A},m=function(x,y){var w=x.props,N=x.dataStartIndex,S=x.dataEndIndex,j=x.updateId;if(!d2({props:w}))return null;var _=w.children,E=w.layout,P=w.stackOffset,C=w.data,T=w.reverseStackOrder,O=QC(E),F=O.numericAxisName,V=O.cateAxisName,B=on(_,n),U=Rme(C,B,"".concat(F,"Id"),"".concat(V,"Id"),P,T),$=c.reduce(function(G,ee){var ie="".concat(ee.axisType,"Map");return K(K({},G),{},xe({},ie,s1e(w,K(K({},ee),{},{graphicalItems:B,stackGroups:ee.axisType===F&&U,dataStartIndex:N,dataEndIndex:S}))))},{}),A=o1e(K(K({},$),{},{props:w,graphicalItems:B}),y==null?void 0:y.legendBBox);Object.keys($).forEach(function(G){$[G]=d(w,$[G],A,G.replace("Map",""),r)});var M=$["".concat(V,"Map")],q=a1e(M),Y=h(w,K(K({},$),{},{dataStartIndex:N,dataEndIndex:S,updateId:j,graphicalItems:B,stackGroups:U,offset:A}));return K(K({formattedGraphicalItems:Y,graphicalItems:B,offset:A,stackGroups:U},q),$)},g=function(v){function x(y){var w,N,S;return Uje(this,x),S=Wje(this,x,[y]),xe(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),xe(S,"accessibilityManager",new Pje),xe(S,"handleLegendBBoxUpdate",function(j){if(j){var _=S.state,E=_.dataStartIndex,P=_.dataEndIndex,C=_.updateId;S.setState(K({legendBBox:j},m({props:S.props,dataStartIndex:E,dataEndIndex:P,updateId:C},K(K({},S.state),{},{legendBBox:j}))))}}),xe(S,"handleReceiveSyncEvent",function(j,_,E){if(S.props.syncId===j){if(E===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(_)}}),xe(S,"handleBrushChange",function(j){var _=j.startIndex,E=j.endIndex;if(_!==S.state.dataStartIndex||E!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return K({dataStartIndex:_,dataEndIndex:E},m({props:S.props,dataStartIndex:_,dataEndIndex:E,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:_,dataEndIndex:E})}}),xe(S,"handleMouseEnter",function(j){var _=S.getMouseInfo(j);if(_){var E=K(K({},_),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var P=S.props.onMouseEnter;je(P)&&P(E,j)}}),xe(S,"triggeredAfterMouseMove",function(j){var _=S.getMouseInfo(j),E=_?K(K({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var P=S.props.onMouseMove;je(P)&&P(E,j)}),xe(S,"handleItemMouseEnter",function(j){S.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),xe(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),xe(S,"handleMouseMove",function(j){j.persist(),S.throttleTriggeredAfterMouseMove(j)}),xe(S,"handleMouseLeave",function(j){S.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};S.setState(_),S.triggerSyncEvent(_);var E=S.props.onMouseLeave;je(E)&&E(_,j)}),xe(S,"handleOuterEvent",function(j){var _=jZ(j),E=an(S.props,"".concat(_));if(_&&je(E)){var P,C;/.*touch.*/i.test(_)?C=S.getMouseInfo(j.changedTouches[0]):C=S.getMouseInfo(j),E((P=C)!==null&&P!==void 0?P:{},j)}}),xe(S,"handleClick",function(j){var _=S.getMouseInfo(j);if(_){var E=K(K({},_),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var P=S.props.onClick;je(P)&&P(E,j)}}),xe(S,"handleMouseDown",function(j){var _=S.props.onMouseDown;if(je(_)){var E=S.getMouseInfo(j);_(E,j)}}),xe(S,"handleMouseUp",function(j){var _=S.props.onMouseUp;if(je(_)){var E=S.getMouseInfo(j);_(E,j)}}),xe(S,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),xe(S,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.handleMouseDown(j.changedTouches[0])}),xe(S,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.handleMouseUp(j.changedTouches[0])}),xe(S,"handleDoubleClick",function(j){var _=S.props.onDoubleClick;if(je(_)){var E=S.getMouseInfo(j);_(E,j)}}),xe(S,"handleContextMenu",function(j){var _=S.props.onContextMenu;if(je(_)){var E=S.getMouseInfo(j);_(E,j)}}),xe(S,"triggerSyncEvent",function(j){S.props.syncId!==void 0&&ky.emit(Cy,S.props.syncId,j,S.eventEmitterSymbol)}),xe(S,"applySyncEvent",function(j){var _=S.props,E=_.layout,P=_.syncMethod,C=S.state.updateId,T=j.dataStartIndex,O=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)S.setState(K({dataStartIndex:T,dataEndIndex:O},m({props:S.props,dataStartIndex:T,dataEndIndex:O,updateId:C},S.state)));else if(j.activeTooltipIndex!==void 0){var F=j.chartX,V=j.chartY,B=j.activeTooltipIndex,U=S.state,$=U.offset,A=U.tooltipTicks;if(!$)return;if(typeof P=="function")B=P(A,j);else if(P==="value"){B=-1;for(var M=0;M<A.length;M++)if(A[M].value===j.activeLabel){B=M;break}}var q=K(K({},$),{},{x:$.left,y:$.top}),Y=Math.min(F,q.x+q.width),G=Math.min(V,q.y+q.height),ee=A[B]&&A[B].value,ie=Vw(S.state,S.props.data,B),Se=A[B]?{x:E==="horizontal"?A[B].coordinate:Y,y:E==="horizontal"?G:A[B].coordinate}:F3;S.setState(K(K({},j),{},{activeLabel:ee,activeCoordinate:Se,activePayload:ie,activeTooltipIndex:B}))}else S.setState(j)}),xe(S,"renderCursor",function(j){var _,E=S.state,P=E.isTooltipActive,C=E.activeCoordinate,T=E.activePayload,O=E.offset,F=E.activeTooltipIndex,V=E.tooltipAxisBandSize,B=S.getTooltipEventType(),U=(_=j.props.active)!==null&&_!==void 0?_:P,$=S.props.layout,A=j.key||"_recharts-cursor";return k.createElement(Ije,{key:A,activeCoordinate:C,activePayload:T,activeTooltipIndex:F,chartName:r,element:j,isActive:U,layout:$,offset:O,tooltipAxisBandSize:V,tooltipEventType:B})}),xe(S,"renderPolarAxis",function(j,_,E){var P=an(j,"type.axisType"),C=an(S.state,"".concat(P,"Map")),T=j.type.defaultProps,O=T!==void 0?K(K({},T),j.props):j.props,F=C&&C[O["".concat(P,"Id")]];return b.cloneElement(j,K(K({},F),{},{className:Ae(P,F.className),key:j.key||"".concat(_,"-").concat(E),ticks:ua(F,!0)}))}),xe(S,"renderPolarGrid",function(j){var _=j.props,E=_.radialLines,P=_.polarAngles,C=_.polarRadius,T=S.state,O=T.radiusAxisMap,F=T.angleAxisMap,V=Ja(O),B=Ja(F),U=B.cx,$=B.cy,A=B.innerRadius,M=B.outerRadius;return b.cloneElement(j,{polarAngles:Array.isArray(P)?P:ua(B,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(C)?C:ua(V,!0).map(function(q){return q.coordinate}),cx:U,cy:$,innerRadius:A,outerRadius:M,key:j.key||"polar-grid",radialLines:E})}),xe(S,"renderLegend",function(){var j=S.state.formattedGraphicalItems,_=S.props,E=_.children,P=_.width,C=_.height,T=S.props.margin||{},O=P-(T.left||0)-(T.right||0),F=gD({children:E,formattedGraphicalItems:j,legendWidth:O,legendContent:u});if(!F)return null;var V=F.item,B=GC(F,$je);return b.cloneElement(V,K(K({},B),{},{chartWidth:P,chartHeight:C,margin:T,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),xe(S,"renderTooltip",function(){var j,_=S.props,E=_.children,P=_.accessibilityLayer,C=Qr(E,Kt);if(!C)return null;var T=S.state,O=T.isTooltipActive,F=T.activeCoordinate,V=T.activePayload,B=T.activeLabel,U=T.offset,$=(j=C.props.active)!==null&&j!==void 0?j:O;return b.cloneElement(C,{viewBox:K(K({},U),{},{x:U.left,y:U.top}),active:$,label:B,payload:$?V:[],coordinate:F,accessibilityLayer:P})}),xe(S,"renderBrush",function(j){var _=S.props,E=_.margin,P=_.data,C=S.state,T=C.offset,O=C.dataStartIndex,F=C.dataEndIndex,V=C.updateId;return b.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Ih(S.handleBrushChange,j.props.onChange),data:P,x:Z(j.props.x)?j.props.x:T.left,y:Z(j.props.y)?j.props.y:T.top+T.height+T.brushBottom-(E.bottom||0),width:Z(j.props.width)?j.props.width:T.width,startIndex:O,endIndex:F,updateId:"brush-".concat(V)})}),xe(S,"renderReferenceElement",function(j,_,E){if(!j)return null;var P=S,C=P.clipPathId,T=S.state,O=T.xAxisMap,F=T.yAxisMap,V=T.offset,B=j.type.defaultProps||{},U=j.props,$=U.xAxisId,A=$===void 0?B.xAxisId:$,M=U.yAxisId,q=M===void 0?B.yAxisId:M;return b.cloneElement(j,{key:j.key||"".concat(_,"-").concat(E),xAxis:O[A],yAxis:F[q],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:C})}),xe(S,"renderActivePoints",function(j){var _=j.item,E=j.activePoint,P=j.basePoint,C=j.childIndex,T=j.isRange,O=[],F=_.props.key,V=_.item.type.defaultProps!==void 0?K(K({},_.item.type.defaultProps),_.item.props):_.item.props,B=V.activeDot,U=V.dataKey,$=K(K({index:C,dataKey:U,cx:E.x,cy:E.y,r:4,fill:US(_.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},ve(B,!1)),op(B));return O.push(x.renderActiveDot(B,$,"".concat(F,"-activePoint-").concat(C))),P?O.push(x.renderActiveDot(B,K(K({},$),{},{cx:P.x,cy:P.y}),"".concat(F,"-basePoint-").concat(C))):T&&O.push(null),O}),xe(S,"renderGraphicChild",function(j,_,E){var P=S.filterFormatItem(j,_,E);if(!P)return null;var C=S.getTooltipEventType(),T=S.state,O=T.isTooltipActive,F=T.tooltipAxis,V=T.activeTooltipIndex,B=T.activeLabel,U=S.props.children,$=Qr(U,Kt),A=P.props,M=A.points,q=A.isRange,Y=A.baseLine,G=P.item.type.defaultProps!==void 0?K(K({},P.item.type.defaultProps),P.item.props):P.item.props,ee=G.activeDot,ie=G.hide,Se=G.activeBar,Me=G.activeShape,te=!!(!ie&&O&&$&&(ee||Se||Me)),Ee={};C!=="axis"&&$&&$.props.trigger==="click"?Ee={onClick:Ih(S.handleItemMouseEnter,j.props.onClick)}:C!=="axis"&&(Ee={onMouseLeave:Ih(S.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Ih(S.handleItemMouseEnter,j.props.onMouseEnter)});var X=b.cloneElement(j,K(K({},P.props),Ee));function se(ys){return typeof F.dataKey=="function"?F.dataKey(ys.payload):null}if(te)if(V>=0){var ne,H;if(F.dataKey&&!F.allowDuplicatedCategory){var Re=typeof F.dataKey=="function"?se:"payload.".concat(F.dataKey.toString());ne=ip(M,Re,B),H=q&&Y&&ip(Y,Re,B)}else ne=M==null?void 0:M[V],H=q&&Y&&Y[V];if(Me||Se){var Ne=j.props.activeIndex!==void 0?j.props.activeIndex:V;return[b.cloneElement(j,K(K(K({},P.props),Ee),{},{activeIndex:Ne})),null,null]}if(!ke(ne))return[X].concat(Mc(S.renderActivePoints({item:P,activePoint:ne,basePoint:H,childIndex:V,isRange:q})))}else{var Ze,Je=(Ze=S.getItemByXY(S.state.activeCoordinate))!==null&&Ze!==void 0?Ze:{graphicalItem:X},Et=Je.graphicalItem,Ar=Et.item,qr=Ar===void 0?j:Ar,Li=Et.childIndex,Hr=K(K(K({},P.props),Ee),{},{activeIndex:Li});return[b.cloneElement(qr,Hr),null,null]}return q?[X,null,null]:[X,null]}),xe(S,"renderCustomized",function(j,_,E){return b.cloneElement(j,K(K({key:"recharts-customized-".concat(E)},S.props),S.state))}),xe(S,"renderMap",{CartesianGrid:{handler:Fh,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Fh},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Fh},YAxis:{handler:Fh},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:iu("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=pM(S.triggeredAfterMouseMove,(N=y.throttleDelay)!==null&&N!==void 0?N:1e3/60),S.state={},S}return Kje(x,v),zje(x,[{key:"componentDidMount",value:function(){var w,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,N=w.children,S=w.data,j=w.height,_=w.layout,E=Qr(N,Kt);if(E){var P=E.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,T=Vw(this.state,S,P,C),O=this.state.tooltipTicks[P].coordinate,F=(this.state.offset.top+j)/2,V=_==="horizontal",B=V?{x:O,y:F}:{y:O,x:F},U=this.state.formattedGraphicalItems.find(function(A){var M=A.item;return M.type.name==="Scatter"});U&&(B=K(K({},B),U.props.points[P].tooltipPosition),T=U.props.points[P].tooltipPayload);var $={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:C,activePayload:T,activeCoordinate:B};this.setState($),this.renderCursor(E),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,j;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(w){vb([Qr(w.children,Kt)],[Qr(this.props.children,Kt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Qr(this.props.children,Kt);if(w&&typeof w.props.shared=="boolean"){var N=w.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var N=this.container,S=N.getBoundingClientRect(),j=Yce(S),_={chartX:Math.round(w.pageX-j.left),chartY:Math.round(w.pageY-j.top)},E=S.width/N.offsetWidth||1,P=this.inRange(_.chartX,_.chartY,E);if(!P)return null;var C=this.state,T=C.xAxisMap,O=C.yAxisMap,F=this.getTooltipEventType(),V=JC(this.state,this.props.data,this.props.layout,P);if(F!=="axis"&&T&&O){var B=Ja(T).scale,U=Ja(O).scale,$=B&&B.invert?B.invert(_.chartX):null,A=U&&U.invert?U.invert(_.chartY):null;return K(K({},_),{},{xValue:$,yValue:A},V)}return V?K(K({},_),V):null}},{key:"inRange",value:function(w,N){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,_=w/S,E=N/S;if(j==="horizontal"||j==="vertical"){var P=this.state.offset,C=_>=P.left&&_<=P.left+P.width&&E>=P.top&&E<=P.top+P.height;return C?{x:_,y:E}:null}var T=this.state,O=T.angleAxisMap,F=T.radiusAxisMap;if(O&&F){var V=Ja(O);return wk({x:_,y:E},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,N=this.getTooltipEventType(),S=Qr(w,Kt),j={};S&&N==="axis"&&(S.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=op(this.props,this.handleOuterEvent);return K(K({},_),j)}},{key:"addListener",value:function(){ky.on(Cy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ky.removeListener(Cy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,N,S){for(var j=this.state.formattedGraphicalItems,_=0,E=j.length;_<E;_++){var P=j[_];if(P.item===w||P.props.key===w.key||N===ha(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,N=this.state.offset,S=N.left,j=N.top,_=N.height,E=N.width;return k.createElement("defs",null,k.createElement("clipPath",{id:w},k.createElement("rect",{x:S,y:j,height:_,width:E})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(N,S){var j=KC(S,2),_=j[0],E=j[1];return K(K({},N),{},xe({},_,E.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(N,S){var j=KC(S,2),_=j[0],E=j[1];return K(K({},N),{},xe({},_,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(w){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(w){var N=this.state,S=N.formattedGraphicalItems,j=N.activeItem;if(S&&S.length)for(var _=0,E=S.length;_<E;_++){var P=S[_],C=P.props,T=P.item,O=T.type.defaultProps!==void 0?K(K({},T.type.defaultProps),T.props):T.props,F=ha(T.type);if(F==="Bar"){var V=(C.data||[]).find(function(A){return Tve(w,A)});if(V)return{graphicalItem:P,payload:V}}else if(F==="RadialBar"){var B=(C.data||[]).find(function(A){return wk(w,A)});if(B)return{graphicalItem:P,payload:B}}else if(Vv(P,j)||zv(P,j)||gf(P,j)){var U=bye({graphicalItem:P,activeTooltipItem:j,itemData:O.data}),$=O.activeIndex===void 0?U:O.activeIndex;return{graphicalItem:K(K({},P),{},{childIndex:$}),payload:gf(P,j)?O.data[U]:P.props.data[U]}}}return null}},{key:"render",value:function(){var w=this;if(!d2(this))return null;var N=this.props,S=N.children,j=N.className,_=N.width,E=N.height,P=N.style,C=N.compact,T=N.title,O=N.desc,F=GC(N,Mje),V=ve(F,!1);if(C)return k.createElement(CC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement(yb,Dl({},V,{width:_,height:E,title:T,desc:O}),this.renderClipPath(),h2(S,this.renderMap)));if(this.props.accessibilityLayer){var B,U;V.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,V.role=(U=this.props.role)!==null&&U!==void 0?U:"application",V.onKeyDown=function(A){w.accessibilityManager.keyboardEvent(A)},V.onFocus=function(){w.accessibilityManager.focus()}}var $=this.parseEventsOfWrapper();return k.createElement(CC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement("div",Dl({className:Ae("recharts-wrapper",j),style:K({position:"relative",cursor:"default",width:_,height:E},P)},$,{ref:function(M){w.container=M}}),k.createElement(yb,Dl({},V,{width:_,height:E,title:T,desc:O,style:Zje}),this.renderClipPath(),h2(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);xe(g,"displayName",r),xe(g,"defaultProps",K({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),xe(g,"getDerivedStateFromProps",function(v,x){var y=v.dataKey,w=v.data,N=v.children,S=v.width,j=v.height,_=v.layout,E=v.stackOffset,P=v.margin,C=x.dataStartIndex,T=x.dataEndIndex;if(x.updateId===void 0){var O=XC(v);return K(K(K({},O),{},{updateId:0},m(K(K({props:v},O),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:w,prevWidth:S,prevHeight:j,prevLayout:_,prevStackOffset:E,prevMargin:P,prevChildren:N})}if(y!==x.prevDataKey||w!==x.prevData||S!==x.prevWidth||j!==x.prevHeight||_!==x.prevLayout||E!==x.prevStackOffset||!Yl(P,x.prevMargin)){var F=XC(v),V={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},B=K(K({},JC(x,w,_)),{},{updateId:x.updateId+1}),U=K(K(K({},F),V),B);return K(K(K({},U),m(K({props:v},U),x)),{},{prevDataKey:y,prevData:w,prevWidth:S,prevHeight:j,prevLayout:_,prevStackOffset:E,prevMargin:P,prevChildren:N})}if(!vb(N,x.prevChildren)){var $,A,M,q,Y=Qr(N,Ec),G=Y&&($=(A=Y.props)===null||A===void 0?void 0:A.startIndex)!==null&&$!==void 0?$:C,ee=Y&&(M=(q=Y.props)===null||q===void 0?void 0:q.endIndex)!==null&&M!==void 0?M:T,ie=G!==C||ee!==T,Se=!ke(w),Me=Se&&!ie?x.updateId:x.updateId+1;return K(K({updateId:Me},m(K(K({props:v},x),{},{updateId:Me,dataStartIndex:G,dataEndIndex:ee}),x)),{},{prevChildren:N,dataStartIndex:G,dataEndIndex:ee})}return null}),xe(g,"renderActiveDot",function(v,x,y){var w;return b.isValidElement(v)?w=b.cloneElement(v,x):je(v)?w=v(x):w=k.createElement(Dv,x),k.createElement(Ue,{className:"recharts-active-dot",key:y},w)});var p=b.forwardRef(function(x,y){return k.createElement(g,Dl({},x,{ref:y}))});return p.displayName=g.displayName,p},ZS=QS({chartName:"LineChart",GraphicalChild:Ea,axisComponents:[{axisType:"xAxis",AxisComp:as},{axisType:"yAxis",AxisComp:is}],formatAxisMap:a3}),og=QS({chartName:"BarChart",GraphicalChild:hs,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:as},{axisType:"yAxis",AxisComp:is}],formatAxisMap:a3}),eN=QS({chartName:"PieChart",GraphicalChild:xs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Uv},{axisType:"radiusAxis",AxisComp:Fv}],formatAxisMap:qme,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const ZC=["#10b981","#f59e0b","#ef4444","#6366f1","#8b5cf6"];function c1e(){const[e,t]=b.useState(null),[r,n]=b.useState(!0),[a,i]=b.useState({from:new Date(new Date().setDate(new Date().getDate()-30)),to:new Date}),[o,l]=b.useState("all"),[c,u]=b.useState([]);b.useEffect(()=>{d()},[]),b.useEffect(()=>{f()},[a,o]);const d=async()=>{const{data:v}=await R.from("landscapers").select("id, business_name").order("business_name");v&&u(v.map(x=>({id:x.id,name:x.business_name})))},f=async()=>{n(!0);try{let v=R.from("payout_disputes").select("*, landscapers(business_name)").gte("created_at",a.from.toISOString()).lte("created_at",a.to.toISOString());o!=="all"&&(v=v.eq("landscaper_id",o));const{data:x}=await v;if(x){const y=x.length,w=x.filter(O=>O.status==="pending").length,N=x.filter(O=>O.status==="resolved").length,S=x.filter(O=>O.status==="rejected").length,j=x.filter(O=>O.resolved_at),_=j.length>0?j.reduce((O,F)=>{const V=new Date(F.created_at).getTime(),B=new Date(F.resolved_at).getTime();return O+(B-V)},0)/j.length/(1e3*60*60):0,E=h(x),P=m(x),C=[{status:"Pending",count:w},{status:"Under Review",count:x.filter(O=>O.status==="under_review").length},{status:"Resolved",count:N},{status:"Rejected",count:S}],T=g(j);t({totalDisputes:y,pendingDisputes:w,resolvedDisputes:N,rejectedDisputes:S,averageResolutionTime:_,resolutionRate:y>0?N/y*100:0,trendsData:E,reasonsData:P,statusData:C,resolutionTimeData:T})}}catch(v){console.error("Error fetching analytics:",v)}finally{n(!1)}},h=v=>{const y=[];for(let w=29;w>=0;w--){const N=new Date;N.setDate(N.getDate()-w);const S=Ht(N,"MMM dd"),j=v.filter(E=>Ht(new Date(E.created_at),"MMM dd")===S),_=j.filter(E=>E.status==="resolved");y.push({date:S,disputes:j.length,resolved:_.length})}return y},m=v=>{const x={};return v.forEach(y=>{x[y.reason]=(x[y.reason]||0)+1}),Object.entries(x).map(([y,w])=>({reason:y,count:w})).sort((y,w)=>w.count-y.count).slice(0,5)},g=v=>{const x=[{range:"< 24h",min:0,max:24,count:0},{range:"1-3 days",min:24,max:72,count:0},{range:"3-7 days",min:72,max:168,count:0},{range:"> 7 days",min:168,max:1/0,count:0}];return v.forEach(y=>{const w=(new Date(y.resolved_at).getTime()-new Date(y.created_at).getTime())/36e5,N=x.find(S=>w>=S.min&&w<S.max);N&&N.count++}),x},p=()=>{if(!e)return;const v=[["Dispute Analytics Report"],[`Date Range: ${Ht(a.from,"PP")} - ${Ht(a.to,"PP")}`],[""],["Metric","Value"],["Total Disputes",e.totalDisputes],["Pending Disputes",e.pendingDisputes],["Resolved Disputes",e.resolvedDisputes],["Rejected Disputes",e.rejectedDisputes],["Average Resolution Time (hours)",e.averageResolutionTime.toFixed(2)],["Resolution Rate (%)",e.resolutionRate.toFixed(2)]].map(N=>N.join(",")).join(`
`),x=new Blob([v],{type:"text/csv"}),y=window.URL.createObjectURL(x),w=document.createElement("a");w.href=y,w.download=`dispute-analytics-${Ht(new Date,"yyyy-MM-dd")}.csv`,w.click()};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading analytics..."}):e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Dispute Analytics"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(ur,{value:o,onValueChange:l,children:[s.jsx(rr,{className:"w-48",children:s.jsx(dr,{placeholder:"All Landscapers"})}),s.jsxs(nr,{children:[s.jsx(ce,{value:"all",children:"All Landscapers"}),c.map(v=>s.jsx(ce,{value:v.id,children:v.name},v.id))]})]}),s.jsxs(L,{onClick:p,variant:"outline",children:[s.jsx(Ei,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Total Disputes"}),s.jsx(qs,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsx(D,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.totalDisputes})})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Avg Resolution Time"}),s.jsx(it,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsx(D,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[e.averageResolutionTime.toFixed(1),"h"]})})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Resolution Rate"}),s.jsx(Oe,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsx(D,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[e.resolutionRate.toFixed(1),"%"]})})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Pending Review"}),s.jsx(gt,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsx(D,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.pendingDisputes})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Dispute Trends"})}),s.jsx(D,{children:s.jsx(Os,{width:"100%",height:300,children:s.jsxs(ZS,{data:e.trendsData,children:[s.jsx(hi,{strokeDasharray:"3 3"}),s.jsx(as,{dataKey:"date"}),s.jsx(is,{}),s.jsx(Kt,{}),s.jsx(bo,{}),s.jsx(Ea,{type:"monotone",dataKey:"disputes",stroke:"#8b5cf6",name:"Total Disputes"}),s.jsx(Ea,{type:"monotone",dataKey:"resolved",stroke:"#10b981",name:"Resolved"})]})})})]}),s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Disputes by Status"})}),s.jsx(D,{children:s.jsx(Os,{width:"100%",height:300,children:s.jsxs(eN,{children:[s.jsx(xs,{data:e.statusData,cx:"50%",cy:"50%",labelLine:!1,label:({name:v,percent:x})=>`${v} ${(x*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:e.statusData.map((v,x)=>s.jsx(uu,{fill:ZC[x%ZC.length]},`cell-${x}`))}),s.jsx(Kt,{})]})})})]}),s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Top Dispute Reasons"})}),s.jsx(D,{children:s.jsx(Os,{width:"100%",height:300,children:s.jsxs(og,{data:e.reasonsData,children:[s.jsx(hi,{strokeDasharray:"3 3"}),s.jsx(as,{dataKey:"reason"}),s.jsx(is,{}),s.jsx(Kt,{}),s.jsx(hs,{dataKey:"count",fill:"#6366f1"})]})})})]}),s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Resolution Time Distribution"})}),s.jsx(D,{children:s.jsx(Os,{width:"100%",height:300,children:s.jsxs(og,{data:e.resolutionTimeData,children:[s.jsx(hi,{strokeDasharray:"3 3"}),s.jsx(as,{dataKey:"range"}),s.jsx(is,{}),s.jsx(Kt,{}),s.jsx(hs,{dataKey:"count",fill:"#10b981"})]})})})]})]})]}):null}function u1e(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var tN="ScrollArea",[U3]=Rn(tN),[d1e,Ln]=U3(tN),V3=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=b.useState(null),[u,d]=b.useState(null),[f,h]=b.useState(null),[m,g]=b.useState(null),[p,v]=b.useState(null),[x,y]=b.useState(0),[w,N]=b.useState(0),[S,j]=b.useState(!1),[_,E]=b.useState(!1),P=De(t,T=>c(T)),C=Fg(a);return s.jsx(d1e,{scope:r,type:n,dir:C,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:j,scrollbarY:p,onScrollbarYChange:v,scrollbarYEnabled:_,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:N,children:s.jsx(ye.div,{dir:C,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});V3.displayName=tN;var z3="ScrollAreaViewport",W3=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Ln(z3,r),l=b.useRef(null),c=De(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(ye.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});W3.displayName=z3;var Ys="ScrollAreaScrollbar",rN=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ln(Ys,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return b.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(f1e,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(h1e,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(q3,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(nN,{...n,ref:t}):null});rN.displayName=Ys;var f1e=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ln(Ys,e.__scopeScrollArea),[i,o]=b.useState(!1);return b.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(In,{present:r||i,children:s.jsx(q3,{"data-state":i?"visible":"hidden",...n,ref:t})})}),h1e=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ln(Ys,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Xv(()=>c("SCROLL_END"),100),[l,c]=u1e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),b.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(In,{present:r||l!=="hidden",children:s.jsx(nN,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:be(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:be(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),q3=b.forwardRef((e,t)=>{const r=Ln(Ys,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=b.useState(!1),l=e.orientation==="horizontal",c=Xv(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Dc(r.viewport,c),Dc(r.content,c),s.jsx(In,{present:n||i,children:s.jsx(nN,{"data-state":i?"visible":"hidden",...a,ref:t})})}),nN=b.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Ln(Ys,e.__scopeScrollArea),i=b.useRef(null),o=b.useRef(0),[l,c]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=J3(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return y1e(h,o.current,l,m)}return r==="horizontal"?s.jsx(m1e,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=eA(h,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(p1e,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=eA(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),m1e=b.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ln(Ys,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),u=De(t,c,i.onScrollbarXChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(K3,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Jv(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),Q3(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:cg(o.paddingLeft),paddingEnd:cg(o.paddingRight)}})}})}),p1e=b.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ln(Ys,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),u=De(t,c,i.onScrollbarYChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(K3,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Jv(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),Q3(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:cg(o.paddingTop),paddingEnd:cg(o.paddingBottom)}})}})}),[g1e,H3]=U3(Ys),K3=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Ln(Ys,r),[g,p]=b.useState(null),v=De(t,P=>p(P)),x=b.useRef(null),y=b.useRef(""),w=m.viewport,N=n.content-n.viewport,S=yr(d),j=yr(c),_=Xv(f,10);function E(P){if(x.current){const C=P.clientX-x.current.left,T=P.clientY-x.current.top;u({x:C,y:T})}}return b.useEffect(()=>{const P=C=>{const T=C.target;(g==null?void 0:g.contains(T))&&S(C,N)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[w,g,N,S]),b.useEffect(j,[n,j]),Dc(g,_),Dc(m.content,_),s.jsx(g1e,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:yr(i),onThumbPointerUp:yr(o),onThumbPositionChange:j,onThumbPointerDown:yr(l),children:s.jsx(ye.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:be(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),x.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),E(P))}),onPointerMove:be(e.onPointerMove,E),onPointerUp:be(e.onPointerUp,P=>{const C=P.target;C.hasPointerCapture(P.pointerId)&&C.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),lg="ScrollAreaThumb",G3=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=H3(lg,e.__scopeScrollArea);return s.jsx(In,{present:r||a.hasThumb,children:s.jsx(v1e,{ref:t,...n})})}),v1e=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Ln(lg,r),o=H3(lg,r),{onThumbPositionChange:l}=o,c=De(t,f=>o.onThumbChange(f)),u=b.useRef(void 0),d=Xv(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=b1e(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(ye.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:be(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:be(e.onPointerUp,o.onThumbPointerUp)})});G3.displayName=lg;var sN="ScrollAreaCorner",Y3=b.forwardRef((e,t)=>{const r=Ln(sN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(x1e,{...e,ref:t}):null});Y3.displayName=sN;var x1e=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Ln(sN,r),[i,o]=b.useState(0),[l,c]=b.useState(0),u=!!(i&&l);return Dc(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Dc(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(ye.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function cg(e){return e?parseInt(e,10):0}function J3(e,t){const r=e/t;return isNaN(r)?0:r}function Jv(e){const t=J3(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function y1e(e,t,r,n="ltr"){const a=Jv(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return X3([c,u],f)(e)}function eA(e,t,r="ltr"){const n=Jv(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Z0(e,c);return X3([0,o],[0,l])(u)}function X3(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Q3(e,t){return e>0&&e<t}var b1e=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Xv(e,t){const r=yr(e),n=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),b.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Dc(e,t){const r=yr(t);Lt(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var Z3=V3,w1e=W3,j1e=Y3;const eL=b.forwardRef(({className:e,children:t,hideScrollbar:r=!1,...n},a)=>s.jsxs(Z3,{ref:a,className:fe("relative overflow-hidden",e),...n,children:[s.jsx(w1e,{className:"h-full w-full rounded-[inherit]",children:t}),!r&&s.jsx(tL,{}),s.jsx(j1e,{})]}));eL.displayName=Z3.displayName;const tL=b.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(rN,{ref:n,orientation:t,className:fe("flex touch-none select-none transition-colors duration-300",t==="vertical"&&"h-full w-2 border-l border-l-transparent p-[1px] hover:w-2.5",t==="horizontal"&&"h-2 flex-col border-t border-t-transparent p-[1px] hover:h-2.5",e),...r,children:s.jsx(G3,{className:"relative flex-1 rounded-full bg-border/50 hover:bg-border/80 transition-colors"})}));tL.displayName=rN.displayName;const tA=({limit:e=50})=>{const[t,r]=b.useState([]),[n,a]=b.useState(!0),[i,o]=b.useState("all");b.useEffect(()=>{l();const h=R.channel("payments").on("postgres_changes",{event:"*",schema:"public",table:"payments"},m=>{c(m)}).subscribe();return()=>{h.unsubscribe()}},[e]);const l=async()=>{try{a(!0);let h=R.from("payments").select("*").order("created_at",{ascending:!1}).limit(e);i!=="all"&&(h=h.eq("status",i));const{data:m,error:g}=await h;if(g)throw g;r(m||[])}catch(h){console.error("Error fetching transactions:",h)}finally{a(!1)}},c=h=>{h.eventType==="INSERT"?r(m=>[h.new,...m.slice(0,e-1)]):h.eventType==="UPDATE"&&r(m=>m.map(g=>g.id===h.new.id?h.new:g))},u=h=>{switch(h){case"succeeded":return s.jsx(Oe,{className:"h-4 w-4 text-green-500"});case"failed":return s.jsx(gt,{className:"h-4 w-4 text-red-500"});case"pending":return s.jsx(it,{className:"h-4 w-4 text-yellow-500"});case"refunded":return s.jsx(tr,{className:"h-4 w-4 text-blue-500"});default:return s.jsx(it,{className:"h-4 w-4 text-gray-500"})}},d=h=>{switch(h){case"succeeded":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"refunded":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},f=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h/100);return s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(jt,{className:"h-5 w-5"}),"Live Transactions"]}),s.jsx("div",{className:"flex gap-2",children:["all","succeeded","failed","pending"].map(h=>s.jsx(L,{variant:i===h?"default":"outline",size:"sm",onClick:()=>o(h),className:"capitalize",children:h},h))})]})}),s.jsx(D,{children:s.jsx(eL,{className:"h-96",children:n?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No transactions found"}):s.jsx("div",{className:"space-y-3",children:t.map(h=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[u(h.status),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:f(h.amount)}),s.jsx("div",{className:"text-sm text-muted-foreground",children:h.customer_email}),s.jsx("div",{className:"text-xs text-muted-foreground",children:h.description})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(J,{className:d(h.status),children:h.status}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:ap(new Date(h.created_at),{addSuffix:!0})})]})]},h.id))})})})]})},S1e=({data:e})=>{const t=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a/100),r=a=>{switch(a){case"healthy":return"text-green-600 bg-green-50";case"warning":return"text-yellow-600 bg-yellow-50";case"critical":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},n=(a,i=95)=>a>=i?s.jsx(qs,{className:"h-4 w-4 text-green-500"}):s.jsx(j4,{className:"h-4 w-4 text-red-500"});return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"24h Revenue"}),s.jsx(jt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(D,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t(e.totalRevenue)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 24 hours"})]})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Success Rate"}),n(e.successRate)]}),s.jsxs(D,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[e.successRate.toFixed(1),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Payment success rate"})]})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Active Subscriptions"}),s.jsx(Kc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(D,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.activeSubscriptions}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Pending Payouts"}),s.jsx(gi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(D,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.pendingPayouts}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting processing"})]})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Failed Payments"}),s.jsx(ct,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(D,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.failedPayments}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 24 hours"})]})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"System Health"}),s.jsx(gi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(D,{children:[s.jsx(J,{className:r(e.webhookHealth),children:e.webhookHealth.toUpperCase()}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Webhook status"})]})]})]})},N1e=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState("all"),[o,l]=b.useState(0);b.useEffect(()=>{c();const m=R.channel("payouts").on("postgres_changes",{event:"*",schema:"public",table:"payouts"},()=>{c()}).subscribe();return()=>{m.unsubscribe()}},[a]);const c=async()=>{try{n(!0);let m=R.from("payouts").select(`
          *,
          landscaper:landscapers(first_name, last_name, email)
        `).order("created_at",{ascending:!1}).limit(100);a!=="all"&&(m=m.eq("status",a));const{data:g,error:p}=await m;if(p)throw p;t(g||[]);const x=((g==null?void 0:g.filter(y=>y.status==="pending"))||[]).reduce((y,w)=>y+(w.amount||0),0);l(x)}catch(m){console.error("Error fetching payouts:",m)}finally{n(!1)}},u=async m=>{try{await R.from("payouts").update({status:"processing"}).eq("id",m);const{data:g,error:p}=await R.functions.invoke("process-payout",{body:{payoutId:m}});if(p)throw p;c()}catch(g){console.error("Error processing payout:",g)}},d=m=>{switch(m){case"completed":return s.jsx(Oe,{className:"h-4 w-4 text-green-500"});case"failed":return s.jsx(bt,{className:"h-4 w-4 text-red-500"});case"processing":return s.jsx(it,{className:"h-4 w-4 text-blue-500"});case"pending":return s.jsx(it,{className:"h-4 w-4 text-yellow-500"});default:return s.jsx(it,{className:"h-4 w-4 text-gray-500"})}},f=m=>{switch(m){case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"processing":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},h=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m/100);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Total Pending"}),s.jsx(jt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(D,{children:s.jsx("div",{className:"text-2xl font-bold",children:h(o)})})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Pending Count"}),s.jsx(cr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(D,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(m=>m.status==="pending").length})})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Processing"}),s.jsx(it,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(D,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(m=>m.status==="processing").length})})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Failed"}),s.jsx(bt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(D,{children:s.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.filter(m=>m.status==="failed").length})})]})]}),s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(W,{children:"Commission Payouts"}),s.jsx("div",{className:"flex gap-2",children:["all","pending","processing","completed","failed"].map(m=>s.jsx(L,{variant:a===m?"default":"outline",size:"sm",onClick:()=>i(m),className:"capitalize",children:m},m))})]})}),s.jsx(D,{children:r?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs(L1,{children:[s.jsx(F1,{children:s.jsxs(Bd,{children:[s.jsx(_s,{children:"Landscaper"}),s.jsx(_s,{children:"Amount"}),s.jsx(_s,{children:"Status"}),s.jsx(_s,{children:"Created"}),s.jsx(_s,{children:"Processed"}),s.jsx(_s,{children:"Actions"})]})}),s.jsx(B1,{children:e.map(m=>{var g,p,v;return s.jsxs(Bd,{children:[s.jsx(Es,{children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[(g=m.landscaper)==null?void 0:g.first_name," ",(p=m.landscaper)==null?void 0:p.last_name]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:(v=m.landscaper)==null?void 0:v.email})]})}),s.jsx(Es,{className:"font-medium",children:h(m.amount)}),s.jsx(Es,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[d(m.status),s.jsx(J,{className:f(m.status),children:m.status})]})}),s.jsx(Es,{children:ap(new Date(m.created_at),{addSuffix:!0})}),s.jsx(Es,{children:m.processed_at?ap(new Date(m.processed_at),{addSuffix:!0}):"-"}),s.jsx(Es,{children:m.status==="pending"&&s.jsx(L,{size:"sm",onClick:()=>u(m.id),children:"Process"})})]},m.id)})})]})})]})]})},_1e=({alerts:e,onDismiss:t})=>{const r=i=>{switch(i){case"error":return s.jsx(bt,{className:"h-4 w-4"});case"warning":return s.jsx(ct,{className:"h-4 w-4"});case"info":return s.jsx(W_,{className:"h-4 w-4"});default:return s.jsx(W_,{className:"h-4 w-4"})}},n=i=>{switch(i){case"error":return"destructive";case"warning":return"default";case"info":return"default";default:return"default"}},a=i=>{switch(i){case"error":return"bg-red-100 text-red-800";case"warning":return"bg-yellow-100 text-yellow-800";case"info":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return e.length===0?null:s.jsx("div",{className:"space-y-3",children:e.map(i=>s.jsx(ze,{variant:n(i.type),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[r(i.type),s.jsxs("div",{className:"flex-1",children:[s.jsx(We,{className:"mb-2",children:i.message}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(J,{className:a(i.type),children:i.type.toUpperCase()}),s.jsx("span",{className:"text-xs text-muted-foreground",children:ap(i.timestamp,{addSuffix:!0})})]})]})]}),s.jsx(L,{variant:"ghost",size:"sm",onClick:()=>t(i.id),className:"h-6 w-6 p-0",children:s.jsx(ps,{className:"h-4 w-4"})})]})},i.id))})},rA=({detailed:e=!1})=>{const[t,r]=b.useState([]),[n,a]=b.useState([]),[i,o]=b.useState([]),[l,c]=b.useState(!0);b.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const h=new Date(Date.now()-7*24*60*60*1e3),{data:m}=await R.from("payments").select("*").gte("created_at",h.toISOString());if(m){const g=m.reduce((N,S)=>{const j=new Date(S.created_at).toLocaleDateString();return N[j]||(N[j]={name:j,value:0,amount:0}),S.status==="succeeded"&&(N[j].amount+=S.amount||0,N[j].value+=1),N},{});r(Object.values(g));const p=m.reduce((N,S)=>(N[S.status]=(N[S.status]||0)+1,N),{}),v=Object.entries(p).map(([N,S])=>({name:N,value:S}));a(v);const x=new Date;x.setHours(0,0,0,0);const y=m.filter(N=>new Date(N.created_at)>=x),w=Array.from({length:24},(N,S)=>{const j=y.filter(_=>new Date(_.created_at).getHours()===S);return{name:`${S}:00`,value:j.length,amount:j.reduce((_,E)=>_+(E.amount||0),0)}});o(w)}}catch(h){console.error("Error fetching chart data:",h)}finally{c(!1)}},d=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"],f=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h/100);return l?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Daily Revenue (Last 7 Days)"})}),s.jsx(D,{children:s.jsx(Os,{width:"100%",height:300,children:s.jsxs(og,{data:t,children:[s.jsx(hi,{strokeDasharray:"3 3"}),s.jsx(as,{dataKey:"name"}),s.jsx(is,{tickFormatter:f}),s.jsx(Kt,{formatter:h=>f(h)}),s.jsx(hs,{dataKey:"amount",fill:"#0088FE"})]})})})]}),e&&s.jsxs(s.Fragment,{children:[s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Payment Status Distribution"})}),s.jsx(D,{children:s.jsx(Os,{width:"100%",height:300,children:s.jsxs(eN,{children:[s.jsx(xs,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:h,percent:m})=>`${h} ${(m*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((h,m)=>s.jsx(uu,{fill:d[m%d.length]},`cell-${m}`))}),s.jsx(Kt,{})]})})})]}),s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Today's Payment Trend (Hourly)"})}),s.jsx(D,{children:s.jsx(Os,{width:"100%",height:300,children:s.jsxs(ZS,{data:i,children:[s.jsx(hi,{strokeDasharray:"3 3"}),s.jsx(as,{dataKey:"name"}),s.jsx(is,{}),s.jsx(Kt,{}),s.jsx(Ea,{type:"monotone",dataKey:"value",stroke:"#8884d8",strokeWidth:2,dot:{fill:"#8884d8"}})]})})})]})]})]})},E1e=()=>{const[e,t]=b.useState({totalRevenue:0,successRate:0,activeSubscriptions:0,pendingPayouts:0,failedPayments:0,webhookHealth:"healthy"}),[r,n]=b.useState(!0),[a,i]=b.useState([]),[o,l]=b.useState(!0);b.useEffect(()=>{if(c(),o){const d=setInterval(c,3e4);return()=>clearInterval(d)}},[o]);const c=async()=>{try{n(!0);const{data:d}=await R.from("payments").select("*").gte("created_at",new Date(Date.now()-24*60*60*1e3).toISOString()),{data:f}=await R.from("subscriptions").select("*").eq("status","active"),{data:h}=await R.from("payouts").select("*").eq("status","pending"),m=(d==null?void 0:d.reduce((x,y)=>x+(y.amount||0),0))||0,g=(d==null?void 0:d.filter(x=>x.status==="succeeded").length)||0,p=d!=null&&d.length?g/d.length*100:0,v=(d==null?void 0:d.filter(x=>x.status==="failed").length)||0;t({totalRevenue:m,successRate:p,activeSubscriptions:(f==null?void 0:f.length)||0,pendingPayouts:(h==null?void 0:h.length)||0,failedPayments:v,webhookHealth:v>5?"critical":v>2?"warning":"healthy"}),v>5&&i(x=>[...x,{id:Date.now(),type:"error",message:`High number of failed payments: ${v} in the last 24 hours`,timestamp:new Date}])}catch(d){console.error("Error fetching dashboard data:",d)}finally{n(!1)}},u=d=>{switch(d){case"healthy":return"bg-green-500";case"warning":return"bg-yellow-500";case"critical":return"bg-red-500";default:return"bg-gray-500"}};return s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Payment Monitoring Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Real-time payment system monitoring and analytics"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(J,{className:u(e.webhookHealth),children:["System ",e.webhookHealth]}),s.jsxs(L,{onClick:()=>l(!o),variant:o?"default":"outline",children:["Auto Refresh ",o?"ON":"OFF"]}),s.jsx(L,{onClick:c,disabled:r,children:r?"Refreshing...":"Refresh Now"})]})]}),s.jsx(_1e,{alerts:a,onDismiss:d=>i(f=>f.filter(h=>h.id!==d))}),s.jsx(S1e,{data:e}),s.jsxs(fn,{defaultValue:"overview",className:"space-y-4",children:[s.jsxs(zr,{children:[s.jsx(he,{value:"overview",children:"Overview"}),s.jsx(he,{value:"transactions",children:"Live Transactions"}),s.jsx(he,{value:"commissions",children:"Commission Payouts"}),s.jsx(he,{value:"system",children:"System Health"}),s.jsx(he,{value:"analytics",children:"Analytics"})]}),s.jsx(me,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(rA,{}),s.jsx(tA,{limit:10})]})}),s.jsx(me,{value:"transactions",children:s.jsx(tA,{})}),s.jsx(me,{value:"commissions",children:s.jsx(N1e,{})}),s.jsx(me,{value:"system",children:s.jsx(db,{})}),s.jsx(me,{value:"analytics",children:s.jsx(rA,{detailed:!0})})]})]})};function P1e(){var o;const[e,t]=b.useState(!1),[r,n]=b.useState(null),a=async()=>{t(!0),n(null);try{const{data:l,error:c}=await R.functions.invoke("validate-stripe-connect");n(c?{error:c.message,success:!1}:l)}catch(l){n({error:l.message,success:!1})}finally{t(!1)}},i=l=>l?s.jsx(ba,{className:"h-5 w-5 text-green-500"}):s.jsx(gt,{className:"h-5 w-5 text-red-500"});return s.jsxs(I,{className:"w-full max-w-2xl",children:[s.jsxs(z,{children:[s.jsx(W,{children:"Stripe Connect Diagnostic"}),s.jsx(Be,{children:"Test your Stripe Connect configuration and identify issues"})]}),s.jsxs(D,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(L,{onClick:a,disabled:e,children:[e&&s.jsx(Pn,{className:"mr-2 h-4 w-4 animate-spin"}),"Run Diagnostic"]}),s.jsx(L,{variant:"outline",asChild:!0,children:s.jsxs("a",{href:"/STRIPE_CONNECT_ENABLE_GUIDE.md",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(Fs,{className:"mr-2 h-4 w-4"}),"Setup Guide"]})})]}),r&&s.jsxs("div",{className:"space-y-3",children:[r.error&&s.jsxs(ze,{variant:"destructive",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsx(We,{children:r.error})]}),r.checks&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[i(r.checks.stripeKeyValid),s.jsx("span",{className:"font-medium",children:"Stripe API Key Valid"})]}),s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[i(r.checks.connectEnabled),s.jsx("span",{className:"font-medium",children:"Stripe Connect Enabled"})]}),s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[i(r.checks.canCreateAccounts),s.jsx("span",{className:"font-medium",children:"Can Create Connect Accounts"})]})]}),r.message&&s.jsx(ze,{children:s.jsx(We,{children:r.message})}),r.hint&&s.jsxs(ze,{children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsxs(We,{children:[s.jsx("strong",{children:"How to Fix:"})," ",r.hint]})]}),!((o=r.checks)!=null&&o.connectEnabled)&&s.jsxs(ze,{children:[s.jsx(Fs,{className:"h-4 w-4"}),s.jsxs(We,{children:[s.jsx("strong",{children:"Next Steps:"})," Follow the"," ",s.jsx("a",{href:"/STRIPE_CONNECT_ENABLE_GUIDE.md",target:"_blank",rel:"noopener noreferrer",className:"underline font-medium",children:"Setup Guide"})," ","to enable Stripe Connect in your dashboard."]})]}),r.details&&s.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Technical Details:"}),s.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(r.details,null,2)})]})]})]})]})}function k1e(){const[e,t]=b.useState({totalUsers:0,totalRevenue:0,activeJobs:0,pendingApprovals:0}),[r,n]=b.useState(!1);b.useEffect(()=>{a(),i()},[]);const a=async()=>{var l;try{const[c,u,d,f]=await Promise.all([R.from("users").select("id",{count:"exact"}),R.from("jobs").select("id, status",{count:"exact"}).eq("status","active"),R.from("payments").select("amount, status").eq("status","completed"),R.from("landscapers").select("id, approved",{count:"exact"}).eq("approved",!1)]),h=((l=d.data)==null?void 0:l.reduce((m,g)=>m+(g.amount||0),0))||0;t({totalUsers:c.count||0,totalRevenue:h,activeJobs:u.count||0,pendingApprovals:f.count||0})}catch(c){console.error("Error loading stats:",c)}},i=async()=>{VE.isMonitoring()||await VE.startMonitoring(),n(!0)},o=async()=>{try{console.log("Admin logout initiated"),await Of(R,"/admin-login")}catch(l){console.error("Admin logout error:",l),window.location.href="/admin-login"}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-[#020b06] to-black text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 lg:py-16 space-y-8 sm:space-y-12 lg:space-y-16",children:[s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 sm:gap-6 flex-wrap",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-emerald-300 mb-1",children:"Admin Dashboard"}),s.jsx("p",{className:"text-sm sm:text-base text-emerald-300/70",children:"Manage your platform and monitor security"})]}),s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-shrink-0 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cn,{className:`h-5 w-5 ${r?"text-green-500":"text-red-500"} flex-shrink-0`}),s.jsxs("span",{className:"text-sm sm:text-base text-gray-300 whitespace-nowrap",children:["Security Monitor: ",r?"Active":"Inactive"]})]}),s.jsxs(L,{onClick:o,variant:"outline",size:"sm",className:"bg-red-500/10 border-red-500/30 text-red-400 hover:bg-red-500/20 hover:border-red-500/50 hover:text-red-300 transition-all duration-300",children:[s.jsx(M0,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 lg:gap-8",children:[s.jsxs(I,{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl",children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-4 sm:p-6 lg:p-8",children:[s.jsx(W,{className:"text-sm font-medium text-white whitespace-nowrap",children:"Total Users"}),s.jsx(Kc,{className:"h-4 w-4 text-emerald-400 flex-shrink-0"})]}),s.jsx(D,{className:"p-4 sm:p-6 lg:p-8 pt-0",children:s.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-emerald-300",children:e.totalUsers})})]}),s.jsxs(I,{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl",children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-4 sm:p-6 lg:p-8",children:[s.jsx(W,{className:"text-sm font-medium text-white whitespace-nowrap",children:"Total Revenue"}),s.jsx(jt,{className:"h-4 w-4 text-emerald-400 flex-shrink-0"})]}),s.jsx(D,{className:"p-4 sm:p-6 lg:p-8 pt-0",children:s.jsxs("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-emerald-300",children:["$",e.totalRevenue]})})]}),s.jsxs(I,{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl",children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-4 sm:p-6 lg:p-8",children:[s.jsx(W,{className:"text-sm font-medium text-white whitespace-nowrap",children:"Active Jobs"}),s.jsx(gi,{className:"h-4 w-4 text-emerald-400 flex-shrink-0"})]}),s.jsx(D,{className:"p-4 sm:p-6 lg:p-8 pt-0",children:s.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-emerald-300",children:e.activeJobs})})]}),s.jsxs(I,{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl",children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-4 sm:p-6 lg:p-8",children:[s.jsx(W,{className:"text-sm font-medium text-white whitespace-nowrap",children:"Pending Approvals"}),s.jsx(ct,{className:"h-4 w-4 text-yellow-400 flex-shrink-0"})]}),s.jsx(D,{className:"p-4 sm:p-6 lg:p-8 pt-0",children:s.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-yellow-300",children:e.pendingApprovals})})]})]})}),s.jsx("div",{className:"w-full",children:s.jsxs(fn,{defaultValue:"overview",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(zr,{className:"flex flex-wrap sm:grid sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-12 w-full bg-black/60 backdrop-blur border border-emerald-500/25 p-1 gap-1 overflow-x-auto",children:[s.jsx(he,{value:"overview",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Overview"}),s.jsx(he,{value:"stripe-connect",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Connect Test"}),s.jsx(he,{value:"security",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Security"}),s.jsx(he,{value:"users",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Users"}),s.jsx(he,{value:"payments",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Payments"}),s.jsx(he,{value:"disputes",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Disputes"}),s.jsx(he,{value:"analytics",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Analytics"}),s.jsx(he,{value:"stripe-prod",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Stripe"}),s.jsx(he,{value:"system",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"System"}),s.jsx(he,{value:"stripe",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Keys"}),s.jsx(he,{value:"env-vars",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Environment"}),s.jsx(he,{value:"vercel",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Vercel"}),s.jsx(he,{value:"logs",className:"flex-shrink-0 text-xs sm:text-sm px-2 sm:px-3 py-2 whitespace-nowrap",children:"Logs"})]})}),s.jsx(me,{value:"overview",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 lg:gap-10",children:[s.jsx("div",{className:"w-full",children:s.jsx(qE,{})}),s.jsx("div",{className:"w-full",children:s.jsx(oG,{})})]})}),s.jsx(me,{value:"stripe-connect",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx("div",{className:"flex justify-center",children:s.jsx(P1e,{})})}),s.jsx(me,{value:"security",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(db,{})}),s.jsx(me,{value:"users",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(qE,{})}),s.jsx(me,{value:"payments",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(E1e,{})}),s.jsx(me,{value:"disputes",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(pG,{})}),s.jsx(me,{value:"analytics",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(c1e,{})}),s.jsx(me,{value:"stripe-prod",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(KK,{})}),s.jsx(me,{value:"system",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(db,{})}),s.jsx(me,{value:"stripe",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(HK,{})}),s.jsx(me,{value:"env-vars",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(fG,{})}),s.jsx(me,{value:"vercel",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(hG,{})}),s.jsx(me,{value:"logs",className:"space-y-6 sm:space-y-8 lg:space-y-10",children:s.jsx(dG,{})})]})})]})})}async function C1e(e){var i,o;const{data:t,error:r}=await R.auth.getUser();if(r||!(t!=null&&t.user))throw new Error("Not signed in");const{data:n,error:a}=await R.rpc("ensure_user_and_client",{p_user_id:t.user.id,p_email:e.email,p_first_name:((i=e.first_name)==null?void 0:i.trim())||"",p_last_name:((o=e.last_name)==null?void 0:o.trim())||"",p_phone:e.phone||null});if(a)throw console.error("RPC error:",a),a;return n}function aN({userType:e="client",defaultTab:t="login",onBack:r,showBackButton:n=!0}){$e();const[a]=Ag(),[i,o]=b.useState(a.get("tab")||t),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(""),[m,g]=b.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:""}),p=N=>{g(S=>({...S,[N.target.name]:N.target.value}))},v=async N=>{N.preventDefault(),d(!0),h("");try{if(i==="login"){const{data:S,error:j}=await R.auth.signInWithPassword({email:m.email,password:m.password});if(j)throw j;h("Login successful! Redirecting...")}else if(i==="signup"){if(m.password!==m.confirmPassword)throw new Error("Passwords do not match");const{data:S,error:j}=await R.auth.signUp({email:m.email,password:m.password,options:{data:{role:e}}});if(j)throw j;S.user&&e==="client"&&await C1e({first_name:m.firstName,last_name:m.lastName,email:m.email,phone:m.phone}),h("Please check your email to verify your account")}else if(i==="reset"){const{error:S}=await R.auth.resetPasswordForEmail(m.email);if(S)throw S;h("Password reset email sent")}}catch(S){h(S.message||"Operation failed")}finally{d(!1)}},y={client:{title:"Client Portal",icon:Kc,description:"Book luxury landscaping services"},landscaper:{title:"Professional Portal",icon:Nn,description:"Manage your landscaping business"},admin:{title:"Admin Portal",icon:cn,description:"System administration"}}[e],w=y.icon;return s.jsxs("div",{className:"min-h-screen bg-black relative",children:[s.jsx(On,{}),s.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[n&&r&&s.jsxs(L,{onClick:r,variant:"ghost",className:"mb-6 text-emerald-400 hover:text-emerald-300",children:[s.jsx(ls,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 rounded-full bg-emerald-500/20 border border-emerald-500/30",children:s.jsx(w,{className:"w-8 h-8 text-emerald-400"})})}),s.jsx("h1",{className:"text-3xl font-bold text-emerald-400 mb-2",children:y.title}),s.jsx("p",{className:"text-gray-300",children:y.description})]}),s.jsxs(I,{className:"bg-gray-900/80 border-emerald-500/30 backdrop-blur-sm",children:[s.jsx(z,{children:s.jsxs(fn,{value:i,onValueChange:o,children:[s.jsxs(zr,{className:"grid w-full grid-cols-3 bg-gray-800/50",children:[s.jsx(he,{value:"login",children:"Login"}),s.jsx(he,{value:"signup",children:"Sign Up"}),s.jsx(he,{value:"reset",children:"Reset"})]}),s.jsx(me,{value:"login",children:s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsx(de,{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:p,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsxs("div",{className:"relative",children:[s.jsx(de,{type:l?"text":"password",name:"password",placeholder:"Password",value:m.password,onChange:p,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white pr-10"}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-emerald-400",children:l?s.jsx(v4,{className:"w-5 h-5"}):s.jsx(Tg,{className:"w-5 h-5"})})]}),s.jsx(L,{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-400 text-black font-semibold",children:u?"Signing In...":"Sign In"})]})}),s.jsx(me,{value:"signup",children:s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(de,{type:"text",name:"firstName",placeholder:"First Name",value:m.firstName,onChange:p,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsx(de,{type:"text",name:"lastName",placeholder:"Last Name",value:m.lastName,onChange:p,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"})]}),s.jsx(de,{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:p,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsx(de,{type:"tel",name:"phone",placeholder:"Phone Number",value:m.phone,onChange:p,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsx(de,{type:"password",name:"password",placeholder:"Password",value:m.password,onChange:p,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsx(de,{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:m.confirmPassword,onChange:p,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsx(L,{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-400 text-black font-semibold",children:u?"Creating Account...":"Create Account"})]})}),s.jsx(me,{value:"reset",children:s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsx(de,{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:p,required:!0,className:"bg-gray-800/50 border-emerald-500/30 text-white"}),s.jsx(L,{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-400 text-black font-semibold",children:u?"Sending...":"Send Reset Email"})]})})]})}),f&&s.jsx(D,{children:s.jsx("p",{className:`text-sm ${f.includes("sent")||f.includes("check")?"text-emerald-400":"text-red-400"}`,children:f})})]})]})})]})}const ro=class ro{constructor(){Fe(this,"roleCache",new Map);Fe(this,"CACHE_DURATION",5*60*1e3)}static getInstance(){return ro.instance||(ro.instance=new ro),ro.instance}async getUserRoleInfo(){var t;try{const{data:{user:r},error:n}=await R.auth.getUser();if(n)return console.error("❌ Auth error in getUserRoleInfo:",n),{role:null,isAuthenticated:!1,loading:!1,error:n.message};if(!r)return{role:null,isAuthenticated:!1,loading:!1};const a=this.roleCache.get(r.id);if(a&&Date.now()-a.timestamp<this.CACHE_DURATION)return console.log("✅ Using cached role:",a.role),{role:a.role,isAuthenticated:!0,loading:!1};const i=(t=r.user_metadata)==null?void 0:t.role;if(i&&["client","landscaper","admin"].includes(i))return console.log("✅ Got role from metadata:",i),this.cacheRole(r.id,i),{role:i,isAuthenticated:!0,loading:!1};console.log("🔍 Querying database for role...");const{data:o,error:l}=await R.from("users").select("role").eq("id",r.id).single();if(l){console.error("❌ Database error fetching role:",l);const u="client";return this.cacheRole(r.id,u),{role:u,isAuthenticated:!0,loading:!1,error:l.message}}const c=(o==null?void 0:o.role)||"client";return console.log("✅ Got role from database:",c),this.cacheRole(r.id,c),{role:c,isAuthenticated:!0,loading:!1}}catch(r){return console.error("❌ Exception in getUserRoleInfo:",r),{role:null,isAuthenticated:!1,loading:!1,error:String(r)}}}cacheRole(t,r){this.roleCache.set(t,{role:r,timestamp:Date.now()})}clearRoleCache(t){t?this.roleCache.delete(t):this.roleCache.clear()}getDashboardRoute(t){return{admin:"/admin-dashboard",landscaper:"/landscaper-dashboard",client:"/client-dashboard"}[t]||"/client-dashboard"}async navigateToRoleDashboard(t,r={}){const{replace:n=!0,fallbackRoute:a="/login",onLoading:i,onError:o}=r;try{i&&i();const l=await this.getUserRoleInfo();if(l.loading){console.log("⏳ Role still loading, waiting...");return}if(!l.isAuthenticated){console.log("❌ User not authenticated, redirecting to login"),t(a,{replace:n});return}l.error&&o&&o(l.error);const c=this.getDashboardRoute(l.role||"client");console.log("🚀 Navigating to dashboard:",c),t(c,{replace:n})}catch(l){console.error("❌ Exception in navigateToRoleDashboard:",l),o&&o(String(l)),t(a,{replace:n})}}async hasRouteAccess(t){const r=await this.getUserRoleInfo();if(!r.isAuthenticated)return!1;const n=r.role,a={"/admin-dashboard":["admin"],"/admin":["admin"],"/landscaper-dashboard":["landscaper"],"/pro-dashboard":["landscaper"],"/client-dashboard":["client"],"/dashboard":["client"]};for(const[i,o]of Object.entries(a))if(t.startsWith(i))return o.includes(n||"");return!0}async handleGenericDashboardRedirect(t,r){["/dashboard","/"].some(a=>t===a)&&(console.log("🔄 Generic dashboard route detected, auto-redirecting..."),await this.navigateToRoleDashboard(r))}};Fe(ro,"instance");let zw=ro;const vm=zw.getInstance();function tt({children:e,requiredRole:t}){const{user:r,role:n,loading:a}=_t();Ft();const i=$e();if(b.useEffect(()=>{!a&&r&&n&&t&&n!==t&&(console.log(`🔄 Role mismatch detected. User role: ${n}, Required: ${t}`),vm.navigateToRoleDashboard(i,{replace:!0}))},[a,r,n,t,i]),a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-black to-gray-900",role:"status","aria-label":"Loading authentication",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400"})});if(!r){const o=t==="admin"?"/admin-login":t==="landscaper"?"/pro-login":"/client-login";return s.jsx(Zs,{to:o,replace:!0})}return n?t&&n!==t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-black to-gray-900",children:s.jsxs("div",{className:"text-center text-white max-w-md mx-auto px-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Redirecting..."}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Taking you to your dashboard"}),s.jsxs("p",{className:"text-sm text-gray-400",children:["Your role: ",n]})]})}):s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-black to-gray-900",role:"status","aria-label":"Loading user role",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400"})})}function iN(){const[e,t]=b.useState(!1),[r,n]=b.useState(!1),[a,i]=b.useState("portrait");return b.useEffect(()=>{const o=()=>{const l=window.innerWidth,c=window.innerHeight;t(l<768),n(l>=768&&l<1024),i(c>l?"portrait":"landscape")};return o(),window.addEventListener("resize",o),window.addEventListener("orientationchange",o),()=>{window.removeEventListener("resize",o),window.removeEventListener("orientationchange",o)}},[]),{isMobile:e,isTablet:r,orientation:a,isDesktop:!e&&!r}}let nA=class{static async createNotification(t){const{data:r,error:n}=await R.from("notifications").insert({user_id:t.userId,type:t.type,title:t.title,message:t.message,data:t.data||{},read:!1}).select().single();if(n)throw console.error("Error creating notification:",n),n;return r}static async notifyJobAssigned(t,r,n){return this.createNotification({userId:t,type:"job_assigned",title:"🎯 New Job Assigned",message:`You have been assigned to: ${n}`,data:{job_id:r,job_title:n}})}static async notifyJobCompleted(t,r,n){return this.createNotification({userId:t,type:"job_completed",title:"✅ Job Completed",message:`Job completed successfully. Payment of $${n} is being processed.`,data:{job_id:r,amount:n}})}static async notifyJobAccepted(t,r,n,a){return this.createNotification({userId:t,type:"job_accepted",title:"✅ Job Accepted!",message:`${a} has accepted your job: ${n}`,data:{job_id:r,job_title:n,landscaper_name:a}})}static async notifyNewJobPosted(t,r,n,a){return this.createNotification({userId:t,type:"new_job_available",title:"🎯 New Job Available",message:`New job in ${a}: ${n}`,data:{job_id:r,job_title:n,location:a}})}static async notifyPaymentReceived(t,r,n){return this.createNotification({userId:t,type:"payment_received",title:"💰 Payment Received",message:`You received a payment of $${r.toFixed(2)}`,data:{amount:r,payment_id:n}})}static async notifyPaymentFailed(t,r,n){return this.createNotification({userId:t,type:"payment_failed",title:"❌ Payment Failed",message:`Payment of $${r.toFixed(2)} failed: ${n}`,data:{amount:r,reason:n}})}static async getUnreadCount(t){const{count:r,error:n}=await R.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",t).eq("read",!1);return n?(console.error("Error getting unread count:",n),0):r||0}static async markAsRead(t){const{error:r}=await R.from("notifications").update({read:!0}).eq("id",t);if(r)throw console.error("Error marking notification as read:",r),r}static async markAllAsRead(t){const{error:r}=await R.from("notifications").update({read:!0}).eq("user_id",t).eq("read",!1);if(r)throw console.error("Error marking all as read:",r),r}static async deleteNotification(t){const{error:r}=await R.from("notifications").delete().eq("id",t);if(r)throw console.error("Error deleting notification:",r),r}};var A1e=e=>{switch(e){case"success":return R1e;case"info":return $1e;case"warning":return I1e;case"error":return M1e;default:return null}},O1e=Array(12).fill(0),T1e=({visible:e,className:t})=>k.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},k.createElement("div",{className:"sonner-spinner"},O1e.map((r,n)=>k.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),R1e=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),I1e=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),$1e=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),M1e=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),D1e=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},k.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),k.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),L1e=()=>{let[e,t]=k.useState(document.hidden);return k.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Ww=1,F1e=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ww++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],k.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(U1e(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Ww++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Tr=new F1e,B1e=(e,t)=>{let r=(t==null?void 0:t.id)||Ww++;return Tr.addToast({title:e,...t,id:r}),r},U1e=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",V1e=B1e,z1e=()=>Tr.toasts,W1e=()=>Tr.getActiveToasts(),vn=Object.assign(V1e,{success:Tr.success,info:Tr.info,warning:Tr.warning,error:Tr.error,custom:Tr.custom,message:Tr.message,promise:Tr.promise,dismiss:Tr.dismiss,loading:Tr.loading},{getHistory:z1e,getToasts:W1e});function q1e(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}q1e(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Bh(e){return e.label!==void 0}var H1e=3,K1e="32px",G1e="16px",sA=4e3,Y1e=356,J1e=14,X1e=20,Q1e=200;function qn(...e){return e.filter(Boolean).join(" ")}function Z1e(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var eSe=e=>{var t,r,n,a,i,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:p,setHeights:v,visibleToasts:x,heights:y,index:w,toasts:N,expanded:S,removeToast:j,defaultRichColors:_,closeButton:E,style:P,cancelButtonStyle:C,actionButtonStyle:T,className:O="",descriptionClassName:F="",duration:V,position:B,gap:U,loadingIcon:$,expandByDefault:A,classNames:M,icons:q,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:G}=e,[ee,ie]=k.useState(null),[Se,Me]=k.useState(null),[te,Ee]=k.useState(!1),[X,se]=k.useState(!1),[ne,H]=k.useState(!1),[Re,Ne]=k.useState(!1),[Ze,Je]=k.useState(!1),[Et,Ar]=k.useState(0),[qr,Li]=k.useState(0),Hr=k.useRef(m.duration||V||sA),ys=k.useRef(null),Fn=k.useRef(null),Gf=w===0,Yf=w+1<=x,hn=m.type,Zo=m.dismissible!==!1,ZL=m.className||"",e6=m.descriptionClassName||"",Jf=k.useMemo(()=>y.findIndex(Ce=>Ce.toastId===m.id)||0,[y,m.id]),t6=k.useMemo(()=>{var Ce;return(Ce=m.closeButton)!=null?Ce:E},[m.closeButton,E]),gN=k.useMemo(()=>m.duration||V||sA,[m.duration,V]),rx=k.useRef(0),el=k.useRef(0),vN=k.useRef(0),tl=k.useRef(null),[r6,n6]=B.split("-"),xN=k.useMemo(()=>y.reduce((Ce,Xe,vt)=>vt>=Jf?Ce:Ce+Xe.height,0),[y,Jf]),yN=L1e(),s6=m.invert||h,nx=hn==="loading";el.current=k.useMemo(()=>Jf*U+xN,[Jf,xN]),k.useEffect(()=>{Hr.current=gN},[gN]),k.useEffect(()=>{Ee(!0)},[]),k.useEffect(()=>{let Ce=Fn.current;if(Ce){let Xe=Ce.getBoundingClientRect().height;return Li(Xe),v(vt=>[{toastId:m.id,height:Xe,position:m.position},...vt]),()=>v(vt=>vt.filter(Bn=>Bn.toastId!==m.id))}},[v,m.id]),k.useLayoutEffect(()=>{if(!te)return;let Ce=Fn.current,Xe=Ce.style.height;Ce.style.height="auto";let vt=Ce.getBoundingClientRect().height;Ce.style.height=Xe,Li(vt),v(Bn=>Bn.find(Un=>Un.toastId===m.id)?Bn.map(Un=>Un.toastId===m.id?{...Un,height:vt}:Un):[{toastId:m.id,height:vt,position:m.position},...Bn])},[te,m.title,m.description,v,m.id]);let Ta=k.useCallback(()=>{se(!0),Ar(el.current),v(Ce=>Ce.filter(Xe=>Xe.toastId!==m.id)),setTimeout(()=>{j(m)},Q1e)},[m,j,v,el]);k.useEffect(()=>{if(m.promise&&hn==="loading"||m.duration===1/0||m.type==="loading")return;let Ce;return S||p||G&&yN?(()=>{if(vN.current<rx.current){let Xe=new Date().getTime()-rx.current;Hr.current=Hr.current-Xe}vN.current=new Date().getTime()})():Hr.current!==1/0&&(rx.current=new Date().getTime(),Ce=setTimeout(()=>{var Xe;(Xe=m.onAutoClose)==null||Xe.call(m,m),Ta()},Hr.current)),()=>clearTimeout(Ce)},[S,p,m,hn,G,yN,Ta]),k.useEffect(()=>{m.delete&&Ta()},[Ta,m.delete]);function a6(){var Ce,Xe,vt;return q!=null&&q.loading?k.createElement("div",{className:qn(M==null?void 0:M.loader,(Ce=m==null?void 0:m.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":hn==="loading"},q.loading):$?k.createElement("div",{className:qn(M==null?void 0:M.loader,(Xe=m==null?void 0:m.classNames)==null?void 0:Xe.loader,"sonner-loader"),"data-visible":hn==="loading"},$):k.createElement(T1e,{className:qn(M==null?void 0:M.loader,(vt=m==null?void 0:m.classNames)==null?void 0:vt.loader),visible:hn==="loading"})}return k.createElement("li",{tabIndex:0,ref:Fn,className:qn(O,ZL,M==null?void 0:M.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[hn],(r=m==null?void 0:m.classNames)==null?void 0:r[hn]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:_,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":te,"data-promise":!!m.promise,"data-swiped":Ze,"data-removed":X,"data-visible":Yf,"data-y-position":r6,"data-x-position":n6,"data-index":w,"data-front":Gf,"data-swiping":ne,"data-dismissible":Zo,"data-type":hn,"data-invert":s6,"data-swipe-out":Re,"data-swipe-direction":Se,"data-expanded":!!(S||A&&te),style:{"--index":w,"--toasts-before":w,"--z-index":N.length-w,"--offset":`${X?Et:el.current}px`,"--initial-height":A?"auto":`${qr}px`,...P,...m.style},onDragEnd:()=>{H(!1),ie(null),tl.current=null},onPointerDown:Ce=>{nx||!Zo||(ys.current=new Date,Ar(el.current),Ce.target.setPointerCapture(Ce.pointerId),Ce.target.tagName!=="BUTTON"&&(H(!0),tl.current={x:Ce.clientX,y:Ce.clientY}))},onPointerUp:()=>{var Ce,Xe,vt,Bn;if(Re||!Zo)return;tl.current=null;let Un=Number(((Ce=Fn.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ra=Number(((Xe=Fn.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Fi=new Date().getTime()-((vt=ys.current)==null?void 0:vt.getTime()),Vn=ee==="x"?Un:Ra,Ia=Math.abs(Vn)/Fi;if(Math.abs(Vn)>=X1e||Ia>.11){Ar(el.current),(Bn=m.onDismiss)==null||Bn.call(m,m),Me(ee==="x"?Un>0?"right":"left":Ra>0?"down":"up"),Ta(),Ne(!0),Je(!1);return}H(!1),ie(null)},onPointerMove:Ce=>{var Xe,vt,Bn,Un;if(!tl.current||!Zo||((Xe=window.getSelection())==null?void 0:Xe.toString().length)>0)return;let Ra=Ce.clientY-tl.current.y,Fi=Ce.clientX-tl.current.x,Vn=(vt=e.swipeDirections)!=null?vt:Z1e(B);!ee&&(Math.abs(Fi)>1||Math.abs(Ra)>1)&&ie(Math.abs(Fi)>Math.abs(Ra)?"x":"y");let Ia={x:0,y:0};ee==="y"?(Vn.includes("top")||Vn.includes("bottom"))&&(Vn.includes("top")&&Ra<0||Vn.includes("bottom")&&Ra>0)&&(Ia.y=Ra):ee==="x"&&(Vn.includes("left")||Vn.includes("right"))&&(Vn.includes("left")&&Fi<0||Vn.includes("right")&&Fi>0)&&(Ia.x=Fi),(Math.abs(Ia.x)>0||Math.abs(Ia.y)>0)&&Je(!0),(Bn=Fn.current)==null||Bn.style.setProperty("--swipe-amount-x",`${Ia.x}px`),(Un=Fn.current)==null||Un.style.setProperty("--swipe-amount-y",`${Ia.y}px`)}},t6&&!m.jsx?k.createElement("button",{"aria-label":Y,"data-disabled":nx,"data-close-button":!0,onClick:nx||!Zo?()=>{}:()=>{var Ce;Ta(),(Ce=m.onDismiss)==null||Ce.call(m,m)},className:qn(M==null?void 0:M.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(i=q==null?void 0:q.close)!=null?i:D1e):null,m.jsx||b.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:k.createElement(k.Fragment,null,hn||m.icon||m.promise?k.createElement("div",{"data-icon":"",className:qn(M==null?void 0:M.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||a6():null,m.type!=="loading"?m.icon||(q==null?void 0:q[hn])||A1e(hn):null):null,k.createElement("div",{"data-content":"",className:qn(M==null?void 0:M.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},k.createElement("div",{"data-title":"",className:qn(M==null?void 0:M.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?k.createElement("div",{"data-description":"",className:qn(F,e6,M==null?void 0:M.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),b.isValidElement(m.cancel)?m.cancel:m.cancel&&Bh(m.cancel)?k.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||C,onClick:Ce=>{var Xe,vt;Bh(m.cancel)&&Zo&&((vt=(Xe=m.cancel).onClick)==null||vt.call(Xe,Ce),Ta())},className:qn(M==null?void 0:M.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,b.isValidElement(m.action)?m.action:m.action&&Bh(m.action)?k.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||T,onClick:Ce=>{var Xe,vt;Bh(m.action)&&((vt=(Xe=m.action).onClick)==null||vt.call(Xe,Ce),!Ce.defaultPrevented&&Ta())},className:qn(M==null?void 0:M.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function aA(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function tSe(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?G1e:K1e;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}b.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=H1e,toastOptions:p,dir:v=aA(),gap:x=J1e,loadingIcon:y,icons:w,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:S}=e,[j,_]=k.useState([]),E=k.useMemo(()=>Array.from(new Set([n].concat(j.filter(G=>G.position).map(G=>G.position)))),[j,n]),[P,C]=k.useState([]),[T,O]=k.useState(!1),[F,V]=k.useState(!1),[B,U]=k.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=k.useRef(null),A=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=k.useRef(null),q=k.useRef(!1),Y=k.useCallback(G=>{_(ee=>{var ie;return(ie=ee.find(Se=>Se.id===G.id))!=null&&ie.delete||Tr.dismiss(G.id),ee.filter(({id:Se})=>Se!==G.id)})},[]);return k.useEffect(()=>Tr.subscribe(G=>{if(G.dismiss){_(ee=>ee.map(ie=>ie.id===G.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{HT.flushSync(()=>{_(ee=>{let ie=ee.findIndex(Se=>Se.id===G.id);return ie!==-1?[...ee.slice(0,ie),{...ee[ie],...G},...ee.slice(ie+1)]:[G,...ee]})})})}),[]),k.useEffect(()=>{if(d!=="system"){U(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:ee})=>{U(ee?"dark":"light")})}catch{G.addListener(({matches:ie})=>{try{U(ie?"dark":"light")}catch(Se){console.error(Se)}})}},[d]),k.useEffect(()=>{j.length<=1&&O(!1)},[j]),k.useEffect(()=>{let G=ee=>{var ie,Se;a.every(Me=>ee[Me]||ee.code===Me)&&(O(!0),(ie=$.current)==null||ie.focus()),ee.code==="Escape"&&(document.activeElement===$.current||(Se=$.current)!=null&&Se.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[a]),k.useEffect(()=>{if($.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,q.current=!1)}},[$.current]),k.createElement("section",{ref:t,"aria-label":`${N} ${A}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((G,ee)=>{var ie;let[Se,Me]=G.split("-");return j.length?k.createElement("ol",{key:G,dir:v==="auto"?aA():v,tabIndex:-1,ref:$,className:l,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":Se,"data-lifted":T&&j.length>1&&!i,"data-x-position":Me,style:{"--front-toast-height":`${((ie=P[0])==null?void 0:ie.height)||0}px`,"--width":`${Y1e}px`,"--gap":`${x}px`,...m,...tSe(c,u)},onBlur:te=>{q.current&&!te.currentTarget.contains(te.relatedTarget)&&(q.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||q.current||(q.current=!0,M.current=te.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{F||O(!1)},onDragEnd:()=>O(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},j.filter(te=>!te.position&&ee===0||te.position===G).map((te,Ee)=>{var X,se;return k.createElement(eSe,{key:te.id,icons:w,index:Ee,toast:te,defaultRichColors:f,duration:(X=p==null?void 0:p.duration)!=null?X:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(se=p==null?void 0:p.closeButton)!=null?se:o,interacting:F,position:G,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:Y,toasts:j.filter(ne=>ne.position==te.position),heights:P.filter(ne=>ne.position==te.position),setHeights:C,expandByDefault:i,gap:x,loadingIcon:y,expanded:T,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});function iA(){const[e,t]=b.useState([]),[r,n]=b.useState(0),[a,i]=b.useState(!1),[o,l]=b.useState(!1),[c,u]=b.useState(null),{user:d}=_t(),f=$e(),h=b.useRef(null);if(!d)return null;b.useEffect(()=>{d&&(m(),g(),p())},[d]);const m=async()=>{if(!d)return;const{data:_}=await R.from("profiles").select("role").eq("id",d.id).single();_&&u(_.role)};b.useEffect(()=>{const _=E=>{h.current&&!h.current.contains(E.target)&&i(!1)};return a&&document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[a]);const g=async()=>{if(!d)return;l(!0);const{data:_,error:E}=await R.from("notifications").select("*").eq("user_id",d.id).order("created_at",{ascending:!1}).limit(20);!E&&_&&(t(_),n(_.filter(P=>!P.read).length)),l(!1)},p=()=>{if(!d)return;const _=R.channel("user-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${d.id}`},E=>{const P=E.new;t(C=>[P,...C]),n(C=>C+1),y(P)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:`user_id=eq.${d.id}`},E=>{const P=E.new;t(C=>C.map(T=>T.id===P.id?P:T)),P.read&&n(C=>Math.max(0,C-1))}).subscribe();return()=>{_.unsubscribe()}},v=async _=>{try{await nA.markAsRead(_),t(E=>E.map(P=>P.id===_?{...P,read:!0}:P)),n(E=>Math.max(0,E-1))}catch(E){console.error("Error marking as read:",E)}},x=async()=>{if(d)try{await nA.markAllAsRead(d.id),t(_=>_.map(E=>({...E,read:!0}))),n(0)}catch(_){console.error("Error marking all as read:",_)}},y=_=>{const{type:E,title:P,message:C}=_;E.includes("success")||E.includes("completed")||E.includes("accepted")?vn.success(P,{description:C,duration:5e3}):E.includes("failed")||E.includes("error")?vn.error(P,{description:C,duration:6e3}):E.includes("warning")||E.includes("required")?vn.warning(P,{description:C,duration:5e3}):vn.info(P,{description:C,duration:4e3})},w=async _=>{_.read||await v(_.id);const{type:E,data:P}=_;c==="client"?E==="job_accepted"?P!=null&&P.job_id?f(`/client-dashboard/jobs?job_id=${P.job_id}`):f("/client-dashboard/jobs"):E==="quote_response"||E==="quote_received"?P!=null&&P.quote_id?f(`/client-dashboard/jobs?quote_id=${P.quote_id}`):f("/client-dashboard/jobs"):E==="job_status_update"||E==="job_scheduled"||E==="job_in_progress"?P!=null&&P.job_id?f(`/client-dashboard/jobs?job_id=${P.job_id}`):f("/client-dashboard/jobs"):E==="payment_confirmation"||E==="payment_success"?P!=null&&P.payment_id?f(`/client-dashboard/payments?payment_id=${P.payment_id}`):f("/client-dashboard/payments"):f(E==="service_reminder"||E==="appointment_reminder"?"/client-dashboard/jobs":E==="payment_method_required"?"/client-dashboard/payments":"/client-dashboard/overview"):c==="landscaper"&&(E==="new_job_available"?f("/landscaper/jobs"):E==="job_assigned"||E==="job_completed"?P!=null&&P.job_id?f(`/landscaper/jobs?id=${P.job_id}`):f("/landscaper/jobs"):E==="payment_received"||E==="payout_success"||E==="payout_processing"?f("/landscaper/earnings"):E.startsWith("stripe_connect")?f("/landscaper/profile"):f(E==="payment_failed"||E==="payout_failed"?"/landscaper/earnings":"/landscaper-dashboard")),i(!1)},N=_=>{const{type:E}=_;if(c==="client"){if(E==="quote_response"||E==="quote_received")return{label:"View Quote",icon:s.jsx(Fs,{className:"h-3 w-3"})};if(E==="job_status_update"||E==="job_scheduled"||E==="job_in_progress"||E==="job_accepted")return{label:"Track Job",icon:s.jsx(Nn,{className:"h-3 w-3"})};if(E==="payment_confirmation"||E==="payment_success")return{label:"View Payment",icon:s.jsx(ot,{className:"h-3 w-3"})};if(E==="service_reminder"||E==="appointment_reminder")return{label:"View Schedule",icon:s.jsx(ar,{className:"h-3 w-3"})};if(E==="payment_method_required")return{label:"Manage Payments",icon:s.jsx(jt,{className:"h-3 w-3"})}}return E==="job_assigned"||E==="job_completed"||E==="new_job_available"?{label:"View Job",icon:s.jsx(Nn,{className:"h-3 w-3"})}:E==="payment_received"||E==="payout_success"?{label:"View Payment",icon:s.jsx(jt,{className:"h-3 w-3"})}:E.startsWith("stripe_connect")?{label:"Go to Settings",icon:s.jsx(kf,{className:"h-3 w-3"})}:E==="payment_failed"||E==="payout_failed"?{label:"View Details",icon:s.jsx(ct,{className:"h-3 w-3"})}:E==="payout_processing"?{label:"Track Payout",icon:s.jsx(it,{className:"h-3 w-3"})}:{label:"View",icon:s.jsx(PU,{className:"h-3 w-3"})}},S=_=>{const E="h-5 w-5";if(_==="quote_response"||_==="quote_received")return s.jsx(Fs,{className:`${E} text-blue-600`});if(_==="job_status_update"||_==="job_scheduled")return s.jsx(Nn,{className:`${E} text-blue-600`});if(_==="job_in_progress")return s.jsx(it,{className:`${E} text-yellow-600`});if(_==="payment_confirmation"||_==="payment_success")return s.jsx(Oe,{className:`${E} text-green-600`});if(_==="service_reminder"||_==="appointment_reminder")return s.jsx(ar,{className:`${E} text-purple-600`});if(_==="payment_method_required")return s.jsx(ct,{className:`${E} text-yellow-600`});switch(_){case"stripe_connect_active":return s.jsx(Oe,{className:`${E} text-green-600`});case"stripe_connect_restricted":return s.jsx(ct,{className:`${E} text-yellow-600`});case"stripe_connect_pending":return s.jsx(it,{className:`${E} text-blue-600`});case"stripe_charges_enabled":return s.jsx(vi,{className:`${E} text-green-600`});case"stripe_payouts_enabled":return s.jsx(jt,{className:`${E} text-green-600`});case"payout_success":return s.jsx(jt,{className:`${E} text-green-600`});case"payout_failed":return s.jsx(gt,{className:`${E} text-red-600`});case"payout_processing":return s.jsx(it,{className:`${E} text-blue-600`});case"job_assigned":return s.jsx(Nn,{className:`${E} text-blue-600`});case"job_completed":return s.jsx(Oe,{className:`${E} text-green-600`});case"payment_received":return s.jsx(ot,{className:`${E} text-green-600`});case"payment_failed":return s.jsx(gt,{className:`${E} text-red-600`});default:return s.jsx(Sn,{className:`${E} text-gray-600`})}},j=_=>{const E=new Date(_),C=new Date().getTime()-E.getTime(),T=Math.floor(C/6e4),O=Math.floor(C/36e5),F=Math.floor(C/864e5);return T<1?"Just now":T<60?`${T}m ago`:O<24?`${O}h ago`:F<7?`${F}d ago`:E.toLocaleDateString()};return s.jsxs("div",{className:"relative",ref:h,children:[s.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>i(!a),className:"relative hover:bg-gray-100",children:[s.jsx(Sn,{className:"h-5 w-5"}),r>0&&s.jsx(J,{className:"absolute -top-1 -right-1 h-5 min-w-5 px-1 flex items-center justify-center text-xs bg-red-600 hover:bg-red-600",children:r>99?"99+":r})]}),a&&s.jsxs(I,{className:"absolute right-0 top-12 w-96 max-h-[32rem] overflow-hidden z-50 shadow-xl border-2",children:[s.jsx("div",{className:"p-4 border-b bg-gradient-to-r from-emerald-50 to-green-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Notifications"}),s.jsxs("div",{className:"flex gap-2",children:[r>0&&s.jsxs(L,{variant:"ghost",size:"sm",onClick:x,className:"text-xs hover:bg-white",children:[s.jsx(qo,{className:"h-3 w-3 mr-1"}),"Mark all read"]}),s.jsx(L,{variant:"ghost",size:"sm",onClick:()=>i(!1),className:"hover:bg-white",children:s.jsx(ps,{className:"h-4 w-4"})})]})]})}),s.jsx("div",{className:"max-h-[28rem] overflow-y-auto",children:o?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600 mx-auto"}),s.jsx("p",{className:"mt-2",children:"Loading..."})]}):e.length===0?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(Sn,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),s.jsx("p",{className:"font-medium",children:"No notifications yet"}),s.jsx("p",{className:"text-sm mt-1",children:"We'll notify you when something happens"})]}):e.map(_=>{var E;return s.jsx("div",{className:`p-4 border-b hover:bg-gray-50 transition-colors ${_.read?"":"bg-blue-50 border-l-4 border-l-blue-600"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-0.5",children:S(_.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-sm",children:_.title}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:_.message}),((E=_.data)==null?void 0:E.amount)&&s.jsxs("p",{className:"text-sm text-green-700 font-semibold mt-1",children:["$",_.data.amount.toFixed(2)]}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsx("p",{className:"text-xs text-gray-500",children:j(_.created_at)}),s.jsxs(L,{size:"sm",variant:"outline",onClick:()=>w(_),className:"h-7 text-xs gap-1 hover:bg-emerald-50 hover:border-emerald-600 hover:text-emerald-700",children:[N(_).icon,N(_).label]})]})]}),!_.read&&s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 flex-shrink-0"})]})},_.id)})})]})]})}const rL=b.createContext(null),Qv=()=>{const e=b.useContext(rL);if(!e)throw new Error("useWebSocket must be used within WebSocketProvider");return e},nL=({children:e,url:t="wss://your-websocket-endpoint.com"})=>{const[r,n]=b.useState(!1),[a,i]=b.useState("disconnected"),[o,l]=b.useState(null),c=b.useRef(null),u=b.useRef(new Map),d=b.useRef(),f=b.useRef(0),h=5,m=()=>{var x;if(((x=c.current)==null?void 0:x.readyState)!==WebSocket.OPEN){i("connecting");try{c.current=new WebSocket(t),c.current.onopen=()=>{n(!0),i("connected"),f.current=0,console.log("WebSocket connected")},c.current.onmessage=y=>{try{const w=JSON.parse(y.data);l(w);const N=u.current.get(w.type);N&&N.forEach(S=>S(w.data))}catch(w){console.error("Error parsing WebSocket message:",w)}},c.current.onclose=()=>{if(n(!1),i("disconnected"),console.log("WebSocket disconnected"),f.current<h){const y=Math.pow(2,f.current)*1e3;d.current=setTimeout(()=>{f.current++,m()},y)}},c.current.onerror=y=>{i("error"),console.error("WebSocket error:",y)}}catch(y){i("error"),console.error("Failed to create WebSocket connection:",y)}}},g=x=>{var y;if(((y=c.current)==null?void 0:y.readyState)===WebSocket.OPEN){const w=JSON.parse(JSON.stringify(x));c.current.send(JSON.stringify(w))}else console.warn("WebSocket not connected, message not sent:",x)},p=(x,y)=>(u.current.has(x)||u.current.set(x,new Set),u.current.get(x).add(y),()=>{const w=u.current.get(x);w&&(w.delete(y),w.size===0&&u.current.delete(x))});b.useEffect(()=>(m(),()=>{d.current&&clearTimeout(d.current),c.current&&c.current.close()}),[t]);const v={isConnected:r,connectionStatus:a,lastMessage:o,sendMessage:g,subscribe:p};return s.jsx(rL.Provider,{value:v,children:e})},oN=()=>{const{isConnected:e,connectionStatus:t,subscribe:r}=Qv(),[n,a]=b.useState([]),[i,o]=b.useState([{channel:"slack",status:"online",lastActivity:new Date().toISOString(),successRate:98.5,avgDeliveryTime:1.2},{channel:"email",status:"online",lastActivity:new Date().toISOString(),successRate:99.1,avgDeliveryTime:2.8},{channel:"sms",status:"degraded",lastActivity:new Date().toISOString(),successRate:94.2,avgDeliveryTime:5.1}]);b.useEffect(()=>{const u=r("notification_event",f=>{a(h=>[f,...h.slice(0,49)])}),d=r("channel_status",f=>{o(h=>h.map(m=>m.channel===f.channel?{...m,...f}:m))});return()=>{u(),d()}},[r]);const l=()=>{switch(t){case"connected":return s.jsx(Rg,{className:"h-4 w-4 text-green-500"});case"connecting":return s.jsx(it,{className:"h-4 w-4 text-yellow-500"});case"error":return s.jsx(bt,{className:"h-4 w-4 text-red-500"});default:return s.jsx(N4,{className:"h-4 w-4 text-gray-500"})}},c=u=>{switch(u){case"online":case"success":return"default";case"degraded":case"pending":return"secondary";case"offline":case"failed":return"destructive";default:return"outline"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(I,{children:[s.jsx(z,{className:"pb-3",children:s.jsxs(W,{className:"flex flex-col sm:flex-row sm:items-center gap-2 text-sm sm:text-base",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l(),s.jsx("span",{className:"whitespace-nowrap",children:"Real-time Connection Status"})]}),s.jsx(J,{variant:e?"default":"destructive",className:"w-fit",children:t})]})}),s.jsx(D,{children:s.jsx("p",{className:"text-sm text-muted-foreground break-words",children:e?"Connected to real-time notification stream":"Attempting to connect to notification stream..."})})]}),s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Live Channel Status"})}),s.jsx(D,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map(u=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium capitalize",children:u.channel}),s.jsx(J,{variant:c(u.status),children:u.status})]}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{children:["Success Rate: ",u.successRate,"%"]}),s.jsxs("div",{children:["Avg Delivery: ",u.avgDeliveryTime,"s"]}),s.jsxs("div",{children:["Last Activity: ",new Date(u.lastActivity).toLocaleTimeString()]})]})]},u.channel))})})]}),s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Live Event Stream"})}),s.jsx(D,{children:s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:n.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No recent events. Events will appear here in real-time."}):n.map(u=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0",children:u.status==="success"?s.jsx(Oe,{className:"h-4 w-4 text-green-500"}):u.status==="failed"?s.jsx(bt,{className:"h-4 w-4 text-red-500"}):s.jsx(it,{className:"h-4 w-4 text-yellow-500"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(J,{variant:"outline",className:"text-xs",children:u.channel}),s.jsx(J,{variant:c(u.status),className:"text-xs",children:u.type})]}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:u.message})]}),s.jsx("div",{className:"flex-shrink-0 text-xs text-muted-foreground",children:new Date(u.timestamp).toLocaleTimeString()})]},u.id))})})]})]})};function rSe({type:e,userName:t,showNotifications:r=!0,showBackButton:n=!1,variant:a="modern"}){const[i,o]=b.useState(!1),l=$e(),{isMobile:c}=iN(),u=async()=>{try{console.log(`${e} logout initiated`),await Of(R,e==="client"?"/client-login":"/")}catch(f){console.error(`${e} logout error:`,f),window.location.href=e==="client"?"/client-login":"/"}},d=()=>{const f=window.location.pathname;f.includes("/client")?l("/client-dashboard"):f.includes("/landscaper")?l("/landscaper-dashboard/overview"):f.includes("/admin")?l("/admin-dashboard"):l("/")};return a==="classic"?s.jsxs(s.Fragment,{children:[s.jsx(oN,{}),s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e==="admin"?"Admin Dashboard":"Dashboard"}),s.jsxs("p",{className:"text-gray-600",children:["Welcome back",t?`, ${t}`:"","! Here's your overview."]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[r&&s.jsx(iA,{}),s.jsxs(L,{onClick:u,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(M0,{className:"w-4 h-4"}),"Logout"]})]})]})})})]}):s.jsxs(I,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl ring-1 ring-green-500/20 shadow-[0_0_45px_-20px_rgba(34,197,94,0.35)] mb-6 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/5 via-transparent to-green-500/5 animate-pulse"}),s.jsx("div",{className:`${c?"p-4":"p-6"} relative`,children:s.jsxs("div",{className:`flex ${c?"flex-col space-y-4":"justify-between items-center"}`,children:[s.jsxs("div",{className:c?"text-center":"",children:[s.jsxs("h1",{className:`${c?"text-2xl":"text-3xl md:text-4xl"} font-semibold mb-2 leading-tight`,children:[s.jsx("span",{className:"text-white",children:"Welcome back,"}),!c&&s.jsx("br",{className:"md:hidden"}),s.jsx("span",{className:`text-green-400 font-extrabold tracking-tight drop-shadow-[0_0_15px_rgba(34,197,94,0.5)] ${c?"block mt-1":"ml-2 md:ml-3"}`,children:t||"User"})]}),s.jsxs("p",{className:`text-gray-400 ${c?"text-sm":"text-base"}`,children:["Your luxury ",e," dashboard"]})]}),s.jsxs("div",{className:`flex items-center ${c?"justify-between":"gap-4"}`,children:[s.jsxs("div",{className:`${c?"text-left":"text-right"}`,children:[s.jsx("div",{className:`${c?"text-lg":"text-2xl"} font-bold text-green-400 drop-shadow-[0_0_8px_rgba(34,197,94,0.4)]`,children:c?"GreenScape":"GreenScape Lux"}),s.jsx("div",{className:`${c?"text-xs":"text-sm"} text-gray-400`,children:c?"Premium":"Premium Services"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[n&&s.jsx(L,{variant:"ghost",size:"sm",onClick:d,className:"p-2 rounded-full hover:bg-green-900/20",children:s.jsx(ls,{className:`${c?"w-4 h-4":"w-5 h-5"} text-green-400`})}),r&&s.jsx(iA,{}),s.jsxs(L,{onClick:u,size:c?"sm":"default",className:"rounded-full bg-green-600 hover:bg-green-500 shadow-[0_0_20px_rgba(34,197,94,0.3)] hover:shadow-[0_0_25px_rgba(34,197,94,0.4)] transition-all duration-300",children:[s.jsx(M0,{className:`${c?"w-3 h-3 mr-1":"w-4 h-4 mr-2"}`}),c?"Out":"Logout"]})]})]})]})})]})}function nSe({userRole:e,notificationCount:t=0}){const r=Ft(),{isMobile:n}=iN();if(!n)return null;const i=e==="admin"?[{href:"/",icon:oa,label:"Home"},{href:"/admin",icon:Ct,label:"Dashboard"},{href:"/admin/notifications",icon:Sn,label:"Alerts",badge:t},{href:"/admin/profile",icon:cr,label:"Profile"}]:e==="landscaper"?[{href:"/",icon:oa,label:"Home"},{href:"/landscaper-jobs",icon:Nn,label:"Jobs"},{href:"/landscaper-dashboard",icon:Ct,label:"Dashboard"},{href:"/landscaper-profile",icon:cr,label:"Profile"}]:e==="client"?[{href:"/",icon:oa,label:"Home"},{href:"/get-quote",icon:Nn,label:"Quote"},{href:"/client-dashboard/overview",icon:Ct,label:"Dashboard"},{href:"/client-dashboard/profile",icon:cr,label:"Profile"}]:[{href:"/",icon:oa,label:"Home"},{href:"/get-quote",icon:Nn,label:"Quote"},{href:"/professionals",icon:Ct,label:"Pros"},{href:"/login",icon:cr,label:"Login"}];return s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-black/80 backdrop-blur-md border-t border-emerald-500/30 z-50 md:hidden shadow-[0_-4px_20px_rgba(16,185,129,0.15)]",children:s.jsx("div",{className:"flex items-center justify-around py-2",children:i.map(o=>{const l=o.icon,c=r.pathname===o.href;return s.jsxs(jn,{to:o.href,className:`flex flex-col items-center gap-1 px-3 py-2 rounded-lg transition-all duration-300 min-w-0 ${c?"text-emerald-400 drop-shadow-[0_0_12px_rgba(16,185,129,0.8)] scale-105":"text-gray-400 hover:text-emerald-400 hover:drop-shadow-[0_0_8px_rgba(16,185,129,0.5)] hover:scale-105"}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx(l,{className:`h-5 w-5 transition-all duration-300 ${c?"animate-pulse":""}`}),o.badge&&o.badge>0&&s.jsx(J,{className:"absolute -top-2 -right-2 h-4 w-4 rounded-full p-0 text-xs bg-emerald-500 text-black",children:o.badge>9?"9+":o.badge})]}),s.jsx("span",{className:`text-xs font-medium truncate transition-all duration-300 ${c?"font-semibold":""}`,children:o.label})]},o.href)})})})}function ti({title:e,value:t,subtitle:r,icon:n,trend:a,variant:i="default"}){const o={default:"bg-black/60 border-gray-500/25",green:"bg-black/60 border-green-500/25 ring-green-500/20",blue:"bg-black/60 border-blue-500/25 ring-blue-500/20",yellow:"bg-black/60 border-yellow-500/25 ring-yellow-500/20"};return s.jsxs(I,{className:`${o[i]} backdrop-blur rounded-2xl ring-1 shadow-lg`,children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium text-gray-300",children:e}),s.jsx("div",{className:"text-green-400",children:n})]}),s.jsxs(D,{children:[s.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:typeof t=="number"?t.toLocaleString():t}),r&&s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:r}),a&&s.jsxs("div",{className:`flex items-center text-xs ${a.isPositive?"text-green-400":"text-red-400"}`,children:[s.jsx(qs,{className:`w-3 h-3 mr-1 ${a.isPositive?"":"rotate-180"}`}),a.isPositive?"+":"",a.value,"% from last period"]})]})]})}function sL(e){const{user:t}=_t(),[r,n]=b.useState({totalJobs:0,activeJobs:0,completedJobs:0,totalEarnings:0,monthlyEarnings:0,pendingPayments:0,rating:0,totalReviews:0}),[a,i]=b.useState([]),[o,l]=b.useState([]),[c,u]=b.useState(!0),[d,f]=b.useState(null);b.useEffect(()=>{t&&h()},[t,e]);const h=async()=>{try{u(!0),f(null),e==="client"?await m():e==="landscaper"?await g():e==="admin"&&await p()}catch(x){console.error("Error fetching dashboard data:",x),f("Failed to load dashboard data")}finally{u(!1)}},m=async()=>{if(!t)return;const{data:x}=await R.from("clients").select("id").eq("user_id",t.id).single();if(!x)return;const{data:y}=await R.from("jobs").select(`
        id, service_name, service_type, service_address, status, created_at, preferred_date, price
      `).eq("client_id",x.id).order("created_at",{ascending:!1}).limit(10);if(y){const w=y.length,N=y.filter(j=>["pending","quoted","accepted","in_progress"].includes(j.status)).length,S=y.filter(j=>j.status==="completed").length;n(j=>({...j,totalJobs:w,activeJobs:N,completedJobs:S})),i(y.map(j=>({id:j.id,service_name:j.service_name,service_type:j.service_type,status:j.status,created_at:j.created_at,preferred_date:j.preferred_date,service_address:j.service_address,price:j.price})))}},g=async()=>{if(!t)return;const{data:x}=await R.from("landscapers").select("id, rating, total_reviews").eq("user_id",t.id).single();if(!x)return;const{data:y}=await R.from("jobs").select(`
        id, service_name, service_type, service_address, status, created_at, preferred_date, price, customer_name
      `).eq("landscaper_id",x.id).order("created_at",{ascending:!1}).limit(10),{data:w}=await R.from("payments").select("amount, status, created_at").eq("landscaper_id",x.id);if(y){const N=y.length,S=y.filter(_=>["accepted","in_progress"].includes(_.status)).length,j=y.filter(_=>_.status==="completed").length;i(y.map(_=>({id:_.id,service_name:_.service_name,service_type:_.service_type,status:_.status,created_at:_.created_at,preferred_date:_.preferred_date,service_address:_.service_address,customer_name:_.customer_name,price:_.price}))),n(_=>({..._,totalJobs:N,activeJobs:S,completedJobs:j,rating:x.rating||0,totalReviews:x.total_reviews||0}))}if(w){const N=w.filter(E=>E.status==="completed").reduce((E,P)=>E+(P.amount||0),0),S=new Date().getMonth(),j=w.filter(E=>E.status==="completed"&&new Date(E.created_at).getMonth()===S).reduce((E,P)=>E+(P.amount||0),0),_=w.filter(E=>E.status==="pending").reduce((E,P)=>E+(P.amount||0),0);n(E=>({...E,totalEarnings:N,monthlyEarnings:j,pendingPayments:_}))}},p=async()=>{const[{data:x},{data:y},{data:w}]=await Promise.all([R.from("jobs").select("id, status, created_at"),R.from("payments").select("amount, status, created_at"),R.from("landscapers").select("id, is_approved")]);if(x){const N=x.length,S=x.filter(_=>["pending","quoted","accepted","in_progress"].includes(_.status)).length,j=x.filter(_=>_.status==="completed").length;n(_=>({..._,totalJobs:N,activeJobs:S,completedJobs:j}))}if(y){const N=y.filter(S=>S.status==="completed").reduce((S,j)=>S+(j.amount||0),0);n(S=>({...S,totalEarnings:N}))}};return{stats:r,recentJobs:a,notifications:o,loading:c,error:d,refreshData:()=>{h()}}}function sSe(){const{user:e}=_t(),{stats:t,loading:r,error:n}=sL("client");return r?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:Array.from({length:4},(a,i)=>s.jsxs("div",{className:"bg-black/60 backdrop-blur rounded-2xl p-6 animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-700 rounded mb-2"}),s.jsx("div",{className:"h-8 bg-gray-700 rounded mb-1"}),s.jsx("div",{className:"h-3 bg-gray-700 rounded w-3/4"})]},i))}):n?s.jsx("div",{className:"bg-red-900/20 border border-red-500/25 rounded-2xl p-6",children:s.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[s.jsx(bt,{className:"w-5 h-5"}),s.jsx("span",{children:"Failed to load dashboard stats"})]})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[s.jsx(ti,{title:"Total Requests",value:t.totalJobs,subtitle:"All service requests",icon:s.jsx(ar,{className:"w-5 h-5"}),variant:"blue"}),s.jsx(ti,{title:"Active Jobs",value:t.activeJobs,subtitle:"In progress or pending",icon:s.jsx(it,{className:"w-5 h-5"}),variant:"yellow",trend:{value:t.activeJobs>0?15:0,isPositive:!0}}),s.jsx(ti,{title:"Completed",value:t.completedJobs,subtitle:"Successfully finished",icon:s.jsx(ba,{className:"w-5 h-5"}),variant:"green",trend:{value:t.completedJobs>0?8:0,isPositive:!0}}),s.jsx(ti,{title:"Total Spent",value:`$${t.totalEarnings.toFixed(2)}`,subtitle:"Lifetime spending",icon:s.jsx(jt,{className:"w-5 h-5"}),variant:"default"})]})}function oA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(r),!0).forEach(function(n){aL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xm(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xm=function(t){return typeof t}:xm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function aL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iL(e,t){return aSe(e)||iSe(e,t)||oSe(e,t)||lSe()}function aSe(e){if(Array.isArray(e))return e}function iSe(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var n=[],a=!0,i=!1,o,l;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw l}}return n}}function oSe(e,t){if(e){if(typeof e=="string")return cA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cA(e,t)}}function cA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Kr=function(t,r,n){var a=!!n,i=k.useRef(n);k.useEffect(function(){i.current=n},[n]),k.useEffect(function(){if(!a||!t)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return t.on(r,o),function(){t.off(r,o)}},[a,r,t,i])},qw=function(t){var r=k.useRef(t);return k.useEffect(function(){r.current=t},[t]),r.current},Lc=function(t){return t!==null&&xm(t)==="object"},cSe=function(t){return Lc(t)&&typeof t.then=="function"},uSe=function(t){return Lc(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},uA="[object Object]",dSe=function e(t,r){if(!Lc(t)||!Lc(r))return t===r;var n=Array.isArray(t),a=Array.isArray(r);if(n!==a)return!1;var i=Object.prototype.toString.call(t)===uA,o=Object.prototype.toString.call(r)===uA;if(i!==o)return!1;if(!i&&!n)return t===r;var l=Object.keys(t),c=Object.keys(r);if(l.length!==c.length)return!1;for(var u={},d=0;d<l.length;d+=1)u[l[d]]=!0;for(var f=0;f<c.length;f+=1)u[c[f]]=!0;var h=Object.keys(u);if(h.length!==l.length)return!1;var m=t,g=r,p=function(x){return e(m[x],g[x])};return h.every(p)},oL=function(t,r,n){return Lc(t)?Object.keys(t).reduce(function(a,i){var o=!Lc(r)||!dSe(t[i],r[i]);return n.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):o?lA(lA({},a||{}),{},aL({},i,t[i])):a},null):null},lL="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",dA=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lL;if(t===null||uSe(t))return t;throw new Error(r)},fSe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lL;if(cSe(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(a){return dA(a,r)})};var n=dA(t,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},hSe=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),t.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},Zv=k.createContext(null);Zv.displayName="ElementsContext";var cL=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},uL=function(t){var r=t.stripe,n=t.options,a=t.children,i=k.useMemo(function(){return fSe(r)},[r]),o=k.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),l=iL(o,2),c=l[0],u=l[1];k.useEffect(function(){var h=!0,m=function(p){u(function(v){return v.stripe?v:{stripe:p,elements:p.elements(n)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(g){g&&h&&m(g)}):i.tag==="sync"&&!c.stripe&&m(i.stripe),function(){h=!1}},[i,c,n]);var d=qw(r);k.useEffect(function(){d!==null&&d!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,r]);var f=qw(n);return k.useEffect(function(){if(c.elements){var h=oL(n,f,["clientSecret","fonts"]);h&&c.elements.update(h)}},[n,f,c.elements]),k.useEffect(function(){hSe(c.stripe)},[c.stripe]),k.createElement(Zv.Provider,{value:c},a)};uL.propTypes={stripe:pe.any,options:pe.object};var mSe=function(t){var r=k.useContext(Zv);return cL(r,t)},pSe=function(){var t=mSe("calls useElements()"),r=t.elements;return r};pe.func.isRequired;var dL=k.createContext(null);dL.displayName="CustomCheckoutSdkContext";var gSe=function(t,r){if(!t)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CustomCheckoutProvider> provider."));return t},vSe=k.createContext(null);vSe.displayName="CustomCheckoutContext";pe.any,pe.shape({clientSecret:pe.string.isRequired,elementsOptions:pe.object}).isRequired;var Hw=function(t){var r=k.useContext(dL),n=k.useContext(Zv);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CustomCheckoutProvider> and <Elements> providers."));return r?gSe(r,t):cL(n,t)},xSe=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Bt=function(t,r){var n="".concat(xSe(t),"Element"),a=function(c){var u=c.id,d=c.className,f=c.options,h=f===void 0?{}:f,m=c.onBlur,g=c.onFocus,p=c.onReady,v=c.onChange,x=c.onEscape,y=c.onClick,w=c.onLoadError,N=c.onLoaderStart,S=c.onNetworksChange,j=c.onConfirm,_=c.onCancel,E=c.onShippingAddressChange,P=c.onShippingRateChange,C=Hw("mounts <".concat(n,">")),T="elements"in C?C.elements:null,O="customCheckoutSdk"in C?C.customCheckoutSdk:null,F=k.useState(null),V=iL(F,2),B=V[0],U=V[1],$=k.useRef(null),A=k.useRef(null);Kr(B,"blur",m),Kr(B,"focus",g),Kr(B,"escape",x),Kr(B,"click",y),Kr(B,"loaderror",w),Kr(B,"loaderstart",N),Kr(B,"networkschange",S),Kr(B,"confirm",j),Kr(B,"cancel",_),Kr(B,"shippingaddresschange",E),Kr(B,"shippingratechange",P),Kr(B,"change",v);var M;p&&(t==="expressCheckout"?M=p:M=function(){p(B)}),Kr(B,"ready",M),k.useLayoutEffect(function(){if($.current===null&&A.current!==null&&(T||O)){var Y=null;O?Y=O.createElement(t,h):T&&(Y=T.create(t,h)),$.current=Y,U(Y),Y&&Y.mount(A.current)}},[T,O,h]);var q=qw(h);return k.useEffect(function(){if($.current){var Y=oL(h,q,["paymentRequest"]);Y&&"update"in $.current&&$.current.update(Y)}},[h,q]),k.useLayoutEffect(function(){return function(){if($.current&&typeof $.current.destroy=="function")try{$.current.destroy(),$.current=null}catch{}}},[]),k.createElement("div",{id:u,className:d,ref:A})},i=function(c){Hw("mounts <".concat(n,">"));var u=c.id,d=c.className;return k.createElement("div",{id:u,className:d})},o=r?i:a;return o.propTypes={id:pe.string,className:pe.string,onChange:pe.func,onBlur:pe.func,onFocus:pe.func,onReady:pe.func,onEscape:pe.func,onClick:pe.func,onLoadError:pe.func,onLoaderStart:pe.func,onNetworksChange:pe.func,onConfirm:pe.func,onCancel:pe.func,onShippingAddressChange:pe.func,onShippingRateChange:pe.func,options:pe.object},o.displayName=n,o.__elementType=t,o},Ut=typeof window>"u",ySe=k.createContext(null);ySe.displayName="EmbeddedCheckoutProviderContext";var bSe=function(){var t=Hw("calls useStripe()"),r=t.stripe;return r};Bt("auBankAccount",Ut);var fA=Bt("card",Ut);Bt("cardNumber",Ut);Bt("cardExpiry",Ut);Bt("cardCvc",Ut);Bt("fpxBank",Ut);Bt("iban",Ut);Bt("idealBank",Ut);Bt("p24Bank",Ut);Bt("epsBank",Ut);Bt("payment",Ut);Bt("expressCheckout",Ut);Bt("currencySelector",Ut);Bt("paymentRequestButton",Ut);Bt("linkAuthentication",Ut);Bt("address",Ut);Bt("shippingAddress",Ut);Bt("paymentMethodMessaging",Ut);Bt("affirmMessage",Ut);Bt("afterpayClearpayMessage",Ut);var fL="https://js.stripe.com/v3",wSe=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var jSe=function(){for(var t=document.querySelectorAll('script[src^="'.concat(fL,'"]')),r=0;r<t.length;r++){var n=t[r];if(wSe.test(n.src))return n}return null},hA=function(t){var r="",n=document.createElement("script");n.src="".concat(fL).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},SSe=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"4.6.0",startTime:r})},Lu=null,Uh=null,Vh=null,NSe=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},_Se=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},ESe=function(t){return Lu!==null?Lu:(Lu=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var a=jSe();if(!(a&&t)){if(!a)a=hA(t);else if(a&&Vh!==null&&Uh!==null){var i;a.removeEventListener("load",Vh),a.removeEventListener("error",Uh),(i=a.parentNode)===null||i===void 0||i.removeChild(a),a=hA(t)}}Vh=_Se(r,n),Uh=NSe(n),a.addEventListener("load",Vh),a.addEventListener("error",Uh)}catch(o){n(o);return}}),Lu.catch(function(r){return Lu=null,Promise.reject(r)}))},PSe=function(t,r,n){if(t===null)return null;var a=t.apply(void 0,r);return SSe(a,n),a},Fu,hL=!1,mL=function(){return Fu||(Fu=ESe(null).catch(function(t){return Fu=null,Promise.reject(t)}),Fu)};Promise.resolve().then(function(){return mL()}).catch(function(e){hL||console.warn(e)});var pL=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];hL=!0;var a=Date.now();return mL().then(function(i){return PSe(i,r,a)})};const kSe=Object.freeze(Object.defineProperty({__proto__:null,loadStripe:pL},Symbol.toStringTag,{value:"Module"}));console.log("Supabase URL loaded:",void 0);console.log("Stripe key present:",!1);Ke.debug("Stripe environment check",{NODE_ENV:void 0,hasStripeKey:!1},"StripeConfig");const Kw="pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK";if(!Kw.startsWith("pk_")){const e=`CRITICAL: Invalid Stripe key format. Expected pk_live_ or pk_test_, got: ${Kw.substring(0,10)}...`;throw Ke.error(e,null,"StripeConfig"),new Error(e)}const CSe=async()=>{try{return await pL(Kw)}catch(e){throw Ke.error("Failed to load Stripe.js",e,"StripeConfig"),new Error("Failed to load Stripe.js")}},ASe=CSe(),OSe={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},TSe=({onSuccess:e,onCancel:t})=>{const r=bSe(),n=pSe(),[a,i]=b.useState(!1),[o,l]=b.useState(null),{user:c}=_t(),{toast:u}=$n(),d=async f=>{if(f.preventDefault(),!r||!n||!c)return;i(!0),l(null);const h=n.getElement(fA);if(!h){l("Card element not found"),i(!1);return}try{const{data:m}=await R.from("profiles").select("stripe_customer_id, email, first_name, last_name").eq("id",c.id).single();let g=m==null?void 0:m.stripe_customer_id;if(!g){const{data:y,error:w}=await R.functions.invoke("create-stripe-customer",{body:{userId:c.id,email:(m==null?void 0:m.email)||c.email,name:`${(m==null?void 0:m.first_name)||""} ${(m==null?void 0:m.last_name)||""}`.trim()}});if(w||!(y!=null&&y.success))throw new Error("Failed to create customer account");g=y.stripe_customer_id}const{error:p,paymentMethod:v}=await r.createPaymentMethod({type:"card",card:h,billing_details:{email:(m==null?void 0:m.email)||c.email,name:`${(m==null?void 0:m.first_name)||""} ${(m==null?void 0:m.last_name)||""}`.trim()}});if(p)throw new Error(p.message);const{error:x}=await R.functions.invoke("attach-payment-method",{body:{paymentMethodId:v.id,customerId:g}});if(x)throw new Error("Failed to save payment method");u({title:"Payment method added",description:"Your payment method has been saved successfully."}),e()}catch(m){l(m.message||"Failed to add payment method")}finally{i(!1)}};return s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsx(fA,{options:OSe})}),o&&s.jsxs(ze,{variant:"destructive",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsx(We,{children:o})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(L,{type:"submit",disabled:!r||a,className:"flex-1",children:a?"Adding...":"Add Payment Method"}),s.jsx(L,{type:"button",variant:"outline",onClick:t,children:"Cancel"})]})]})},RSe=({onClose:e})=>{const[t,r]=b.useState([]),[n,a]=b.useState(!0),[i,o]=b.useState(!1),{user:l}=_t(),{toast:c}=$n();b.useEffect(()=>{l&&u()},[l]);const u=async()=>{try{const{data:f}=await R.from("profiles").select("stripe_customer_id").eq("id",l==null?void 0:l.id).single();if(f!=null&&f.stripe_customer_id){const{data:h,error:m}=await R.functions.invoke("get-payment-methods",{body:{customerId:f.stripe_customer_id}});!m&&(h!=null&&h.paymentMethods)&&r(h.paymentMethods)}}catch(f){console.error("Failed to fetch payment methods:",f)}finally{a(!1)}},d=async f=>{try{const{error:h}=await R.functions.invoke("delete-payment-method",{body:{paymentMethodId:f}});if(h)throw new Error("Failed to delete payment method");c({title:"Payment method removed",description:"Your payment method has been deleted."}),u()}catch(h){c({title:"Error",description:h.message,variant:"destructive"})}};return s.jsxs(I,{className:"w-full max-w-2xl mx-auto",children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(ot,{className:"h-5 w-5"}),"Payment Methods"]})}),s.jsx(D,{children:n?s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-16 bg-gray-200 rounded"}),s.jsx("div",{className:"h-16 bg-gray-200 rounded"})]}):s.jsxs("div",{className:"space-y-4",children:[t.length===0&&!i&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ot,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No payment methods added yet"}),s.jsx(L,{onClick:()=>o(!0),children:"Add Your First Payment Method"})]}),t.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ot,{className:"h-5 w-5"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["•••• •••• •••• ",f.card.last4]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[f.card.brand.toUpperCase()," • Expires ",f.card.exp_month,"/",f.card.exp_year]})]}),f.default&&s.jsx(Oe,{className:"h-4 w-4 text-green-500"})]}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>d(f.id),children:"Remove"})]},f.id)),i?s.jsx(uL,{stripe:ASe,children:s.jsx(TSe,{onSuccess:()=>{o(!1),u()},onCancel:()=>o(!1)})}):t.length>0&&s.jsx(L,{onClick:()=>o(!0),className:"w-full",children:"Add Another Payment Method"})]})})]})},gL=({isOpen:e,onClose:t,onSuccess:r})=>{const{toast:n}=$n(),a=()=>{n({title:"Payment method updated",description:"Your payment information has been saved successfully."}),r==null||r(),t()};return s.jsx(Ko,{open:e,onOpenChange:t,children:s.jsxs(Ai,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Oi,{children:s.jsxs(Ti,{className:"flex items-center gap-2",children:[s.jsx(ot,{className:"h-5 w-5"}),"Manage Payment Methods"]})}),s.jsx(RSe,{onClose:a})]})})},vL=()=>{var d;const[e,t]=b.useState(!1),[r,n]=b.useState(null),[a,i]=b.useState(!0),[o,l]=b.useState(null),{user:c}=_t();b.useEffect(()=>{c!=null&&c.id&&u()},[c==null?void 0:c.id]);const u=async()=>{try{i(!0),l(null);const{data:f,error:h}=await R.from("profiles").select("stripe_customer_id, email, first_name, last_name").eq("id",c==null?void 0:c.id).single();if(h)throw console.error("Profile fetch failed:",h),new Error("Failed to load user profile");let m=f==null?void 0:f.stripe_customer_id;if(!m){console.log("Creating Stripe customer for user:",c==null?void 0:c.id);const g={userId:c==null?void 0:c.id,email:(f==null?void 0:f.email)||(c==null?void 0:c.email),name:f!=null&&f.first_name&&(f!=null&&f.last_name)?`${f.first_name} ${f.last_name}`:(f==null?void 0:f.first_name)||(f==null?void 0:f.last_name)||"",firstName:(f==null?void 0:f.first_name)||"",lastName:(f==null?void 0:f.last_name)||""},{data:p,error:v}=await R.functions.invoke("create-stripe-customer",{body:g});if(v||!(p!=null&&p.success)){console.error("Failed to create Stripe customer:",v),n({totalSpent:0,nextPayment:0,paymentMethod:"Payment system ready"}),l(null),i(!1);return}m=p.stripe_customer_id}n({totalSpent:0,nextPayment:0,paymentMethod:"Ready for payments"})}catch(f){console.error("Payment summary error:",f),n({totalSpent:0,nextPayment:0,paymentMethod:"Payment system ready"}),l(null)}finally{i(!1)}};return a?s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex flex-row items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-white",children:"Payment Summary"}),s.jsx(jt,{className:"h-5 w-5 text-emerald-400"})]}),s.jsxs("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-8 bg-emerald-500/10 rounded"}),s.jsx("div",{className:"h-4 bg-emerald-500/10 rounded w-2/3"}),s.jsx("div",{className:"h-9 bg-emerald-500/10 rounded"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-row items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-white",children:"Payment Summary"}),s.jsx(jt,{className:"h-5 w-5 text-emerald-400"})]}),s.jsxs("div",{className:"text-3xl font-bold text-white mb-2",children:["$",((d=r==null?void 0:r.totalSpent)==null?void 0:d.toFixed(2))||"0.00"]}),s.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Total spent this year"}),s.jsxs("button",{onClick:()=>t(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-black font-medium shadow-lg shadow-emerald-500/25 hover:shadow-emerald-400/40 transition-all duration-200",children:[s.jsx(ot,{className:"h-4 w-4"}),"Manage Payment"]})]}),e&&s.jsx(gL,{isOpen:e,onClose:()=>t(!1)})]})},xL=()=>{const{user:e}=_t(),[t,r]=b.useState({percentage:0,items:[],completedCount:0,totalCount:5}),[n,a]=b.useState(!0),i=async()=>{var l;if(!e){r({percentage:0,items:[],completedCount:0,totalCount:5}),a(!1);return}try{a(!0);const{data:c}=await R.from("profiles").select("id, first_name, last_name, email, phone, address, stripe_customer_id").eq("id",e.id).single();let u=!1;if(c!=null&&c.stripe_customer_id)try{const{data:m}=await R.functions.invoke("list-payment-methods",{body:{customerId:c.stripe_customer_id}});u=(m==null?void 0:m.success)&&((l=m==null?void 0:m.payment_methods)==null?void 0:l.length)>0}catch(m){console.log("Could not check payment methods:",m),u=!1}const d=[{id:"email_verified",label:"Verified email",completed:!!e.email_confirmed_at},{id:"full_name",label:"First + Last name",completed:!!(c!=null&&c.first_name&&(c!=null&&c.last_name)),action:"edit_profile"},{id:"phone_number",label:"Phone number",completed:!!(c!=null&&c.phone),action:"edit_profile"},{id:"service_address",label:"Default service address",completed:!!(c!=null&&c.address),action:"add_address"},{id:"payment_method",label:"Saved payment method",completed:u,action:"add_payment"}],f=d.filter(m=>m.completed).length,h=Math.round(f/d.length*100);r({percentage:h,items:d,completedCount:f,totalCount:d.length})}catch(c){console.error("Error checking profile completion:",c),r({percentage:0,items:[],completedCount:0,totalCount:5})}finally{a(!1)}};return b.useEffect(()=>{i();const l=()=>{i()};return window.addEventListener("profileUpdated",l),()=>window.removeEventListener("profileUpdated",l)},[e]),{...t,loading:n,refresh:()=>{i()}}},yL=({onEditProfile:e,onAddAddress:t,onAddPayment:r})=>{const{percentage:n}=xL();return s.jsxs(I,{className:"bg-gray-900/50 border-gray-800",children:[s.jsx(z,{className:"pb-3",children:s.jsxs(W,{className:"text-sm text-white flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/20 flex items-center justify-center",children:s.jsx(cr,{className:"h-3 w-3 text-emerald-400"})}),"My Profile"]})}),s.jsxs(D,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500/20 flex items-center justify-center",children:s.jsx("span",{className:"text-emerald-400 font-medium text-sm",children:"C"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white font-medium",children:"Client"}),s.jsx("div",{className:"text-xs text-gray-400",children:"Premium Client"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-gray-400",children:"Profile Complete"}),s.jsxs("span",{className:"text-emerald-400 font-medium",children:[n,"%"]})]}),s.jsx(yo,{value:n,className:"h-2 bg-gray-800","aria-label":`Profile completion: ${n}%`})]}),s.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 text-xs",children:[s.jsx(Oe,{className:"h-3 w-3"}),"Account Verified"]})]})]})},ISe=e=>{if(!e.trim())return{isValid:!1,error:"Phone number is required"};const t=/^[\+]?[1-9][\d]{0,15}$/,r=e.replace(/[\s\-\(\)]/g,"");return t.test(r)?{isValid:!0}:{isValid:!1,error:"Please enter a valid phone number"}},bL=(e,t,r)=>{if(t.required&&(!e||!e.trim()))return{isValid:!1,error:`${r} is required`};if(!e&&!t.required)return{isValid:!0};if(t.minLength&&e.length<t.minLength)return{isValid:!1,error:`${r} must be at least ${t.minLength} characters`};if(t.maxLength&&e.length>t.maxLength)return{isValid:!1,error:`${r} must be no more than ${t.maxLength} characters`};if(t.pattern&&!t.pattern.test(e))return{isValid:!1,error:`${r} format is invalid`};if(t.custom){const n=t.custom(e);if(n)return{isValid:!1,error:n}}return{isValid:!0}},$Se=(e,t)=>{const r={};return Object.entries(t).forEach(([n,a])=>{const i=e[n]||"",o=bL(i,a,n);!o.isValid&&o.error&&(r[n]=o.error)}),r},zh=({name:e,label:t,type:r="text",value:n,onChange:a,onBlur:i,placeholder:o,required:l=!1,disabled:c=!1,validationRules:u,error:d,touched:f=!1,showValidation:h=!0,className:m})=>{const[g,p]=b.useState(""),[v,x]=b.useState(null);b.useEffect(()=>{if(h&&f&&n!==void 0){const E=bL(n,u||{required:l},t);p(E.error||""),x(E.isValid)}},[n,f,l,u,t,h]);const y=d||g,w=f&&y,N=f&&v&&!y&&n.length>0,S=_=>{a(_.target.value)},j=fe("transition-all duration-200",w&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",N&&"border-green-500 focus:border-green-500 focus:ring-green-500/20",!w&&!N&&"border-gray-300 dark:border-gray-600",m);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{htmlFor:e,className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[t,l&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r==="textarea"?s.jsx("textarea",{id:e,name:e,value:n,onChange:S,onBlur:i,placeholder:o,disabled:c,required:l,rows:4,className:fe("w-full px-3 py-2 text-sm bg-white dark:bg-gray-800 border rounded-full","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed","placeholder:text-gray-400 dark:placeholder:text-gray-500","text-gray-900 dark:text-gray-100",j)}):s.jsx(de,{id:e,name:e,type:r,value:n,onChange:S,onBlur:i,placeholder:o,disabled:c,required:l,className:j}),w&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsx("p",{className:"text-sm text-red-500",children:y})]}),N&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("p",{className:"text-sm text-green-500",children:"Valid"})]})]})},MSe=({initialValues:e,validationRules:t,onSubmit:r})=>{const[n,a]=b.useState(e),[i,o]=b.useState({}),[l,c]=b.useState({}),[u,d]=b.useState(!1),[f,h]=b.useState(null),m=b.useCallback(()=>{const S=$Se(n,t);return o(S),Object.keys(S).length===0},[n,t]),g=Object.keys(i).length===0&&Object.keys(l).length>0,p=b.useCallback((S,j)=>{a(_=>({..._,[S]:j})),f&&h(null)},[f]),v=b.useCallback((S,j=!0)=>{c(_=>({..._,[S]:j}))},[]),x=b.useCallback((S,j)=>{o(_=>({..._,[S]:j}))},[]),y=b.useCallback(()=>{o({}),h(null)},[]),w=b.useCallback(async S=>{S.preventDefault(),h(null);const j={};if(Object.keys(t).forEach(E=>{j[E]=!0}),c(j),!!m()){d(!0);try{await r(n)}catch(E){h(E.message||"An error occurred during submission")}finally{d(!1)}}},[n,t,m,r]),N=b.useCallback(()=>{a(e),o({}),c({}),d(!1),h(null)},[e]);return b.useEffect(()=>{Object.keys(l).length>0&&m()},[n,l,m]),{values:n,errors:i,touched:l,isSubmitting:u,isValid:g,submitError:f,setValue:p,setFieldTouched:v,setFieldError:x,clearErrors:y,handleSubmit:w,reset:N}},wL=({size:e="md",color:t="primary",className:r})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},a={primary:"text-emerald-500",white:"text-white",gray:"text-gray-400"};return s.jsx("div",{className:fe("inline-block animate-spin",n[e],a[t],r),children:s.jsxs("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},DSe=({loading:e,children:t,loadingText:r="Loading...",className:n})=>s.jsxs("div",{className:fe("flex items-center justify-center space-x-2",n),children:[e&&s.jsx(wL,{size:"sm",color:"white"}),s.jsx("span",{children:e?r:t})]});function LSe({initialData:e,onSave:t,onCancel:r}){const[n,a]=b.useState(!1),{values:i,errors:o,touched:l,isSubmitting:c,submitError:u,setValue:d,setFieldTouched:f,handleSubmit:h}=MSe({initialValues:{firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||"",address:e.address||""},validationRules:{firstName:{required:!0,minLength:2},lastName:{required:!0,minLength:2},phone:{required:!0,custom:m=>{const g=ISe(m);return g.isValid?null:g.error}},address:{required:!0,minLength:10}},onSubmit:async m=>{const{data:{user:g}}=await R.auth.getUser();if(!g)throw new Error("Not authenticated");const{error:p}=await R.from("profiles").update({first_name:m.firstName.trim(),last_name:m.lastName.trim(),phone:m.phone,address:m.address.trim()}).eq("id",g.id);if(p)throw p;a(!0),window.dispatchEvent(new CustomEvent("profileUpdated",{detail:m})),setTimeout(()=>{t(m)},1500)}});return s.jsx(I,{className:"bg-gray-900 border-gray-700",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cr,{className:"w-5 h-5 text-green-400"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Edit Profile"})]}),s.jsxs(L,{variant:"ghost",size:"sm",onClick:r,className:"text-gray-400 hover:text-white",children:[s.jsx(ps,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}),u&&s.jsxs("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/25 rounded-lg flex items-center gap-2",children:[s.jsx(bt,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-red-400",children:u})]}),n&&s.jsxs("div",{className:"mb-4 p-3 bg-green-500/10 border border-green-500/25 rounded-lg flex items-center gap-2",children:[s.jsx(Oe,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-green-400",children:"Profile updated successfully!"})]}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(zh,{name:"firstName",label:"First Name",value:i.firstName,onChange:m=>d("firstName",m),onBlur:()=>f("firstName"),placeholder:"Enter first name",required:!0,error:o.firstName,touched:l.firstName,className:"bg-gray-800 border-gray-700 text-white"}),s.jsx(zh,{name:"lastName",label:"Last Name",value:i.lastName,onChange:m=>d("lastName",m),onBlur:()=>f("lastName"),placeholder:"Enter last name",required:!0,error:o.lastName,touched:l.lastName,className:"bg-gray-800 border-gray-700 text-white"})]}),s.jsx(zh,{name:"phone",label:"Phone Number",type:"tel",value:i.phone,onChange:m=>d("phone",m),onBlur:()=>f("phone"),placeholder:"(555) 123-4567",required:!0,error:o.phone,touched:l.phone,className:"bg-gray-800 border-gray-700 text-white"}),s.jsx(zh,{name:"address",label:"Service Address",value:i.address,onChange:m=>d("address",m),onBlur:()=>f("address"),placeholder:"123 Main St, City, State 12345",required:!0,error:o.address,touched:l.address,className:"bg-gray-800 border-gray-700 text-white"}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(L,{type:"submit",disabled:c,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:s.jsxs(DSe,{loading:c,loadingText:"Saving...",children:[s.jsx(t1,{className:"w-4 h-4 mr-2"}),"Save Changes"]})}),s.jsx(L,{type:"button",variant:"secondary",onClick:r,disabled:c,className:"bg-gray-700 hover:bg-gray-600 text-white",children:"Cancel"})]})]})]})})}const FSe=()=>{const[e,t]=b.useState(!1),[r,n]=b.useState("default"),[a,i]=b.useState(null),[o,l]=b.useState({systemFailures:!0,highFailureRates:!0,channelDowntime:!0,performanceAlerts:!1,testNotifications:!0}),[c,u]=b.useState(!1);b.useEffect(()=>{t("serviceWorker"in navigator&&"PushManager"in window),"Notification"in window&&n(Notification.permission);const v=localStorage.getItem("notification-preferences");if(v)try{l(JSON.parse(v))}catch(x){console.error("Failed to parse notification preferences:",x)}d()},[]);const d=async()=>{if(e)try{const x=await(await navigator.serviceWorker.ready).pushManager.getSubscription();i(x)}catch(v){console.error("Failed to check existing subscription:",v)}},f=b.useCallback(async()=>{if(!e)throw new Error("Push notifications are not supported");const v=await Notification.requestPermission();return n(v),v},[e]),h=b.useCallback(async()=>{if(!e)throw new Error("Push notifications are not supported");u(!0);try{if(await f()!=="granted")throw new Error("Notification permission denied");const w=await(await navigator.serviceWorker.ready).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"BEl62iUYgUivxIkv69yViEuiBIa40HI0DLLuxazjqAKUrjqHrtfVJbNBhqoYVpZwMgLxqSGVaIaOfbrSgMaZHzs"});i(w);const N={endpoint:w.endpoint,keys:{p256dh:btoa(String.fromCharCode(...new Uint8Array(w.getKey("p256dh")))),auth:btoa(String.fromCharCode(...new Uint8Array(w.getKey("auth"))))}},{data:{user:S}}=await R.auth.getUser();return S&&(N.userId=S.id),await R.from("push_subscriptions").upsert({user_id:S==null?void 0:S.id,endpoint:N.endpoint,p256dh_key:N.keys.p256dh,auth_key:N.keys.auth,preferences:o}),w}catch(v){throw console.error("Failed to subscribe to push notifications:",v),v}finally{u(!1)}},[e,f,o]),m=b.useCallback(async()=>{if(a){u(!0);try{await a.unsubscribe(),i(null);const{data:{user:v}}=await R.auth.getUser();v&&await R.from("push_subscriptions").delete().eq("user_id",v.id)}catch(v){throw console.error("Failed to unsubscribe:",v),v}finally{u(!1)}}},[a]),g=b.useCallback(async v=>{if(l(v),localStorage.setItem("notification-preferences",JSON.stringify(v)),a){const{data:{user:x}}=await R.auth.getUser();x&&await R.from("push_subscriptions").update({preferences:v}).eq("user_id",x.id)}},[a]),p=b.useCallback(async()=>{if(!a)throw new Error("No active subscription");try{await R.functions.invoke("send-notification",{body:{type:"test",title:"Test Notification",body:"This is a test notification from the dashboard",priority:"normal",alertType:"test"}})}catch(v){throw console.error("Failed to send test notification:",v),v}},[a]);return{isSupported:e,permission:r,subscription:a,preferences:o,isLoading:c,requestPermission:f,subscribe:h,unsubscribe:m,updatePreferences:g,sendTestNotification:p,isSubscribed:!!a}},jL=()=>{const{isSupported:e,permission:t,preferences:r,isLoading:n,requestPermission:a,subscribe:i,unsubscribe:o,updatePreferences:l,sendTestNotification:c,isSubscribed:u}=FSe(),{toast:d}=$n(),f=async()=>{try{const x=await a();d(x==="granted"?{title:"Permission Granted",description:"You can now receive push notifications."}:{title:"Permission Denied",description:"Push notifications are disabled.",variant:"destructive"})}catch{d({title:"Error",description:"Failed to request notification permission.",variant:"destructive"})}},h=async()=>{try{await i(),d({title:"Subscribed",description:"You will now receive push notifications."})}catch{d({title:"Subscription Failed",description:"Failed to enable push notifications.",variant:"destructive"})}},m=async()=>{try{await o(),d({title:"Unsubscribed",description:"Push notifications have been disabled."})}catch{d({title:"Error",description:"Failed to disable push notifications.",variant:"destructive"})}},g=(x,y)=>{const w={...r,[x]:y};l(w)},p=async()=>{try{await c(),d({title:"Test Sent",description:"Check your notifications for the test alert."})}catch{d({title:"Test Failed",description:"Failed to send test notification.",variant:"destructive"})}},v=()=>{switch(t){case"granted":return s.jsxs(J,{variant:"default",className:"bg-green-500",children:[s.jsx(Sn,{className:"w-3 h-3 mr-1"}),"Granted"]});case"denied":return s.jsxs(J,{variant:"destructive",children:[s.jsx(Tx,{className:"w-3 h-3 mr-1"}),"Denied"]});default:return s.jsxs(J,{variant:"secondary",children:[s.jsx(Ct,{className:"w-3 h-3 mr-1"}),"Not Set"]})}};return e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsxs(W,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"w-5 h-5"}),"Push Notifications"]}),v()]}),s.jsx(Be,{children:"Configure browser push notifications for critical alerts when you're not viewing the dashboard."})]}),s.jsxs(D,{className:"space-y-4",children:[t==="default"&&s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Enable push notifications to receive critical alerts even when the dashboard is not open."}),s.jsxs(L,{onClick:f,disabled:n,children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Enable Notifications"]})]}),t==="denied"&&s.jsx("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:s.jsx("p",{className:"text-sm text-red-800",children:"Push notifications are blocked. Please enable them in your browser settings to receive alerts."})}),t==="granted"&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-800",children:u?"Active Subscription":"Ready to Subscribe"}),s.jsx("p",{className:"text-sm text-green-600",children:u?"You will receive push notifications for selected alert types.":"Click subscribe to start receiving notifications."})]}),s.jsx("div",{className:"flex gap-2",children:u?s.jsxs(s.Fragment,{children:[s.jsxs(L,{variant:"outline",onClick:p,disabled:n,children:[s.jsx(D0,{className:"w-4 h-4 mr-2"}),"Test"]}),s.jsxs(L,{variant:"destructive",onClick:m,disabled:n,children:[s.jsx(Tx,{className:"w-4 h-4 mr-2"}),"Unsubscribe"]})]}):s.jsxs(L,{onClick:h,disabled:n,children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Subscribe"]})})]})})]})]}),u&&s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(Ct,{className:"w-5 h-5"}),"Alert Preferences"]}),s.jsx(Be,{children:"Choose which types of alerts you want to receive as push notifications."})]}),s.jsx(D,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ct,{className:"w-5 h-5 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"System Failures"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Critical system errors and outages"})]})]}),s.jsx(Ya,{checked:r.systemFailures,onCheckedChange:x=>g("systemFailures",x)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(j4,{className:"w-5 h-5 text-orange-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"High Failure Rates"}),s.jsx("p",{className:"text-sm text-gray-600",children:"When delivery success rates drop significantly"})]})]}),s.jsx(Ya,{checked:r.highFailureRates,onCheckedChange:x=>g("highFailureRates",x)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Rg,{className:"w-5 h-5 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Channel Downtime"}),s.jsx("p",{className:"text-sm text-gray-600",children:"When notification channels go offline"})]})]}),s.jsx(Ya,{checked:r.channelDowntime,onCheckedChange:x=>g("channelDowntime",x)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gi,{className:"w-5 h-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Performance Alerts"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Slow response times and performance issues"})]})]}),s.jsx(Ya,{checked:r.performanceAlerts,onCheckedChange:x=>g("performanceAlerts",x)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(D0,{className:"w-5 h-5 text-purple-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Test Notifications"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Allow manual test notifications"})]})]}),s.jsx(Ya,{checked:r.testNotifications,onCheckedChange:x=>g("testNotifications",x)})]})]})})]})]}):s.jsx(I,{children:s.jsxs(z,{children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(Tx,{className:"w-5 h-5"}),"Push Notifications"]}),s.jsx(Be,{children:"Push notifications are not supported in this browser."})]})})};class BSe{static async sendPayoutNotification(t){try{const{error:r}=await R.functions.invoke("send-payout-notification",{body:t});if(r)throw console.error("Failed to send payout notification:",r),r;return{success:!0}}catch(r){return console.error("Error in notification service:",r),{success:!1,error:r}}}static async sendPayoutSuccessNotification(t,r,n,a,i){return this.sendPayoutNotification({userId:t,email:r,type:"payout_success",title:"Payout Completed Successfully",message:`Your payout of $${n} has been processed and sent to your account.`,data:{payout_id:a,amount:n,stripe_transfer_id:i}})}static async sendPayoutFailedNotification(t,r,n,a,i){return this.sendPayoutNotification({userId:t,email:r,type:"payout_failed",title:"Payout Failed",message:`Your payout of $${n} could not be processed. Please check your payment details.`,data:{payout_id:a,amount:n,error_message:i}})}static async sendPayoutProcessingNotification(t,r,n,a){return this.sendPayoutNotification({userId:t,email:r,type:"payout_processing",title:"Payout Being Processed",message:`Your payout of $${n} is currently being processed and will arrive in 1-2 business days.`,data:{payout_id:a,amount:n}})}static async sendPayoutRetryNotification(t,r,n,a,i,o){return this.sendPayoutNotification({userId:t,email:r,type:"payout_retry",title:"Payout Retry Scheduled",message:`Your payout of $${n} failed but will be retried automatically on ${new Date(o).toLocaleDateString()}.`,data:{payout_id:a,amount:n,retry_count:i,next_retry:o}})}static async sendAdminPayoutAlert(t,r,n,a,i,o){const l={failed:"Payout Failed - Admin Attention Required",retry_exhausted:"Payout Retries Exhausted - Manual Intervention Needed"},c={failed:`Payout to ${n} ($${a}) has failed and requires admin review.`,retry_exhausted:`Payout to ${n} ($${a}) has exhausted all retry attempts and needs manual processing.`};return this.sendPayoutNotification({userId:t,email:r,type:"payout_failed",title:l[i],message:c[i],data:{payout_id:o,amount:a,landscaper_name:n}})}static async getRecentNotifications(t,r=10){try{const{data:n,error:a}=await R.from("notifications").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(r);if(a)throw a;return{data:n,error:null}}catch(n){return{data:null,error:n}}}static async markNotificationAsRead(t){try{const{error:r}=await R.from("notifications").update({read:!0,updated_at:new Date().toISOString()}).eq("id",t);return{success:!r,error:r}}catch(r){return{success:!1,error:r}}}static async getUnreadCount(t){try{const{count:r,error:n}=await R.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",t).eq("read",!1);return{count:r||0,error:n}}catch(r){return{count:0,error:r}}}}function USe({profile:e,onProfileUpdate:t}){const{user:r}=_t(),[n,a]=b.useState(e),i=async o=>{a({...n,...o}),r&&await BSe.sendNotification({type:"profile_updated",userId:r.id,data:{name:o.firstName||"User"}}),t==null||t()};return s.jsxs(fn,{defaultValue:"profile",className:"w-full",children:[s.jsxs(zr,{className:"grid w-full grid-cols-3 bg-black/60 border border-green-500/25",children:[s.jsxs(he,{value:"profile",className:"flex items-center gap-2",children:[s.jsx(cr,{className:"w-4 h-4"}),"Profile"]}),s.jsxs(he,{value:"preferences",className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"w-4 h-4"}),"Notifications"]}),s.jsxs(he,{value:"settings",className:"flex items-center gap-2",children:[s.jsx(Ct,{className:"w-4 h-4"}),"Settings"]})]}),s.jsx(me,{value:"profile",className:"mt-6",children:s.jsxs(I,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl",children:[s.jsxs(z,{children:[s.jsxs(W,{className:"flex items-center gap-2 text-green-300",children:[s.jsx(cr,{className:"w-5 h-5"}),"Profile Information"]}),s.jsx(Be,{children:"Manage your personal information and service preferences"})]}),s.jsx(D,{children:s.jsx(LSe,{initialData:n,onSave:i,showCancel:!1})})]})}),s.jsx(me,{value:"preferences",className:"mt-6",children:s.jsx(jL,{})}),s.jsx(me,{value:"settings",className:"mt-6",children:s.jsxs(I,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl",children:[s.jsxs(z,{children:[s.jsxs(W,{className:"flex items-center gap-2 text-green-300",children:[s.jsx(Ct,{className:"w-5 h-5"}),"Account Settings"]}),s.jsx(Be,{children:"Manage your account preferences and security settings"})]}),s.jsx(D,{className:"space-y-4",children:s.jsxs("div",{className:"p-4 bg-green-500/10 rounded-lg border border-green-500/20",children:[s.jsx("h4",{className:"font-medium text-green-300 mb-2",children:"Email Notification System"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Automated emails are sent for profile updates, job assignments, completions, and appointment reminders."})]})})]})})]})}const SL=()=>{const e=$e(),{percentage:t,items:r,loading:n}=xL(),[a,i]=b.useState(!1),o=()=>i(!0),l=()=>i(!0),c=()=>e("/profile#payment"),u=h=>{switch(h){case"edit_profile":return o;case"add_address":return l;case"add_payment":return c;default:return()=>{}}},d=h=>{if(h.completed)return"Complete";switch(h.action){case"edit_profile":return h.id==="full_name"?"Add Name":"Add Phone";case"add_address":return"Add Address";case"add_payment":return"Add Payment Method";default:return"Complete"}},f=h=>{switch(h){case"full_name":return"Personalized service experience and faster booking";case"phone":return"Real-time updates and direct communication with your landscaper";case"address":return"Accurate service quotes and scheduling for your location";case"payment_method":return"Seamless checkout and priority booking access";default:return"Complete this step to enhance your service experience"}};return n?s.jsx(I,{className:"bg-gray-900/50 border-gray-800",children:s.jsx(D,{className:"p-4",children:s.jsxs("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-800 rounded w-3/4"}),s.jsx("div",{className:"h-2 bg-gray-800 rounded"})]})})}):s.jsxs(s.Fragment,{children:[s.jsxs(I,{className:"bg-gray-900/50 border-gray-800 transition-all duration-200 hover:bg-gray-900/70",children:[s.jsx(z,{className:"pb-3",children:s.jsxs(W,{className:"text-sm text-white flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/20 flex items-center justify-center",children:s.jsx(cr,{className:"h-3 w-3 text-emerald-400"})}),"Profile Status"]}),s.jsx("span",{className:"text-xs text-gray-400",children:"Getting Started"})]})}),s.jsxs(D,{className:"space-y-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Profile Completion"}),s.jsxs("span",{className:"text-sm text-white font-medium",children:[t,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-400 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${t}%`}})})]}),s.jsx("div",{className:"space-y-3",children:r.map(h=>s.jsxs("div",{className:"group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[h.completed?s.jsx(Oe,{className:"h-4 w-4 text-emerald-400"}):s.jsx(IU,{className:"h-4 w-4 text-gray-500 group-hover:text-gray-400 transition-colors"}),s.jsx("span",{className:`text-sm ${h.completed?"text-white":"text-gray-400"}`,children:h.label})]}),!h.completed&&h.action&&s.jsxs("button",{onClick:u(h.action),className:"text-emerald-400 hover:text-emerald-300 text-xs flex items-center gap-1 transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 rounded px-2 py-1","aria-label":`${d(h)} to improve your profile`,children:[s.jsx(ac,{className:"h-3 w-3"}),d(h)]})]}),!h.completed&&s.jsx("p",{className:"text-xs text-gray-500 ml-6 leading-relaxed",children:f(h.id)})]},h.id))}),s.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-br from-gray-800/50 to-gray-800/30 rounded-lg border border-gray-700/50",children:[s.jsxs("div",{className:"text-sm font-medium text-white mb-2 flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),"Why Complete Your Profile?"]}),s.jsxs("ul",{className:"text-xs text-gray-400 space-y-1.5 leading-relaxed",children:[s.jsxs("li",{children:["• ",s.jsx("span",{className:"text-emerald-400",children:"Faster"})," service booking and scheduling"]}),s.jsxs("li",{children:["• ",s.jsx("span",{className:"text-emerald-400",children:"Personalized"})," service recommendations"]}),s.jsxs("li",{children:["• ",s.jsx("span",{className:"text-emerald-400",children:"Priority"})," customer support access"]}),s.jsxs("li",{children:["• ",s.jsx("span",{className:"text-emerald-400",children:"Exclusive"})," member discounts and offers"]})]})]})]})]}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700 p-4 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Complete Your Profile"}),s.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-white transition-colors p-1 rounded focus:outline-none focus:ring-2 focus:ring-emerald-500/50","aria-label":"Close profile modal",children:"✕"})]}),s.jsx("div",{className:"p-4",children:s.jsx(USe,{profile:{firstName:"",lastName:"",phone:"",address:"",paymentMethod:!1},onProfileUpdate:()=>{i(!1)}})})]})})]})};function VSe({table:e,filter:t,select:r="*",orderBy:n,limit:a}){const[i,o]=b.useState([]),[l,c]=b.useState(!0),[u,d]=b.useState(null),f=b.useRef(null);b.useEffect(()=>(h(),m(),()=>{f.current&&R.removeChannel(f.current)}),[e,t==null?void 0:t.column,t==null?void 0:t.value]);const h=async()=>{try{c(!0),d(null);let v=R.from(e).select(r);t&&(v=v.eq(t.column,t.value)),n&&(v=v.order(n.column,{ascending:n.ascending??!0})),a&&(v=v.limit(a));const{data:x,error:y}=await v;if(y)throw y;o(x||[])}catch(v){console.error(`Error fetching data from ${e}:`,v),d(v instanceof Error?v.message:"Failed to fetch data")}finally{c(!1)}},m=()=>{const v=`realtime-${e}-${(t==null?void 0:t.column)||"all"}-${(t==null?void 0:t.value)||"all"}`;f.current=R.channel(v).on("postgres_changes",{event:"*",schema:"public",table:e,...t&&{filter:`${t.column}=eq.${t.value}`}},x=>{g(x)}).subscribe()},g=v=>{const{eventType:x,new:y,old:w}=v;o(N=>{switch(x){case"INSERT":return t&&y[t.column]!==t.value?N:[y,...N];case"UPDATE":return N.map(S=>S.id===y.id?y:S);case"DELETE":return N.filter(S=>S.id!==w.id);default:return N}})};return{data:i,loading:l,error:u,refetch:()=>{h()}}}function zSe(e,t){return VSe({table:"jobs",filter:{column:"client_id",value:e},select:`
      id, service_name, service_type, service_address, status, created_at, preferred_date, price
    `,orderBy:{column:"created_at",ascending:!1},limit:10})}function NL(){const{user:e}=_t(),{data:t,loading:r,error:n}=zSe((e==null?void 0:e.id)||""),a=o=>{switch(o){case"completed":return"bg-green-900/50 text-green-300 border-green-500/50";case"in_progress":return"bg-blue-900/50 text-blue-300 border-blue-500/50";case"accepted":return"bg-yellow-900/50 text-yellow-300 border-yellow-500/50";case"pending":return"bg-gray-900/50 text-gray-300 border-gray-500/50";default:return"bg-gray-900/50 text-gray-300 border-gray-500/50"}},i=o=>new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return r?s.jsxs(I,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl",children:[s.jsx(z,{children:s.jsxs(W,{className:"text-white flex items-center gap-2",children:[s.jsx(ar,{className:"w-5 h-5 text-green-400"}),"Recent Jobs"]})}),s.jsx(D,{children:s.jsx("div",{className:"space-y-3",children:Array.from({length:3},(o,l)=>s.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-700 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-700 rounded w-3/4"})]},l))})})]}):n||!t.length?s.jsxs(I,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl",children:[s.jsx(z,{children:s.jsxs(W,{className:"text-white flex items-center gap-2",children:[s.jsx(ar,{className:"w-5 h-5 text-green-400"}),"Recent Jobs"]})}),s.jsx(D,{children:s.jsx("div",{className:"text-center py-6",children:s.jsx("div",{className:"text-sm text-gray-400 mb-4",children:n?"Failed to load jobs":"No jobs found"})})})]}):s.jsxs(I,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl",children:[s.jsx(z,{children:s.jsxs(W,{className:"text-white flex items-center gap-2",children:[s.jsx(ar,{className:"w-5 h-5 text-green-400"}),"Recent Jobs"]})}),s.jsx(D,{children:s.jsx("div",{className:"space-y-3",children:t.slice(0,5).map(o=>s.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg border border-gray-700/50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium text-white truncate",children:o.service_name||o.service_type||"Service Request"}),s.jsx(J,{className:`text-xs ${a(o.status)}`,children:o.status.replace("_"," ")})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Bs,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:o.service_address||o.property_address||"N/A"})]}),o.price&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jt,{className:"w-3 h-3"}),s.jsxs("span",{children:["$",o.price]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(it,{className:"w-3 h-3"}),s.jsx("span",{children:i(o.created_at)})]})]})]},o.id))})})]})}const WSe=()=>{const{user:e}=_t(),[t,r]=b.useState([]),[n,a]=b.useState(!1),i=async()=>{if(e)try{const{data:c,error:u}=await R.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);if(u)throw u;r(c||[])}catch(c){console.error("Error fetching notifications:",c)}};b.useEffect(()=>{i()},[e]);const o=async c=>{try{const{error:u}=await R.from("notifications").update({read:!0}).eq("id",c);if(u)throw u;r(d=>d.map(f=>f.id===c?{...f,read:!0}:f))}catch(u){console.error("Error marking notification as read:",u)}};if(n)return s.jsxs(I,{className:"bg-gray-900/50 border-gray-800",children:[s.jsx(z,{className:"pb-3",children:s.jsxs(W,{className:"text-sm text-white flex items-center gap-2",children:[s.jsx(Sn,{className:"h-4 w-4"}),"Notifications"]})}),s.jsx(D,{className:"p-4",children:s.jsxs("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-800 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-800 rounded w-1/2"})]})})]});const l={id:"welcome",title:"Welcome to your dashboard!",message:"Your account has been successfully set up.",created_at:"9/1/2025"};return s.jsxs(I,{className:"bg-gray-900/50 border-gray-800",children:[s.jsx(z,{className:"pb-3",children:s.jsxs(W,{className:"text-sm text-white flex items-center gap-2",children:[s.jsx(Sn,{className:"h-4 w-4"}),"Notifications"]})}),s.jsx(D,{children:s.jsx("div",{className:"p-3 rounded-lg border border-emerald-500/25 bg-gray-800/50",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Oe,{className:"h-4 w-4 text-emerald-400 mt-0.5"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-white text-sm",children:l.title}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:l.message}),s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:l.created_at})]}),s.jsx("button",{className:"text-gray-400 hover:text-white h-6 w-6 p-0 ml-2",children:s.jsx(ps,{className:"h-3 w-3"})})]}),s.jsxs(v1,{variant:"ghost",size:"sm",className:"mt-2 text-xs h-auto py-1 px-2",onClick:()=>o(l.id),children:[s.jsx(qo,{className:"h-3 w-3 mr-1"}),"Mark as Read"]})]})]})})})]})},mA=()=>{const e=$e(),[t,r]=b.useState(!1),[n,a]=b.useState(!1),[i,o]=b.useState(!1),l=()=>{e("/get-quote-enhanced")},c=()=>{e("/client-dashboard/payments")};return s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-8",children:[s.jsx("div",{className:"w-full",children:s.jsx(sSe,{})}),s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"w-full",children:s.jsx(vL,{})}),s.jsx("div",{className:"w-full",children:s.jsx(yL,{onEditProfile:()=>r(!0),onAddAddress:()=>a(!0),onAddPayment:()=>o(!0)})}),s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl p-4 sm:p-6 w-full",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-4 sm:mb-6",children:"Quick Actions"}),s.jsxs("div",{className:"flex flex-col space-y-3 sm:space-y-4",children:[s.jsx("button",{onClick:l,className:"w-full px-4 sm:px-6 py-3 sm:py-4 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-black font-medium shadow-lg shadow-emerald-500/25 hover:shadow-emerald-400/40 transition-all duration-200 text-sm sm:text-base",children:"Request Service"}),s.jsx("button",{onClick:c,className:"w-full px-4 sm:px-6 py-3 sm:py-4 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-400 hover:to-blue-500 text-white font-medium shadow-lg shadow-blue-500/25 hover:shadow-blue-400/40 transition-all duration-200 text-sm sm:text-base",children:"Manage Payments"})]})]}),s.jsx("div",{className:"w-full",children:s.jsx(SL,{})})]})}),s.jsx("div",{className:"w-full",children:s.jsx(NL,{})}),s.jsx("div",{className:"w-full",children:s.jsx(WSe,{})})]})};function qSe({className:e,animated:t=!0,...r}){return s.jsx("div",{className:fe("rounded-md bg-muted/70",t&&"animate-pulse",e),...r})}const HSe=()=>{const e=$e(),{user:t}=_t(),[r,n]=b.useState({total:0,completed:0,active:0,totalSpent:0}),[a,i]=b.useState(!0),[o,l]=b.useState(null);b.useEffect(()=>{if(!t)return;(async()=>{try{i(!0),l(null);const{data:f,error:h}=await R.from("jobs").select("status, price").eq("client_id",t.id);if(h)throw h;const m=(f==null?void 0:f.length)||0,g=(f==null?void 0:f.filter(x=>x.status==="completed").length)||0,p=(f==null?void 0:f.filter(x=>x.status==="pending"||x.status==="scheduled").length)||0,v=(f==null?void 0:f.reduce((x,y)=>x+(parseFloat(y.price)||0),0))||0;n({total:m,completed:g,active:p,totalSpent:v})}catch(f){console.error("Error fetching job stats:",f),l("Failed to load job statistics")}finally{i(!1)}})()},[t]);const c=()=>{e("/instant-quote")},u=({value:d,label:f,isLoading:h})=>s.jsxs("div",{className:"text-center",children:[h?s.jsx(qSe,{className:"h-8 w-12 mx-auto mb-1 bg-gray-700"}):s.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:d}),s.jsx("div",{className:"text-sm text-gray-400",children:f})]});return s.jsxs(I,{className:"bg-gray-900/50 border-gray-800",children:[s.jsx(z,{className:"pb-3",children:s.jsx(W,{className:"text-lg text-white",children:"Jobs Overview"})}),s.jsxs(D,{className:"space-y-6",children:[o&&s.jsx("div",{className:"text-red-400 text-sm text-center py-2",children:o}),s.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[s.jsx(u,{value:r.total,label:"Total Jobs",isLoading:a}),s.jsx(u,{value:r.completed,label:"Completed",isLoading:a}),s.jsx(u,{value:r.active,label:"Active",isLoading:a}),s.jsx(u,{value:`$${r.totalSpent.toFixed(0)}`,label:"Total Spent",isLoading:a})]}),!a&&r.total===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:"No active jobs found."}),s.jsx(v1,{variant:"primary",size:"lg",label:"Request Your First Service",className:"w-full sm:w-auto bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white px-8 py-3 rounded-lg font-medium shadow-lg hover:shadow-emerald-500/25 transition-all duration-200 border-0",onClick:c})]})]})]})},KSe=()=>{const e=$e(),t=()=>{e("/get-quote-enhanced")},r=()=>{console.log("Schedule service clicked")},n=()=>{console.log("View service locations clicked")};return s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Job Requests"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Manage your service requests and track progress"})]}),s.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-black font-medium shadow-lg shadow-emerald-500/25 hover:shadow-emerald-400/40 transition-all duration-200",children:[s.jsx(ac,{className:"h-5 w-5"}),"New Request"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:t,className:"p-6 rounded-2xl bg-black/60 backdrop-blur border border-emerald-500/25 hover:border-emerald-400/40 transition-all duration-200 text-left group",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20 text-emerald-400 group-hover:bg-emerald-500/30",children:s.jsx(ac,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Request Service"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Get a quote for landscaping services"})]}),s.jsxs("button",{onClick:r,className:"p-6 rounded-2xl bg-black/60 backdrop-blur border border-emerald-500/25 hover:border-emerald-400/40 transition-all duration-200 text-left group",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20 text-emerald-400 group-hover:bg-emerald-500/30",children:s.jsx(ar,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Schedule Service"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Book recurring maintenance"})]}),s.jsxs("button",{onClick:n,className:"p-6 rounded-2xl bg-black/60 backdrop-blur border border-emerald-500/25 hover:border-emerald-400/40 transition-all duration-200 text-left group",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20 text-emerald-400 group-hover:bg-emerald-500/30",children:s.jsx(Bs,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Service Areas"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"View available service locations"})]})]}),s.jsx("div",{className:"w-full",children:s.jsx(HSe,{})}),s.jsx("div",{className:"w-full",children:s.jsx(NL,{})})]})},GSe=()=>{const[e,t]=b.useState({isValid:!1,message:"Checking..."}),[r,n]=b.useState(!0),a=async()=>{n(!0);try{t({isValid:!1,message:"VITE_STRIPE_PUBLISHABLE_KEY environment variable is not set"});return;try{const{loadStripe:c}=await Vo(async()=>{const{loadStripe:d}=await Promise.resolve().then(()=>kSe);return{loadStripe:d}},void 0),u=await c(void 0);t(u?{isValid:!0,message:"Stripe key is valid and loaded successfully",keyPreview:l,environment:o}:{isValid:!1,message:"Failed to initialize Stripe with provided key",keyPreview:l,environment:o})}catch(c){t({isValid:!1,message:`Stripe initialization error: ${c.message}`,keyPreview:l,environment:o})}}catch(i){t({isValid:!1,message:`Validation error: ${i.message}`})}finally{n(!1)}};return b.useEffect(()=>{a()},[]),s.jsxs(I,{className:"w-full max-w-2xl mx-auto",children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(Hm,{className:"h-5 w-5"}),"Stripe Key Validation"]})}),s.jsx(D,{className:"space-y-4",children:r?s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(tr,{className:"h-4 w-4 animate-spin"}),"Validating Stripe configuration..."]}):s.jsxs(s.Fragment,{children:[s.jsxs(ze,{variant:e.isValid?"default":"destructive",children:[e.isValid?s.jsx(Oe,{className:"h-4 w-4"}):s.jsx(bt,{className:"h-4 w-4"}),s.jsx(We,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{children:e.message}),e.keyPreview&&s.jsxs("p",{className:"text-sm font-mono bg-muted p-2 rounded",children:["Key: ",e.keyPreview]}),e.environment&&s.jsxs("p",{className:"text-sm",children:["Environment: ",s.jsx("span",{className:"font-semibold",children:e.environment})]})]})})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(L,{onClick:a,variant:"outline",size:"sm",children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),"Re-validate"]})}),!e.isValid&&s.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[s.jsx("p",{children:s.jsx("strong",{children:"To fix this issue:"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[s.jsx("li",{children:"Get your Stripe publishable key from the Stripe Dashboard"}),s.jsx("li",{children:"Set the VITE_STRIPE_PUBLISHABLE_KEY environment variable"}),s.jsx("li",{children:'Ensure the key starts with "pk_test_" or "pk_live_"'}),s.jsx("li",{children:"Restart your development server or redeploy"})]})]})]})})]})},_L=({open:e,onOpenChange:t,onSuccess:r})=>{const[n,a]=b.useState(!1),[i,o]=b.useState([]),[l,c]=b.useState(null),[u,d]=b.useState(!1),[f,h]=b.useState(null),[m,g]=b.useState(null),{user:p}=_t();b.useEffect(()=>{e&&(p!=null&&p.id)&&v()},[e,p==null?void 0:p.id]);const v=async()=>{try{a(!0);const{data:_,error:E}=await R.from("profiles").select("stripe_customer_id, email, first_name, last_name").eq("id",p==null?void 0:p.id).single();if(E)throw new Error(`Profile fetch failed: ${E.message}`);let P=_==null?void 0:_.stripe_customer_id;if(!P){console.log("Creating Stripe customer for user:",p==null?void 0:p.id);const{data:O,error:F}=await R.functions.invoke("create-stripe-customer",{body:{userId:p==null?void 0:p.id,email:(_==null?void 0:_.email)||(p==null?void 0:p.email),firstName:(_==null?void 0:_.first_name)||"",lastName:(_==null?void 0:_.last_name)||""}});if(F)throw console.error("Stripe customer creation error:",F),new Error(`Failed to initialize payment system: ${F.message}`);if(!(O!=null&&O.success)||!(O!=null&&O.stripe_customer_id))throw console.error("Invalid response from create-stripe-customer:",O),new Error("Failed to create payment account");P=O.stripe_customer_id,console.log("Stripe customer created successfully:",P)}c(P);const{data:C,error:T}=await R.functions.invoke("list-payment-methods",{body:{customerId:P}});if(T)throw new Error(`Failed to fetch payment methods: ${T.message}`);if(C!=null&&C.success)o(C.payment_methods||[]);else throw new Error((C==null?void 0:C.error)||"Failed to fetch payment methods")}catch(_){console.error("Payment methods error:",_),vn.error(_.message||"Failed to load payment methods")}finally{a(!1)}},x=async _=>{try{h(_);const{data:E,error:P}=await R.functions.invoke("delete-payment-method",{body:{paymentMethodId:_}});if(P)throw P;if(E!=null&&E.success)vn.success("Payment method deleted successfully"),v(),window.dispatchEvent(new CustomEvent("profileUpdated"));else throw new Error((E==null?void 0:E.error)||"Failed to delete payment method")}catch(E){console.error("Delete payment method error:",E),vn.error(E.message||"Failed to delete payment method")}finally{h(null)}},y=async _=>{try{g(_);const{data:E,error:P}=await R.functions.invoke("set-default-payment-method",{body:{customerId:l,paymentMethodId:_}});if(P)throw P;if(E!=null&&E.success)vn.success("Default payment method updated"),v();else throw new Error((E==null?void 0:E.error)||"Failed to set default payment method")}catch(E){console.error("Set default payment method error:",E),vn.error(E.message||"Failed to set default payment method")}finally{g(null)}},w=async()=>{try{if(a(!0),!l)throw new Error("No payment account found");const{data:_,error:E}=await R.functions.invoke("create-billing-portal-session",{body:{customerId:l}});if(E)throw E;if(_!=null&&_.url)vn.success("Redirecting to billing portal..."),window.location.href=_.url;else throw new Error("Unable to create billing session")}catch(_){console.error("Billing portal error:",_),vn.error(_.message||"Unable to open billing portal")}finally{a(!1)}},N=()=>{d(!0)},S=()=>{v(),d(!1),r==null||r(),vn.success("Payment method added successfully!"),window.dispatchEvent(new CustomEvent("profileUpdated"))},j=_=>_.charAt(0).toUpperCase()+_.slice(1);return s.jsxs(s.Fragment,{children:[s.jsx(Ko,{open:e,onOpenChange:t,children:s.jsxs(Ai,{className:"max-w-2xl",children:[s.jsx(Oi,{children:s.jsxs(Ti,{className:"flex items-center gap-2",children:[s.jsx(ot,{className:"h-5 w-5"}),"Manage Payment Methods"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(GSe,{}),n?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage your saved payment methods and billing information."}),s.jsxs(L,{onClick:N,disabled:n||!l,size:"sm",children:[s.jsx(ac,{className:"mr-2 h-4 w-4"}),"Add Payment Method"]})]}),i.length>0?s.jsx("div",{className:"space-y-3",children:i.map(_=>s.jsx(I,{className:"relative",children:s.jsx(D,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ot,{className:"h-6 w-6 text-muted-foreground"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-medium",children:[j(_.brand)," •••• ",_.last4]}),_.is_default&&s.jsxs(J,{variant:"secondary",className:"text-xs",children:[s.jsx(cs,{className:"h-3 w-3 mr-1"}),"Default"]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Expires ",_.exp_month.toString().padStart(2,"0"),"/",_.exp_year]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!_.is_default&&s.jsx(L,{variant:"outline",size:"sm",onClick:()=>y(_.id),disabled:m===_.id,children:m===_.id?s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-current"}):s.jsxs(s.Fragment,{children:[s.jsx(cs,{className:"h-3 w-3 mr-1"}),"Set Default"]})}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>x(_.id),disabled:f===_.id,className:"text-red-600 hover:text-red-700",children:f===_.id?s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-current"}):s.jsx(n1,{className:"h-3 w-3"})})]})]})})},_.id))}):s.jsx(I,{children:s.jsx(D,{className:"pt-6",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(ot,{className:"mx-auto h-12 w-12 mb-2 opacity-50"}),s.jsx("p",{children:"No payment methods found"}),s.jsx("p",{className:"text-xs",children:"Add a payment method to get started"})]})})}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs(L,{variant:"outline",onClick:w,disabled:n||!l,className:"w-full",children:[s.jsx(ot,{className:"mr-2 h-4 w-4"}),n?"Opening...":"Open Stripe Billing Portal"]})})]})]})]})}),s.jsx(gL,{isOpen:u,onClose:()=>d(!1),onSuccess:S})]})},YSe=()=>{const[e,t]=b.useState(!1),[r,n]=b.useState("all"),a=()=>{t(!0)},i=u=>{console.log("Download receipt for invoice:",u)},o=u=>{console.log("View invoice:",u)},l=[{id:"1",date:"2024-01-15",amount:250,service:"Lawn Maintenance",status:"completed",method:"Visa ****4242"},{id:"2",date:"2024-01-08",amount:180,service:"Garden Cleanup",status:"completed",method:"Mastercard ****8888"},{id:"3",date:"2024-01-01",amount:320,service:"Tree Trimming",status:"pending",method:"Visa ****4242"}],c=r==="all"?l:l.filter(u=>u.status===r);return s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Payment History"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Manage payment methods and view transaction history"})]}),s.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-black font-medium shadow-lg shadow-emerald-500/25 hover:shadow-emerald-400/40 transition-all duration-200",children:[s.jsx(ot,{className:"h-5 w-5"}),"Add Payment Method"]})]}),s.jsx("div",{className:"w-full",children:s.jsx(vL,{})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(x4,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-gray-400",children:"Filter by status:"})]}),s.jsx("div",{className:"flex gap-2",children:["all","completed","pending","failed"].map(u=>s.jsx("button",{onClick:()=>n(u),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${r===u?"bg-emerald-500 text-black":"bg-black/40 text-gray-300 hover:bg-black/60"}`,children:u.charAt(0).toUpperCase()+u.slice(1)},u))})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-emerald-500/25",children:s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Transaction History"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-black/40",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Service"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Amount"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Payment Method"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-emerald-500/10",children:c.map(u=>s.jsxs("tr",{className:"hover:bg-black/20 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-white",children:new Date(u.date).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 text-sm text-white",children:u.service}),s.jsxs("td",{className:"px-6 py-4 text-sm text-white font-medium",children:["$",u.amount.toFixed(2)]}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:u.method}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u.status==="completed"?"bg-emerald-500/20 text-emerald-400":u.status==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:u.status})}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>o(u.id),className:"p-2 rounded-lg bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 transition-colors",title:"View Invoice",children:s.jsx(Km,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>i(u.id),className:"p-2 rounded-lg bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 transition-colors",title:"Download Receipt",children:s.jsx(Ei,{className:"h-4 w-4"})})]})})]},u.id))})]})})]}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-black/90 border border-emerald-500/25 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto p-4 sm:p-6 shadow-2xl shadow-emerald-500/10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Payment Methods"}),s.jsx("button",{onClick:()=>t(!1),className:"h-10 w-10 rounded-xl bg-emerald-500/20 hover:bg-emerald-500/30 text-emerald-400 hover:text-emerald-300 flex items-center justify-center transition-all duration-200",children:"✕"})]}),s.jsx("div",{className:"text-white",children:s.jsx(_L,{open:!0,onOpenChange:t,onSuccess:()=>{console.log("Payment method added successfully")}})})]})})]})},JSe=()=>{const[e,t]=b.useState(!1),[r,n]=b.useState(!1),[a,i]=b.useState(!1),o=()=>{t(!0)},l=()=>{n(!0)},c=()=>{i(!0)},u=()=>{console.log("Account settings clicked")},d=()=>{console.log("Privacy settings clicked")},f=()=>{console.log("Notification settings clicked")};return s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Profile Management"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Manage your account information and preferences"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"w-full",children:s.jsx(yL,{onEditProfile:o,onAddAddress:l,onAddPayment:c})}),s.jsx("div",{className:"w-full",children:s.jsx(SL,{})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20 text-emerald-400",children:s.jsx(cr,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Personal Information"})]}),s.jsx("button",{onClick:o,className:"px-4 py-2 rounded-lg bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 transition-colors text-sm font-medium",children:"Edit"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(cr,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Full Name"}),s.jsx("p",{className:"text-white",children:"John Doe"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($s,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),s.jsx("p",{className:"text-white",children:"john.doe@example.com"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(e1,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Phone"}),s.jsx("p",{className:"text-white",children:"+1 (555) 123-4567"})]})]})]})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-blue-500/25 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/20 text-blue-400",children:s.jsx(Bs,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Service Address"})]}),s.jsx("button",{onClick:l,className:"px-4 py-2 rounded-lg bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 transition-colors text-sm font-medium",children:"Edit"})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Bs,{className:"h-4 w-4 text-gray-400 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Primary Address"}),s.jsx("p",{className:"text-white",children:"123 Main Street"}),s.jsx("p",{className:"text-white",children:"Anytown, ST 12345"})]})]})})]})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur border border-purple-500/25 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500/20 text-purple-400",children:s.jsx(Ct,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Account Settings"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:u,className:"p-4 rounded-xl bg-black/40 hover:bg-black/60 border border-gray-500/25 hover:border-gray-400/40 transition-all duration-200 text-left",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Ct,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-white font-medium",children:"General"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Account preferences and settings"})]}),s.jsxs("button",{onClick:f,className:"p-4 rounded-xl bg-black/40 hover:bg-black/60 border border-gray-500/25 hover:border-gray-400/40 transition-all duration-200 text-left",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx($s,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-white font-medium",children:"Notifications"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Email and push notification preferences"})]}),s.jsxs("button",{onClick:d,className:"p-4 rounded-xl bg-black/40 hover:bg-black/60 border border-gray-500/25 hover:border-gray-400/40 transition-all duration-200 text-left",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(cn,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-white font-medium",children:"Privacy"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Privacy and security settings"})]})]})]})]})},XSe=()=>{const e=$e(),t=Ft(),{isMobile:r}=iN(),n=[{id:"overview",label:"Overview",icon:oa,path:"/client-dashboard/overview"},{id:"jobs",label:"Job Requests",icon:Nn,path:"/client-dashboard/jobs"},{id:"payments",label:"Payments",icon:ot,path:"/client-dashboard/payments"},{id:"profile",label:"Profile",icon:cr,path:"/client-dashboard/profile"}],i=(()=>{const l=t.pathname;return l.includes("/jobs")?"jobs":l.includes("/payments")?"payments":l.includes("/profile")?"profile":"overview"})(),o=l=>{const c=n.find(u=>u.id===l);c&&e(c.path)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-[#020b06] to-black text-white",children:[s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsx(rSe,{type:"client",userName:"Client",variant:"modern"})}),s.jsx("div",{className:"border-b border-emerald-500/20 sticky top-0 bg-black/80 backdrop-blur-sm z-40",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex space-x-0 overflow-x-auto scrollbar-hide",children:n.map(l=>{const c=l.icon,u=i===l.id;return s.jsxs("button",{onClick:()=>o(l.id),className:`flex items-center gap-2 px-4 sm:px-6 py-4 text-sm font-medium border-b-2 transition-all duration-200 whitespace-nowrap ${u?"border-emerald-500 text-emerald-400 bg-emerald-500/10":"border-transparent text-gray-400 hover:text-emerald-400 hover:border-emerald-500/50"}`,children:[s.jsx(c,{className:"h-4 w-4"}),s.jsx("span",{className:r?"hidden sm:inline":"",children:l.label})]},l.id)})})})}),s.jsx("div",{className:"container mx-auto min-h-[calc(100vh-200px)]",children:s.jsxs(Xj,{children:[s.jsx(ae,{path:"/",element:s.jsx(mA,{})}),s.jsx(ae,{path:"/overview",element:s.jsx(mA,{})}),s.jsx(ae,{path:"/jobs",element:s.jsx(KSe,{})}),s.jsx(ae,{path:"/payments",element:s.jsx(YSe,{})}),s.jsx(ae,{path:"/profile",element:s.jsx(JSe,{})})]})}),s.jsx(nSe,{userRole:"client"})]})},QSe=e=>{switch(e){case"completed":return s.jsx(ba,{className:"w-4 h-4"});case"cancelled":return s.jsx(gt,{className:"w-4 h-4"});case"in_progress":case"accepted":return s.jsx(bt,{className:"w-4 h-4"});default:return s.jsx(it,{className:"w-4 h-4"})}},ZSe=e=>{switch(e){case"completed":return"bg-green-900/30 text-green-400 border-green-500/30";case"cancelled":return"bg-red-900/30 text-red-400 border-red-500/30";case"in_progress":case"accepted":return"bg-yellow-900/30 text-yellow-400 border-yellow-500/30";default:return"bg-blue-900/30 text-blue-400 border-blue-500/30"}};function eNe(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),a=$e();b.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:{user:o}}=await R.auth.getUser();if(!(o!=null&&o.email)){n(!1);return}const{data:l,error:c}=await R.from("jobs").select("*").eq("client_email",o.email).order("created_at",{ascending:!1});c?console.error("Error fetching job history:",c):t(l||[])}catch(o){console.error("Error:",o)}finally{n(!1)}};return s.jsxs(kn,{children:[s.jsx(On,{}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-[#020b06] to-black p-4 lg:p-8 text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"flex items-center gap-4 mb-6",children:s.jsxs(L,{variant:"ghost",onClick:()=>a("/client-dashboard"),className:"text-green-400 hover:text-green-300",children:[s.jsx(ls,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(I,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl ring-1 ring-green-500/20 shadow-[0_0_25px_-10px_rgba(34,197,94,0.25)]",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(it,{className:"w-6 h-6 text-green-400"}),s.jsx("h1",{className:"text-2xl font-semibold text-green-300",children:"Service History"})]}),r?s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-gray-400",children:"Loading your service history..."})}):e.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:"No history available yet."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Your completed and past services will appear here."})]}):s.jsx("div",{className:"space-y-4",children:e.map(o=>s.jsxs("div",{className:"rounded-xl bg-black/40 border border-gray-700/50 p-4 hover:bg-black/60 transition-colors",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-1",children:o.service_name||"Landscaping Service"}),s.jsx("p",{className:"text-sm text-gray-400",children:new Date(o.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs(J,{className:`text-xs px-3 py-1 rounded-full flex items-center gap-2 ${ZSe(o.status)}`,children:[QSe(o.status),o.status.replace("_"," ").toUpperCase()]})]}),o.service_type&&s.jsxs("p",{className:"text-sm text-gray-300 mb-2",children:["Type: ",o.service_type]}),o.service_address&&s.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:["📍 ",o.service_address]}),o.price&&s.jsxs("div",{className:"text-green-400 font-semibold",children:["$",o.price.toFixed(2)]})]},o.id))})]})})]})})]})}function tNe(){const{user:e}=_t(),{toast:t}=$n(),r=Ft(),[n,a]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState({first_name:"",last_name:"",phone:"",address:"",email:(e==null?void 0:e.email)||""});b.useEffect(()=>{e&&u()},[e]),b.useEffect(()=>{if(r.hash){const f=document.getElementById(r.hash.substring(1));f&&f.scrollIntoView({behavior:"smooth"})}},[r.hash]);const u=async()=>{try{const{data:f,error:h}=await R.from("profiles").select("id, first_name, last_name, email, phone, address, stripe_customer_id").eq("id",e==null?void 0:e.id).single();if(h&&h.code!=="PGRST116")throw h;f&&c({first_name:f.first_name||"",last_name:f.last_name||"",phone:f.phone||"",address:f.address||"",email:(e==null?void 0:e.email)||""})}catch(f){console.error("Error fetching profile:",f)}},d=async()=>{a(!0);try{const{error:f}=await R.from("profiles").upsert({id:e==null?void 0:e.id,...l});if(f)throw f;t({title:"Profile updated",description:"Your profile has been saved successfully."})}catch(f){t({title:"Error",description:f.message||"Failed to update profile",variant:"destructive"})}finally{a(!1)}};return s.jsx("div",{className:"min-h-screen bg-gray-950 p-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Your Profile"}),s.jsx("p",{className:"text-gray-400",children:"Manage your account information"})]}),s.jsxs(I,{id:"name",className:"bg-gray-900/50 border-gray-800",children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2 text-white",children:[s.jsx(cr,{className:"h-5 w-5 text-emerald-400"}),"Full Name"]})}),s.jsx(D,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"first_name",className:"text-gray-300",children:"First Name"}),s.jsx(de,{id:"first_name",value:l.first_name,onChange:f=>c(h=>({...h,first_name:f.target.value})),className:"bg-gray-800 border-gray-700 text-white"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"last_name",className:"text-gray-300",children:"Last Name"}),s.jsx(de,{id:"last_name",value:l.last_name,onChange:f=>c(h=>({...h,last_name:f.target.value})),className:"bg-gray-800 border-gray-700 text-white"})]})]})})]}),s.jsxs(I,{id:"phone",className:"bg-gray-900/50 border-gray-800",children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2 text-white",children:[s.jsx(e1,{className:"h-5 w-5 text-emerald-400"}),"Phone Number"]})}),s.jsx(D,{children:s.jsx(de,{value:l.phone,onChange:f=>c(h=>({...h,phone:f.target.value})),placeholder:"(555) 123-4567",className:"bg-gray-800 border-gray-700 text-white"})})]}),s.jsxs(I,{id:"address",className:"bg-gray-900/50 border-gray-800",children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2 text-white",children:[s.jsx(Bs,{className:"h-5 w-5 text-emerald-400"}),"Service Address"]})}),s.jsx(D,{children:s.jsx(de,{value:l.address,onChange:f=>c(h=>({...h,address:f.target.value})),placeholder:"123 Main St, City, State 12345",className:"bg-gray-800 border-gray-700 text-white"})})]}),s.jsxs(I,{id:"payment",className:"bg-gray-900/50 border-gray-800",children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2 text-white",children:[s.jsx(ot,{className:"h-5 w-5 text-emerald-400"}),"Payment Method"]})}),s.jsxs(D,{children:[s.jsx("p",{className:"text-gray-400 mb-4",children:"Manage your payment methods and billing information."}),s.jsx(_L,{open:i,onOpenChange:o,onSuccess:()=>{t({title:"Payment methods updated",description:"Your payment information has been updated."})}}),s.jsx(L,{variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-800",onClick:()=>o(!0),children:"Manage Payment Methods"})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(L,{onClick:d,disabled:n,className:"bg-emerald-600 hover:bg-emerald-700 text-white px-8",children:n?"Saving...":"Save Changes"})})]})})}function rNe(){const{user:e}=_t(),t=$e(),[r,n]=b.useState([]),[a,i]=b.useState(!0),[o,l]=b.useState(null);b.useEffect(()=>{e&&c()},[e]);const c=async()=>{try{i(!0),l(null);const{data:g,error:p}=await R.from("payments").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(p)throw p;const v=(g||[]).map(x=>({id:x.id,date:x.created_at,amount:x.amount/100,status:x.status==="succeeded"?"paid":x.status==="processing"?"pending":"failed",description:x.description||"Service Payment",invoice_url:x.receipt_url||void 0}));n(v)}catch(g){console.error("Error fetching billing history:",g),l(g.message||"Failed to load billing history")}finally{i(!1)}},u=g=>{switch(g){case"paid":return"bg-emerald-500/20 text-emerald-400";case"pending":return"bg-orange-500/20 text-orange-400";case"failed":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}},d=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),f=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(g),h=()=>{const g=r.filter(v=>v.status==="paid").reduce((v,x)=>v+x.amount,0),p=r.filter(v=>v.status==="pending").reduce((v,x)=>v+x.amount,0);return{totalPaid:g,outstanding:p,count:r.length}};if(a)return s.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:s.jsx("div",{className:"text-white",children:"Loading billing history..."})});if(o)return s.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:s.jsxs("div",{className:"text-red-400",children:["Error: ",o]})});const m=h();return s.jsx("div",{className:"min-h-screen bg-gray-950 p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(L,{variant:"ghost",onClick:()=>t("/client-dashboard"),className:"text-gray-400 hover:text-white",children:[s.jsx(ls,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Billing History"}),s.jsx("p",{className:"text-gray-400",children:"View your payment history and download invoices"})]}),s.jsxs(I,{className:"bg-gray-900/50 border-gray-800",children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2 text-white",children:[s.jsx(ot,{className:"h-5 w-5 text-emerald-400"}),"Payment History"]})}),s.jsx(D,{children:r.length===0?s.jsx("div",{className:"text-center py-8 text-gray-400",children:"No billing history found."}):s.jsx("div",{className:"space-y-4",children:r.map(g=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-white font-medium",children:g.description}),s.jsx(J,{className:u(g.status),children:g.status.charAt(0).toUpperCase()+g.status.slice(1)})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:d(g.date)})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"text-white font-semibold",children:f(g.amount)})}),g.invoice_url&&s.jsxs(L,{variant:"outline",size:"sm",onClick:()=>window.open(g.invoice_url,"_blank"),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[s.jsx(Ei,{className:"h-4 w-4 mr-2"}),"Invoice"]})]})]},g.id))})})]}),s.jsx(I,{className:"bg-gray-900/50 border-gray-800",children:s.jsx(D,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:f(m.totalPaid)}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Total Paid"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-400",children:f(m.outstanding)}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Outstanding"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:m.count}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Total Invoices"})]})]})})})]})})}const nNe=()=>{const{user:e}=_t(),[t,r]=b.useState([]),[n,a]=b.useState(!0);b.useEffect(()=>{e&&i()},[e]);const i=async()=>{try{const{data:f,error:h}=await R.from("subscriptions").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(h)throw h;r(f||[])}catch(f){console.error("Error fetching subscriptions:",f)}finally{a(!1)}},o=async f=>{try{console.log("Pausing subscription:",f),await i()}catch(h){console.error("Error pausing subscription:",h)}},l=async f=>{try{console.log("Resuming subscription:",f),await i()}catch(h){console.error("Error resuming subscription:",h)}},c=async f=>{try{console.log("Canceling subscription:",f),await i()}catch(h){console.error("Error canceling subscription:",h)}},u=(f,h)=>{if(h)return s.jsx(J,{variant:"destructive",children:"Canceling"});switch(f){case"active":return s.jsx(J,{variant:"default",children:"Active"});case"paused":return s.jsx(J,{variant:"secondary",children:"Paused"});case"canceled":return s.jsx(J,{variant:"destructive",children:"Canceled"});default:return s.jsx(J,{variant:"outline",children:f})}},d=(f,h)=>new Intl.NumberFormat("en-US",{style:"currency",currency:h.toUpperCase()}).format(f/100);return n?s.jsx("div",{className:"text-center py-8",children:"Loading subscriptions..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Subscription Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your recurring landscaping services"})]}),t.length===0?s.jsx(I,{children:s.jsxs(D,{className:"text-center py-8",children:[s.jsx(ot,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Active Subscriptions"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have any recurring services set up yet."}),s.jsx(L,{children:"Set Up Monthly Service"})]})}):s.jsx("div",{className:"grid gap-4",children:t.map(f=>s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(W,{className:"flex items-center gap-2",children:[f.service_type," Service",u(f.status,f.cancel_at_period_end)]}),s.jsxs(Be,{children:[d(f.amount,f.currency)," per month"]})]}),s.jsxs("div",{className:"flex gap-2",children:[f.status==="active"&&!f.cancel_at_period_end&&s.jsxs(s.Fragment,{children:[s.jsx(L,{variant:"outline",size:"sm",onClick:()=>o(f.stripe_subscription_id),children:s.jsx(LU,{className:"h-4 w-4"})}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>c(f.stripe_subscription_id),children:s.jsx(ps,{className:"h-4 w-4"})})]}),f.status==="paused"&&s.jsx(L,{variant:"outline",size:"sm",onClick:()=>l(f.stripe_subscription_id),children:s.jsx(y4,{className:"h-4 w-4"})})]})]})}),s.jsx(D,{children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ar,{className:"h-4 w-4"}),"Next billing: ",new Date(f.current_period_end).toLocaleDateString()]})})]},f.id))})]})},sNe=[{id:"basic",name:"Basic Care",description:"Essential lawn maintenance",price:99,currency:"usd",interval:"month",stripePriceId:"price_basic_monthly",features:["Weekly lawn mowing","Edge trimming","Basic cleanup","Email updates"]},{id:"premium",name:"Premium Service",description:"Complete landscaping care",price:199,currency:"usd",interval:"month",stripePriceId:"price_premium_monthly",popular:!0,features:["Everything in Basic","Bi-weekly deep maintenance","Seasonal plantings","Fertilization program","Priority scheduling","Photo progress reports"]},{id:"luxury",name:"Luxury Estate",description:"Full-service luxury care",price:399,currency:"usd",interval:"month",stripePriceId:"price_luxury_monthly",features:["Everything in Premium","Weekly detailed service","Custom landscape design","Irrigation management","Pest control program","24/7 emergency support","Dedicated account manager"]}],aNe=({onSelectPlan:e})=>{const{user:t}=_t(),[r,n]=b.useState(null),a=async o=>{if(t){n(o.id);try{e(o)}catch(l){console.error("Error selecting plan:",l)}finally{n(null)}}},i=(o,l)=>new Intl.NumberFormat("en-US",{style:"currency",currency:l.toUpperCase()}).format(o);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Choose Your Plan"}),s.jsx("p",{className:"text-muted-foreground",children:"Select the perfect landscaping service for your property"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:sNe.map(o=>s.jsxs(I,{className:`relative ${o.popular?"border-primary shadow-lg scale-105":""}`,children:[o.popular&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsxs(J,{className:"bg-primary text-primary-foreground px-3 py-1",children:[s.jsx(cs,{className:"h-3 w-3 mr-1"}),"Most Popular"]})}),s.jsxs(z,{className:"text-center",children:[s.jsx(W,{className:"text-xl",children:o.name}),s.jsx(Be,{children:o.description}),s.jsxs("div",{className:"mt-4",children:[s.jsx("span",{className:"text-3xl font-bold",children:i(o.price,o.currency)}),s.jsxs("span",{className:"text-muted-foreground",children:["/",o.interval]})]})]}),s.jsxs(D,{className:"space-y-4",children:[s.jsx("ul",{className:"space-y-2",children:o.features.map((l,c)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(qo,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:l})]},c))}),s.jsx(L,{className:"w-full",variant:o.popular?"default":"outline",onClick:()=>a(o),disabled:r===o.id,children:r===o.id?"Processing...":"Select Plan"})]})]},o.id))}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"All plans include a 30-day satisfaction guarantee"}),s.jsx("p",{children:"Cancel or modify your subscription anytime"})]})]})},iNe=()=>{const[e,t]=b.useState("dashboard"),[r,n]=b.useState(null),a=c=>{n(c),t("checkout")},i=()=>{t("plans"),n(null)},o=()=>{t("dashboard"),n(null)},l=()=>{switch(e){case"plans":return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(L,{variant:"outline",size:"sm",onClick:o,children:[s.jsx(ls,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(aNe,{onSelectPlan:a})]});case"checkout":return r?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(L,{variant:"outline",size:"sm",onClick:()=>t("plans"),children:[s.jsx(ls,{className:"h-4 w-4 mr-2"}),"Back to Plans"]})}),s.jsxs(I,{className:"max-w-md mx-auto",children:[s.jsx(z,{children:s.jsx(W,{children:"Subscription Plans Available"})}),s.jsxs(D,{children:[s.jsx("p",{children:"Subscription checkout functionality will be available soon."}),s.jsx(L,{onClick:i,className:"mt-4",children:"Go Back"})]})]})]}):null;default:return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Subscription Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your recurring landscaping services"})]}),s.jsx(L,{onClick:()=>t("plans"),children:"Add New Service"})]}),s.jsx(nNe,{})]})}};return s.jsx("div",{className:"container mx-auto px-4 py-8",children:l()})};function oNe(){const[e,t]=b.useState([{id:"1",text:"Hello! How can we help you today?",sender:"support",timestamp:new Date}]),[r,n]=b.useState(""),a=$e(),i=Ft(),o=()=>{if(!r.trim())return;const u={id:Date.now().toString(),text:r,sender:"user",timestamp:new Date};t(d=>[...d,u]),n(""),setTimeout(()=>{const d={id:(Date.now()+1).toString(),text:"Thank you for your message. Our team will respond shortly. For immediate assistance, please call (555) 123-4567.",sender:"support",timestamp:new Date};t(f=>[...f,d])},1e3)},l=u=>{u.key==="Enter"&&o()},c=async()=>{await OR(a,i.pathname)};return s.jsxs(kn,{children:[s.jsx(On,{}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-[#020b06] to-black p-4 lg:p-8 text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"flex items-center gap-4 mb-6",children:s.jsxs(L,{variant:"ghost",onClick:c,className:"text-green-400 hover:text-green-300",children:[s.jsx(ls,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs(I,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl ring-1 ring-green-500/20 shadow-[0_0_25px_-10px_rgba(34,197,94,0.25)] h-[600px] flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-gray-700/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(DU,{className:"w-6 h-6 text-green-400"}),s.jsx("h1",{className:"text-2xl font-semibold text-green-300",children:"Live Chat Support"})]}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"We're here to help with your landscaping needs"})]}),s.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:s.jsx("div",{className:"space-y-4",children:e.map(u=>s.jsx("div",{className:`flex ${u.sender==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${u.sender==="user"?"bg-green-600 text-white":"bg-gray-700 text-gray-100"}`,children:[s.jsx("p",{className:"text-sm",children:u.text}),s.jsx("p",{className:"text-xs opacity-70 mt-1",children:u.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},u.id))})}),s.jsxs("div",{className:"p-6 border-t border-gray-700/50",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{value:r,onChange:u=>n(u.target.value),onKeyPress:l,placeholder:"Type your message...",className:"bg-black/50 border-green-500/30 text-white flex-1"}),s.jsx(L,{onClick:o,className:"bg-green-600 hover:bg-green-500 px-4",children:s.jsx(b4,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"For immediate assistance, call (555) 123-4567"})]})]})]})})]})}async function lNe(e){try{const t=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),{data:r,error:n}=await R.from("landscapers").select("*").eq(t?"id":"email",e).single();if(n)throw n;return r}catch(t){throw console.error("Error fetching landscaper profile:",t),t}}function cNe(){const{user:e}=_t(),{stats:t,loading:r,error:n}=sL("landscaper");return r?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:Array.from({length:4},(a,i)=>s.jsxs("div",{className:"bg-black/60 backdrop-blur rounded-2xl p-6 animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-700 rounded mb-2"}),s.jsx("div",{className:"h-8 bg-gray-700 rounded mb-1"}),s.jsx("div",{className:"h-3 bg-gray-700 rounded w-3/4"})]},i))}):n?s.jsx("div",{className:"bg-red-900/20 border border-red-500/25 rounded-2xl p-6",children:s.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[s.jsx(bt,{className:"w-5 h-5"}),s.jsx("span",{children:"Failed to load dashboard stats"})]})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[s.jsx(ti,{title:"Total Earnings",value:`$${t.totalEarnings.toFixed(2)}`,subtitle:"Lifetime earnings",icon:s.jsx(jt,{className:"w-5 h-5"}),variant:"green",trend:{value:t.monthlyEarnings>0?12:0,isPositive:!0}}),s.jsx(ti,{title:"Active Jobs",value:t.activeJobs,subtitle:"Currently working",icon:s.jsx(it,{className:"w-5 h-5"}),variant:"blue"}),s.jsx(ti,{title:"Completed Jobs",value:t.completedJobs,subtitle:"Successfully finished",icon:s.jsx(ba,{className:"w-5 h-5"}),variant:"default",trend:{value:t.completedJobs>0?5:0,isPositive:!0}}),s.jsx(ti,{title:"Rating",value:t.rating>0?t.rating.toFixed(1):"N/A",subtitle:`${t.totalReviews} reviews`,icon:s.jsx(cs,{className:"w-5 h-5"}),variant:"yellow"})]})}const EL=({jobs:e,onJobUpdate:t})=>{const[r,n]=b.useState(e),{isConnected:a,subscribe:i}=Qv();b.useEffect(()=>i("job_status_update",d=>{n(f=>f.map(h=>h.id===d.jobId?{...h,status:d.status,location:d.location,...d.status==="arrived"&&{estimatedArrival:d.timestamp},...d.status==="in_progress"&&{startTime:d.timestamp},...d.status==="completed"&&{completionTime:d.timestamp}}:h))}),[i]);const o=u=>{switch(u){case"assigned":return"bg-blue-500";case"en_route":return"bg-yellow-500";case"arrived":return"bg-orange-500";case"in_progress":return"bg-green-500";case"completed":return"bg-gray-500";default:return"bg-gray-400"}},l=u=>{switch(u){case"assigned":return"Assigned";case"en_route":return"En Route";case"arrived":return"Arrived";case"in_progress":return"In Progress";case"completed":return"Completed";default:return u}},c=u=>{if(u.status==="arrived"||u.status==="in_progress"||u.status==="completed")return null;const d=new Date;return d.setMinutes(d.getMinutes()+Math.floor(Math.random()*30)+10),d.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return s.jsxs(I,{className:"bg-black/60 backdrop-blur border border-green-500/25 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Live Job Tracking"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-sm text-gray-400",children:a?"Connected":"Disconnected"})]})]}),s.jsx("div",{className:"space-y-4",children:r.map(u=>s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold text-white",children:u.service_name}),s.jsx(J,{className:`${o(u.status)} text-white`,children:l(u.status)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400",children:"Landscaper"}),s.jsx("p",{className:"text-white",children:u.landscaper})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400",children:"Client"}),s.jsx("p",{className:"text-white",children:u.client})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400",children:"Address"}),s.jsx("p",{className:"text-white text-xs",children:u.service_address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400",children:u.status==="completed"?"Completed":"ETA"}),s.jsx("p",{className:"text-white",children:u.completionTime?new Date(u.completionTime).toLocaleTimeString():c(u)||"On Site"})]})]}),u.status==="in_progress"&&u.startTime&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-600",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-gray-400",children:["Started: ",new Date(u.startTime).toLocaleTimeString()]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(L,{size:"sm",variant:"outline",className:"text-xs",children:"View Live Location"}),s.jsx(L,{size:"sm",variant:"outline",className:"text-xs",children:"Contact"})]})]})})]},u.id))})]})};function uNe({landscaperId:e,email:t,businessName:r}){const n=Jc(),[a,i]=b.useState(!1),[o,l]=b.useState(""),[c,u]=b.useState(!1),[d,f]=b.useState(null),[h,m]=b.useState([{id:"identity",label:"Identity Verification",icon:Fs,completed:!1},{id:"bank",label:"Bank Account",icon:z_,completed:!1},{id:"tax",label:"Tax Information",icon:ot,completed:!1}]);b.useEffect(()=>{g()},[e]);const g=async()=>{try{const{data:y}=await n.from("profiles").select("stripe_connect_id, stripe_account_status").eq("id",e).single();if(y!=null&&y.stripe_connect_id){f({accountId:y.stripe_connect_id,status:y.stripe_account_status||"pending",payoutsEnabled:y.stripe_account_status==="active",detailsSubmitted:y.stripe_account_status!=="pending"});const w=y.stripe_account_status==="active";m([{id:"identity",label:"Identity Verification",icon:Fs,completed:w},{id:"bank",label:"Bank Account",icon:z_,completed:w},{id:"tax",label:"Tax Information",icon:ot,completed:w}])}}catch(y){console.error("Error checking status:",y)}},p=async()=>{i(!0),l("");try{const{data:y,error:w}=await n.functions.invoke("create-stripe-connect-account",{body:{email:t,businessName:r,userId:e}});if(w||!(y!=null&&y.success))throw new Error((y==null?void 0:y.error)||"Failed to create Connect account");await n.from("profiles").update({stripe_connect_id:y.accountId,stripe_account_status:"pending"}).eq("id",e),window.location.href=y.onboardingUrl}catch(y){l(y.message),i(!1)}};if(c||d!=null&&d.payoutsEnabled)return null;const v=h.filter(y=>y.completed).length,x=v/h.length*100;return s.jsxs("div",{className:"relative bg-gradient-to-br from-emerald-500/10 to-blue-500/10 border-2 border-emerald-500/30 rounded-2xl p-6 shadow-lg",children:[s.jsx("button",{onClick:()=>u(!0),className:"absolute top-4 right-4 text-emerald-300/60 hover:text-emerald-300 transition-colors",children:s.jsx(ps,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl",children:s.jsx(ot,{className:"h-8 w-8 text-emerald-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-emerald-300 mb-2",children:"Complete Your Payment Setup"}),s.jsx("p",{className:"text-emerald-200/70 text-sm",children:"Connect your bank account to receive payments for completed jobs securely through Stripe."})]})]}),o&&s.jsxs(ze,{variant:"destructive",className:"mb-4",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsx(We,{children:o})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-emerald-300 font-medium",children:"Setup Progress"}),s.jsxs("span",{className:"text-emerald-400 font-semibold",children:[v,"/",h.length," Complete"]})]}),s.jsx("div",{className:"h-2 bg-black/40 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-blue-500 transition-all duration-500",style:{width:`${x}%`}})}),s.jsx("div",{className:"space-y-3 mt-4",children:h.map(y=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-black/30 rounded-lg",children:[s.jsx(y.icon,{className:`h-5 w-5 ${y.completed?"text-emerald-400":"text-emerald-300/50"}`}),s.jsx("span",{className:`flex-1 text-sm ${y.completed?"text-emerald-300":"text-emerald-300/70"}`,children:y.label}),y.completed?s.jsx(ba,{className:"h-5 w-5 text-emerald-400"}):s.jsx(gt,{className:"h-5 w-5 text-emerald-300/30"})]},y.id))})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-black/40 rounded-xl mb-4",children:[s.jsx("div",{className:`h-3 w-3 rounded-full ${d!=null&&d.payoutsEnabled?"bg-emerald-400":"bg-yellow-400"} animate-pulse`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-emerald-300",children:"Payout Status"}),s.jsx("div",{className:"text-xs text-emerald-300/70",children:d!=null&&d.payoutsEnabled?"Ready to receive payments":"Setup required to receive payments"})]})]}),s.jsx(L,{onClick:p,disabled:a,className:"w-full bg-gradient-to-r from-emerald-500 to-blue-500 hover:from-emerald-600 hover:to-blue-600 text-white font-semibold py-6 text-lg",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Pn,{className:"mr-2 h-5 w-5 animate-spin"}),"Setting up..."]}):d!=null&&d.accountId?s.jsxs(s.Fragment,{children:[s.jsx(ba,{className:"mr-2 h-5 w-5"}),"Continue Setup"]}):s.jsxs(s.Fragment,{children:[s.jsx(ot,{className:"mr-2 h-5 w-5"}),"Start Stripe Connect Setup"]})})]})}function Wh({children:e,className:t=""}){return s.jsx("section",{className:`bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl ring-1 ring-emerald-500/20 shadow-[0_0_25px_-10px_rgba(52,211,153,0.25)] p-4 sm:p-6 lg:p-8 ${t}`,children:e})}function pA({profile:e,isAvailable:t}){const r=Jc(),[n,a]=b.useState(""),[i,o]=b.useState({totalEarnings:0,completedJobs:0,activeJobs:0,pendingPayouts:0}),[l,c]=b.useState([]),[u,d]=b.useState(!0);return b.useEffect(()=>{(async()=>{var h,m,g;try{const{data:{user:p}}=await r.auth.getUser();if(p!=null&&p.id){a(p.id);const{data:v}=await r.from("jobs").select("*").eq("landscaper_id",p.id).order("created_at",{ascending:!1}),x=((h=v==null?void 0:v.filter(j=>j.status==="completed"))==null?void 0:h.length)??0,y=((m=v==null?void 0:v.filter(j=>["assigned","in_progress"].includes(j.status)))==null?void 0:m.length)??0,w=((g=v==null?void 0:v.filter(j=>j.status==="completed"))==null?void 0:g.reduce((j,_)=>j+(_.amount??0),0))??0,{data:N}=await r.from("payouts").select("amount").eq("landscaper_id",p.id).eq("status","pending"),S=(N==null?void 0:N.reduce((j,_)=>j+(_.amount??0),0))??0;o({totalEarnings:w,completedJobs:x,activeJobs:y,pendingPayouts:S}),c((v==null?void 0:v.slice(0,5))??[])}}catch(p){console.error("Error loading dashboard data:",p)}finally{d(!1)}})()},[r,e]),s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6",children:[n&&(e==null?void 0:e.email)&&s.jsx(uNe,{landscaperId:n,email:e.email,businessName:`${e.first_name} ${e.last_name} Landscaping`}),s.jsx(Wh,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-emerald-300",children:"Dashboard Overview"}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-black/40 border border-emerald-500/25 rounded-xl",children:[s.jsxs("div",{className:"text-3xl font-bold text-emerald-400",children:["$",i.totalEarnings.toFixed(2)]}),s.jsx("div",{className:"text-sm text-emerald-300/70 mt-2",children:"Total Earnings"})]}),s.jsxs("div",{className:"text-center p-4 bg-black/40 border border-emerald-500/25 rounded-xl",children:[s.jsx("div",{className:"text-3xl font-bold text-emerald-400",children:i.completedJobs}),s.jsx("div",{className:"text-sm text-emerald-300/70 mt-2",children:"Completed Jobs"})]}),s.jsxs("div",{className:"text-center p-4 bg-black/40 border border-emerald-500/25 rounded-xl",children:[s.jsx("div",{className:"text-3xl font-bold text-yellow-400",children:i.activeJobs}),s.jsx("div",{className:"text-sm text-emerald-300/70 mt-2",children:"Active Jobs"})]}),s.jsxs("div",{className:"text-center p-4 bg-black/40 border border-emerald-500/25 rounded-xl",children:[s.jsxs("div",{className:"text-3xl font-bold text-blue-400",children:["$",i.pendingPayouts.toFixed(2)]}),s.jsx("div",{className:"text-sm text-emerald-300/70 mt-2",children:"Pending Payouts"})]})]}),s.jsx("div",{className:"p-5 rounded-xl bg-black/40 border border-emerald-500/25",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-emerald-300 font-medium",children:"Current Status:"}),s.jsx("span",{className:`font-semibold ${t?"text-emerald-400":"text-gray-400"}`,children:t?"🟢 Available for Jobs":"🔴 Not Available"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(Wh,{children:u?s.jsx("div",{className:"text-emerald-300/70 text-center py-8",children:"Loading jobs..."}):l.length>0?s.jsx(EL,{jobs:l}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-emerald-300/70",children:"No recent jobs found"}),s.jsx("p",{className:"text-sm text-emerald-300/50 mt-2",children:"Jobs will appear here once assigned"})]})}),s.jsx(Wh,{children:s.jsx(oN,{clientId:(e==null?void 0:e.email)??"landscaper"})})]}),s.jsx(Wh,{children:s.jsx(cNe,{})})]})}function qh({children:e}){return s.jsx("section",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl ring-1 ring-emerald-500/20 shadow-[0_0_25px_-10px_rgba(52,211,153,0.25)] p-4 sm:p-6 lg:p-8",children:e})}function dNe(){const e=Jc();$e();const[t,r]=b.useState([]),[n,a]=b.useState(!0),[i,o]=b.useState(null),[l,c]=b.useState("all");b.useEffect(()=>{u()},[e]);const u=async()=>{try{a(!0);const{data:{user:h}}=await e.auth.getUser();if(h!=null&&h.id){const{data:m,error:g}=await e.from("jobs").select("*").or(`landscaper_id.eq.${h.id},status.eq.available`).order("created_at",{ascending:!1});if(g)throw g;r(m??[])}}catch(h){console.error("Error loading jobs:",h)}finally{a(!1)}},d=(t==null?void 0:t.filter(h=>l==="all"?!0:(h==null?void 0:h.status)===l))??[],f=async(h,m)=>{try{o(h);const{data:{user:g}}=await e.auth.getUser();if(!(g!=null&&g.id))return;let p={};m==="accept"?p={status:"assigned",landscaper_id:g.id,accepted_at:new Date().toISOString()}:m==="decline"?p={status:"available",landscaper_id:null}:m==="complete"&&(p={status:"completed",completed_at:new Date().toISOString()});const{error:v}=await e.from("jobs").update(p).eq("id",h);if(v)throw v;await u()}catch(g){console.error(`Error performing ${m} on job:`,g),alert(`Failed to ${m} job. Please try again.`)}finally{o(null)}};return n?s.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:s.jsx(qh,{children:s.jsx("div",{className:"text-emerald-300/70 text-center py-8",children:"Loading jobs..."})})}):s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6",children:[s.jsx(qh,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-emerald-300",children:"Job Management"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"All Jobs"},{key:"available",label:"Available"},{key:"assigned",label:"Assigned"},{key:"in_progress",label:"In Progress"},{key:"completed",label:"Completed"}].map(h=>s.jsx("button",{onClick:()=>c(h.key),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${l===h.key?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/50 shadow-lg shadow-emerald-500/20":"bg-black/40 text-emerald-300/70 border border-emerald-500/25 hover:bg-black/60"}`,children:h.label},h.key))})]})}),s.jsx(qh,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-emerald-300",children:[l==="all"?"All Jobs":`${l.charAt(0).toUpperCase()+l.slice(1).replace("_"," ")} Jobs`,"(",(d==null?void 0:d.length)??0,")"]}),(d==null?void 0:d.length)===0?s.jsxs("div",{className:"text-center py-12 text-emerald-300/70",children:[s.jsx("p",{children:"No jobs found for the selected filter."}),s.jsx("p",{className:"text-sm text-emerald-300/50 mt-2",children:"Check back later for new opportunities"})]}):s.jsx("div",{className:"space-y-4",children:(d==null?void 0:d.map(h=>{var m,g,p;return s.jsx("div",{className:"bg-black/40 border border-emerald-500/25 rounded-xl p-5",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("h4",{className:"text-lg font-semibold text-emerald-300",children:(h==null?void 0:h.service_type)??"Service Request"}),s.jsx("p",{className:"text-sm text-emerald-300/70",children:(h==null?void 0:h.service_address)??(h==null?void 0:h.property_address)??"No address"}),s.jsx("p",{className:"text-sm text-emerald-300/60",children:(h==null?void 0:h.description)??(h==null?void 0:h.notes)??"No description"}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm pt-2",children:[s.jsxs("span",{className:"text-emerald-400 font-semibold",children:["$",((m=h==null?void 0:h.price)==null?void 0:m.toFixed(2))??((g=h==null?void 0:h.amount)==null?void 0:g.toFixed(2))??"0.00"]}),s.jsx("span",{className:`px-2 py-1 rounded-lg font-medium ${(h==null?void 0:h.status)==="completed"?"bg-green-500/20 text-green-300":(h==null?void 0:h.status)==="in_progress"?"bg-blue-500/20 text-blue-300":(h==null?void 0:h.status)==="assigned"?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300"}`,children:((p=h==null?void 0:h.status)==null?void 0:p.replace("_"," "))??"pending"})]})]}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[(h==null?void 0:h.status)==="available"&&s.jsx(s.Fragment,{children:s.jsx("button",{onClick:()=>f(h.id,"accept"),disabled:i===h.id,className:"px-4 py-2 bg-emerald-500/20 text-emerald-200 border border-emerald-500/50 rounded-xl hover:bg-emerald-500/30 transition-all duration-200 text-sm font-medium disabled:opacity-50",children:i===h.id?"Processing...":"Accept"})}),((h==null?void 0:h.status)==="assigned"||(h==null?void 0:h.status)==="in_progress")&&s.jsx("button",{onClick:()=>f(h.id,"complete"),disabled:i===h.id,className:"px-4 py-2 bg-blue-500/20 text-blue-200 border border-blue-500/50 rounded-xl hover:bg-blue-500/30 transition-all duration-200 text-sm font-medium disabled:opacity-50",children:i===h.id?"Processing...":"Mark Complete"})]})]})},h==null?void 0:h.id)}))??[]})]})}),(d==null?void 0:d.length)>0&&s.jsx(qh,{children:s.jsx(EL,{jobs:(d==null?void 0:d.slice(0,5))??[]})})]})}var we=function(){return we=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},we.apply(this,arguments)};function fNe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function PL(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Wf(e){return e.mode==="multiple"}function qf(e){return e.mode==="range"}function ex(e){return e.mode==="single"}var hNe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function mNe(e,t){return Ht(e,"LLLL y",t)}function pNe(e,t){return Ht(e,"d",t)}function gNe(e,t){return Ht(e,"LLLL",t)}function vNe(e){return"".concat(e)}function xNe(e,t){return Ht(e,"cccccc",t)}function yNe(e,t){return Ht(e,"yyyy",t)}var bNe=Object.freeze({__proto__:null,formatCaption:mNe,formatDay:pNe,formatMonthCaption:gNe,formatWeekNumber:vNe,formatWeekdayName:xNe,formatYearCaption:yNe}),wNe=function(e,t,r){return Ht(e,"do MMMM (EEEE)",r)},jNe=function(){return"Month: "},SNe=function(){return"Go to next month"},NNe=function(){return"Go to previous month"},_Ne=function(e,t){return Ht(e,"cccc",t)},ENe=function(e){return"Week n. ".concat(e)},PNe=function(){return"Year: "},kNe=Object.freeze({__proto__:null,labelDay:wNe,labelMonthDropdown:jNe,labelNext:SNe,labelPrevious:NNe,labelWeekNumber:ENe,labelWeekday:_Ne,labelYearDropdown:PNe});function CNe(){var e="buttons",t=hNe,r=W1,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:bNe,labels:kNe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function ANe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Ur(n):t&&(i=new Date(t,0,1)),a?o=nv(a):r&&(o=new Date(r,11,31)),{fromDate:i?cc(i):void 0,toDate:o?cc(o):void 0}}var kL=b.createContext(void 0);function ONe(e){var t,r=e.initialProps,n=CNe(),a=ANe(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(ex(r)||Wf(r)||qf(r))&&(c=r.onSelect);var u=we(we(we({},n),r),{captionLayout:l,classNames:we(we({},n.classNames),r.classNames),components:we({},r.components),formatters:we(we({},n.formatters),r.formatters),fromDate:i,labels:we(we({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:we(we({},n.modifiers),r.modifiers),modifiersClassNames:we(we({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:we(we({},n.styles),r.styles),toDate:o});return s.jsx(kL.Provider,{value:u,children:e.children})}function ut(){var e=b.useContext(kL);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function CL(e){var t=ut(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function TNe(e){return s.jsx("svg",we({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function AL(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=ut(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:TNe;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function RNe(e){var t,r=ut(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var f=[];if(OY(n,a))for(var h=Ur(n),m=n.getMonth();m<=a.getMonth();m++)f.push(ry(h,m));else for(var h=Ur(new Date),m=0;m<=11;m++)f.push(ry(h,m));var g=function(v){var x=Number(v.target.value),y=ry(Ur(e.displayMonth),x);e.onChange(y)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:AL;return s.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(v){return s.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function INe(e){var t,r=e.displayMonth,n=ut(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),g=i.getFullYear(),p=m;p<=g;p++)h.push(XE(G5(new Date),p));var v=function(y){var w=XE(Ur(r),Number(y.target.value));e.onChange(w)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:AL;return s.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(y){return s.jsx("option",{value:y.getFullYear(),children:d(y,{locale:o})},y.getFullYear())})})}function $Ne(e,t){var r=b.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function MNe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&dc(i,a)<0){var u=-1*(c-1);a=fs(i,u)}return o&&dc(a,o)<0&&(a=o),Ur(a)}function DNe(){var e=ut(),t=MNe(e),r=$Ne(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Ur(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function LNe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Ur(e),i=Ur(fs(a,n)),o=dc(i,a),l=[],c=0;c<o;c++){var u=fs(a,c);l.push(u)}return r&&(l=l.reverse()),l}function FNe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Ur(e);if(!r)return fs(l,o);var c=dc(r,e);if(!(c<i))return fs(l,o)}}function BNe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Ur(e);if(!r)return fs(l,-o);var c=dc(l,r);if(!(c<=0))return fs(l,-o)}}var OL=b.createContext(void 0);function UNe(e){var t=ut(),r=DNe(),n=r[0],a=r[1],i=LNe(n,t),o=FNe(n,t),l=BNe(n,t),c=function(f){return i.some(function(h){return q1(f,h)})},u=function(f,h){c(f)||(h&&e$(f,h)?a(fs(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(OL.Provider,{value:d,children:e.children})}function Hf(){var e=b.useContext(OL);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function gA(e){var t,r=ut(),n=r.classNames,a=r.styles,i=r.components,o=Hf().goToMonth,l=function(d){o(fs(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:CL,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(RNe,{onChange:l,displayMonth:e.displayMonth}),s.jsx(INe,{onChange:l,displayMonth:e.displayMonth})]})}function VNe(e){return s.jsx("svg",we({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function zNe(e){return s.jsx("svg",we({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ug=b.forwardRef(function(e,t){var r=ut(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=we(we({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",we({},e,{ref:t,type:"button",className:o,style:l}))});function WNe(e){var t,r,n=ut(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var h=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:zNe,x=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:VNe;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(ug,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(x,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(ug,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(x,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function vA(e){var t=ut().numberOfMonths,r=Hf(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(g){return q1(e.displayMonth,g)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&i(n)},m=function(){a&&i(a)};return s.jsx(WNe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function qNe(e){var t,r=ut(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:CL,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(gA,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(gA,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(vA,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(vA,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:u})}function HNe(e){var t=ut(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function KNe(e,t,r){for(var n=r?Io(new Date):Vs(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Sr(n,i);a.push(o)}return a}function GNe(){var e=ut(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=KNe(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function YNe(){var e,t=ut(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:GNe;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function JNe(e){var t=ut(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var lN=b.createContext(void 0);function XNe(e){if(!Wf(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(lN.Provider,{value:t,children:e.children})}return s.jsx(QNe,{initialProps:e.initialProps,children:e.children})}function QNe(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var p=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!p){var v=n?PL([],n):[];if(d.selected){var x=v.findIndex(function(y){return Mr(u,y)});v.splice(x,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return Mr(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(lN.Provider,{value:c,children:r})}function cN(){var e=b.useContext(lN);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function ZNe(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Mr(a,e)&&Mr(n,e)?void 0:Mr(a,e)?{from:a,to:void 0}:Mr(n,e)?void 0:mb(n,e)?{from:e,to:a}:{from:n,to:e}:a?mb(e,a)?{from:a,to:e}:{from:e,to:a}:n?e$(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var uN=b.createContext(void 0);function e_e(e){if(!qf(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(uN.Provider,{value:t,children:e.children})}return s.jsx(t_e,{initialProps:e.initialProps,children:e.children})}function t_e(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,c=t.max,u=function(m,g,p){var v,x;(v=t.onDayClick)===null||v===void 0||v.call(t,m,g,p);var y=ZNe(m,n);(x=t.onSelect)===null||x===void 0||x.call(t,y,m,g,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],Mr(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:ty(i,l-1),before:Sr(i,l-1)}),i&&o&&d.disabled.push({after:i,before:Sr(i,l-1)}),!i&&o&&d.disabled.push({after:ty(o,l-1),before:Sr(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:Sr(i,-c+1)}),d.disabled.push({after:Sr(i,c-1)})),i&&o){var f=As(o,i)+1,h=c-f;d.disabled.push({before:ty(i,h)}),d.disabled.push({after:Sr(o,h)})}!i&&o&&(d.disabled.push({before:Sr(o,-c+1)}),d.disabled.push({after:Sr(o,c-1)}))}return s.jsx(uN.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function dN(){var e=b.useContext(uN);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function ym(e){return Array.isArray(e)?PL([],e):e!==void 0?[e]:[]}function r_e(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=ym(a)}),t}var ms;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(ms||(ms={}));var n_e=ms.Selected,Qs=ms.Disabled,s_e=ms.Hidden,a_e=ms.Today,Oy=ms.RangeEnd,Ty=ms.RangeMiddle,Ry=ms.RangeStart,i_e=ms.Outside;function o_e(e,t,r){var n,a=(n={},n[n_e]=ym(e.selected),n[Qs]=ym(e.disabled),n[s_e]=ym(e.hidden),n[a_e]=[e.today],n[Oy]=[],n[Ty]=[],n[Ry]=[],n[i_e]=[],n);return e.fromDate&&a[Qs].push({before:e.fromDate}),e.toDate&&a[Qs].push({after:e.toDate}),Wf(e)?a[Qs]=a[Qs].concat(t.modifiers[Qs]):qf(e)&&(a[Qs]=a[Qs].concat(r.modifiers[Qs]),a[Ry]=r.modifiers[Ry],a[Ty]=r.modifiers[Ty],a[Oy]=r.modifiers[Oy]),a}var TL=b.createContext(void 0);function l_e(e){var t=ut(),r=cN(),n=dN(),a=o_e(t,r,n),i=r_e(t.modifiers),o=we(we({},a),i);return s.jsx(TL.Provider,{value:o,children:e.children})}function RL(){var e=b.useContext(TL);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function c_e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function u_e(e){return!!(e&&typeof e=="object"&&"from"in e)}function d_e(e){return!!(e&&typeof e=="object"&&"after"in e)}function f_e(e){return!!(e&&typeof e=="object"&&"before"in e)}function h_e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function m_e(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=As(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=As(e,n)>=0&&As(a,e)>=0;return o}return a?Mr(a,e):n?Mr(n,e):!1}function p_e(e){return V1(e)}function g_e(e){return Array.isArray(e)&&e.every(V1)}function v_e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(p_e(r))return Mr(e,r);if(g_e(r))return r.includes(e);if(u_e(r))return m_e(e,r);if(h_e(r))return r.dayOfWeek.includes(e.getDay());if(c_e(r)){var n=As(r.before,e),a=As(r.after,e),i=n>0,o=a<0,l=mb(r.before,r.after);return l?o&&i:i||o}return d_e(r)?As(e,r.after)>0:f_e(r)?As(r.before,e)>0:typeof r=="function"?r(e):!1})}function fN(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return v_e(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!q1(e,r)&&(a.outside=!0),a}function x_e(e,t){for(var r=Ur(e[0]),n=nv(e[e.length-1]),a,i,o=r;o<=n;){var l=fN(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Sr(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Sr(o,1)}return i||a}var y_e=365;function IL(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Sr,week:hb,month:fs,year:yG,startOfWeek:function(v){return a.ISOWeek?Io(v):Vs(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?Y5(v):z1(v,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=bG([u,m]):n==="after"&&d&&(m=wG([d,m]));var g=!0;if(i){var p=fN(m,i);g=!p.disabled&&!p.hidden}return g?m:l.count>y_e?l.lastFocused:IL(m,{moveBy:r,direction:n,context:a,modifiers:i,retry:we(we({},l),{count:l.count+1})})}var $L=b.createContext(void 0);function b_e(e){var t=Hf(),r=RL(),n=b.useState(),a=n[0],i=n[1],o=b.useState(),l=o[0],c=o[1],u=x_e(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),i(void 0)},h=function(v){i(v)},m=ut(),g=function(v,x){if(a){var y=IL(a,{moveBy:v,direction:x,context:m,modifiers:r});Mr(a,y)||(t.goToDate(y,a),h(y))}},p={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx($L.Provider,{value:p,children:e.children})}function hN(){var e=b.useContext($L);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function w_e(e,t){var r=RL(),n=fN(e,r,t);return n}var mN=b.createContext(void 0);function j_e(e){if(!ex(e.initialProps)){var t={selected:void 0};return s.jsx(mN.Provider,{value:t,children:e.children})}return s.jsx(S_e,{initialProps:e.initialProps,children:e.children})}function S_e(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(mN.Provider,{value:a,children:r})}function ML(){var e=b.useContext(mN);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function N_e(e,t){var r=ut(),n=ML(),a=cN(),i=dN(),o=hN(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,g=o.focusMonthAfter,p=o.focusYearBefore,v=o.focusYearAfter,x=o.focusStartOfWeek,y=o.focusEndOfWeek,w=function($){var A,M,q,Y;ex(r)?(A=n.onDayClick)===null||A===void 0||A.call(n,e,t,$):Wf(r)?(M=a.onDayClick)===null||M===void 0||M.call(a,e,t,$):qf(r)?(q=i.onDayClick)===null||q===void 0||q.call(i,e,t,$):(Y=r.onDayClick)===null||Y===void 0||Y.call(r,e,t,$)},N=function($){var A;h(e),(A=r.onDayFocus)===null||A===void 0||A.call(r,e,t,$)},S=function($){var A;f(),(A=r.onDayBlur)===null||A===void 0||A.call(r,e,t,$)},j=function($){var A;(A=r.onDayMouseEnter)===null||A===void 0||A.call(r,e,t,$)},_=function($){var A;(A=r.onDayMouseLeave)===null||A===void 0||A.call(r,e,t,$)},E=function($){var A;(A=r.onDayPointerEnter)===null||A===void 0||A.call(r,e,t,$)},P=function($){var A;(A=r.onDayPointerLeave)===null||A===void 0||A.call(r,e,t,$)},C=function($){var A;(A=r.onDayTouchCancel)===null||A===void 0||A.call(r,e,t,$)},T=function($){var A;(A=r.onDayTouchEnd)===null||A===void 0||A.call(r,e,t,$)},O=function($){var A;(A=r.onDayTouchMove)===null||A===void 0||A.call(r,e,t,$)},F=function($){var A;(A=r.onDayTouchStart)===null||A===void 0||A.call(r,e,t,$)},V=function($){var A;(A=r.onDayKeyUp)===null||A===void 0||A.call(r,e,t,$)},B=function($){var A;switch($.key){case"ArrowLeft":$.preventDefault(),$.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":$.preventDefault(),$.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":$.preventDefault(),$.stopPropagation(),u();break;case"ArrowUp":$.preventDefault(),$.stopPropagation(),d();break;case"PageUp":$.preventDefault(),$.stopPropagation(),$.shiftKey?p():m();break;case"PageDown":$.preventDefault(),$.stopPropagation(),$.shiftKey?v():g();break;case"Home":$.preventDefault(),$.stopPropagation(),x();break;case"End":$.preventDefault(),$.stopPropagation(),y();break}(A=r.onDayKeyDown)===null||A===void 0||A.call(r,e,t,$)},U={onClick:w,onFocus:N,onBlur:S,onKeyDown:B,onKeyUp:V,onMouseEnter:j,onMouseLeave:_,onPointerEnter:E,onPointerLeave:P,onTouchCancel:C,onTouchEnd:T,onTouchMove:O,onTouchStart:F};return U}function __e(){var e=ut(),t=ML(),r=cN(),n=dN(),a=ex(e)?t.selected:Wf(e)?r.selected:qf(e)?n.selected:void 0;return a}function E_e(e){return Object.values(ms).includes(e)}function P_e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(E_e(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function k_e(e,t){var r=we({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=we(we({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function C_e(e,t,r){var n,a,i,o=ut(),l=hN(),c=w_e(e,t),u=N_e(e,c),d=__e(),f=!!(o.onDayClick||o.mode!=="default");b.useEffect(function(){var j;c.outside||l.focusedDay&&f&&Mr(l.focusedDay,e)&&((j=r.current)===null||j===void 0||j.focus())},[l.focusedDay,e,r,f,c.outside]);var h=P_e(o,c).join(" "),m=k_e(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:JNe,v=s.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),x={style:m,className:h,children:v,role:"gridcell"},y=l.focusTarget&&Mr(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Mr(l.focusedDay,e),N=we(we(we({},x),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||y?0:-1,n)),u),S={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:N,divProps:x};return S}function A_e(e){var t=b.useRef(null),r=C_e(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(ug,we({name:"day",ref:t},r.buttonProps)):s.jsx("div",we({},r.divProps))}function O_e(e){var t=e.number,r=e.dates,n=ut(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return s.jsx(ug,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function T_e(e){var t,r,n=ut(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:A_e,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:O_e,d;return o&&(d=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(f){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:f})},kY(f))})]})}function xA(e,t,r){for(var n=r!=null&&r.ISOWeek?Y5(t):z1(t,r),a=r!=null&&r.ISOWeek?Io(e):Vs(e,r),i=As(n,a),o=[],l=0;l<=i;l++)o.push(Sr(a,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?J5(d):Q5(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function R_e(e,t){var r=xA(Ur(e),nv(e),t);if(t!=null&&t.useFixedWeeks){var n=AY(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=hb(i,6-n),l=xA(hb(i,1),o,t);r.push.apply(r,l)}}return r}function I_e(e){var t,r,n,a=ut(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,g=R_e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:YNe,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:T_e,x=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:HNe;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(p,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(y){return s.jsx(v,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),s.jsx(x,{displayMonth:e.displayMonth})]})}function $_e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var M_e=$_e()?b.useLayoutEffect:b.useEffect,Iy=!1,D_e=0;function yA(){return"react-day-picker-".concat(++D_e)}function L_e(e){var t,r=e??(Iy?yA():null),n=b.useState(r),a=n[0],i=n[1];return M_e(function(){a===null&&i(yA())},[]),b.useEffect(function(){Iy===!1&&(Iy=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function F_e(e){var t,r,n=ut(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=Hf().displayMonths,u=L_e(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!m&&!g;a==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(f.push(i.caption_start),h=we(we({},h),o.caption_start)),g&&(f.push(i.caption_end),h=we(we({},h),o.caption_end)),p&&(f.push(i.caption_between),h=we(we({},h),o.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:qNe;return s.jsxs("div",{className:f.join(" "),style:h,children:[s.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(I_e,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function B_e(e){var t=ut(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function U_e(e){var t,r,n=e.initialProps,a=ut(),i=hN(),o=Hf(),l=b.useState(!1),c=l[0],u=l[1];b.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=we(we({},a.styles.root),a.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var v;return we(we({},g),(v={},v[p]=n[p],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:B_e;return s.jsx("div",we({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:s.jsx(m,{children:o.displayMonths.map(function(g,p){return s.jsx(F_e,{displayIndex:p,displayMonth:g},p)})})}))}function V_e(e){var t=e.children,r=fNe(e,["children"]);return s.jsx(ONe,{initialProps:r,children:s.jsx(UNe,{children:s.jsx(j_e,{initialProps:r,children:s.jsx(XNe,{initialProps:r,children:s.jsx(e_e,{initialProps:r,children:s.jsx(l_e,{children:s.jsx(b_e,{children:t})})})})})})})}function z_e(e){return s.jsx(V_e,we({},e,{children:s.jsx(U_e,{initialProps:e})}))}function DL({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(z_e,{showOutsideDays:r,className:fe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium text-foreground",nav:"space-x-1 flex items-center",nav_button:fe($0({variant:"outline",size:"sm"}),"h-7 w-7 bg-transparent p-0 opacity-70 hover:opacity-100 transition-opacity"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:fe($0({variant:"ghost",size:"sm"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100 hover:text-accent-foreground"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground rounded-md transition-colors",day_today:"bg-accent/50 text-accent-foreground rounded-md",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/30 aria-selected:text-muted-foreground aria-selected:opacity-40",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent/60 aria-selected:text-accent-foreground rounded-none",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(OU,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(p4,{className:"h-4 w-4"})},...n})}DL.displayName="Calendar";var tx="Popover",[LL]=Rn(tx,[Gg]),Kf=Gg(),[W_e,Di]=LL(tx),FL=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Kf(t),c=b.useRef(null),[u,d]=b.useState(!1),[f,h]=xi({prop:n,defaultProp:a??!1,onChange:i,caller:tx});return s.jsx(rI,{...l,children:s.jsx(W_e,{scope:t,contentId:fa(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:b.useCallback(()=>d(!0),[]),onCustomAnchorRemove:b.useCallback(()=>d(!1),[]),modal:o,children:r})})};FL.displayName=tx;var BL="PopoverAnchor",q_e=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Di(BL,r),i=Kf(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return b.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(P1,{...i,...n,ref:t})});q_e.displayName=BL;var UL="PopoverTrigger",VL=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Di(UL,r),i=Kf(r),o=De(t,a.triggerRef),l=s.jsx(ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":KL(a.open),...n,ref:o,onClick:be(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(P1,{asChild:!0,...i,children:l})});VL.displayName=UL;var pN="PopoverPortal",[H_e,K_e]=LL(pN,{forceMount:void 0}),zL=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Di(pN,t);return s.jsx(H_e,{scope:t,forceMount:r,children:s.jsx(In,{present:r||i.open,children:s.jsx(Yg,{asChild:!0,container:a,children:n})})})};zL.displayName=pN;var Fc="PopoverContent",WL=b.forwardRef((e,t)=>{const r=K_e(Fc,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Di(Fc,e.__scopePopover);return s.jsx(In,{present:n||i.open,children:i.modal?s.jsx(Y_e,{...a,ref:t}):s.jsx(J_e,{...a,ref:t})})});WL.displayName=Fc;var G_e=ko("PopoverContent.RemoveScroll"),Y_e=b.forwardRef((e,t)=>{const r=Di(Fc,e.__scopePopover),n=b.useRef(null),a=De(t,n),i=b.useRef(!1);return b.useEffect(()=>{const o=n.current;if(o)return k1(o)},[]),s.jsx(Xg,{as:G_e,allowPinchZoom:!0,children:s.jsx(qL,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:be(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:be(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),J_e=b.forwardRef((e,t)=>{const r=Di(Fc,e.__scopePopover),n=b.useRef(!1),a=b.useRef(!1);return s.jsx(qL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),qL=b.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Di(Fc,r),m=Kf(r);return x1(),s.jsx(zg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Vg,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(nI,{"data-state":KL(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),HL="PopoverClose",X_e=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Di(HL,r);return s.jsx(ye.button,{type:"button",...n,ref:t,onClick:be(e.onClick,()=>a.onOpenChange(!1))})});X_e.displayName=HL;var Q_e="PopoverArrow",Z_e=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Kf(r);return s.jsx(sI,{...a,...n,ref:t})});Z_e.displayName=Q_e;function KL(e){return e?"open":"closed"}var eEe=FL,tEe=VL,rEe=zL,GL=WL;const nEe=eEe,sEe=tEe,YL=b.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(rEe,{children:s.jsx(GL,{ref:a,align:t,sideOffset:r,className:fe("z-50 w-72 rounded-md border border-border/40 bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 duration-200",e),...n})}));YL.displayName=GL.displayName;function aEe({payoutId:e,onSuccess:t,onCancel:r}){const[n,a]=b.useState(""),[i,o]=b.useState(""),[l,c]=b.useState([]),[u,d]=b.useState(!1),[f,h]=b.useState(""),m=p=>{p.target.files&&c(Array.from(p.target.files))},g=async p=>{p.preventDefault(),d(!0),h("");try{const v=[];for(const w of l){const N=`${Date.now()}-${w.name}`,{data:S,error:j}=await R.storage.from("landscaper-documents").upload(`dispute-evidence/${N}`,w);if(j)throw j;const{data:{publicUrl:_}}=R.storage.from("landscaper-documents").getPublicUrl(S.path);v.push(_)}const{data:x,error:y}=await R.functions.invoke("submit-payout-dispute",{body:{payoutId:e,disputeReason:n,disputeDetails:i,evidenceUrls:v}});if(y)throw y;t()}catch(v){h(v.message)}finally{d(!1)}};return s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Dispute Reason"}),s.jsxs(ur,{value:n,onValueChange:a,required:!0,children:[s.jsx(rr,{children:s.jsx(dr,{placeholder:"Select reason"})}),s.jsxs(nr,{children:[s.jsx(ce,{value:"incorrect_amount",children:"Incorrect Amount"}),s.jsx(ce,{value:"payout_failed",children:"Payout Failed"}),s.jsx(ce,{value:"missing_payout",children:"Missing Payout"}),s.jsx(ce,{value:"account_issue",children:"Account Issue"}),s.jsx(ce,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Details"}),s.jsx(ka,{value:i,onChange:p=>o(p.target.value),placeholder:"Provide detailed information about the dispute...",rows:4,required:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Evidence (Optional)"}),s.jsxs("div",{className:"border-2 border-dashed rounded-lg p-4",children:[s.jsx("input",{type:"file",multiple:!0,onChange:m,className:"hidden",id:"evidence-upload",accept:"image/*,.pdf"}),s.jsxs("label",{htmlFor:"evidence-upload",className:"cursor-pointer flex items-center gap-2",children:[s.jsx(S4,{className:"h-5 w-5"}),s.jsx("span",{children:l.length>0?`${l.length} file(s) selected`:"Upload evidence"})]})]})]}),f&&s.jsxs(ze,{variant:"destructive",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsx(We,{children:f})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(L,{type:"submit",disabled:u,children:u?"Submitting...":"Submit Dispute"}),s.jsx(L,{type:"button",variant:"outline",onClick:r,children:"Cancel"})]})]})}function JL(){const[e,t]=b.useState([]),[r,n]=b.useState(null),[a,i]=b.useState(0),[o,l]=b.useState(!0),[c,u]=b.useState("all"),[d,f]=b.useState({});b.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:{user:p}}=await R.auth.getUser();if(!p)return;const{data:v}=await R.from("landscapers").select("id").eq("user_id",p.id).single();if(!v)return;let x=R.from("payouts").select("*").eq("landscaper_id",v.id).order("created_at",{ascending:!1});c!=="all"&&(x=x.eq("status",c)),d.from&&(x=x.gte("payout_date",d.from.toISOString())),d.to&&(x=x.lte("payout_date",d.to.toISOString()));const{data:y}=await x;t(y||[]);const{data:w}=await R.from("payout_schedules").select("*").eq("landscaper_id",v.id).single();n(w);const{data:N}=await R.from("jobs").select("total_amount").eq("landscaper_id",v.id).eq("status","completed").eq("payment_status","paid").is("payout_id",null),S=(N==null?void 0:N.reduce((j,_)=>j+_.total_amount*.9,0))||0;i(S)}catch(p){console.error("Error loading payout data:",p)}finally{l(!1)}},m=()=>{const p=[["Date","Amount","Status","Arrival Date","Jobs","Stripe ID"].join(","),...e.map(w=>[Ht(new Date(w.payout_date),"yyyy-MM-dd"),w.amount.toFixed(2),w.status,w.arrival_date?Ht(new Date(w.arrival_date),"yyyy-MM-dd"):"",w.job_ids.length,w.stripe_payout_id||""].join(","))].join(`
`),v=new Blob([p],{type:"text/csv"}),x=window.URL.createObjectURL(v),y=document.createElement("a");y.href=x,y.download=`payouts-${Ht(new Date,"yyyy-MM-dd")}.csv`,y.click()},g=p=>{const v={paid:{variant:"default",icon:Oe,color:"text-green-500"},processing:{variant:"secondary",icon:it,color:"text-blue-500"},pending:{variant:"outline",icon:it,color:"text-yellow-500"},failed:{variant:"destructive",icon:gt,color:"text-red-500"}},x=v[p]||v.pending,y=x.icon;return s.jsxs(J,{variant:x.variant,className:"flex items-center gap-1",children:[s.jsx(y,{className:`h-3 w-3 ${x.color}`}),p.charAt(0).toUpperCase()+p.slice(1)]})};return o?s.jsx("div",{className:"flex items-center justify-center p-8",children:"Loading..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Pending Earnings"}),s.jsx(jt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(D,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",a.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:r&&`Min. payout: $${r.minimum_payout}`})]})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Next Payout"}),s.jsx(ar,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(D,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r!=null&&r.next_payout_date?Ht(new Date(r.next_payout_date),"MMM dd"):"Not scheduled"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(r==null?void 0:r.schedule_type)||"No schedule set"})]})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium",children:"Total Paid Out"}),s.jsx(Oe,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(D,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",e.filter(p=>p.status==="paid").reduce((p,v)=>p+v.amount,0).toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.filter(p=>p.status==="paid").length," payouts"]})]})]})]}),s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Payout History"}),s.jsx(Be,{children:"View and export your payout history"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(L,{variant:"outline",size:"sm",onClick:m,children:[s.jsx(Ei,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsxs(L,{variant:"outline",size:"sm",children:[s.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]})}),s.jsxs(D,{children:[s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsxs(ur,{value:c,onValueChange:u,children:[s.jsx(rr,{className:"w-[180px]",children:s.jsx(dr,{placeholder:"Filter by status"})}),s.jsxs(nr,{children:[s.jsx(ce,{value:"all",children:"All Status"}),s.jsx(ce,{value:"paid",children:"Paid"}),s.jsx(ce,{value:"processing",children:"Processing"}),s.jsx(ce,{value:"pending",children:"Pending"}),s.jsx(ce,{value:"failed",children:"Failed"})]})]}),s.jsxs(nEe,{children:[s.jsx(sEe,{asChild:!0,children:s.jsxs(L,{variant:"outline",size:"sm",children:[s.jsx(ar,{className:"h-4 w-4 mr-2"}),d.from?Ht(d.from,"MMM dd"):"Date range"]})}),s.jsx(YL,{className:"w-auto p-0",align:"start",children:s.jsx(DL,{mode:"range",selected:{from:d.from,to:d.to},onSelect:p=>f(p||{})})})]}),(c!=="all"||d.from)&&s.jsx(L,{variant:"ghost",size:"sm",onClick:()=>{u("all"),f({}),h()},children:"Clear filters"})]}),s.jsxs("div",{className:"space-y-4",children:[e.map(p=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-lg font-semibold",children:["$",p.amount.toFixed(2)]}),g(p.status)]}),s.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[Ht(new Date(p.payout_date),"MMM dd, yyyy"),p.arrival_date&&` • Arrives ${Ht(new Date(p.arrival_date),"MMM dd")}`,` • ${p.job_ids.length} jobs`]}),p.failure_message&&s.jsx("div",{className:"text-sm text-red-500 mt-1",children:p.failure_message})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[(p.status==="failed"||p.status==="pending")&&s.jsxs(Ko,{children:[s.jsx(b5,{asChild:!0,children:s.jsxs(L,{variant:"outline",size:"sm",children:[s.jsx(ct,{className:"h-4 w-4 mr-2"}),"Dispute"]})}),s.jsxs(Ai,{children:[s.jsx(Oi,{children:s.jsx(Ti,{children:"Submit Payout Dispute"})}),s.jsx(aEe,{payoutId:p.id,onSuccess:()=>{h()},onCancel:()=>{}})]})]}),p.stripe_payout_id&&s.jsxs("code",{className:"text-xs",children:[p.stripe_payout_id.slice(0,20),"..."]})]})]},p.id)),e.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No payouts found"})]})]})]})]})}function Hh({children:e}){return s.jsx("section",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl ring-1 ring-emerald-500/20 shadow-[0_0_25px_-10px_rgba(52,211,153,0.25)] p-4 sm:p-6 lg:p-8",children:e})}function iEe(){var g,p;const e=Jc(),[t,r]=b.useState([]),[n,a]=b.useState([]),[i,o]=b.useState(!0),[l,c]=b.useState("month");b.useEffect(()=>{u()},[e]);const u=async()=>{try{o(!0);const{data:{user:v}}=await e.auth.getUser();if(v!=null&&v.id){const{data:x,error:y}=await e.from("jobs").select("*").eq("landscaper_id",v.id).eq("status","completed").order("completed_at",{ascending:!1});if(y)throw y;const w=(x==null?void 0:x.map(j=>({id:j.id,jobId:j.id,jobTitle:j.service_type||"Service",amount:j.price||j.amount||0,status:j.payout_status||"pending_payout",completedDate:j.completed_at||j.updated_at,client:j.customer_name||"Client",payoutDate:j.payout_date})))??[],{data:N,error:S}=await e.from("payouts").select("*").eq("landscaper_id",v.id).order("created_at",{ascending:!1});if(S)throw S;r(w),a(N??[])}}catch(v){console.error("Error loading earnings data:",v)}finally{o(!1)}},d=(t==null?void 0:t.filter(v=>{if(!(v!=null&&v.completedDate))return!1;const x=new Date(v.completedDate),y=new Date;switch(l){case"week":return y.getTime()-x.getTime()<=7*24*60*60*1e3;case"month":return y.getTime()-x.getTime()<=30*24*60*60*1e3;case"year":return y.getTime()-x.getTime()<=365*24*60*60*1e3;default:return!0}}))??[],f=(d==null?void 0:d.reduce((v,x)=>v+((x==null?void 0:x.amount)??0),0))??0,h=((g=t==null?void 0:t.filter(v=>(v==null?void 0:v.status)==="pending_payout"))==null?void 0:g.reduce((v,x)=>v+((x==null?void 0:x.amount)??0),0))??0,m=(d==null?void 0:d.length)??0;return i?s.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:s.jsx(Hh,{children:s.jsx("div",{className:"text-emerald-300/70 text-center py-8",children:"Loading earnings..."})})}):s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6",children:[s.jsx(Hh,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsx("h2",{className:"text-xl font-bold text-emerald-300",children:"Earnings & Payouts"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:[{key:"week",label:"Week"},{key:"month",label:"Month"},{key:"year",label:"Year"}].map(v=>s.jsx("button",{onClick:()=>c(v.key),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${l===v.key?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/50 shadow-lg shadow-emerald-500/20":"bg-black/40 text-emerald-300/70 border border-emerald-500/25 hover:bg-black/60"}`,children:v.label},v.key))})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-6 bg-black/40 border border-emerald-500/25 rounded-xl",children:[s.jsxs("div",{className:"text-3xl font-bold text-emerald-400",children:["$",(f==null?void 0:f.toFixed(2))??"0.00"]}),s.jsx("div",{className:"text-sm text-emerald-300/70 mt-2",children:"Total Earnings"})]}),s.jsxs("div",{className:"text-center p-6 bg-black/40 border border-emerald-500/25 rounded-xl",children:[s.jsxs("div",{className:"text-3xl font-bold text-yellow-400",children:["$",(h==null?void 0:h.toFixed(2))??"0.00"]}),s.jsx("div",{className:"text-sm text-emerald-300/70 mt-2",children:"Pending Payouts"})]}),s.jsxs("div",{className:"text-center p-6 bg-black/40 border border-emerald-500/25 rounded-xl",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-400",children:m}),s.jsx("div",{className:"text-sm text-emerald-300/70 mt-2",children:"Completed Jobs"})]})]})]})}),s.jsx(Hh,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-emerald-300",children:"Recent Earnings"}),(d==null?void 0:d.length)===0?s.jsxs("div",{className:"text-center py-12 text-emerald-300/70",children:[s.jsx("p",{children:"No earnings found for the selected time period."}),s.jsx("p",{className:"text-sm text-emerald-300/50 mt-2",children:"Complete jobs to start earning"})]}):s.jsx("div",{className:"space-y-3",children:((p=d==null?void 0:d.slice(0,10))==null?void 0:p.map(v=>{var x;return s.jsx("div",{className:"bg-black/40 border border-emerald-500/25 rounded-xl p-5",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-emerald-300 text-base",children:(v==null?void 0:v.jobTitle)??"Service"}),s.jsxs("p",{className:"text-sm text-emerald-300/70 mt-1",children:["Client: ",(v==null?void 0:v.client)??"Unknown"]}),s.jsxs("p",{className:"text-xs text-emerald-300/60 mt-1",children:["Completed: ",v!=null&&v.completedDate?new Date(v.completedDate).toLocaleDateString():"Unknown"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-xl font-bold text-emerald-400",children:["$",((x=v==null?void 0:v.amount)==null?void 0:x.toFixed(2))??"0.00"]}),s.jsx("div",{className:`text-sm font-medium mt-1 ${(v==null?void 0:v.status)==="paid_out"?"text-emerald-400":(v==null?void 0:v.status)==="pending_payout"?"text-yellow-400":"text-blue-400"}`,children:(v==null?void 0:v.status)==="paid_out"?"Paid Out":(v==null?void 0:v.status)==="pending_payout"?"Pending":"Completed"})]})]})},v==null?void 0:v.id)}))??[]})]})}),(n==null?void 0:n.length)>0&&s.jsx(Hh,{children:s.jsx(JL,{})})]})}async function oEe(){try{const{data:e,error:t}=await R.functions.invoke("stripe-connect-notification",{body:{}});return t?(console.error("Error triggering notifications:",t),{success:!1,error:t}):(console.log("Notifications triggered:",e),{success:!0,data:e})}catch(e){return console.error("Exception triggering notifications:",e),{success:!1,error:e}}}function lEe(e){return R.channel("stripe_connect_notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"stripe_connect_notifications",filter:"processed=eq.false"},async r=>{console.log("New Stripe Connect notification queued:",r),await oEe(),e&&e(r)}).subscribe()}function cEe({landscaperId:e}){const[t,r]=b.useState(null),[n,a]=b.useState(!0),[i,o]=b.useState(!1);b.useEffect(()=>{l();const h=R.channel("landscaper-connect-status").on("postgres_changes",{event:"UPDATE",schema:"public",table:"landscapers",filter:`id=eq.${e}`},g=>{console.log("Connect status updated:",g),l()}).subscribe(),m=lEe(g=>{console.log("Notification queued, email will be sent:",g)});return()=>{R.removeChannel(h),R.removeChannel(m)}},[e]);const l=async()=>{const{data:h}=await R.from("landscapers").select("stripe_connect_id, stripe_account_status, stripe_charges_enabled, stripe_payouts_enabled, stripe_details_submitted").eq("id",e).single();r(h),a(!1),o(!1)},c=async()=>{o(!0),await l()},u=()=>{window.open("https://dashboard.stripe.com/express","_blank")};if(n)return s.jsx("div",{children:"Loading..."});if(!(t!=null&&t.stripe_connect_id))return null;const d=t.stripe_charges_enabled&&t.stripe_payouts_enabled,f=t.stripe_details_submitted&&!d;return s.jsxs(I,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Payment Account Status"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(J,{variant:d?"default":f?"secondary":"outline",children:d?"Active":f?"Under Review":"Setup Required"}),s.jsx(L,{size:"sm",variant:"ghost",onClick:c,disabled:i,children:s.jsx(tr,{className:`h-4 w-4 ${i?"animate-spin":""}`})})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsx($y,{label:"Charges Enabled",enabled:t.stripe_charges_enabled,description:"Can accept payments from clients"}),s.jsx($y,{label:"Payouts Enabled",enabled:t.stripe_payouts_enabled,description:"Can receive payouts to bank account"}),s.jsx($y,{label:"Details Submitted",enabled:t.stripe_details_submitted,description:"Identity and business info verified"})]}),!d&&s.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx($s,{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-yellow-800",children:t.stripe_details_submitted?"Your account is under review. This typically takes 1-2 business days. We'll email you when it's ready.":"Complete your account setup to start receiving payments. You'll receive email updates on your progress."})]})}),s.jsxs(L,{onClick:u,variant:"outline",className:"w-full",children:[s.jsx(kf,{className:"mr-2 h-4 w-4"}),"Open Stripe Dashboard"]})]})}function $y({label:e,enabled:t,description:r}){return s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e}),s.jsx("p",{className:"text-xs text-gray-500",children:r})]}),t?s.jsx(ba,{className:"h-5 w-5 text-green-500 mt-1"}):s.jsx(it,{className:"h-5 w-5 text-yellow-500 mt-1"})]})}function bA({children:e}){return s.jsx("section",{className:"bg-black/60 backdrop-blur border border-emerald-500/25 rounded-2xl ring-1 ring-emerald-500/20 shadow-[0_0_25px_-10px_rgba(52,211,153,0.25)] p-4 sm:p-6 lg:p-8",children:e})}function uEe(){const e=Jc();$e();const[t,r]=b.useState(null),[n,a]=b.useState(""),[i,o]=b.useState(!0);return b.useEffect(()=>{(async()=>{try{const{data:{user:c}}=await e.auth.getUser();if(c!=null&&c.id){const{data:u}=await e.from("landscapers").select("id, first_name, last_name, phone").eq("user_id",c.id).single();u&&(r(u),a(u.id))}}catch(c){console.error("Error loading profile:",c)}finally{o(!1)}})()},[e]),i?s.jsx("div",{className:"text-white px-4 py-6",children:"Loading..."}):s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[s.jsxs(bA,{children:[s.jsx("h2",{className:"text-xl font-bold text-emerald-300 mb-4",children:"Profile"}),s.jsxs("p",{className:"text-emerald-200",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]})]}),n&&s.jsx(cEe,{landscaperId:n}),s.jsx(bA,{children:s.jsx("button",{onClick:()=>Of(e,"/"),className:"px-6 py-3 bg-red-500/20 text-red-200 border border-red-500/50 rounded-xl",children:"Sign Out"})})]})}function wA(){const e=Jc(),t=$e(),r=Ft(),[n,a]=b.useState(null),[i,o]=b.useState(!0),[l,c]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const{data:{user:m}}=await e.auth.getUser();if(m!=null&&m.id){const g=await lNe(m.id);a(g)}}catch(m){console.error("Error loading profile:",m)}finally{o(!1)}})()},[e]);const u=h=>{t(h)},d=()=>{const h=r.pathname;return h.includes("/jobs")?"jobs":h.includes("/earnings")?"earnings":h.includes("/profile")?"profile":"overview"},f=async()=>{const h=!l;c(h);try{const{data:{user:m}}=await e.auth.getUser();m!=null&&m.id&&await e.from("landscaper_profiles").update({available:h}).eq("user_id",m.id)}catch(m){console.error("Error updating availability:",m),c(!h)}};return s.jsx(nL,{children:s.jsxs(Tf,{children:[s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-[#020b06] to-black text-white pb-20 md:pb-0",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("header",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-12",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsx("div",{children:i?s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-emerald-300",children:"Loading..."}):n?s.jsxs("div",{className:"space-y-1",children:[s.jsxs("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-emerald-300",children:[n.first_name??""," ",n.last_name??""]}),s.jsx("p",{className:"text-xs sm:text-sm text-emerald-300/70 break-all",children:n.email??""})]}):s.jsxs("div",{className:"space-y-1",children:[s.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-emerald-300",children:"Landscaper Dashboard"}),s.jsx("p",{className:"text-xs sm:text-sm text-emerald-300/70",children:"Profile not found"})]})}),s.jsxs("div",{className:"flex flex-row gap-3",children:[s.jsx("button",{onClick:f,className:`px-3 sm:px-4 py-2 rounded-xl font-medium transition-all duration-200 text-sm ${l?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/50 hover:bg-emerald-500/30 shadow-lg shadow-emerald-500/25":"bg-black/60 text-emerald-200 border border-emerald-500/25 hover:bg-black/80"}`,children:l?"Available":"Unavailable"}),s.jsx("button",{onClick:()=>Of(e,"/"),className:"px-3 sm:px-4 py-2 rounded-xl bg-red-500/90 text-white hover:bg-red-500 shadow-lg hover:shadow-red-500/25 transition-all duration-200 text-sm",children:"Logout"})]})]})}),s.jsx("div",{className:"px-4 sm:px-6 lg:px-8 mb-6",children:s.jsxs("div",{className:"bg-black/40 backdrop-blur rounded-2xl p-1 border border-emerald-500/25",children:[s.jsx("div",{className:"hidden sm:grid sm:grid-cols-4 gap-1",children:[{key:"overview",label:"Overview",path:"/landscaper-dashboard/overview"},{key:"jobs",label:"Jobs",path:"/landscaper-dashboard/jobs"},{key:"earnings",label:"Earnings",path:"/landscaper-dashboard/earnings"},{key:"profile",label:"Profile",path:"/landscaper-dashboard/profile"}].map(h=>s.jsxs("button",{onClick:()=>u(h.path),className:`px-4 py-3 rounded-xl font-medium transition-all duration-200 text-sm lg:text-base relative ${d()===h.key?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/50 shadow-lg shadow-emerald-500/25 ring-1 ring-emerald-500/30":"text-emerald-300/70 hover:text-emerald-200 hover:bg-black/20"}`,children:[h.label,d()===h.key&&s.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-8 h-0.5 bg-emerald-400 rounded-full"})]},h.key))}),s.jsx("div",{className:"sm:hidden flex overflow-x-auto gap-1 pb-1",children:[{key:"overview",label:"Overview",path:"/landscaper-dashboard/overview"},{key:"jobs",label:"Jobs",path:"/landscaper-dashboard/jobs"},{key:"earnings",label:"Earnings",path:"/landscaper-dashboard/earnings"},{key:"profile",label:"Profile",path:"/landscaper-dashboard/profile"}].map(h=>s.jsx("button",{onClick:()=>u(h.path),className:`flex-shrink-0 px-4 py-3 rounded-xl font-medium transition-all duration-200 text-sm whitespace-nowrap ${d()===h.key?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/50 shadow-lg shadow-emerald-500/25":"text-emerald-300/70 hover:text-emerald-200 hover:bg-black/20"}`,children:h.label},h.key))})]})}),s.jsxs(Xj,{children:[s.jsx(ae,{path:"overview",element:s.jsx(pA,{profile:n,isAvailable:l})}),s.jsx(ae,{path:"jobs",element:s.jsx(dNe,{})}),s.jsx(ae,{path:"earnings",element:s.jsx(iEe,{})}),s.jsx(ae,{path:"profile",element:s.jsx(uEe,{})}),s.jsx(ae,{path:"",element:s.jsx(pA,{profile:n,isAvailable:l})})]})]})}),s.jsx(ZI,{})]})})}const Ba={totalEarnings:15750,thisMonth:3250,lastMonth:2890,pendingPayouts:850,completedJobs:47,averageJobValue:335};function jA(){const e=((Ba.thisMonth-Ba.lastMonth)/Ba.lastMonth*100).toFixed(1);return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(I,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200",children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium text-green-700",children:"Total Earnings"}),s.jsx(jt,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(D,{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-900",children:["$",Ba.totalEarnings.toLocaleString()]}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"All-time earnings"})]})]}),s.jsxs(I,{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-blue-200",children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium text-blue-700",children:"This Month"}),s.jsx(qs,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(D,{children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["$",Ba.thisMonth.toLocaleString()]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsxs(J,{variant:parseFloat(e)>0?"default":"secondary",className:"text-xs",children:[parseFloat(e)>0?"+":"",e,"%"]}),s.jsx("p",{className:"text-xs text-blue-600 ml-2",children:"vs last month"})]})]})]}),s.jsxs(I,{className:"bg-gradient-to-br from-orange-50 to-amber-50 border-orange-200",children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium text-orange-700",children:"Pending Payouts"}),s.jsx(ar,{className:"h-4 w-4 text-orange-600"})]}),s.jsxs(D,{children:[s.jsxs("div",{className:"text-2xl font-bold text-orange-900",children:["$",Ba.pendingPayouts.toLocaleString()]}),s.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Next payout in 3 days"})]})]}),s.jsxs(I,{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border-purple-200",children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium text-purple-700",children:"Completed Jobs"}),s.jsx(w4,{className:"h-4 w-4 text-purple-600"})]}),s.jsxs(D,{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-900",children:Ba.completedJobs}),s.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Jobs completed"})]})]}),s.jsxs(I,{className:"bg-gradient-to-br from-teal-50 to-cyan-50 border-teal-200",children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(W,{className:"text-sm font-medium text-teal-700",children:"Average Job Value"}),s.jsx(jt,{className:"h-4 w-4 text-teal-600"})]}),s.jsxs(D,{children:[s.jsxs("div",{className:"text-2xl font-bold text-teal-900",children:["$",Ba.averageJobValue.toLocaleString()]}),s.jsx("p",{className:"text-xs text-teal-600 mt-1",children:"Per completed job"})]})]})]})}const dEe=[{id:"1",date:"2024-01-15",amount:1250,status:"completed",jobsCount:5,method:"Bank Transfer"},{id:"2",date:"2024-01-01",amount:890.5,status:"completed",jobsCount:3,method:"Bank Transfer"},{id:"3",date:"2023-12-15",amount:1450,status:"completed",jobsCount:6,method:"Bank Transfer"},{id:"4",date:"2023-12-01",amount:750.25,status:"completed",jobsCount:2,method:"Bank Transfer"},{id:"5",date:"2023-11-15",amount:2100,status:"completed",jobsCount:8,method:"Bank Transfer"}];function SA(){const[e,t]=b.useState("all"),r=dEe.filter(o=>e==="all"||o.status===e),n=o=>{switch(o){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},a=o=>{console.log("Downloading statement for payout:",o),alert(`Downloading statement for payout ${o}`)},i=o=>{console.log("Viewing details for payout:",o),alert(`Viewing details for payout ${o}`)};return s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"h-5 w-5"}),"Payout History"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(L,{variant:e==="all"?"default":"outline",size:"sm",onClick:()=>t("all"),children:"All"}),s.jsx(L,{variant:e==="completed"?"default":"outline",size:"sm",onClick:()=>t("completed"),children:"Completed"}),s.jsx(L,{variant:e==="pending"?"default":"outline",size:"sm",onClick:()=>t("pending"),children:"Pending"})]})]})}),s.jsx(D,{children:s.jsx("div",{className:"space-y-4",children:r.map(o=>s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("span",{className:"font-semibold text-lg",children:["$",o.amount.toLocaleString()]}),s.jsx(J,{className:n(o.status),children:o.status.charAt(0).toUpperCase()+o.status.slice(1)})]}),s.jsx("div",{className:"text-sm text-gray-600",children:s.jsxs("p",{children:[new Date(o.date).toLocaleDateString()," • ",o.jobsCount," jobs • ",o.method]})})]}),s.jsxs("div",{className:"flex gap-2 mt-2 sm:mt-0",children:[s.jsxs(L,{variant:"outline",size:"sm",onClick:()=>i(o.id),className:"flex items-center gap-1",children:[s.jsx(Tg,{className:"h-4 w-4"}),"Details"]}),s.jsxs(L,{variant:"outline",size:"sm",onClick:()=>a(o.id),className:"flex items-center gap-1",children:[s.jsx(Ei,{className:"h-4 w-4"}),"Download"]})]})]},o.id))})})]})}const Kh=[{name:"Bronze",rate:15,minJobs:0,color:"bg-amber-100 text-amber-800",benefits:["Basic commission rate","Standard support"]},{name:"Silver",rate:18,minJobs:10,color:"bg-gray-100 text-gray-800",benefits:["Higher commission rate","Priority support","Marketing materials"]},{name:"Gold",rate:22,minJobs:25,color:"bg-yellow-100 text-yellow-800",benefits:["Premium commission rate","Dedicated account manager","Featured listing"]},{name:"Platinum",rate:25,minJobs:50,color:"bg-purple-100 text-purple-800",benefits:["Maximum commission rate","VIP support","Exclusive opportunities"]}],ws={currentTier:"Silver",currentRate:18,jobsCompleted:47,monthlyCommission:585,totalCommission:2835};function NA(){var n;const e=Kh.findIndex(a=>a.name===ws.currentTier),t=Kh[e+1],r=t?Math.min(ws.jobsCompleted/t.minJobs*100,100):100;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(I,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2 text-blue-800",children:[s.jsx(kU,{className:"h-5 w-5"}),"Commission Status"]})}),s.jsx(D,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[ws.currentRate,"%"]}),s.jsx("p",{className:"text-sm text-blue-600",children:"Current Rate"}),s.jsxs(J,{className:((n=Kh[e])==null?void 0:n.color)||"bg-gray-100",children:[ws.currentTier," Tier"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["$",ws.monthlyCommission]}),s.jsx("p",{className:"text-sm text-blue-600",children:"This Month"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["$",ws.totalCommission]}),s.jsx("p",{className:"text-sm text-blue-600",children:"Total Earned"})]})]})})]}),t&&s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(w4,{className:"h-5 w-5"}),"Progress to ",t.name," Tier"]})}),s.jsx(D,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Jobs Completed"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[ws.jobsCompleted," / ",t.minJobs]})]}),s.jsx(yo,{value:r,className:"h-3"}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:[t.minJobs-ws.jobsCompleted," more jobs to unlock ",t.rate,"% commission"]}),s.jsxs(J,{className:t.color,children:["+",t.rate-ws.currentRate,"% rate increase"]})]})]})})]}),s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(FU,{className:"h-5 w-5"}),"Commission Tiers"]})}),s.jsx(D,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Kh.map((a,i)=>s.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all ${a.name===ws.currentTier?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx(J,{className:a.color,children:a.name}),s.jsxs("div",{className:"text-2xl font-bold mt-1",children:[a.rate,"%"]})]}),s.jsx("div",{className:"text-sm text-gray-600",children:a.minJobs===0?"Starting tier":`${a.minJobs}+ jobs`})]}),s.jsx("ul",{className:"space-y-1",children:a.benefits.map((o,l)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-center gap-1",children:[s.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),o]},l))})]},a.name))})})]})]})}const Gh=[{month:"Jan",earnings:2890,jobs:12},{month:"Feb",earnings:3250,jobs:15},{month:"Mar",earnings:2750,jobs:11},{month:"Apr",earnings:3850,jobs:18},{month:"May",earnings:4200,jobs:21},{month:"Jun",earnings:3650,jobs:16}],fEe=[{type:"Lawn Maintenance",percentage:35,earnings:5500},{type:"Landscaping",percentage:28,earnings:4400},{type:"Tree Services",percentage:20,earnings:3150},{type:"Seasonal Cleanup",percentage:17,earnings:2675}];function hEe(){const[e,t]=b.useState("earnings"),r=Math.max(...Gh.map(l=>l.earnings)),n=Math.max(...Gh.map(l=>l.jobs)),a=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Monthly Earnings Trend"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Last 6 months"})]}),s.jsx("div",{className:"h-64 flex items-end justify-between gap-2",children:Gh.map((l,c)=>s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-t-lg relative overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-t from-green-500 to-green-400 rounded-t-lg transition-all duration-500 hover:from-green-600 hover:to-green-500",style:{height:`${l.earnings/r*200}px`}})}),s.jsxs("div",{className:"text-center mt-2",children:[s.jsxs("div",{className:"text-sm font-medium",children:["$",l.earnings.toLocaleString()]}),s.jsx("div",{className:"text-xs text-gray-600",children:l.month})]})]},c))})]}),i=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Jobs Completed Trend"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Last 6 months"})]}),s.jsx("div",{className:"h-64 flex items-end justify-between gap-2",children:Gh.map((l,c)=>s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-t-lg relative overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-t from-blue-500 to-blue-400 rounded-t-lg transition-all duration-500 hover:from-blue-600 hover:to-blue-500",style:{height:`${l.jobs/n*200}px`}})}),s.jsxs("div",{className:"text-center mt-2",children:[s.jsxs("div",{className:"text-sm font-medium",children:[l.jobs," jobs"]}),s.jsx("div",{className:"text-xs text-gray-600",children:l.month})]})]},c))})]}),o=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Earnings by Job Type"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Current period"})]}),s.jsx("div",{className:"space-y-3",children:fEe.map((l,c)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:l.type}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-semibold",children:["$",l.earnings.toLocaleString()]}),s.jsxs("div",{className:"text-xs text-gray-600",children:[l.percentage,"%"]})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-400 h-2 rounded-full transition-all duration-500",style:{width:`${l.percentage}%`}})})]},c))})]});return s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(h4,{className:"h-5 w-5"}),"Financial Analytics"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(L,{variant:e==="earnings"?"default":"outline",size:"sm",onClick:()=>t("earnings"),className:"flex items-center gap-1",children:[s.jsx(qs,{className:"h-4 w-4"}),"Earnings"]}),s.jsxs(L,{variant:e==="jobs"?"default":"outline",size:"sm",onClick:()=>t("jobs"),className:"flex items-center gap-1",children:[s.jsx(ar,{className:"h-4 w-4"}),"Jobs"]}),s.jsxs(L,{variant:e==="breakdown"?"default":"outline",size:"sm",onClick:()=>t("breakdown"),className:"flex items-center gap-1",children:[s.jsx(AU,{className:"h-4 w-4"}),"Breakdown"]})]})]})}),s.jsxs(D,{children:[e==="earnings"&&a(),e==="jobs"&&i(),e==="breakdown"&&o()]})]})}function mEe(){const e=()=>{navigate("/landscaper-dashboard")},t=()=>{console.log("Exporting earnings data...");const a=`Date,Amount,Jobs,Status
2024-01-15,1250.00,5,Completed
2024-01-01,890.50,3,Completed`,i=new Blob([a],{type:"text/csv"}),o=window.URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.download="earnings-report.csv",document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(o)},r=()=>{console.log("Opening payout settings..."),alert("Payout settings would open here - configure bank details, payout frequency, etc.")},n=()=>{console.log("Opening earnings help..."),alert("Help center would open here - FAQs about earnings, commissions, and payouts.")};return s.jsx(Tf,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(L,{variant:"ghost",size:"sm",onClick:e,className:"flex items-center gap-2",children:[s.jsx(ls,{className:"h-4 w-4"}),"Back"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Earnings Dashboard"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Track your earnings, payouts, and financial performance"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(L,{variant:"outline",size:"sm",onClick:t,className:"flex items-center gap-2",children:[s.jsx(Ei,{className:"h-4 w-4"}),"Export"]}),s.jsxs(L,{variant:"outline",size:"sm",onClick:r,className:"flex items-center gap-2",children:[s.jsx(Ct,{className:"h-4 w-4"}),"Settings"]}),s.jsxs(L,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[s.jsx(RU,{className:"h-4 w-4"}),"Help"]})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs(fn,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(zr,{className:"grid w-full grid-cols-4",children:[s.jsx(he,{value:"overview",children:"Overview"}),s.jsx(he,{value:"payouts",children:"Payouts"}),s.jsx(he,{value:"commissions",children:"Commissions"}),s.jsx(he,{value:"analytics",children:"Analytics"})]}),s.jsxs(me,{value:"overview",className:"space-y-6",children:[s.jsx(jA,{}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(SA,{}),s.jsx("div",{className:"space-y-6",children:s.jsx(NA,{})})]})]}),s.jsx(me,{value:"payouts",className:"space-y-6",children:s.jsx(SA,{})}),s.jsx(me,{value:"commissions",className:"space-y-6",children:s.jsx(NA,{})}),s.jsxs(me,{value:"analytics",className:"space-y-6",children:[s.jsx(hEe,{}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.jsx(jA,{})})]})]})})]})})}function pEe(){var d;const[e,t]=b.useState({schedule_type:"weekly",minimum_payout:50,payout_day:5,auto_payout_enabled:!0}),[r,n]=b.useState(!0),[a,i]=b.useState(!1),{toast:o}=$n();b.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:{user:f}}=await R.auth.getUser();if(!f)return;const{data:h}=await R.from("landscapers").select("id").eq("user_id",f.id).single();if(!h)return;const{data:m}=await R.from("payout_schedules").select("*").eq("landscaper_id",h.id).single();m&&t(m)}catch(f){console.error("Error loading schedule:",f)}finally{n(!1)}},c=async f=>{f.preventDefault(),i(!0),console.log("💾 Saving payout schedule...",e);try{const{data:{user:h}}=await R.auth.getUser();if(!h)throw new Error("User not authenticated");const{data:m}=await R.from("landscapers").select("id").eq("user_id",h.id).single();if(!m)throw new Error("Landscaper profile not found");const g=u(e.schedule_type,e.payout_day),{error:p}=await R.from("payout_schedules").upsert({...e,landscaper_id:m.id,next_payout_date:g});if(p)throw p;console.log("✅ Payout schedule saved successfully"),o({title:"Schedule saved",description:"Your payout schedule has been updated successfully."})}catch(h){console.error("❌ Error saving schedule:",h),o({title:"Error",description:h.message||"Failed to save payout schedule.",variant:"destructive"})}finally{i(!1)}},u=(f,h)=>{const m=new Date;let g=new Date(m);switch(f){case"daily":g.setDate(g.getDate()+1);break;case"weekly":const p=((h||5)-m.getDay()+7)%7||7;g.setDate(g.getDate()+p);break;case"monthly":g.setMonth(g.getMonth()+1),g.setDate(h||1);break}return g.toISOString()};return r?s.jsx("div",{children:"Loading..."}):s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsx(W,{children:"Payout Schedule"}),s.jsx(Be,{children:"Configure when and how you receive payouts for completed jobs"})]}),s.jsx(D,{children:s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"schedule-type",children:"Payout Frequency"}),s.jsxs(ur,{value:e.schedule_type,onValueChange:f=>t({...e,schedule_type:f}),children:[s.jsx(rr,{id:"schedule-type",children:s.jsx(dr,{})}),s.jsxs(nr,{children:[s.jsx(ce,{value:"daily",children:"Daily"}),s.jsx(ce,{value:"weekly",children:"Weekly"}),s.jsx(ce,{value:"monthly",children:"Monthly"}),s.jsx(ce,{value:"manual",children:"Manual"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"How often you want to receive payouts"})]}),e.schedule_type==="weekly"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"payout-day",children:"Payout Day"}),s.jsxs(ur,{value:(d=e.payout_day)==null?void 0:d.toString(),onValueChange:f=>t({...e,payout_day:parseInt(f)}),children:[s.jsx(rr,{id:"payout-day",children:s.jsx(dr,{})}),s.jsxs(nr,{children:[s.jsx(ce,{value:"0",children:"Sunday"}),s.jsx(ce,{value:"1",children:"Monday"}),s.jsx(ce,{value:"2",children:"Tuesday"}),s.jsx(ce,{value:"3",children:"Wednesday"}),s.jsx(ce,{value:"4",children:"Thursday"}),s.jsx(ce,{value:"5",children:"Friday"}),s.jsx(ce,{value:"6",children:"Saturday"})]})]})]}),e.schedule_type==="monthly"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"payout-day-monthly",children:"Day of Month"}),s.jsx(de,{id:"payout-day-monthly",type:"number",min:"1",max:"31",value:e.payout_day||1,onChange:f=>t({...e,payout_day:parseInt(f.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"minimum-payout",children:"Minimum Payout Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx(jt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(de,{id:"minimum-payout",type:"number",min:"0",step:"0.01",value:e.minimum_payout,onChange:f=>t({...e,minimum_payout:parseFloat(f.target.value)}),className:"pl-9"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimum amount required before initiating a payout"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ue,{htmlFor:"auto-payout",children:"Automatic Payouts"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically process payouts based on your schedule"})]}),s.jsx(Ya,{id:"auto-payout",checked:e.auto_payout_enabled,onCheckedChange:f=>t({...e,auto_payout_enabled:f})})]}),s.jsxs(L,{type:"submit",disabled:a,className:"w-full",children:[s.jsx(t1,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Schedule"]})]})})]})}function _A(){return s.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Payouts"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your earnings and payout schedule"})]}),s.jsxs(fn,{defaultValue:"dashboard",className:"space-y-6",children:[s.jsxs(zr,{children:[s.jsxs(he,{value:"dashboard",children:[s.jsx(jt,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),s.jsxs(he,{value:"settings",children:[s.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),s.jsx(me,{value:"dashboard",children:s.jsx(JL,{})}),s.jsx(me,{value:"settings",children:s.jsx(pEe,{})})]})]})}function gEe({value:e,onChange:t,onSearch:r,placeholder:n="Search...",showFilters:a=!0,onToggleFilters:i,activeFilters:o=0,suggestions:l=[],onClear:c}){const[u,d]=b.useState(!1),f=g=>{g.key==="Enter"&&(r(),d(!1))},h=g=>{t(g),d(!1),r()},m=l.filter(g=>g.toLowerCase().includes(e.toLowerCase())&&g!==e);return s.jsx("div",{className:"relative w-full max-w-2xl",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Id,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(de,{value:e,onChange:g=>t(g.target.value),onKeyPress:f,onFocus:()=>d(!0),onBlur:()=>setTimeout(()=>d(!1),200),placeholder:n,className:"pl-10 pr-10"}),e&&s.jsx(L,{variant:"ghost",size:"sm",onClick:()=>{t(""),c==null||c()},className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",children:s.jsx(ps,{className:"h-3 w-3"})}),u&&m.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border rounded-md shadow-lg z-50 max-h-60 overflow-y-auto",children:m.slice(0,8).map((g,p)=>s.jsx("button",{onClick:()=>h(g),className:"w-full text-left px-4 py-2 hover:bg-gray-50 border-b last:border-b-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Id,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{children:g})]})},p))})]}),s.jsx(L,{onClick:r,className:"px-6",children:"Search"}),a&&s.jsxs(L,{variant:"outline",onClick:i,className:"relative",children:[s.jsx(x4,{className:"h-4 w-4 mr-2"}),"Filters",o>0&&s.jsx(J,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 p-0 text-xs",children:o})]})]})})}function vEe({filters:e,onFiltersChange:t,onClose:r,categories:n=["Lawn Care","Landscaping","Tree Service","Hardscaping"],serviceTypes:a=["Mowing","Trimming","Planting","Irrigation","Cleanup"],locations:i=["Downtown","Suburbs","North Side","South Side"]}){var u;const o=(d,f)=>{t({...e,[d]:f})},l=()=>{t({})},c=Object.values(e).filter(d=>d!=null&&d!==""&&(Array.isArray(d)?d.length>0:!0)).length;return s.jsxs("div",{className:"bg-white border rounded-lg shadow-lg p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Filters"}),s.jsxs("div",{className:"flex items-center gap-2",children:[c>0&&s.jsxs(L,{variant:"ghost",size:"sm",onClick:l,children:["Clear All (",c,")"]}),s.jsx(L,{variant:"ghost",size:"sm",onClick:r,children:s.jsx(ps,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Bs,{className:"h-4 w-4"}),"Category"]}),s.jsxs(ur,{value:e.category||"",onValueChange:d=>o("category",d||void 0),children:[s.jsx(rr,{children:s.jsx(dr,{placeholder:"Select category"})}),s.jsxs(nr,{children:[s.jsx(ce,{value:"",children:"All Categories"}),n.map(d=>s.jsx(ce,{value:d,children:d},d))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Bs,{className:"h-4 w-4"}),"Location"]}),s.jsx(de,{value:e.location||"",onChange:d=>o("location",d.target.value||void 0),placeholder:"Enter location"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(jt,{className:"h-4 w-4"}),"Price Range"]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{type:"number",placeholder:"Min",value:e.priceMin||"",onChange:d=>o("priceMin",d.target.value?Number(d.target.value):void 0)}),s.jsx(de,{type:"number",placeholder:"Max",value:e.priceMax||"",onChange:d=>o("priceMax",d.target.value?Number(d.target.value):void 0)})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(cs,{className:"h-4 w-4"}),"Minimum Rating"]}),s.jsxs(ur,{value:((u=e.rating)==null?void 0:u.toString())||"",onValueChange:d=>o("rating",d?Number(d):void 0),children:[s.jsx(rr,{children:s.jsx(dr,{placeholder:"Any rating"})}),s.jsxs(nr,{children:[s.jsx(ce,{value:"",children:"Any Rating"}),s.jsx(ce,{value:"4",children:"4+ Stars"}),s.jsx(ce,{value:"3",children:"3+ Stars"}),s.jsx(ce,{value:"2",children:"2+ Stars"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ue,{children:"Service Types"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.map(d=>{var f;return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dd,{id:d,checked:((f=e.serviceType)==null?void 0:f.includes(d))||!1,onCheckedChange:h=>{const m=e.serviceType||[],g=h?[...m,d]:m.filter(p=>p!==d);o("serviceType",g.length>0?g:void 0)}}),s.jsx(ue,{htmlFor:d,className:"text-sm",children:d})]},d)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Sort By"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ur,{value:e.sortBy||"relevance",onValueChange:d=>o("sortBy",d),children:[s.jsx(rr,{className:"flex-1",children:s.jsx(dr,{})}),s.jsxs(nr,{children:[s.jsx(ce,{value:"relevance",children:"Relevance"}),s.jsx(ce,{value:"price",children:"Price"}),s.jsx(ce,{value:"rating",children:"Rating"}),s.jsx(ce,{value:"date",children:"Date"})]})]}),s.jsxs(ur,{value:e.sortOrder||"desc",onValueChange:d=>o("sortOrder",d),children:[s.jsx(rr,{className:"w-24",children:s.jsx(dr,{})}),s.jsxs(nr,{children:[s.jsx(ce,{value:"asc",children:"↑"}),s.jsx(ce,{value:"desc",children:"↓"})]})]})]})]})]})}function xEe({data:e,total:t,loading:r,error:n,query:a,renderItem:i,emptyState:o,loadMore:l,hasMore:c=!1,className:u=""}){return r&&e.length===0?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Pn,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Searching..."})]})}):n?s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md mx-auto",children:[s.jsx("h3",{className:"text-red-800 font-semibold mb-2",children:"Search Error"}),s.jsx("p",{className:"text-red-600 text-sm",children:n})]})}):e.length===0&&!r?s.jsx("div",{className:"text-center py-12",children:o||s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx(Id,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:a?"No results found":"Start your search"}),s.jsx("p",{className:"text-gray-600",children:a?`No results found for "${a}". Try adjusting your search terms or filters.`:"Enter a search term to find what you're looking for."})]})}):s.jsxs("div",{className:`space-y-6 ${u}`,children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm text-gray-600",children:t>0&&s.jsxs(s.Fragment,{children:["Showing ",e.length," of ",t," results",a&&s.jsxs("span",{children:[' for "',s.jsx("strong",{children:a}),'"']})]})}),r&&e.length>0&&s.jsx(Pn,{className:"h-4 w-4 animate-spin text-blue-600"})]})}),s.jsx("div",{className:"grid gap-4 md:gap-6",children:e.map((d,f)=>s.jsx("div",{className:"animate-in fade-in duration-200",children:i(d,f)},f))}),c&&l&&s.jsx("div",{className:"text-center pt-6",children:s.jsx(L,{onClick:l,disabled:r,variant:"outline",className:"px-8",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Pn,{className:"h-4 w-4 animate-spin mr-2"}),"Loading..."]}):"Load More"})})]})}function yEe(e,t={},r=!0){const[n,a]=b.useState([]),[i,o]=b.useState(0),[l,c]=b.useState(!1),[u,d]=b.useState(null),[f,h]=b.useState(t),m=b.useMemo(()=>{var y;let p=R.from(e).select("*",{count:"exact"});if(f.query){const w=`%${f.query}%`;p=p.or(`title.ilike.${w},description.ilike.${w},name.ilike.${w}`)}f.category&&(p=p.eq("category",f.category)),f.location&&(p=p.ilike("location",`%${f.location}%`)),f.priceMin!==void 0&&(p=p.gte("price",f.priceMin)),f.priceMax!==void 0&&(p=p.lte("price",f.priceMax)),f.rating&&(p=p.gte("rating",f.rating)),(y=f.serviceType)!=null&&y.length&&(p=p.in("service_type",f.serviceType)),f.dateRange&&(p=p.gte("created_at",f.dateRange.start.toISOString()).lte("created_at",f.dateRange.end.toISOString()));const v=f.sortBy==="relevance"?"created_at":f.sortBy||"created_at",x=f.sortOrder==="asc";return p=p.order(v,{ascending:x}),p},[e,f]),g=async()=>{if(r){c(!0),d(null);try{const{data:p,count:v,error:x}=await m;if(x)throw x;a(p||[]),o(v||0)}catch(p){d(p instanceof Error?p.message:"Search failed"),a([]),o(0)}finally{c(!1)}}};return b.useEffect(()=>{g()},[m,r]),{data:n,total:i,loading:l,error:u,setFilters:h,clearFilters:()=>h({}),refetch:g}}class My{static debounce(t,r){let n;return(...a)=>{clearTimeout(n),n=setTimeout(()=>t(...a),r)}}static highlightText(t,r){if(!r.trim())return t;const n=new RegExp(`(${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return t.replace(n,'<mark class="bg-yellow-200">$1</mark>')}static generateSuggestions(t=[],r=[],n=""){const a=[];return t.filter(i=>i.toLowerCase().includes(n.toLowerCase())).slice(0,3).forEach(i=>{a.push({text:i,category:"recent"})}),r.filter(i=>i.toLowerCase().includes(n.toLowerCase())&&!t.includes(i)).slice(0,5).forEach(i=>{a.push({text:i,category:"popular"})}),a}static buildSearchUrl(t,r="/search"){const n=new URLSearchParams;Object.entries(t).forEach(([i,o])=>{o!=null&&o!==""&&(Array.isArray(o)?o.length>0&&n.set(i,o.join(",")):typeof o=="object"&&o.start&&o.end?(n.set(`${i}Start`,o.start.toISOString()),n.set(`${i}End`,o.end.toISOString())):n.set(i,o.toString()))});const a=n.toString();return a?`${r}?${a}`:r}static parseSearchUrl(t){const r={},n=t.get("query");n&&(r.query=n);const a=t.get("category");a&&(r.category=a);const i=t.get("location");i&&(r.location=i);const o=t.get("priceMin");o&&(r.priceMin=Number(o));const l=t.get("priceMax");l&&(r.priceMax=Number(l));const c=t.get("rating");c&&(r.rating=Number(c));const u=t.get("serviceType");u&&(r.serviceType=u.split(","));const d=t.get("dateRangeStart"),f=t.get("dateRangeEnd");d&&f&&(r.dateRange={start:new Date(d),end:new Date(f)});const h=t.get("sortBy");h&&(r.sortBy=h);const m=t.get("sortOrder");return m&&(r.sortOrder=m),r}static formatResultsCount(t){return t===0?"No results":t===1?"1 result":t<1e3?`${t} results`:t<1e6?`${(t/1e3).toFixed(1)}K results`:`${(t/1e6).toFixed(1)}M results`}static saveRecentSearch(t,r=10){if(!t.trim())return;const n="recentSearches",i=JSON.parse(localStorage.getItem(n)||"[]").filter(l=>l!==t),o=[t,...i].slice(0,r);localStorage.setItem(n,JSON.stringify(o))}static getRecentSearches(){try{return JSON.parse(localStorage.getItem("recentSearches")||"[]")}catch{return[]}}static clearRecentSearches(){localStorage.removeItem("recentSearches")}}function Dy(){const[e,t]=Ag();$e();const[r,n]=b.useState(!1),[a,i]=b.useState(e.get("query")||""),o=My.parseSearchUrl(e),[l,c]=b.useState(o),{data:u,total:d,loading:f,error:h}=yEe("jobs",l,!0);b.useEffect(()=>{const p=My.buildSearchUrl(l,"/search"),v=new URL(p,window.location.origin).searchParams;t(v)},[l,t]);const m=()=>{const p={...l,query:a};c(p),My.saveRecentSearch(a)},g=p=>s.jsx(I,{className:"hover:shadow-md transition-shadow",children:s.jsxs(D,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:p.title||"Landscaping Job"}),s.jsx("p",{className:"text-gray-600 mb-3",children:p.description||"Professional landscaping service"}),s.jsx(L,{size:"sm",children:"View Details"})]})},p.id);return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Search Jobs"}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsx(gEe,{value:a,onChange:i,onSearch:m,placeholder:"Search for landscaping jobs...",showFilters:!0,onToggleFilters:()=>n(!r),activeFilters:0,suggestions:[],onClear:()=>i("")}),r&&s.jsx(vEe,{filters:l,onFiltersChange:c,onClose:()=>n(!1)})]}),s.jsx(xEe,{data:u,total:d,loading:f,error:h,query:a,renderItem:g})]})})}const bEe=()=>{const[e,t]=b.useState([]),[r,n]=b.useState({rule_name:"",service_type:"lawn_mowing",base_price:0,seasonal_multiplier:1,urgency_multiplier:1,distance_rate:0,property_size_rate:0});b.useEffect(()=>{a()},[]);const a=async()=>{const{data:o}=await R.from("pricing_rules").select("*").eq("is_active",!0).order("service_type");o&&t(o)},i=async()=>{const{error:o}=await R.from("pricing_rules").insert([{...r,effective_start_date:new Date().toISOString().split("T")[0]}]);o||(a(),n({rule_name:"",service_type:"lawn_mowing",base_price:0,seasonal_multiplier:1,urgency_multiplier:1,distance_rate:0,property_size_rate:0}))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Advanced Pricing Engine"})}),s.jsxs(D,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Rule Name"}),s.jsx(de,{value:r.rule_name,onChange:o=>n({...r,rule_name:o.target.value}),placeholder:"Summer Lawn Care"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Service Type"}),s.jsxs(ur,{value:r.service_type,onValueChange:o=>n({...r,service_type:o}),children:[s.jsx(rr,{children:s.jsx(dr,{})}),s.jsxs(nr,{children:[s.jsx(ce,{value:"lawn_mowing",children:"Lawn Mowing"}),s.jsx(ce,{value:"hedge_trimming",children:"Hedge Trimming"}),s.jsx(ce,{value:"garden_maintenance",children:"Garden Maintenance"}),s.jsx(ce,{value:"tree_pruning",children:"Tree Pruning"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Base Price ($)"}),s.jsx(de,{type:"number",value:r.base_price,onChange:o=>n({...r,base_price:parseFloat(o.target.value)})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Seasonal Multiplier"}),s.jsx(de,{type:"number",step:"0.1",value:r.seasonal_multiplier,onChange:o=>n({...r,seasonal_multiplier:parseFloat(o.target.value)})})]})]}),s.jsx(L,{onClick:i,className:"w-full",children:"Create Pricing Rule"})]})]}),s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Active Pricing Rules"})}),s.jsx(D,{children:s.jsx("div",{className:"space-y-2",children:e.map(o=>s.jsxs("div",{className:"flex justify-between items-center p-3 border rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:o.rule_name}),s.jsx("div",{className:"text-sm text-gray-600",children:o.service_type.replace("_"," ")})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-bold",children:["$",o.base_price]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["x",o.seasonal_multiplier," seasonal"]})]})]},o.id))})})]})]})},wEe=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(""),[a,i]=b.useState(""),[o,l]=b.useState({totalReferrals:0,completedReferrals:0,totalEarnings:0});b.useEffect(()=>{u(),c()},[]);const c=()=>{const h="REF"+Math.random().toString(36).substr(2,8).toUpperCase();n(h)},u=async()=>{const{data:h}=await R.auth.getUser();if(!h.user)return;const{data:m}=await R.from("referrals").select("*").eq("referrer_id",h.user.id).order("created_at",{ascending:!1});m&&(t(m),l({totalReferrals:m.length,completedReferrals:m.filter(g=>g.status==="completed").length,totalEarnings:m.filter(g=>g.status==="completed").reduce((g,p)=>g+p.reward_amount,0)}))},d=async()=>{const{data:h}=await R.auth.getUser();if(!h.user||!a)return;const{error:m}=await R.from("referrals").insert([{referrer_id:h.user.id,referred_email:a,referral_code:r}]);m||(alert(`Referral sent to ${a}!`),i(""),c(),u())},f=()=>{const h=`${window.location.origin}/signup?ref=${r}`;navigator.clipboard.writeText(h),alert("Referral link copied to clipboard!")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(I,{children:s.jsx(D,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Kc,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:o.totalReferrals}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Referrals"})]})]})})}),s.jsx(I,{children:s.jsx(D,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($U,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:o.completedReferrals}),s.jsx("p",{className:"text-sm text-gray-600",children:"Completed"})]})]})})}),s.jsx(I,{children:s.jsx(D,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jt,{className:"h-8 w-8 text-yellow-600"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",o.totalEarnings]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Earnings"})]})]})})})]}),s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center space-x-2",children:[s.jsx(UU,{className:"h-5 w-5"}),s.jsx("span",{children:"Refer Friends & Earn $50"})]})}),s.jsxs(D,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-green-800",children:"How it works:"}),s.jsxs("ol",{className:"list-decimal list-inside text-sm text-green-700 mt-2 space-y-1",children:[s.jsx("li",{children:"Share your referral code with friends"}),s.jsx("li",{children:"They sign up and complete their first job"}),s.jsx("li",{children:"You both earn $50 credit!"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Your Referral Code"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(de,{value:r,readOnly:!0}),s.jsx(L,{onClick:f,variant:"outline",children:"Copy Link"})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Send Direct Referral"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(de,{type:"email",value:a,onChange:h=>i(h.target.value),placeholder:"friend@example.com"}),s.jsx(L,{onClick:d,children:"Send Invite"})]})]})]})]})]}),s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Referral History"})}),s.jsx(D,{children:s.jsxs("div",{className:"space-y-3",children:[e.map(h=>s.jsxs("div",{className:"flex justify-between items-center p-3 border rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:h.referred_email}),s.jsx("div",{className:"text-sm text-gray-600",children:new Date(h.created_at).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(J,{variant:h.status==="completed"?"default":"secondary",children:h.status}),h.status==="completed"&&s.jsxs("span",{className:"text-green-600 font-semibold",children:["+$",h.reward_amount]})]})]},h.id)),e.length===0&&s.jsx("p",{className:"text-center text-gray-500 py-4",children:"No referrals yet"})]})})]})]})},jEe=()=>{var f;const[e,t]=b.useState([]),[r,n]=b.useState(null),[a,i]=b.useState("monthly");b.useEffect(()=>{o(),l()},[]);const o=async()=>{const{data:h}=await R.from("subscription_plans").select("*").eq("is_active",!0).order("monthly_price");h&&t(h)},l=async()=>{const{data:h}=await R.auth.getUser();if(!h.user)return;const{data:m}=await R.from("user_subscriptions").select("plan_id, subscription_plans(plan_name)").eq("user_id",h.user.id).eq("status","active").single();m&&n(m.plan_id)},c=async h=>{const{data:m}=await R.auth.getUser();if(!m.user)return;const{error:g}=await R.from("user_subscriptions").upsert([{user_id:m.user.id,plan_id:h,status:"active",current_period_start:new Date().toISOString(),current_period_end:new Date(Date.now()+30*24*60*60*1e3).toISOString()}]);g||(n(h),alert("Subscription updated successfully!"))},u=h=>{switch(h){case"basic":return s.jsx(vi,{className:"h-6 w-6 text-blue-600"});case"premium":return s.jsx(Zj,{className:"h-6 w-6 text-purple-600"});case"enterprise":return s.jsx(cs,{className:"h-6 w-6 text-yellow-600"});default:return s.jsx(vi,{className:"h-6 w-6"})}},d=h=>a==="monthly"?h.monthly_price:h.annual_price;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold",children:"Choose Your Plan"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Upgrade your landscaping business with premium features"}),s.jsx("div",{className:"flex justify-center mt-4",children:s.jsxs("div",{className:"bg-gray-100 p-1 rounded-lg",children:[s.jsx("button",{onClick:()=>i("monthly"),className:`px-4 py-2 rounded ${a==="monthly"?"bg-white shadow":""}`,children:"Monthly"}),s.jsx("button",{onClick:()=>i("annual"),className:`px-4 py-2 rounded ${a==="annual"?"bg-white shadow":""}`,children:"Annual (Save 20%)"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(h=>s.jsxs(I,{className:`relative ${r===h.id?"ring-2 ring-blue-500":""}`,children:[h.plan_type==="premium"&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsx(J,{className:"bg-purple-600",children:"Most Popular"})}),s.jsxs(z,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-2",children:u(h.plan_type)}),s.jsx(W,{className:"text-xl",children:h.plan_name}),s.jsxs("div",{className:"text-3xl font-bold",children:["$",d(h),s.jsxs("span",{className:"text-sm font-normal text-gray-600",children:["/",a==="monthly"?"month":"year"]})]})]}),s.jsxs(D,{className:"space-y-4",children:[s.jsx("ul",{className:"space-y-2",children:h.features.features.map((m,g)=>s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(qo,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:m})]},g))}),s.jsx(L,{onClick:()=>c(h.id),className:"w-full",variant:r===h.id?"secondary":"default",disabled:r===h.id,children:r===h.id?"Current Plan":"Subscribe"})]})]},h.id))}),r&&s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Current Subscription"})}),s.jsx(D,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(f=e.find(h=>h.id===r))==null?void 0:f.plan_name}),s.jsx("p",{className:"text-sm text-gray-600",children:"Active subscription"})]}),s.jsx(L,{variant:"outline",children:"Manage Subscription"})]})})]})]})},SEe=()=>{const[e,t]=b.useState({totalAssignments:0,autoAssignments:0,avgResponseTime:"2.3 hours"}),r=async()=>{try{const{data:a,error:i}=await R.functions.invoke("auto-job-assignment",{body:{jobId:"test-job-id"}});if(i)throw i;alert(`Auto-assignment completed! ${a.assignmentsCreated} landscapers notified.`)}catch(a){console.error("Auto-assignment failed:",a),alert("Auto-assignment failed. Please try again.")}},n=async()=>{try{const{data:a,error:i}=await R.functions.invoke("marketing-automation",{body:{campaignType:"email",targetAudience:{userType:"customer"},content:{name:"Spring Promotion",subject:"Spring Landscaping Special - 20% Off!",html:"<h1>Spring is here!</h1><p>Get 20% off your next landscaping service.</p>"}}});if(i)throw i;alert(`Campaign sent to ${a.sentCount} users!`)}catch(a){console.error("Campaign failed:",a),alert("Campaign failed. Please try again.")}};return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center space-x-2",children:[s.jsx(Ct,{className:"h-8 w-8"}),s.jsx("span",{children:"Business Automation"})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage automated systems, pricing, referrals, and subscriptions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(I,{children:s.jsx(D,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vi,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold",children:e.totalAssignments}),s.jsx("p",{className:"text-xs text-gray-600",children:"Auto Assignments"})]})]})})}),s.jsx(I,{children:s.jsx(D,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qs,{className:"h-6 w-6 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold",children:"94%"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Success Rate"})]})]})})}),s.jsx(I,{children:s.jsx(D,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Kc,{className:"h-6 w-6 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold",children:"156"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Referrals"})]})]})})}),s.jsx(I,{children:s.jsx(D,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Zj,{className:"h-6 w-6 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold",children:"89"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Subscribers"})]})]})})})]}),s.jsxs(fn,{defaultValue:"assignments",className:"space-y-6",children:[s.jsxs(zr,{className:"grid w-full grid-cols-5",children:[s.jsx(he,{value:"assignments",children:"Auto Assignment"}),s.jsx(he,{value:"pricing",children:"Pricing Engine"}),s.jsx(he,{value:"referrals",children:"Referrals"}),s.jsx(he,{value:"subscriptions",children:"Subscriptions"}),s.jsx(he,{value:"marketing",children:"Marketing"})]}),s.jsx(me,{value:"assignments",children:s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Automated Job Assignment"})}),s.jsxs(D,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-blue-800",children:"How it works:"}),s.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-700 mt-2 space-y-1",children:[s.jsx("li",{children:"Jobs are automatically scored based on landscaper ratings, distance, and availability"}),s.jsx("li",{children:"Top 3 best-matched landscapers receive instant notifications"}),s.jsx("li",{children:"First to accept gets the job, others are notified"}),s.jsxs("li",{children:["Average response time: ",e.avgResponseTime]})]})]}),s.jsx(L,{onClick:r,className:"w-full",children:"Test Auto Assignment"})]})]})}),s.jsx(me,{value:"pricing",children:s.jsx(bEe,{})}),s.jsx(me,{value:"referrals",children:s.jsx(wEe,{})}),s.jsx(me,{value:"subscriptions",children:s.jsx(jEe,{})}),s.jsx(me,{value:"marketing",children:s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Marketing Automation"})}),s.jsxs(D,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-green-800",children:"Campaign Features:"}),s.jsxs("ul",{className:"list-disc list-inside text-sm text-green-700 mt-2 space-y-1",children:[s.jsx("li",{children:"Targeted email campaigns to customers and landscapers"}),s.jsx("li",{children:"Automated seasonal promotions"}),s.jsx("li",{children:"Push notifications for mobile users"}),s.jsx("li",{children:"Performance tracking and analytics"})]})]}),s.jsx(L,{onClick:n,className:"w-full",children:"Send Test Campaign"})]})]})})]})]})};function NEe(){const e=$e();return s.jsxs("div",{className:"min-h-screen bg-black relative overflow-hidden",children:[s.jsx(On,{}),s.jsx(u1,{}),s.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:s.jsxs("div",{className:"w-full max-w-4xl",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold bg-gradient-to-r from-emerald-400 via-emerald-300 to-emerald-400 bg-clip-text text-transparent mb-4 drop-shadow-[0_0_20px_rgba(16,185,129,0.5)]",children:"Get Started"}),s.jsx("p",{className:"text-gray-300 text-xl",children:"Choose how you'd like to join GreenScape Lux"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[s.jsxs(I,{className:"group bg-black/60 backdrop-blur-xl border border-emerald-500/30 hover:border-emerald-400 rounded-2xl p-8 transition-all duration-300 hover:shadow-2xl hover:shadow-emerald-500/40 transform hover:scale-[1.02] relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent rounded-2xl"}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-6 relative z-10",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 shadow-2xl shadow-emerald-500/50 group-hover:animate-pulse",children:s.jsx(cr,{className:"w-10 h-10 text-black"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-4 group-hover:text-emerald-300 transition-colors",children:"Client Portal"}),s.jsx("p",{className:"text-lg text-gray-300 group-hover:text-emerald-200 transition-colors mb-6",children:"Request luxury landscaping services"}),s.jsx("div",{className:"space-y-4",children:s.jsxs(L,{onClick:()=>e("/client-login"),className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-black font-bold py-4 px-6 rounded-xl transition-all duration-300 transform hover:scale-[1.02] hover:shadow-[0_0_30px_rgba(16,185,129,0.6)] shadow-lg shadow-emerald-500/50 flex items-center justify-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2"}),"Access Portal"]})})]})]})]}),s.jsxs(I,{className:"group bg-black/60 backdrop-blur-xl border border-emerald-500/30 hover:border-emerald-400 rounded-2xl p-8 transition-all duration-300 hover:shadow-2xl hover:shadow-emerald-500/40 transform hover:scale-[1.02] relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent rounded-2xl"}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-6 relative z-10",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 shadow-2xl shadow-emerald-500/50 group-hover:animate-pulse",children:s.jsx(Nn,{className:"w-10 h-10 text-black"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-4 group-hover:text-emerald-300 transition-colors",children:"Professional Portal"}),s.jsx("p",{className:"text-lg text-gray-300 group-hover:text-emerald-200 transition-colors mb-6",children:"Join our network of elite landscaping professionals"}),s.jsx("div",{className:"space-y-4",children:s.jsxs(L,{onClick:()=>e("/pro-login"),className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-black font-bold py-4 px-6 rounded-xl transition-all duration-300 transform hover:scale-[1.02] hover:shadow-[0_0_30px_rgba(16,185,129,0.6)] shadow-lg shadow-emerald-500/50 flex items-center justify-center",children:[s.jsx(Nn,{className:"w-5 h-5 mr-2"}),"Access Portal"]})})]})]})]})]}),s.jsx("div",{className:"text-center mt-12",children:s.jsx("p",{className:"text-gray-500 text-sm",children:"Need help choosing? Contact our support team"})})]})})]})}function _Ee({channelStats:e}){const{isConnected:t,connectionStatus:r,subscribe:n}=Qv(),[a,i]=b.useState(e),[o,l]=b.useState(!1);b.useEffect(()=>n("channel_stats_update",m=>{i(g=>({...g,[m.channel]:{...g==null?void 0:g[m.channel],...m.stats}})),l(!0),setTimeout(()=>l(!1),300)}),[n]);const c=a||{slack:{status:"healthy",successRate:98.5,lastSent:new Date,avgDeliveryTime:1.2,totalSent:1250,failures:18},email:{status:"healthy",successRate:99.1,lastSent:new Date,avgDeliveryTime:2.8,totalSent:892,failures:8},sms:{status:"degraded",successRate:94.2,lastSent:new Date,avgDeliveryTime:5.1,totalSent:156,failures:9}},u=h=>{switch(h){case"healthy":return s.jsx(Oe,{className:"h-5 w-5 text-green-600"});case"degraded":return s.jsx(bt,{className:"h-5 w-5 text-yellow-600"});case"down":return s.jsx(bt,{className:"h-5 w-5 text-red-600"});default:return s.jsx(bt,{className:"h-5 w-5 text-gray-600"})}},d=h=>{switch(h){case"healthy":return"bg-green-100 text-green-800";case"degraded":return"bg-yellow-100 text-yellow-800";case"down":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=[{name:"Slack",icon:s.jsx(Co,{className:"h-6 w-6"}),stats:c.slack,description:"Real-time team notifications"},{name:"Email",icon:s.jsx($s,{className:"h-6 w-6"}),stats:c.email,description:"SMTP fallback notifications"},{name:"SMS",icon:s.jsx(r1,{className:"h-6 w-6"}),stats:c.sms,description:"Critical alert notifications"}];return s.jsxs("div",{className:"space-y-4",children:[s.jsx(I,{className:`transition-all duration-300 ${o?"ring-2 ring-blue-500":""}`,children:s.jsx(z,{className:"pb-3",children:s.jsxs(W,{className:"flex items-center gap-2",children:[t?s.jsx(Rg,{className:"h-4 w-4 text-green-500"}):s.jsx(N4,{className:"h-4 w-4 text-red-500"}),"Real-time Status",s.jsx(J,{variant:t?"default":"destructive",children:r})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:f.map(h=>s.jsxs(I,{className:"transition-all duration-300 hover:shadow-lg",children:[s.jsxs(z,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[h.icon,s.jsx(W,{className:"text-lg",children:h.name})]}),u(h.stats.status)]}),s.jsx("p",{className:"text-sm text-gray-600",children:h.description})]}),s.jsxs(D,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Status"}),s.jsx(J,{className:d(h.stats.status),children:h.stats.status.charAt(0).toUpperCase()+h.stats.status.slice(1)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Success Rate"}),s.jsxs("span",{className:"text-sm font-bold text-green-600",children:[h.stats.successRate,"%"]})]}),s.jsx(yo,{value:h.stats.successRate,className:"h-2"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Avg Delivery"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[h.stats.avgDeliveryTime,"s"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Last Sent"}),s.jsx("span",{className:"text-sm text-gray-600",children:h.stats.lastSent.toLocaleTimeString()})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 text-xs",children:[s.jsxs("div",{className:"text-center p-2 bg-green-50 rounded",children:[s.jsx("div",{className:"font-bold text-green-600",children:h.stats.totalSent}),s.jsx("div",{className:"text-green-600",children:"Sent"})]}),s.jsxs("div",{className:"text-center p-2 bg-red-50 rounded",children:[s.jsx("div",{className:"font-bold text-red-600",children:h.stats.failures}),s.jsx("div",{className:"text-red-600",children:"Failed"})]})]}),s.jsx("div",{className:"flex gap-2 pt-2",children:s.jsxs(L,{variant:"outline",size:"sm",className:"flex-1",children:[s.jsx(tr,{className:"h-3 w-3 mr-1"}),"Test"]})})]})]},h.name))})]})}function EEe(){const{isConnected:e,subscribe:t}=Qv(),[r,n]=b.useState({channelPerformance:[{channel:"Slack",sent:1250,delivered:1232,failed:18,avgDeliveryTime:1.2},{channel:"Email",sent:892,delivered:884,failed:8,avgDeliveryTime:2.8},{channel:"SMS",sent:156,delivered:147,failed:9,avgDeliveryTime:5.1}],hourlyTrends:[{hour:"12:00",sent:45,success:43,failed:2},{hour:"13:00",sent:52,success:51,failed:1},{hour:"14:00",sent:38,success:37,failed:1},{hour:"15:00",sent:61,success:58,failed:3},{hour:"16:00",sent:73,success:70,failed:3},{hour:"17:00",sent:89,success:85,failed:4},{hour:"18:00",sent:67,success:65,failed:2}],failureReasons:[{reason:"Network Timeout",count:15,percentage:45},{reason:"Invalid Recipient",count:8,percentage:24},{reason:"Rate Limit",count:6,percentage:18},{reason:"Service Unavailable",count:4,percentage:13}]}),[a,i]=b.useState({totalSent:2298,totalDelivered:2263,totalFailed:35,avgDeliveryTime:2.4,uptime:99.2});b.useEffect(()=>{const l=t("metrics_update",u=>{n(d=>({...d,...u}))}),c=t("live_metrics",u=>{i(d=>({...d,...u}))});return()=>{l(),c()}},[t]);const o=["#10B981","#F59E0B","#EF4444","#8B5CF6"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsx(I,{children:s.jsxs(D,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.totalSent}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Sent"})]})}),s.jsx(I,{children:s.jsxs(D,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.totalDelivered}),s.jsx("div",{className:"text-sm text-gray-600",children:"Delivered"})]})}),s.jsx(I,{children:s.jsxs(D,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.totalFailed}),s.jsx("div",{className:"text-sm text-gray-600",children:"Failed"})]})}),s.jsx(I,{children:s.jsxs(D,{className:"p-4 text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[a.avgDeliveryTime,"s"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Avg Delivery"})]})}),s.jsx(I,{children:s.jsxs(D,{className:"p-4 text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[a.uptime,"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Uptime"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(gi,{className:"h-5 w-5"}),"Channel Performance",e&&s.jsx(J,{variant:"outline",className:"text-xs",children:"Live"})]})}),s.jsx(D,{children:s.jsx(Os,{width:"100%",height:300,children:s.jsxs(og,{data:r.channelPerformance,children:[s.jsx(hi,{strokeDasharray:"3 3"}),s.jsx(as,{dataKey:"channel"}),s.jsx(is,{}),s.jsx(Kt,{}),s.jsx(hs,{dataKey:"delivered",fill:"#10B981",name:"Delivered"}),s.jsx(hs,{dataKey:"failed",fill:"#EF4444",name:"Failed"})]})})})]}),s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(ct,{className:"h-5 w-5"}),"Failure Analysis"]})}),s.jsx(D,{children:s.jsx(Os,{width:"100%",height:300,children:s.jsxs(eN,{children:[s.jsx(xs,{data:r.failureReasons,cx:"50%",cy:"50%",labelLine:!1,label:({reason:l,percentage:c})=>`${l}: ${c}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:r.failureReasons.map((l,c)=>s.jsx(uu,{fill:o[c%o.length]},`cell-${c}`))}),s.jsx(Kt,{})]})})})]})]}),s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(it,{className:"h-5 w-5"}),"Hourly Delivery Trends"]})}),s.jsx(D,{children:s.jsx(Os,{width:"100%",height:300,children:s.jsxs(ZS,{data:r.hourlyTrends,children:[s.jsx(hi,{strokeDasharray:"3 3"}),s.jsx(as,{dataKey:"hour"}),s.jsx(is,{}),s.jsx(Kt,{}),s.jsx(Ea,{type:"monotone",dataKey:"success",stroke:"#10B981",strokeWidth:2,name:"Success"}),s.jsx(Ea,{type:"monotone",dataKey:"failed",stroke:"#EF4444",strokeWidth:2,name:"Failed"})]})})})]}),s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Detailed Channel Metrics"})}),s.jsx(D,{children:s.jsx("div",{className:"space-y-4",children:r.channelPerformance.map(l=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-medium",children:l.channel}),s.jsxs(J,{variant:"outline",children:[(l.delivered/l.sent*100).toFixed(1),"% success"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-600",children:"Sent"}),s.jsx("div",{className:"font-bold",children:l.sent})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-600",children:"Delivered"}),s.jsx("div",{className:"font-bold text-green-600",children:l.delivered})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-600",children:"Failed"}),s.jsx("div",{className:"font-bold text-red-600",children:l.failed})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-600",children:"Avg Time"}),s.jsxs("div",{className:"font-bold",children:[l.avgDeliveryTime,"s"]})]})]})]},l.channel))})})]})]})}function PEe(){const[e,t]=b.useState(""),[r,n]=b.useState("all"),[a,i]=b.useState("all"),o=[{id:"1",channel:"slack",type:"deployment_success",recipient:"#deployments",status:"delivered",timestamp:new Date(Date.now()-3e5),deliveryTime:1.2},{id:"2",channel:"email",type:"validation_failed",recipient:"dev-team@company.com",status:"delivered",timestamp:new Date(Date.now()-9e5),deliveryTime:2.8},{id:"3",channel:"sms",type:"critical_alert",recipient:"+1234567890",status:"failed",timestamp:new Date(Date.now()-18e5),deliveryTime:0,errorMessage:"Network timeout after 30s"}],l=f=>{switch(f){case"slack":return s.jsx(Co,{className:"h-4 w-4"});case"email":return s.jsx($s,{className:"h-4 w-4"});case"sms":return s.jsx(r1,{className:"h-4 w-4"});default:return null}},c=f=>{switch(f){case"delivered":return s.jsx(Oe,{className:"h-4 w-4 text-green-600"});case"failed":return s.jsx(gt,{className:"h-4 w-4 text-red-600"});case"pending":return s.jsx(it,{className:"h-4 w-4 text-yellow-600"});default:return null}},u=f=>{switch(f){case"delivered":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},d=o.filter(f=>{const h=f.type.toLowerCase().includes(e.toLowerCase())||f.recipient.toLowerCase().includes(e.toLowerCase()),m=r==="all"||f.channel===r,g=a==="all"||f.status===a;return h&&m&&g});return s.jsxs(I,{children:[s.jsxs(z,{children:[s.jsx(W,{children:"Notification History"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Id,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(de,{placeholder:"Search notifications...",value:e,onChange:f=>t(f.target.value),className:"pl-10"})]}),s.jsxs(ur,{value:r,onValueChange:n,children:[s.jsx(rr,{className:"w-full sm:w-40",children:s.jsx(dr,{placeholder:"Channel"})}),s.jsxs(nr,{children:[s.jsx(ce,{value:"all",children:"All Channels"}),s.jsx(ce,{value:"slack",children:"Slack"}),s.jsx(ce,{value:"email",children:"Email"}),s.jsx(ce,{value:"sms",children:"SMS"})]})]}),s.jsxs(ur,{value:a,onValueChange:i,children:[s.jsx(rr,{className:"w-full sm:w-40",children:s.jsx(dr,{placeholder:"Status"})}),s.jsxs(nr,{children:[s.jsx(ce,{value:"all",children:"All Status"}),s.jsx(ce,{value:"delivered",children:"Delivered"}),s.jsx(ce,{value:"failed",children:"Failed"}),s.jsx(ce,{value:"pending",children:"Pending"})]})]}),s.jsxs(L,{variant:"outline",children:[s.jsx(Ei,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),s.jsx(D,{children:s.jsx("div",{className:"space-y-3",children:d.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[l(f.channel),s.jsx("span",{className:"font-medium capitalize",children:f.channel})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:f.type.replace("_"," ")}),s.jsx("div",{className:"text-sm text-gray-600",children:f.recipient})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm",children:f.timestamp.toLocaleTimeString()}),f.status==="delivered"&&s.jsxs("div",{className:"text-xs text-gray-500",children:[f.deliveryTime,"s"]}),f.errorMessage&&s.jsx("div",{className:"text-xs text-red-600 max-w-40 truncate",title:f.errorMessage,children:f.errorMessage})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[c(f.status),s.jsx(J,{className:u(f.status),children:f.status})]})]})]},f.id))})})]})}function kEe(){var x;const[e,t]=b.useState("slack"),[r,n]=b.useState(""),[a,i]=b.useState(""),[o,l]=b.useState("custom"),[c,u]=b.useState(!1),[d,f]=b.useState([]),h={deployment_success:{title:"Deployment Success",message:`✅ Deployment completed successfully!

Commit: abc123
Branch: main
Duration: 2m 34s`},validation_failed:{title:"Validation Failed",message:`❌ Environment validation failed!

Error: Missing STRIPE_SECRET_KEY
Action: Update environment variables`},critical_alert:{title:"Critical Alert",message:`🚨 CRITICAL: System experiencing high error rates

Error Rate: 15%
Affected Services: Payment Processing`}},m=async()=>{u(!0);const y=Date.now();await new Promise(j=>setTimeout(j,Math.random()*2e3+500));const w=Date.now()-y,N=Math.random()>.2,S={channel:e,status:N?"success":"failed",timestamp:new Date,responseTime:w,errorMessage:N?void 0:"Connection timeout after 30 seconds"};f(j=>[S,...j.slice(0,9)]),u(!1)},g=async()=>{const y=["slack","email","sms"];for(const w of y){u(!0);const N=Date.now();await new Promise(E=>setTimeout(E,Math.random()*1500+500));const S=Date.now()-N,j=Math.random()>.15,_={channel:w,status:j?"success":"failed",timestamp:new Date,responseTime:S,errorMessage:j?void 0:`${w} service unavailable`};f(E=>[_,...E])}u(!1)},p=y=>{switch(y){case"slack":return s.jsx(Co,{className:"h-4 w-4"});case"email":return s.jsx($s,{className:"h-4 w-4"});case"sms":return s.jsx(r1,{className:"h-4 w-4"});default:return null}},v=y=>{switch(y){case"success":return s.jsx(Oe,{className:"h-4 w-4 text-green-600"});case"failed":return s.jsx(gt,{className:"h-4 w-4 text-red-600"});case"pending":return s.jsx(it,{className:"h-4 w-4 text-yellow-600"});default:return null}};return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Manual Test"})}),s.jsxs(D,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Channel"}),s.jsxs(ur,{value:e,onValueChange:t,children:[s.jsx(rr,{children:s.jsx(dr,{})}),s.jsxs(nr,{children:[s.jsx(ce,{value:"slack",children:"Slack"}),s.jsx(ce,{value:"email",children:"Email"}),s.jsx(ce,{value:"sms",children:"SMS"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Template"}),s.jsxs(ur,{value:o,onValueChange:l,children:[s.jsx(rr,{children:s.jsx(dr,{})}),s.jsxs(nr,{children:[s.jsx(ce,{value:"custom",children:"Custom Message"}),s.jsx(ce,{value:"deployment_success",children:"Deployment Success"}),s.jsx(ce,{value:"validation_failed",children:"Validation Failed"}),s.jsx(ce,{value:"critical_alert",children:"Critical Alert"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Recipient"}),s.jsx(de,{placeholder:e==="slack"?"#channel or @user":e==="email"?"email@example.com":"+1234567890",value:r,onChange:y=>n(y.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Message"}),s.jsx(ka,{placeholder:"Enter your test message...",rows:4,value:o==="custom"?a:((x=h[o])==null?void 0:x.message)||"",onChange:y=>i(y.target.value),disabled:o!=="custom"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(L,{onClick:m,disabled:c||!r,className:"flex-1",children:[s.jsx(b4,{className:"h-4 w-4 mr-2"}),c?"Sending...":"Send Test"]}),s.jsxs(L,{variant:"outline",onClick:g,disabled:c,children:[s.jsx(y4,{className:"h-4 w-4 mr-2"}),"Test All"]})]})]})]}),s.jsxs(I,{children:[s.jsx(z,{children:s.jsx(W,{children:"Test Results"})}),s.jsx(D,{children:s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:d.length===0?s.jsx("div",{className:"text-center text-gray-500 py-8",children:"No test results yet. Run a test to see results here."}):d.map((y,w)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[p(y.channel),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium capitalize",children:y.channel}),s.jsx("div",{className:"text-sm text-gray-600",children:y.timestamp.toLocaleTimeString()})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm",children:[y.responseTime,"ms"]}),y.errorMessage&&s.jsx("div",{className:"text-xs text-red-600 max-w-32 truncate",title:y.errorMessage,children:y.errorMessage})]}),v(y.status)]})]},w))})})]})]})}const CEe=()=>s.jsx(nL,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notification Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Real-time monitoring and management of all notification channels"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(J,{variant:"outline",className:"text-green-600",children:[s.jsx(Rg,{className:"w-3 h-3 mr-1"}),"Live Monitoring Active"]})})]}),s.jsxs(fn,{defaultValue:"live",className:"space-y-6",children:[s.jsxs(zr,{className:"grid w-full grid-cols-6",children:[s.jsxs(he,{value:"live",className:"flex items-center gap-2",children:[s.jsx(gi,{className:"h-4 w-4"}),"Live Feed"]}),s.jsxs(he,{value:"channels",className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"h-4 w-4"}),"Channels"]}),s.jsxs(he,{value:"metrics",className:"flex items-center gap-2",children:[s.jsx(vi,{className:"h-4 w-4"}),"Metrics"]}),s.jsxs(he,{value:"history",className:"flex items-center gap-2",children:[s.jsx(MU,{className:"h-4 w-4"}),"History"]}),s.jsxs(he,{value:"testing",className:"flex items-center gap-2",children:[s.jsx(cn,{className:"h-4 w-4"}),"Testing"]}),s.jsxs(he,{value:"preferences",className:"flex items-center gap-2",children:[s.jsx(Ct,{className:"h-4 w-4"}),"Push Settings"]})]}),s.jsx(me,{value:"live",children:s.jsx(oN,{})}),s.jsx(me,{value:"channels",children:s.jsx(_Ee,{})}),s.jsx(me,{value:"metrics",children:s.jsx(EEe,{})}),s.jsx(me,{value:"history",children:s.jsx(PEe,{})}),s.jsx(me,{value:"testing",children:s.jsx(kEe,{})}),s.jsx(me,{value:"preferences",children:s.jsx(jL,{})})]})]})})});class AEe{constructor(){Fe(this,"cache",new Map);Fe(this,"historicalData",[])}async generateQuote(t){try{const r=this.getCacheKey(t);if(this.cache.has(r))return Ke.info("Returning cached quote estimate"),this.cache.get(r);Ke.info("Generating new AI quote estimate");const{data:n,error:a}=await R.functions.invoke("ai-quote-analyzer",{body:t});if(a)throw Ke.error("AI quote generation failed:",a),new Error("Failed to generate quote estimate");const i=n;return this.cache.set(r,i),await this.storeQuoteData(t,i),Ke.info("AI quote generated successfully",{confidence:i.confidence}),i}catch(r){throw Ke.error("Quote generation error:",r),r}}async getHistoricalAccuracy(){try{const{data:t,error:r}=await R.from("quotes").select("estimated_price, final_price, created_at").not("final_price","is",null).limit(100);if(r)throw r;if(!t||t.length===0)return .85;const n=t.map(a=>{const i=1-Math.abs(a.final_price-a.estimated_price)/a.final_price;return Math.max(0,Math.min(1,i))});return n.reduce((a,i)=>a+i,0)/n.length}catch(t){return Ke.error("Failed to calculate historical accuracy:",t),.85}}async updateModelWithActual(t,r){try{await R.from("quotes").update({final_price:r,updated_at:new Date().toISOString()}).eq("id",t),Ke.info("Updated quote with actual price for ML training",{quoteId:t,actualPrice:r})}catch(n){Ke.error("Failed to update quote with actual price:",n)}}getCacheKey(t){return`${t.address}_${t.squareFootage}_${t.services.sort().join("_")}`}async storeQuoteData(t,r){try{await R.from("quotes").insert({address:t.address,square_footage:t.squareFootage,services:t.services,property_type:t.propertyType,estimated_price:r.estimatedPrice,confidence_score:r.confidence,breakdown:r.breakdown,recommendations:r.recommendations,created_at:new Date().toISOString()})}catch(n){Ke.warn("Failed to store quote data:",n)}}}const XL=new AEe,OEe=[{id:"lawn-mowing",label:"Lawn Mowing",price:"$0.15/sqft"},{id:"hedge-trimming",label:"Hedge Trimming",price:"$25/hour"},{id:"garden-maintenance",label:"Garden Maintenance",price:"$0.25/sqft"},{id:"tree-pruning",label:"Tree Pruning",price:"$75/tree"},{id:"landscape-design",label:"Landscape Design",price:"$2.50/sqft"}],TEe=()=>{const[e,t]=b.useState({address:"",squareFootage:"",propertyType:"residential",services:[]}),[r,n]=b.useState([]),[a,i]=b.useState(null),[o,l]=b.useState(!1),[c,u]=b.useState(null),d=g=>{const p=g.target.files;p&&Array.from(p).forEach(v=>{const x=new FileReader;x.onload=y=>{var w;(w=y.target)!=null&&w.result&&n(N=>[...N,y.target.result])},x.readAsDataURL(v)})},f=g=>{t(p=>({...p,services:p.services.includes(g)?p.services.filter(v=>v!==g):[...p.services,g]}))},h=async()=>{if(!e.address||!e.squareFootage||e.services.length===0){Ke.warn("Incomplete quote form data");return}l(!0);try{const g={images:r,address:e.address,squareFootage:parseInt(e.squareFootage),services:e.services,propertyType:e.propertyType},p=await XL.generateQuote(g);i(p),Ke.info("Quote generated successfully")}catch(g){Ke.error("Quote generation failed:",g)}finally{l(!1)}},m=()=>{c&&a&&(i({...a,estimatedPrice:c,confidence:.9}),u(null))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(f4,{className:"h-5 w-5 text-blue-600"}),"AI-Powered Quote Estimation"]})}),s.jsxs(D,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"address",children:"Property Address"}),s.jsxs("div",{className:"flex",children:[s.jsx(Bs,{className:"h-4 w-4 mt-3 mr-2 text-gray-400"}),s.jsx(de,{id:"address",placeholder:"123 Main St, City, State",value:e.address,onChange:g=>t(p=>({...p,address:g.target.value}))})]})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"squareFootage",children:"Square Footage"}),s.jsx(de,{id:"squareFootage",type:"number",placeholder:"5000",value:e.squareFootage,onChange:g=>t(p=>({...p,squareFootage:g.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Services Required"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:OEe.map(g=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dd,{id:g.id,checked:e.services.includes(g.id),onCheckedChange:()=>f(g.id)}),s.jsxs(ue,{htmlFor:g.id,className:"text-sm",children:[g.label," ",s.jsxs("span",{className:"text-gray-500",children:["(",g.price,")"]})]})]},g.id))})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"images",children:"Property Images"}),s.jsxs("div",{className:"mt-2",children:[s.jsx("input",{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:d,className:"hidden"}),s.jsxs(L,{type:"button",variant:"outline",onClick:()=>{var g;return(g=document.getElementById("images"))==null?void 0:g.click()},className:"w-full",children:[s.jsx(S4,{className:"h-4 w-4 mr-2"}),"Upload Property Images (",r.length," selected)"]})]})]}),s.jsx(L,{onClick:h,disabled:o,className:"w-full",children:o?"Analyzing...":"Generate AI Quote"})]})]}),a&&s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(jt,{className:"h-5 w-5 text-green-600"}),"Quote Estimate"]}),s.jsxs(J,{variant:a.confidence>.8?"default":"secondary",children:[Math.round(a.confidence*100),"% Confidence"]})]})}),s.jsxs(D,{className:"space-y-4",children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["$",a.estimatedPrice.toFixed(2)]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Price Breakdown"}),Object.entries(a.breakdown).map(([g,p])=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"capitalize",children:g.replace("-"," ")}),s.jsxs("span",{children:["$",p.toFixed(2)]})]},g))]}),a.recommendations.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"AI Recommendations"}),s.jsx("ul",{className:"list-disc list-inside space-y-1",children:a.recommendations.map((g,p)=>s.jsx("li",{className:"text-sm text-gray-600",children:g},p))})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Manual Override"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{type:"number",placeholder:"Enter custom price",value:c||"",onChange:g=>u(parseFloat(g.target.value))}),s.jsx(L,{onClick:m,variant:"outline",children:"Apply"})]})]})]})]})]})},REe=[{season:"spring",multiplier:1.2,description:"High demand season"},{season:"summer",multiplier:1,description:"Standard pricing"},{season:"fall",multiplier:1.1,description:"Cleanup season"},{season:"winter",multiplier:.8,description:"Low demand season"}],IEe=()=>{const[e,t]=b.useState(REe),[r,n]=b.useState(""),[a,i]=b.useState(0),[o,l]=b.useState(!1);b.useEffect(()=>{const m=new Date().getMonth();let g="summer";m>=2&&m<=4?g="spring":m>=8&&m<=10?g="fall":(m===11||m<=1)&&(g="winter"),n(g),c()},[]);const c=async()=>{try{const m=await XL.getHistoricalAccuracy();i(m)}catch(m){Ke.error("Failed to load historical accuracy:",m)}},u=(m,g)=>{t(p=>p.map(v=>v.season===m?{...v,multiplier:g}:v))},d=()=>{localStorage.setItem("seasonalMultipliers",JSON.stringify(e)),l(!1),Ke.info("Seasonal multipliers updated")},f=()=>{var m;return((m=e.find(g=>g.season===r))==null?void 0:m.multiplier)||1},h=m=>({spring:"🌸",summer:"☀️",fall:"🍂",winter:"❄️"})[m]||"📅";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"h-5 w-5 text-blue-600"}),"Seasonal Pricing Engine"]})}),s.jsxs(D,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl mb-2",children:[h(r)," ",r.charAt(0).toUpperCase()+r.slice(1)]}),s.jsx(J,{variant:"outline",children:"Current Season"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600 mb-2",children:[(f()*100).toFixed(0),"%"]}),s.jsx(J,{variant:"outline",children:"Price Multiplier"})]})]}),s.jsx("div",{className:"space-y-3",children:e.map(({season:m,multiplier:g,description:p})=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xl",children:h(m)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium capitalize",children:m}),s.jsx("div",{className:"text-sm text-gray-500",children:p})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:o?s.jsx(de,{type:"number",step:"0.1",min:"0.1",max:"2.0",value:g,onChange:v=>u(m,parseFloat(v.target.value)),className:"w-20"}):s.jsxs(J,{variant:m===r?"default":"secondary",children:[g,"x"]})})]},m))}),s.jsx("div",{className:"flex gap-2 mt-4",children:o?s.jsxs(s.Fragment,{children:[s.jsx(L,{onClick:d,className:"flex-1",children:"Save Changes"}),s.jsx(L,{onClick:()=>l(!1),variant:"outline",children:"Cancel"})]}):s.jsxs(L,{onClick:()=>l(!0),variant:"outline",className:"flex-1",children:[s.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Edit Multipliers"]})})]})]}),s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(qs,{className:"h-5 w-5 text-green-600"}),"Model Performance"]})}),s.jsxs(D,{children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[(a*100).toFixed(1),"%"]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Historical Accuracy"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[f()>1?"+":"",((f()-1)*100).toFixed(0),"%"]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Current Adjustment"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"AI + Seasonal"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Pricing Model"})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Current Season Impact:"})," ",r==="spring"?"Prices increased due to high demand":r==="summer"?"Standard pricing in effect":r==="fall"?"Slight increase for cleanup services":"Reduced pricing for winter season"]})})]})]})]})},$Ee=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"AI Quote Estimation Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Leverage machine learning and computer vision for accurate landscaping quotes"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[s.jsxs(I,{children:[s.jsx(z,{className:"pb-2",children:s.jsxs(W,{className:"flex items-center gap-2 text-lg",children:[s.jsx(f4,{className:"h-5 w-5 text-blue-600"}),"AI Analysis"]})}),s.jsxs(D,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:"GPT-4 Vision"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Advanced image analysis for property assessment"})]})]}),s.jsxs(I,{children:[s.jsx(z,{className:"pb-2",children:s.jsxs(W,{className:"flex items-center gap-2 text-lg",children:[s.jsx(h4,{className:"h-5 w-5 text-green-600"}),"ML Training"]})}),s.jsxs(D,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:"Historical Data"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Continuous learning from completed jobs"})]})]}),s.jsxs(I,{children:[s.jsx(z,{className:"pb-2",children:s.jsxs(W,{className:"flex items-center gap-2 text-lg",children:[s.jsx(vi,{className:"h-5 w-5 text-purple-600"}),"Instant Quotes"]})}),s.jsxs(D,{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:"Real-time"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Generate accurate quotes in seconds"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[s.jsx("div",{children:s.jsx(TEe,{})}),s.jsx("div",{children:s.jsx(IEe,{})})]}),s.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"How AI Quote Estimation Works"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl",children:"📸"})}),s.jsx("h4",{className:"font-medium mb-2",children:"Image Analysis"}),s.jsx("p",{className:"text-sm text-gray-600",children:"AI analyzes property photos to identify lawn area, landscaping complexity, and maintenance needs"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl",children:"🗺️"})}),s.jsx("h4",{className:"font-medium mb-2",children:"Location Data"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Google Maps integration provides climate data, accessibility, and regional pricing factors"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl",children:"🧠"})}),s.jsx("h4",{className:"font-medium mb-2",children:"Smart Pricing"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Machine learning models trained on historical data provide accurate, competitive quotes"})]})]})]})]})});function Uo({children:e,activeTab:t="overview"}){const r=$e();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs(L,{variant:"ghost",onClick:()=>r("/client-dashboard"),className:"text-white hover:text-green-400 hover:bg-slate-800",children:[s.jsx(ls,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Payment Management"}),s.jsx("p",{className:"text-lg text-gray-300",children:"Manage your payment methods, subscriptions, and billing"})]}),s.jsx("div",{className:"w-24"})," "]}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"inline-flex bg-slate-800 border border-slate-700 rounded-lg p-1",children:[s.jsxs("button",{onClick:()=>r("/payments/overview"),className:`flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-all ${t==="overview"?"bg-green-600 text-white shadow-md":"text-gray-300 hover:text-white hover:bg-slate-700"}`,children:[s.jsx(qs,{className:"h-4 w-4"}),"Overview"]}),s.jsxs("button",{onClick:()=>r("/payments/methods"),className:`flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-all ${t==="methods"?"bg-green-600 text-white shadow-md":"text-gray-300 hover:text-white hover:bg-slate-700"}`,children:[s.jsx(ot,{className:"h-4 w-4"}),"Methods"]}),s.jsxs("button",{onClick:()=>r("/payments/subscriptions"),className:`flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-all ${t==="subscriptions"?"bg-green-600 text-white shadow-md":"text-gray-300 hover:text-white hover:bg-slate-700"}`,children:[s.jsx(Km,{className:"h-4 w-4"}),"Subscriptions"]}),s.jsxs("button",{onClick:()=>r("/payments/security"),className:`flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-all ${t==="security"?"bg-green-600 text-white shadow-md":"text-gray-300 hover:text-white hover:bg-slate-700"}`,children:[s.jsx(cn,{className:"h-4 w-4"}),"Security"]})]})})}),s.jsx("div",{className:"max-w-6xl mx-auto",children:e})]})})}function MEe(){var x;const{user:e}=c1(),[t,r]=b.useState({totalRevenue:0,pendingPayments:0,completedPayments:0,refundedAmount:0,monthlyRevenue:0,subscriptionRevenue:0}),[n,a]=b.useState([]),[i,o]=b.useState(!0),[l,c]=b.useState(!1),{toast:u}=$n(),d=(e==null?void 0:e.id)||"demo-user-123",f=((x=e==null?void 0:e.user_metadata)==null?void 0:x.role)||"client";b.useEffect(()=>{h()},[d,f]);const h=async()=>{try{o(!0);let y=R.from("payments").select("*");f==="client"?y=y.eq("client_id",d):f==="landscaper"&&(y=y.eq("landscaper_id",d));const{data:w,error:N}=await y.order("created_at",{ascending:!1});if(N&&N.code!=="PGRST116")throw N;const S=w||[];a(S);const j=new Date().getMonth(),_=new Date().getFullYear(),E={totalRevenue:S.filter(P=>P.status==="succeeded").reduce((P,C)=>P+(C.amount||0),0),pendingPayments:S.filter(P=>P.status==="pending").length,completedPayments:S.filter(P=>P.status==="succeeded").length,refundedAmount:S.filter(P=>P.status==="refunded").reduce((P,C)=>P+(C.amount||0),0),monthlyRevenue:S.filter(P=>{const C=new Date(P.created_at);return P.status==="succeeded"&&C.getMonth()===j&&C.getFullYear()===_}).reduce((P,C)=>P+(C.amount||0),0),subscriptionRevenue:S.filter(P=>P.status==="succeeded"&&P.subscription_id).reduce((P,C)=>P+(C.amount||0),0)};r(E)}catch(y){console.error("Error fetching payment data:",y),u({title:"Error",description:"Failed to load payment data",variant:"destructive"})}finally{o(!1)}},m=async()=>{c(!0),await h(),c(!1),u({title:"Refreshed",description:"Payment data has been updated"})},g=async y=>{try{const{data:w,error:N}=await R.functions.invoke("generate-invoice",{body:{transactionId:y,userId:d}});if(N)throw N;const S=new Blob([w],{type:"application/pdf"}),j=window.URL.createObjectURL(S),_=document.createElement("a");_.href=j,_.download=`invoice-${y}.pdf`,_.click(),u({title:"Success",description:"Invoice downloaded successfully"})}catch{u({title:"Error",description:"Failed to download invoice",variant:"destructive"})}},p=y=>{const w={succeeded:{label:"Completed",color:"bg-green-100 text-green-800"},pending:{label:"Pending",color:"bg-yellow-100 text-yellow-800"},failed:{label:"Failed",color:"bg-red-100 text-red-800"},refunded:{label:"Refunded",color:"bg-gray-100 text-gray-800"}},N=w[y]||w.pending;return s.jsx(J,{className:N.color,children:N.label})},v=({title:y,value:w,icon:N,color:S,trend:j})=>s.jsx(I,{className:"bg-slate-800 border-slate-700 hover:bg-slate-750 transition-colors",children:s.jsx(D,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-300",children:y}),s.jsx("p",{className:"text-2xl font-bold text-white",children:w}),j&&s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:j})]}),s.jsx(N,{className:`h-8 w-8 ${S}`})]})})});return i?s.jsx(Uo,{activeTab:"overview",children:s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(y=>s.jsx(I,{className:"bg-slate-800 border-slate-700",children:s.jsx(D,{className:"p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-slate-600 rounded mb-2"}),s.jsx("div",{className:"h-8 bg-slate-600 rounded"})]})})},y))})})}):s.jsx(Uo,{activeTab:"overview",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Payment Overview"}),s.jsxs(L,{variant:"outline",onClick:m,disabled:l,className:"border-slate-600 text-white hover:bg-slate-700",children:[s.jsx(tr,{className:`h-4 w-4 mr-2 ${l?"animate-spin":""}`}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(v,{title:f==="client"?"Total Spent":"Total Revenue",value:`$${(t.totalRevenue/100).toFixed(2)}`,icon:jt,color:"text-green-400",trend:"+12% from last month"}),s.jsx(v,{title:"This Month",value:`$${(t.monthlyRevenue/100).toFixed(2)}`,icon:qs,color:"text-blue-400"}),s.jsx(v,{title:"Pending Payments",value:t.pendingPayments,icon:it,color:"text-yellow-400"}),s.jsx(v,{title:"Completed",value:t.completedPayments,icon:Oe,color:"text-green-400"}),s.jsx(v,{title:"Subscriptions",value:`$${(t.subscriptionRevenue/100).toFixed(2)}`,icon:Km,color:"text-purple-400"}),s.jsx(v,{title:"Refunded",value:`$${(t.refundedAmount/100).toFixed(2)}`,icon:bt,color:"text-red-400"})]}),s.jsxs(I,{className:"bg-slate-800 border-slate-700",children:[s.jsx(z,{children:s.jsxs(W,{className:"text-white flex items-center gap-2",children:[s.jsx(ot,{className:"h-5 w-5"}),"Recent Transactions"]})}),s.jsx(D,{children:n.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Km,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No transactions yet"}),s.jsx("p",{className:"text-gray-400",children:"Your payment history will appear here"})]}):s.jsx("div",{className:"space-y-4",children:n.slice(0,10).map(y=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[s.jsx("p",{className:"font-medium text-white truncate",children:y.description||"Payment"}),s.jsx("p",{className:"text-sm text-gray-400",children:new Date(y.created_at).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"font-semibold text-white",children:["$",(y.amount/100).toFixed(2)]}),p(y.status),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>g(y.id),className:"border-slate-600 text-white hover:bg-slate-600",children:s.jsx(Ei,{className:"h-4 w-4"})})]})]},y.id))})})]})]})})}function DEe(){const{user:e}=c1(),[t,r]=b.useState([]),[n,a]=b.useState(!0),[i,o]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState({number:"",expiry:"",cvc:"",name:""}),{toast:m}=$n(),g=(e==null?void 0:e.id)||"demo-user-123";b.useEffect(()=>{p()},[g]);const p=async()=>{try{a(!0);const{data:j,error:_}=await R.functions.invoke("get-payment-methods",{body:{userId:g}});if(_)throw _;r((j==null?void 0:j.paymentMethods)||[])}catch(j){console.error("Error fetching payment methods:",j),m({title:"Error",description:"Failed to load payment methods",variant:"destructive"})}finally{a(!1)}},v=async()=>{d(!0),await p(),d(!1),m({title:"Refreshed",description:"Payment methods updated"})},x=async()=>{try{o(!0);const{data:j,error:_}=await R.functions.invoke("attach-payment-method",{body:{userId:g,cardData:f}});if(_)throw _;m({title:"Success",description:"Payment method added successfully"}),h({number:"",expiry:"",cvc:"",name:""}),c(!1),p()}catch{m({title:"Error",description:"Failed to add payment method",variant:"destructive"})}finally{o(!1)}},y=async j=>{try{const{error:_}=await R.functions.invoke("set-default-payment-method",{body:{userId:g,paymentMethodId:j}});if(_)throw _;m({title:"Success",description:"Default payment method updated"}),p()}catch{m({title:"Error",description:"Failed to update default payment method",variant:"destructive"})}},w=async j=>{try{const{error:_}=await R.functions.invoke("delete-payment-method",{body:{userId:g,paymentMethodId:j}});if(_)throw _;m({title:"Success",description:"Payment method removed"}),p()}catch{m({title:"Error",description:"Failed to remove payment method",variant:"destructive"})}},N=j=>s.jsx(ot,{className:"h-5 w-5 text-blue-400"}),S=(j,_,E)=>j==="expired"||_&&E&&new Date>new Date(E,_-1)?s.jsx(J,{className:"bg-red-100 text-red-800",children:"Expired"}):j==="requires_action"?s.jsx(J,{className:"bg-yellow-100 text-yellow-800",children:"Requires Action"}):s.jsx(J,{className:"bg-green-100 text-green-800",children:"Active"});return n?s.jsx(Uo,{activeTab:"methods",children:s.jsxs(I,{className:"bg-slate-800 border-slate-700",children:[s.jsx(z,{children:s.jsx(W,{className:"text-white",children:"Payment Methods"})}),s.jsx(D,{children:s.jsx("div",{className:"space-y-4",children:[1,2].map(j=>s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-16 bg-slate-600 rounded-lg"})},j))})})]})}):s.jsx(Uo,{activeTab:"methods",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Payment Methods"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(L,{variant:"outline",onClick:v,disabled:u,className:"border-slate-600 text-white hover:bg-slate-700",children:[s.jsx(tr,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),"Refresh"]}),s.jsxs(Ko,{open:l,onOpenChange:c,children:[s.jsx(b5,{asChild:!0,children:s.jsxs(L,{className:"bg-green-600 hover:bg-green-700",children:[s.jsx(ac,{className:"h-4 w-4 mr-2"}),"Add Method"]})}),s.jsxs(Ai,{className:"bg-slate-800 border-slate-700",children:[s.jsx(Oi,{children:s.jsx(Ti,{className:"text-white",children:"Add Payment Method"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"cardName",className:"text-gray-300",children:"Cardholder Name"}),s.jsx(de,{id:"cardName",value:f.name,onChange:j=>h(_=>({..._,name:j.target.value})),placeholder:"John Doe",className:"bg-slate-700 border-slate-600 text-white"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"cardNumber",className:"text-gray-300",children:"Card Number"}),s.jsx(de,{id:"cardNumber",value:f.number,onChange:j=>h(_=>({..._,number:j.target.value})),placeholder:"1234 5678 9012 3456",maxLength:19,className:"bg-slate-700 border-slate-600 text-white"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"expiry",className:"text-gray-300",children:"Expiry"}),s.jsx(de,{id:"expiry",value:f.expiry,onChange:j=>h(_=>({..._,expiry:j.target.value})),placeholder:"MM/YY",maxLength:5,className:"bg-slate-700 border-slate-600 text-white"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"cvc",className:"text-gray-300",children:"CVC"}),s.jsx(de,{id:"cvc",value:f.cvc,onChange:j=>h(_=>({..._,cvc:j.target.value})),placeholder:"123",maxLength:4,className:"bg-slate-700 border-slate-600 text-white"})]})]}),s.jsx(L,{onClick:x,disabled:i,className:"w-full bg-green-600 hover:bg-green-700",children:i?"Adding...":"Add Payment Method"})]})]})]})]})]}),s.jsxs(I,{className:"bg-slate-800 border-slate-700",children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2 text-white",children:[s.jsx(cn,{className:"h-5 w-5 text-green-400"}),"Stored Payment Methods"]})}),s.jsxs(D,{children:[t.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ot,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No payment methods"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"Add a payment method to get started"})]}):s.jsx("div",{className:"space-y-4",children:t.map(j=>{var _;return s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-700 rounded-lg hover:bg-slate-600 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[N(j.brand),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-medium text-white",children:[(_=j.brand)==null?void 0:_.toUpperCase()," •••• ",j.last4]}),j.is_default&&s.jsxs(J,{className:"bg-yellow-100 text-yellow-800 text-xs",children:[s.jsx(cs,{className:"h-3 w-3 mr-1"}),"Default"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[j.exp_month&&j.exp_year&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ar,{className:"h-3 w-3"}),j.exp_month.toString().padStart(2,"0"),"/",j.exp_year]}),S(j.status,j.exp_month,j.exp_year)]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!j.is_default&&s.jsx(L,{variant:"outline",size:"sm",onClick:()=>y(j.id),className:"border-slate-600 text-white hover:bg-slate-600",children:"Set Default"}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>w(j.id),className:"border-red-600 text-red-400 hover:bg-red-600 hover:text-white",children:s.jsx(n1,{className:"h-4 w-4"})})]})]},j.id)})}),s.jsx("div",{className:"mt-6 p-4 bg-blue-900/30 rounded-lg border border-blue-500/30",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(cn,{className:"h-5 w-5 text-blue-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-300",children:"Secure Payment Processing"}),s.jsx("p",{className:"text-sm text-blue-200 mt-1",children:"Your payment information is encrypted and securely processed by Stripe. We never store your full card details on our servers."})]})]})})]})]})]})})}const LEe=[{id:"basic_monthly",name:"Basic",amount:999,interval:"month",features:["Up to 3 requests/month","Email support","Mobile access"]},{id:"premium_monthly",name:"Premium",amount:2999,interval:"month",popular:!0,features:["Unlimited requests","Priority support","Advanced scheduling"]}];function FEe(){const{user:e}=c1(),[t,r]=b.useState(null),[n,a]=b.useState(!0),{toast:i}=$n(),o=(e==null?void 0:e.id)||"demo-user-123";b.useEffect(()=>{l()},[o]);const l=async()=>{try{const{data:u,error:d}=await R.from("subscriptions").select("*").eq("user_id",o).single();if(d&&d.code!=="PGRST116")throw d;r(u)}catch(u){console.error("Error:",u)}finally{a(!1)}},c=async u=>{try{const{data:d,error:f}=await R.functions.invoke("create-subscription",{body:{userId:o,planId:u}});if(f)throw f;d.checkoutUrl&&(window.location.href=d.checkoutUrl)}catch{i({title:"Error",description:"Failed to create subscription",variant:"destructive"})}};return n?s.jsx(Uo,{activeTab:"subscriptions",children:s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-32 bg-slate-700 rounded-lg"})})}):s.jsx(Uo,{activeTab:"subscriptions",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Subscriptions"}),t?s.jsxs(I,{className:"bg-slate-800 border-slate-700",children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2 text-white",children:[s.jsx(Zj,{className:"h-5 w-5 text-yellow-400"}),"Current Subscription"]})}),s.jsxs(D,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg text-white",children:t.plan_name}),s.jsxs("p",{className:"text-gray-300",children:["$",(t.amount/100).toFixed(2),"/",t.interval]})]}),s.jsx(J,{className:"bg-green-100 text-green-800",children:t.status})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[s.jsx(ar,{className:"h-4 w-4"}),"Next billing: ",new Date(t.current_period_end).toLocaleDateString()]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(L,{variant:"outline",className:"border-slate-600 text-white",children:[s.jsx(ot,{className:"h-4 w-4 mr-2"}),"Manage Billing"]}),s.jsx(L,{variant:"destructive",children:"Cancel Subscription"})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Choose Your Plan"}),s.jsx("p",{className:"text-gray-400",children:"Select the perfect plan for your needs"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:LEe.map(u=>s.jsxs(I,{className:`bg-slate-800 border-slate-700 ${u.popular?"ring-2 ring-blue-500":""}`,children:[u.popular&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsxs(J,{className:"bg-blue-500 text-white",children:[s.jsx(cs,{className:"h-3 w-3 mr-1"}),"Popular"]})}),s.jsxs(z,{children:[s.jsx(W,{className:"text-white",children:u.name}),s.jsxs("div",{className:"text-3xl font-bold text-white",children:["$",(u.amount/100).toFixed(2),s.jsxs("span",{className:"text-lg font-normal text-gray-400",children:["/",u.interval]})]})]}),s.jsxs(D,{className:"space-y-4",children:[s.jsx("ul",{className:"space-y-2",children:u.features.map((d,f)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-300",children:[s.jsx(qo,{className:"h-4 w-4 text-green-400"}),d]},f))}),s.jsx(L,{className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>c(u.id),children:"Choose Plan"})]})]},u.id))})]})]})})}function BEe(){return s.jsx(Uo,{activeTab:"security",children:s.jsxs(I,{className:"bg-slate-800 border-slate-700",children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2 text-white",children:[s.jsx(cn,{className:"h-5 w-5 text-green-400"}),"Security & Compliance"]})}),s.jsxs(D,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg text-white",children:"Payment Security"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"PCI DSS Level 1 Compliant"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"256-bit SSL Encryption"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Tokenized Card Storage"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"3D Secure Authentication"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg text-white",children:"Compliance"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"GDPR Compliant"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"SOC 2 Type II"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"CCPA Compliant"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"Regular Security Audits"]})]})]})]}),s.jsxs("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-500/30",children:[s.jsx("h4",{className:"font-medium text-blue-300 mb-2",children:"Data Protection"}),s.jsx("p",{className:"text-sm text-blue-200",children:"We never store your complete payment information on our servers. All sensitive data is securely processed and stored by Stripe, our PCI-compliant payment processor."})]})]})]})})}const UEe=({className:e="",size:t=16})=>s.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),s.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),no=class no{static getInstance(){return no.instance||(no.instance=new no),no.instance}checkLocalStorage(){const t={};try{const r=localStorage.getItem("GSL_SUPABASE_URL")||localStorage.getItem("supabaseUrl"),n=localStorage.getItem("GSL_SUPABASE_ANON")||localStorage.getItem("supabaseAnonKey");r&&(t.VITE_SUPABASE_URL=r),n&&(t.VITE_SUPABASE_ANON_KEY=n);const a=localStorage.getItem("STRIPE_PUBLISHABLE_KEY")||localStorage.getItem("GSL_STRIPE_KEY"),i=localStorage.getItem("GOOGLE_MAPS_API_KEY")||localStorage.getItem("GSL_MAPS_KEY"),o=localStorage.getItem("RESEND_API_KEY")||localStorage.getItem("GSL_RESEND_KEY");a&&(t.VITE_STRIPE_PUBLISHABLE_KEY=a),i&&(t.VITE_GOOGLE_MAPS_API_KEY=i),o&&(t.VITE_RESEND_API_KEY=o)}catch(r){console.error("Error checking localStorage:",r)}return{name:"localStorage",keys:t,source:"localStorage"}}checkQueryParams(){const t={};try{const r=new URLSearchParams(window.location.search),n=r.get("sb");if(n)try{const c=atob(n),[u,d]=c.split("|");u&&(t.VITE_SUPABASE_URL=u),d&&(t.VITE_SUPABASE_ANON_KEY=d)}catch{console.warn("Failed to decode sb parameter")}const a=r.get("supabase_url"),i=r.get("supabase_anon"),o=r.get("stripe_key"),l=r.get("maps_key");a&&(t.VITE_SUPABASE_URL=a),i&&(t.VITE_SUPABASE_ANON_KEY=i),o&&(t.VITE_STRIPE_PUBLISHABLE_KEY=o),l&&(t.VITE_GOOGLE_MAPS_API_KEY=l)}catch(r){console.error("Error checking query params:",r)}return{name:"queryParams",keys:t,source:"queryParams"}}getAllSources(){return[this.checkLocalStorage(),this.checkQueryParams()]}generateEnvContent(){const t=this.getAllSources(),r={};return t.forEach(a=>{Object.assign(r,a.keys)}),`# Supabase Configuration
# For Vercel deployment, add these exact values as environment variables:
VITE_SUPABASE_URL=${r.VITE_SUPABASE_URL||"https://mwvcbedvnimabfwubazz.supabase.co"}
VITE_SUPABASE_ANON_KEY=${r.VITE_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY"}
VITE_SUPABASE_FUNCTIONS_URL=https://mwvcbedvnimabfwubazz.functions.supabase.co
VITE_SITE_URL=https://greenscapelux.com

# Admin Email Configuration
VITE_ADMIN_EMAIL=cmatthews@greenscapelux.com

# Development Settings
VITE_APP_ENV=development


# Stripe Configuration (Required for payments)
# Get these from https://dashboard.stripe.com/apikeys
VITE_STRIPE_PUBLISHABLE_KEY=${r.VITE_STRIPE_PUBLISHABLE_KEY||"pk_test_your_publishable_key_here"}
VITE_STRIPE_SECRET_KEY=${r.VITE_STRIPE_SECRET_KEY||"sk_test_your_secret_key_here"}
VITE_STRIPE_WEBHOOK_SECRET=${r.VITE_STRIPE_WEBHOOK_SECRET||"whsec_your_webhook_secret_here"}

# Google Maps API (Required for location services)
# Get from https://console.cloud.google.com/apis/credentials
VITE_GOOGLE_MAPS_API_KEY=${r.VITE_GOOGLE_MAPS_API_KEY||"your-google-maps-api-key-here"}

# Resend Email API (Optional for notifications)
# Get from https://resend.com/api-keys
VITE_RESEND_API_KEY=${r.VITE_RESEND_API_KEY||"re_your_resend_api_key_here"}`}generateReport(){const t=this.getAllSources();let r=`🔍 API Key Discovery Report
`;return r+="=".repeat(50)+`

`,t.forEach(n=>{const a=Object.keys(n.keys).length;r+=`📍 ${n.name} (${a} keys found):
`,a===0?r+=`  No API keys found

`:(Object.entries(n.keys).forEach(([i,o])=>{const l=o.length>10?`${o.slice(0,6)}...${o.slice(-4)}`:o;r+=`  ✓ ${i}: ${l}
`}),r+=`
`)}),r}};Fe(no,"instance");let dg=no;const EA={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},so=class so{constructor(){Fe(this,"updateQueue",[]);Fe(this,"isProcessing",!1)}static getInstance(){return so.instance||(so.instance=new so),so.instance}queueUpdate(t,r){const n={key:t,value:r,timestamp:new Date};this.updateQueue=this.updateQueue.filter(a=>a.key!==t),this.updateQueue.push(n),console.log(`📝 Queued env update: ${t}`),this.isProcessing||this.processQueue()}async processQueue(){if(!(this.updateQueue.length===0||this.isProcessing)){this.isProcessing=!0;try{const t=[...this.updateQueue];this.updateQueue=[],await this.applyUpdates(t),console.log(`✅ Applied ${t.length} environment updates`)}catch(t){console.error("❌ Failed to process env updates:",t),this.updateQueue.unshift(...this.updateQueue)}finally{this.isProcessing=!1,this.updateQueue.length>0&&setTimeout(()=>this.processQueue(),1e3)}}}async applyUpdates(t){t.forEach(n=>{localStorage.setItem(`GSL_${n.key}`,n.value),localStorage.setItem(n.key,n.value),typeof window<"u"&&window.ENV&&(window.ENV[n.key]=n.value)});const r=new CustomEvent("env-file-updated",{detail:{updates:t}});window.dispatchEvent(r)}logEnvFileContent(t){console.group("📄 .env.local file content:");const n={...this.getCurrentEnvVars()};t.forEach(a=>{n[a.key]=a.value}),Object.entries(n).forEach(([a,i])=>{console.log(`${a}=${i}`)}),console.groupEnd()}getCurrentEnvVars(){const t={};typeof window<"u"&&EA&&Object.entries(EA).forEach(([r,n])=>{typeof n=="string"&&(t[r]=n)});for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);if(n!=null&&n.startsWith("GSL_")||n!=null&&n.startsWith("VITE_")){const a=n.startsWith("GSL_")?n.slice(4):n;t[a]=localStorage.getItem(n)||""}}return t}generateEnvFileContent(){const t=this.getCurrentEnvVars();return`# Auto-generated .env.local file
# Last updated: ${new Date().toISOString()}

# Supabase Configuration
VITE_SUPABASE_URL=${t.VITE_SUPABASE_URL||"https://mwvcbedvnimabfwubazz.supabase.co"}
VITE_SUPABASE_ANON_KEY=${t.VITE_SUPABASE_ANON_KEY||"your-supabase-anon-key"}
VITE_SUPABASE_FUNCTIONS_URL=https://mwvcbedvnimabfwubazz.functions.supabase.co
VITE_SITE_URL=https://greenscapelux.com

# Admin Configuration
VITE_ADMIN_EMAIL=cmatthews@greenscapelux.com

# Development Settings
VITE_APP_ENV=development

# API Keys
VITE_STRIPE_PUBLISHABLE_KEY=${t.VITE_STRIPE_PUBLISHABLE_KEY||"pk_test_your_stripe_key"}
VITE_GOOGLE_MAPS_API_KEY=${t.VITE_GOOGLE_MAPS_API_KEY||"your-google-maps-key"}
VITE_RESEND_API_KEY=${t.VITE_RESEND_API_KEY||"re_your_resend_key"}
`}getPendingUpdatesCount(){return this.updateQueue.length}isProcessingUpdates(){return this.isProcessing}};Fe(so,"instance");let Gw=so;const ao=class ao{constructor(){Fe(this,"intervalId",null);Fe(this,"status",{isRunning:!1,lastSync:null,syncCount:0,errors:[],discoveredKeys:{}});Fe(this,"SYNC_INTERVAL",3e4);Fe(this,"MAX_ERRORS",10)}static getInstance(){return ao.instance||(ao.instance=new ao),ao.instance}start(){if(typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1")){console.log("🌿 Production environment detected - skipping AutoSync service");return}if(this.status.isRunning){console.log("🔄 AutoSync already running");return}console.log("🚀 Starting AutoSync service..."),this.status.isRunning=!0,this.performSync(),this.intervalId=window.setInterval(()=>{this.performSync()},this.SYNC_INTERVAL)}stop(){this.status.isRunning&&(console.log("⏹️ Stopping AutoSync service..."),this.status.isRunning=!1,this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null))}async performSync(){try{const r=dg.getInstance().getAllSources(),n={};r.forEach(a=>{Object.entries(a.keys).forEach(([i,o])=>{(!this.status.discoveredKeys[i]||this.status.discoveredKeys[i]!==o)&&(n[i]=o)})}),Object.keys(n).length>0&&(console.log("🔍 New API keys discovered:",Object.keys(n)),this.status.discoveredKeys={...this.status.discoveredKeys,...n},await this.updateEnvironment(n),this.notifyEnvironmentChange(n)),this.status.lastSync=new Date,this.status.syncCount++}catch(t){const r=t instanceof Error?t.message:"Unknown sync error";this.status.errors.push(`${new Date().toISOString()}: ${r}`),this.status.errors.length>this.MAX_ERRORS&&(this.status.errors=this.status.errors.slice(-this.MAX_ERRORS)),console.error("❌ AutoSync error:",t)}}async updateEnvironment(t){try{if(!(typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1")))try{const n=Gw.getInstance();Object.entries(t).forEach(([a,i])=>{n.queueUpdate(a,i)})}catch(n){console.warn("Failed to update .env file:",n)}Object.entries(t).forEach(([n,a])=>{localStorage.setItem(`GSL_${n}`,a)}),Object.entries(t).forEach(([n,a])=>{window.ENV&&(window.ENV[n]=a)}),console.log("✅ Environment updated with new keys")}catch(r){throw console.error("❌ Failed to update environment:",r),r}}notifyEnvironmentChange(t){const r=new CustomEvent("env-keys-updated",{detail:{newKeys:t,allKeys:this.status.discoveredKeys}});window.dispatchEvent(r)}getStatus(){return{...this.status}}async forcSync(){console.log("🔄 Force sync requested..."),await this.performSync()}clearErrors(){this.status.errors=[]}};Fe(ao,"instance");let Yw=ao;const vl={};class go{static getStatus(){return{...this.syncStatus}}static discoverKeys(){const t={};try{const r=localStorage.getItem("famous_setup");if(r){const a=JSON.parse(r);t.supabaseUrl=a.supabaseUrl,t.supabaseAnonKey=a.supabaseAnonKey,t.stripePublishableKey=a.stripePublishableKey,t.stripeSecretKey=a.stripeSecretKey,t.googleMapsApiKey=a.googleMapsApiKey,t.resendApiKey=a.resendApiKey}["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY","VITE_STRIPE_PUBLISHABLE_KEY","VITE_STRIPE_SECRET_KEY","VITE_GOOGLE_MAPS_API_KEY","VITE_RESEND_API_KEY"].forEach(a=>{const i=localStorage.getItem(a);if(i){const o=a.replace(/^VITE_/,"").toLowerCase().replace(/_([a-z])/g,(l,c)=>c.toUpperCase());t[o]=i}}),this.syncStatus.keysFound=Object.keys(t).filter(a=>t[a])}catch(r){this.syncStatus.errors.push(`Discovery error: ${r}`)}return t}static async syncToProduction(){if(typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1"))return console.info("🌿 Production environment detected - using build-time environment variables"),!0;try{this.syncStatus.isRunning=!0,this.syncStatus.errors=[];const r=this.discoverKeys(),n=Object.keys(r).length;return n>0?(console.info(`🔑 Discovered ${n} API keys from Famous setup`),this.syncStatus.lastSync=new Date,!0):!1}catch(r){return this.syncStatus.errors.push(`Sync error: ${r}`),!1}finally{this.syncStatus.isRunning=!1}}static validateProductionConfig(){if(!(typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1")))return{isValid:!0,message:"Development environment"};const r=typeof import.meta<"u"&&(vl==null?void 0:vl.VITE_SUPABASE_URL),n=typeof import.meta<"u"&&(vl==null?void 0:vl.VITE_SUPABASE_ANON_KEY);return r&&n?{isValid:!0,message:"Production environment variables detected"}:{isValid:!1,message:"Production deployment missing environment variables. Using fallback configuration."}}}Fe(go,"syncStatus",{isRunning:!1,lastSync:null,keysFound:[],errors:[]});function VEe(){const[e,t]=b.useState(go.getStatus()),[r,n]=b.useState(go.validateProductionConfig());b.useEffect(()=>{const o=setInterval(()=>{t(go.getStatus()),n(go.validateProductionConfig())},5e3);return()=>clearInterval(o)},[]);const a=o=>o?s.jsx(Oe,{className:"h-4 w-4 text-green-600"}):s.jsx(gt,{className:"h-4 w-4 text-red-600"}),i=o=>o?s.jsx(J,{className:"bg-green-100 text-green-800",children:"Ready"}):s.jsx(J,{variant:"destructive",children:"Issues"});return s.jsx("div",{className:"space-y-4",children:s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Production Environment Status"}),i(r.isValid)]})}),s.jsxs(D,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a(r.isValid),s.jsx("span",{className:"text-sm",children:r.message})]}),!r.isValid&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ct,{className:"h-4 w-4 text-yellow-600"}),s.jsx("span",{className:"font-medium text-yellow-800",children:"Action Required"})]}),s.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"Your production deployment is missing environment variables. The app is running with fallback values."}),s.jsxs("div",{className:"text-xs text-yellow-600 space-y-1",children:[s.jsx("p",{children:"• Go to Vercel Dashboard → Settings → Environment Variables"}),s.jsx("p",{children:"• Add VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY"}),s.jsx("p",{children:"• Set for Production, Preview, and Development"}),s.jsx("p",{children:"• Redeploy your application"})]})]})]})]})})}const zEe=["your-key","your_key_here","your-project","your_publishable_key_here","your_secret_key_here","your_webhook_secret_here","your_resend_api_key_here","example-key","test-key","placeholder","pk_test_your_publishable_key_here","sk_test_your_secret_key_here","sk_live_your_secret_key_here"];class es{static validateSupabaseUrl(t){const r="Supabase URL";return!t||t.trim()===""?{isValid:!1,error:"Supabase URL is required",service:r,key:t}:this.isPlaceholder(t)?{isValid:!1,error:"Supabase URL contains placeholder value",service:r,key:t,isPlaceholder:!0}:t.includes(".supabase.co")?{isValid:!0,service:r,key:t}:{isValid:!1,error:"Invalid Supabase URL format (must contain .supabase.co)",service:r,key:t}}static validateSupabaseAnonKey(t){const r="Supabase Anon Key";return!t||t.trim()===""?{isValid:!1,error:"Supabase anon key is required",service:r,key:t}:this.isPlaceholder(t)?{isValid:!1,error:"Supabase anon key contains placeholder value",service:r,key:t,isPlaceholder:!0}:t.startsWith("eyJ")?{isValid:!0,service:r,key:t}:{isValid:!1,error:"Invalid Supabase anon key format (must be JWT)",service:r,key:t}}static validateStripePublishableKey(t){const r="Stripe Publishable Key";return!t||t.trim()===""?{isValid:!0,service:r,key:t}:this.isPlaceholder(t)?{isValid:!1,error:"Stripe publishable key contains placeholder value",service:r,key:t,isPlaceholder:!0}:t.startsWith("pk_")?{isValid:!0,service:r,key:t}:{isValid:!1,error:"Invalid Stripe publishable key format (must start with pk_)",service:r,key:t}}static validateGoogleMapsKey(t){const r="Google Maps API Key";return!t||t.trim()===""?{isValid:!1,error:"Google Maps API key is required for location services",service:r,key:t}:this.isPlaceholder(t)?{isValid:!1,error:"Google Maps API key contains placeholder value",service:r,key:t,isPlaceholder:!0}:t.startsWith("AIza")?{isValid:!0,service:r,key:t}:{isValid:!1,error:"Invalid Google Maps API key format (must start with AIza)",service:r,key:t}}static validateResendKey(t){const r="Resend API Key";return!t||t.trim()===""?{isValid:!0,service:r,key:t}:this.isPlaceholder(t)?{isValid:!1,error:"Resend API key contains placeholder value",service:r,key:t,isPlaceholder:!0}:t.startsWith("re_")?{isValid:!0,service:r,key:t}:{isValid:!1,error:"Invalid Resend API key format (must start with re_)",service:r,key:t}}static isPlaceholder(t){if(!t||t.trim()==="")return!1;const r=t.toLowerCase();return zEe.some(n=>r.includes(n.toLowerCase()))}static validateAllKeys(t){var l,c,u,d,f,h;const r=[this.validateSupabaseUrl((l=t.supabase)==null?void 0:l.url),this.validateSupabaseAnonKey((c=t.supabase)==null?void 0:c.anonKey),this.validateStripePublishableKey((u=t.stripe)==null?void 0:u.publishableKey),this.validateGoogleMapsKey((d=t.googleMaps)==null?void 0:d.apiKey),this.validateResendKey((f=t.resend)==null?void 0:f.apiKey)],n=r.filter(m=>!m.isValid).map(m=>`${m.service}: ${m.error}`),a=[],i=r.filter(m=>!m.isValid&&(!m.key||m.key.trim()==="")&&m.service!=="Resend API Key").map(m=>m.service),o=r.filter(m=>m.isPlaceholder).map(m=>m.service);return(!((h=t.resend)!=null&&h.apiKey)||t.resend.apiKey.trim()==="")&&a.push("Resend API key not configured - email notifications will be limited"),{allValid:n.length===0,errors:n,warnings:a,criticalMissing:i,placeholderKeys:o}}}const PA={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function Bu(e){var t,r;if(typeof import.meta<"u"&&PA){const n=PA[e];if(n&&n.trim()!=="")return n.trim()}if(typeof window<"u"&&((r=(t=window.import)==null?void 0:t.meta)!=null&&r.env)){const n=window.import.meta.env[e];if(n&&n.trim()!=="")return n.trim()}}function WEe(){return!1}function qEe(){return!0}const sa={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Yh={supabase:{url:"https://mwvcbedvnimabfwubazz.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dmNiZWR2bmltYWJmd3ViYXp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjIyMzksImV4cCI6MjA2NDEzODIzOX0.koz-XZMMXUk2XfXwRvar5UqQSZVK5WTtFfmPZ0HskSY"},stripe:{publishableKey:"pk_live_51S1Ht0K6kWkUsxtpuhNk69fjZuVrP85DNMYpexFeFMH5bCHdZjbtltPYXMcU5luEbz0SlB3ImUDAbifJspjtom0L00q27vIPCK"},googleMaps:{apiKey:"AIzaSyDGAU0VsZYL67arpQfGy-1vWSANqe-mKo4"}};function Jh(e){const t=sa==null?void 0:sa[e];if(t&&t!==""&&!t.includes("placeholder"))return t;switch(e){case"VITE_SUPABASE_URL":return console.warn("⚠️ Using fallback Supabase URL"),Yh.supabase.url;case"VITE_SUPABASE_ANON_KEY":return console.warn("⚠️ Using fallback Supabase anon key"),Yh.supabase.anonKey;case"VITE_STRIPE_PUBLISHABLE_KEY":return console.warn("⚠️ Using fallback Stripe publishable key"),Yh.stripe.publishableKey;case"VITE_GOOGLE_MAPS_API_KEY":return console.warn("⚠️ Using fallback Google Maps API key"),Yh.googleMaps.apiKey;default:return console.warn(`⚠️ No fallback available for ${e}`),""}}function HEe(){const e=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY"],t=["VITE_STRIPE_PUBLISHABLE_KEY","VITE_GOOGLE_MAPS_API_KEY"],r=[],n=[];for(const a of e){const i=sa==null?void 0:sa[a];(!i||i===""||i.includes("placeholder"))&&n.push(a)}for(const a of t){const i=sa==null?void 0:sa[a];(!i||i===""||i.includes("placeholder"))&&n.push(a)}return{isValid:r.length===0,missingKeys:r,usingFallbacks:n}}function kA(){const e=HEe();return e.usingFallbacks.length>0&&(console.warn("🔧 Environment Fallback System Active"),console.warn("Using fallbacks for:",e.usingFallbacks),console.warn("Please configure proper environment variables for production")),{supabase:{url:Jh("VITE_SUPABASE_URL"),anonKey:Jh("VITE_SUPABASE_ANON_KEY")},stripe:{publishableKey:Jh("VITE_STRIPE_PUBLISHABLE_KEY")},googleMaps:{apiKey:Jh("VITE_GOOGLE_MAPS_API_KEY")},app:{name:"GreenScape Lux",version:"1.0.0",environment:"production"}}}console.log("🔍 Vercel Env Check (Build Time):",{supabaseUrl:void 0,anonKey:void 0,stripeKey:void 0,googleMapsKey:void 0,mode:"production",prod:!0,dev:!1});function KEe(){try{const e={supabase:{url:Bu("VITE_SUPABASE_URL")||"",anonKey:Bu("VITE_SUPABASE_ANON_KEY")||""},stripe:{publishableKey:Bu("VITE_STRIPE_PUBLISHABLE_KEY")||""},googleMaps:{apiKey:Bu("VITE_GOOGLE_MAPS_API_KEY")||""},resend:{apiKey:Bu("VITE_RESEND_API_KEY")||""},app:{name:"GreenScape Lux",version:"1.0.0",environment:qEe()?"production":WEe()?"development":"unknown"}};if(e.supabase.url&&e.supabase.anonKey&&!e.supabase.url.includes("placeholder")&&!e.supabase.anonKey.includes("placeholder"))return console.log("✅ Using standard environment configuration"),e;{console.warn("⚠️ Critical environment variables missing, using fallback configuration");const r=kA();return{...e,...r}}}catch(e){return console.error("🚨 Configuration error, using emergency fallback:",e),kA()}}const At=KEe(),GEe=()=>{const[e,t]=b.useState(!1),[r,n]=b.useState([]),a=async()=>{const f=[],h=es.validateSupabaseUrl(At.supabase.url),m=es.validateSupabaseAnonKey(At.supabase.anonKey);f.push({service:"Supabase URL",success:h.isValid,message:h.error||"Configuration valid",isPlaceholder:h.isPlaceholder}),f.push({service:"Supabase Anon Key",success:m.isValid,message:m.error||"Configuration valid",isPlaceholder:m.isPlaceholder});const g=es.validateStripePublishableKey(At.stripe.publishableKey);f.push({service:"Stripe",success:g.isValid,message:g.error||"Configuration valid",details:g.isValid?"Publishable key format correct":void 0,isPlaceholder:g.isPlaceholder});const p=es.validateGoogleMapsKey(At.googleMaps.apiKey);f.push({service:"Google Maps",success:p.isValid,message:p.error||"Configuration valid",details:p.isValid?"API key format correct":void 0,isPlaceholder:p.isPlaceholder});const v=es.validateResendKey(At.resend.apiKey);return f.push({service:"Resend",success:v.isValid,message:v.error||(At.resend.apiKey?"Configuration valid":"Optional service - not configured"),details:v.isValid?"API key format correct":"Email notifications will be limited",isPlaceholder:v.isPlaceholder}),f},i=async()=>{t(!0),n([]);try{const f=await a();n(f)}catch(f){console.error("API testing failed:",f),n([{service:"System",success:!1,message:"Failed to run API tests",details:f instanceof Error?f.message:"Unknown error"}])}finally{t(!1)}},o=f=>f.isPlaceholder?s.jsx(ct,{className:"h-4 w-4 text-yellow-500"}):f.success?s.jsx(Oe,{className:"h-4 w-4 text-green-500"}):s.jsx(gt,{className:"h-4 w-4 text-red-500"}),l=f=>f.isPlaceholder?s.jsx(J,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Placeholder"}):s.jsx(J,{variant:f.success?"default":"destructive",children:f.success?"Valid":"Invalid"}),c=f=>f.isPlaceholder?"border-yellow-500 bg-yellow-50":f.success?"border-green-500 bg-green-50":"border-red-500 bg-red-50",u=r.some(f=>f.isPlaceholder),d=r.some(f=>!f.success&&!f.isPlaceholder&&f.service!=="Resend");return s.jsxs(I,{children:[s.jsx(z,{children:s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(D0,{className:"h-5 w-5"}),"API Configuration Validator"]})}),s.jsx(D,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(L,{onClick:i,disabled:e,className:"w-full",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Pn,{className:"h-4 w-4 mr-2 animate-spin"}),"Validating Configuration..."]}):"Validate All API Keys"}),r.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-3 rounded-lg border bg-gray-50",children:s.jsxs("div",{className:"text-sm",children:[d&&s.jsx("p",{className:"text-red-700 font-medium",children:"❌ Critical configuration errors detected"}),u&&s.jsx("p",{className:"text-yellow-700 font-medium",children:"⚠️ Placeholder values need replacement"}),!d&&!u&&s.jsx("p",{className:"text-green-700 font-medium",children:"✅ All API keys properly configured"})]})}),s.jsx("div",{className:"space-y-3",children:r.map((f,h)=>s.jsx(ze,{className:c(f),children:s.jsxs("div",{className:"flex items-center gap-2",children:[o(f),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:f.service}),l(f)]}),s.jsxs(We,{className:"mt-1",children:[f.message,f.details&&s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:f.details})]})]})]})},h))}),(u||d)&&s.jsxs(ze,{className:"border-red-200 bg-red-50",children:[s.jsx(ct,{className:"h-4 w-4 text-red-600"}),s.jsxs(We,{children:[s.jsx("strong",{children:"Production Deployment Blocked:"})," Fix the above issues before deploying to production. Replace placeholder values with real API keys from your service providers."]})]})]})]})})]})},YEe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var CA={};class Jw{constructor(){Fe(this,"requiredEnvVars",[{key:"VITE_SUPABASE_URL",required:!0,validator:t=>t.startsWith("https://")&&t.includes(".supabase.co"),error:"Must be a valid Supabase URL"},{key:"VITE_SUPABASE_ANON_KEY",required:!0,validator:t=>t.startsWith("eyJ")&&t.length>100,error:"Must be a valid Supabase anon key (JWT token)"},{key:"VITE_STRIPE_PUBLISHABLE_KEY",required:!0,validator:t=>t.startsWith("pk_"),error:"Must be a valid Stripe publishable key (starts with pk_)",warning:t=>t.startsWith("pk_live_")?"Using LIVE Stripe key":void 0},{key:"VITE_GOOGLE_MAPS_API_KEY",required:!0,validator:t=>t.length>20,error:"Must be a valid Google Maps API key"}]);Fe(this,"supabaseSecrets",[{key:"RESEND_API_KEY",required:!0,validator:t=>t.startsWith("re_"),error:"Must be a valid Resend API key"},{key:"STRIPE_SECRET_KEY",required:!0,validator:t=>t.startsWith("sk_"),error:"Must be a valid Stripe secret key"},{key:"STRIPE_WEBHOOK_SECRET",required:!0,validator:t=>t.startsWith("whsec_"),error:"Must be a valid Stripe webhook secret"}])}validateLocal(){const t=[],r=[],n=[],a=[];for(const l of this.requiredEnvVars){const c=YEe[l.key],u={key:l.key,value:c?this.maskValue(c):void 0,required:l.required,valid:!1,source:"local"};if(!c)r.push(l.key),u.error="Missing required environment variable";else if(!l.validator(c))n.push(l.key),u.error=l.error;else if(u.valid=!0,l.warning){const d=l.warning(c);d&&(a.push(`${l.key}: ${d}`),u.warning=d)}t.push(u)}const i=r.length===0&&n.length===0,o=this.calculateScore(t);return{valid:i,checks:t,missing:r,invalid:n,warnings:a,score:o}}async validateVercel(){const t=[],r=[],n=[],a=[],i=CA.VERCEL_TOKEN,o=CA.VERCEL_PROJECT_ID;if(!i||!o)return{valid:!1,checks:[{key:"VERCEL_CONFIG",required:!0,valid:!1,error:"VERCEL_TOKEN or VERCEL_PROJECT_ID not configured",source:"vercel"}],missing:["VERCEL_TOKEN","VERCEL_PROJECT_ID"],invalid:[],warnings:[],score:0};try{const u=await fetch(`https://api.vercel.com/v9/projects/${o}/env`,{headers:{Authorization:`Bearer ${i}`}});if(!u.ok)throw new Error(`Vercel API error: ${u.status}`);const f=(await u.json()).envs||[];for(const h of this.requiredEnvVars){const m=f.find(p=>p.key===h.key),g={key:h.key,required:h.required,valid:!1,source:"vercel"};if(!m)r.push(h.key),g.error="Missing in Vercel environment";else if(g.value=this.maskValue(m.value),!h.validator(m.value))n.push(h.key),g.error=h.error;else if(g.valid=!0,h.warning){const p=h.warning(m.value);p&&(a.push(`${h.key}: ${p}`),g.warning=p)}t.push(g)}}catch(u){return{valid:!1,checks:[{key:"VERCEL_API",required:!0,valid:!1,error:u instanceof Error?u.message:"Unknown error",source:"vercel"}],missing:[],invalid:[],warnings:[],score:0}}const l=r.length===0&&n.length===0,c=this.calculateScore(t);return{valid:l,checks:t,missing:r,invalid:n,warnings:a,score:c}}async validateSupabase(){const t=[],r=[],n=[],a=[];for(const i of this.supabaseSecrets)t.push({key:i.key,required:i.required,valid:!0,source:"supabase",warning:"Cannot validate Supabase secrets directly - manual verification required"}),a.push(`${i.key}: Manual verification required`);return{valid:!0,checks:t,missing:r,invalid:n,warnings:a,score:75}}async compareEnvironments(){const t=this.validateLocal(),r=await this.validateVercel(),n=[],a=[];for(const i of t.checks){const o=r.checks.find(l=>l.key===i.key);i.valid&&(o!=null&&o.valid)?i.value!==o.value&&n.push({key:i.key,local:i.value,vercel:o.value}):i.valid&&!(o!=null&&o.valid)?a.push(`Sync ${i.key} to Vercel`):!i.valid&&(o!=null&&o.valid)&&a.push(`Update local ${i.key} from Vercel`)}return{mismatches:n,recommendations:a}}maskValue(t){return t.length<=8?t:t.substring(0,8)+"..."}calculateScore(t){if(t.length===0)return 0;const r=t.filter(n=>n.valid).length;return Math.round(r/t.length*100)}generateReport(){const t=this.validateLocal();let r=`# Environment Validation Report

`;return r+=`**Overall Score:** ${t.score}/100
`,r+=`**Status:** ${t.valid?"✅ VALID":"❌ INVALID"}

`,t.missing.length>0&&(r+=`## Missing Variables
`,t.missing.forEach(n=>{r+=`- ❌ ${n}
`}),r+=`
`),t.invalid.length>0&&(r+=`## Invalid Variables
`,t.invalid.forEach(n=>{const a=t.checks.find(i=>i.key===n);r+=`- ❌ ${n}: ${a==null?void 0:a.error}
`}),r+=`
`),t.warnings.length>0&&(r+=`## Warnings
`,t.warnings.forEach(n=>{r+=`- ⚠️ ${n}
`}),r+=`
`),r+=`## All Variables
`,t.checks.forEach(n=>{const a=n.valid?"✅":"❌";r+=`- ${a} ${n.key}: ${n.value||"Not set"}
`,n.error&&(r+=`  - Error: ${n.error}
`),n.warning&&(r+=`  - Warning: ${n.warning}
`)}),r}}function JEe({onComplete:e}){const[t,r]=b.useState(0),[n,a]=b.useState({stripe:"",googleMaps:"",resend:""}),[i,o]=b.useState(null),[l,c]=b.useState(!1),[u,d]=b.useState(null);b.useEffect(()=>{if(go.validateProductionConfig().isValid){console.log("✅ Production environment detected with valid config");return}if(go.syncToProduction().then(w=>{w&&console.log("✅ Famous API keys synced successfully")}).catch(w=>{console.warn("API key sync failed:",w)}),!(typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1")))try{const w=dg.getInstance(),N=w.getAllSources();d(N),N.some(S=>Object.keys(S.keys).length>0)&&(c(!0),console.log("🔍 Discovered API keys from Famous setup:",w.generateReport()),Yw.getInstance().start(),c(!1))}catch(w){console.warn("Key discovery failed:",w)}o(Jw.validateAll())},[]);const f=()=>!u||u.every(x=>Object.keys(x.keys).length===0)?null:s.jsxs(I,{className:"mb-6 border-blue-200 bg-blue-50",children:[s.jsx(z,{children:s.jsxs(W,{className:"text-lg text-blue-800 flex items-center gap-2",children:[s.jsx(tr,{className:"h-5 w-5"}),"API Keys Discovered from Famous Setup"]})}),s.jsx(D,{children:s.jsxs("div",{className:"space-y-3",children:[u.map((x,y)=>{const w=Object.keys(x.keys).length;return w===0?null:s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsxs("h4",{className:"font-medium text-gray-800 mb-2",children:["Found in ",x.name," (",w," keys)"]}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.entries(x.keys).map(([N,S])=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-mono text-gray-600",children:N}),s.jsx(J,{variant:"outline",className:"text-xs",children:S.length>10?`${S.slice(0,6)}...${S.slice(-4)}`:S})]},N))})]},y)}),s.jsx("div",{className:"bg-green-50 border border-green-200 p-3 rounded",children:s.jsx("p",{className:"text-sm text-green-800",children:"✅ These keys have been automatically synced to your .env.local file. Restart your development server to apply changes."})})]})})]}),h=[{title:"Supabase Configuration",description:"Database and authentication backend",validation:i==null?void 0:i.supabase,instructions:["1. Go to https://supabase.com and create a new project","2. In your project settings, copy the Project URL","3. Copy the anon/public API key","4. Add to .env.local: VITE_SUPABASE_URL=your-url","5. Add to .env.local: VITE_SUPABASE_ANON_KEY=your-key"]},{title:"Stripe Payment Setup",description:"Payment processing for landscaping services",validation:i==null?void 0:i.stripe,instructions:["1. Create account at https://stripe.com","2. Go to Developers > API Keys in your dashboard","3. Copy the Publishable key (starts with pk_)","4. Copy the Secret key (starts with sk_)","5. Add to .env.local: VITE_STRIPE_PUBLISHABLE_KEY=pk_...","6. Add to .env.local: VITE_STRIPE_SECRET_KEY=sk_..."]},{title:"Google Maps API",description:"Location services and mapping",validation:i==null?void 0:i.googleMaps,instructions:["1. Go to https://console.cloud.google.com","2. Create a new project or select existing","3. Enable Maps JavaScript API","4. Create credentials > API Key","5. Restrict the key to your domain","6. Add to .env.local: VITE_GOOGLE_MAPS_API_KEY=your-key"]},{title:"Resend Email API",description:"Email notifications and communications",validation:i==null?void 0:i.resend,instructions:["1. Sign up at https://resend.com","2. Go to API Keys in your dashboard","3. Create a new API key","4. Copy the key (starts with re_)","5. Add to .env.local: VITE_RESEND_API_KEY=re_..."]}],m=x=>x?x.isValid?s.jsx(Oe,{className:"h-5 w-5 text-green-500"}):s.jsx(gt,{className:"h-5 w-5 text-red-500"}):s.jsx(UEe,{className:"h-5 w-5 text-yellow-500"}),g=x=>x?x.isValid?s.jsx(J,{variant:"default",className:"bg-green-500",children:"Valid"}):s.jsx(J,{variant:"destructive",children:"Invalid"}):s.jsx(J,{variant:"secondary",children:"Not Checked"}),p=()=>{o(Jw.validateAll())},v=i==null?void 0:i.overall.isValid;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"GreenScape Lux Setup Wizard"}),s.jsx("p",{className:"text-gray-600",children:"Configure your API keys to enable all features"})]}),(i==null?void 0:i.overall)&&!i.overall.isValid&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded",children:s.jsx("p",{className:"text-red-800",children:i.overall.message})}),f(),s.jsx("div",{className:"grid gap-6",children:h.map((x,y)=>s.jsxs(I,{className:"relative",children:[s.jsx(z,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[m(x.validation),s.jsxs("div",{children:[s.jsx(W,{className:"text-lg",children:x.title}),s.jsx("p",{className:"text-sm text-gray-600",children:x.description})]})]}),g(x.validation)]})}),s.jsxs(D,{children:[x.validation&&!x.validation.isValid&&s.jsx(ze,{className:"mb-4",children:s.jsx(We,{children:x.validation.message})}),s.jsx("div",{className:"space-y-2",children:x.instructions.map((w,N)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600 min-w-0 flex-1",children:w}),w.includes("https://")&&s.jsx(kf,{className:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"})]},N))})]})]},y))}),s.jsx("div",{className:"mt-6",children:s.jsx(VEe,{})}),s.jsx("div",{className:"mt-6",children:s.jsx(GEe,{})}),s.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[s.jsx(L,{onClick:p,variant:"outline",children:"Refresh Status"}),v?s.jsx(L,{onClick:e,className:"bg-green-600 hover:bg-green-700",children:"Complete Setup"}):s.jsx(L,{disabled:!0,children:"Complete Setup (Fix Issues First)"})]}),s.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Environment File Location"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Create a ",s.jsx("code",{className:"bg-gray-200 px-1 rounded",children:".env.local"})," file in your project root directory and add the API keys as shown above."]})]})]})})}function XEe(){const e=Jw.validateAll(),t=(n,a)=>n?s.jsx(Oe,{className:"h-5 w-5 text-green-600"}):s.jsx(gt,{className:"h-5 w-5 text-red-600"}),r=(n,a)=>n?s.jsx(J,{variant:"default",className:"bg-green-100 text-green-800",children:"Valid"}):s.jsx(J,{variant:"destructive",children:"Invalid"});return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Production Status"}),s.jsx("p",{className:"text-gray-600",children:"System configuration and API key validation status"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs(W,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(g4,{className:"h-4 w-4"}),"Supabase"]}),r(e.supabase.isValid)]}),s.jsx(D,{children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t(e.supabase.isValid),s.jsx("span",{className:"text-sm",children:e.supabase.message})]})})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs(W,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ot,{className:"h-4 w-4"}),"Stripe"]}),r(e.stripe.isValid)]}),s.jsx(D,{children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t(e.stripe.isValid),s.jsx("span",{className:"text-sm",children:e.stripe.message})]})})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs(W,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Bs,{className:"h-4 w-4"}),"Google Maps"]}),r(e.googleMaps.isValid)]}),s.jsx(D,{children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t(e.googleMaps.isValid),s.jsx("span",{className:"text-sm",children:e.googleMaps.message})]})})]}),s.jsxs(I,{children:[s.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs(W,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx($s,{className:"h-4 w-4"}),"Resend"]}),r(e.resend.isValid)]}),s.jsx(D,{children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t(e.resend.isValid),s.jsx("span",{className:"text-sm",children:e.resend.message})]})})]})]}),s.jsxs(I,{className:"mt-6",children:[s.jsx(z,{children:s.jsx(W,{children:"Overall System Status"})}),s.jsx(D,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Critical Services"}),s.jsxs("div",{className:"flex items-center gap-2",children:[e.supabase.isValid?s.jsx(Oe,{className:"h-4 w-4 text-green-600"}):s.jsx(gt,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{className:"text-sm",children:e.supabase.isValid?"Operational":"Issues Detected"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Payment Processing"}),s.jsxs("div",{className:"flex items-center gap-2",children:[e.stripe.isValid?s.jsx(Oe,{className:"h-4 w-4 text-green-600"}):s.jsx(gt,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{className:"text-sm",children:e.stripe.isValid?"Ready":"Configuration Required"})]})]})]})})]})]})})}const AA=({children:e,fallbackRoute:t="/login",showLoadingMessage:r=!0})=>{const n=$e(),a=Ft(),[i,o]=b.useState(!0),[l,c]=b.useState(null);return b.useEffect(()=>{(async()=>{try{o(!0),c(null),await vm.handleGenericDashboardRedirect(a.pathname,n);const d=await vm.getUserRoleInfo();if(!d.isAuthenticated){console.log("❌ User not authenticated, redirecting to:",t),n(t,{replace:!0});return}d.error&&c(d.error),await vm.navigateToRoleDashboard(n,{fallbackRoute:t,onError:c})}catch(d){console.error("❌ Error in IntelligentDashboardRedirect:",d),c(String(d))}finally{o(!1)}})()},[n,a.pathname,t]),i?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(wL,{size:"lg"}),r&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Setting up your dashboard..."}),s.jsx("p",{className:"text-gray-600",children:"Detecting your account type and preparing your personalized experience"})]})]})}):l?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"max-w-md w-full",children:s.jsxs(ze,{className:"border-red-200 bg-red-50",children:[s.jsx(bt,{className:"h-4 w-4 text-red-600"}),s.jsxs(We,{className:"text-red-800",children:[s.jsx("strong",{children:"Dashboard Setup Error:"})," ",l,s.jsx("br",{}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 text-red-600 underline hover:text-red-800",children:"Try again"})]})]})})}):s.jsx(s.Fragment,{children:e})};typeof window<"u"&&!window.__GSL_ONERROR&&(window.__GSL_ONERROR=!0,window.addEventListener("error",e=>{var r;const t=String(((r=e==null?void 0:e.error)==null?void 0:r.message)||(e==null?void 0:e.message)||"Unknown error");console.error("Global error",t,(e==null?void 0:e.error)||e)}),window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection",e==null?void 0:e.reason)}));const Xh=()=>s.jsx(aN,{userType:"client"}),OA=()=>s.jsx(aN,{userType:"landscaper"}),QEe=()=>s.jsx(qU,{children:s.jsx(_z,{children:s.jsx(Ez,{children:s.jsx(IB,{children:s.jsxs(Oz,{children:[s.jsx(Rz,{}),s.jsx(LB,{}),s.jsxs(Xj,{children:[s.jsx(ae,{path:"/",element:s.jsx(Bz,{})}),s.jsx(ae,{path:"/about",element:s.jsx(Mz,{})}),s.jsx(ae,{path:"/professionals",element:s.jsx(w7,{})}),s.jsx(ae,{path:"/terms",element:s.jsx(j7,{})}),s.jsx(ae,{path:"/privacy",element:s.jsx(S7,{})}),s.jsx(ae,{path:"/get-started",element:s.jsx(NEe,{})}),s.jsx(ae,{path:"/get-quote",element:s.jsx(F7,{})}),s.jsx(ae,{path:"/get-quote-enhanced",element:s.jsx(Zs,{to:"/get-quote",replace:!0})}),s.jsx(ae,{path:"/get-a-quote",element:s.jsx(Zs,{to:"/get-quote",replace:!0})}),s.jsx(ae,{path:"/instant-quote",element:s.jsx(Zs,{to:"/get-quote",replace:!0})}),s.jsx(ae,{path:"/quote-form",element:s.jsx(Zs,{to:"/get-quote",replace:!0})}),s.jsx(ae,{path:"/thank-you",element:s.jsx(B7,{})}),s.jsx(ae,{path:"/search",element:s.jsx(Dy,{})}),s.jsx(ae,{path:"/search-jobs",element:s.jsx(Dy,{})}),s.jsx(ae,{path:"/find-landscapers",element:s.jsx(Dy,{})}),s.jsx(ae,{path:"/client-login",element:s.jsx(Xh,{})}),s.jsx(ae,{path:"/client-signup",element:s.jsx(Xh,{})}),s.jsx(ae,{path:"/pro-login",element:s.jsx(OA,{})}),s.jsx(ae,{path:"/pro-signup",element:s.jsx(OA,{})}),s.jsx(ae,{path:"/landscaper-login",element:s.jsx(Zs,{to:"/pro-login",replace:!0})}),s.jsx(ae,{path:"/landscaper-signup",element:s.jsx(Zs,{to:"/pro-signup",replace:!0})}),s.jsx(ae,{path:"/login",element:s.jsx(Xh,{})}),s.jsx(ae,{path:"/signup",element:s.jsx(Xh,{})}),s.jsx(ae,{path:"/admin-login",element:s.jsx(zH,{})}),s.jsx(ae,{path:"/auth",element:s.jsx(aN,{})}),s.jsx(ae,{path:"/reset-password",element:s.jsx(qH,{})}),s.jsx(ae,{path:"/forgot-password",element:s.jsx(Zs,{to:"/login",replace:!0})}),s.jsx(ae,{path:"/client-dashboard/*",element:s.jsx(tt,{requiredRole:"client",children:s.jsx(XSe,{})})}),s.jsx(ae,{path:"/dashboard/*",element:s.jsx(AA,{})}),s.jsx(ae,{path:"/dashboard",element:s.jsx(AA,{})}),s.jsx(ae,{path:"/landscaper-dashboard/*",element:s.jsx(tt,{requiredRole:"landscaper",children:s.jsx(wA,{})})}),s.jsx(ae,{path:"/pro-dashboard/*",element:s.jsx(tt,{requiredRole:"landscaper",children:s.jsx(wA,{})})}),s.jsx(ae,{path:"/landscaper-jobs",element:s.jsx(tt,{requiredRole:"landscaper",children:s.jsx(nK,{})})}),s.jsx(ae,{path:"/new-requests",element:s.jsx(tt,{requiredRole:"landscaper",children:s.jsx(sK,{})})}),s.jsx(ae,{path:"/job-complete/:jobId",element:s.jsx(tt,{requiredRole:"landscaper",children:s.jsx(aK,{})})}),s.jsx(ae,{path:"/landscaper-onboarding",element:s.jsx(tt,{requiredRole:"landscaper",children:s.jsx(oK,{})})}),s.jsx(ae,{path:"/landscaper-profile",element:s.jsx(tt,{requiredRole:"landscaper",children:s.jsx(VK,{})})}),s.jsx(ae,{path:"/landscaper-earnings",element:s.jsx(tt,{requiredRole:"landscaper",children:s.jsx(mEe,{})})}),s.jsx(ae,{path:"/landscaper-payouts",element:s.jsx(tt,{requiredRole:"landscaper",children:s.jsx(_A,{})})}),s.jsx(ae,{path:"/pro-payouts",element:s.jsx(tt,{requiredRole:"landscaper",children:s.jsx(_A,{})})}),s.jsx(ae,{path:"/client-quote",element:s.jsx(tt,{requiredRole:"client",children:s.jsx(zK,{})})}),s.jsx(ae,{path:"/admin-dashboard",element:s.jsx(tt,{requiredRole:"admin",children:s.jsx(k1e,{})})}),s.jsx(ae,{path:"/admin",element:s.jsx(tt,{requiredRole:"admin",children:s.jsx(VH,{})})}),s.jsx(ae,{path:"/business-automation",element:s.jsx(tt,{requiredRole:"admin",children:s.jsx(SEe,{})})}),s.jsx(ae,{path:"/notifications",element:s.jsx(tt,{requiredRole:"admin",children:s.jsx(CEe,{})})}),s.jsx(ae,{path:"/ai-quotes",element:s.jsx(tt,{requiredRole:"admin",children:s.jsx($Ee,{})})}),s.jsx(ae,{path:"/setup",element:s.jsx(JEe,{onComplete:()=>window.location.href="/"})}),s.jsx(ae,{path:"/status",element:s.jsx(XEe,{})}),s.jsx(ae,{path:"/profile",element:s.jsx(tt,{requiredRole:"client",children:s.jsx(tNe,{})})}),s.jsx(ae,{path:"/billing/history",element:s.jsx(tt,{requiredRole:"client",children:s.jsx(rNe,{})})}),s.jsx(ae,{path:"/subscriptions",element:s.jsx(tt,{requiredRole:"client",children:s.jsx(iNe,{})})}),s.jsx(ae,{path:"/client-history",element:s.jsx(tt,{requiredRole:"client",children:s.jsx(eNe,{})})}),s.jsx(ae,{path:"/chat",element:s.jsx(tt,{requiredRole:"client",children:s.jsx(oNe,{})})}),s.jsx(ae,{path:"/payments/overview",element:s.jsx(tt,{requiredRole:"client",children:s.jsx(MEe,{})})}),s.jsx(ae,{path:"/payments/methods",element:s.jsx(tt,{requiredRole:"client",children:s.jsx(DEe,{})})}),s.jsx(ae,{path:"/payments/subscriptions",element:s.jsx(tt,{requiredRole:"client",children:s.jsx(FEe,{})})}),s.jsx(ae,{path:"/payments/security",element:s.jsx(tt,{requiredRole:"client",children:s.jsx(BEe,{})})}),s.jsx(ae,{path:"/payments",element:s.jsx(Zs,{to:"/payments/overview",replace:!0})}),s.jsx(ae,{path:"*",element:s.jsx(U7,{})})]})]})})})})}),ZEe=()=>{var r;const e=typeof window<"u"&&((r=window.import)==null?void 0:r.meta),t=(e==null?void 0:e.env)||{};return console.log("import.meta.env available:",!!e),console.log("VITE_SUPABASE_URL:",t.VITE_SUPABASE_URL||"UNDEFINED"),console.log("VITE_SUPABASE_ANON_KEY:",t.VITE_SUPABASE_ANON_KEY?"SET":"UNDEFINED"),console.log("DEV mode:",t.DEV),console.log("Environment object keys:",Object.keys(t)),{hasImportMeta:!!e,env:t,supabaseUrl:t.VITE_SUPABASE_URL,supabaseKey:t.VITE_SUPABASE_ANON_KEY,isDev:t.DEV}};var TA,RA;const e2e=typeof window<"u"&&((RA=(TA=window.import)==null?void 0:TA.meta)==null?void 0:RA.env)||{};e2e.DEV&&ZEe();class bm{static sanitizeEmail(t){return!t||typeof t!="string"?"":t.trim().toLowerCase().replace(/[<>'"]/g,"")}static sanitizePhone(t){return!t||typeof t!="string"?"":t.replace(/[^\d\-\+\(\)\s]/g,"").trim()}static sanitizeName(t){return!t||typeof t!="string"?"":t.replace(/[<>'"&]/g,"").replace(/[^\w\s\-']/g,"").trim().slice(0,100)}static sanitizeAddress(t){return!t||typeof t!="string"?"":t.replace(/[<>'"]/g,"").trim().slice(0,200)}static sanitizeText(t,r=1e3){return!t||typeof t!="string"?"":t.replace(/[<>]/g,"").trim().slice(0,r)}static sanitizeUrl(t){if(!t||typeof t!="string")return"";try{const r=new URL(t);return r.protocol!=="http:"&&r.protocol!=="https:"?"":r.toString()}catch{return""}}static sanitizeFormData(t){const r={};for(const[n,a]of Object.entries(t))if(typeof a=="string")switch(n){case"email":r[n]=this.sanitizeEmail(a);break;case"phone":r[n]=this.sanitizePhone(a);break;case"firstName":case"lastName":case"name":r[n]=this.sanitizeName(a);break;case"address":case"street":case"city":case"state":r[n]=this.sanitizeAddress(a);break;case"website":case"url":r[n]=this.sanitizeUrl(a);break;default:r[n]=this.sanitizeText(a)}else r[n]=a;return r}static createRateLimiter(t,r){const n=new Map;return{isLimited:a=>{const i=Date.now(),o=n.get(a);return!o||i>o.resetTime?(n.set(a,{count:1,resetTime:i+r}),!1):o.count>=t?!0:(o.count++,!1)},reset:a=>{n.delete(a)}}}}const t2e={"Content-Security-Policy":["default-src 'self'","script-src 'self' 'unsafe-inline' 'unsafe-eval' https://js.stripe.com https://maps.googleapis.com","style-src 'self' 'unsafe-inline' https://fonts.googleapis.com","font-src 'self' https://fonts.gstatic.com","img-src 'self' data: https: blob:","connect-src 'self' https://mwvcbedvnimabfwubazz.supabase.co https://api.stripe.com https://maps.googleapis.com","frame-src https://js.stripe.com https://hooks.stripe.com","object-src 'none'","base-uri 'self'"].join("; ")},r2e={...t2e,"X-Content-Type-Options":"nosniff","X-Frame-Options":"DENY","X-XSS-Protection":"1; mode=block","Referrer-Policy":"strict-origin-when-cross-origin","Permissions-Policy":"camera=(), microphone=(), geolocation=(self)"},xl={auth:{maxAttempts:5,windowMs:15*60*1e3},api:{maxAttempts:100,windowMs:60*1e3},upload:{maxAttempts:10,windowMs:60*1e3}},n2e={auth:bm.createRateLimiter(xl.auth.maxAttempts,xl.auth.windowMs),api:bm.createRateLimiter(xl.api.maxAttempts,xl.api.windowMs),upload:bm.createRateLimiter(xl.upload.maxAttempts,xl.upload.windowMs)};function s2e(e){const t=[],r=bm.sanitizeFormData(e);return e.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)&&t.push("Invalid email format"),e.password&&e.password.length<8&&t.push("Password must be at least 8 characters"),e.phone&&r.phone&&!/^[\d\-\+\(\)\s]{10,}$/.test(r.phone)&&t.push("Invalid phone number format"),{isValid:t.length===0,errors:t,sanitized:r}}function a2e(){const e=[];if(typeof window<"u"){const t=window.location.hostname!=="localhost",r=window.location.protocol==="https:";t&&!r&&e.push("Application should run over HTTPS in production")}return typeof window<"u"&&window.location.hostname!=="localhost"&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&e.push("React DevTools detected in production build"),{isSecure:e.length===0,warnings:e}}class QL{constructor(t={}){Fe(this,"options");this.options={enableRateLimit:!0,enableCSP:!0,enableXSSProtection:!0,...t}}applySecurityHeaders(t){if(!this.options.enableCSP)return t;const r=new Headers(t.headers);return Object.entries(r2e).forEach(([n,a])=>{r.set(n,a)}),this.options.customHeaders&&Object.entries(this.options.customHeaders).forEach(([n,a])=>{r.set(n,a)}),new Response(t.body,{status:t.status,statusText:t.statusText,headers:r})}checkRateLimit(t,r="api"){return this.options.enableRateLimit?!n2e[r].isLimited(t):!0}validateRequest(t){return s2e(t)}createSecureFetch(){return async(t,r={})=>{if(!this.checkRateLimit("global-api"))throw new Error("Rate limit exceeded");const n={...r,headers:{"X-Requested-With":"XMLHttpRequest",...r.headers}};return fetch(t,n)}}}new QL;const i2e=b.createContext(null);function o2e({children:e,enableRateLimit:t=!0,enableCSP:r=!0}){const[n]=b.useState(()=>new QL({enableRateLimit:t,enableCSP:r,enableXSSProtection:!0})),[a,i]=b.useState({isSecure:!0,warnings:[]});b.useEffect(()=>{const c=a2e();i(c),c.warnings.length>0},[]);const o=()=>{if(typeof document<"u"){const c=document.createElement("meta");c.httpEquiv="Content-Security-Policy",c.content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://js.stripe.com https://maps.googleapis.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' data: https: blob:; connect-src 'self' https://mwvcbedvnimabfwubazz.supabase.co https://api.stripe.com https://maps.googleapis.com;",document.head.appendChild(c)}},l={middleware:n,isSecure:a.isSecure,warnings:a.warnings,enforceCSP:o};return s.jsx(i2e.Provider,{value:l,children:e})}const Ns=e=>{var t,r;try{return typeof globalThis<"u"&&((r=(t=globalThis.import)==null?void 0:t.meta)!=null&&r.env)?globalThis.import.meta.env[e]:void 0}catch{return}},l2e=!!(Ns("VITE_SUPABASE_URL")&&Ns("VITE_SUPABASE_ANON_KEY")),c2e=()=>{(Ns("DEV")||Ns("MODE")==="development")&&(console.log("🔍 Environment Variables Check:"),console.log("VITE_SUPABASE_URL:",Ns("VITE_SUPABASE_URL")?"✅ Set":"❌ Missing"),console.log("VITE_SUPABASE_ANON_KEY:",Ns("VITE_SUPABASE_ANON_KEY")?"✅ Set":"❌ Missing"),console.log("VITE_SUPABASE_FUNCTIONS_URL:",Ns("VITE_SUPABASE_FUNCTIONS_URL")?"✅ Set":"❌ Missing"),console.log("VITE_ADMIN_EMAIL:",Ns("VITE_ADMIN_EMAIL")?"✅ Set":"❌ Missing"),console.log("📋 Raw values:"),console.log("  URL:",Ns("VITE_SUPABASE_URL")||"undefined"),console.log("  Key:",Ns("VITE_SUPABASE_ANON_KEY")?"[PRESENT]":"undefined"),l2e?console.log("✅ All required environment variables are properly set"):(console.warn("⚠️ Missing environment variables detected!"),console.log("🔧 Quick fixes:"),console.log("  1. Create .env.local file: cp .env.local.template .env.local"),console.log("  2. Restart dev server: npm run dev"),console.log("  3. For production: Set Vercel environment variables")))},io=class io{constructor(){Fe(this,"validation",null);Fe(this,"isInitialized",!1)}static getInstance(){return io.instance||(io.instance=new io),io.instance}async initializeForRoute(t,r){const n=this.determineRouteType(t),i={...{strictMode:n==="admin"&&At.app.environment==="production",allowPlaceholders:At.app.environment==="development",requiredServices:this.getRequiredServicesForRoute(n),routeType:n},...r};console.log(`🔒 EnvironmentGuard: Initializing for ${n} route with config:`,i);try{if(this.validation=es.validateAllKeys(At),this.logValidationResults(this.validation,i),n==="admin"){if(!this.validation.allValid){const o=this.validation.errors.filter(l=>i.requiredServices.some(c=>l.includes(c)));if(o.length>0&&(console.error("🚨 Admin route - Critical services missing:",o),i.strictMode))throw new Error(`Admin dashboard requires: ${o.join(", ")}`)}}else if(!this.validation.allValid){const o=this.validation.errors.filter(l=>i.requiredServices.some(c=>l.includes(c)));o.length>0&&(console.warn(`⚠️ ${n} route - Some services unavailable:`,o),console.warn("🔧 App will continue with limited functionality"))}if(!i.allowPlaceholders&&this.validation.placeholderKeys.length>0){const o=this.validation.placeholderKeys.filter(l=>i.requiredServices.includes(l));if(o.length>0&&n==="admin")throw new Error(`Admin dashboard - Placeholder values detected: ${o.join(", ")}`);o.length>0&&console.warn(`⚠️ ${n} route - Placeholder values found:`,o)}return this.isInitialized=!0,this.validation}catch(o){if(n==="admin")throw console.error("🚨 EnvironmentGuard: Admin validation failed:",o),o;return console.warn("⚠️ EnvironmentGuard: Non-admin validation issues (non-blocking):",o),this.validation||{allValid:!1,errors:[],warnings:[],placeholderKeys:[]}}}async initialize(t){return this.initializeForRoute(void 0,t)}determineRouteType(t){return t||typeof window<"u"&&(t=window.location.pathname),t?t.includes("/admin")?"admin":t.includes("/client")||t.includes("/dashboard")?"client":t.includes("/landscaper")||t.includes("/pro")?"landscaper":"public":"public"}getRequiredServicesForRoute(t){switch(t){case"admin":return["Supabase URL","Supabase Anon Key","Stripe Publishable Key","Google Maps API Key","Resend API Key"];case"client":case"landscaper":return["Supabase URL","Supabase Anon Key"];case"public":default:return["Supabase URL","Supabase Anon Key"]}}logValidationResults(t,r){const n=r.routeType?`[${r.routeType.toUpperCase()}]`:"";if(t.allValid)console.log(`✅ EnvironmentGuard ${n}: All environment variables validated successfully`);else{const a=r.routeType==="admin"?"error":"warn";console[a](`⚠️ EnvironmentGuard ${n}: Environment validation issues detected`),t.errors.length>0&&console[a]("❌ Errors:",t.errors),t.warnings.length>0&&console.warn("⚠️ Warnings:",t.warnings),t.placeholderKeys.length>0&&console.warn("🔧 Placeholder keys found:",t.placeholderKeys)}}getValidation(){return this.validation}isValid(){var t;return((t=this.validation)==null?void 0:t.allValid)??!1}getErrors(){var t;return((t=this.validation)==null?void 0:t.errors)??[]}getWarnings(){var t;return((t=this.validation)==null?void 0:t.warnings)??[]}hasPlaceholders(){var t;return(((t=this.validation)==null?void 0:t.placeholderKeys.length)??0)>0}isServiceConfigured(t){return this.validation?this.validation.errors.filter(n=>n.toLowerCase().includes(t.toLowerCase())).length===0:!1}validateService(t){switch(t){case"supabase":return es.validateSupabaseUrl(At.supabase.url).isValid&&es.validateSupabaseAnonKey(At.supabase.anonKey).isValid;case"stripe":return es.validateStripePublishableKey(At.stripe.publishableKey).isValid;case"googleMaps":return es.validateGoogleMapsKey(At.googleMaps.apiKey).isValid;case"resend":return es.validateResendKey(At.resend.apiKey).isValid;default:return!1}}debugConfiguration(){if(At.app.environment!=="development"){console.warn("🚫 Debug configuration only available in development mode");return}console.group("🔧 Environment Configuration Debug"),console.log("Environment:",At.app.environment),console.log("Supabase URL:",At.supabase.url?"✅ Configured":"❌ Missing"),console.log("Supabase Key:",At.supabase.anonKey?"✅ Configured":"❌ Missing"),console.log("Stripe Key:",At.stripe.publishableKey?"✅ Configured":"❌ Missing"),console.log("Google Maps Key:",At.googleMaps.apiKey?"✅ Configured":"❌ Missing"),console.log("Resend Key:",At.resend.apiKey?"✅ Configured":"❌ Missing"),this.validation&&(console.log("Validation Status:",this.validation.allValid?"✅ Valid":"❌ Invalid"),this.validation.allValid||(console.log("Errors:",this.validation.errors),console.log("Warnings:",this.validation.warnings))),console.groupEnd()}};Fe(io,"instance");let Xw=io;const u2e=Xw.getInstance();console.group("🔍 Vercel Environment Variables Debug");console.log("Build Mode:","production");console.log("Is Production:",!0);console.log("Is Development:",!1);console.log(`
📦 Environment Variables (injected at build time):`);console.log("VITE_SUPABASE_URL:","❌ UNDEFINED");console.log("VITE_SUPABASE_ANON_KEY:","❌ UNDEFINED");console.log("VITE_STRIPE_PUBLISHABLE_KEY:","❌ UNDEFINED");console.log("VITE_GOOGLE_MAPS_API_KEY:","❌ UNDEFINED");console.log(`
💡 If all show ❌ UNDEFINED, environment variables are NOT configured in Vercel Dashboard`);console.log("📝 Action Required: Add VITE_* variables to Vercel → Settings → Environment Variables");console.groupEnd();u2e.initializeForRoute(window.location.pathname,{strictMode:!0,allowPlaceholders:!1}).catch(e=>{Vo(async()=>{const{logger:t}=await Promise.resolve().then(()=>WH);return{logger:t}},void 0).then(({logger:t})=>{if(t.error("Environment validation failed",e,"MainApp"),window.location.pathname.includes("/admin"))throw e;console.warn("⚠️ Environment validation issues detected but continuing for non-admin route")})});c2e();Pz();KT(document.getElementById("root")).render(s.jsx(b.StrictMode,{children:s.jsx(o2e,{enableCSP:!0,enableRateLimit:!0,children:s.jsx(Iz,{children:s.jsx(QEe,{})})})}));
